var APP_NAME = "FDC",
  APP_NGCLARITY = "dell.ngclarity",
  EVENT_TREE_NODE_CHANGED = "TREE_NODE_CHANGED";

// Remove from array
if (!Array.prototype.remove) {
  Array.prototype.remove = function (vals, all) {
    var i, removedItems = [];
    if (!Array.isArray(vals)) vals = [vals];
    for (var j = 0; j < vals.length; j++) {
      if (all) {
        for (i = this.length; i--;) {
          if (this[i] === vals[j]) removedItems.push(this.splice(i, 1));
        }
      }
      else {
        i = this.indexOf(vals[j]);
        if (i > -1) removedItems.push(this.splice(i, 1));
      }
    }
    return removedItems;
  };
}

function Detect_IE_Version() {
  var userAgent = window.navigator.userAgent;

  var trident = userAgent.indexOf('Trident/');
  if (trident > 0) {
    var userAgentrv = userAgent.indexOf('rv:');
    return parseInt(userAgent.substring(userAgentrv + 3, userAgent.indexOf('.', userAgentrv)), 10);
  }

  var userAgentEdge = userAgent.indexOf('Edge/');
  if (userAgentEdge > 0) {
    return parseInt(userAgent.substring(userAgentEdge + 5, userAgent.indexOf('.', userAgentEdge)), 10);
  }

  var userAgentMSIE = userAgent.indexOf('MSIE ');
  if (userAgentMSIE > 0) {
    return parseInt(userAgent.substring(userAgentMSIE + 5, userAgent.indexOf('.', userAgentMSIE)), 10);
  }

  return false;
}

window.onbeforeunload = function() {
  return '';
}

window.onload = function () {

  var unSupportedBrowser = '<nav class="navbar navbar-inverse firstHeaderBg">' +
    '<div class="container-fluid">' +
    '<div class="navbar-header">' +
    '<div class="navbar-brand header-logo" name="fdc_application_title">' +
    '<img alt="Dell Technologies Logo" src="styles/images/logos/DellTech_Logo_Prm_Wht_rgb.png" />' +
    '</div>' +
    '<span class="logo-text">Fabric Design Center</span>' +
    '</div>' +
    '</div>' +
    '</nav>' +
    '<div class="container-fluid"><div class="row v-space30 unsupported-select">' +
    '<div class="col-sm-push-2 col-sm-9">Fabric Design Center is not supported in this browser. It is recommended to use one of the following supported browsers -<br/><br/>' +
    '<div class="row"><div class="col-sm-push-4 col-sm-4">Mozilla Firefox <br/> Google Chrome<br/> Microsoft Edge<br/> Apple Safari<br/><br/></div></div></div>' +
    '<div class="col-sm-push-2 col-sm-9">You can copy and paste the URL <strong>https://fdc.emc.com</strong> in one of these browsers to access Fabric Design Center. </div>' +
    '</div></div>' +
    '<footer class="footer">' +
    '<div class="container-fluid"><span class="feedback ng-binding">&copy;2025 Dell, Inc.</span></div>' +
    '</footer>';
  if (Detect_IE_Version() != false && Detect_IE_Version() < 12) {
    document.body.innerHTML = unSupportedBrowser;
  } else {
    if (location.hash == "#!/fabric-input" || location.hash == "#!/fabric-output") {
      location.hash = "#!/network-fabric";
    }
  }

};

angular
	.module(APP_NAME, [
		APP_NGCLARITY,
		'ngCookies',
		'ngResource',
		'ui.router',
		//'ui.router.stateHelper',
		'ngSanitize',
		'ngAnimate',
		'ngTouch',
		'pascalprecht.translate',
		'ui.bootstrap',
		'angularFileUpload',
		'ui.carousel',
		'toaster',
		'ngFileSaver',
		'angularSpinner',
		'mnBusy',
		'ngIdle',
		'angularjs-dropdown-multiselect',
		'diff-match-patch'
	]).run(['$rootScope', '$http', '$cookies', 'fabricService', '$templateCache', '$state', 'Idle', function ($rootScope, $http, $cookies, fabricService, $templateCache, $state, Idle) {
		$rootScope.busy = true;
		$rootScope.authorized = false;
		/* introducing a header variable to store data in local storage */
		$http.defaults.headers.common.AcceptMethod = 'read';
		$templateCache.put('mnBusy/spinjs.html',
			"<div class=\"busy-overlay-container\"><div ng-if=\"$tracker.isBusy()\"><span class=\"busy-overlay-sign\"><div class=\"spinner-ring\"><div></div><div></div><div></div><div></div></div><div class=\"busy-overlay-backdrop\"></div></div><div ng-transclude></div></div>"
		);
		Idle.watch();
		
		$http.get('/rest/auth')
			.then(function (response) {
				//do nothing
				if (response.data.identityType && response.data.identityType != 'C') {
					$rootScope.userType = 'notAcustomer';
				}
				if (response.data.identityType && response.data.identityType != 'X') {
					$rootScope.authorized = true;
				}
				console.log(response)
				console.log(response.data)
				console.log(response.data.identityType)				
				if (response.data.identityType==undefined || response.data.identityType=='X')
				{
					$rootScope.logoutPage('You are not authorized to access Fabric Design Center.');													
				}
				else
				{
					$state.go('tnc')
				}
			}, function () {
				fabricService.removeData();
				$http.post('/rest/auth', {})
					.then(function (response) {
						if (response.data.identityType && response.data.identityType != 'C') {
							$rootScope.userType = 'notAcustomer';
						}
						if (response.data.identityType && response.data.identityType != 'X') {
							$rootScope.authorized = true;
						}
						console.log(response)
						console.log(response.data)
						console.log(response.data.identityType)				
						if (response.data.identityType==undefined || response.data.identityType=='X')
						{
							$rootScope.logoutPage('You are not authorized to access Fabric Design Center.');													
						}
						else
						{
							$state.go('tnc')
						}
						
					}, function (response) {
						console.log(response)
						if (response.status == 403||response.status == -1) {
							$rootScope.logoutPage('You are not authorized to access Fabric Design Center.');
						}
						else
						{
							console.log(81)
							$rootScope.authorized = true;
							$state.go('tnc')
						}
					});
			});
	}])
	.value('busyDefaultsSpinjs', {
		templateUrl: 'mnBusy/spinjs.html',
		options: { lines: 9, radius: 11, width: 5, length: 9 }
	})
	.config(['IdleProvider', 'KeepaliveProvider', function (IdleProvider, KeepaliveProvider) {
		// configure Idle settings
		IdleProvider.idle(5); // in seconds
		IdleProvider.timeout(5); // in seconds
		KeepaliveProvider.interval(2); // in seconds
	}]);
angular.module(APP_NAME)
	.constant('AppTranslations',
	{			/* Please maintain property names in alphabet order... */
		en: {
			general: {
				actions: 'Actions',
				appName: 'Fabric Design Center',
				appliance: 'Appliance',
				apply:'Apply',
				add: 'Add',
				autopopulate:'Auto Populate',
				and: 'and',
				browseFabric: 'Browse Fabric JSON File',
				browseFile: 'Browse file',
				browseConfigFile: 'Browse OS9 config file',
				buildNetworkDesign: 'Build-Your-Own Network Design',
				cablesAndOptics: 'Cables and Optics',
				cablesOptics: {
					useCase: 'Use Case',
					networkProduct: 'Network Product',
					switchToSwitch: 'Switch to Switch',
					serverToSwitch: 'Server to Switch',
					storageToSwitch: 'Storage to Switch',
					networkProductId: 'Network Product ID',
					transceiver: 'Transceiver',
					cableType: 'Cable Type',
					dataRate: 'Data Rate',
					formFactor: 'Form Factor',
					reach: 'Reach',
					softwareRelease: 'Software Release',
					partNo:'Dell Part No',
					factoryMOD: 'Factory Install MOD',
					factorySKU:'Factory Install SKU',
					custKitMOD:'Cust Kit (APOS) MOD',
					custKitSKU: 'Cust Kit (APOS) SKU'
				},
				cancel: 'Cancel',
				clusterDetails: 'Cluster Details',	
				nodePoolDetails:'Node Pool Details',
				domainDetails: 'Domain',		
				clusterType: {
					compute: 'Compute',
					compute_nsx: 'Workloads',
					management_nsx: 'Management',
					management: 'Management',
					edge: 'Edge',
					storage: 'Storage'
				},
				copyright: '2025 Dell, Inc.',
				comment: 'Comment',
				conditions: 'Conditions',
				confirm: 'Confirm',
				configConversion: 'Config Conversion',
				design: 'Design',
				describeNetworkFabric: 'Describe Network Fabric Intent',
				delete: 'Delete',
				deleteWarning: 'Are you sure you want to Delete?',
				downloadAll: 'Download All',
				download: 'Download',
				dragFileHere: 'Drag a file here to upload',
				edit: 'Edit',
				enter: 'Enter',
				fabricConfirm: 'You have unsaved changes, do you want to save them before you continue?',
				fabricImport: 'Network Fabric Import',
				fabricPSImport: 'Powersizer JSON Import',
				fabricSolution: 'Network Fabric Solution',
				fabricSolutionVxRail: 'Network Fabric for Hyper-Converged Infrastructure using VxRail Appliances',
				feedback: 'Feedback',
				feedbackTypeTitle: 'Type',
				feedbackTitle: 'Title',
				feedbackMessage: 'Message',
				attachment: 'Attachment',
				generate:'Generate',
				help: 'User Guide',
				whatsNew: "What's New",
				import: 'Import Network Design',
				importPS: 'Import Powersizer Json',
				importPEQ: 'Import VxRail PEQ Tool JSON Output',
				ID: 'ID',
				logout: 'Logout',
				loggedout: 'Are you sure you want to Logout?',
				login: 'Login',
				loading: 'Loading',
				model: 'Model',
				name: 'Name',
				next: 'Next',
				networkConnectivityOption:"Network Connectivity Option",
				noDataAvailable: 'No Data Available',
				nodeDetails: 'System Details',
				nodePoolDetails:'Node Pool Details',
				note: 'Note',
				OR: 'OR',
				OK: 'OK',
				YES: 'YES',
				NO :'NO',
				OS9toOS10Conversion: 'OS9 to OS10 Config Conversion',
				terms: 'Terms',
				termsOfUse: 'Terms of Use',
				turnkeyNetworkDesign: 'Turnkey Network Design',
				verticalSolutionsDesign: 'Workload Solutions Design',
				print: 'Print',
				privacyStatement: 'Privacy Statement',
				remove: 'Remove',
				selectFabric: 'Select Fabric JSON File',
				selectPSFabric: 'Select Powersizer OSC JSON File',
				selectConfigFile: 'Select OS9 Config File',
				selectFile: 'Select file',
				selectToDelete: 'Select atleast one item to delete',
				series: 'Series',
				size: 'Size',
				solutions: {
					HCI_VXRAIL: 'VxRail',
					HCI_NSX_VXRAIL: 'VCF',					
					HCI_VXRAILlabel: 'VxRail',
					HCI_NSX_VXRAILlabel: 'VCF',
					SAP_HANA:'SAPHANA',
					SAP_HANAlabel:'Sap Hana',					
					HCI_XC: 'XC',
					HCI_XClabel: 'XC Series',
					HCI_VSANREADY: 'vSAN',
					HCI_VSANREADYlabel: 'vSAN Ready',
					GENERIC_COMPUTE: 'Compute',
					GENERIC_COMPUTElabel: 'Server', 
					ISILON_STORAGE: 'PowerScale',
					ISILON_STORAGElabel: 'PowerScale',
					ISILON_BACKEND_STORAGE : 'NodePool',
					ISILON_BACKEND_STORAGElabel: 'Isilon',
					POWERSCALE_STORAGElabel: 'PowerScale',					
					POWERSCALE_STORAGE:'PowerScale',
					UNITY_STORAGE: 'Unity',
					UNITY_STORAGElabel: 'Unity',
					ECS_STORAGE: 'ECS',
					ECS_STORAGElabel: 'ECS',
					POWERSTORE_STORAGE: 'PowerStore',
					POWERSTORE_STORAGElabel: 'PowerStore',
					ASHCI: 'ASHCI',
					ASHCIlabel: 'Azure Stack HCI',
					HCI_VXFLEX: "VxFlex",
					HCI_VXFLEXlabel: "VxFlex",
					HCI_POWERFLEX_Appliance: "PowerFlexApp",					
					HCI_POWERFLEX_Appliancelabel: "PowerFlex Appliance",										
					MX_CHASSIS:"Scalable Fabric Details"
				},
				solution_type: 'Solution Type',
				storageSupportProtocol: 'Storage Support Protocol',
				success: 'Success',
				unsavedMessage: 'Unsaved fabric inputs will be lost, do you want to continue?',
				upload: 'Upload',
				uploadNote: 'Upload a fabric data in JSON file format',
				uploadPSNote: 'Upload Powersizer OSC Quotes in JSON file format',
				uploadSuccess: 'Fabric imported sucessfully!',
				uploadSuccessTitle: 'Fabric Import',
				uploadErrorTitle: 'Error in file',
				uploadError: 'Please verify the file type or content..!',
				warning: 'Warning'
			},
			fabricInput: {
				enableSingleRackDeploymentText:'Allow Multiple Clusters in Single Rack',
				enableLeafSpineOption:'Leverage Leaf and Spine Fabric',
				enableSinglePodDeploymentText:'Allow Multiple Fabrics in Single Pod',
				enableSingleRackComputeDeploymentText:'Allow Multiple Compute Clusters in Single Rack',
				clusterDetails: 'Cluster Details',
				nodePoolDetails:'Node Pool Details',
				clusterNodeDetails: 'Cluster/Node Details',
				nodepoolAvailable:'Node Pool Avaialble',
				clustersAvailable: 'Clusters Available',
				addClusterDetailsMsg: 'cluster details',
				fault1: 'Storage 1 (Fault Domain 1)',
				fault2: 'Storage 2 (Fault Domain 2)',
				getRecommendation: 'Get Recommendation',
				lagModeInfo: 'It is recommended to use the default bond mode Switch Independent/Active-Standby for the initial cluster configuration',
				maxNodes: 'Max Nodes',
				maxappliance:'Max Appliance',
				networkName: 'Network Fabric Name',
				SolutionName:'Solution Name',
				noOfNode: 'No of Nodes',
				noofappliance: 'No of Appliance',
				clusterType:'Cluster Type',
				networkIntent: 'VxRail Cluster Properties',
				mgmtVlan: 'Management VLAN',
				extmgmtVlan:'External Management VLAN',
				publicVlan: 'Public VLAN',
				replicationVlan: 'Replication VLAN',
				dataVlan:'Data VLAN',
				nativeVlan: 'Native VLAN',
				sanVlan: 'SAN VLAN',
				nasNetworks: 'NAS Networks',
				storageVlan: 'Storage VLAN',
				pvtMgmtVlan: 'Internal Management VLAN',
				vSanVlan: 'vSAN VLAN',
				vMotionVlan: 'vMotion VLAN',
				saphanatraffic:'Sap Hana Traffic VLAN',		
				witnesstraffic: 'Witness Traffic Separation VLAN',		
				hyperMigrationVlan: 'Hypervisor Migration VLAN',
				osinstallationVlan:'OS Installation VLAN',
				hyperMgmtVlan: 'Hypervisor Management VLAN',
				osmgmtVlan: 'PowerFlex Management VLAN',
				svmMgmtVlan: 'VxFlex Management VLAN',
				svmData1Vlan: 'VxFlex Data1 VLAN',
				svmData2Vlan: 'VxFlex Data2 VLAN',
				oracledb_publicVlan: 'Oracle Public Vlan',
				oracledb_rac_privateVlan:'Oracle RAC Private Interconnect Vlan',
				replication1Vlan:'PowerFlex Replication 1 Vlan',
				replication2Vlan:'PowerFlex Replication 2 Vlan',
				osData1Vlan: 'OS Data 1 VLAN',
				osData2Vlan: 'OS Data 2 VLAN',
				powerflexappData1Vlan:'PowerFlex Data 1',
				powerflexappData2Vlan:'PowerFlex Data 2',
				powerflexappData3Vlan:'PowerFlex Data 3',
				powerflexappData4Vlan:'PowerFlex Data 4',
				edgeoverlayVlan:'Edge Overlay VLAN',
				hostoverlayVlan:'Host Overlay VLAN',
				uplink01Vlan:'Uplink 01 VLAN',
				uplink02Vlan:'Uplink 02 VLAN',			
				preConfVmNetworks: 'Pre-Configure VM Networks',
				preConfNasNetworks: 'Pre-Configure NAS Networks',
				PCIwarning: 'Warning: Adding PCIe NIC cards to Ready Nodes deviates from the validated bundle configuration of the appliance.',
				pleaseAdd: 'Please add',
				vmNetworks: 'VM Networks',
				storageNetworks:'Storage Networks',
				nasNetworks: 'NAS Networks',
				appNetworks:'Application Networks',
				stNetworks:'Storage Networks',
				clusterPorperties: 'Cluster Properties',
				teamingBonding: 'Teaming / Bonding',
				interfaces: 'Interfaces',
				san_interfaces: 'SAN Interfaces',
				loadBalancingLAGmode: 'Load Balancing / LAG Mode',
				NICteamBond: 'NIC Team / Bond',
				tor:'TOR',
				vmNetworksReq: 'Add VM Network VLANs as required.',
				storageNetworksReq: 'Add Storage Network VLANs as required.',
				nasNetworksReq: 'Add NAS Network VLANs as required.',
				appNetworksReq: 'Add Application Network VLANs as required.',
				stNetworksReq: 'Add Storage Network VLANs as required.',
				networkFabric:{
                      fabricName:'Network Fabric Name',
					  networkDesign:'Fabric Design',
					  noOfWorkloadRacks:'Number of Racks',
					  networkOverlay: 'Network Overlay',
					  irb_type: 'IRB Type',
					  nokia_version: 'Nokia Version',
					  ecmp:'ECMP',
					  fabric_type:'Fabric Type',
					  interlinkRoutingProtocol:'Fabric Routing Protocol',
					  interlinkRoutingConnectivity:'Fabric Routing Connectivity',
					  uplinkConnectivity:'External Network Connectivity',
					  uplinkRoutingProtocol:'External Network Routing Protocol',
					  multichassisLagToUplink:'MLAG/VLT to External Network',
					  defaultAccessLayerOverSubscriptionRatio:'Default Bandwidth to Rack',
					  totalbandwidth:'Bandwidth to POD',
					  noofSuperspines:'Number of Super Spines',
					  uplinkBandwidth:'External Network Connections per Uplink Switch',
					  spineBandwidth:'External Spine Link from Border Leaf',
					  defaultSpineSwitches:'Default Spine Switch ',
					  defaultToRSwitches:'Default Leaf/ToR Switch ',
					  defaultBLSwitches:'Default Border Leaf Switch ',	
					  enable_additional_features:'Enable Additional Features',				  
				},
				workloadRacks:{
					title:'Workload Racks (Leaf Nodes)',
					addRack:'Rack',
					rackno:'Rack#',
					rackname:'Rack Name',
					switches:'Switches',
					workload:'Workload',
					ports:'Ports',
					bandwidth:'Bandwidth(Gbps)',
					rackspace:'Rack Unit',
					interswitchConnections:'InterSwitch Connections',
					uplinkConnections:'Uplink Connections',
					uplinkBandwidth:'Uplink Bandwidth',
					rackOverSubscriptionRatio:'Rack Oversubscription Ratio',
					mgmtrack:'MGMT Rack',
					edgerack:'EDGE Rack',
					actions:'Actions',
					projectedOverSubscriptionRatio:'Projected Oversubscription Ratio',
					mgmtfabrack:'Management Rack',
					edgefabrack:'EDGE Rack',
					portsused:'Access Ports Used in TOR Switch',
					bwallocated:'Access Bandwidth Allocated',
					torswitchconnections:'Connections between TOR Switches',
					torswitches:'Proposed TOR Switches'
				},
				workloadClusters:{
					title:'Workload Clusters',
					name:'Cluster Name',
					type:'Cluster Type',
					noOfNodes:'# of Nodes',
					porttype:'Port Type',
					rackspace:'Rack Space (RU)',
					portcount:'Port Count',				
					actions:'Actions'
				},
				mxfabrics:{					
				   fabricsAvailable:'Scalable Fabrics Available',
				   fabricsArch:'Fabric Architecture',
				   fabrictype:'Scalable Fabric',
				   fabricsno:'Scalable Fabric No',
				   chassisno:'Chassis No',
				   fabricsname:'Scalable Fabric Name',
				   chassisname:'Chassis Name',
				   noOfChassis:'No Of Chassis',
				   fabricA:'Fabric A',
				   fabricB:'Fabric B',
				   fcoe_fabricA:'FCoE Fabric A',
				   fcoe_fabricB:'FCoE Fabric B',
				   noDataAvailable:'No Scalable Fabrics Created'
				   
				}
			},
			fabricOutput: {
				clusterName: 'Cluster Name',
				CNAconnectivity: 'CNA Connectivity',
				applianceModel: 'Appliance Model',
				serverModel: 'Server Model',
				unityModel: 'Unity System Model',
				powerStoreModel: 'PowerStore System Model',
				powerStoreDeploymentModel:'Deployment Model',
				expansionModules:'Expansion Shelf(s)',
				frontEndConnectivity: 'Front End Connectivity',
				backEndConnectivity: 'Back End Connectivity',
				frontEndIOmodules: 'Front End I/O Modules',
				NetworkSeparation: 'Network Separation',
				IOmodules: 'I/O Modules',
				numberOfNodes: 'Number of Nodes',
				numberOfStorage: 'Storage Processors',
				numberOfAppliance:'Number of Appliances',
				numberOfExpansionModules:'Number of Expansion Shelf(s)',
				mezzcard:'Mezz Card',
				projectedFutureNodes: 'Projected Future Nodes',
				standbynodes: ' StandBy Nodes',
				preConfProjectedNode: 'Pre-Configure projected node',
				outboundManagement: 'Outbound Management',
				noOfOptionalNIC: 'Add on PCIe NIC',
				nodeConnectivity: 'Node Connectivity - NDC',
				nodeConnectivityVxRail: 'Node Connectivity - NDC/OCP',
				vlanInformation: 'VLAN Information',
				switchConfig: {
					CLICredential: {
						lable: 'CLI Credential',
						value: 'Enter switch CLI credential for accessing the switches.',
					},
					ImportL2VNI: {
						lable: 'Import L2 VNI',
						value: 'Route-target configuration for L2 VNI are not configured.',
					},
					ImportL3VNI: {
						lable: 'Import L3 VNI',
						value: 'Route-target configuration for L3 VNI are not configured.',
					},
					stretch_clusters_across_all_racks: {
						lable: 'Asymmetric IRB',
						value: 'Clusters are not stretched across all racks. Asymmetric IRB should have same VLAN across all racks.'
					},
					All_VRFs_in_Racks:{
						lable: 'VRF Association in Racks',
						value: 'VRFs should be associated with atleast one vlan in a rack.'					
					},
					IP_MAC: {
						lable: 'Management IP',
						value: 'Enter switch Management IP and system MAC address to assign IP address to switch management interface and to generate DHCP Server configurations for switch zero touch provisioning. Continuing without this information requires loading the downloaded configurations manually on to the switches.'
					},
					ManagementRoute: {
						lable: 'Management Route',
						value: 'Default Management Route is not configured.',
					},
					VSAN_IP: {
						lable: 'vSAN',
						value:'VMware recommends IGMP Querier to be enabled for vSAN network. Continuing without configuring an IP address for the vSAN VLAN will not enable IGMP Querier on the vSAN network.'
					},
					FabricRoute: {
						lable: 'Fabric Router Settings',
						value: 'Fabric Router Settings is not configured.',
					},
					FabricUplink: {
						lable: 'Fabric External Network Settings',
						value: 'Fabric External Network Settings is not configured.',
					}
				},
				networksettings: {
					ipmac: {
						switchName: 'Switch Name',
						switchModel: 'Switch Model',
						ip: 'IP Address',
						mac: 'MAC Address'
					},
					ipdhcp:{
						title:'IP DHCP Settings',
						switchname:'Switch Name',
						lb_ip:'Loopback Addresses'	
					},
					fabricsettings:{
						title:'Fabric Network Settings',
						routersettings:{
							title:'Router Settings',
							switchname:'Switch Name',
							loopbackip:'Loopback Addresses(Router ID)',
							vnetloopbackip:'Loopback Addresses(VTEP)',
							hostoverlayvtep:'NSX Host Overlay Network Addresses(VTEP)',
							helper_address:'Helper Address',
							nsx_gateway_asn:'NSX Gateway ASN',
							asnno:'Autonomous System Number(ASN)',
							default_gateway:'Default Gateway',
							interlink:'Point to Point Addresses'
						},
						asymmetricdetailssettings:{
							title:'Asymmetric IRB',
							asymmetric_vni_id:'Dedicated VXLAN VNI',
							default_gateway:'Default Gateway IP',
							ip_address:'IP Address'
						},
						linksettings:{
							title:'link Settings',
							uplinktitle:'Fabric External Network Settings',
							interlinktitle:'Fabric Interlink Network Settings',
							linkdesc:'Link Description',
							network:'Network',
							srcswitch:'Source Switch',
							srcinterface:'Source Interface',
							srcip:'Source IP',
							vrf_name:'VRF Name',
							destswitch:'Destination Switch',
							destinterface:'Destination Interface',
							destip:'Destination IP',
							srcas:'Source ASN',
							destas:'Destination ASN',
							area:'Area'
						},
						overlaysettings:{
							overlaysettingstitle:'NSX Overlay',
							nsx_edge_overlay:'Edge Overlay Network',
							nsx_host_overlay:'Host Overlay Network',							
						},
						cbis_router_settings:{
							leaf_loopbackAddress:'Leaf Loopback Addresses(Router ID)',
							leaf_loopbackMask:'Leaf LoopBack Network Mask',
							spine_loopbackAddress:'Spine Loopback Addresses(Router ID)',
							spine_loopbackMask:'Spine LoopBack Network Mask',
							anycast_loopback:'Anycast Loopback',
							underlay_system_loopback:'Underlay System Loopback(External RRs)',
							point_to_point_spinegroup1:'Underlay Point-to-Point Links Spine1',
							point_to_point_spinegroup2:'Underlay Point-to-Point Links Spine2',
							bgp_passwords:'BGP Passwords'
						},
						autopopulate:{
							title:'Auto Populate',
							nwAddress: 'Network Address',
							nwMask:'Network Mask',
							l3_vxlan_range:'Dedicated L3 VLAN',
							vrf_name:'VRF Name',
							external_vlan:'External VLAN',
							//l3_vxlan_range:'Dedicated VLAN Range for L3 VXLAN Range',
							loopbackAddress:'Loopback Addresses(Router ID)',
							loopbackMask:'LoopBack Network Mask',
							localLeafASN:'Leaf Switch ASN',
							localSpineASN:'Spine Switch ASN',
							leafASNIncr:'Leaf Switch ASN Increment',
							spineASNIncr:'Spine Switch ASN Increment',
							remoteASN:'Remote ASN',
							remoteASNIncr:'Remote ASN Increment',
							asnno:'Autonomous System Number(ASN)',
							interlink:'Point to Point Addresses',
							ibgp_adjacency_vlan:'iBGP adjacency VLAN',
							irb_type:'IRB Type',
							symmetric_vni:'L3 VXLAN VNI',
							vni_network_address:'VNI Network Address'
						}
					}
				},
				logicalView: {
					rack: {
						name: 'Name',
						mgmtSwitch: 'Management Switch',
						type: 'Type',
						switches: 'Switches',
						clusters: 'Clusters',
						position:'Position'
					},
					pod: {
						name: 'Name',
						mgmtSwitch: 'Management Switch',
						type: 'Type',
						switches: 'Switches',
						clusters: 'Scalable Fabrics',
						position:'Position'
					},
					switch: {
						name: 'Name',
						ipAddress: 'IP Address',
						mac: 'MAC',
						model: 'Model',
						chassisSize: 'Chassis Size',
						position:'Position',
						profile:'Profile'
					},
					node: {
						name: 'Name',
						model: 'Model',
						state:'State',
						position:'Position',
						expansionModules:'Expansion Shelf(s)'
					},
					expansionModule:{
						name: 'Name',
						type:'Type'
					},
					chassis: {
						name: 'Name',
						displayName: 'Name',
						nodes: 'Nodes',
						cluster_id: 'Cluster ID',
						model:'Model',
						expansionModules:'Expansion Shelf(s)',
						slotA1:"Slot A1",
						slotA2:"Slot A2",
						slotB1:"Slot B1",
						slotB2:"Slot B2",
						position:'Position'
					},
					cluster: {
						name: 'Name',
						clusterType: 'Cluster Type',
						fault1: 'Storage 1 (Fault Domain 1)',
						fault2: 'Storage 2 (Fault Domain 2)',
						storage: 'Storage',
						version: "Cluster Version",
						networkResiliency: 'Network Resilience',
						deploymentModel: 'Deployment Model',
						network_separation: 'Network Separation',
						applianceConnectivityInfo: 'NDC NIC Cards',
						outOfBand: 'Out-Of-Band Management',
						optionalNicsInfo:'PCIe NIC Cards',
						hardware_info:'Node Details',
						description:"Cluster Info",
						processors:'Processors',
						drives:'Drives',
						node_type:'Node Type',
						memory:'Memory',
						nodes: 'Nodes',
						vlans: 'VLANs',
						mgmt: 'Management',
						mgmt: 'Management',
						mgmt_powerflexapp: 'Hypervisor Management',
						pvtMgmt:'PvtMgmt',
						vSan: 'VSAN',
						vMotion: 'VMotions',
						saphanatraffic: 'Sap Hana Traffic',
						witnesstraffic: 'Witness Traffic Separation',
						vMotion_powerflexapp:'Hypervisor Migration',
						storageNetworks_powerflexapp:'Storage Networks',
						svmMgmt: 'VxFlexMGMT',
						osinstallation:'OS Installation',
						native: 'Native',
						public: 'Public',
						data: 'Data',
						replication: 'Replication',
						svmMgmt_powerflexapp: 'PowerFlex Management',
						osinstallation_powerflexapp:'OS Installation',
						svmData1: 'VxFlexData1',
						svmData2: 'VxFlexData2',
						oracledb_public: 'Oracle Public',
						oracledb_rac_private:'Oracle RAC Private Interconnect',				
						svmData1_powerflexapp: 'PowerFlex Data 1',
						svmData2_powerflexapp: 'PowerFlex Data 2',
						svmData3_powerflexapp: 'PowerFlex Data 3',
						svmData4_powerflexapp: 'PowerFlex Data 4',
						replication1_powerflexapp: 'PowerFlex Replication 1',
						replication2_powerflexapp: 'PowerFlex Replication 2',
						edgeoverlay:'Edge Overlay',
						hostoverlay:'Host Overlay',
						uplink01:'Uplink 01',
						uplink02:'Uplink 02',
						vmNetworks: 'VM Networks',
						nasNetworks:'NAS Networks',
						storageNetworks: 'Storage Networks',
						appNetworks: 'Application Networks',
						numberOfChassis:'Number of Chassis',
						configure_fabricA:'Fabric A',
						configure_fabricB:'Fabric B',
						configure_fcoe_fabricA:'FCOE in Fabric A',
						configure_fcoe_fabricB:'FCOE in Fabric B',
						chassis:'Chassis',
						position:'Position'
					},
					properties:{
						name: "Name",
						topology: "Topology",
						uplinkprotocol: "Uplink Connectivity",
						uplinkProtocolType: "Uplink Routing Protocol",
						spineSwitches: "Spine Switch Model",
						leafSwitches: "Leaf Switch Model"
					}

				},
				bom:{
					edit:{
						airflow:"Switch Airflow",
						powersupply:"Power Supply",
						redtpowersupply:"Redundant Power Supply for Switches",
						torswreplacement:"TOR Switch Placement",
						cablelength:"Uplink Cable Length",
						directcables:"Use Direct Attach Cables where possible",
						taa:"TAA",
						powercord:"PowerCord",
						mgmt:"Out-of-Band Management Connectivity",
						out_of_band_mgmt_switch:"Out-of-Band Management Switch"
					},
					optics:{
						G_10:"10G Optics",
						G_25:"25G Optics",
						G_40:"40G Optics",
						G_50:"50G Optics",
						G_100:"100G Optics",
						G_200:"200G Optics",
						G_400:"400G Optics"						
					},
					spinetabletitle:"Spine Layer Bill of Materials",
					leaftabletitle:"Leaf Layer Bill of Materials",
					mgmttabletitle:"Out Of Band Management Bill of Materials",
					table_headers:{
						header1:"Model",
						header2:"Description",
						header3:"Quantity",
					}


				}
			},
			privacy : {
				text: 'Privacy Statement, Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum'
			},
			terms : {
				text: 'Privacy Statement, Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum Loren Impsum'
			},
			help :{
				index:'doc/index.html',
				vxrail:'doc/GUID-DAF8394F-7A47-450C-A795-10D2AAA1CD7C.html'
			}

		}
	});

angular.module(APP_NAME)
.config(['$translateProvider', 'AppTranslations', '$httpProvider', function($translateProvider, AppTranslations, $httpProvider) {

	var myapp_translations = {};
	
	angular.extend(myapp_translations, AppTranslations.en);
	$translateProvider.translations('en-US', myapp_translations);
	$translateProvider.preferredLanguage('en-US');
	$translateProvider.useSanitizeValueStrategy('sanitize');


	$httpProvider.interceptors.push(['$cookies','toaster', '$q', function($cookies,toaster, $q) {
  	return {
   		'request': function(config) {
			if(config.url.indexOf("rest/") == 0 || config.url.indexOf("/rest/") == 0 ) {
				if(config.method=='POST'&& config.data){
				/* set Default Header as application/Json*/
				 config.headers["Accept"] = "application/json";
				 config.headers["Content-Type"] = "application/json";
				   /**set lz-json if config data is a string */
					if(config.data && typeof config.data === 'string'){
						config.headers["Content-Type"] = "application/lz-json";
					}
					 /**set lz-json if config data is an object and config data's data property is a string */
					else if((typeof config.data === 'object') && (config.data["data"] && typeof config.data["data"] === 'string')){
						config.headers["Content-Type"] = "application/lz-json";					
					}
					else{
						config.headers["Content-Type"] = "application/json";
					}
					/* condition for accept header*/
					if(config.headers["AcceptMethod"] && config.headers["AcceptMethod"]=='write')
						config.headers["Accept"] = "application/lz-json";
			}
			}
       		return config;
    	},
		'requestError': function(config) {
			return config;
		},
    	'response': function(response) {
			if(response.config.url.indexOf("/rest/") == 0 || response.config.url.indexOf("rest/") == 0) {
       			 if(response.data && (typeof response.data === 'string') && (response.config.headers["Accept"] == "application/lz-json")) {
					window.localStorage.setItem("fabricdata", response.data);
				}
			}
			return response;
		},
		'responseError': function(rejection) {
			if(rejection.status > 400){
			var instance = {};
			instance.type = "error", instance.title = rejection.status + " - " + rejection.statusText, instance.body =  "Error in processing the client request\nPlease refer server logs", instance.showCloseButton = true;
			toaster.pop(instance);      
			}
            return $q.reject(rejection);
         }
		
  	};
	}]);
}]);

angular
	.module(APP_NAME)
	.config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {

		//$urlRouterProvider.otherwise('/index');

		$stateProvider
			.state('tnc', {
				url: '/index',
				views: {
					main: {
						templateUrl: 'fabric/layout/disclosures/termsInDetail.html',
						controller: 'tncController'
					}
				}
			})
			.state('networkFabric', {
				url: '/network-fabric',
				views: {
					main: {
						templateUrl: 'fabric/design/input/networkFabric.html',
						controller: 'networkFabricCtrl'
					}
				}
			})
			.state('verticalSolutions', {
				url: '/vertical-solutions',
				views: {
					main: {
						templateUrl: 'fabric/verticalSolutions/input/verticalSolutions.html',
						controller: 'verticalSolutionsCtrl'
					}
				}
			})
			.state('ownNetwork', {
				url: '/own-network',
				views: {
					main: {
						templateUrl: 'fabric/design/input/ownNetwork.html',
						controller: 'ownNetworkCtrl'
					}
				}
			})
			.state('gnsFabric', {
				url: '/own-network/:id',
				views: {
					main: {
						templateUrl: 'fabric/design/input/ownNetwork.html',
						controller: 'ownNetworkCtrl'
					}
				}
			})
			.state('MX7000Fabric', {
				url: '/MX7000Fabric',
				params: {
					networkFabric: null
				},
				views: {
					main: {
						templateUrl: 'fabric/design/input/mxfabricInput.html',
						controller: 'mxfabricInputCtrl'
					}
				}
			})
			.state('fabricInput', {
				url: '/fabric-input',
				params: {
					networkFabric: null
				},
				views: {
					main: {
						templateUrl: 'fabric/design/input/fabricInput.html',
						controller: 'fabricInputCtrl'
					}
				}
			})
			.state('VerticalSolutionsfabricInput',{
				url: '/fabric-input',
				params: {
					networkFabric: null
				},
				views: {
					main: {
						templateUrl: 'fabric/verticalSolutions/input/verticalSolutionsfabricInput.html',
						controller: 'verticalSolutionsfabricInputCtrl'
					}
				}
			})
			.state('fabricOutput', {
				url: '/fabric-output',
				params: {
					networkFabric: null
				},
				views: {
					main: {
						templateUrl: 'fabric/design/output/fabricOutput.html',
						controller: 'fabricOutputCtrl'
					}
				}
			})
			.state('import', {
				url: '/import',
				views: {
					main: {
						templateUrl: 'fabric/import/import.html',
						controller: 'importCtrl'
					}
				}
			})
			.state('importPS', {
				url: '/importPS',
				views: {
					main: {
						templateUrl: 'fabric/import/importPS.html',
						controller: 'importPSCtrl'
					}
				}
			})
			.state('configConversion', {
				url: '/configConversion',
				views: {
					main: {
						templateUrl: 'fabric/configConversion/configConversion.html',
						controller: 'configConversionCtrl'
					}
				}
			});
			/*.state('cablesOptics', {
				url: '/cablesOptics',
				views: {
					main: {
						templateUrl: 'fabric/cablesOptics/cablesOptics.html',
						controller: 'cablesOpticsCtrl'
					}
				}
			});*/
	}]);
angular
	.module(APP_NAME)
	.service('fabricService', ['$http', '$q', function ($http, $q) {
		var config = {
			headers: {
				'Content-Type': 'application/json'
			}
		};
		
		var data = {
			turnkey_solutions_data:
			[			
			{
				name: "Network Fabric for Hyper-Converged Infrastructure Deployment",
				group: "Hyper-Converged",
				data: [
					{
						label: 'Dell VxRail Appliances',
						shortLabel: 'VxRail',
						name: 'VxRail',	// This name will be referenced in help document(app.doc.js) in small case
						img: 'styles/images/dell_vxrail.jpeg',
						fabricInputs: {
							type: 'HCI_VXRAIL',
							defaults: 'rest/design/fabric/vxrail/defaults/',
							bond: 'rest/design/fabric/vxrail/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/vxrail/',
							validate: '/rest/design/fabric/vxrail/cluster/validate/'
						},
						disabled: false,
						hide: false,
						hidesonicworkload: false
					},
					{
						label: 'Dell XC Series Appliances',
						shortLabel: 'XC Series',
						name: 'XC',
						img: 'styles/images/xc-series.jpg',
						fabricInputs: {
							type: 'HCI_XC',
							defaults: '/rest/design/fabric/xc/defaults/',
							bond: 'rest/design/fabric/xc/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/xc/',
							validate: '/rest/design/fabric/xc/cluster/validate/'
						},
						disabled: false,
						hide: false,
						hidesonicworkload: true
					},
					{
						label: 'Dell PowerFlex Appliance',
						shortLabel: 'PowerFlex Appliance',
						name: 'powerflexapp',
						img: 'styles/images/Powerflex.jpg',
						fabricInputs: {
							type: 'HCI_POWERFLEX_Appliance',
							defaults: '/rest/design/fabric/powerflexapp/defaults_hci/',
							bond: 'rest/design/fabric/powerflexapp/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/powerflexapp/',
							validate: '/rest/design/fabric/powerflexapp/cluster/validate/'
						},
						disabled: false,
						hide: false,
						hidesonicworkload: false
					}
				]
			},
			{
				name: "Network Fabric for Ready Solutions Deployment",
				group: "Ready Solutions",
				hidesonicworkload: true,
				data: [
					{
						label: 'Dell vSAN Ready Nodes',
						shortLabel: 'vSAN Ready',
						name: 'vSAN',
						img: 'styles/images/vsan-ready.jpg',
						fabricInputs: {
							type: 'HCI_VSANREADY',
							defaults: '/rest/design/fabric/vsanready/defaults/',
							bond: 'rest/design/fabric/vsanready/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/vsanready/',
							validate: '/rest/design/fabric/vsanready/cluster/validate/'
						},
						disabled: false,
						hide: false
					},
					{
						label: 'Dell Solutions for Microsoft Azure Stack HCI',
						shortLabel: 'Azure Stack HCI',
						name: 'ashci',
						img: 'styles/images/vsan-ready.jpg',
						fabricInputs: {
							type: 'ASHCI',
							defaults: '/rest/design/fabric/ashci/defaults/',
							bond: 'rest/design/fabric/ashci/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/ashci/',
							validate: '/rest/design/fabric/ashci/cluster/validate/'
						},
						disabled: false,
						hide: false
					},
					{
						label: 'Dell VxFlex Ready Nodes',
						shortLabel: 'Dell VxFlex',
						name: 'vxFlex',
						img: 'styles/images/vsan-ready.jpg',
						fabricInputs: {
							type: 'HCI_VXFLEX',
							defaults: '/rest/design/fabric/vxflex/defaults/',
							bond: 'rest/design/fabric/vxflex/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/vxflex/',
							validate: '/rest/design/fabric/vxflex/cluster/validate/'
						},
						disabled: false,
						hide: false
					}
				]
			},
			{
				name: "Network Fabric for Storage Infrastructure Deployment - Front-End Networking",
				group: "Storage",
				hidesonicworkload: false,
				data: [
					{
						label: 'Dell PowerStore',
						shortLabel: 'PowerStore',
						name: 'PowerStore',
						img: 'styles/images/dell_powerstore.jpg',
						fabricInputs: {
							type: 'POWERSTORE_STORAGE',
							defaults: '/rest/design/fabric/powerstore/defaults/',
							defaultsx: '/rest/design/fabric/powerstore/defaultsx/',
							bond: 'rest/design/fabric/powerstore/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/powerstore/',
							validate: '/rest/design/fabric/powerstore/cluster/validate/'
						},
						disabled: false,
						hide: false
					},
					/*{
						label: 'Dell PowerScale',
						shortLabel: 'PowerScale',
						name: 'PowerScale',
						img: 'styles/images/dellemc_powerscale.png',
						fabricInputs: {
							type: 'POWERSCALE_STORAGE',
							defaults: '/rest/design/fabric/powerscale/defaults/',
							bond: 'rest/design/fabric/powerscale/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/powerscale/',
							validate: '/rest/design/fabric/powerscale/cluster/validate/'
						},
						disabled: false,
						hide: false
					},*/
					{
						label: 'Dell Isilon/PowerScale',
						shortLabel: 'PowerScale',
						name: 'PowerScale',
						img: 'styles/images/dell_powerscale.jpg',
						fabricInputs: {
							type: 'ISILON_STORAGE',
							defaults: '/rest/design/fabric/isilon/defaults/',
							bond: 'rest/design/fabric/isilon/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/isilon/',
							validate: '/rest/design/fabric/isilon/cluster/validate/'
						},
						disabled: false,
						hide: false
					},
					{
						label: 'Dell Unity Storage',
						shortLabel: 'Unity Storage',
						name: 'Unity',
						img: 'styles/images/unity-storage.jpg',
						fabricInputs: {
							type: 'UNITY_STORAGE',
							defaults: '/rest/design/fabric/unity/defaults/',
							bond: 'rest/design/fabric/unity/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/unity/',
							validate: '/rest/design/fabric/unity/cluster/validate/'
						},
						disabled: false,
						hide: false
					}
					/*{
						label: 'Dell ECS Storage',
						shortLabel: 'ECS Storage',
						name: 'ECS',
						img: 'styles/images/ecs_storage.jpg',
						fabricInputs: {
							type: 'ECS_STORAGE',
							defaults: '/rest/design/fabric/ecs/defaults/',
							bond: 'rest/design/fabric/ecs/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/ecs/',
							validate: '/rest/design/fabric/ecs/cluster/validate/'
						},
						disabled: false,
						hide: false
					},*/
				]
			},
			{
				name: "Network Fabric for Storage Infrastructure Deployment - Back-End Networking",
				group: "Backend",
				hidesonicworkload: false,
				data: [					
					{
						label: 'Dell Isilon/PowerScale Storage',
						shortLabel: 'Isilon Backend Storage',
						name: 'IsilonBackend',
						img: 'styles/images/dell_powerscale.jpg',
						fabricInputs: {
							type: 'ISILON_BACKEND_STORAGE',
							defaults: '/rest/design/fabric/isilon_backend/defaults/',
							bond: 'rest/design/fabric/isilon_backend/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/isilon_backend/',
							validate: '/rest/design/fabric/isilon_backend/cluster/validate/',
							supported_tabs:['SuperSpine View','Logical View','Network View','Wiring Diagram','Bill of Materials']
						},
						disabled: false,
						hide: false
					},																				
				]
			},
			{
				name: "NVMe/TCP Fabric",
				group: "NVMe TCP",
				hidegroup: true,
				hidesonicworkload: true,
				data: [					
				{
				label: 'Dell PowerEdge Servers with Storage',
				shortLabel: 'NVMe-Compute',
				name: 'NVMeTCP',
				img: 'styles/images/dell_powerstore.jpg',
				fabricInputs: {
					type: 'NVMeTCPSupport',
					defaults: '/rest/design/fabric/nvme/defaults/',
					bond: 'rest/design/fabric/nvme/bonds/',
					clusterModal: 'fabric/design/input/clusterDetails.html',
					clusterCtrl: 'clusterDetailsCtrl',
					sendFabric: '/rest/design/fabric/nvme/',
					validate: '/rest/design/fabric/nvme/cluster/validate/'
				},
				disabled: false,
				hide: false,
				hideInRackView:true
			},
				{
				label: 'NVMeTCPSupport',
				shortLabel: 'NVMe-Compute',
				name: 'NVMe',
				img: 'styles/images/trident_storage.png',
				fabricInputs: {
					type: 'NVMeTCPSupport',
					defaults: '/rest/design/fabric/nvme/defaults_compute/',
					bond: 'rest/design/fabric/nvme/bonds/',
					clusterModal: 'fabric/design/input/clusterDetails.html',
					clusterCtrl: 'clusterDetailsCtrl',
					sendFabric: '/rest/design/fabric/nvme/',
					validate: '/rest/design/fabric/nvme/cluster/validate/'
				},
				disabled: false,
				hide: true
			},
			{
				label: 'NVMeTCPSupport',
				shortLabel: 'NVMe-Storage',
				name: 'NVMe',
				img: 'styles/images/dell_powerstore.jpg',
				fabricInputs: {
					type: 'NVMeTCPSupport',
					defaults: '/rest/design/fabric/nvme/defaults_nvme_powerstore/',
					defaultsx: '/rest/design/fabric/nvme/defaults_nvme_powerstorex/',
					bond: 'rest/design/fabric/nvme/bonds/',
					clusterModal: 'fabric/design/input/clusterDetails.html',
					clusterCtrl: 'clusterDetailsCtrl',
					sendFabric: '/rest/design/fabric/nvme/',
					validate: '/rest/design/fabric/nvme/cluster/validate/'
				},
				disabled: false,
				hide: true
			}]
			},
			{
				name: "Network Fabric for Server Infrastructure Deployment",
				group: "Server Infrastructure",
				data: [
					{
						label: 'Dell PowerEdge Rack Servers',
						shortLabel: 'PowerEdge Servers',
						name: 'generalCluster',
						img: 'styles/images/dell_poweredge.jpeg',
						fabricInputs: {
							type: 'GENERIC_COMPUTE',
							defaults: '/rest/design/fabric/generic_compute/defaults/',
							bond: 'rest/design/fabric/generic_compute/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/generic_compute/',
							validate: '/rest/design/fabric/generic_compute/cluster/validate/'
						},
						disabled: false,
						hide: false
					},
					{
						label: 'Dell PowerEdge MX7000 Modular Chassis',
						shortLabel: 'MX7000 Chassis Series',
						name: 'MX7000',
						img: 'styles/images/M7000_chassis.jpg',
						fabricInputs: {
							type: 'MX_CHASSIS',
							sendFabric: '/rest/design/fabric/mxFabric/',
							defaults:'/rest/design/fabric/mxFabric/defaults/',
							bond: 'rest/design/fabric/mxFabric/bonds/',
							clusterModal: 'fabric/design/input/chassisClusterDetails.html',
							clusterCtrl: 'chassisDetailsCtrl',
							validate: '/rest/design/fabric/mxFabric/validate/'
						},						
						disabled: false,
						hide: false,
						hideInRackView:true
					},
				],
			},
			{
				name: "Network Fabric for VMware Cloud Foundation",
				group: "VCF deployment",
				hidegroup: true,
				hidesonicworkload: true,
				data: [
					{
						label: 'VCF on VxRail for Single Availability Zone',
						shortLabel: 'VxRail',
						name: 'VCFVxRail',	// This name will be referenced in help document(app.doc.js) in small case
						img: 'styles/images/dell_vxrail.jpeg',
						fabricInputs: {
							type: 'HCI_NSX_VXRAIL',
							defaults: 'rest/design/fabric/nsx_vxrail/defaults/',
							bond: 'rest/design/fabric/vxrail/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/vxrail/',
							validate: '/rest/design/fabric/vxrail/cluster/validate/'
						},
						disabled: false,
						hide: false,
						hideInRackView:true
					}]
			}
		],
		verticalsolutions_data:
		[
			{
				name: "",
				group: "Vertical-Solutions",
				hidesonicworkload: true,
				data: [
					{
						label: 'SAP HANA on VxRail Solution',
						shortLabel: 'SAPHANA',
						name: 'SAPHANA',// This name will be referenced in help document(app.doc.js) in small case
						img: 'styles/images/dell_vxrail.jpeg',
						fabricInputs: {
							type: 'SAP_HANA',
							defaults: 'rest/design/fabric/saphana/defaults/',
							bond: 'rest/design/fabric/vxrail/bonds/',
							clusterModal: 'fabric/verticalSolutions/input/verticalSolutionsclusterDetails.html',
							clusterCtrl: 'verticalSolutionsclusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/vxrail/',
							validate: '/rest/design/fabric/saphana/cluster/validate/'
						},
						disabled: false,
						hide: false
					},
					{
						label: 'Oracle RAC solutions with PowerFlex',
						shortLabel: 'OracleRAC-PowerFlex',
						name: 'OracleRAC',// This name will be referenced in help document(app.doc.js) in small case
						img: 'styles/images/Powerflex.jpg',
						fabricInputs: {
							type: 'ORACLE_RAC',
							clusterdefaults: 'rest/design/fabric/oracle_powerflex/getclusters/',
							defaults: 'rest/design/fabric/oracle_powerflex/defaults/',							
							defaultsx: '/rest/design/fabric/oracle_powerflex/defaults/',
							bond: 'rest/design/fabric/powerflexapp/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/powerflexapp/',
							validate: '/rest/design/fabric/powerflexapp/cluster/validate/'
							//clusterModal: 'fabric/verticalSolutions/input/verticalSolutionsclusterDetails.html',
							//clusterCtrl: 'verticalSolutionsclusterDetailsCtrl'
						},
						disabled: false,
						hide: false
					}					
					/*,
					
					{
						label: 'Oracle RAC solutions with PowerStore',
						shortLabel: 'OracleRAC-Compute',
						name: 'OracleRAC',// This name will be referenced in help document(app.doc.js) in small case
						img: 'styles/images/trident_storage.png',
						fabricInputs: {
							type: 'ORACLE_RAC',
							defaults: 'rest/design/fabric/oracle_powerstore/defaults/',							
							defaultsx: '/rest/design/fabric/oracle_powerstore/defaults/',
							bond: 'rest/design/fabric/oracle_powerstore/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/oracle_powerstore/',
							validate: '/rest/design/fabric/powerstore/cluster/validate/'
							//clusterModal: 'fabric/verticalSolutions/input/verticalSolutionsclusterDetails.html',
							//clusterCtrl: 'verticalSolutionsclusterDetailsCtrl'
						},
						disabled: false,
						hide: false
					},
					{
						label: 'Oracle RAC solutions with PowerStore',
						shortLabel: 'OracleRAC-Storage',
						name: 'OracleRAC',// This name will be referenced in help document(app.doc.js) in small case
						img: 'styles/images/trident_storage.png',
						fabricInputs: {
							type: 'ORACLE_RAC_storage',
							defaults: 'rest/design/fabric/oracle_powerstore/defaults/',							
							defaultsx: '/rest/design/fabric/oracle_powerstore/defaults/',
							bond: 'rest/design/fabric/oracle_powerstore/bonds/',
							clusterModal: 'fabric/design/input/clusterDetails.html',
							clusterCtrl: 'clusterDetailsCtrl',
							sendFabric: '/rest/design/fabric/oracle_powerstore/',
							validate: '/rest/design/fabric/powerstore/cluster/validate/'
							//clusterModal: 'fabric/verticalSolutions/input/verticalSolutionsclusterDetails.html',
							//clusterCtrl: 'verticalSolutionsclusterDetailsCtrl'
						},
						disabled: false,
						hide: true
					}*/															
				]
			}
		]
		}		
		this.storeData = function (fabricdata) {
			window.localStorage.setItem("fabricdata", fabricdata);
		},
		this.storeDesignType = function(designType)
		{
			window.localStorage.setItem("designType", designType);
		},
		this.storeDeploymentType = function(DeploymentType){
			window.localStorage.setItem("DeploymentType", DeploymentType);
		},
		this.storefabricid = function(fabric_id)
		{
			window.localStorage.setItem("FabricId", fabric_id);
		},	
		this.storeIRBType = function(IRBType){
			window.localStorage.setItem("IRBType", IRBType);
		}

			this.getData = function () {
				return window.localStorage.getItem("fabricdata");
			},
			this.getIRBType = function () {
				return window.localStorage.getItem("IRBType");
			},
			this.getDesignType = function () {
				return window.localStorage.getItem("designType");
			},
			this.getDeploymentType = function () {
				return window.localStorage.getItem("DeploymentType");
			},
			this.getFabricId = function () {
				if("FabricId" in window.localStorage)
					return Number(window.localStorage.getItem("FabricId"))
				return null
			},
			
			this.getAgreement = function () {
				return JSON.parse(window.localStorage.getItem("agreement"));
			}

		this.setAgreement = function () {
			window.localStorage.setItem("agreement", true);
		}

		this.getSwitches = function () {
			/*var fabricdata = this.getData();
			return angular.copy(fabricdata.inventory.switches);*/
			var fabricswitches = [];
			$http.get("/rest/common/getswitchdata/")
				.then(function (response) {
					fabricswitches = response;
				});
			return angular.copy(fabricswitches);
		},

			/*this.getName = function () {
					var fabricdata = this.getData();
					return fabricdata.name;
			}*/
			this.fabricName = function () {
				var fabricname = "";
				fabricdata = this.getData();
				fabdata = {
					'data':fabricdata,
					'view':this.getFabricId()
				}
				return $http.post("/rest/common/getfabricname/", fabdata, config)
					.then(function (response) {
						return {
							fabricname: response.data.name
						};
					});
			},
			this.getFabricDataAsJson = function (lzdata) {
				return $http.post('rest/common/exportfabric/', lzdata, config)
					.then(function (response, status, headers, config) {
						return {
							lzfabricdata: response.data
						}
					});
			},
			this.getFabricType = function () {
				var fabrictype = "";
				fabricdata = this.getData();
				return $http.post("/rest/common/getfabrictype/", fabricdata, config)
					.then(function (response) {
						return {
							fabrictype: response.data.fabricType
						};
					});
			},
			this.getIPSANTopology = function () {
				var fabrictype = "";
				fabricdata = this.getData();
				return $http.post("/rest/design/getIPSANTopology/", fabricdata, config)
					.then(function (response) {
						return {
							ip_san_topology: response.data
						};
					});
			},
			this.removeData = function () {
				window.localStorage.removeItem("fabricdata");
				window.localStorage.removeItem("designType");			
				window.localStorage.removeItem("DeploymentType");				
				window.localStorage.removeItem("IRBType");   
				window.localStorage.removeItem("FabricId");
			},
			this.removeFabricId =  function () {
				window.localStorage.removeItem("FabricId");
			},
		this.getFabricConfig = function (fabricType) {
			solutions_type = 'turnkey_solutions_data'
			if (!fabricType) {
				return data[solutions_type];
			}
			var dataItems = null;
			angular.forEach(data[solutions_type], function (item, index) {
				if (item.data) {
					angular.forEach(item.data, function (fabItem, index) {
						if ((fabItem && fabItem.fabricInputs) && fabItem.fabricInputs.type == fabricType) {
							dataItems = fabItem.fabricInputs;
						}
					});
				}
			});
			return dataItems;
		}
		this.getVerticalSolutionsFabricConfig = function (fabricType) {
			solutions_type = 'verticalsolutions_data'
			if (!fabricType) {
				return data[solutions_type];
			}
			var dataItems = null;
			angular.forEach(data[solutions_type], function (item, index) {
				if (item.data) {
					angular.forEach(item.data, function (fabItem, index) {
						if ((fabItem && fabItem.fabricInputs) && fabItem.fabricInputs.type == fabricType) {
							dataItems = fabItem.fabricInputs;
						}
					});
				}
			});
			return dataItems;
		}
		this.inFabricOutput = false;


	}])
	.service('spinnerOverlay', ['$q', '$rootScope', function ($q, $rootScope) {

		this.defered = [];
		this.start = function () {
			var def = $q.defer();
			this.defered.push(def);
			$rootScope.isDataReady = def.promise;
		}

		this.stop = function () {
			for (var j = 0; j < this.defered.length; j++) {
				this.defered[j].resolve();
			}
		}


	}]);

angular
	.module(APP_NAME)
	.service('dlhttpService', ['$http', function (http) {
		this.config = {
			headers: {
				'Content-Type': 'application/json'
			}
		},

			this.getData = function (url, data, success, failure) {
				$http.get(url, data, this.config)
					.then(function (data, status, headers, config) {
						success(data, status, headers, config);
					}, function (data, status, header, config) {
						failure(data, status, header, config);
					});
			},

			this.postData = function (url, data, success, failure) {
				$http.post(url, data, this.config)
					.then(function (data, status, headers, config) {
						success(data, status, headers, config);
					}, function (data, status, header, config) {
						failure(data, status, header, config);
					});
			},

			this.deleteData = function (url, success, failure) {
				$http.delete(url, this.config)
					.then(function (data, status, headers, config) {
						success(data, status, headers, config);
					}, function (data, status, header, config) {
						failure(data, status, header, config);
					});
			}

	}]);
angular
	.module(APP_NAME)
	.service('fdcHelpService', ['$window', 'helpMapping', function ($window, helpMapping) {
		helpUrl = null,
			this.opennokiaHelp = function (config) {
				if (config.ref) {
					helpUrl = config.ref;
				} else {
					if (config.solution) {
						if(config.solution == 'powerflex_appliance')
							config.solution = 'powerflexapp'
						helpUrl = helpMapping.help[config.solution][config.index];
					} else {
						helpUrl = helpMapping.help[config.index];
					}
				}


				/*condition to check whether url exists;if found go move to the url; not: go to help index*/
				if (helpUrl) {
					showHelp(helpUrl);
				} else {
					showHelp(helpMapping.help["nokia_index"]);
				}
			},
			this.openHelp = function (config) {
				if (config.ref) {
					helpUrl = config.ref;
				} else {
					if (config.solution) {
						if(config.solution == 'powerflex_appliance')
							config.solution = 'powerflexapp'
						helpUrl = helpMapping.help[config.solution][config.index];
					} else {
						helpUrl = helpMapping.help[config.index];
					}
				}


				/*condition to check whether url exists;if found go move to the url; not: go to help index*/
				if (helpUrl) {
					showHelp(helpUrl);
				} else {
					showHelp(helpMapping.help["index"]);
				}
			},
			showHelp = function (helpPage) {
				var width = 820;
				var height = 600;
				screenWidth = $window.innerWidth;
				screenHeight = $window.innerHeight;
				if (height > screenHeight) {
					height = screenHeight - 20;
				}

				var left = Math.round((screenWidth - width) / 2);
				var top = Math.round((screenHeight - height) / 2);

				var winHelp = $window.open(helpPage, 'winHelp', 'width=' + width + ',height=' + height + ',top=' + top + ',left=' + left + ',scrollbars=1,resizable=1,location=1,toolbar=1');
				if (winHelp.focus) {
					winHelp.focus();
				}
			}
	}])
.service('browser', ['$window', function($window) {

	return function() {

		var userAgent = $window.navigator.userAgent;

	   var browsers = {chrome: /chrome/i, safari: /safari/i, firefox: /firefox/i, ie: /internet explorer/i};

	   for(var key in browsers) {
		   if (browsers[key].test(userAgent)) {
			   return key;
		   }
	  };

	  return 'unknown';
   }

}]);


angular
	.module(APP_NAME)
	.filter('textDisplay', function () {
  		return function (item) {
  			if(item == undefined || item == "") {
  				return "-";
  			} else {
  				return item;
  			}
  		};
	})

	.filter('numberDisplay', function () {
  		return function (item) {
  			item=Number(item)
  			if(item == undefined || isNaN(item) || item == "") {
  				return 0;
  			} else {
  				return item;
  			}
  		};
	})

	.filter('passwordDisplay', function () {
  		return function (item) {
  			if(item == undefined || item == "") {
  				return "-";
  			} else {
  				return "*****";
  			}
  		};
	})
	.filter('booleanYesNoDisplay', function () {
  		return function (item) {
  			if(item == true || item == "true") {
  				return "Yes";
  			} else {
  				return "No";
  			}
  		};
	})

	.filter('configFormat', function() {
  		return function(text) {
			if(text) {
				return text.split('\n');
			}
  		};
	}).filter('removeSpaces', [function() {
    return function(string) {
        if (!angular.isString(string)) {
            return string;
        }
        return string.replace(/[\s]/g, '');
    };
}]);

angular.module(APP_NAME)
	.constant('helpMapping',
		{		/* Please maintain Help document mapping here... */
			help: {
				accessing_fdc: 'GUID-C5A67B3B-696B-4BFA-A721-FF43A59B0841.html',
				browser_support: 'GUID-542459F8-84E2-4F8D-852E-68D27EB04C1D.html',
				build_your_own_network: 'doc/GUID-030305E4-C540-4E92-9D10-C94FCAF028C5.html',
				config_conversion: 'doc/GUID-5801CEBE-D0EC-4382-BFDB-5BCF8958E559.html',
				fabric_details: 'doc/GUID-53A22FA3-BB10-431A-8CA6-453F12E8FE4D.html',
				fabric_edit: 'doc/GUID-51A1C44E-B877-46E6-A42F-6CE0E1653B32.html',
				fdc_home: 'doc/GUID-2A64DA67-7DB6-4389-88D9-3F2B1DE50576.html',
				/*fdc_whatsNew: 'doc/GUID-Revisions.html',*/
				fdc_whatsNew: 'doc/whatsNew/GUID-162A321D-37EF-43B4-A442-4C0DB70D9026.html',
				fdc_architectures: 'doc/GUID-F58DB3DA-25FA-4DC9-8A8E-70DC50FB1E2C.html',
				fdc_import: 'doc/GUID-E16AD8F5-BF0B-4133-A6BF-6871C1217B8E.html',
				workload_solutions:'doc/GUID-FC84CF4C-A8CC-48E3-B05B-8A0183FB324C.html',
				index: 'doc/GUID-DAF8394F-7A47-450C-A795-10D2AAA1CD7C.html',
				nokia_index:'doc/nokia-webhelp/GUID-030305E4-C540-4E92-9D10-C94FCAF028C5.html',
				logging_in: 'GUID-CB5327FA-1CA1-479C-B03F-0C068AF25AB2.html',
				logging_out: 'GUID-E99FBCF8-3523-43F2-8986-C0D4AC1A3BD4.html',
				notes: 'GUID-5B8DE7B7-879F-45A4-88E0-732155904029.html',
				vxrail: {
					home: 'doc/GUID-B7871E93-0B5F-4103-9841-208F4FF32345.html',
					cluster: 'doc/GUID-D02DCBD0-40D3-40B5-AB96-F12DF410C13D.html',
					peq: 'doc/GUID-B73112A6-8D44-4559-9E85-781F10B70AC7.html'
				},
				vcfvxrail: {
					home: 'doc/GUID-7756E26C-72B6-4102-95C5-7FD26F6E65A1.html',
					cluster: 'doc/GUID-2946575F-5C77-43FB-AF8C-E4ED2FFC87E1.html'
				},
				saphana: {
					home: 'doc/GUID-687AAB88-CA33-4A03-9C82-F07DD07DCA06.html',
					cluster: 'doc/GUID-D71DFC08-E207-44CC-894B-E8BC1FC7FE84.html' 
				},
				oraclerac:
				{
					home: 'doc/GUID-D13FF412-B546-469B-8888-EB00CA0C14F7.html',
					cluster:'doc/GUID-285FDA8B-7786-4285-AFF0-523D89C7A98B.html',
				},
				xc: {
					home: 'doc/GUID-D257A013-47F9-4691-AAD1-8F5C0C2D5FDC.html',
					cluster: 'doc/GUID-64EF77F5-66C5-4D0B-9EA6-2CC0FE3CD0B3.html'
				},
				vsan: {
					home: 'doc/GUID-B41923C4-719A-47C8-AC4A-D4A8801399D9.html',
					cluster: 'doc/GUID-CAA1EC24-9D04-4603-9E2C-455E2918200C.html'
				},
				ashci: {
					home: 'doc/GUID-16991111-C7C2-472E-B10A-B24A16E27925.html',
					cluster: 'doc/GUID-24CDEEE0-C3D8-4FCE-9142-7272DD6232A7.html'
				},
				vxflex: {
					home: 'doc/GUID-AFA47B51-85EA-4184-87BE-C4E895F72200.html',
					cluster: 'doc/GUID-C3AE1E90-83EC-4FEF-9F0A-0074818FD120.html'
				},
				powerflexapp: {
					home: 'doc/GUID-378DED95-FA27-4B94-B2DF-4A97B5EF73B3.html',
					cluster: 'doc/GUID-24FAA792-2437-4300-8031-70CA804B0C5A.html'
				},
				isilon: {
					home: 'doc/GUID-58ADC7B9-1145-45DF-B5EE-99D9DFD9A6B6.html',
					cluster: 'doc/GUID-28BF4D3D-16BE-4C2E-AC94-F10F08D0D867.html'
				},
				isilonbackend: {
					home: 'doc/GUID-58ADC7B9-1145-45DF-B5EE-99D9DFD9A6B6.html',
					cluster: 'doc/GUID-28BF4D3D-16BE-4C2E-AC94-F10F08D0D867.html'
				},
				powerscale:
				{
					home:'doc/GUID-9DBE49BD-EC35-4302-A79C-4FB36F0E26D4.html',
					cluster:'doc/GUID-6DA27305-259C-4347-9B16-D794D2431E74.html'
				},
				ecs: {
					home: 'doc/GUID-58ADC7B9-1145-45DF-B5EE-99D9DFD9A6B6.html',
					cluster: 'doc/GUID-28BF4D3D-16BE-4C2E-AC94-F10F08D0D867.html'
				},
				unity: {
					home: 'doc/GUID-3F234824-BA06-4800-9BA6-7E9A8FFAF977.html',
					cluster: 'doc/GUID-5F22F064-5D8A-4BF4-82A1-FE65EF685CD2.html'
				},
				powerstore: {
					home: 'doc/GUID-9B386833-792A-4D47-BCB2-5EE5EA482ACE.html',
					cluster: 'doc/GUID-75AA2D47-33D1-49BB-8AA1-B43FC29D8173.html'
				},
				nvmetcp: {
					home: 'doc/GUID-B3A71FC7-9A05-41A6-9339-E70A0E057F1F.html',
					cluster: 'doc/GUID-0EA87F81-3182-4AF2-8723-30AF2DF7D0B2.html'
				},
				generalcluster: {
					home: 'doc/GUID-4E869469-3587-47DA-802E-AC5754FE0908.html',
					cluster: 'doc/GUID-4C96267E-1A6D-4E53-8DEE-DEBF8914B3F9.html'
				},
				mxchassis:{
					home: 'doc/GUID-8AB5044F-D71A-4392-8048-A01BF74B4F19.html',
					cluster: 'doc/GUID-0CEC5282-4AFF-4E71-BF54-F1C4CABCE917.html'
				},
				os9to10:
				{
					home:'doc/os9to10.pdf'
				}
			},
			vertialSolutionrefArchitecture: {
				saphana: [
					{
						label: 'Dell VxRail Hyperconverged Infrastructure on SAP HANA',
						link: 'https://infohub.delltechnologies.com/t/validation-guide-dell-emc-vxrail-hyperconverged-infrastructure-on-sap-hana-1/'
					}
				],
				oraclerac:[
					{
						label: 'Design Guide — Oracle Big Data SQL on Dell PowerFlex',
						link: 'https://infohub.delltechnologies.com/t/design-guide-oracle-big-data-sql-on-dell-emc-powerflex-1/'
					}
				],
				oraclerac1:[
					{
						label: 'Oracle RAC Database on PowerStore T Storage',
						link: 'https://infohub.delltechnologies.com/t/design-guide-oracle-rac-database-on-powerstore-t-storage/'
					}
				]
			},
			refArchitecture: {
				vxrail: [
					{
						label: 'Dell Enterprise SONiC Deployment for VxRail',
						link: 'https://infohub.delltechnologies.com/en-us/t/dell-enterprise-sonic-deployment-for-vxrail/'
					},
					{
						label: 'Dell SmartFabric OS10 Switch Configuration Guide for VxRail',
						link: 'https://infohub.delltechnologies.com/t/dell-emc-smartfabric-os10-switch-configuration-guide-for-vxrail/'
					},					
					{
						label: 'Dell Networking OS10 Enterprise Edition Switch Configuration Guide for VxRail featuring S5200 Series Switches',
						link: 'https://www.dell.com/support/article/us/en/19/sln314875'
					}
				],
				vcfvxrail: [
					{
						label:  'Dell Enterprise SONiC for VCF on VxRail Technical Brief',
						link:	'https://infohub.delltechnologies.com/en-us/t/dell-enterprise-sonic-for-vcf-on-vxrail-technical-brief/'
					},
					{
						label:  'VCF on VxRail multi-rack deployment using BGP EVPN Part 1',
						link:	'https://infohub.delltechnologies.com/section-assets/dell-emc-bgp-evpn-multirack-vxrail-june-2019'
					},
					{
						label:  'VCF on VxRail multi-rack deployment using BGP EVPN Part 2',
						link:	'https://infohub.delltechnologies.com/t/vmware-cloud-foundation-on-vxrail-multirack-deployment-using-bgp-evpn-part-2-of-2-1/'
					}
				],
				xc: [
					{
						label: 'Dell XC Series Networking Deployment and Best Practices Guide',
						link: 'https://infohub.delltechnologies.com/section-assets/xc-series-networking-guide-v2-0-2'
					}
				],
				vsan: [
					{
						label: 'Dell Switch Configuration Guide for iSCSI and Software-Defined Storage',
						link: 'https://infohub.delltechnologies.com/section-assets/dell-emc-switch-config-guide-for-iscsi-and-sds'
					},
					{
						label: 'Architecting a Dell Hyperconverged Solution with VMware vSAN -Solution Brief',
						link: 'https://infohub.delltechnologies.com/section-assets/architecting-a-cloud-with-hci-v1-0'
					}
				],
				ashci: [
					{
						label: 'Dell Solutions for Microsoft Azure Stack HCI',
						link: 'https://infohub.delltechnologies.com/t/guides-74/'
					}
				],
				vxflex: [
					{
						label:'Dell PowerFlex: Networking Best Practices and Design Considerations',
						link:'https://www.delltechnologies.com/en-vn/collaterals/unauth/white-papers/products/storage/powerflex-white-paper-networking-best-practices.pdf'
					}
				],
				powerflexapp: [
					{
						label:'SONiC SmartFabric Manager for PowerFlex Deployment Guide',
						link:'https://infohub.delltechnologies.com/en-us/t/sonic-smartfabric-manager-for-powerflex-deployment-guide/'
					},
					{
						label:'Dell Technologies Enterprise SONiC for PowerFlex Deployment Guide',
						link:'https://infohub.delltechnologies.com/en-us/t/dell-technologies-enterprise-sonic-for-powerflex-deployment-guide/'
					},
					{
						label:'Dell PowerFlex: Networking Best Practices and Design Considerations',
						link:'https://www.delltechnologies.com/en-vn/collaterals/unauth/white-papers/products/storage/powerflex-white-paper-networking-best-practices.pdf'
					}
					/*{
						label:'Dell PowerFlex Appliance Administration Guide',
						link:'https://cpsdocs.dellemc.com/bundle/VXFAPP_AG/page/GUID-4BB68744-EC10-4211-9524-CE0962916B4B.html'
					},
					{	
						label:'Dell PowerFlex Appliance Architecture Overview',
						link:'https://cpsdocs.dellemc.com/bundle/VXFAPP_AO/page/GUID-CCE7F23D-BDD5-4D67-B721-20FA1175B572.html'
					},
					{
						label:'Dell PowerFlex Appliance Support Matrix',
						link:'https://cpsdocs.dellemc.com/bundle/PFAPP_SM/page/GUID-BBE0358C-4A49-4A8C-B6EF-7C7711C9B146.html'
					}*/
				],
				isilon: [
					{
						label: 'Dell Networking with Isilon Front-End Deployment and Best Practices',
						link: 'https://infohub.delltechnologies.com/t/dell-emc-networking-with-isilon-front-end-deployment-and-best-practices/'
					}
				],
				isilonbackend:[
					{
						label: 'Dell PowerScale: Leaf-Spine Network Best Practices',
						link: 'https://infohub.delltechnologies.com/t/dell-powerscale-leaf-spine-network-best-practices/'
					}
				],
				powerscale: [
					{
						label: 'SONiC SmartFabric Manager for PowerScale Deployment Guide',
						link:'https://infohub.delltechnologies.com/en-us/t/sonic-smartfabric-manager-for-powerscale-deployment-guide/'
					},
					{
						label: 'Dell Networking with Isilon Front-End Deployment and Best Practices Guide',
						link:'https://www.dell.com/support/article/us/en/19/sln313951'
					}
				],
				ecs: [
					{
						label: 'ECS Overview and Architecture',
						link: 'http://www.emc.com/collateral/white-papers/h14071-ecs-architectural-guide-wp.pdf'
					},
					{
						label: 'ECS General Best Practices',
						link: 'http://www.emc.com/collateral/white-papers/h16016-ecs-best-practices-guide-wp.pdf'
					}
				],
				unity: [
					{
						label: 'Introduction to Unity Platform',
						link: 'https://www.emc.com/collateral/white-papers/h15084-dell-emc-unity-introduction-to-the-platform.pdf'
					},
					{
						label: 'Best Practices Guide for Unity',
						link: 'https://www.emc.com/collateral/white-papers/h15093-dell-emc-unity-best-practices-guide.pdf'
					},
					{
						label: 'Unity - High Availablity',
						link: 'https://www.emc.com/collateral/white-papers/h15162-emc-unity-high-availability.pdf'
					}
				],
				
				powerstore: [
					{
						label: 'SONiC SmartFabric Manager for PowerStore Deployment Guide',
						link: 'https://infohub.delltechnologies.com/en-us/t/sonic-smartfabric-manager-for-powerstore-deployment-guide/'
					},
					{
						label: 'Powerstore Documentation',
						link: 'https://www.dell.com/powerstoredocs'
					}
				],
				nvmetcp:[
					{
						label: 'SmartFabric Storage Software Deployment Guide',
						link: 'https://infohub.delltechnologies.com/t/smartfabric-storage-software-deployment-guide/'
					}/*,
					{
						label:'IP SAN Solution Primer',
						link:'https://infohub.delltechnologies.com/t/nvme-nvme-tcp-and-dell-smartfabric-storage-software-overview-ip-san-solution-primer-1/'
					}*/
				],
				generalcluster: [
					{
						label: 'Dell Networking Layer 3 Leaf-Spine Deployment and Best Practices with SONiC',
						link: 'http://infohub.delltechnologies.com/en-us/t/enterprise-sonic-distribution-by-dell-technologies-layer-3-fabric/'
					},
					{
						label: 'Dell Networking Layer 3 Leaf-Spine Deployment and Best Practices with OS10',
						link: 'https://infohub.delltechnologies.com/section-assets/17bd7098-080f-4f2e-ba15-bd013d40ede0'
					},
					{
						label: 'Leaf-Spine Deployment and Best Practices Guide',
						link: 'https://infohub.delltechnologies.com/section-assets/dell-emc-leaf-spine-deployment-guide-v1-0'
					},
					{
						label: 'Leaf-Spine Deployment and Best Practices Guide for Greenfield Deployments',
						link: 'https://www.dell.com/support/article/us/en/19/sln314312'
					}
				],
				mxchassis: [
					{
						label:'Dell PowerEdge MX Networking Deployment Guide',
						link:'https://infohub.delltechnologies.com/t/dell-emc-poweredge-mx-networking-deployment-guide/'
					},
					{
						label:'PowerEdge MX I/O Guide',
						link:'https://www.delltechnologies.com/asset/en-us/products/networking/briefs-summaries/PowerEdge_MX_IO_Guide.pdf'
					},
					{
						label:'Dell PowerEdge MX Documents',
						link:'https://infohub.delltechnologies.com/t/guides-123/'
					}
				],
				byon:[
					{
						label:'Dell Networking Layer 3 Leaf-Spine Deployment and Best Practices with OS10',
						link:'https://infohub.delltechnologies.com/section-assets/17bd7098-080f-4f2e-ba15-bd013d40ede0'
					},
					{
						label:'Enterprise SONiC Distribution by Dell Technologies - Layer 3 Fabric',
						link:'https://infohub.delltechnologies.com/t/enterprise-sonic-distribution-by-dell-technologies-layer-3-fabric/'
					},
					{
						label:'Clos three-tier network with superspines',
						link:'https://infohub.delltechnologies.com/l/enterprise-sonic-distribution-by-dell-technologies-layer-3-fabric/fabric-topologies-31'
					},
					{
						label:'Multisite Data Center Interconnect (DCI)',
						link:'https://infohub.delltechnologies.com/t/evpn-vxlan-based-multisite-data-center-interconnect-dci-using-dell-enterprise-sonic/'
					},

				]

			}
		});

angular
    .module(APP_NAME)
    .directive('helpDirective', ['fdcHelpService', function (fdcHelpService) {
        var controller = ['$scope', function ($scope) {

            $scope.help = function () {
                $scope.helpConfig = {
                    index: $scope.helpIndex,
                    arialabel:$scope.ariaLabel,
                    solution: $scope.solution,
                    ref: $scope.ref
                };                
                fdcHelpService.openHelp($scope.helpConfig);
            };
        }],            

        template = '<a tabindex="1" ng-class="{\'help-node\' : !ref, \'pull-right\': !ref}" aria-label="{{ariaLabel}}"  href="" ng-click="help()" ng-keypress="help()" name="Help{{helpIndex}}">' +
                '<span ng-if="!ref" class="glyphicon glyphicon-question-sign"></span> {{label}}</a>';
            
        
        return {
            restrict: 'EA', //Default in 1.3+
            replace: true,
            scope: {
                helpIndex: '@',
                label: '@',
                solution: '@',
                ref: '@',
                arialabel: '@',
            },
            controller: controller,
            template: template
        };
    }])
    .directive('nokiahelpDirective', ['fdcHelpService', function (fdcHelpService) {
        var controller = ['$scope', function ($scope) {

            $scope.help = function () {
                $scope.helpConfig = {
                    index: $scope.helpIndex,
                    solution: $scope.solution,
                    ref: $scope.ref
                };
                fdcHelpService.opennokiaHelp($scope.helpConfig);
            };
        }],

            template = '<a ng-class="{\'help-node\' : !ref, \'pull-right\': !ref}" href="" ng-click="help()" name="Help{{helpIndex}}">' +
                '<span ng-if="!ref" class="glyphicon glyphicon-question-sign"></span> {{label}}</a>';
            

        return {
            restrict: 'EA', //Default in 1.3+
            replace: true,
            scope: {
                helpIndex: '@',
                label: '@',
                solution: '@',
                ref: '@'
            },
            controller: controller,
            template: template
        };
    }])
    .directive('scrollToBottom', ['$timeout', '$window', function ($timeout, $window) {
        return {
            scope: {
                scrollToBottom: "="
            },
            restrict: 'A',
            link: function (scope, element, attr) {
                scope.$watchCollection('scrollToBottom', function (newVal, oldVal) {
                    if (newVal) {
                        $timeout(function () {
                            if (newVal.length > oldVal.length) {
                                element[0].scrollTop = element[0].scrollHeight;
                            }
                        }, 0);
                    }

                });
            }
        };
    }])
    .directive('dynController', ['$compile', '$parse',
        function ($compile, $parse) {
            return {
                restrict: 'A',
                link: function (scope, elem, attrs) {
                    // Parse the scope variable
                    var name = $parse(elem.attr('dyn-controller'))(scope);
                    elem.removeAttr('dyn-controller');
                    elem.attr('ng-controller', name);

                    // Compile the element with the ng-controller attribute
                    $compile(elem)(scope);
                }
            };
        }])
        .directive('picLoad', ['$parse', function ($parse) {
            return {
              restrict: 'A',
              link: function (scope, elem, attrs) {
                var fn = $parse(attrs.sbLoad);
                elem.on('load', function (event) {
                  scope.$apply(function() {
                    fn(scope, { $event: event });
                  });
                });
              }
            };
          }])
          .directive('toNumber', function() {
            return {
              restrict: 'A',
              require: 'ngModel',
              link: function(scope, $el, attrs, ngModel) {
                  ngModel.$parsers.push(function(value) {
                   if(!value) //set value=0; 
                   value=0;                      
                   return value.toString();
                  });
          
                  ngModel.$formatters.push(function(value) {
                    return Number(value);
                  });
              }
            }
          })
       .directive('customDirective', [function() {
           return {
                restrict: 'A',
                scope: {
                    menu: '=',
                    index: "="
                },
                link: function(scope, element, attrs) {
                   element.on('click', function(event) {
                       // Handle the click event
                       for(var i=0 ; i < scope.menu.length;i++) {
                           scope.menu[i].id = null;
                           scope.menu[i].active = false;
                       }
                       var currentIndex = parseInt(scope.index);
                       scope.tab_data = scope.menu[currentIndex];
                       scope.tab_data.id = "active_element";
                       scope.tab_data.active = true;
                    });
                    // Clean up the event listener when the scope is destroyed
                    scope.$on('$destroy', function() {
                       element.off('click');
                    })

                    element.on('keydown', function(event) {
                        if (event.keyCode === 39 || event.keyCode === 37) {
                            event.preventDefault();
                            var currentIndex = parseInt(scope.index);
                            var nextIndex = 0;
                            if (event.keyCode === 39) { //Right Arrow
                                nextIndex = currentIndex + 1;
                                if (typeof scope.menu[nextIndex] !== 'undefined' && scope.menu[nextIndex].label === '') {
                                    nextIndex = nextIndex + 1;
                                }

                                if (nextIndex === scope.menu.length) { //Circular rotation of tabs when max length is reached
                                    nextIndex = 0;
                                }

                            }
                            else if (event.keyCode === 37) { //Left Arrow
                                nextIndex = currentIndex -1;
                                if (typeof scope.menu[nextIndex] !== 'undefined' && scope.menu[nextIndex].label === '') {
                                    nextIndex = nextIndex - 1;
                                }
                                if (nextIndex === -1) { //Circular rotation of tabs when first element is reached
                                    nextIndex = scope.menu.length-1;
                                }
                            }
                            name = "";
                            if (typeof scope.menu[nextIndex].name !== 'undefined' && scope.menu[nextIndex].name !== null) {
                                name = scope.menu[nextIndex].name;
                            }
                            else {
                                name = scope.menu[nextIndex].label;
                            }
                            //Do not set the active state here. It should be set in Enter or space key case.
                            var nextElement = angular.element(document.getElementsByName(name));
                            nextElement.focus();
                        }
                        else if (event.keyCode === 38 || event.keyCode === 40) {
                            /* Up and Down arrow keys not working .The index is updated properly and focus is not working */
                            /*event.preventDefault();*/
                            var currentIndex = parseInt(scope.index);
                            var nextIndex = 0;
                            if (event.keyCode === 38) { //Up Arrow
                                nextIndex = currentIndex - 1;
                                if (typeof scope.menu[nextIndex] !== 'undefined' && scope.menu[nextIndex].label === '') {
                                    nextIndex = nextIndex + 1;
                                }

                                if (nextIndex <= -1) {
                                    nextIndex = scope.menu.length;
                                }

                           }
                           else if (event.keyCode === 40){ //down arrow
                                nextIndex = currentIndex + 1;
                                if (typeof scope.menu[nextIndex] !== 'undefined' && scope.menu[nextIndex].label === '') {
                                    nextIndex = nextIndex - 1;
                                }
                                if (nextIndex === scope.menu.length) {
                                    nextIndex = 0;
                                }
                           }
                           name = "";
                           if (typeof scope.menu[nextIndex].name !== 'undefined' && scope.menu[nextIndex].name !== null) {
                               name = scope.menu[nextIndex].name;
                               var nextElement = angular.element(document.getElementsByName(name));
                               nextElement.focus();
                            }
                      }
                      else if (event.key === 'Home' || event.key === 'End') {
                           var index = 0;
                           if (event.key === 'End') {
                                   index = scope.menu.length-1;
                           }
                           var nextElement = angular.element(document.getElementsByName(scope.menu[index].name));
                           nextElement.focus();
                      }
                      else if (event.key === 'Enter' || event.key === ' ') {
                           var currentIndex = parseInt(scope.index);
                           for(var i=0 ; i < scope.menu.length;i++) {
                               scope.menu[i].id = null;
                               scope.menu[i].active = false;
                           }
                           scope.tab_data = scope.menu[currentIndex];
                           scope.tab_data.id = "active_element";
                           scope.tab_data.active = true;
                           if (event.key === ' ') {
                               var nextElement = angular.element(document.getElementsByName(scope.menu[currentIndex].name));
                               nextElement.focus();
                           }
                      }

                   });
                }
           };
        }])
        .directive('keypressButton', function () {
            return {
                restrict: 'A',
                scope: {
                    event: '=',
                    keypress: '&'
                },
                link: function (scope, element, attrs) {
                    element.on('keydown', function (event, scope) {
                        if (event.keyCode === 40) { //Down Arrow
                            event.preventDefault();
                            var currentElement = event.target;
                            var nextElement = currentElement.nextElementSibling;
                            
                            if (nextElement !== null && nextElement.querySelector('a') !== null) {
                                var child = nextElement.querySelector('a').focus();
                            } else if (nextElement !== null) {
                                nextElement.focus();
                            } else {
                                var currentElement = event.target.parentElement;
                                var child = currentElement.firstElementChild.focus();
                            }
                          }
                          if (event.keyCode === 38) { //Up Arrow
                            event.preventDefault();
                            var currentElement = event.target;
                            var previousElement = currentElement.previousElementSibling;
                            
                            if (previousElement !== null && previousElement.querySelector('a') !== null) {
                                var child = previousElement.querySelector('a').focus();
                            } else if (previousElement !== null) {
                                previousElement.focus();
                            } else {
                                var currentElement = event.target.parentElement;
                                var child = currentElement.lastElementChild.focus();
                            }
                          }
                    });
                }
            };
       })
        .directive('customDialog', function() {
            return {
                restrict: 'E',
                transclude: true,
                scope: {
                    templateUrl: '@'
                },
                template:
                  '<div class="dialog-backdrop" ng-click="closeDialog($event)">' +
                  '<div class="dialog-content" ng-include="fabric/design/input/rack/rackDetailsTmpl.html" tabindex="0"></div>' +
                  '</div>'
                 ,
                 link: function(scope, element) {
                 const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
                 const firstFocusableElement = element[0].querySelectorAll(focusableElements)[0];
                 const focusableContent = element[0].querySelectorAll(focusableElements);
                 const lastFocusableElement = focusableContent[focusableContent.length - 1];
                 element[0].addEventListener('keydown', function(e) {
                     const isTabPressed = (e.key === 'Tab' || e.keyCode === 9);
                     if (!isTabPressed) {
                         return;
                     }

                     if (e.shiftKey) {
                         if (document.activeElement === firstFocusableElement) {
                             lastFocusableElement.focus();
                              e.preventDefault();
                         }
                     } else {
                         if (document.activeElement === lastFocusableElement) {
                             firstFocusableElement.focus();
                             e.preventDefault();
                     }
                }
              });

              firstFocusableElement.focus();

              scope.closeDialog = function(event) {
                  if (event.target.className === 'dialog-backdrop') {
                      element.remove();
                  }
              };
           }
         };
       })

          // The directive that will be dynamically rendered
        .directive('bindUnsafeHtml', [function () {            
            return {
                template:"<div role='status'>{{directiveData.msg}}</div>"
            };
        }]);

angular
  .module(APP_NAME)
  .controller('mainController', ['$rootScope', '$scope', '$state', 'Idle', 'dlcuiModal','$timeout','$uibModal', function ($rootScope, $scope, $state, Idle, dlcuiModal,$timeout,$uibModal) {
    $scope.idle = 300;
    $scope.timeout = 1200;

    $scope.$on('IdleStart', function () {
    });

    $scope.$on('IdleEnd', function () {
    });

    $scope.$on('IdleWarn', function (e, countdown) {
    });

    $scope.$on('IdleTimeout', function () {
      $rootScope.logoutFinish();
    });

    $scope.$on('Keepalive', function () {
    });

    $scope.$watch('idle', function (value) {
      if (value !== null) Idle.setIdle(value);
    });

    $scope.$watch('timeout', function (value) {
      if (value !== null) Idle.setTimeout(value);
    });

    $scope.$watch('userType', function (val) {
      if (val && $scope.agreementDone) {
        submitFeedback();
      }
    });

    $scope.$watch('agreementDone', function (val) {
      if (val && $scope.userType) {
        submitFeedback();
      }
    });

    function submitFeedback() {
      var modalScope = dlcuiModal({
        templateUrl: 'fabric/layout/feedback/feedback.html',
        controller: 'feedbackCommentCtrl',
        visible: false,
        backdrop: true,
      'static': true,
        keyboard: true
      });
      
      modalScope.modal.show();
      $timeout(function(){
        var id = document.getElementsByName("designFabric")
        var element = angular.element(id);
        element[0].focus();
      }, 2000);
      // modalScope.questions = angular.copy(res.data.questions);

    }

  }]);


angular
  .module(APP_NAME)
  .directive('validationDirective', ['$timeout', function ($timeout) {
    return {
      require: 'ngModel',
      link: function (scope, element, attr, mCtrl) {

        attr.$set('tooltipTrigger', "'focus'");
        attr.$set('tooltipPlacement', 'bottom-right');
        var fieldName = mCtrl.$$parentForm.$name + "." + attr.name + ".";
        attr.$set('uibTooltip', '');
        attr.$set('tooltipIsOpen', fieldName + "focus && " + fieldName + "$invalid");
        if((element.attr('nodirtycheck'))){
          attr.$set('tooltipIsOpen',fieldName + "$invalid");
        }
        attr.$set('tooltipEnable', fieldName + "$invalid");

        element.bind('focus', function (e) {
          mCtrl.focus = true;
        });

        element.bind('blur', function (e) {
          mCtrl.focus = false;
        });

        scope.$watch(function () {
          return mCtrl.$viewValue;
        }, function (newValue, oldValue) {
          if (mCtrl.$invalid) {
            if (mCtrl.$error.required) {
              attr.$set('uibTooltip', "This value is required.");
            } else if (mCtrl.$error.min) {
              attr.$set('uibTooltip', "This value may not be less than " + attr.min + ".");
            } else if (mCtrl.$error.max) {
              attr.$set('uibTooltip', "This value may not be more than " + attr.max + ".");
            } else if (mCtrl.$error.pattern) {
              if (attr.patternMsg) {
                attr.$set('uibTooltip', attr.patternMsg);
            } else {
                const specialCharacters = /[!@#$%^&*(),.?":{}|<>]/g;
                var errorMsg = "This value is not valid.";
                if (specialCharacters.test(newValue)) {
                  errorMsg = "This value cannot contain special characters.";
                }
                attr.$set('uibTooltip', errorMsg);
              }
            }
            else if (mCtrl.$error.minlength) {
              attr.$set('uibTooltip', "This value should not be less than " + attr.minlength + " characters.");
            }
            else if (mCtrl.$error.maxlength) {
              attr.$set('uibTooltip', "This value should not be more than " + attr.maxlength +" characters.");
            }
            attr.$set('ngModelOptions', "{ updateOn: 'default'}");
          } else {
            attr.$set('uibTooltip', "");
          }

        }, true);

      }
    };
  }]).directive('ngDropdownRequired', function () {
    return {
      restrict: 'A',
      require: '?ngModel',
      link: function ($scope, elem, attrs, ngModel) {

        attrs.$set('tooltipTrigger', "'focus'");
        attrs.$set('tooltipPlacement', 'top-left');
        var fieldName = ngModel.$$parentForm.$name + "." + attrs.name + ".";
        attrs.$set('uibTooltip', '');
        attrs.$set('tooltipIsOpen', fieldName + "$invalid");
        attrs.$set('tooltipEnable', fieldName + "$invalid");

        elem.bind('focus', function (e) {
          ngModel.focus = true;
        });

        elem.bind('blur', function (e) {
          ngModel.focus = false;
        });

        $scope.updateForm = function (model, mode) {
          model.$setValidity("requiredSelect", mode);
        }

        $scope.checkModel = function (model) {
          return !((angular.isObject(model) && angular.equals(model, {})) || (angular.isArray(model) && model.length == 0));
        }

        $scope.$watch(attrs.selectedModel, function (val) {
          $scope.updateForm(ngModel, $scope.checkModel(val));
        }, true);

        $scope.$watch(function () {
          return ngModel.$viewValue;
        }, function (newValue, oldValue) {

          if (ngModel.$invalid) {
            if (ngModel.$error.requiredSelect) {
              attrs.$set('uibTooltip', "This value is required.");
            }
            attrs.$set('ngModelOptions', "{ updateOn: 'default'}");
          } else {
            attrs.$set('uibTooltip', "");
          }

        }, true);

      }
    };
  });;

angular
    .module(APP_NAME)
    .controller('tncController', ['$rootScope', '$scope', '$state', 'fabricService', function ($rootScope, $scope, $state, fabricService) {
        $scope.termsAgree = false;
        $rootScope.$emit("hideHeader");
        $scope.ok = function () {
            $scope.preventEnter = function(event) {
                if (event.which === 13) {
                  event.preventDefault();
                }
              };
            $rootScope.$emit("showHeader");
            fabricService.setAgreement();
            $state.go('networkFabric');
            $scope.termsAgree = true;
        }
        if (fabricService.getAgreement()) {
            $rootScope.$emit("showHeader");
            fabricService.setAgreement();
            $state.go('networkFabric');
        }
        $scope.printTerms = function(id) {
            var printContents = '<h1 style="text-align:center">Fabric Design Center</h1><h2>Terms of Use</h2>';
            printContents += document.getElementById(id).innerHTML;
            var popupWin = window.open('', '_blank', 'width=900,height=600');
            popupWin.document.open();
            popupWin.document.write('<!DOCTYPE html><html lang="en-US"><head></head><body onload="window.print()"><main>' + printContents + '</main></body></html>');
            popupWin.document.close();
            popupWin.close();
          } 
    }]); 

angular
	.module(APP_NAME)
	.controller('headerCrl', ['$scope', '$rootScope', '$location', '$state', '$translate', '$log', '$http', 'dlcuiConfirmDialog', 'fabricService', 'FileSaver', 'Blob', '$transitions', 'spinnerOverlay', 'fabricInputService', 'dlcuiModal','$cookies','$timeout',
		function ($scope, $rootScope, $location, $state, $translate, $log, $http, dlcuiConfirmDialog, fabricService, FileSaver, Blob, $transitions, spinnerOverlay, fabricInputService, dlcuiModal,$cookies,$timeout) {
			$scope.active = {};
			$scope.activeId = null;

			//$scope.hideheader = true;
			$rootScope.$on('hideHeader',function(){
				$scope.hideheader = true;
			});

			$rootScope.menuOptions = {
				pageLabel: '',
				notInHome: false
			};

			$rootScope.$on('showHeader',function(){
				$scope.hideheader = false;
			});
			
			$scope.$on('data-received', function () {
				$scope.label = $rootScope.baseDefn.label;
			});

			$scope.setActive = function (menuItem) {
				$scope.active = menuItem;
			};

			/*$transitions.onEnter({}, function(transition, state) {
				if(state.name == 'fabricOutput') {
					$scope.submitFeedback();
				}
			  });*/

			$transitions.onStart({}, function ($transition) {
				console.log($rootScope.authorized)
				if(!$rootScope.authorized)
				{
				}
				else{
				if(!fabricService.getAgreement() && $transition.$to().name !== 'tnc'){
					$state.go('tnc');
				}else if(fabricService.getAgreement() && $transition.$to().name == 'tnc'){
					$timeout(function(){
						var id = document.getElementsByName("Helpfdc_home")
						var element = angular.element(id);
						element[0].focus();
					}, 1000);
					$scope.hideheader = false;
					$state.go('networkFabric');
				}
					}	
			});

			$transitions.onSuccess({}, function ($transition) {
				console.log($rootScope.authorized)
				if(!$rootScope.authorized)
				{	
				}
				else
				{
				$scope.activeId = $transition.$to().name;
					if (fabricService.getAgreement()) {
						$rootScope.agreementDone = true;
						$scope.hideheader = false;
					}
					if(!fabricService.getAgreement() && $transition.$to().name !== 'tnc'){
						$state.go('tnc');
					}
					else
					{
						if($transition.$to().name=="networkFabric")
						{
							$timeout(function(){
							var id = document.getElementsByName("Helpfdc_home")
							var element = angular.element(id);
							element[0].focus();
							}, 1000);
						}
					}
				}
			});

			$scope.headerOptions = [{
				label: $translate.instant('general.help'),
				id: 'help',
				name: 'fdc_app_help_menu'
			},
			{
				label: $translate.instant("general.whatsNew"),
				id: 'whatsNew',
				name: 'fdc_app_logout_menu'
			},
			{
				label: $translate.instant('general.logout'),
				id: 'logout',
				name: 'fdc_app_logout_menu'
			}]

			$scope.menu = [{
				label: 'Home',
				icon: 'home',
				id: 'networkFabric',
				name: 'menu_home'
			},{
				label: '',
				show: true
			},{
				label: $translate.instant('general.turnkeyNetworkDesign'),
				id: 'networkFabric',
				name: 'menu_turn_key',
				hide: true
			},
			{
				label: $translate.instant('general.verticalSolutionsDesign'),
				id: 'verticalSolutions',
				name: 'menu_vertical_solutions',
				hide: true
			}, {
				label: $translate.instant('general.buildNetworkDesign'),
				id: 'ownNetwork',
				name: 'menu_own_network',
				hide: true
			}, {
				label: $translate.instant('general.import'),
				id: 'import',
				name: 'menu_import',
				hide: true
			},
			{
				label: $translate.instant('general.importPS'),
				id: 'importPS',
				name: 'menu_import_PS',
				hide: true
			},
			/*{
				label: $translate.instant('general.cablesAndOptics'),
				id: 'cablesOptics',
				name: 'menu_cablesAndOptics',
				hide: true
			},*/
			{
				label: $translate.instant('general.OS9toOS10Conversion'),
				id: 'configConversion',
				name: 'menu_configConversion',
				hide: true,
				beta: true
			}];

			$scope.status = {
				isopen: false
			};

			$scope.toggled = function (open) {
				$log.log('Dropdown is now: ', open);
			};

			var alertDialog = dlcuiConfirmDialog({
				title: 'Close Fabric Design',
					message: 'This will close the fabric design and discard all changes. Do you want to save the fabric design before closing it?',
					keyboard: true,
					buttons: [{
						label: 'Save and Close Design',
						promise: 'resolve',
						dlcuiType: 'primary',
						value: 'save',
						focus: true
					}, {
						label: 'Discard Design',
						promise: 'resolve',
						value: false
					}, {
						label: 'Cancel',
						promise: 'reject',
						value: false
					}]
			});

			var confirmDialog = dlcuiConfirmDialog({
				title: $translate.instant('general.confirm'),
				message: $translate.instant('general.unsavedMessage')
			});

			$scope.logout = function () {
				if (fabricService.getData()) {
					alertDialog().then(function (val) {
						if (val) {
							$scope.exportFabric($scope.finishLogout);
						} else {
							$scope.finishLogout();
						}
					}, function () {
						
					});
				} else if ($rootScope.clusterInputAdded) {
					confirmDialog().then(function () {
						$scope.finishLogout();
					}, function () {

					})
				} else {
					$scope.finishLogout();
				}
			}

			$scope.exportFabric = function(callback) {
				spinnerOverlay.start();
				fabricService.fabricName().then(function(response) {
				if(response && response.fabricname){
					var exportFileName = 'FDC-'+response.fabricname+'.json';			
					var fabricdata = fabricService.getData();
					fabricService.getFabricDataAsJson(fabricdata).then(function(response){
						var jsonstring=JSON.stringify(response.lzfabricdata);
						//var dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(data);
						var blob_data = new Blob([jsonstring], { type: 'data:application/json;charset=utf-8'});
						FileSaver.saveAs(blob_data, exportFileName);
						callback && callback();
						fabricInputService.displayToaster('success', 'Download', 'Downloaded successfully');
						spinnerOverlay.stop();
					}, function() {
						spinnerOverlay.stop();
						fabricInputService.displayToaster('error', 'Download', 'Error while downloading');
					});
				}
				});
			
		    }
			$rootScope.logoutPage = function (text) {
				window.localStorage.removeItem("agreement");
				var logoutHTML = '<nav class="navbar navbar-inverse firstHeaderBg">' +
					'<div class="container-fluid">' +
					'<div class="navbar-header">' +
					'<div class="navbar-brand header-logo" name="fdc_application_title">' +
					'<img alt="Dell Technologies Logo" src="styles/images/logos/DellTech_Logo_Prm_Wht_rgb.png" />' +
					'</div>' +
					'<span class="logo-text">Fabric Design Center</span>' +
					'</div>' +
					'</div>' +
					'</nav>' +
					'<div class="container-fluid"><div class="row text-center"><h3 class="vcenter">' + (text || 'You have been logged out! Click <a href="/" onclick="return window.location.reload(true);"">here</a> to login') + '</h3></div></div>' +
					'<footer class="footer">' +
					'<div class="container-fluid"><span class="feedback ng-binding">&copy;2025 Dell, Inc.</sapn></div>' +
					'</footer>';
				document.body.innerHTML = logoutHTML;
			}
			$scope.finishLogout = function () {
				$http.delete('/rest/auth')
					.then(function () {
						/**PIWIK Analytics */
						/*_paq.push(['resetUserId']);
                        _paq.push(['trackPageView']);*/
						/**End of PIWIK Analytics */
						// For active server session						
						/*console.log($cookies)
						angular.forEach($cookies, function (v, k) {
							$cookies.remove(k);
						});*/
						fabricService.removeData();
						$rootScope.logoutPage();
					}, function () {
						// If the server session deleted before client auto logout.
						/*console.log($cookies)		
						angular.forEach($cookies, function (v, k) {
							$cookies.remove(k);
						  });	*/			
						fabricService.removeData();
						$rootScope.logoutPage();
					});
			}

			$scope.submitFeedback = function () {
				feedbackDefaults().then(function(res) {
					var modalScope = dlcuiModal({
						type: 'bare',
						templateUrl: 'fabric/layout/feedback/feedback.html',
						controller: 'feedbackCommentCtrl',
						visible: false,
						backdrop: false
					  });
					  modalScope.modal.show();
					  modalScope.questions = angular.copy(res.data.questions);
				}, function(){

				})

			  }

			  function feedbackDefaults() {
				  return $http({
					method: 'get',
					url: 'rest/common/feedbackdefaults/'
				})
			  }

			$rootScope.logoutFinish = $scope.finishLogout;
		}]);


angular
	.module(APP_NAME)
	.directive('rudHeader', function() {

		return {
			restrict: 'E',	
			scope : {},
	   		templateUrl: 'fabric/layout/header/header.html',
	  		controller: 'headerCrl'
		};

	});

angular
	.module(APP_NAME)
	.controller('footerCtrl', ['$scope', '$rootScope', '$translate', 'dlcuiModal','spinnerOverlay','fabricInputService','$state','FileSaver','$http','$timeout', function ($scope, $rootScope, $translate, dlcuiModal,spinnerOverlay,fabricInputService,$state,FileSaver,$http,$timeout) {

		$scope.privacy = function () {
			/*var privacyModal = dlcuiModal({
				type: 'bare',
				templateUrl: 'fabric/layout/disclosures/privacy.html',
				visible: false,
				scope: $scope
			});
			privacyModal.modal.show();
			privacyModal.title = $translate.instant('general.privacyStatement');
			privacyModal.text = $translate.instant('privacy.text');*/
		};

		$scope.terms = function () {
			/*var termsModal = dlcuiModal({
				type: 'bare',
				templateUrl: 'fabric/layout/disclosures/terms.html',
				visible: false,
				scope: $scope
			});
			termsModal.modal.show();
			termsModal.title = $translate.instant('general.terms') + ' ' + $translate.instant('general.and') + ' ' + $translate.instant('general.conditions');
			termsModal.text = $translate.instant('terms.text');*/
		};

		$rootScope.$on('hideHeader', function () {
			$scope.hidefooter = true;
		});

		$rootScope.$on('showHeader', function () {
			$scope.hidefooter = false;
		});
		
		$scope.reports = function()
		{
			var config = {
				headers : {
					'Content-Type': 'application/json'
				},				
            }
            //Enable only for valid users
            data = "Get User Reports"
			spinnerOverlay.start();	
            $http.post('/rest/common/get_user_reports/',data, {responseType:'arraybuffer'},config)
                .then(function (allswitchconfigs, status, headers, config) {
                    var contentDispositionHeader = allswitchconfigs.headers('Content-Disposition');
                    var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
                    FileSaver.saveAs(blob_data, 'reports.zip');
                    fabricInputService.displayToaster('success', 'User Reports', 'Downloaded successfully');
                    spinnerOverlay.stop();
                },function (configerror, status, header, config) {
					spinnerOverlay.stop();
                    fabricInputService.displayToaster('error', 'Not Authorized to download user reports', '');
                });
		}
		$scope.feedback = function () {
			$scope.feedbackinput = {
				type: '',
				message: '',
				title: ''
			};
			var feedback = dlcuiModal({
				type: 'bare',
				templateUrl: 'fabric/layout/disclosures/feedback.html',
				controller: 'feedbackCtrl',
				visible: false,
				backdrop: 'static',
				scope: $scope
			});			
			$scope.feedbackModal = feedback;
			feedback.modal.show();
			$timeout(function(){
				var id = document.getElementsByName("fdc_feedback_type")
				var element = angular.element(id);
				element[0].focus();
				var id = document.getElementsByName("fdc_feedback_type")
				var last_id = document.getElementsByName("fdc_feedback_input_cancel")
				var firstFocusableElement = angular.element(id);
				var lastFocusableElement = angular.element(last_id);
				document.addEventListener('keydown', function(e) {
				var isTabPressed = e.key === 'Tab' || e.keyCode === 9;
				if (!isTabPressed) {
				return;
				}
				if (e.shiftKey) { // if shift key pressed for shift + tab combination
				if (document.activeElement === firstFocusableElement[0]) {
				lastFocusableElement[0].focus(); // add focus for the last focusable element
				e.preventDefault();
				}
				} else { // if tab key is pressed
				if (document.activeElement === lastFocusableElement[0]) { // if focused has reached to last focusable element then focus first focusable element after pressing tab
				firstFocusableElement[0].focus(); // add focus for the first focusable element
				e.preventDefault();
				}
				}
				});
			}, 2000);		
			feedback.title = $translate.instant('general.feedback');

		};

		/*$scope.validate = function(){
			console.log($scope.feedbackinput);
			$scope.feedbackModal.modal.dismiss();
		}
		
		$scope.feedbackType = ['Suggestion','Request','Defect'];
        $scope.feedbackinput = {
            type:'',
            message:'',
            title:''
		};*/

	}]); 

angular
	.module(APP_NAME)
	.directive('rudFooter', function() {

		return {
			restrict: 'E',	
			scope : {},
	   		templateUrl: 'fabric/layout/footer/footer.html',
	  		controller: 'footerCtrl'
		};

	});
angular
	.module(APP_NAME)
	.controller('networkFabricCtrl', ['$scope', '$state', '$translate', 'dlcuiConfirmDialog', 'fabricService', 'FileSaver', 'Blob', '$rootScope', 'fabricInputService',
		function ($scope, $state, $translate, dlcuiConfirmDialog, fabricService, FileSaver, Blob, $rootScope, fabricInputService) {
			
              $scope.goTo = function (obj) {
				  if(obj.name=='MX7000'){
					$state.go('MX7000Fabric', { networkFabric: obj });
				  }else{
					$state.go('fabricInput', { networkFabric: obj });
			      }
			};

			fabricInputService.clusterCountReset();
			fabricInputService.vLANcount = 1; // Reset vLAN count
			var alertDialog = dlcuiConfirmDialog({
				title: $translate.instant('general.confirm'),
				message: $translate.instant('general.fabricConfirm')
			});

			// Menu text update
			$rootScope.menuOptions.notInHome = false;

			if (fabricService.getData()) {
				/*alertDialog().then(function () {
					$scope.exportFabric();
				}, function () {
					fabricService.removeData();
				});*/
			}

			$scope.exportFabric = function () {

				var fabricdata = JSON.stringify(fabricService.getData());
				//var dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(data);
				var blob_data = new Blob([fabricdata], { type: 'data:application/json;charset=utf-8' });
				fabricService.fabricName().then(function(response) {
					FileSaver.saveAs(blob_data, 'FDC-' + response.fabricname + '.json');
				 });
				//fabricService.removeData();
			}

			$scope.items = fabricService.getFabricConfig();
			$scope.imgLoaded = false;
			$scope.onImgLoad = function(event) {
				$scope.imgLoaded = true;
			};

		}]);

angular
	.module(APP_NAME)
	.controller('verticalSolutionsCtrl', ['$scope', '$state', '$translate', 'dlcuiConfirmDialog', 'fabricService', 'FileSaver', 'Blob', '$rootScope', 'fabricInputService',
		function ($scope, $state, $translate, dlcuiConfirmDialog, fabricService, FileSaver, Blob, $rootScope, fabricInputService) {
			
              $scope.goTo = function (obj) {
				  {
					$state.go('VerticalSolutionsfabricInput', { networkFabric: obj });
			      }
			};

			fabricInputService.clusterCountReset();
			fabricInputService.vLANcount = 1; // Reset vLAN count
			var alertDialog = dlcuiConfirmDialog({
				title: $translate.instant('general.confirm'),
				message: $translate.instant('general.fabricConfirm')
			});

			// Menu text update
			$rootScope.menuOptions.notInHome = false;

			if (fabricService.getData()) {
				/*alertDialog().then(function () {
					$scope.exportFabric();
				}, function () {
					fabricService.removeData();
				});*/
			}

			$scope.exportFabric = function () {

				var fabricdata = JSON.stringify(fabricService.getData());
				//var dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(data);
				var blob_data = new Blob([fabricdata], { type: 'data:application/json;charset=utf-8' });
				fabricService.fabricName().then(function(response) {
					FileSaver.saveAs(blob_data, 'FDC-' + response.fabricname + '.json');
				 });
				//fabricService.removeData();
			}

			$scope.items = fabricService.getVerticalSolutionsFabricConfig();
			$scope.imgLoaded = false;
			$scope.onImgLoad = function(event) {
				$scope.imgLoaded = true;
			};

		}]);

angular
	.module(APP_NAME)
	.controller('verticalSolutionsfabricInputCtrl', ['$scope', '$rootScope', '$state', 'dlcuiModal', 'dlcuiAlertDialog', 'dlcuiConfirmDialog', '$translate', '$http', '$cookies', 'spinnerOverlay',
		'fabricService', '$transitions', '$q', '$timeout', 'fabricInputService', '$stateParams', 'toaster', 'FileUploader', 'helpMapping',
		function ($scope, $rootScope, $state, dlcuiModal, dlcuiAlertDialog, dlcuiConfirmDialog, $translate, $http, $cookies, spinnerOverlay,
			fabricService, $transitions, $q, $timeout, fabricInputService, $stateParams, toaster, FileUploader, helpMapping) {


			$rootScope.clusterInputAdded = false;

			$scope.fabricInputParams = $stateParams.networkFabric;

			fabricService.inFabricOutput = false;

			$scope.clusterVlanId = {
				val: 1
			};

			$scope.fabricInputs = {
				"name": ($scope.fabricInputParams.name.length)>=9?$scope.fabricInputParams.name :$scope.fabricInputParams.name + "-fabric",
				"type": $scope.fabricInputParams.fabricInputs.type,
				"description": "test",
				"enableSingleRackDeployment":false,
				"version": "",
				"clusterInputs": {},
				"deploymentType":"OS10 Fabric"
			};
			//	 $scope.fabricInputs.clusterInputs=new Array();
			$scope.fabricInputs.versionlist = {};
			$scope.fabricInputs.versionlist.vxrail = ["4.5", "4.7","7.0","8.0"];

			// For help  page setup
			$scope.help = {
				solution: '',
				ref: helpMapping.vertialSolutionrefArchitecture
			}

			$('[name="fdc_solution_name"]').focus();

			// Menu text update
			$rootScope.menuOptions.pageLabel = $stateParams.networkFabric.label;
			$rootScope.menuOptions.notInHome = true;

			$scope.title = $stateParams.networkFabric.label;
			$scope.controller = $stateParams.networkFabric.fabricInputs.clusterCtrl;
			$scope.template = $stateParams.networkFabric.fabricInputs.clusterModal;

			spinnerOverlay.start();
			$scope.addclusterbydefault = function(url)
			{
				spinnerOverlay.start();
				fabricInputService.getDefaults(url)
				.then(function(res)
				{
					angular.forEach(res.data, function (cluster, key) {
						angular.forEach(cluster, function (item){
						item.lagMode = $scope.fabricInputs.clusterDefaults['compute'].lagMode
						$scope.fabricInputs.clusterInputs[key].push(item);
						if ($scope.fabricInputs.clusterInputs[key].length) {
							fabricInputService.clusterCount[item.clusterType] += 1;
							fabricInputService.vLANcount += 1;
							isClusterAdded = true;
							}
						});
					});
					spinnerOverlay.stop();
				},
				function () {
					spinnerOverlay.stop();
					fabricInputService.displayToaster('error', 'Cluster defaults', 'Could not get cluster defaults');
				});	
			}
			$scope.getDefaultCluster = function (url, clearClusters) {

				fabricInputService.getDefaults(url)
					.then(function (res) {
						$scope.fabricInputs.clusterDefaults = res.data;
						spinnerOverlay.stop();
						$scope.help.solution = $scope.fabricInputParams.name.toLowerCase();
						$scope.clusterTypeLength = Object.keys($scope.fabricInputs.clusterDefaults).length;
						/*By default 'enableSingleRackDeployment' is set to false for other solutions except Unity storage*/
						$scope.fabricInputs.enableSingleRackDeployment=angular.copy($scope.fabricInputs.enableSingleRackDeployment);
						 
						var dummymodel;
						angular.forEach($scope.fabricInputs.clusterDefaults, function (val, key) {
							dummymodel = $scope.fabricInputs.clusterInputs[key];
							if (clearClusters || !dummymodel) {
								$scope.fabricInputs.clusterInputs[key] = [];
								// reset cluster & vlan count
								fabricInputService.clusterCount[$scope.fabricInputParams.fabricInputs.type] = 1;
								fabricInputService.vLANcount = 1;
							} else {
								$scope.fabricInputs.clusterInputs[key] = dummymodel;
							}
						});
						if($scope.fabricInputs.type=='ORACLE_RAC'){
							$scope.fabricInputs.enableSingleRackDeployment = true
							$scope.addclusterbydefault($scope.fabricInputParams.fabricInputs.clusterdefaults)
						}
					},
						function () {
							spinnerOverlay.stop();
							fabricInputService.displayToaster('error', 'Cluster defaults', 'Could not get cluster defaults');
						});
			}
			if ($scope.fabricInputParams.fabricInputs.type == "SAP_HANA") {
				$scope.fabricInputs.version = "7.0";
			}
			function isClustersExists() {
				var isClusterAdded = false;
				angular.forEach($scope.fabricInputs.clusterInputs, function (item, key) {
					if ($scope.fabricInputs.clusterInputs[key].length) {
						isClusterAdded = true;
					}
				});
				return isClusterAdded
			}
			$scope.$watch('fabricInputs.version', function (newvalue, oldvalue) {
				var currVal = newvalue;
				//$scope.fabricVersion = newvalue;
				var confirmDialog = dlcuiConfirmDialog({
					icon: 'warning',
					title: $translate.instant('general.delete'),
					message: 'Cluster Data will be lost. ' + $translate.instant('general.deleteWarning')
				});
				if (newvalue != "") newvalue = newvalue + "/";
				var clearClusterTable = true;
				if (Number(currVal) < Number(oldvalue)) {
					clearClusterTable = true;
					if (isClustersExists()) {
						confirmDialog().then(function () {
							$scope.getDefaultCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue, clearClusterTable)
						}, function () {
							$scope.getDefaultCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue, false);
							$scope.fabricInputs.version = oldvalue;
						});
					} else {
						$scope.getDefaultCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue, false);
					}
				} else {
					clearClusterTable = false;
					$scope.getDefaultCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue, clearClusterTable)
				}



			});
			$scope.openClusterModal = function (defaults, clusterType) {
				fabricInputService.openCluster($scope, defaults, clusterType);
			};

			$scope.clusterDataLost = false;

			$transitions.onStart({}, function ($transition) {
				if (!$stateParams.networkFabric || ($transition.$from().name == 'fabricOutput' && $transition.$to().name == 'fabricInput')) {
					$state.go('verticalSolutions');
				}

				if ($transition.$to().name == 'verticalSolutions') {
					fabricInputService.clusterCountReset();
					fabricInputService.vLANcount = 1; 	// Reset vLAN count
				}

				var alertDialog = dlcuiConfirmDialog({
					title: $translate.instant('general.confirm'),
					message: $translate.instant('general.unsavedMessage')
				});
				var isClusterAdded = false;

				angular.forEach($scope.fabricInputs.clusterInputs, function (item, key) {
					if ($scope.fabricInputs.clusterInputs[key].length) {
						isClusterAdded = true;
					}
				});
				if (isClusterAdded && !$scope.clusterDataLost) {
					var defered = $q.defer();

					alertDialog().then(function () {
						//$scope.clusterDataLost = true;
						$rootScope.clusterInputAdded = false;
						fabricService.removeData();
						defered.resolve();
						$scope.fabricInputs.clusterInputs = {};
						$scope.clusterDataLost = false;
						isClusterAdded = false;
						$state.go($transition.$to().name);
					}, function () {
						$scope.clusterDataLost = false;
						isClusterAdded = false;
						defered.reject('Cluster data will be lost');
					});

					return defered.promise;
				}


			});
			$scope.edit = function (_index, defaults, clusterType) {
				if($scope.fabricInputParams.fabricInputs.type =="ORACLE_RAC" && clusterType == "storage"){
					var depoymentModel=$scope.fabricInputs.clusterInputs[clusterType][_index].deploymentModel;
					var url=(depoymentModel=='PowerStore T/Q models')?'/rest/design/fabric/powerstore/defaults/':'/rest/design/fabric/powerstore/defaultsx/';
					fabricInputService.getDefaults(url)
						.then(function (res) {
							if(res && res.data && res.data.compute){
							fabricInputService.editCluster($scope, _index, res.data.compute, clusterType);
							//spinnerOverlay.stop();
							}

						},
							function () {
								//spinnerOverlay.stop();
							});	
					}else{
                      fabricInputService.editCluster($scope, _index, defaults, clusterType);
					}
			};

			// Select and delete clusters
			function getSelectedItems(clusterType) {
				var selectedItems = [];
				angular.forEach($scope.fabricInputs.clusterInputs[clusterType], function (item) {
					if (item.isSelected) {
						selectedItems.push(item);
					}
				});
				return selectedItems;
			};
			$scope.toggleSingleRackDeployment=function(){
			 $scope.fabricInputs.enableSingleRackDeployment=!$scope.fabricInputs.enableSingleRackDeployment;	
			}
			$scope.toggleAll = function (defaults, clusterType) {
				var toggleStatus = defaults.isAllSelected;
				angular.forEach($scope.fabricInputs.clusterInputs[clusterType], function (item) { item.isSelected = toggleStatus; });
			};
			$scope.optionToggled = function (defaults, clusterType) {
				defaults.isAllSelected = $scope.fabricInputs.clusterInputs[clusterType].every(function (item) { return item.isSelected; })
			};

			$scope.delete = function (defaults, clusterType) {

				var selectedItems = getSelectedItems(clusterType);
				var alertDialog = dlcuiAlertDialog({
					message: $translate.instant('general.selectToDelete')
				});

				var confirmDialog = dlcuiConfirmDialog({
					icon: 'warning',
					title: $translate.instant('general.delete'),
					message: $translate.instant('general.deleteWarning')
				});

				if (selectedItems.length == 0) {

					alertDialog().then(function () {

					});

				} else {

					$scope.status = '';
					confirmDialog().then(function () {


						$scope.fabricInputs.clusterInputs[clusterType].remove(selectedItems, true);
						fabricInputService.displayToaster('success', 'Delete Cluster', selectedItems.length + ' Cluster(s) deleted successfully');
						angular.forEach($scope.fabricInputs.clusterInputs[clusterType], function (item) {
							if (item.isSelected) {
								item.isSelected = false;
							}
						});

						if (!$scope.fabricInputs.clusterInputs[clusterType].length) {
							$rootScope.clusterInputAdded = false;
						}

						defaults.isAllSelected = false;

					}, function () {
						defaults.isAllSelected = false;
						angular.forEach($scope.fabricInputs.clusterInputs[clusterType], function (item) {
							if (item.isSelected) {
								item.isSelected = false;
							}
						});
					});
				}

			};

			// Next action after adding clusters
			$scope.getRecommendation = function () {
				var config = {
					headers: {
						'AcceptMethod':'write'
					}
				},            
				
					data = angular.copy($scope.fabricInputs);
				if ($scope.fabricInputParams.fabricInputs.type == "SAP_HANA") {
					fabricService.storeDesignType('vertical solutions');					
				} 
				else if($scope.fabricInputParams.fabricInputs.type == "ORACLE_RAC")
				{
					fabricService.storeDesignType('Oracle RAC');										
				}
				else {
					delete data.version;
				}
				var clusterArray = [];
				delete data.clusterDefaults;
				/*angular.forEach(data.clusterInputs, function (cluster) {
					clusterArray.push(cluster);
				});
				data.clusterInputs = clusterArray;*/
				var sendFabricURL = $scope.fabricInputParams.fabricInputs.sendFabric;
                /* Need to add  this code when version based fabric is created
				if($scope.fabricInputs.version && $scope.fabricInputs.version!="")
                      sendFabricURL=$scope.fabricInputParams.fabricInputs.sendFabric+$scope.fabricInputs.version+"/";
					  */
				if ($scope.fdc_fabric_form.$valid) {
					var addedClusterType = 0,
						noOfClusters = 0,
						alertType = [];

					angular.forEach($scope.fabricInputs.clusterInputs, function (item, key) {
						//noOfClusters++;
						if ($scope.fabricInputs.clusterInputs[key].length) {
							addedClusterType++;
						} else {
							alertType.push(key)
						}
					});
					if($scope.fabricInputParams.fabricInputs.type == "ORACLE_RAC")
					{
						if($scope.fabricInputs.clusterInputs['compute'].length<1)
						{
							addedClusterType = 0
							var alertDialog = dlcuiAlertDialog({
								message: $translate.instant('fabricInput.pleaseAdd') + ($scope.clusterTypeLength > 1 ? ' ' + alertType.join(' and ') + ' ' : ' ') + $translate.instant('fabricInput.addClusterDetailsMsg')
							});
							alertDialog().then(function () {

							});
						}
						/*//Not needed for oracle powerflex but needed for oracle powerstore
						else if($scope.fabricInputs.clusterInputs['storage'].length<1)
						{
							addedClusterType = 0 
							var alertDialog = dlcuiAlertDialog({
								message: $translate.instant('fabricInput.pleaseAdd') + ($scope.clusterTypeLength > 1 ? ' ' + alertType.join(' and ') + ' ' : ' ') + $translate.instant('fabricInput.addClusterDetailsMsg')
							});
							alertDialog().then(function () {
	
							});
						}*/						
					}
					if (addedClusterType) {
						spinnerOverlay.start();

						$http.post(sendFabricURL, data, config)
							.then(function (fabricdata, status, headers, config) {
								$scope.clusterDataLost = true;
								$rootScope.clusterInputAdded = false;
								fabricService.removeFabricId();
								//$rootScope.$broadcast('tab-logicalview');
								$rootScope.supported_tabs = undefined
								$state.go('fabricOutput', { networkFabric: $scope.fabricInputParams });
							}, function (clustererrror, status, header, config) {
								spinnerOverlay.stop();
								if (clustererrror.status == 500){
									fabricInputService.displayToaster('error', 'Fabric Creation', clustererrror.data.detail)
								}
							});

					} else {
						var alertDialog = dlcuiAlertDialog({
							message: $translate.instant('fabricInput.pleaseAdd') + ($scope.clusterTypeLength > 1 ? ' ' + alertType.join(' or ') + ' ' : ' ') + $translate.instant('fabricInput.addClusterDetailsMsg')
						});
						alertDialog().then(function () {

						});
					}
				} else {
					$('[name="fdc_solution_name"]').focus();
				}
			};
	
			FileUploader.FileSelect.prototype.isEmptyAfterSelection = function () {
				return true;
			};
							
		}]);
angular
	.module(APP_NAME)
	.controller('ownNetworkCtrl', ['$scope', '$state', '$translate', '$rootScope', 'fabricInputService', 'spinnerOverlay', '$http', 'fabricService', 'rackService', '$transitions', 'dlcuiConfirmDialog', '$q','$timeout','helpMapping','$stateParams',
		function ($scope, $state, $translate, $rootScope, fabricInputService, spinnerOverlay, $http, fabricService, rackService, $transitions, dlcuiConfirmDialog, $q, $timeout,helpMapping,$stateParams) {

			// Menu text update
			//$rootScope.menuOptions.notInHome = false;  
			$scope.help = {
				solution: 'byon',
				ref: helpMapping.refArchitecture
			}
			var rackEvents = $rootScope.$on('updateRacks', function (evt, data) {
				$scope.genericFabricInputs.workloadRacks = [];
				$scope.genericFabricInputs.workloadRacks = angular.copy(data.racks);
			});
			$scope.$on('$destroy', function() {
				rackEvents();
			});	
			
			$scope.gns3 = function()
			{
				$state.go('gnsFabric',{id:'gns3'});
			}
			var fabricCreated = false;
			fabricService.inFabricOutput = false;			
                        const buttons = ['ref-docs-simple-dropdown', 'gns3', 'help'];
                        // Function to handle keydown events
                        $scope.handleKeydown = function(event, currentIndex) {
                            var nextIndex = currentIndex;
                            // Only handle arrow keys
                            if (event.key === 'ArrowRight' || event.key === 'ArrowLeft') {
                                // Prevent the default action (e.g., moving cursor)
                                event.preventDefault();
                                // If ArrowRight, move to next button (circular)
                                if (event.key === 'ArrowRight') {
                                    nextIndex = (currentIndex + 1) % buttons.length;
                                }
                                // If ArrowLeft, move to previous button (circular)
                                if (event.key === 'ArrowLeft') {
                                     nextIndex = (currentIndex - 1 + buttons.length) % buttons.length;
                                }
                            }
                            if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {
                                // Prevent the default action (e.g., moving cursor)
                                if (event.key == 'ArrowUp') {
                                     nextIndex = currentIndex - 1;
                                }
                                if (event.key == 'ArrowDown') {
                                     nextIndex = currentIndex + 1;
                                }
                            }
                            // Move focus to the next button
                            const nextButton = document.getElementById(buttons[nextIndex]);
                            if (nextButton) {
                                nextButton.focus();
                            }
                        };
			$scope.generateWorkloadRacks = function () {  	
				  var config = {
					headers: {
						'AcceptMethod':'write'
					}
				};
				var sendFabricURL = "/rest/design/fabric/genericFabric/create/";
				//var data=angular.copy($scope.genericFabricInputs.fabricDefaults);
				// data.upLinkInfo.physicalType="RJ45";
				// data.fabricLinkInfo.physicalType="RJ45";
				var inputdata = {};
				inputdata.fabricInput = angular.copy($scope.genericFabricInputs.fabricDefaults);
				if(inputdata.fabricInput.deploymentType=="Enterprise SONiC Fabric")
				{
					var sendFabricURL = "/rest/design/fabric/sonicFabric/create/";
				}
				if(inputdata.fabricInput.deploymentType=="Nokia NFVi")
				{
					var sendFabricURL = "/rest/design/fabric/nokiaFabric/create/";
				}
				inputdata.fabricInput.upLinkInfo.protocol = angular.copy(inputdata.fabricInput.selectedUplinkProtocol);
				inputdata.fabricInput.upLinkInfo.protocolType = angular.copy(inputdata.fabricInput.selectedUplinkProtocolType);
				inputdata.fabricInput.upLinkInfo.bandwidth = angular.copy(inputdata.fabricInput.selectedUplinkBandwidth.bandwidth);
				inputdata.fabricInput.upLinkInfo.physicalType = angular.copy(inputdata.fabricInput.selectedUplinkBandwidth.physical_type);
				if (inputdata.fabricInput.bl_upLinkInfo){
				    inputdata.fabricInput.bl_upLinkInfo.protocol = angular.copy(inputdata.fabricInput.selectedUplinkProtocol);
				    inputdata.fabricInput.bl_upLinkInfo.protocolType = angular.copy(inputdata.fabricInput.selectedUplinkProtocolType);
				    inputdata.fabricInput.bl_upLinkInfo.bandwidth = angular.copy(inputdata.fabricInput.selectedBLUplinkBandwidth.bandwidth);
				    inputdata.fabricInput.bl_upLinkInfo.physicalType = angular.copy(inputdata.fabricInput.selectedBLUplinkBandwidth.physical_type);
				}
				inputdata.fabricInput.fabricLinkInfo.protocolType = angular.copy(inputdata.fabricInput.selectedFabricLinkProtocolType);
				inputdata.fabricInput.fabricLinkInfo.overAllBandwidth = angular.copy(inputdata.fabricInput.selectedLeafSwitch.defaultBandwidthToRack);
				inputdata.fabricInput.fabricLinkInfo.bandwidth = angular.copy(inputdata.fabricInput.selectedLeafSwitch.defaultBandwidthToRack);
				inputdata.fabricInput.spineSwitchModel = angular.copy(inputdata.fabricInput.selectedSpineSwitch.spineModel);
				if (inputdata.fabricInput.selectedNetworkType.networkType == 'Top of Rack Fabric') {
					inputdata.fabricInput.fabricLinkInfo = null;
					inputdata.fabricInput.spineSwitchModel = null;
				}

				if (inputdata.fabricInput.selectedUplinkProtocol == "Layer 2") {
					inputdata.fabricInput.upLinkInfo.protocolType = null;
				}

				delete inputdata.fabricInput.listOfSpines;
				delete inputdata.fabricInput.networkDefaults;
				delete inputdata.fabricInput.networkDesign;
				delete inputdata.fabricInput.switchDefaults;
				delete inputdata.fabricInput.selectedFabriclinkProtocol;
				delete inputdata.fabricInput.selectedLeafSwitch;
				delete inputdata.fabricInput.selectedNetworkType;
				delete inputdata.fabricInput.selectedSpineSwitch;
				delete inputdata.fabricInput.selectedUplinkProtocol;
				delete inputdata.fabricInput.selectedUplinkProtocolType;
				//	delete inputdata.fabricInput.switchDefaults;

				$scope.genericFabricInputs.fabricDetails = angular.copy(inputdata.fabricInput);

				inputdata.noOfRacks = angular.copy(Number($scope.genericFabricInputs.fabricDefaults.noOfRacks));
				if ($scope.networkFabricForm.$valid) {
					spinnerOverlay.start();
					$http.post(sendFabricURL, inputdata, config)
						.then(function (fabricdata, status, headers, config) {
							//	console.log(fabricdata);					
							fabricService.storeData(fabricdata.data);
							fabricService.storeDeploymentType(inputdata.fabricInput.deploymentType);
							fabricService.storeDesignType("Generic Fabric");							
							fabricService.storeIRBType(inputdata.fabricInput.irb_type);
							fabricCreated = true;
							$scope.getRackDetails(fabricdata.data, "", spinnerOverlay);
							$scope.editfabric = false;
							$rootScope.$broadcast('deploymentType', inputdata.fabricInput.deploymentType);
							fabricInputService.displayToaster('success', 'Fabric Creation', "Racks added successfully")
							$scope.status = "Inactive";
                            $scope.updateStatus = function() {
                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                        }
							//$rootScope.$broadcast('tab-logicalview');
							//$state.go('fabricOutput', { networkFabric: $scope.fabricInputParams });
						}, function (fabricerrror, status, header, config) {
							spinnerOverlay.stop();
							//message = fabricerrror.data.detail
							//if (fabricerrror.data.errors && fabricerrror.data.errors.message)
							//	message = fabricerrror.data.errors.message
							if (fabricerrror.status == 500){
								fabricInputService.displayToaster('error', 'Fabric Creation', fabricerrror.data.detail)
							}else{
								if (fabricerrror.data.errors) {
									angular.forEach(fabricerrror.data.errors, function (error, index) {
										var fieldName = "fdc_" + error.field;
		
										$scope.networkFabricForm[fieldName].$dirty = true;
										$scope.networkFabricForm[fieldName].$invalid = true;
										$scope.networkFabricForm[fieldName].$$attr.uibTooltip = error.message;
		
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								} 
								{
									angular.forEach(fabricerrror.data, function (field, key) {
											if (field.errors) {
												angular.forEach(field.errors, function (error, index) {
													var fieldName = 'fdc_' + key + '_' + error.field;
		
													$scope.networkFabricForm[fieldName].$dirty = true;
													$scope.networkFabricForm[fieldName].$invalid = true;
													$scope.networkFabricForm[fieldName].$$attr.uibTooltip = error.message;
													var focusField = "[name=\"" + fieldName + "\"]";
													$timeout(function () { $(focusField).focus(); });
												});
											}
									});
								}
							}
						});
				}


			}
			$scope.getRackDetails = function (data, ifModal, spinnerOverlay) {
				rackService.getRacks(data)
					.then(function (rackdata, status, headers, config) {
						$scope.genericFabricInputs.workloadRacks = angular.copy(rackdata.data);
						// Table toggle
						angular.forEach($scope.genericFabricInputs.workloadRacks, function (val, key) {
							$scope.genericFabricInputs.workloadRacks[key].isCollapsed = false;
						})
						fabricInputService.clusterCountReset(); // Reset on edit fabric
						fabricInputService.vLANcount = 1; 	// Reset vLAN count
						if (spinnerOverlay)
							spinnerOverlay.stop(); 	// Stop loading..
					});
			}
			$scope.getFabricDefaults = function (fabricType) {
				spinnerOverlay.start();
				gnsdata = $stateParams.id
				fabricInputService.getGeneratedFabricDefaults(fabricType,null,null,null,gnsdata).then(function (res) {
					if (res && res.data) {
						angular.forEach(res.data.networkDefaults, function (item) {
							if (item.networkType == res.data.networkType)
								res.data.selectedNetworkType = item;
						});
						angular.forEach(res.data.switchDefaults, function (item) {
							if (item.switchModel == res.data.leafSwitchModel)
								res.data.selectedLeafSwitch = item;
						});
					}
					$scope.genericFabricInputs.fabricDefaults = angular.copy(res.data);
					$('[name="fdc_fabricName"]').focus();	
					spinnerOverlay.stop();
				});
			}
			$scope.nextButtonOperation = function () {
				spinnerOverlay.start();
				rackService.rackDataLost = true;
				fabricCreated = false;
				fabricService.removeFabricId();
				//$rootScope.$broadcast('tab-logicalview');
				$rootScope.supported_tabs = undefined
				$state.go('fabricOutput', { networkFabric: $scope.fabricInputParams });
			}
			$scope.$watch('genericFabricInputs.workloadRacks.length', function (newvalue, oldvalue) {
				//$scope.$broadcast('noOfWorkLoadRacks',{'racklength':  newvalue});
				if (newvalue > 0) {
					$scope.genericFabricInputs.fabricDefaults.defaultRacksGenerated = true;
				} else {
					$scope.genericFabricInputs.fabricDefaults.defaultRacksGenerated = false;
				}
			}, true);
			$scope.editfabricFn = function () {
				$scope.editfabric = true;
			};

			$scope.cancelfabricFn = function () {
				$scope.editfabric = false;
			};
			rackService.rackDataLost = false;
			$transitions.onStart({}, function ($transition) {
				var alertDialog = dlcuiConfirmDialog({
					title: $translate.instant('general.confirm'),
					message: $translate.instant('general.unsavedMessage')
				});

				if ($transition.$to().name == 'import') {
					fabricInputService.clusterCountReset();
					fabricInputService.vLANcount = 1; 	// Reset vLAN count
				}

				if (fabricCreated && !rackService.rackDataLost) {
					var defered = $q.defer();
					alertDialog().then(function () {
						defered.resolve();
						fabricService.removeData();
						$scope.genericFabricInputs.workloadRacks = [];
						rackService.rackDataLost = false;
						fabricCreated = false;
						$state.go($transition.$to().name);
					}, function () {
						defered.reject('Fabric data will be lost');
					});

					return defered.promise;
				}

			});

			$scope.init = function () {
				$scope.title = "Build-Your-Own Network Design";
				$scope.editfabric = true;
				$scope.genericFabricInputs = {
					"fabricName": "",
					"workloadRacks": [],
				};
				$scope.genericFabricInputs.fabricDefaults = {};
				$scope.genericFabricInputs.fabricDefaults.fabricName = "";
				$scope.genericFabricInputs.fabricDefaultType = "Layer 3 Leaf and Spine";
				$scope.genericFabricInputs.fabricDefaults.defaultRacksGenerated = false;
				$scope.getFabricDefaults($scope.genericFabricInputs.fabricDefaultType);
			}
			$scope.init();

		}]);

angular
	.module(APP_NAME)
	.service('fabricInputService', ['$http', 'dlcuiModal', '$translate', '$timeout', 'toaster', '$rootScope', '$q', 'spinnerOverlay', 'fabricService','logicalrackservice',
		function ($http, dlcuiModal, $translate, $timeout, toaster, $rootScope, $q, spinnerOverlay, fabricService,logicalrackservice) {
			var defaultToasterOptions = {
				type: 'success',
				title: "title",
				timeout: 6000,
				showCloseButton:true,
				positionClass: "toast-bottom-right"
			};
			// openModal for cluster input
			this.openModal = function (options,focusName,lastfocusName) {
				var modalScope = dlcuiModal({
					type: options.type ? options.type : 'bare',
					templateUrl: options.template,
					controller: options.controller,
					visible: false,
					backdrop: 'static',
					keyboard: true,
					scope: options
				});
				modalScope.modal.show();
				const  focusableElements =
				'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
				const modal = document.querySelector('#dlcui-modals'); // select the modal by it's id
				/*$timeout(function(){
					var id = document.getElementsByName(focusName)
					var element = angular.element(id);
					element[0].focus();
				var id = document.getElementsByName(focusName)
				var last_id = document.getElementsByName(lastfocusName)
				var firstFocusableElement = angular.element(id);
				var lastFocusableElement = angular.element(last_id);
				document.addEventListener('keydown', function(e) {
				var isTabPressed = e.key === 'Tab' || e.keyCode === 9;
				if (!isTabPressed) {
				return;
				}
				if (e.shiftKey) { // if shift key pressed for shift + tab combination
				if (document.activeElement === firstFocusableElement[0]) {
				lastFocusableElement[0].focus(); // add focus for the last focusable element
				e.preventDefault();
				}
				} else { // if tab key is pressed
				if (document.activeElement === lastFocusableElement[0]) { // if focused has reached to last focusable element then focus first focusable element after pressing tab
				firstFocusableElement[0].focus(); // add focus for the first focusable element
				e.preventDefault();
				}
				}
				});
				}, 2000);*/
								
				return modalScope;
			}


			// Get dault values for cluster input
			this.getDefaults = function (_url) {
				return $http({
					method: "get",
					url: _url
				})
			};
			// Get supported values for Node addtion
			this.supportedDefaults = function (data) {
				var fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				data['view'] = view_id
				return $http.post("/rest/design/fabric/cluster/node/supportedtypes/", data);
			}
			// Open network fabric Modal
			this.openNetworkFabric = function (obj,focusName,lastfocusName) {
				var modalScope = this.openModal(obj,focusName,lastfocusName);
				modalScope.title = "Edit Fabric Settings";
				modalScope.displayToaster = this.displayToaster;
				modalScope.canEdit=(obj.prop && obj.prop.fabricsubtype=='POD' && obj.prop.data.topology=='Layer 2 Leaf and Spine (VLT)');
				modalScope.selectNode = this.selectNode;
				modalScope.networkFabricForm = {};
				modalScope.fabricInputModel = angular.copy(obj.fabricEditableData);
				modalScope.workloadRacks = angular.copy(obj.workloadRacks);
				modalScope.editmode = true;
				modalScope.editfabric = true;
				modalScope.editFromLogical = true;
				return modalScope;
			}
			// Open Chassis Input Modal box
              // Open cluster modal box
			this.openChassisInputModal = function (obj, defaults, clusterType, chassis,Mode_) {
				spinnerOverlay.stop();
				var modalScope = this.openModal(obj,"Helpcluster","fdc_cluster_input_cancel"),
					self = this,	
					solutionName = $translate.instant('general.solutions.' + defaults.clusterType),
					clusterNameUpdate = function (modalScope) {
						if (clusterType == "MX_CHASSIS") {
							//appendedName=(obj.fabricInputs.mxFabricClusterInputs&&obj.fabricInputs.mxFabricClusterInputs)?(obj.fabricInputs.mxFabricClusterInputs.length+1):self.clusterCount['POD'];
							modalScope.chassisinput.name = 'Mx' + "_"+self.clusterCount['POD'];
						}
					};
				modalScope.title = $translate.instant('general.enter') + ' ' + solutionName;
				modalScope.mode = Mode_;
				modalScope.index = -1;
				modalScope.displayToaster = this.displayToaster;
				modalScope.selectNode = this.selectNode;
				modalScope.fabricinput = obj.fabricInputParams;
				modalScope.chassisinput = angular.copy(defaults);
				modalScope.modalDefaults = defaults;
				modalScope.clusterForm = {};

				clusterNameUpdate(modalScope);

			// Add through import
				if (chassis) {
					clusterNameUpdate(modalScope);
					modalScope.populateVLANdefaults(chassis);
				} else {
					modalScope.populateVLANdefaults(defaults);
				}

				return modalScope;
			}
			this.editChassis = function (obj, index, defaults,chassisType,chassisdata) {
				var chassis = null;
				var modalScope = this.openChassisInputModal(obj, defaults, chassisType);
				modalScope.title = modalScope.title.replace(/^Enter/, $translate.instant('general.edit'));
				modalScope.mode = "EDIT";
				modalScope.index = index | 0;
				modalScope.displayToaster = this.displayToaster;
			    modalScope.selectNode = this.selectNode;
				//	modalScope.
				if (chassisdata) {
					modalScope.mode = "SERVEREDIT";					
					chassis = angular.copy(chassisdata);
				} else {
					chassis = obj.fabricInputs.mxFabricClusterInputs[index];
				}
				// Edit options for cluster
				modalScope.editClusterOptions(modalScope.mode,chassis, defaults);

			};
			/***---End of Chassis Imput Modal--**/
			// Open cluster modal box

			this.addUniversalCluster = function(obj, defaults, clusterType, cluster){
				var modalScope = obj;
				solutionName = $translate.instant('general.solutions.' + defaults.type)
				cluster_count = this.clusterCount[defaults.type] 
				clusterNameUpdate = function (obj) {
					if (clusterType == "management") {
						cluster.name = solutionName + "_mgmt";
					} else {
						cluster.name = solutionName + '_' + (obj.clusterTypeLength > 1 ? clusterType : '') + cluster_count;
					}
				};
				this.clusterCount[defaults.type] += 1
				clusterNameUpdate(obj);
				var cluser = angular.copy(cluster);
				cluser.bonds = cluster.applianceInfo.bonds;
				cluser.bondingports = cluster.applianceInfo.bonds;

				cluser.lagMode = defaults.lagMode
				modalScope.fabricInputs.clusterInputs[clusterType].push(cluser);
				return modalScope
			}
			this.openCluster = function (obj, defaults, clusterType, cluster) {
				defaults.deploymentType = obj.fabricInputs.deploymentType
				var modalScope = this.openModal(obj,"Helpcluster","fdc_cluster_input_cancel"),
					self = this,					
					clusterSubType = $translate.instant('general.clusterType.' + clusterType),
					solutionName = $translate.instant('general.solutions.' + defaults.type),
					solutionNameLabel = $translate.instant('general.solutions.' + defaults.type + 'label'),
					clusterNameUpdate = function (modalScope) {
						if (clusterType == "management") {
							modalScope.clusterinput.name = solutionName + "_mgmt";
						} 
						else if (clusterType == "edge") {
							modalScope.clusterinput.name = solutionName + "_edge";
						}						
						else if(clusterType == "storage")
						{
							modalScope.clusterinput.name = solutionName + "_st"+ self.clusterCount[defaults.type];
						}
						else if(obj.fabricInputs.type == "ORACLE_RAC" && obj.clusterTypeLength > 1 && clusterType == "compute")
						{
							modalScope.clusterinput.name = solutionName + '_' + (obj.clusterTypeLength > 1 ? '' : '') + self.clusterCount[defaults.type];
						}
						else 
						{
							modalScope.clusterinput.name = solutionName + '_' + (obj.clusterTypeLength > 1 ? clusterType : '') + self.clusterCount[defaults.type];
						}
					};				

					modalScope.title = $translate.instant('general.enter') + ' ' + solutionNameLabel +
					' ' + (obj.clusterTypeLength > 1 ? clusterSubType : '') + ' ' +
					((defaults.type == 'UNITY_STORAGE') ? $translate.instant('general.nodeDetails') : (defaults.type == 'ISILON_BACKEND_STORAGE') ? $translate.instant('general.nodePoolDetails'):$translate.instant('general.clusterDetails'));
				modalScope.mode = "ADD";
				modalScope.index = -1;
				modalScope.displayToaster = this.displayToaster;
				modalScope.selectNode = this.selectNode;
				modalScope.fabricinput = obj.fabricInputParams;
				modalScope.clusterinput = angular.copy(defaults);
				modalScope.modalDefaults = defaults;
				modalScope.clusterForm = {};

				clusterNameUpdate(modalScope);

				modalScope.clusterinput.clusterSubType = clusterType;

				// Setting default model
				modalScope.populateClusterDefaults(defaults);


				// Add through import
				if (cluster) {
					//modalScope.populateEditVLANdefaults(cluster);
					modalScope.editClusterOptions(cluster, defaults);
					clusterNameUpdate(modalScope);
					modalScope.populateVLANdefaults(cluster, true);
				} else {
					modalScope.populateVLANdefaults(defaults);
				}
				if(obj.fabricInputs.type != undefined)
				{
					fabricInputs_data = obj.fabricInputs
					storage_vlans_data = fabricInputs_data.clusterInputs.storage
				}
				else
				{
					fabricInputs_data = modalScope.$parent.fabricInputs
					storage_vlans_data = []
					if(modalScope.$parent.logicalData != undefined ){
					angular.forEach(modalScope.$parent.logicalData.clusterData, function(cluster_data)
					{
						if(cluster_data.clusterType=='POWERSTORE_STORAGE')
						{
							storage_vlans_data.push(cluster_data)
						}
					})
					}
				}
				if((obj.fabricInputs.type== "NVMeTCPSupport" || modalScope.$parent.fabricInputs.ip_san_topology=='Dedicated-SAN' || modalScope.$parent.fabricInputs.ip_san_topology=='Converged') && clusterType == "compute")
				{
					defaults.san_networks = {}
					defaults.san_networks.san_interfaces = []
					defaults.san_networks.storage_vlans = []
					//defaults.san_networks_ = []
					angular.forEach(storage_vlans_data, function(storage_cluster)
					{
						angular.forEach(storage_cluster.clusterVlans.storageNetworks, function (val, key) {
							defaults.san_networks.san_interfaces.push(val.name)
							defaults.san_networks.storage_vlans.push(val)
						});
					});
					//console.log(defaults.san_networks.storage_vlans)
					/*defaults.clusterVlans.storageNetworks = []
					defaults.clusterVlans.storageNetworks.push(storage_vlans_data[0].clusterVlans.storageNetworks[0])
					defaults.clusterVlans.storageNetworks.push(storage_vlans_data[0].clusterVlans.storageNetworks[1])
					*/
				}
				return modalScope;
			}
				// Open cluster modal box
			this.reloadCluster = function (options,solutionType) {
				/*var modalScope = this.openModal(obj),
					self = this,
					clusterSubType = $translate.instant('general.clusterType.' + clusterType),
					solutionName = $translate.instant('general.solutions.' + defaults.type),
					solutionNameLabel = $translate.instant('general.solutions.' + defaults.type + 'label');*/
				if(options){
					var defaults=null;
					this.getDefaults(options.url)
						.then(function (res) {
							if(res && res.data){
								defaults=res.data.compute;				
								options.clusterinput = angular.copy(defaults);
							    options.clusterinput.clusterSubType = "compute";
								options.modalDefaults = defaults;
								options.clusterinput.deploymentModel = solutionType;
								// Setting default model
								options.populateClusterDefaults(defaults);
								options.populateVLANdefaults(defaults);
								//spinnerOverlay.stop();
								}
							},
							function () {
								//spinnerOverlay.stop();
							});
				}
			}

			// Edit cluster
			this.editCluster = function (obj, index, defaults, clusterType, clusterdata) {
				var cluster = null;
				var modalScope = this.openCluster(obj, defaults, clusterType);
				modalScope.title = modalScope.title.replace(/^Enter/, $translate.instant('general.edit'));
				modalScope.mode = "EDIT";
				modalScope.index = index | 0;
				//	modalScope.
				if (clusterdata) {
					modalScope.mode = "SERVEREDIT";
					modalScope.displayToaster = this.displayToaster;
					modalScope.selectNode = this.selectNode;
					cluster = angular.copy(clusterdata);
					modalScope.populateEditVLANdefaults(clusterdata);
				} else {
					cluster = obj.fabricInputs.clusterInputs[clusterType][index];
					modalScope.clusterinput = angular.copy(cluster);
					modalScope.populateEditVLANdefaults(cluster);
				}
				// Edit options for cluster
				modalScope.editClusterOptions(cluster, defaults);

			};
			this.getNokiaCBISDefaults = function (networkType,leafSwitchModel,clusterdata,gnsdata) {
				if (!networkType) networkType = 'Layer 3 Leaf and Spine';
				if(leafSwitchModel == undefined){
					leafSwitchModel = null
				}
				if(clusterdata == undefined)
				{
					clusterdata = null
				}
				if(gnsdata == undefined)
				{
					gnsdata = null
				}
				var deferred = $q.defer();
				// var promise = deferred.promise;
				//console.log(networkType);
				data = {
						'networkType':networkType,
						 'leafSwitchModel':leafSwitchModel,
						 'clusterdata':clusterdata,
						 'gnsdata':gnsdata
					  }
				var url = "/rest/design/fabric/nokia_cbis/defaults/"//?networkType=" + networkType;
				$http.post(url,data)
					.then(function (res) {

						deferred.resolve(res);

					},
						function () {
							spinnerOverlay.stop();
						});
				return deferred.promise;
			};

			this.getSonicDefaults = function (networkType,leafSwitchModel,designType,clusterdata,gnsdata) {
				if (!networkType) networkType = 'Layer 3 Leaf and Spine';
				if(leafSwitchModel == undefined){
					leafSwitchModel = null
				}
				if(clusterdata == undefined)
				{
					clusterdata = null
				}
				if(designType == undefined)
				{
					designType = null
			        }
				if(gnsdata == undefined)
				{
					gnsdata = null
				}
				var deferred = $q.defer();
				// var promise = deferred.promise;
				//console.log(networkType);
				data = {
						'networkType':networkType,
						 'leafSwitchModel':leafSwitchModel,
						 'designType': designType,
						 'clusterdata':clusterdata,
						 'gnsdata':gnsdata
					  }
				var url = "/rest/design/fabric/sonic/defaults/"//?networkType=" + networkType;
				$http.post(url,data)
					.then(function (res) {

						deferred.resolve(res);

					},
						function () {
							spinnerOverlay.stop();
						});
				return deferred.promise;
			};
			this.superspineDefaults = function () {				
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				var deferred = $q.defer();

				data = {'data':fabricdata}

				var url = "/rest/design/fabric/superspineDefaults/"//?networkType=" + networkType;
				
				$http.post(url,data)
					.then(function (res) {

						deferred.resolve(res);

					},
						function () {
							spinnerOverlay.stop();
						});
				return deferred.promise;
			};
			this.getSonicDefaults_superspine = function (fabricdata,networkType,leafSwitchModel,clusterdata,gnsdata) {
				if (!networkType) networkType = 'Layer 3 Leaf and Spine';
				if(leafSwitchModel == undefined){
					leafSwitchModel = null
				}
				if(clusterdata == undefined)
				{
					clusterdata = null
				}
				if(gnsdata == undefined)
				{
					gnsdata = null
				}
				var deferred = $q.defer();
				// var promise = deferred.promise;
				//console.log(networkType);
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				data = {'data':fabricdata}

				var url = "/rest/design/fabric/sonic_superspine/defaults/"//?networkType=" + networkType;
				
				$http.post(url,data)
					.then(function (res) {

						deferred.resolve(res);

					},
						function () {
							spinnerOverlay.stop();
						});
				return deferred.promise;
			};

			this.displayToaster = function (type, title, msg, toasterId) {
				//https://www.npmjs.com/package/angularjs-toaster
				var options = {
					type: type,
					title: title,							
					showCloseButton: true,			
					clickHandler:true,
					body: 'bind-unsafe-html',
					bodyOutputType: 'directive',
					directiveData: { msg: msg },
					toasterId: toasterId ? toasterId : 1
				};
				var toasterOptions = {};
				angular.extend(toasterOptions, defaultToasterOptions, options);
				toaster.pop(toasterOptions);
			}
			this.selectNode = function (id) {
				//	$rootScope.$broadcast('tab-logicalview');
			//	logicalrackservice.getActiveProperty();
				$timeout(function () {
					var element = angular.element("#" + id);
					if (element) element.triggerHandler('click');
				}, 2000);
			};
			this.getGNS3FabricDefaults = function (networkType,leafSwitchModel,designType,clusterdata) {
				if (!networkType) networkType = 'Layer 3 Leaf and Spine';
				if(leafSwitchModel == undefined){
					leafSwitchModel = null
				}
				if(clusterdata == undefined)
				{
					clusterdata = null
				}
				if(designType == undefined)
				{
					designType = null
				}
				var deferred = $q.defer();
				// var promise = deferred.promise;
				//console.log(networkType);
				data = {
						'networkType':networkType,
						 'leafSwitchModel':leafSwitchModel,
						 'designType': designType,
						 'clusterdata':clusterdata
					  }
				var url = "/rest/design/fabric/gns3Fabric/defaults/"//?networkType=" + networkType;
				$http.post(url,data)
					.then(function (res) {

						deferred.resolve(res);

					},
						function () {
							spinnerOverlay.stop();
						});
				return deferred.promise;
			};
			this.getGeneratedFabricDefaults = function (networkType,leafSwitchModel,designType,clusterdata,gnsdata) {
				if (!networkType) networkType = 'Layer 3 Leaf and Spine';
				if(leafSwitchModel == undefined){
					leafSwitchModel = null
				}
				if(clusterdata == undefined)
				{
					clusterdata = null
				}
				if(designType == undefined)
				{
					designType = null
				}
				if(gnsdata == undefined)
				{
					gnsdata = null
				}
				var deferred = $q.defer();
				// var promise = deferred.promise;
				//console.log(networkType);
				data = {
						'networkType':networkType,
						 'leafSwitchModel':leafSwitchModel,
						 'designType': designType,
						 'clusterdata':clusterdata,
						 'gnsdata':gnsdata
					  }
				var url = "/rest/design/fabric/genericFabric/defaults/"//?networkType=" + networkType;
				$http.post(url,data)
					.then(function (res) {

						deferred.resolve(res);

					},
						function () {
							spinnerOverlay.stop();
						});
				return deferred.promise;
			};
			this.getGeneratedChassisDefaults = function () {
				var deferred = $q.defer();
				// var promise = deferred.promise;
				//console.log(networkType);
				var url = "/rest/design/fabric/mxFabric/defaults";
				this.getDefaults(url)
					.then(function (res) {

						deferred.resolve(res);

					},
						function () {
							spinnerOverlay.stop();
						});
				return deferred.promise;
			};
			this.clusterCount = {
				HCI_VXRAIL: 1,
				SAP_HANA:1,
				HCI_NSX_VXRAIL: 1,
				HCI_XC: 1,
				HCI_VSANREADY: 1,
				GENERIC_COMPUTE: 1,
				ISILON_STORAGE: 1,
				POWERSCALE_STORAGE: 1,
				ECS_STORAGE: 1,
				UNITY_STORAGE: 1,
				POWERSTORE_STORAGE: 1,
				ORACLE_RAC:1,
				ASHCI: 1,
				HCI_VXFLEX: 1,
				HCI_POWERFLEX_Appliance: 1,
				POD:1
			};

			this.clusterCountReset = function () {
				var self = this;
				angular.forEach(self.clusterCount, function (val, key) {
					self.clusterCount[key] = 1;
				});
			};

			this.vLANcount = 1;

			this.populateCountList = function (options) {
				var cardCountOptions = [];

				if (options.obj) {
					var i = 1;
					if ((options.type == "ndcCardCountOptions" && options.clusterType == 'ASHCI') || options.type == "optionalCardCountOptions") {
						i = 0;
					} 
					if (options.type == "optionalCardCountOptions" && (options.clusterType == 'ASHCI'||options.clusterType == 'HCI_VXFLEX'||options.clusterType == 'HCI_POWERFLEX_Appliance' ||options.clusterType == "GENERIC_COMPUTE1" )) {
						i = 1;
					} 
					if (options.type == "cnaCardCountOptions"){
						i = 0;
					}
					if((options.clusterType == 'UNITY_STORAGE'||options.clusterType == 'POWERSTORE_STORAGE') && (options.type == "optionalCardCountOptions" || options.type == "cnaCardCountOptions") ){
                       	for (; i <= options.obj.max;i+=2 ) {
								cardCountOptions.push(i)
							}
					}
					else if(options.obj.max==0){cardCountOptions.push(0)}
					else{
							for (; i <= options.obj.max; i++) {
								/*if(i==3 && options.clusterType=='ASHCI')
								{
									continue;
								}*/
								cardCountOptions.push(i)
							}
					}				
					options.list[options.type] = cardCountOptions;
				}
			}

		}]);

angular
    .module(APP_NAME)
    .directive('cluster', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'clusterCtrl',
            scope: {
                inputModel: '=',
                where: '@'
            },
            templateUrl: 'fabric/design/input/cluster/clusterTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .directive('node', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'clusterCtrl',
            scope: {
                inputModel: '=',
                where: '@'
            },
            templateUrl: 'fabric/design/input/cluster/nodeTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .controller('clusterCtrl', ['$scope', 'Bond', 'fabricInputService', function ($scope, Bond, fabricInputService) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.clusterForm = $scope.$parent.clusterForm;
        $scope.clusterinput = $scope.$parent.clusterinput;
        $scope.modalDefaults = $scope.$parent.modalDefaults;
        $scope.clustervlan = $scope.$parent.clustervlan;
        $scope.populateVLANdefaults = $scope.$parent.populateVLANdefaults;
        $scope.clusterinput.PCIcountWarning = false;
        $scope.clusterinput.PCIcountWarning = false;
        if ($scope.inputModel.type == "ASHCI"){
            $scope.clusterinput.solution_typedisable = true

        }  
        if($scope.inputModel.type == "ECS_STORAGE" && $scope.clusterinput.applianceInfo == undefined)
        {
            $scope.clusterinput.network_separation = 'Standard';
        }
        $scope.bondurl = "";
        if ($scope.$parent.fabricinput && $scope.$parent.fabricinput.fabricInputs) {
            $scope.bondurl = $scope.$parent.fabricinput.fabricInputs.bond;
        }
        $scope.getExpansionModules = function(num) {
            var modules=new Array();
            for(var i=0;i<num;i++){
                var Obj={};
                Obj.name='expansionModule_'+(i+1);
                Obj.value=0;
              modules.push(Obj);  
            }  
            $scope.clusterinput.expansionModules=angular.copy(modules);           
        }
         $scope.generateVlanDefaults=function(url){
            //spinnerOverlay.start();
            fabricInputService.getDefaults(url)
					.then(function (res) {
                        if(res.data.compute != undefined)
                        {
                            compute_data = res.data.compute
                        }
                        else if(res.data.storage != undefined)
                        {
                            compute_data = res.data.storage
                        }
                        if(res && res.data && compute_data){
                        if($scope.clusterinput.clusterType != 'ECS_STORAGE'){
                         $scope.inputModel.applianceTypes=compute_data.applianceTypes;
                         $scope.inputModel.minCurrentNodes=compute_data.minCurrentNodes
                         if($scope.clusterinput.clusterType == 'POWERSTORE_STORAGE'){
                         $scope.inputModel.currentNodes = compute_data.currentNodes
                         $scope.inputModel.futureNodes = compute_data.futureNodes
                         $scope.clusterinput.currentNodes = compute_data.currentNodes
                         //$scope.clusterinput.futureNodes = res.data.compute.futureNodes                        
                         }
                         $scope.clusterinput.applianceInfo=compute_data.applianceTypes[0];
                        }
                         $scope.populateVLANdefaults(compute_data);
                         //$scope.clustervlan = $scope.$parent.clustervlan;
                         //spinnerOverlay.stop();
                    }

                },
						function () {
							//spinnerOverlay.stop();
						});
			
        }
        $scope.reloadDefaults=function(url,solutiontype){ 
            $scope.$parent.$parent.$parent.$parent.url=url;  
            fabricInputService.reloadCluster($scope.$parent.$parent.$parent.$parent,solutiontype)
        }

        $scope.$watch('clusterinput.currentNodes', function (newVal, oldVal) {
               if (newVal) {
                   if($scope.clusterinput.clusterType == 'HCI_VXRAIL' && ($scope.clusterinput.version == '4.7' || $scope.clusterinput.version == '7.0'))
                   if(newVal!=2)
                   {
                        $scope.clustervlan['saphanatraffic'] = null
                   }
                   else if (newVal==2)
                   {
                    $scope.clustervlan['saphanatraffic'] = $scope.clusterinput.clusterVlans['saphanatraffic'] 
                   }
            }
          });
          $scope.myFilter_applianceInfo = function (item) { 
            if($scope.inputModel.type!='POWERSTORE_STORAGE' || $scope.clusterinput.deploymentModel)
                return true
            return false
        };
        $scope.filter_storagetypes = function(item){
            if(item=='RoCE' && ($scope.clusterinput.optionalCard.name=='Intel E810 2x25G SFP+' || $scope.clusterinput.optionalCard.name=='Intel E810 2x100G SFP+'))
                return false
            return true
        };
        
        $scope.myFilter = function (item) { 
            if($scope.clusterinput.applianceInfo && ($scope.clusterinput.applianceInfo.name == 'R440-S2DRN' || $scope.clusterinput.applianceInfo.name == 'R740xd2-S2DRN'))               
                return item === 'Scalable' || item === 'Switchless'; 
            return true
        };
        $scope.$watch('[clusterinput.cnaCard.requiredCount,clusterinput.ndcCard.requiredCount,clusterinput.backEndCard.requiredCount,clusterinput.optionalCard.requiredCount]', function (newVal, oldVal) {
            if (oldVal != newVal) {
                Bond.getData({
                    clusterinput: $scope.clusterinput,
                    clustervlan: $scope.clustervlan,
                    form: $scope.clusterForm,
                    url: $scope.bondurl
                });
            }
        });

        $scope.$watch('clusterinput.optionalCard.requiredCount', function (newVal, oldVal) {
            if (oldVal != newVal) {
                $scope.clusterinput.PCIcountWarning = $scope.clusterinput.optionalCard && $scope.clusterinput.optionalCard.requiredCount > 0;
            }
        });
        $scope.$watch('clusterinput.network_separation', function(newVal, oldVal) {
            if($scope.inputModel.type=='ECS_STORAGE')
            {
                if(newVal && oldVal != newVal){
                    url=(newVal=='Standard')?'/rest/design/fabric/ecs/defaults/':(newVal=='Single Domain')?'/rest/design/fabric/ecs/defaults_single_domain/':'/rest/design/fabric/ecs/defaults_single_domain_public/';
                    $scope.generateVlanDefaults(url);  
                }   
            }
        });
         $scope.$watch('clusterinput.deploymentModel', function (newVal, oldVal) {
             var url='';
             if($scope.inputModel.type=='POWERSTORE_STORAGE'){ 
                if(newVal && oldVal != newVal){  
                    if($scope.$parent.fabricinput.fabricInputs.type=="NVMeTCPSupport")
                    {
                        url=(newVal=='PowerStore T/Q models')?'/rest/design/fabric/nvme/defaults_nvme_powerstore/':'/rest/design/fabric/nvme/defaults_nvme_powerstorex/';
                    }
                    else
                    {
                        url=(newVal=='PowerStore T/Q models')?'/rest/design/fabric/powerstore/defaults/':'/rest/design/fabric/powerstore/defaultsx/';
                    }
                    $scope.generateVlanDefaults(url);  
                }/*else{
                    if(newVal===''|| newVal===undefined){
                    url='/rest/design/fabric/powerstore/vlan/';
                    $scope.generateDefaults(url); 
                    }else{
                        url=(newVal=='Powerstore')?'/rest/design/fabric/powerstore/defaults/':'/rest/design/fabric/powerstore/defaultsx/';
                        $scope.generateDefaults(url);  
                    }
                }*/
                }
                else if($scope.inputModel.type=='HCI_POWERFLEX_Appliance'){ 
                    if(newVal && oldVal != newVal){  
                        url=(newVal=='HCI')?'/rest/design/fabric/powerflexapp/defaults_hci/':(newVal=='Storage only')?'/rest/design/fabric/powerflexapp/defaults_storage/':'/rest/design/fabric/powerflexapp/defaults_compute/';
                        $scope.generateVlanDefaults(url);  
                    }
                    }
         });

        $scope.$watch('clusterinput.applianceInfo', function (newVal, oldVal) {
            if (oldVal != newVal && newVal!=undefined) {
            if($scope.clusterinput.clusterType=='POWERSTORE_STORAGE'){
                if (newVal!=undefined && newVal.name == 'PowerStore-500T')
                    {
                        $scope.clustervlan.storageNetworks = null
                    }
                else{
                    $scope.clustervlan.storageNetworks = $scope.inputModel.clusterVlans.storageNetworks

                }
            }   
            if($scope.clusterinput.clusterType=="ISILON_STORAGE" || $scope.clusterinput.clusterType=='ISILON_BACKEND_STORAGE')
            {
                if($scope.clusterinput.applianceInfo.name == "PowerScale-F200" || $scope.clusterinput.applianceInfo.name == "PowerScale-F600" || $scope.clusterinput.applianceInfo.name=="PowerScale-F900")
                {
                    $scope.clusterinput.minCurrentNodes = 3
                    $scope.inputModel.minCurrentNodes = 3
                }
                else
                {
                    $scope.clusterinput.minCurrentNodes = 4
                    $scope.inputModel.minCurrentNodes = 4   
                }
            }
                /*if($scope.clusterinput.clusterType=='ISILON_BACKEND_STORAGE')
                {
                    if($scope.clusterinput.applianceInfo.minCurrentNodes != undefined)
                    {
                        $scope.clusterinput.minCurrentNodes = $scope.clusterinput.applianceInfo.minCurrentNodes
                        $scope.inputModel.minCurrentNodes = $scope.clusterinput.applianceInfo.minCurrentNodes
                    }
                }*/
                if($scope.inputModel.type!="POWERSTORE_STORAGE"){
                    $scope.clusterinput.cnaCard = $scope.clusterinput.applianceInfo.cnaCard && $scope.clusterinput.applianceInfo.cnaCard[0];                  
                }
                if($scope.inputModel.type=='ECS_STORAGE')
                {                    
                    if($scope.clusterinput.applianceInfo.name=='EX3000D')
                        $scope.clusterinput.currentNodes = 6   
                    else
                        $scope.clusterinput.currentNodes = 5                    
                }
                if ($scope.clusterinput.applianceInfo.ndcCard && $scope.clusterinput.applianceInfo.ndcCard.length!=0)
                    $scope.clusterinput.ndcCard = $scope.clusterinput.applianceInfo.ndcCard[0];
                if ($scope.clusterinput.applianceInfo.backEndCard && $scope.clusterinput.applianceInfo.backEndCard.length!=0)
                    $scope.clusterinput.backEndCard = $scope.clusterinput.applianceInfo.backEndCard[0];
                
                $scope.clusterinput.optionalCard = $scope.clusterinput.applianceInfo.optionalCard && $scope.clusterinput.applianceInfo.optionalCard[0];               
                if ($scope.inputModel.type != "ASHCI"){
                    $scope.clusterinput.networkConnectivityOption = "Dedicated Management"; 
                }                
                else if($scope.inputModel.type == "ASHCI"){
                if( $scope.clusterinput.solution_typedisable==true){
                    $scope.clusterinput.solution_typedisable = false                
                    $scope.clusterinput.networkConnectivityOption = "Non-Converged";
                    $scope.clusterinput.solution_type = "Scalable"; 
                }
                if($scope.clusterinput.applianceInfo.name == 'AX-640(x12 drive)')                
                {   
                    $scope.clusterinput.networkConnectivityOption = "Fully Converged";
                    $scope.clusterinput.solution_type = "Scalable";             
                }
                if(($scope.clusterinput.applianceInfo.name == 'R440-S2DRN' || $scope.clusterinput.applianceInfo.name == 'R740xd2-S2DRN') && $scope.clusterinput.solution_type=='Quick Start')               
                {   
                    $scope.clusterinput.solution_type = "Scalable";             
                    $scope.clusterinput.networkConnectivityOption = "Non-Converged";
                }
                }

                if($scope.inputModel.type == "ASHCI" && $scope.clusterinput.solution_type=='Quick Start'){
                    $scope.clusterinput.optionalCard = $scope.clusterinput.applianceInfo.optionalCard[$scope.clusterinput.applianceInfo.optionalCard.length-1];
            }
            if($scope.inputModel.type=="GENERIC_COMPUTE")// && $scope.clusterinput.ndcCard.requiredCount == 0)
            {
                $scope.clusterinput.optionalCard.requiredCount = 1
            }

        }
        });

        $scope.$watch('clusterinput.cnaCard', function (newVal, oldVal) {
            if (oldVal != newVal) {
                fabricInputService.populateCountList({
                    obj: $scope.clusterinput.cnaCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'cnaCardCountOptions'
                });
                if ($scope.clusterinput.cnaCard) {
                    $scope.clusterinput.cnaCard.requiredCount = 0;
                }
            }
        })
        $scope.$watch('clusterinput.backEndCard', function (newVal, oldVal) {
            if (oldVal != newVal) {
                fabricInputService.populateCountList({
                    obj: $scope.clusterinput.backEndCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'backEndCardCountOptions'
                });

                $scope.clusterinput.backEndCard.requiredCount = 1;
            }
        });

        $scope.$watch('clusterinput.ndcCard', function (newVal, oldVal) {
            if (oldVal != newVal) {
                fabricInputService.populateCountList({
                    obj: $scope.clusterinput.ndcCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'ndcCardCountOptions'
                });
                if ($scope.clusterinput.ndcCard) {
                    if($scope.inputModel.type!="GENERIC_COMPUTE")   
                    {   
                        $scope.clusterinput.ndcCard.requiredCount = 1;
                    }
                    else
                    {
                        $scope.clusterinput.ndcCard.requiredCount = $scope.clusterinput.ndcCard.max;
                    }
                    if($scope.inputModel.type=="ISILON_BACKEND_STORAGE")   
                    {   
                        $scope.clusterinput.ndcCard.requiredCount = 1;
                    }
                    var portType = "SFP+",
                        bandwidth = null;
                    /*if ($scope.inputModel.type == "HCI_VXRAIL") {
                        portType = $scope.clusterinput.ndcCard.ports[0].physicalType;
                        $scope.clusterinput.PCIdisable = true;
                    }*/
                    /*if ($scope.inputModel.type == "HCI_XC" || $scope.inputModel.type == "HCI_VXRAIL") {
                        portType = $scope.clusterinput.ndcCard.ports[0].physicalType;
                        bandwidth = $scope.clusterinput.ndcCard.ports[0].bandwidth;
                        if ($scope.clusterinput.ndcCard.ports[0].bandwidth == 25) {
                            $scope.clusterinput.PCIdisable = false;
                        } else {
                            $scope.clusterinput.PCIdisable = true;
                            //portType = $scope.clusterinput.ndcCard.ports[0].physicalType;
                        }
                    }*/

                    if ($scope.inputModel.type != "HCI_VSANREADY") {
                        updatePCI(portType, bandwidth);
                    } else {
                        $scope.clusterinput.PCIdisable = false;
                    }

                    if ($scope.inputModel.type == "UNITY_STORAGE"||$scope.inputModel.type == "POWERSTORE_STORAGE") {
                        $scope.clusterinput.ndcCard.requiredCount = 2;
                    }
                    if ($scope.inputModel.type == 'HCI_NSX_VXRAIL')
                    {
                        $scope.clusterinput.optionalCard.requiredCount = 1;
                    }
                    if($scope.inputModel.type == 'GENERIC_COMPUTE')
                    {
                        $scope.clusterinput.optionalCard.requiredCount = 1;
                    }
                    // For MSSD 
                    if ($scope.inputModel.type == "ASHCI") {
                        if (newVal.vendor) {
                            $scope.clusterinput.PCIdisable = true;
                            $scope.clusterinput.PCIcountDisable = true;
                            angular.forEach($scope.clusterinput.applianceInfo.optionalCard, function (val) {
                                if (val.vendor == newVal.vendor) {
                                    $scope.clusterinput.optionalCard = val;
                                }
                            });
                            $scope.clusterinput.optionalCard.requiredCount = 1;
                        } else {
                            $scope.clusterinput.PCIdisable = false;
                            $scope.clusterinput.PCIcountDisable = false;
                        }
                        if($scope.clusterinput.applianceInfo.name == 'AX-640(x12 drive)')
                            $scope.clusterinput.ndcCard.requiredCount = 0;
                        //$scope.clusterinput.clusterSubType = "compute";
                        //$scope.clusterinput.solution_type = "Scalable";
                        //$scope.clusterinput.networkConnectivityOption = "Non-Converged";
                    }                    

                    Bond.getData({
                        clusterinput: $scope.clusterinput,
                        clustervlan: $scope.clustervlan,
                        form: $scope.clusterForm,

                        url: $scope.bondurl
                    });
                }
            }
        });

        $scope.$watch('clusterinput.optionalCard', function (newVal, oldVal) {
            if (oldVal != newVal) {
                fabricInputService.populateCountList({
                    obj: $scope.clusterinput.optionalCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'optionalCardCountOptions'
                });
                optionalCard_requiredCount_oldVal = undefined
                if(oldVal!=undefined)   
                    optionalCard_requiredCount_oldVal = oldVal.requiredCount
                if ($scope.clusterinput.optionalCard) {
                    $scope.clusterinput.optionalCard.requiredCount = 0;
                    if ($scope.inputModel.type == "ASHCI" || ($scope.clusterinput.ndcCard.requiredCount == 0 && $scope.inputModel.type == "GENERIC_COMPUTE")|| $scope.inputModel.type == "HCI_POWERFLEX_Appliance") {
                        $scope.clusterinput.optionalCard.requiredCount = 1;
                    }
                    if($scope.inputModel.type== "GENERIC_COMPUTE")
                    {
                        $scope.clusterinput.optionalCard.requiredCount = 1   
                    }
                    if($scope.inputModel.type == "HCI_VXFLEX")
                    {
                        $scope.clusterinput.optionalCard.requiredCount = 1   
                    }
                    if($scope.inputModel.type == "HCI_VXRAIL" && $scope.clusterinput.version=="7.0")
                    {
                        $scope.clusterinput.optionalCard.requiredCount = 1   
                    }
                    if($scope.clusterinput.ip_san_topology == "Converged" || $scope.clusterinput.ip_san_topology == "Dedicated-SAN")
                    {
                        if(optionalCard_requiredCount_oldVal != undefined && optionalCard_requiredCount_oldVal != null)
                            $scope.clusterinput.optionalCard.requiredCount = optionalCard_requiredCount_oldVal 
                    }
                    if ($scope.clusterinput.storage_type) {
                        $scope.clusterinput.storageProtocol = $scope.clusterinput.optionalCard.storage_type;
                    }
                    Bond.getData({
                        clusterinput: $scope.clusterinput,
                        clustervlan: $scope.clustervlan,
                        form: $scope.clusterForm,
                        url: $scope.bondurl
                    });
                }
            }
        });
    

        $scope.$watch('clusterinput.solution_type', function (newVal, oldVal) {
            if (oldVal != newVal) {
                if ($scope.inputModel.type == "ASHCI")
                    {                        
                    if($scope.clusterinput.solution_type=='Quick Start') {
                        $scope.clusterinput.networkConnectivityOption = "Non-Converged";
                        $scope.clusterinput.optionalCard = $scope.clusterinput.applianceInfo.optionalCard[$scope.clusterinput.applianceInfo.optionalCard.length-1]
                        $scope.clusterinput.currentNodes = 4
                    }
                    else if($scope.clusterinput.solution_type=='Switchless') {
                        $scope.clusterinput.networkConnectivityOption = "Non-Converged";
                        //$scope.clusterinput.currentNodes = 2
                        $scope.inputModel.futureNodes = 1
                        $scope.clusterinput.ndcCard.requiredCount = 1
                    }
                    else
                    {
                        $scope.clusterinput.currentNodes = 3
                        $scope.inputModel.futureNodes = 13
                    }
                }

                Bond.getData({
                    clusterinput: $scope.clusterinput,
                    clustervlan: $scope.clustervlan,
                    form: $scope.clusterForm,
                    url: $scope.bondurl
                });
            }
        });

        $scope.$watch('clusterinput.networkConnectivityOption', function (newVal, oldVal) {
            if (oldVal != newVal) {
                Bond.getData({
                    clusterinput: $scope.clusterinput,
                    clustervlan: $scope.clustervlan,
                    form: $scope.clusterForm,
                    url: $scope.bondurl
                });
            }
        });
        
        function updatePCI(physicalType, bandwidth) {
            var type = physicalType,
                noPCI25g = false;
            var optionalCard = $scope.clusterinput.applianceInfo.optionalCard;
            if (optionalCard) {
                angular.forEach(optionalCard, function (val) {
                    if (val.ports[0].bandwidth == 25) {
                        noPCI25g = true;
                    }
                });
                if (!noPCI25g) {
                    $scope.clusterinput.PCIdisable = false;
                }
                /*
                for (var i = 0; i < optionalCard.length; i++) {
                    if (type == optionalCard[i].ports[0].physicalType && bandwidth == optionalCard[i].ports[0].bandwidth) {
                        $scope.clusterinput.optionalCard = optionalCard[i];
                        return;
                    }
                }
                for (var k = 0; k < optionalCard.length; k++) {
                    if (bandwidth == optionalCard[k].ports[0].bandwidth) {
                        $scope.clusterinput.optionalCard = optionalCard[k];
                        return;
                    }
                }
                for (var j = 0; j < optionalCard.length; j++) {
                   if (type == optionalCard[j].ports[0].physicalType) {
                        $scope.clusterinput.optionalCard = optionalCard[j];
                    }
                }
                */
            }

        }

    }]);
angular
	.module(APP_NAME)
	.service('clusterService', ['$http', '$timeout', 'fabricService', function ($http, $timeout, fabricService) {
		this.getCluster = function (id) {
			var fabricdata = fabricService.getData();
			var view_id = fabricService.getFabricId();
			var dataObj = {
				id: id,
				data: fabricdata,
				view : view_id
			};
			var config = {
				headers: {
					'Content-Type': 'application/json'
				}
			}

			return $http.post('rest/design/getCluster/', dataObj, config);
		}
	}])
angular
    .module(APP_NAME)
    .directive('vscluster', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'VSclusterCtrl',
            scope: {
                inputModel: '=',
                where: '@'
            },
            templateUrl: 'fabric/verticalSolutions/input/verticalSolutionscluster/VSclusterTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .controller('VSclusterCtrl', ['$scope', 'Bond', 'fabricInputService', function ($scope, Bond, fabricInputService) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.clusterForm = $scope.$parent.clusterForm;
        $scope.clusterinput = $scope.$parent.clusterinput;
        $scope.modalDefaults = $scope.$parent.modalDefaults;
        $scope.clustervlan = $scope.$parent.clustervlan;
        $scope.populateVLANdefaults = $scope.$parent.populateVLANdefaults;
        $scope.clusterinput.PCIcountWarning = false;
        $scope.clusterinput.PCIcountWarning = false;        
        $scope.bondurl = "";
        if ($scope.$parent.fabricinput && $scope.$parent.fabricinput.fabricInputs) {
            $scope.bondurl = $scope.$parent.fabricinput.fabricInputs.bond;
        }
        $scope.getExpansionModules = function(num) {
            var modules=new Array();
            for(var i=0;i<num;i++){
                var Obj={};
                Obj.name='expansionModule_'+(i+1);
                Obj.value=0;
              modules.push(Obj);  
            }  
            $scope.clusterinput.expansionModules=angular.copy(modules);           
        }
         $scope.generateVlanDefaults=function(url){
            //spinnerOverlay.start();
            fabricInputService.getDefaults(url)
					.then(function (res) {
                        if(res && res.data && res.data.compute){
                        if($scope.clusterinput.clusterType != 'ECS_STORAGE'){
                         $scope.inputModel.applianceTypes=res.data.compute.applianceTypes;
                         $scope.inputModel.minCurrentNodes=res.data.compute.minCurrentNodes
                        $scope.clusterinput.applianceInfo=res.data.compute.applianceTypes[0];
                        }
						 $scope.populateVLANdefaults(res.data.compute);
                          $scope.clustervlan = $scope.$parent.clustervlan;
                         //spinnerOverlay.stop();
                        }

					},
						function () {
							//spinnerOverlay.stop();
						});
			
        }
        $scope.reloadDefaults=function(url,solutiontype){ 
            $scope.$parent.$parent.$parent.$parent.url=url;  
            fabricInputService.reloadCluster($scope.$parent.$parent.$parent.$parent,solutiontype)
        }

        $scope.$watch('clusterinput.currentNodes', function (newVal, oldVal) {
               if (newVal) {
                   if($scope.clusterinput.clusterType=="SAP_HANA")
                   {
                        if($scope.clusterinput.currentNodes<=56)
                            $scope.clusterinput.futureNodes = Math.ceil($scope.clusterinput.currentNodes/7)
                        else
                        {
                            $scope.clusterinput.futureNodes = 8
                        }
                    }
            }
        });

        $scope.$watch('[clusterinput.cnaCard.requiredCount,clusterinput.ndcCard.requiredCount,clusterinput.optionalCard.requiredCount]', function (newVal, oldVal) {
            if (oldVal != newVal) {
                Bond.getData({
                    clusterinput: $scope.clusterinput,
                    clustervlan: $scope.clustervlan,
                    form: $scope.clusterForm,
                    url: $scope.bondurl
                });
            }
        });

        $scope.$watch('clusterinput.optionalCard.requiredCount', function (newVal, oldVal) {
            if (oldVal != newVal) {
                $scope.clusterinput.PCIcountWarning = $scope.clusterinput.optionalCard && $scope.clusterinput.optionalCard.requiredCount > 0;
            }
        });
        
        $scope.$watch('clusterinput.applianceInfo', function (newVal, oldVal) {
            if (oldVal != newVal) {
                if($scope.inputModel.type!="POWERSTORE_STORAGE"){
                    $scope.clusterinput.cnaCard = $scope.clusterinput.applianceInfo.cnaCard && $scope.clusterinput.applianceInfo.cnaCard[0];                  
                }
                $scope.clusterinput.ndcCard = $scope.clusterinput.applianceInfo.ndcCard[0];
                $scope.clusterinput.optionalCard = $scope.clusterinput.applianceInfo.optionalCard && $scope.clusterinput.applianceInfo.optionalCard[0];               
                if ($scope.inputModel.type != "ASHCI"){
                    $scope.clusterinput.networkConnectivityOption = "Dedicated Management"; 
                }                
        }
        });

        $scope.$watch('clusterinput.cnaCard', function (newVal, oldVal) {
            if (oldVal != newVal) {
                fabricInputService.populateCountList({
                    obj: $scope.clusterinput.cnaCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'cnaCardCountOptions'
                });
                if ($scope.clusterinput.cnaCard) {
                    $scope.clusterinput.cnaCard.requiredCount = 0;
                }
            }
        })

        $scope.$watch('clusterinput.ndcCard', function (newVal, oldVal) {
            if (oldVal != newVal) {
                fabricInputService.populateCountList({
                    obj: $scope.clusterinput.ndcCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'ndcCardCountOptions'
                });
                if ($scope.clusterinput.ndcCard) {
                    if($scope.inputModel.type!="GENERIC_COMPUTE")   
                    {   
                        $scope.clusterinput.ndcCard.requiredCount = 1;
                    }
                    else
                    {
                        $scope.clusterinput.ndcCard.requiredCount = $scope.clusterinput.ndcCard.max;
                    }
                    var portType = "SFP+",
                        bandwidth = null;

                    if ($scope.inputModel.type != "HCI_VSANREADY") {
                        updatePCI(portType, bandwidth);
                    } else {
                        $scope.clusterinput.PCIdisable = false;
                    }                   

                    Bond.getData({
                        clusterinput: $scope.clusterinput,
                        clustervlan: $scope.clustervlan,
                        form: $scope.clusterForm,

                        url: $scope.bondurl
                    });
                }
            }
        });

        $scope.$watch('clusterinput.optionalCard', function (newVal, oldVal) {
            if (oldVal != newVal) {
                fabricInputService.populateCountList({
                    obj: $scope.clusterinput.optionalCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'optionalCardCountOptions'
                });
                if ($scope.clusterinput.optionalCard) {
                    $scope.clusterinput.optionalCard.requiredCount = 0;
                    if ($scope.clusterinput.storage_type) {
                        $scope.clusterinput.storageProtocol = $scope.clusterinput.optionalCard.storage_type;
                    }
                    Bond.getData({
                        clusterinput: $scope.clusterinput,
                        clustervlan: $scope.clustervlan,
                        form: $scope.clusterForm,
                        url: $scope.bondurl
                    });
                }
            }
        });

        $scope.$watch('clusterinput.networkConnectivityOption', function (newVal, oldVal) {
            if (oldVal != newVal) {
                Bond.getData({
                    clusterinput: $scope.clusterinput,
                    clustervlan: $scope.clustervlan,
                    form: $scope.clusterForm,
                    url: $scope.bondurl
                });
            }
        });
        
        function updatePCI(physicalType, bandwidth) {
            var type = physicalType,
                noPCI25g = false;
            var optionalCard = $scope.clusterinput.applianceInfo.optionalCard;
            if (optionalCard) {
                angular.forEach(optionalCard, function (val) {
                    if (val.ports[0].bandwidth == 25) {
                        noPCI25g = true;
                    }
                });
                if (!noPCI25g) {
                    $scope.clusterinput.PCIdisable = false;
                }                
            }

        }

    }]);
angular
	.module(APP_NAME)
	.service('VSclusterService', ['$http', '$timeout', 'fabricService', function ($http, $timeout, fabricService) {
		this.getCluster = function (id) {
			var fabricdata = fabricService.getData();
			var view_id = fabricService.getFabricId();
			var dataObj = {
				id: id,
				data: fabricdata,
				view: view_id
			};
			var config = {
				headers: {
					'Content-Type': 'application/json'
				}
			}

			return $http.post('rest/design/getCluster/', dataObj, config);
		}
	}])
angular
	.module(APP_NAME)
	.service('Bond', ['$rootScope', '$http', '$timeout','fabricService','spinnerOverlay', function ($rootScope, $http, $timeout,fabricService,spinnerOverlay) {

		// Get bonds data
		//networkConnectivityOption=""
		var clustertype;
		this.getData = function (options) {
			var data = angular.copy(options.clusterinput),
				self = this,
			//	temp = options.clusterinput.clusterType.slice(4).toLowerCase();	// This will be removed once bond url made generic
			//	url = '/rest/design/fabric/'+ temp +'/bonds/';
				url=options.url;
			
				if (options.form == undefined || options.form.$pristine) return;
			if (data.applianceInfo != undefined) {
				data.applianceInfo.ndcCard = options.clusterinput.ndcCard;
				data.applianceInfo.backEndCard = options.clusterinput.backEndCard;
				data.applianceInfo.optionalCard = options.clusterinput.optionalCard;
				data.applianceInfo.cnaCard = options.clusterinput.cnaCard;

				data.data = fabricService.getData()
				spinnerOverlay.start()
				$http.post(url, data)
					.then(function (res) {
						options.clusterinput.bonds = angular.copy(res.data.bonds);
						options.clusterinput.bondingports = angular.copy(res.data.bonds);
						options.clusterinput.ports = angular.copy(res.data.ports);
						options.clusterinput.interfaces = angular.copy(res.data.interfaces);
						clustertype = options.clusterinput.clusterType
						var copiedports=angular.copy(res.data.ports);
						var copiedbonds=angular.copy(res.data.bonds);
						options.clusterinput.bondingports=merge_port_bond(copiedbonds,copiedports);
						/*options.clusterinput.fsnList = []
						angular.forEach(options.clusterinput.bondingports,function(val,index)
						{
							//$scope.fsnList.push(val.name) //Multiple select not working with list of tems in array. It expects dict i.e., id inside array
							options.clusterinput.fsnList.push({id: index,name: val.name})
						}); 
						console.log(options.clusterinput.fsnList)*/
						self.loadConfig({
							bonds: options.clusterinput.bonds,
							interfaces:options.clusterinput.interfaces,
							ports: options.clusterinput.ports,
							clusterinput: options.clusterinput
						});						
						if(options.clustervlan.mgmt && options.clustervlan.mgmt.bond)
						{
							if(options.clusterinput.interfaces!=undefined && options.clusterinput.interfaces!=null && options.clusterinput.interfaces.length)
							{
								bond_index = options.clusterinput.bonds.length - options.clusterinput.interfaces.length + 1
								options.clustervlan.mgmt.bond = options.clusterinput.bonds.length && options.clusterinput.bonds[bond_index].name;
							}
							else
								options.clustervlan.mgmt.bond = options.clusterinput.bonds.length && options.clusterinput.bonds[0].name;
						}
						if (options.clusterinput.clusterType == "ASHCI" && options.clusterinput.bonds.length) {
							if(options.clustervlan.mgmt.bond == undefined)
							{
								options.clustervlan.mgmt.bond = options.clusterinput.bonds[0].name
							}
							if (options.clusterinput.bonds.length > 1) {
								options.clustervlan.fault1.bond = options.clusterinput.bonds[1].name;
								if (options.clusterinput.bonds.length>2)
								{
									options.clustervlan.fault2.bond = options.clusterinput.bonds[2].name;
								}
								else
								{
									options.clustervlan.fault2.bond = options.clusterinput.bonds[1].name;
								}
							} else {
								options.clustervlan.fault1.bond = options.clusterinput.bonds[0].name;
								options.clustervlan.fault2.bond = options.clusterinput.bonds[0].name;
							}
						}
						if(options.clusterinput.clusterType=="HCI_VXRAIL" && options.clusterinput.version == "7.0")
						{
							if(options.clusterinput.bonds.length>1){
							options.clustervlan.vSan.bond = options.clusterinput.bonds[1].name
							options.clustervlan.vMotion.bond = options.clusterinput.bonds[1].name
							}
							else{
								options.clustervlan.vSan.bond = options.clusterinput.bonds[0].name
								options.clustervlan.vMotion.bond = options.clusterinput.bonds[0].name									
							}
						}
						if(options.clusterinput.clusterType=="HCI_NSX_VXRAIL")
						{
							/*options.clustervlan.mgmt.bond = options.clusterinput.bonds[1].name
							options.clustervlan.pvtMgmt.bond = options.clusterinput.bonds[1].name
							options.clustervlan.vSan.bond = options.clusterinput.bonds[1].name
							options.clustervlan.vMotion.bond = options.clusterinput.bonds[1].name
							*/

							//Assign overlay bonds by default to edge,host,uplink vlans, bond[0] is overlay bond in NSX.
							if(options.clusterinput.clusterSubType=="management")
							{
								options.clustervlan.edgeoverlay.bond = options.clusterinput.bonds[0].name;
								options.clustervlan.uplink01.bond = options.clusterinput.bonds[0].name;
								options.clustervlan.uplink02.bond = options.clusterinput.bonds[0].name;
							}
							options.clustervlan.hostoverlay.bond  = options.clusterinput.bonds[0].name;
						}
						/*else if(options.clusterinput.clusterType=="SAP_HANA")
						{
							options.clustervlan.saphanatraffic.bond = options.clusterinput.bonds[1].name
						}*/
						/*angular.forEach(options.clustervlan.vmNetworks, function (val, ind) {
							val.bond = options.clusterinput.bonds[0].name;
						});*/
						var fieldName = "fdc_cluster_optionalCard";
						options.form[fieldName] ? options.form[fieldName].$invalid = false : null;
						options.form[fieldName] ? options.form[fieldName].$$attr.uibTooltip = "" : null;
						var optionalCard_requiredCount = "fdc_cluster_optionalCard_requiredCount";
						options.form[optionalCard_requiredCount] ? options.form[optionalCard_requiredCount].$invalid = false : null;
						options.form[optionalCard_requiredCount] ? options.form[optionalCard_requiredCount].$$attr.uibTooltip = "" : null;
						spinnerOverlay.stop()

					}, function (res) {
						if (res.data) {
							angular.forEach(res.data.errors, function (error, index) {
								var fieldName = "fdc_cluster_" + error.field;

								options.form[fieldName].$dirty = true;
								options.form[fieldName].$invalid = true;
								options.form[fieldName].$$attr.uibTooltip = error.message;

								if (index == 0) {
									var focusField = "[name=\"" + fieldName + "\"]";
									$timeout(function () { $(focusField).focus(); });
								}
								if(fieldName == "fdc_cluster_optionalCard_requiredCount" && error.message==" Bonds cannot be created ")
								{
									options.clusterinput.bonds = null;
								}
							});
						}
						spinnerOverlay.stop()
					});
//				});
			}
		}

		// Load config
		this.loadConfig = function (options) {
			var self = this;
			self.options=options;
			bond_interface_options = options.bonds
			if(options.interfaces!=null && options.interfaces!=undefined)// && options.bonds.length==0)
			{
				bond_interface_options = []
				angular.forEach(options.interfaces,function(intf, ind)
				{
					intf.type='interface'
					bond_interface_options.push(intf)
				});
				angular.forEach(options.bonds,function(bond, ind)
				{
					bond_interface_options.push(bond)
				});
				options.bonds = bond_interface_options
			}
			else
				bond_interface_options = options.bonds
			angular.forEach(bond_interface_options, function (val, ind) {
				var height = "auto";
				if(options.ports.length > 4) height = 70 + "px;";
				if(val.type=='interface')
				{
					if(options.clusterinput.clusterType=="POWERSTORE_STORAGE")
					{
						val.nicSelectSettings = {
						showCheckAll: false, showUncheckAll: false, displayProp: 'name', externalIdProp: "",
						keyboardControls: true, idProp: 'name', buttonDefaultText: 'Select Bond',
						styleActive: true, smartButtonMaxItems: 3, scrollable: true, scrollableHeight: height,
						smartButtonTextConverter: function (itemText, originalItem) {
							return itemText.split("-")[0];
						}
					};
					val.nicEditSettings = {
						showCheckAll: false, showUncheckAll: true, displayProp: 'name', externalIdProp: "", buttonClasses: "btn btn-default disabled",
						keyboardControls: true, idProp: 'name', buttonDefaultText: 'Select Bond', smartButtonMaxItems: 1,selectionLimit:2,
						styleActive: true, scrollable: true, scrollableHeight: height,
						smartButtonTextConverter: function (itemText, originalItem) {
							return itemText.split("-")[0];
						}
					};
					}			
					else{
					val.nicSelectSettings = {
						showCheckAll: false, showUncheckAll: false, displayProp: 'name', externalIdProp: "",
						keyboardControls: true, idProp: 'name', buttonDefaultText: 'Select Bond',
						styleActive: true, smartButtonMaxItems: 1, scrollable: true, scrollableHeight: height, selectionLimit: 1,
						smartButtonTextConverter: function (itemText, originalItem) {
							return itemText.split("-")[0];
						}
					};
					val.nicEditSettings = {
						showCheckAll: false, showUncheckAll: true, displayProp: 'name', externalIdProp: "", buttonClasses: "btn btn-default disabled",
						keyboardControls: true, idProp: 'name', buttonDefaultText: 'Select Bond', smartButtonMaxItems: 1,selectionLimit:1,
						styleActive: true, scrollable: true, scrollableHeight: height,
						smartButtonTextConverter: function (itemText, originalItem) {
							return itemText.split("-")[0];
						}
					};	
					}
				}
				else
				{
					val.nicSelectSettings = {
					showCheckAll: false, showUncheckAll: false, displayProp: 'name', externalIdProp: "",
					keyboardControls: true, idProp: 'name', buttonDefaultText: 'Select Bond',
					styleActive: true, smartButtonMaxItems: 3, scrollable: true, scrollableHeight: height,
					smartButtonTextConverter: function (itemText, originalItem) {
						return itemText.split("-")[0];
					}
				};
				val.nicEditSettings = {
					showCheckAll: false, showUncheckAll: false, displayProp: 'name', externalIdProp: "", buttonClasses: "btn btn-default disabled",
					keyboardControls: true, idProp: 'name', buttonDefaultText: 'Select Bond', smartButtonMaxItems: 3,
					styleActive: true, scrollable: true, scrollableHeight: height,
					smartButtonTextConverter: function (itemText, originalItem) {
						return itemText.split("-")[0];
					}
				};
				}
				val.bondList = angular.copy(options.ports);				

				var dlPorts = angular.copy(val.ports);
				options.clusterinput.portsAvailable = angular.copy(options.ports);				
				val.disableports = [];
				angular.forEach(dlPorts, function (port, index) {
					port.disabled = true;
				})
				if (dlPorts && dlPorts.length) {
					val.disableports.push.apply(val.disableports, dlPorts);
				}
				// To pass an index on select/deselct
				(function (v, i) {
					v.bondEvent = self.events({
						bonds: options.bonds,
						ports: options.ports,
						interfaces: options.interfaces,
						index: i
					});
				})(val, ind)

				// update model for default selected
				self.update({				
                    bonds: options.bonds,
                    ports: options.ports,
					interfaces: options.interfaces
				});
				options.clusterinput.bonds = options.bonds
			});
		};

		this.getDeploymentType = function (){
			return res = $http.post('/rest/design/getDeploymentType/',data=fabricService.getData())			
		}
		// Update Bond model
		this.update = function (options) {
			if(options.interfaces!=null && options.interfaces!=undefined)// && options.bonds.length==0)
			{
				interfaces = []
				bond_interface_options = []
				angular.forEach(options.bonds,function(bond,ind)
				{
					if(bond.type=='interface')
					{
						interfaces.push(bond)
					}  
				});
				if(interfaces.length==0)
				{
					bond_interface_options = options.bond
					angular.forEach(options.interfaces,function(intf, ind)
					{
						intf.type='interface'
						bond_interface_options.push(intf)
					});
					options.bonds = bond_interface_options
				}
			}
			if (options.remove) {
				onPortRemove(options.remove, options.bonds, options.ports);
			}

			var allSelectedPorts = getAllSelectedPorts(options.bonds);

			removePorts(allSelectedPorts, options.ports);

			if (angular.isNumber(options.index)) {
				createBondList(options.bonds, options.ports, options.index);
			} else {
				 createBondList(options.bonds, options.ports);
			}
			var copiedports=angular.copy(options.ports);
			var copiedbonds=angular.copy(options.bonds);
			this.options.clusterinput.bondingports=merge_port_bond(copiedbonds,copiedports);
			fsnList = []
			angular.forEach(this.options.clusterinput.bondingports,function(val,index)
			{
				//$scope.fsnList.push(val.name) //Multiple select not working with list of tems in array. It expects dict i.e., id inside array
				fsnList.push({id: index,name: val.name})
			}); 
			this.options.clusterinput.fsnList = fsnList
		};
		
		this.events = function (options) {
			var self = this,
				obj = {
					onItemDeselect: function (item) {
						self.update({
							bonds: options.bonds,
							ports: options.ports,
							interfaces: options.interfaces,
							index: options.index,
							remove: item
						})
					},
					onItemSelect: function (item) {
						self.update({
							bonds: options.bonds,
							ports: options.ports,
							interfaces: options.interfaces,
							index: options.index
						})
					}
				};

				return obj;
		};
		function merge_port_bond(bonds,ports){
			var mergedElements=angular.copy(bonds);
			angular.forEach(bonds,function(bond,index){
				//mergedElements.push(bond);
				if(bond.ports && bond.ports.length>0){
				 removePorts(bond.ports, ports);                
				}
			});
			mergedElements.push.apply(mergedElements,ports);
			return mergedElements;
            
		}

		//\\ *** Helper function for toggle bond selection  *** //\\
		// Get all selected ports
		function getAllSelectedPorts(bonds) {
			var allSelectedPorts = [];
			angular.forEach(bonds, function (vl, indx) {
				if (vl.ports && vl.ports.length) {
					allSelectedPorts.push.apply(allSelectedPorts, vl.ports);
				}
			});
			return allSelectedPorts;
		}

		// Remove from selected
		function removePorts(selected, available) {
			for (var j = 0; j < selected.length; j++) {
				updateAvailable(selected, available, j);
			}
		}

		function updateAvailable(selected, available, ind) {
			for (var i = available.length; i--;) {
				if (available[i].name === selected[ind].name) {
					available.splice(i, 1);
				}
			}
		}

		// createBondList
		function createBondList(bonds, ports, ind) {
			angular.forEach(bonds, function (v, i) {
				if ((angular.isDefined(ind) && ind != i) || !angular.isDefined(ind)) {		// Skip create bondList if it's current element
					v.bondList = [];			
					v.bondList = angular.copy(ports);	
					//FDC-2473 fix
					/*if(clustertype=="HCI_VXRAIL")//To list only NDC in bond0
					{
						index_list = []
						angular.forEach(v.bondList, function (value, $index) {
							//Vxrail allows to select 2 or 4 ports NDC for mgmt,Show only NDC ports in bond0						
								if(value['name'].indexOf('PCIe') >= 0 && v['name'] == "bond0")
								{
									index_list.push($index)
								}
														
						});	
						angular.forEach(index_list.reverse(),function(value,$index)
						{
							v.bondList.splice(value,1);						
						});
					}*/
					var clonePorts = angular.copy(v.ports);
					if (v.ports && v.ports.length) {
						v.bondList.push.apply(v.bondList, clonePorts);
					}					
					/*if(networkConnectivityOption=='Fully Converged')
					{
						console.log("here",bonds)//Remove ndc from bond0
					}*/
				}
				
			});						
		}

		// on deselect push into ports
		function onPortRemove(item, bonds, ports) {
			angular.forEach(bonds, function (v) {
				updatePorts(item, v.bondList, ports);
			});
		}

		function updatePorts(item, bondList, ports) {
			angular.forEach(bondList, function (val) {
				if (item.name == val.name) {
					ports.push(val);
				}
			})
		}
	}]);
angular
    .module(APP_NAME)
    .directive('bonding', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'bondCtrl',
            scope: {
                model: '=',
                where: '@'
            },
            templateUrl: 'fabric/design/input/bond/bondTmpl.html',
            link: function (scope, element, attrs, ctrl) {
                scope.nicBond.lagMode = scope.model.lagMode[0];
                scope.nicBond.lagModeEnabled = true;
            }
        };
    });
angular
    .module(APP_NAME)
    .controller('bondCtrl', ['$scope', 'Bond','fabricService', function ($scope, Bond, fabricService) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.clusterForm = $scope.$parent.clusterForm;
        $scope.clusterDefaults = $scope.$parent.modalDefaults;
        $scope.lacpWarning = false;
        
        if ($scope.clusterDefaults.type == 'HCI_VSANREADY') {
            $scope.lacpWarning = true;
        }
        $scope.getfabrictype = function(){
            /*$http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {
                $scope.fabricType = res.data
              });
            */
            $scope.fabricType = fabricService.getDeploymentType();
        }
        $scope.isPortsAvailable = function()
        {
            options = $scope.model
            ports_available = 0
            if(options.clusterType=='HCI_VXRAIL')
            {
                angular.forEach(options.ports, function (value, $index) {
                    if(value.name.indexOf('PCIe') >= 0)
                    {
                     ports_available += 1    
                    }
                });
            }
            if(ports_available>0)
            {
                return true
            }
            return false
        }
        
        $scope.add = function (index) {
            if ($scope.clusterForm['fdc_cluster_bond' + index].$valid) {
                var options = $scope.model;    
                angular.forEach(options.bonds,function(bond,ind)
                {
                    if(bond.type!='interface')
                    {
                        cloneBond = angular.copy(bond);
                    }
                });           
                // var cloneBond = angular.copy(options.bonds[0]);
                interfaces_length = 0
                if(options.interfaces != undefined && options.interfaces!=null)
                {
                    interfaces_length = options.interfaces.length
                }
                cloneBond.name = "bond" + (options.bonds.length - interfaces_length);
                cloneBond.ports = [];
                if($scope.fabricType == "Enterprise SONiC Fabric")
                    cloneBond.lagMode = 'Switch Dependent - LACP'
                else
                    cloneBond.lagMode = options.lagMode[0];
                if($scope.clusterDefaults.type=='POWERSTORE_STORAGE')
                {
                    cloneBond.bond_type = "storage_bond"
                }
                // To pass an index on select/deselct
                cloneBond.bondEvent = Bond.events({
                    bonds: options.bonds,
                    ports: options.ports,
                    index: index + 1
                });

                options.bonds.push(cloneBond);

                // Updated model
                Bond.update({
                    bonds: options.bonds,
                    ports: options.ports
                });
            } else {
                $scope.clusterForm['fdc_cluster_bond' + index].$dirty = true;
            }

        }

        $scope.remove = function () {
            var options = $scope.model;
            var bond = options.bonds[options.bonds.length - 1];
            if (bond.ports.length) {
                options.ports.push.apply(options.ports, bond.ports);
            }
            options.bonds.pop();

            // Updated model
            Bond.update({
                bonds: options.bonds,
                ports: options.ports
            })
        }
    }]);
angular
	.module(APP_NAME)
	.service('VLANService', ['$rootScope','$http','fabricService',function ($rootScope,$http,fabricService) {
     var fabricdata=null;
        config = {
            headers: {
                'Content-Type': 'application/json'
            }
        };
    //get all Vlans from the fabric.
     this.getAllVlans=function(view_id) {           
         data = {
            'data':fabricService.getData(),
            'view':view_id
         }
           var promise = $http.post('/rest/build/getallvlans/ ', data, config)
                .then(function (res, status, headers, config) {
                   return res.data;
                }, function (data, status, header, config) {

                });
            return promise;
        },
    
        this.getNsxVlans=function() {           
            var promise = $http.post('/rest/build/getnsxvlans/ ', fabricService.getData(), config)
                 .then(function (res, status, headers, config) {
                    return res.data;
                 }, function (data, status, header, config) {
 
                 });
             return promise;
         },
     
      //get all vlans for each cluster.
        this.getClusterVlans = function () {
			var promise = $http.post('rest/build/getclustervlan/', fabricService.getData(), config)
				.then(function (data, status, headers, config) {
					return data.data;
				}, function (data, status, header, config) {
				});
			return promise;
		}
         //set all vlans for each cluster.
        this.setClusterVlans = function (dataObj) {
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};
             if(dataObj)
             dataObj.data=fabricService.getData();
			var promise = $http.post('rest/build/addclustervlan/', dataObj, config)
				.then(function (data, status, headers, config) {
					return data.data;
				}, function (data, status, header, config) {
                    return data;
				});
			return promise;
		}
         //validate all vlans for each cluster.
        this.validateClusterVlans = function (dataObj) {
			var promise = $http.post('rest/build/validateclustervlan/ ', dataObj, config)
				.then(function (data, status, headers, config) {
					return data.data;
				}, function (data, status, header, config) {
                    return data;
				});
			return promise;
		}
        // get switches for a  particular Vlan.
        this.getListOfSwitchesForVlan = function (dataObj,view_id) {
            if(dataObj)
             dataObj.data=fabricService.getData();
             if(view_id)
             dataObj.view = view_id
             return $http.post('rest/build/getswitchesforvlan/', dataObj);
		}
        // update IP for a vlan in a switch
        this.updateIPforSwitchesInVLAN = function (dataObj,view_id) {
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};
            if(dataObj)
             dataObj.data=fabricService.getData();
            if(view_id)
             dataObj.view = view_id
			return $http.post('/rest/build/updateVlanIPs/ ', dataObj, config);
		}
        this.getNSXVlansDefault = function () {
            return $http.post('/rest/build/nsxvlans/defaults/ ', { data: fabricService.getData() }, config);
        }

        this.generateNSXVlansDefault = function (data) {
            var config = {
                   headers : {
                       'AcceptMethod': 'write'
                   }
           }; 
           if(data) data.data=fabricService.getData();
           return $http.post('/rest/build/nsxvlans/generate/ ', data, config);
       }
         /**get Workload Vlans Default */
        this.getWorkloadVlansDefault = function (view_id) {
            return $http.post('/rest/build/workloadvlans/defaults/ ', { data: fabricService.getData(),view:view_id }, config);
        }
        this.getCBISWorkloadVlansDefault = function () {
            return $http.post('/rest/build/cbisworkloadvlans/defaults/ ', { data: fabricService.getData() }, config);
        }
         /**generate Workload Vlans Default */
        this.generateWorkloadVlansDefault = function (data,view_id) {
             var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			}; 
            if(data) data.data=fabricService.getData();
            if(view_id) data.view = view_id
            return $http.post('/rest/build/workloadvlans/generate/ ', data, config);
        }
        this.generateCBISWorkloadVlansDefaults = function (data) {
            var config = {
                   headers : {
                       'AcceptMethod': 'write'
                   }
           }; 
           if(data) data.data=fabricService.getData();
           return $http.post('/rest/build/cbisworkloadvlans/generate/ ', data, config);
       }
	}]);
angular
    .module(APP_NAME)
    .directive('vlanBuilder', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,            
            controller: 'VLANBuilderCtrl',
            scope: {
                vlanList: '=',
                bondList: '=',
                sanList: '=',
                fsnList: '=',
                sanNetworks: '=',
                clusterType:'@'
            },
            templateUrl: 'fabric/design/input/vlan/vlanBuilderTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .controller('VLANBuilderCtrl', ['$scope', function ($scope) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.clusterForm = $scope.$parent.clusterForm;
        $scope.clusterinput = $scope.$parent.clusterinput;
        /** Utility to check the value is an array  or not */
        $scope.isArray = angular.isArray;
        $scope.separatensxvlan = false
        /** controller to add Guest Vlan row in UI*/
        $scope.separatensx= function(vlankey,vlan)
        {            
            /*if((vlankey=="edgeoverlay"||vlankey=="hostoverlay"||vlankey=="uplink01"||vlankey=="uplink02") && vlan!=null)
            {
                console.log(vlan)
                if($scope.separatensxvlan == true)
                    return false
                $scope.separatensxvlan = true
                return true
            }*/
            if(vlan!=null)
            {   
                if(vlankey=="hostoverlay")
                {
                    return true
                }    
            }
            return false
        }
        $scope.myFilter_overlaybonds = function(item,vlankey)
        {
            if(item.name=="Overlay Bonds")
                return false
            return true
        }

        $scope.myFilter = function(item,vlankey)
        {
            if(item.name=="Overlay Bonds")
                return true
            return false
        }        
        $scope.filter_powerstore_stnetworks = function(item)
        {
            /*
            if((item.name=='System Bond') && ($scope.clusterType == 'POWERSTORE_STORAGE'))
            {
                return false
            }
            if(item.name.indexOf('bond')==-1 && ($scope.clusterType == 'POWERSTORE_STORAGE'))
            {
                return false
            }
            */
            if((item.name.indexOf('SAN')==-1 && item.name.indexOf('stNetwork')==-1) && $scope.clusterType=='GENERIC_COMPUTE')
                return false
            return true
        }
        $scope.filter_storage_bonds = function(item)
        {
            angular.forEach($scope.clusterinput.bondingports, function (st_bond) {
                if(st_bond.name==item.name && st_bond.bond_type=="storage_bond")
                {
                    return true
                }
            });
            return false
        }
        $scope.filter_vlan_bonds_other_than_storage = function(item)
        {   
            if(item.name.indexOf('SAN')!=-1  && item.name.indexOf('stNetwork')==-1 &&$scope.clusterType=='GENERIC_COMPUTE')
            {
                return false
            }
            return true
        }       
        $scope.addStorageVlan = function (vlankey) {
            type="storageNetworks";
            if(vlankey)
            type=vlankey;
            var cloneVmNetwork = null, clusterCount = 0;
            if ($scope.vlanList[type].length > 0) {
                cloneVmNetwork = angular.copy($scope.vlanList[type][0]);
            }
            else {
                cloneVmNetwork = { name: "", vlanId: 0, bond: "bond0", description: "", enable_ip_interface: true };
                if($scope.clusterType=='POWERSTORE_STORAGE')
                  cloneVmNetwork = { name: "", vlanId: 0, bond: "bond0", description: "", enable_ip_interface: true,torSwitch:'Leaf Pair' };
            }
            var vmNetworkCount = 0;
            var count = 0,
                vlanNameCount = 0,
                vlanStr = '';
            angular.forEach($scope.vlanList, function (value, key) {
                /* set vlan id for each cluster*/
                if (key && value) {
                    if (key == 'mgmt' && value.vlan_type!='native') vmNetworkCount = Number(value.vlanId) - 1;
                    if($scope.clusterType=='POWERSTORE_STORAGE' && key=="svmMgmt") vmNetworkCount = Number(value.vlanId) - 1;
                    if (key != 'pvtMgmt'&&($scope.clusterType!='POWERSTORE_STORAGE'|| ($scope.clusterType=='POWERSTORE_STORAGE' && key!="mgmt" && key!="vmNetworks"))) count++;                   
                    /*if($scope.clusterType=='POWERSTORE_STORAGE' && ((value.length==0 && key=="vmNetworks") || (value.length==0 && key == "storageNetworks")))
                    {
                        count += 1
                        console.log(key,value.length)
                    }
                    if($scope.clusterType=='POWERSTORE_STORAGE' && ((value.length!=0 && key=="vmNetworks") || (value.length!=0 && key == "storageNetworks")))
                    {
                        count += value.length-1
                    }*/
                }
            });
            if($scope.clusterType=='POWERSTORE_STORAGE' && vlankey=="storageNetworks")
                var vlanName="stNetwork_";
            else
                var vlanName=$scope.$parent.clusterinput.name +(vlankey!="storageNetworks"? "_"+vlankey+"Network_":"_stNetwork_");
            //if($scope.clusterType=='POWERSTORE_STORAGE' && $scope.clusterForm.fdc_cluster_deploymentModel.$modelValue=='PowerStore T/Q models') 
            //    vlanName=$scope.$parent.clusterinput.name + "_NAS_Network_";                            
            if (!$scope.vlanList[type].length) {
                cloneVmNetwork.name = vlanName + 1;                
               cloneVmNetwork.vlanId = vmNetworkCount + count;
            } else {
                vlanStr = $scope.vlanList[type][$scope.vlanList[type].length - 1].name;
                vlanStr = vlanStr.match(/\d+$/) ? vlanStr.match(/\d+$/)[0] : null;
                vlanNameCount = Number(vlanStr);
                cloneVmNetwork.name = vlanName + (vlanNameCount + 1);
                cloneVmNetwork.vlanId = Number($scope.vlanList[type][$scope.vlanList[type].length - 1].vlanId) + 1;
            }
            if($scope.clusterType=='POWERSTORE_STORAGE' && vlankey=="storageNetworks" && $scope.bondList.length>1)
                cloneVmNetwork.bond = $scope.bondList[1].name;
            else
                cloneVmNetwork.bond = $scope.bondList[0].name; 
            $scope.vlanList[type].push(cloneVmNetwork);
        }
        /*$scope.getName = function (ports,bond_name){
            vlan_bond = ''
            index = 0
            angular.forEach(ports,function(port)
            {
                vlan_bond += port.name.split('-')[0]
                if(index<ports.length-1)
                    vlan_bond += ','
                index += 1
            });
            vlan_bond += '-'+bond_name
            return vlan_bond
        }*/
        var height = "auto"
        $scope.myDropdownSettings = {
                styleActive: true,checkBoxes: true,externalIdProp: "",
                showCheckAll: false, showUncheckAll: false,
                displayProp: 'name',
                idProp: 'name',
                keyboardControls: true,
                buttonDefaultText: 'Select Bond',
                styleActive: true, smartButtonMaxItems: 3, scrollable: true, scrollableHeight: height,
                smartButtonTextConverter: function (itemText, originalItem) {
                    if(itemText.includes('-'))
                        return itemText.split("-")[0]
                    else if(itemText.includes('_'))
                        return itemText[0]+itemText[1]+itemText.split("_")[1]
                    else if(itemText.includes('System'))
                        return itemText[0]+itemText[1]+itemText[2];
                    else
                        return itemText;
                }                
              }; 
       $scope.addGuestVlan = function (vlankey) {
            type="vmNetworks";
            var height = "auto";
            if(vlankey)
            type=vlankey;
            var cloneVmNetwork = null, clusterCount = 0;
            if ($scope.vlanList[type].length > 0) {
                cloneVmNetwork = angular.copy($scope.vlanList[type][0]);
            }
            else {
                cloneVmNetwork = { name: "", vlanId: 0, bond: "bond0", description: "", enable_ip_interface: true };
                if($scope.clusterType=='POWERSTORE_STORAGE')
                  cloneVmNetwork = { name: "", vlanId: 0, bond: "bond0", description: "", enable_ip_interface: true,torSwitch:'Leaf Pair' };
            }            
            /*var height = "auto"
            cloneVmNetwork.myDropdownSettings = {
                styleActive: true,checkBoxes: true,externalIdProp: "",
                showCheckAll: false, showUncheckAll: false,
                displayProp: 'name',
                idProp: 'name',
                keyboardControls: true,
                buttonDefaultText: 'Select Bond',
                styleActive: true, smartButtonMaxItems: 3, scrollable: true, scrollableHeight: height,
                smartButtonTextConverter: function (itemText, originalItem) {
                    if(itemText.includes('-'))
                        return itemText.split("-")[0]
                    else if(itemText.includes('_'))
                        return itemText[0]+itemText[1]+itemText.split("_")[1]
                    else if(itemText.includes('System'))
                        return itemText[0]+itemText[1]+itemText[2];
                    else
                        return itemText;
                }                
            };  */          
            /*if ($scope.$parent.mode != "SERVEREDIT") {
                clusterCount = $scope.$parent.fabricInputs.clusterInputs[$scope.$parent.clusterinput.clusterSubType].length + 1;
                if ($scope.$parent.editClusterMode) {
                    angular.forEach($scope.$parent.fabricInputs.clusterInputs[$scope.$parent.clusterinput.clusterSubType], function (vl, indx) {
                        if (vl.name == $scope.$parent.editClusterMode.name) {
                            clusterCount = (indx + 1);
                        }
                    });
                }
            }*/
            var vmNetworkCount = 0;
            var count = 0,
                vlanNameCount = 0,
                vlanStr = '';
            /*if($scope.clusterType=='POWERSTORE_STORAGE')//Reserved 32 vlanids for storage vlans
            {
                count += 32
            }*/

            angular.forEach($scope.vlanList, function (value, key) {
                /* set vlan id for each cluster*/
                if (key && value) {
                    if (key == 'mgmt' && value.vlan_type!='native') vmNetworkCount = Number(value.vlanId) - 1;
                    if($scope.clusterType=='POWERSTORE_STORAGE' && key=="svmMgmt") vmNetworkCount = Number(value.vlanId) - 1;
                    if($scope.clusterType=='POWERSTORE_STORAGE' && key=="storageNetworks") 
                    {
                        if(angular.isArray(value) && value.length>0)
                        {
                            angular.forEach(value,function(val)
                            {
                                vmNetworkCount = Number(val.vlanId) - 1
                            });
                            count++
                        }
                    }  
                    if (key != 'pvtMgmt'&&($scope.clusterType!='POWERSTORE_STORAGE'|| ($scope.clusterType=='POWERSTORE_STORAGE' && key!="vmNetworks" && key!="storageNetworks"))) 
                    {                        

                        if(angular.isArray(value) && value.length>0)
                        {
                             count += value.length 
                        }                 
                        else
                            count++
                    }
                }
            });
            var vlanName=$scope.$parent.clusterinput.name +(vlankey!="vmNetworks"? "_"+vlankey+"Network_":"_vmNetwork_");
            if($scope.clusterType=='GENERIC_COMPUTE') 
                  vlanName=$scope.$parent.clusterinput.name + "_appNetwork_";
            if($scope.clusterType=='UNITY_STORAGE') 
                  vlanName=$scope.$parent.clusterinput.name + "_sanNetwork_";     
            if($scope.clusterType=='ECS_STORAGE') 
                vlanName=$scope.$parent.clusterinput.name + "_stNetwork_";                       
            if($scope.clusterType=='POWERSTORE_STORAGE' && $scope.clusterForm.fdc_cluster_deploymentModel.$modelValue=='PowerStore T/Q models') 
                vlanName=$scope.$parent.clusterinput.name + "_NAS_Network_";                 
            if (!$scope.vlanList[type].length) {
                cloneVmNetwork.name = vlanName + 1;
               cloneVmNetwork.vlanId = vmNetworkCount + count;
            } else {
                vlanStr = $scope.vlanList[type][$scope.vlanList[type].length - 1].name;
                vlanStr = vlanStr.match(/\d+$/) ? vlanStr.match(/\d+$/)[0] : null;
                vlanNameCount = Number(vlanStr);
                cloneVmNetwork.name = vlanName + (vlanNameCount + 1);
                cloneVmNetwork.vlanId = Number($scope.vlanList[type][$scope.vlanList[type].length - 1].vlanId) + 1;
            }
            if($scope.clusterType=='POWERSTORE_STORAGE')
            {
                cloneVmNetwork.fsn = [$scope.fsnList[0]]
                cloneVmNetwork.bond = "FSN"
            }
            if($scope.clusterType!='POWERSTORE_STORAGE')
                cloneVmNetwork.bond = $scope.bondList[0].name;
            cloneVmNetwork.vnid = -1;
            if($scope.clusterinput.interfaces!=undefined && $scope.clusterinput.interfaces!=null && $scope.clusterinput.interfaces.length)
            {
                bond_index = $scope.clusterinput.bonds.length - $scope.clusterinput.interfaces.length + 1
                if($scope.clusterType!='POWERSTORE_STORAGE')
                    cloneVmNetwork.bond = $scope.bondList[bond_index].name;
            }

            $scope.vlanList[type].push(cloneVmNetwork);
        }

        /** controller to remove Guest Vlan row from UI*/
        $scope.removeGuestVlan = function (index,vlankey) {
            /**Remove the last entry from the vlan list */
             type="vmNetworks";
            if(vlankey)
            type=vlankey;
            $scope.vlanList[type].splice(index, 1);
        } 
        $scope.removeStorageVlan = function (index,vlankey) {
            /**Remove the last entry from the vlan list */
             type="storageNetworks";
            if(vlankey)
            type=vlankey;
            $scope.vlanList[type].splice(index, 1);
        } 
        $scope.$watch(function($scope) {
            if($scope.vlanList.storageNetworks)
             {   
                if($scope.clusterType=='GENERIC_COMPUTE'){         
                    index = 0
                    angular.forEach($scope.vlanList.storageNetworks,function(val,key)
                    {
                        vlan_names = []
                        angular.forEach($scope.sanNetworks.storage_vlans,function(st_val)
                        {
                            vlan_names.push(st_val.name)
                            /*if(st_val.name == val.bond)
                            {
                                val.vlanId = st_val.vlanId
                                val.name = st_val.name
                            }*/
                            if(st_val.name==val.name)
                            {
                                val.vlanId = st_val.vlanId                                
                            }
                           
                        })
                        if(vlan_names.indexOf(val.name)==-1)
                            val.name = vlan_names[0]
                        index += 1
                    })
                }
             return $scope.vlanList.storageNetworks.
                 map(function(storageNetworks,index) {
                     return storageNetworks.bond;
                 });
                }
             }, function(newValue,oldValue){
                if(($scope.clusterType=='POWERSTORE_STORAGE' ||$scope.clusterType=='UNITY_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance'|| $scope.clusterType=='HCI_VXFLEX'||$scope.clusterType=='GENERIC_COMPUTE')&& newValue&& newValue.length>0){
                   $scope.vlanList.storageNetworks.
                     map(function(storageNetworks,index) {
                        if(newValue[index].indexOf('ond')>0)storageNetworks.torSwitch='Leaf Pair';
                        else if(storageNetworks.torSwitch && storageNetworks.torSwitch=='Leaf Pair')storageNetworks.torSwitch='Leaf-1'
                     }); 
                }
         }, true);
        $scope.$watch(function($scope) {
           if($scope.vlanList.vmNetworks)
            return $scope.vlanList.vmNetworks.
                map(function(vmnetworks,index) {
                    return vmnetworks.bond;
                });
            }, function(newValue,oldValue){
               if(($scope.clusterType=='POWERSTORE_STORAGE' ||$scope.clusterType=='UNITY_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance'|| $scope.clusterType=='HCI_VXFLEX'||$scope.clusterType=='GENERIC_COMPUTE')&& newValue&& newValue.length>0){
                  $scope.vlanList.vmNetworks.
                    map(function(vmnetworks,index) {
                       if(newValue[index].indexOf('ond')>0)vmnetworks.torSwitch='Leaf Pair';
                       else if(vmnetworks.torSwitch && vmnetworks.torSwitch=='Leaf Pair')vmnetworks.torSwitch='Leaf-1'
                    }); 
               }
        }, true);
          $scope.$watch(function($scope) {
                  return $scope.vlanList.fault1;
            }, function(newValue,oldValue){
              if($scope.clusterType=='POWERSTORE_STORAGE'&& newValue&& newValue.bond){
                  if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
                   else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
               }
        }, true);
         $scope.$watch(function($scope) {
                  return $scope.vlanList.mgmt;
            }, function(newValue,oldValue){
                if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance'|| $scope.clusterType=='HCI_VXFLEX' ||$scope.clusterType=='UNITY_STORAGE'||$scope.clusterType=='GENERIC_COMPUTE')&& newValue&& newValue.bond){
                  if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
                   else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
               }
        }, true);
         $scope.$watch(function($scope) {
                  return $scope.vlanList.svmMgmt;
            }, function(newValue,oldValue){
               if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance'|| $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
                  if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
                   else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
               }
        }, true);
        $scope.$watch(function($scope) {
            return $scope.vlanList.vMotion;
      }, function(newValue,oldValue){
         if(($scope.clusterType=='POWERSTORE_STORAGE'|| $scope.clusterType=='HCI_POWERFLEX_Appliance' || $scope.clusterType=='HCI_VXFLEX'||$scope.clusterType=='GENERIC_COMPUTE')&& newValue&& newValue.bond){
            if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
             else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
         }
      }, true);
      $scope.$watch(function($scope) {
        return $scope.vlanList.svmData1;
  }, function(newValue,oldValue){
     if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
        if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
         else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
     }
}, true);
$scope.$watch(function($scope) {
    return $scope.vlanList.oracledb_public;
}, function(newValue,oldValue){
 if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance'||$scope.clusterType=='GENERIC_COMPUTE' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
    if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
     else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
 }
}, true);
$scope.$watch(function($scope) {
    return $scope.vlanList.oracledb_rac_private;
}, function(newValue,oldValue){
 if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance'||$scope.clusterType=='GENERIC_COMPUTE' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
    if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
     else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
 }
}, true);
$scope.$watch(function($scope) {
    return $scope.vlanList.svmData2;
}, function(newValue,oldValue){
 if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
    if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
     else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
 }
}, true);
$scope.$watch(function($scope) {
    return $scope.vlanList.svmData3;
}, function(newValue,oldValue){
 if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
    if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
     else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
 }
}, true);
$scope.$watch(function($scope) {
    return $scope.vlanList.svmData4;
}, function(newValue,oldValue){
 if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
    if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
     else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
 }
}, true);
$scope.$watch(function($scope) {
    return $scope.vlanList.replication1;
}, function(newValue,oldValue){
 if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
    if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
     else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
 }
}, true);
$scope.$watch(function($scope) {
    return $scope.vlanList.replication2;
}, function(newValue,oldValue){
 if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
    if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
     else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
 }
}, true);
$scope.$watch(function($scope) {
    return $scope.vlanList.osinstallation;
}, function(newValue,oldValue){
 if(($scope.clusterType=='POWERSTORE_STORAGE' || $scope.clusterType=='HCI_POWERFLEX_Appliance' || $scope.clusterType=='HCI_VXFLEX')&& newValue&& newValue.bond){
    if(newValue.bond.indexOf('ond')>0)newValue.torSwitch='Leaf Pair';
     else if(newValue.torSwitch && newValue.torSwitch=='Leaf Pair')newValue.torSwitch='Leaf-1'
 }
}, true);

    }]);
angular
    .module(APP_NAME)
    .controller('clusterActionsCtrl', ['$scope', 'spinnerOverlay', '$timeout', '$rootScope', 'VLANService', 'fabricService', '$http', '$uibModal', 'fabricInputService', 'rackService',
        function ($scope, spinnerOverlay, $timeout, $rootScope, VLANService, fabricService, $http, $uibModal, fabricInputService, rackService) {
            $scope.clusterForm = $scope.$parent.clusterForm;
            $scope.clusterinput = $scope.$parent.clusterinput;
            $scope.clustervlan = $scope.$parent.clustervlan;
            $scope.fabricInputs = $scope.$parent.fabricInputs;
            $scope.mode = $scope.$parent.mode;
            $scope.selectNode = $scope.$parent.selectNode;
            $scope.displayToaster = $scope.$parent.displayToaster;
            if ($scope.$parent.fabricInputParams) {
                $scope.fabricInputParams = $scope.$parent.fabricInputParams.fabricInputs;
            }
            $scope.stretch = false
            $scope.index = $scope.$parent.index;
            //$scope.rackClusterModel = $scope.$parent.rackClusterModel;
            //$scope.sendWorkLoadData = $scope.$parent.sendWorkLoadData;

            $scope.addRackWarning = {};

            $scope.addCluster = function () {
                $scope.validate();
            }
           
            $scope.bModal = function (obj) {
                var clusterIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/addClusterOnRack.html',
                    controller: 'clusterActionsCtrl',
                    size: 'lg',
                    resolve: {
                        items: function () {

                        }
                    },
                    scope: $scope
                });
                clusterIns.result.then(function () {

                },
                    function () {
                        $scope.rackClusterModel = null;
                    });

                clusterIns.rendered.then(function () {
                    //$scope.$emit('rackCluster', {data: obj})
                    $scope.rackClusterModel = obj;
                    $scope.rackClusterModel.selectedRack = $scope.rackClusterModel.racks.length && $scope.rackClusterModel.racks[0];
                    $scope.rackClusterModel.upgradeSwitch = $scope.rackClusterModel.upgrade_tor.length && $scope.rackClusterModel.upgrade_tor[0];
                    $scope.sendWorkLoadData = function () {
                        spinnerOverlay.start();
                        if ($scope.rackClusterModel.rackOption) {                      
                            if ($scope.rackClusterModel.rackOption == 'new')
                            {
                                rack_ids = []
                                rackService.validateNewRackswitch($scope.fabricInputs.dataObj.data,$scope.fabricInputs.dataObj.add_cluster_input.cluster_input.clusterType).then(function(res)
                                {
                                    if(res.data.SUPPORT == "FALSE"){
                                        $scope.SwitchRecommendedWarning();
                                        if(clusterIns) 
                                            clusterIns.close && clusterIns.close()
                                    }
                                    else
                                    {
                                        genericAddCluster(clusterIns,$scope.stretch);
                                    }
                                });
                            }
                            else
                            {
                                rack_ids = [$scope.rackClusterModel.selectedRack.rack_id]
                                if ($scope.fabricInputs.dataObj.add_cluster_input.cluster_input.clusterType == "HCI_POWERFLEX_Appliance")
                                {
                                rackService.validateRecommendedswitch($scope.fabricInputs.dataObj.data,$scope.fabricInputs.dataObj.add_cluster_input.cluster_input,rack_ids).then(function(res)
                                {
                                    if(res.data.SUPPORT == "FALSE"){
                                        $scope.SwitchRecommendedWarning();
                                        if(clusterIns) 
                                            clusterIns.close && clusterIns.close()
                                    }
                                    else
                                    {
                                        genericAddCluster(clusterIns,$scope.stretch);
                                    }
                                });
                                }
                                else
                                {
                                    genericAddCluster(clusterIns,$scope.stretch);                                    
                                }
                            }
                        }                        
                    else
                        {
                            if($scope.fabricInputs.dataObj.add_cluster_input.cluster_input.clusterType == "HCI_POWERFLEX_Appliance" && $scope.rackClusterModel.upgradeSwitch != "S5048F-ON")
                            {
                                spinnerOverlay.stop();
                                if(clusterIns) 
                                    clusterIns.close && clusterIns.close()
                                var output = rackService.showWarningModal("HCI_POWERFLEX_Appliance");							
                                output.then(function(res){
                                  if(res == 'ok')
                                  {
                                    spinnerOverlay.start();
                                    genericAddCluster(clusterIns);
                                }
                                })	
                            }
                            else                            
                                genericAddCluster(clusterIns);                            
                        }
                    }
                })
            }


            $scope.clusterAdd = false;
            $scope.validate = function () {
                $scope.clusterAdd = true;
                if($scope.fabricInputParams.type=="ISILON_BACKEND_STORAGE"||$scope.fabricInputParams.type=="NVMeTCPSupport"||$scope.clusterinput.clusterType=="POWERSTORE_STORAGE")
                {
                    interfaces = []
                    save_index = []
                    angular.forEach($scope.clusterinput.bonds,function(bond,ind)
                    {
                        if(bond.type=='interface')
                        {
                            interfaces.push(bond)
                            save_index.push(ind)
                        }  
                    });
                    i = 0
                    angular.forEach(save_index,function(ind)
                    {
                        $scope.clusterinput.bonds.splice(ind-i,1)
                        i += 1
                    });
                    $scope.clusterinput.interfaces = interfaces
                }
                spinnerOverlay.start();
                var clusterName = $scope.clusterinput.name;
                angular.forEach($scope.fabricInputs.clusterInputs[$scope.clusterinput.clusterSubType], function (cluster, index) {
                    if (cluster.name == clusterName && index != $scope.index) {
                        var fieldName = "fdc_cluster_name";
                        $scope.clusterForm[fieldName].$invalid = true;
                        $scope.clusterForm[fieldName].$dirty = true;
                        $scope.clusterForm[fieldName].$$attr.uibTooltip = "Cluster Name already exist.";
                        $scope.clusterForm.$valid = false;
                        var focusField = "[name=\"" + fieldName + "\"]";
                        $timeout(function () { $(focusField).focus(); });
                        spinnerOverlay.stop();
                    }
                });
                if ($scope.clusterinput.clusterType=="POWERSTORE_STORAGE" && $scope.clusterinput.deploymentModel == undefined)
                {
                    $scope.clusterForm.fdc_cluster_deploymentModel.$dirty = true;
                    var focusField = "[name=\"fdc_cluster_deploymentModel\"]";
                    $timeout(function () { $(focusField).focus(); });
                    spinnerOverlay.stop();
                }
                else if ($scope.clusterinput.applianceInfo == undefined) {
                    $scope.clusterForm.fdc_cluster_applianceInfo.$dirty = true;
                    var focusField = "[name=\"fdc_cluster_applianceInfo\"]";
                    $timeout(function () { $(focusField).focus(); });
                    spinnerOverlay.stop();
                }

                if ($scope.clusterinput.currentNodes == undefined) {
                    var focusField = "[name=\"fdc_cluster_currentNodes\"]";
                    $timeout(function () { $(focusField).focus(); });
                    spinnerOverlay.stop();
                }

                if ($scope.clusterinput.futureNodes == undefined) {
                    var focusField = "[name=\"fdc_cluster_futureNodes\"]";
                    $timeout(function () { $(focusField).focus(); });
                    spinnerOverlay.stop();
                }

                angular.forEach($scope.clusterinput.bonds, function (val, i) {
                    if (val.ports == undefined || !val.ports.length) {
                        var fieldName = "fdc_cluster_bond" + i;
                        $scope.clusterForm[fieldName].$dirty = true;
                        var focusField = "[name=\"" + fieldName + "\"]";
                        $timeout(function () { $(focusField).focus(); });
                        spinnerOverlay.stop();
                    }
                })


                /*  var config = {
                      headers: {
                          'Content-Type': 'application/json'
                      }
                  };*/
                var clusterinput = angular.copy($scope.clusterinput);
    
                if (clusterinput.applianceInfo) {
                    clusterinput.applianceInfo.cnaCard = $scope.clusterinput.cnaCard;
                    clusterinput.applianceInfo.ndcCard = $scope.clusterinput.ndcCard;
                    clusterinput.applianceInfo.backEndCard = $scope.clusterinput.backEndCard;
                    clusterinput.applianceInfo.optionalCard = $scope.clusterinput.optionalCard;
                    clusterinput.applianceInfo.bonds = $scope.clusterinput.bonds;
                    clusterinput.applianceInfo.ports = $scope.clusterinput.portsAvailable;
                    clusterinput.applianceInfo.interfaces = $scope.clusterinput.interfaces;
                    clusterinput.clusterVlans = $scope.$parent.clustervlan;
                    if (clusterinput.applianceInfo.optionalCard && clusterinput.applianceInfo.optionalCard.storage_type) {
                        clusterinput.applianceInfo.optionalCard.storage_type = $scope.clusterinput.storageProtocol;
                    }
                }
                var vaidateURL = $scope.fabricInputParams.validate;
                if ($scope.fabricInputs.version && $scope.fabricInputs.version != "")
                    vaidateURL = $scope.fabricInputParams.validate + $scope.fabricInputs.version + "/";
                if ($scope.clusterForm.$valid) {
                    $http.post(vaidateURL, clusterinput, config)
                        .then(function (data, status, headers, config) {
                            //validateVLAN();

                            if ($scope.mode == "ADD") {
                                if ($scope.fabricInputs.genericCluster) {
                                    // Generic add cluster
                                    $scope.fabricInputs.dataObj.add_cluster_input.cluster_input = angular.copy(clusterinput);
                                    if (unUsedPorts($scope.clusterinput.ports).length && $scope.clusterinput.solution_type!='Switchless') {
                                        $scope.portValidation(clusterinput, 'add');
                                    } else {
                                        if (clusterinput.clusterType == "HCI_POWERFLEX_Appliance")
                                        {        
                                        rackService.validateRecommendedswitch($scope.fabricInputs.dataObj.data,clusterinput,$scope.fabricInputs.dataObj.add_cluster_input.rack_ids).then(function(res)
                                        {
                                            if(res.data.SUPPORT == "FALSE"){
                                                $scope.SwitchRecommendedWarning();
                                            }
                                            else
                                            {
                                                spinnerOverlay.stop();
                                                if($scope.fabricInputs.fabricType != "Layer_2_TOR" && $scope.fabricInputs.fabricType != "Layer_2_Leaf_Spine")
                                                    $scope.showStretchClusterWarning();                                 
                                                else
                                                {
                                                    $scope.stretch = false
                                                    genericAddCluster(clusterinput);                           
                                                }                                                 
                                            }
                                        });
                                    }
                                    else if(clusterinput.clusterType == "UNITY_STORAGE")
                                    {
                                        $scope.stretch = false
                                        genericAddCluster(clusterinput);
                                    }
                                    else
                                    {
                                        spinnerOverlay.stop();
                                        if($scope.fabricInputs.fabricType != "Layer_2_TOR" && $scope.fabricInputs.fabricType != "Layer_2_Leaf_Spine")
                                            $scope.showStretchClusterWarning();                                 
                                        else
                                        {
                                            $scope.stretch = false
                                            genericAddCluster(clusterinput);                           
                                        }
                                    }
                                    }
                                } else {
                                    if (unUsedPorts($scope.clusterinput.ports).length && $scope.clusterinput.solution_type!='Switchless') {
                                        $scope.portValidation(clusterinput);
                                    } else {
                                        var cluser = angular.copy(clusterinput);
                                        $scope.fabricInputs.clusterInputs[$scope.clusterinput.clusterSubType].push(cluser);
                                        $scope.clusterAdd = false;
                                        $scope.modal.hide();
                                        spinnerOverlay.stop();
                                        if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                                            fabricInputService.displayToaster('success', 'Add Node Pool', 'Node Pool added successfully');
                                        else
                                            fabricInputService.displayToaster('success', 'Add Cluster', 'Cluster added successfully');
                                            $scope.status = "Inactive";
                                            $scope.updateStatus = function() {
                                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                                            }
                                        if($scope.fabricInputParams.type=="ORACLE_RAC")
                                        {
                                            if($scope.clusterinput.clusterSubType=="compute")
                                            {
                                                fabricInputService.clusterCount[$scope.clusterinput.clusterType] += 1;
                                            }
                                            else if($scope.clusterinput.clusterSubType=="storage")
                                                fabricInputService.clusterCount["POWERSTORE_STORAGE"] += 1;
                                        }
                                        if($scope.fabricInputParams.type=="NVMeTCPSupport")
                                        {
                                            if($scope.clusterinput.clusterSubType=="compute")
                                            {
                                                fabricInputService.clusterCount[$scope.clusterinput.clusterType] += 1;
                                            }
                                            else if($scope.clusterinput.clusterSubType=="storage")
                                                fabricInputService.clusterCount["POWERSTORE_STORAGE"] += 1;
                                        }
                                        else
                                        {
                                            fabricInputService.clusterCount[$scope.fabricInputParams.type] += 1;
                                        }
                                        fabricInputService.vLANcount += 1;
                                    }

                                }
                                $rootScope.clusterInputAdded = true;

                                //$scope.$parent.clusterVlanId.val += 1;
                            } else {
                                if ($scope.fabricInputs.genericCluster) {
                                    updateCluster();
                                } else {
                                    if (unUsedPorts($scope.clusterinput.ports).length && $scope.clusterinput.solution_type!='Switchless') {
                                        $scope.portValidation(clusterinput, 'edit');
                                    } else {
                                        $scope.fabricInputs.clusterInputs[$scope.clusterinput.clusterSubType][$scope.index] = clusterinput;
                                        $scope.clusterAdd = false;
                                        $scope.modal.hide();
                                        spinnerOverlay.stop();
                                        if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                                            fabricInputService.displayToaster('success', 'Edit Node Pool', 'Node Pool edited successfully');
                                        else                                
                                            fabricInputService.displayToaster('success', 'Edit Cluster', 'Cluster edited successfully');
                                    }

                                }
                            }


                        }, function (res, status, header, config) {
                            spinnerOverlay.stop();
                            if($scope.clusterinput.interfaces!=null && $scope.clusterinput.interfaces!=undefined)// && options.bonds.length==0)
                            {
                                bond_interface_options = []
                                angular.forEach($scope.clusterinput.interfaces,function(intf, ind)
                                {
                                    intf.type='interface'
                                    bond_interface_options.push(intf)
                                });
                                angular.forEach($scope.clusterinput.bonds,function(bond, ind)
                                {
                                    bond_interface_options.push(bond)
                                });
                                $scope.clusterinput.bonds = bond_interface_options
                            }
                            else
                                bond_interface_options = $scope.clusterinput.bonds
                            $scope.clusterAdd = false;
                            if (res.data.errors) {
                                angular.forEach(res.data.errors, function (error, index) {
                                    if(error.field=="System Bond")
                                    {
                                        var fieldName = "fdc_cluster_bond0" ;
                                    }
                                    else if (error.field == "totalNodes") {
                                        fieldName = "fdc_cluster_futureNodes";
                                    }
                                    else
                                        fieldName = "fdc_cluster_"+ error.field
                                    if (error.field.match(/bond\d{1,2}/) != null) {
                                        fieldName = "fdc_cluster_" + error.field;
                                        $scope.clusterForm[fieldName].$dirty = true;
                                    } else if (error.field.match(/bond/) != null) {
                                        fieldName = "fdc_cluster_" + error.field;
                                        $scope.clusterForm[fieldName].$dirty = true;
                                    }
                                    if ($scope.clusterForm[fieldName]) {
                                        $scope.clusterForm[fieldName].$dirty = true;
                                        $scope.clusterForm[fieldName].$invalid = true;
                                        $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;
                                    }
            


                                    if (index == 0) {
                                        var focusField = "[name=\"" + fieldName + "\"]";
                                        $timeout(function () { $(focusField).focus(); });
                                    }
                                });
                            } else {
                                angular.forEach(res.data.clusterVlans, function (server_error, key) {
                                    if (angular.isArray(server_error)) {
                                        angular.forEach(server_error, function (error, index) {
                                            if (error.errors) {
                                                angular.forEach(error.errors, function (error_obj) {
                                                    var fieldName = 'fdc_cluster_' + key + "_" + error_obj.param + "_" + index;
                                                    $scope.clusterForm[fieldName].$dirty = true;
                                                    $scope.clusterForm[fieldName].$invalid = true;
                                                    $scope.clusterForm[fieldName].$$attr.uibTooltip = error_obj.message;
                                                    var focusField = "[name=\"" + fieldName + "\"]";
                                                    $timeout(function () { $(focusField).focus(); });
                                                });
                                            }
                                        });
                                    } else {
                                        if (server_error.errors) {
                                            angular.forEach(server_error.errors, function (error, index) {
                                                var fieldName = 'fdc_cluster_' + key + "_" + error.param;

                                                $scope.clusterForm[fieldName].$dirty = true;
                                                $scope.clusterForm[fieldName].$invalid = true;
                                                $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;
                                                var focusField = "[name=\"" + fieldName + "\"]";
                                                $timeout(function () { $(focusField).focus(); });
                                            });
                                        }
                                    }
                                });
                            }
                        });
                } else {
                    spinnerOverlay.stop();
                    $scope.clusterAdd = false;
                }
            };
            function remove_ports_in_vlans(ports)
            {
                remove_ports = []
                angular.forEach($scope.$parent.clustervlan,function (vlan, index)
                {
                    if(vlan!=null)
                    {
                        if(angular.isArray(vlan))
                        {
                            angular.forEach(vlan,function(vm_vlan,vm_index)
                            {
                                remove_ports.push(vm_vlan.bond)
                            });
                        }
                        else
                        {
                            remove_ports.push(vlan.bond)
                        }
                    }
                });
                angular.forEach(ports,function(port,index)
                {
                   if(remove_ports.indexOf(port.name)!=-1)
                   {
                        //ports.splice(index, 1);     
                        delete ports[index]
                   }         
                });
            }
            function remove_ports_in_interfaces(ports)
            {
                remove_ports = []
                angular.forEach($scope.clusterinput.interfaces,function (interface, index)
                {                       
                    angular.forEach(interface.ports,function(port)
                    {
                        remove_ports.push(port.name)
                    });
                });
                angular.forEach(ports,function(port,index)
                {
                   if(remove_ports.indexOf(port.name)!=-1)
                   {
                        delete ports[index]
                   }         
                });
            }
            // Unused port validation
            function unUsedPorts(ports) {
                ports_data = angular.copy(ports)
                remove_ports_in_vlans(ports_data)
                remove_ports_in_interfaces(ports_data)
                return ports_data.filter(function (val) {
                    return val.bandwidth > 1;
                })
            }

            $scope.portValidation = function (clusterInput, mode) {
                spinnerOverlay.stop();
                var clusterIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/input/portValidation.html',
                    controller: 'clusterActionsCtrl',
                    size: 'md',
                    resolve: {
                        items: function () {

                        }
                    },
                    scope: $scope
                });
                clusterIns.result.then(function () {

                    },
                    function () {
                        $scope.clusterAdd = false;
                    });
                
                    clusterIns.rendered.then(function () {
                    $scope.portCount = unUsedPorts($scope.clusterinput.ports).length;
                    $scope.portValidationCluster = function () {
                        if (mode && mode == 'add') {
                            if ($scope.clusterinput.clusterType == "HCI_POWERFLEX_Appliance")
                            {
                            rackService.validateRecommendedswitch($scope.fabricInputs.dataObj.data,$scope.clusterinput,$scope.fabricInputs.dataObj.add_cluster_input.rack_ids).then(function(res)
                            {
                                if(res.data.SUPPORT == "FALSE"){
                                    $scope.SwitchRecommendedWarning();
                                }
                                else
                                {
                                    spinnerOverlay.stop();
                                    if($scope.fabricInputs.fabricType != "Layer_2_TOR" && $scope.fabricInputs.fabricType != "Layer_2_Leaf_Spine")
                                        $scope.showStretchClusterWarning();                                 
                                    else
                                    {
                                        $scope.stretch = false
                                        genericAddCluster($scope.clusterinput);                           
                                    } 
                                }
                            }); 
                        }
                        else if($scope.clusterinput.clusterType == "UNITY_STORAGE")
                        {
                            $scope.stretch = false
                            genericAddCluster(clusterinput);
                        }                                    
                        else
                        {
                            spinnerOverlay.stop();
                            if($scope.fabricInputs.fabricType != "Layer_2_TOR" && $scope.fabricInputs.fabricType != "Layer_2_Leaf_Spine")
                                $scope.showStretchClusterWarning();                                 
                            else
                            {
                                $scope.stretch = false
                                genericAddCluster($scope.clusterinput);                           
                            } 
                        }
                        }
                        else if (mode && mode == 'edit') {
                            $scope.fabricInputs.clusterInputs[$scope.clusterinput.clusterSubType][$scope.index] = clusterInput;
                            $scope.clusterAdd = false;
                            $scope.modal.hide();
                            spinnerOverlay.stop();
                            if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                                fabricInputService.displayToaster('success', 'Edit Node Pool', 'Node Pool edited successfully');
                            else
                                fabricInputService.displayToaster('success', 'Edit Cluster', 'Cluster edited successfully');
                        } else {
                            spinnerOverlay.start();
                            var cluser = angular.copy(clusterInput);
                            $scope.fabricInputs.clusterInputs[$scope.clusterinput.clusterSubType].push(cluser);
                            $scope.clusterAdd = false;
                            $scope.modal.hide();
                            spinnerOverlay.stop();
                            if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                                fabricInputService.displayToaster('success', 'Add Node Pool', 'Node Pool added successfully');
                            else
                            fabricInputService.displayToaster('success', 'Add Cluster', 'Cluster added successfully');
                            $scope.status = "Inactive";
                            $scope.updateStatus = function() {
                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                            }
                            if($scope.fabricInputParams.type=="ORACLE_RAC")
                            {
                                if($scope.clusterinput.clusterSubType=="compute")
                                {
                                    fabricInputService.clusterCount[$scope.clusterinput.clusterType] += 1;
                                }
                                else if($scope.clusterinput.clusterSubType=="storage")
                                    fabricInputService.clusterCount["POWERSTORE_STORAGE"] += 1;
                            }
                            else if($scope.fabricInputParams.type=="NVMeTCPSupport")
                            {
                                if($scope.clusterinput.clusterSubType=="compute")
                                {
                                    fabricInputService.clusterCount[$scope.clusterinput.clusterType] += 1;
                                }
                                else if($scope.clusterinput.clusterSubType=="storage")
                                    fabricInputService.clusterCount["POWERSTORE_STORAGE"] += 1;
                            }
                            else
                            {
                                fabricInputService.clusterCount[$scope.fabricInputParams.type] += 1;
                            }
                            fabricInputService.vLANcount += 1;
                        }
                        clusterIns.close && clusterIns.close();
                    }
                    $scope.resumecluster = function () {
                        $scope.clusterAdd = false;
                        if($scope.clusterinput.interfaces!=null && $scope.clusterinput.interfaces!=undefined)// && options.bonds.length==0)
                        {
                            bond_interface_options = []
                            angular.forEach($scope.clusterinput.interfaces,function(intf, ind)
                            {
                                intf.type='interface'
                                bond_interface_options.push(intf)
                            });
                            angular.forEach($scope.clusterinput.bonds,function(bond, ind)
                            {
                                bond_interface_options.push(bond)
                            });
                            $scope.clusterinput.bonds = bond_interface_options
                        }
                        else
                            bond_interface_options = $scope.clusterinput.bonds   
                        clusterIns.close();             
                    }
                })
            }

            $scope.showStretchClusterWarning = function (clusterInput, mode) {
                spinnerOverlay.stop();
                $scope.options = $scope.clusterinput.clusterType
                var clusterIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/stretchClusterWarning.html',
                    controller: 'clusterActionsCtrl',
                    size: 'md',
                    resolve: {
                        items: function () {

                        }
                    },
                    scope: $scope
                });
                clusterIns.result.then(function (clickedAction) {
                    if(clickedAction == 'yes')
                    {
                        clusterIns.close && clusterIns.close();
                        $scope.stretch = true
                        genericAddCluster(clusterInput,true);   
                    }
                    else
                    {
                        $scope.stretch = false
                        genericAddCluster(clusterInput);   
                        /*if($scope.rackClusterModel){
                        $scope.rackClusterModel.upgradeSwitch = null
                        $scope.rackClusterModel.rackOption = null
                        }*/
                    }                    
                },
                    function () {
                        $scope.clusterAdd = false;
                    });

                clusterIns.rendered.then(function (clickedAction) {
                    $scope.portCount = unUsedPorts($scope.clusterinput.ports).length;
                                        
                })
            }
            $scope.SwitchRecommendedWarning = function (clusterInput, mode) {
                spinnerOverlay.stop();
                $scope.options = $scope.clusterinput.clusterType
                var clusterIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/editRackSupportedSwitchWarning.html',
                    controller: 'clusterActionsCtrl',
                    size: 'md',
                    resolve: {
                        items: function () {

                        }
                    },
                    scope: $scope
                });
                clusterIns.result.then(function (clickedAction) {
                    if(clickedAction == 'ok')
                    {
                        clusterIns.close && clusterIns.close();
                        genericAddCluster(clusterInput);   
                    }
                    else
                    {
                        if($scope.rackClusterModel){
                        $scope.rackClusterModel.upgradeSwitch = null
                        $scope.rackClusterModel.rackOption = null
                        }
                    }                    
                },
                    function () {
                        $scope.clusterAdd = false;
                    });

                clusterIns.rendered.then(function (clickedAction) {
                    $scope.portCount = unUsedPorts($scope.clusterinput.ports).length;
                                        
                })
            }

            $scope.getRacks = function (data, cont) {
                spinnerOverlay.start();
                rackService.getRacks(data).then(function (res, status, headers, config) {
                    !cont && spinnerOverlay.stop();
                    $rootScope.$emit('updateRacks', { "racks": res.data });
                }, function () {
                    spinnerOverlay.stop();
                });
            }
            function storeAndGetRacks(data, cont) {
                fabricService.storeData(data);
                $scope.getRacks(data, cont);
            }
            /* server side code for adding and removing vlans in clusters */

            $scope.updateCluster = function (load) {
                load && spinnerOverlay.start();
                var fabricdata = fabricService.getData();
                var config = {
                    headers: {
                        'AcceptMethod': 'write'
                    }
                };
                if($scope.fabricInputs.ip_san_topology!=null)
                {
                    interfaces = []
                    save_index = []
                    angular.forEach($scope.clusterinput.bonds,function(bond,ind)
                    {
                        if(bond.type=='interface')
                        {
                            interfaces.push(bond)
                            save_index.push(ind)
                        }  
                    });
                    i = 0
                    angular.forEach(save_index,function(ind)
                    {
                        $scope.clusterinput.bonds.splice(ind-i,1)
                        i += 1
                    });
                    $scope.clusterinput.interfaces = interfaces
                }

                var cluster = angular.copy($scope.clusterinput);
                if (cluster.applianceInfo) {
                    cluster.applianceInfo.ndcCard = $scope.clusterinput.ndcCard;
                    cluster.applianceInfo.backEndCard = $scope.clusterinput.backEndCard;
                    cluster.applianceInfo.optionalCard = $scope.clusterinput.optionalCard;
                    cluster.applianceInfo.cnaCard = $scope.clusterinput.cnaCard;
                    cluster.applianceInfo.bonds = $scope.clusterinput.bonds;
                    cluster.applianceInfo.ports = $scope.clusterinput.portsAvailable;
                    cluster.applianceInfo.interfaces = $scope.clusterinput.interfaces;
                }
                cluster.clusterVlans = angular.copy($scope.clustervlan);
                cluster.name = angular.copy($scope.clusterinput.name);
                var view_id = fabricService.getFabricId();
                var vlanReqData = {
                    data: fabricdata,
                    cluster: cluster,
                    view: view_id
                };

                var promise = $http.post('/rest/design/updateCluster/', vlanReqData, config)
                    .then(function (vlandata, status, headers, config) {
                        if ($scope.mode == "ADD") {
                            $scope.fabricInputs.clusterInputs[$scope.clusterinput.clusterSubType].push(clusterData);
                            $rootScope.clusterInputAdded = true;
                            spinnerOverlay.stop();
                        }
                        else if ($scope.mode == "SERVEREDIT") {
                            if ($scope.fabricInputs.genericCluster) {
                                storeAndGetRacks(vlandata.data, $scope.$parent.$parent.$parent.$parent.rc);
                            } else {
                                $scope.selectNode(cluster.id);
                                $rootScope.$broadcast('load-logicalview');
                            }

                        } else {
                            $scope.fabricInputs.clusterInputs[$scope.clusterinput.clusterSubType][$scope.index] = clusterData;
                            spinnerOverlay.stop();
                        }
                        if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                            fabricInputService.displayToaster('success', 'Edit Node Pool', 'Node Pool edited successfully');
                        else
                            fabricInputService.displayToaster('success', 'Edit Cluster', 'Cluster edited successfully');
                        $scope.clusterAdd = false;
                        $scope.modal.hide();
                    }, function (res, status, header, config) {
                        spinnerOverlay.stop();
                        $scope.clusterAdd = false;
                        if (res.data.errors && angular.isArray(res.data.errors)) {
                            angular.forEach(res.data.errors, function (error, index) {
                                var fieldName = "fdc_cluster_" + error.field;

                                if (error.field == "totalNodes") {
                                    fieldName = "fdc_cluster_futureNodes";
                                }

                                if (error.field.match(/bond\d{1,2}/) != null) {
                                    fieldName = "fdc_cluster_" + error.field;
                                    $scope.clusterForm[fieldName].$dirty = true;
                                } else if (error.field.match(/bond/) != null) {
                                    fieldName = "fdc_cluster_" + error.field;
                                    $scope.clusterForm[fieldName].$dirty = true;
                                }
                                if ($scope.clusterForm[fieldName]) {
                                    $scope.clusterForm[fieldName].$dirty = true;
                                    $scope.clusterForm[fieldName].$invalid = true;
                                    $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;
                                }



                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        } 
                        else if (res.status == 500) {
                            if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                                fabricInputService.displayToaster('success', 'Edit Node Pool', 'Node Pool edited successfully');
                            else
                                fabricInputService.displayToaster('error', 'Edit Cluster', res.data.detail);
                        }
                        else if (res.status == 400) {
                            if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                                fabricInputService.displayToaster('success', 'Edit Node Pool', 'Node Pool edited successfully');
                            else
                                fabricInputService.displayToaster('error', 'Edit Cluster', res.data.detail);
                        }else {
                            angular.forEach(res.data.clusterVlans, function (server_error, key) {
                                if (angular.isArray(server_error)) {
                                    angular.forEach(server_error, function (error, index) {
                                        if (error.errors) {
                                            angular.forEach(error.errors, function (error_obj) {
                                                var fieldName = 'fdc_cluster_' + key + "_" + error_obj.param + "_" + index;
                                                $scope.clusterForm[fieldName].$dirty = true;
                                                $scope.clusterForm[fieldName].$invalid = true;
                                                $scope.clusterForm[fieldName].$$attr.uibTooltip = error_obj.message;
                                                var focusField = "[name=\"" + fieldName + "\"]";
                                                $timeout(function () { $(focusField).focus(); });
                                            });
                                        }
                                    });
                                } else {
                                    if (server_error.errors) {
                                        angular.forEach(server_error.errors, function (error, index) {
                                            var fieldName = 'fdc_cluster_' + key + "_" + error.param;

                                            $scope.clusterForm[fieldName].$dirty = true;
                                            $scope.clusterForm[fieldName].$invalid = true;
                                            $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;
                                            var focusField = "[name=\"" + fieldName + "\"]";
                                            $timeout(function () { $(focusField).focus(); });
                                        });
                                    }
                                }
                            });
                        }

                    }, function (vlanerror, status, header, config) {
                        if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                            fabricInputService.displayToaster('success', 'Edit Node Pool', 'Node Pool edited successfully');
                        else
                            fabricInputService.displayToaster('error', 'Edit Cluster', 'Cluster cannot be edited');
                        spinnerOverlay.stop();
                    });
            };

            function updateClusterVLAN() {
                var vlanReqData = {};
                vlanReqData.clustervlans = [];
                var vlan = angular.copy($scope.clustervlan);
                vlan.clusterId = $scope.clusterinput.id;
                vlanReqData.clustervlans.push(vlan);
                VLANService.setClusterVlans(vlanReqData)
                    .then(function (vlandata, status, headers, config) {
                        $scope.modal.hide();
                        $scope.selectNode($scope.clusterinput.id);
                        $rootScope.$broadcast('tab-logicalview');
                        if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                            fabricInputService.displayToaster('success', 'Edit Node Pool', 'Node Pool edited successfully');
                        else
                            fabricInputService.displayToaster('success', 'Edit Cluster', 'Cluster edited successfully');
                        spinnerOverlay.stop();
                    }, function (vlanerror, status, header, config) {
                        if ($scope.clusterinput.clusterType == "ISILON_BACKEND_STORAGE")
                            fabricInputService.displayToaster('success', 'Edit Node Pool', 'Node Pool edited successfully');
                        else
                            fabricInputService.displayToaster('error', 'Edit Cluster', 'Cluster cannot be edited');
                        spinnerOverlay.stop();
                    });
            }

            function genericAddCluster(warningModal,stretch) {
                spinnerOverlay.start();
                // $scope.fabricInputs.dataObj.add_cluster_input.cluster_input = cluster;
                var config = {
                    headers: {
                        'AcceptMethod': 'write'
                    }
                };
                var view_id = fabricService.getFabricId();
                dataObj = $scope.fabricInputs.dataObj;
                dataObj.view= view_id
                dataObj.stretch = stretch
                // on warning
                if ($scope.rackClusterModel && Object.keys($scope.rackClusterModel).length !== 0) {
                    if ($scope.rackClusterModel.rackOption) {
                        if ($scope.rackClusterModel.rackOption == 'new') {
                            dataObj.add_cluster_input.add_new_rack = true;
                        } else {
                            dataObj.add_cluster_input.rack_ids.push($scope.rackClusterModel.selectedRack.rack_id);
                        }
                    } else {
                        dataObj.add_cluster_input.upgrade_tor = $scope.rackClusterModel.upgradeSwitch;
                    }
                    dataObj.add_cluster_input.upgrade_fabrics = $scope.rackClusterModel.upgrade_fabrics

                }
                $http.post('rest/design/fabric/edit/addCluster/', dataObj, config)
                    .then(function (data, status, headers, config) {
                        $scope.modal.hide();
                        $scope.clusterAdd = false;
                        if(warningModal)
                            warningModal.close && warningModal.close();
                        storeAndGetRacks(data.data, $scope.$parent.$parent.$parent.$parent.rc);
                        fabricInputService.clusterCount[$scope.fabricInputParams.type] += 1;
                        fabricInputService.vLANcount += 1;
                        // $rootScope.$broadcast('loadRacks', { 'racks': data.data });
                        if ($scope.fabricInputParams.type == "ISILON_BACKEND_STORAGE")
                            fabricInputService.displayToaster('success', 'Add Node Pool', 'Node Pool added successfully');
                        else
                            fabricInputService.displayToaster('success', 'Add Cluster', 'Cluster added successfully');
                            $scope.status = "Inactive";
                            $scope.updateStatus = function() {
                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                            }
                        $scope.rackClusterModel = {};
                    }, function (res, status, header, config) {
                        if (res.status == 400 && res.data.detail == "Warning") {
                            $scope.bModal(res.data.errors);
                        } else if (res.status == 400) {
                            if (res.data.errors) {
                                angular.forEach(res.data.errors, function (error, index) {
                                    var fieldName = "fdc_cluster_" + error.field;

                                    if (error.field == "totalNodes") {
                                        fieldName = "fdc_cluster_futureNodes";
                                    }

                                    if (error.field.match(/bond\d{1,2}/) != null) {
                                        fieldName = "fdc_cluster_" + error.field;
                                        $scope.clusterForm[fieldName].$dirty = true;
                                    } else if (error.field.match(/bond/) != null) {
                                        fieldName = "fdc_cluster_" + error.field;
                                        $scope.clusterForm[fieldName].$dirty = true;
                                    }

                                    $scope.clusterForm[fieldName].$dirty = true;
                                    $scope.clusterForm[fieldName].$invalid = true;
                                    $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;


                                    if (index == 0) {
                                        var focusField = "[name=\"" + fieldName + "\"]";
                                        $timeout(function () { $(focusField).focus(); });
                                    }
                                });
                            }

                        } else if (res.status == 500) {
                            if ($scope.fabricInputParams.type == "ISILON_BACKEND_STORAGE")
                                fabricInputService.displayToaster('error', 'Add Node Pool', res.data.detail);
                            else
                                fabricInputService.displayToaster('error', 'Add Cluster', res.data.detail);
                            if(warningModal)
                                warningModal.close && warningModal.close();
                        } else {
                            if(warningModal)
                                warningModal.close && warningModal.close();
                        }
                        $scope.clusterAdd = false;
                        $scope.rackClusterModel = {};
                        spinnerOverlay.stop();
                    })
            }

        }]);
angular
    .module(APP_NAME)
    .directive('clusterActions', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'clusterActionsCtrl',
            scope: {
                modal: '=',
                where: '@'
            },
            templateUrl: 'fabric/design/input/clusterActions/clusterActions.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .controller('fabricDetailsController', ["$scope", 'fabricService','fabricInputService','spinnerOverlay','$http', '$rootScope','$stateParams', function ($scope, fabricService, fabricInputService ,spinnerOverlay,$http, $rootScope,$stateParams) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.networkFabricForm = $scope.$parent.networkFabricForm;
        $scope.showSwitchAsDisable=$scope.$parent.isFabricHide;
        $scope.$parent.$parent.$parent.networkFabricForm = $scope.networkFabricForm;
        $scope.canEdit=$scope.$parent.$parent.$parent.canEdit;
        /** model for fabric details */
        $scope.generateWorkloadRacks = $scope.$parent.generateWorkloadRacks;
        $scope.editmode = ($scope.$parent.editmode) ? $scope.$parent.editmode : false;
        $scope.topology_type = 'L3';
        $scope.maxRackCount = 16;
        $scope.filter_irb_type = function(item)
        {
            if($scope.inputModel.selectedLeafSwitch.switchModel == 'Z9664F-ON' && item=='Symmetric')
            {
                return false
            }
            return true
        }
        $scope.$watch('inputModel.selectedNetworkType', function (newvalue, oldvalue) {
            if (newvalue && newvalue != '') {
                $scope.inputModel.networkType = angular.copy($scope.inputModel.selectedNetworkType.networkType);
            }
        });

        $scope.update_input_model = function(res)
        {
            angular.forEach(res.data.networkDefaults, function (item) {
                if (item.networkType == res.data.networkType)
                    res.data.selectedNetworkType = item;
            });
            angular.forEach(res.data.switchDefaults, function (item) {
                if (item.switchModel == res.data.leafSwitchModel)
                    res.data.selectedLeafSwitch = item;
            });
            if($scope.inputModel.deploymentType == 'Nokia NFVi1')
            {                
                angular.forEach(res.data.border_leaf_switchDefaults, function (item) {
                    if (item.switchModel == res.data.borderleafSwitchModel)
                        res.data.selectedborderLeafSwitch = item;
                });   
            }
            defaultRacksGenerated = $scope.inputModel.defaultRacksGenerated
            $scope.inputModel = angular.copy(res.data);
            $scope.inputModel.definition = {'DCI':'Data Center Interconnect (DCI) connects two or more distributed data centers.','Super Spine':'This layer allows the expansion of the Layer 3 IP/BGP services and interconnects multiple Leaf/Spine fabrics, where each fabric can provide networking services of compute, storage, and application components.'}
            $scope.inputModel.feature_help = "Super Spine - This layer allows the expansion of the Layer 3 IP/BGP services & interconnects multiple Leaf/Spine fabrics)  DCI - (Data Center Interconnect (DCI) connects two or more distributed data centers.)"
            $scope.inputModel.defaultRacksGenerated = defaultRacksGenerated
                $scope.inputModel.fabricLinkInfo.protocol = 'Layer 3';
                $scope.inputModel.selectedUplinkProtocol = "Layer 3";
                $scope.inputModel.selectedUplinkProtocolType = "eBGP";
                $scope.inputModel.selectedFabricLinkProtocolType = "eBGP";
                $scope.inputModel.selectedUplinkProtocolTypes = $scope.inputModel.selectedNetworkType.upLinkInfo[0].protocolType;
                angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (val) {
                    if (val.spineModel == $scope.inputModel.spineSwitchModel) {
                        $scope.inputModel.selectedSpineSwitch = val;
                    }

                }) 
                if ($scope.inputModel.selectedSpineSwitch) {
                    if (!$scope.inputModel.selectedUplinkBandwidth) {
                        $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                    }
                    // Retain previously selected uplink bandwidth
                    angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                        if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                            $scope.inputModel.selectedUplinkBandwidth = val;
                            sameBandwidth = true;
                        }
                    });
                    // Change uplink bandwidth if the selected spine doesn't has it.
                    if (!sameBandwidth) {
                        $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                    }
                }
                $scope.inputModel.noOfRacks = 2;
                if (!$scope.inputModel.network_overlay_type) {
                    $scope.inputModel.network_overlay_type = $scope.inputModel.selectedNetworkType.network_overlay_options[0];
                }
                $('[name="fdc_fabricName"]').focus();	
        }
        $scope.update_nokia_fabric = function(res)
        {
            angular.forEach(res.data.networkDefaults, function (item) {
                if (item.networkType == res.data.networkType)
                    res.data.selectedNetworkType = item;
            });
            angular.forEach(res.data.border_leaf_switchDefaults, function (item) {
                if (item.switchModel == res.data.borderleafSwitchModel)
                    res.data.selectedborderLeafSwitch = item;
            });
            angular.forEach(res.data.switchDefaults, function (item) {
                if (item.switchModel == res.data.leafSwitchModel)
                    res.data.selectedLeafSwitch = item;
            });
            defaultRacksGenerated = $scope.inputModel.defaultRacksGenerated
            $scope.inputModel = angular.copy(res.data);
            $scope.inputModel.defaultRacksGenerated = defaultRacksGenerated
                $scope.inputModel.fabricLinkInfo.protocol = 'Layer 3';
                $scope.inputModel.selectedUplinkProtocol = "Layer 3";
                $scope.inputModel.selectedUplinkProtocolType = "eBGP";
                $scope.inputModel.selectedFabricLinkProtocolType = "eBGP";
                $scope.inputModel.selectedUplinkProtocolTypes = $scope.inputModel.selectedNetworkType.upLinkInfo[0].protocolType;
                angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (val) {
                    if (val.spineModel == $scope.inputModel.spineSwitchModel) {
                        $scope.inputModel.selectedSpineSwitch = val;
                    }

                })                                 
                $scope.inputModel.noOfRacks = 2;
                if (!$scope.inputModel.network_overlay_type) {
                    $scope.inputModel.network_overlay_type = $scope.inputModel.selectedNetworkType.network_overlay_options[0];
                }
            
        }

        $scope.getNokiaCBISDefaults = function (fabricType) {
            spinnerOverlay.start();
            gnsdata = $stateParams.id
            fabricInputService.getNokiaCBISDefaults(fabricType,null,null,gnsdata).then(function (res) {
                if (res && res.data) {
                    $scope.update_nokia_fabric(res);
                }
                spinnerOverlay.stop();
            });
        }

        $scope.getSonicDefaults = function (fabricType) {
            spinnerOverlay.start();
            gnsdata = $stateParams.id
            fabricInputService.getSonicDefaults(fabricType,null,null,gnsdata).then(function (res) {
                if (res && res.data) {
                    $scope.update_input_model(res);
                }
                spinnerOverlay.stop();
            });
        }

        $scope.getFabricDefaults = function (fabricType) {
            spinnerOverlay.start();
            gnsdata = $stateParams.id
            fabricInputService.getGeneratedFabricDefaults(fabricType,null,null,null,gnsdata).then(function (res) {
                if (res && res.data) {   
                    $('[name="fdc_fabricName"]').focus();        
                    console.log(144)         
                    $scope.update_input_model(res);                    		
                }
                spinnerOverlay.stop();
            });
        }

        $scope.getGNS3FabricDefaults = function (fabricType) {
            spinnerOverlay.start();
            fabricInputService.getGNS3FabricDefaults(fabricType).then(function (res) {
                if (res && res.data) {                    
                    $scope.update_input_model(res);
                }
                spinnerOverlay.stop();
            });
        }

        $scope.$watch('inputModel.deploymentType',function(newvalue,oldvalue)
        {
            if (newvalue != oldvalue && oldvalue!=undefined)   
            {
                if(newvalue=='Enterprise SONiC Fabric')
                {
                    $scope.getSonicDefaults("Layer 3 Leaf and Spine")
                }
                else if(newvalue=='Nokia NFVi')
                {
                    $scope.getNokiaCBISDefaults("Layer 3 Leaf and Spine")
                }
                else if(newvalue=='OS10 Fabric')
                {
                    $scope.getFabricDefaults("Layer 3 Leaf and Spine")  
                }
                else if(newvalue == 'GNS3 Fabric')
                {
                    $scope.getGNS3FabricDefaults("Layer 3 Leaf and Spine") 
                }
            }
        })
        $scope.$watch('inputModel.networkType', function (newvalue, oldvalue) {
            /** set uplink and fabric links when its exists **/
            var uplink_protocol = '';
            var uplink_protocol_type = '';
            var fabriclink_protocol_type = '';
            if ($scope.inputModel.upLinkInfo) {
                uplink_protocol = angular.copy($scope.inputModel.upLinkInfo.protocol);
                uplink_protocol_type = angular.copy($scope.inputModel.upLinkInfo.protocolType);
                $scope.inputModel.selectedUplinkProtocol = angular.copy(uplink_protocol);
                $scope.inputModel.selectedUplinkProtocolType = angular.copy(uplink_protocol_type);
            }
            if ($scope.inputModel.fabricLinkInfo) {
                var fabriclink_protocol_type = angular.copy($scope.inputModel.fabricLinkInfo.protocolType);
                $scope.inputModel.fabricLinkInfo.protocol = 'Layer 2';
            }
            /**set selected fabric link protocol type to empty string to update it during network type  selection */
            $scope.inputModel.selectedFabricLinkProtocolType = '';
            /** Conditionaly add default number of Racks on its network type selection */
            if (newvalue && (newvalue == 'Top of Rack Fabric')) {
                //$scope.$parent.editFromLogical ? $scope.isFabricHide = true : null;
                $scope.inputModel.noOfRacks = 1;
                angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (val) {
                    if (val.spineModel == $scope.inputModel.selectedLeafSwitch.switchModel) {
                        $scope.inputModel.selectedSpineSwitch = val;
                    }

                })              
                $scope.inputModel.selectedFabricLinkProtocolType = '';
            }
            if (newvalue && (newvalue == 'Layer 2 Leaf and Spine (VLT)')) {
                $scope.inputModel.noOfRacks = 2;
                /*  if ($scope.inputModel.selectedNetworkType.fabricLinkInfo[0] && $scope.inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType[0])
                      $scope.inputModel.selectedFabricLinkProtocolType = $scope.inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType[0];*/
                $scope.inputModel.selectedFabricLinkProtocolType = "VLT";
            }
            if (newvalue && (newvalue == 'Layer 3 Leaf and Spine')) {
                //$scope.$parent.editFromLogical ? $scope.isFabricHide = true : null;
                $scope.inputModel.fabricLinkInfo.protocol = 'Layer 3';
                $scope.inputModel.selectedUplinkProtocol = "Layer 3";
                $scope.inputModel.selectedUplinkProtocolType = "eBGP";
                $scope.inputModel.selectedFabricLinkProtocolType = "eBGP";
                if ($scope.inputModel.fabricLinkInfo) {
                    if ($scope.inputModel.fabricLinkInfo.protocolType && ($scope.inputModel.fabricLinkInfo.protocolType != '' && $scope.inputModel.fabricLinkInfo.protocolType != 'NA' && $scope.inputModel.fabricLinkInfo.protocolType != 'VLT')) {
                        $scope.inputModel.selectedFabricLinkProtocolType = angular.copy(fabriclink_protocol_type);
                    } else {
                        if ($scope.inputModel.selectedNetworkType.fabricLinkInfo[0] && $scope.inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType[0])
                            $scope.inputModel.selectedFabricLinkProtocolType = $scope.inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType[0];
                    }
                }

                $scope.inputModel.noOfRacks = 2;
                if (!$scope.inputModel.network_overlay_type) {
                    $scope.inputModel.network_overlay_type = $scope.inputModel.selectedNetworkType.network_overlay_options[0];
                }

            }
            $rootScope.$broadcast('selectedNetworkType', newvalue);
        });
        $scope.$watch('inputModel.selectedborderLeafSwitch', function (newvalue, oldvalue) {
            var sameBandwidth = false;
            if (newvalue && newvalue != '' && $scope.inputModel.deploymentType=='Nokia NFVi') {
                $scope.inputModel.borderleafSwitchModel = angular.copy($scope.inputModel.selectedborderLeafSwitch.switchModel);
                angular.forEach($scope.inputModel.selectedborderLeafSwitch.borderleafs, function (item) {
                    if(item.switchModel == $scope.inputModel.selectedborderLeafSwitch.switchModel)
                    $scope.inputModel.selectedborderLeafSwitch.uplink = item.uplink
                });

                if ($scope.inputModel.upLinkInfo.bandwidth) {
                    angular.forEach($scope.inputModel.selectedborderLeafSwitch.uplink.capacities, function (val) {
                        if ($scope.inputModel.upLinkInfo.bandwidth == val.bandwidth && $scope.inputModel.upLinkInfo.physicalType==val.physical_type) {
                            if($scope.inputModel.selectedUplinkBandwidth == undefined)
                                $scope.inputModel.selectedUplinkBandwidth = val
                        }
                    });
                }
                if (newvalue.spineModel == "Z9264F-ON") {
                    $scope.maxRackCount = 32;
                }else if (newvalue.spineModel == "Z9332F-ON") {
                    $scope.maxRackCount = 64;
                }
                else if (newvalue.spineModel == "Z9432F-ON") {
                    $scope.maxRackCount = 64;
                }
                else if (newvalue.spineModel == "Generic-GNS3-Switch") {
                    $scope.maxRackCount = 5;
                }
                else {
                    $scope.maxRackCount = 16;
                }
                // Retain previously selected uplink bandwidth
                angular.forEach($scope.inputModel.selectedborderLeafSwitch.uplink.capacities, function (val) {
                    if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                        $scope.inputModel.selectedUplinkBandwidth = val;
                        sameBandwidth = true;
                    }
                });
                // Change uplink bandwidth if the selected spine doesn't has it.
                if (!sameBandwidth) {
                    $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedborderLeafSwitch.uplink.capacities[$scope.inputModel.selectedborderLeafSwitch.uplink.capacities.length - 1];
                }
            }
        }, true);

        $scope.$watch('inputModel.selectedLeafSwitch.switchModel', function (newvalue, oldvalue) {
            var sameBandwidth = false;
            if (newvalue && newvalue != '') {
                $scope.inputModel.leafSwitchModel = angular.copy($scope.inputModel.selectedLeafSwitch.switchModel);
                if($scope.inputModel.leafSwitchModel=='Z9664F-ON')
                {
                    $scope.inputModel.irb_type='Asymmetric'
                }
                else
                    $scope.inputModel.irb_type='Symmetric'

                if ($scope.inputModel.selectedLeafSwitch.spines) {
                    selectedspineexists = false
                    selectedspine = angular.copy($scope.inputModel.selectedSpineSwitch)
                    angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (item) {
                        if ($scope.inputModel.networkType != "Top of Rack Fabric" && item.spineModel == $scope.inputModel.spineSwitchModel){
                            if(selectedspineexists == false)
                                selectedspine = item;               
                        }
                        if($scope.inputModel.selectedSpineSwitch!=undefined && $scope.inputModel.selectedSpineSwitch.spineModel == item.spineModel)
                        {
                            selectedspineexists = true;
                            selectedspine = item
                        }
                        if ($scope.inputModel.networkType == "Top of Rack Fabric" && item.spineModel == $scope.inputModel.leafSwitchModel)
                        {
                            $scope.inputModel.selectedSpineSwitch = item;
                            selectedspine = item
                        }
                    });
                $scope.inputModel.selectedSpineSwitch = selectedspine;
                }
                else {
                   //$scope.inputModel.selectedSpineSwitch = $scope.inputModel.selectedLeafSwitch.spines[0];
                }
                if ($scope.inputModel.selectedSpineSwitch) {
                    if (!$scope.inputModel.selectedUplinkBandwidth) {
                        $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                    }
                    // Retain previously selected uplink bandwidth
                    if($scope.inputModel.deploymentType!='Nokia NFVi'){
                    angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                        if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                            $scope.inputModel.selectedUplinkBandwidth = val;
                            sameBandwidth = true;
                        }
                    });
                    // Change uplink bandwidth if the selected spine doesn't has it.
                    if (!sameBandwidth) {
                        $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                    }
                    }
                }
            }

        }, true);

        $scope.save_filter_type = function(filter_type){
            $scope.switch_filter_type = filter_type;
            var data = 
            {
                'data' : $scope.inputModel,
                'filter_key':filter_type,
                'type':'fabric'
            }
            var config = {
                headers: {
                    'Content-Type': 'application/json'
                }
            }
            $http.post('rest/design/fabric/genericFabric/filter_defaults/', data, config)
                .then(function (res, status, headers, config) {
                    if (res && res.data) {
                        var networks = angular.copy(res.data.networkDefaults);
                        var editableNetworks = [];
                        $scope.inputModel.switchDefaults = angular.copy(res.data.switchDefaults);
                        
                        angular.forEach($scope.inputModel.switchDefaults, function (item) {
                            if (item.switchModel == $scope.inputModel.leafSwitchModel)
                            $scope.inputModel.selectedLeafSwitch = item;
                        });
                        if ($scope.inputModel.selectedLeafSwitch.spines) {
                            selectedspineexists = false
                            selectedspine = angular.copy($scope.inputModel.selectedSpineSwitch)
                            angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (item) {
                                if ($scope.inputModel.networkType != "Top of Rack Fabric" && item.spineModel == $scope.inputModel.spineSwitchModel){
                                    if(selectedspineexists == false)
                                        selectedspine = item;                                                                                                        
                                }
                                if($scope.inputModel.selectedSpineSwitch!=undefined && $scope.inputModel.selectedSpineSwitch.spineModel == item.spineModel)
                                {
                                    selectedspineexists = true;                                                        
                                    selectedspine = item
                                }
                                if ($scope.inputModel.networkType == "Top of Rack Fabric" && item.spineModel == $scope.inputModel.leafSwitchModel)
                                    $scope.inputModel.selectedSpineSwitch = item;
                            });
                        }
                        $scope.inputModel.selectedSpineSwitch = selectedspine;                                    
                        if ($scope.inputModel.selectedSpineSwitch) {
                            if (!$scope.inputModel.selectedUplinkBandwidth) {
                                $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                        }
                        // Retain previously selected uplink bandwidth
                        angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                            if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                                $scope.inputModel.selectedUplinkBandwidth = val;
                                sameBandwidth = true;
                            }
                        });
                        // Change uplink bandwidth if the selected spine doesn't has it.
                        if (!sameBandwidth) {
                            $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                            }
                        }
                        $scope.fabricEditableData = angular.copy($scope.inputModel);
    
                        if ($scope.inputModel.fabricLinkInfo)
                            $scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = Number($scope.inputModel.fabricLinkInfo.overAllBandwidth);
                        else
                            $scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = "";
                        spinnerOverlay.stop();	 // Stop loading...
                    }
                }
                , function (data, status, header, config) {
                    spinnerOverlay.stop(); // Stop loading...
                });		
            }

        $scope.$watch('inputModel.selectedSpineSwitch', function (newvalue, oldvalue) {
            var sameBandwidth = false;
            if (newvalue && newvalue != '' && $scope.inputModel.deploymentType!='Nokia NFVi') {
                if ($scope.inputModel.upLinkInfo.bandwidth) {
                    angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                        if ($scope.inputModel.upLinkInfo.bandwidth == val.bandwidth && $scope.inputModel.upLinkInfo.physicalType==val.physical_type) {
                            $scope.inputModel.selectedUplinkBandwidth = val;
                        }
                    });
                }
                if (newvalue.spineModel == "Z9264F-ON") {
                    $scope.maxRackCount = 32;
                }else if (newvalue.spineModel == "Z9332F-ON") {
                    $scope.maxRackCount = 64;
                }
                else if (newvalue.spineModel == "Z9432F-ON") {
                    $scope.maxRackCount = 64;
                }
                else if (newvalue.spineModel == "Generic-GNS3-Switch") {
                    $scope.maxRackCount = 5;
                }
                else if (newvalue.spineModel == "Z9664F-ON") {
                    $scope.maxRackCount = 128;
                }
                else {
                    $scope.maxRackCount = 16;
                }
                // Retain previously selected uplink bandwidth
                angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                    if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                        $scope.inputModel.selectedUplinkBandwidth = val;
                        sameBandwidth = true;
                    }
                });
                // Change uplink bandwidth if the selected spine doesn't has it.
                if (!sameBandwidth) {
                    $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                }


            }
        }, true);

        $scope.$watch('inputModel.selectedUplinkProtocol', function (newvalue, oldvalue) {
            $scope.inputModel.selectedUplinkProtocolTypes = [];
            if (newvalue && newvalue != '') {
                if ($scope.inputModel.selectedNetworkType && $scope.inputModel.selectedNetworkType.upLinkInfo) {
                    var uplinks = $scope.inputModel.selectedNetworkType.upLinkInfo;
                    if (uplinks.length >= 1) {
                        $scope.inputModel.selectedUplinkProtocolTypes = uplinks[0].protocolType;
                        if (newvalue == 'Layer 3') {
                            if (uplinks[1])
                                $scope.inputModel.selectedUplinkProtocolTypes = uplinks[1].protocolType;
                            if ($scope.inputModel.upLinkInfo.protocolType && ($scope.inputModel.upLinkInfo.protocolType != '' && $scope.inputModel.upLinkInfo.protocolType != 'NA')) {
                                $scope.inputModel.selectedUplinkProtocolType = angular.copy($scope.inputModel.upLinkInfo.protocolType);
                            } else {
                                $scope.inputModel.selectedUplinkProtocolType = angular.copy($scope.inputModel.selectedUplinkProtocolTypes[0]);
                            }
                        }
                    }
                    else {
                        $scope.inputModel.selectedUplinkProtocolTypes = uplinks[0].protocolType;
                    }
                }
            }
        }, true);




    }]);
angular
    .module(APP_NAME)
    .directive('fabricDetail', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'fabricDetailsController',
            scope: {
                inputModel: '=',
            },
            templateUrl: 'fabric/design/input/fabric/fabricDetailsTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .directive('superspineDetail', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'superspineCtrl',
            scope: {
                inputModel: '=',
            },
            templateUrl: 'fabric/design/input/fabric/superspineDetails.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .controller('fabricDetailsControllerBE', ["$scope", 'fabricService','fabricInputService','spinnerOverlay','$http', '$rootScope', function ($scope, fabricService, fabricInputService ,spinnerOverlay,$http, $rootScope) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.networkFabricForm = $scope.$parent.networkFabricForm;
        $scope.showSwitchAsDisable=$scope.$parent.isFabricHide;
        $scope.$parent.$parent.$parent.networkFabricForm = $scope.networkFabricForm;
        $scope.canEdit=$scope.$parent.$parent.$parent.canEdit;
        /** model for fabric details */
        $scope.generateWorkloadRacks = $scope.$parent.generateWorkloadRacks;
        $scope.editmode = ($scope.$parent.editmode) ? $scope.$parent.editmode : false;
        $scope.topology_type = 'L3';
        $scope.maxRackCount = 16;
        $scope.$watch('inputModel.selectedNetworkType', function (newvalue, oldvalue) {
            if (newvalue && newvalue != '') {
                $scope.inputModel.networkType = angular.copy($scope.inputModel.selectedNetworkType.networkType);
            }
        });

        $scope.update_input_model = function(res)
        {
            angular.forEach(res.data.networkDefaults, function (item) {
                if (item.networkType == res.data.networkType)
                    res.data.selectedNetworkType = item;
            });
            angular.forEach(res.data.switchDefaults, function (item) {
                if (item.switchModel == res.data.borderleafSwitchModel)
                    res.data.selectedborderLeafSwitch = item;
            });
            angular.forEach(res.data.switchDefaults, function (item) {
                if (item.switchModel == res.data.leafSwitchModel)
                    res.data.selectedLeafSwitch = item;
            });
            if($scope.inputModel.deploymentType == 'Nokia NFVi1')
            {                
                angular.forEach(res.data.switchDefaults, function (item) {
                    if (item.switchModel == res.data.borderleafSwitchModel)
                    {
                        angular.forEach(item.borderleafs, function (val) {
                            if (val.borderleafModel == res.data.borderleafSwitchModel) {
                                res.data.selectedBorderLeafSwitch = val;
                            }
                        })    
                    }
                });                    
            }
            defaultRacksGenerated = $scope.inputModel.defaultRacksGenerated
            $scope.inputModel = angular.copy(res.data);
            $scope.inputModel.defaultRacksGenerated = defaultRacksGenerated
                $scope.inputModel.fabricLinkInfo.protocol = 'Layer 3';
                $scope.inputModel.selectedUplinkProtocol = "Layer 3";
                $scope.inputModel.selectedUplinkProtocolType = "eBGP";
                $scope.inputModel.selectedFabricLinkProtocolType = "eBGP";
                $scope.inputModel.selectedUplinkProtocolTypes = $scope.inputModel.selectedNetworkType.upLinkInfo[0].protocolType;
                angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (val) {
                    if (val.spineModel == $scope.inputModel.spineSwitchModel) {
                        $scope.inputModel.selectedSpineSwitch = val;
                    }

                }) 
                if ($scope.inputModel.selectedSpineSwitch) {
                    if (!$scope.inputModel.selectedUplinkBandwidth) {
                        $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                    }
                    // Retain previously selected uplink bandwidth
                    angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                        if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                            $scope.inputModel.selectedUplinkBandwidth = val;
                            sameBandwidth = true;
                        }
                    });
                    // Change uplink bandwidth if the selected spine doesn't has it.
                    if (!sameBandwidth) {
                        $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                    }
                }
                $scope.inputModel.noOfRacks = 2;
                if (!$scope.inputModel.network_overlay_type) {
                    $scope.inputModel.network_overlay_type = $scope.inputModel.selectedNetworkType.network_overlay_options[0];
                }
        }
        $scope.getNokiaCBISDefaults = function (fabricType) {
            spinnerOverlay.start();
            fabricInputService.getNokiaCBISDefaults(fabricType).then(function (res) {
                if (res && res.data) {
                    $scope.update_input_model(res);
                }
                spinnerOverlay.stop();
            });
        }

        $scope.getSonicDefaults = function (fabricType) {
            spinnerOverlay.start();
            fabricInputService.getSonicDefaults(fabricType).then(function (res) {
                if (res && res.data) {
                    $scope.update_input_model(res);
                }
                spinnerOverlay.stop();
            });
        }

        $scope.getFabricDefaults = function (fabricType) {
            spinnerOverlay.start();
            fabricInputService.getGeneratedFabricDefaults(fabricType).then(function (res) {
                if (res && res.data) {                    
                    $scope.update_input_model(res);
                }
                spinnerOverlay.stop();
            });
        }

        $scope.$watch('inputModel.deploymentType',function(newvalue,oldvalue)
        {
            if (newvalue != oldvalue && oldvalue!=undefined)   
            {
                if(newvalue=='Enterprise SONiC Fabric')
                {
                    $scope.getSonicDefaults("Layer 3 Leaf and Spine")
                }
                else if(newvalue=='Nokia NFVi')
                {
                    $scope.getNokiaCBISDefaults("Layer 3 Leaf and Spine")
                }
                else if(newvalue=='OS10 Fabric')
                {
                    $scope.getFabricDefaults("Layer 3 Leaf and Spine")  
                }
            }
        })
        $scope.$watch('inputModel.selectedLeafSwitch.switchModel', function (newvalue, oldvalue) {
            var sameBandwidth = false;
            if (newvalue && newvalue != '') {
                //If nokia dont set uplink, return
                $scope.inputModel.leafSwitchModel = angular.copy($scope.inputModel.selectedLeafSwitch.switchModel);
                if ($scope.inputModel.selectedLeafSwitch.spines) {
                    selectedspineexists = false
                    selectedspine = angular.copy($scope.inputModel.selectedSpineSwitch)
                    angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (item) {
                        if ($scope.inputModel.networkType != "Top of Rack Fabric" && item.spineModel == $scope.inputModel.spineSwitchModel){
                            if(selectedspineexists == false)
                                selectedspine = item;               
                            if($scope.inputModel.selectedSpineSwitch!=undefined && $scope.inputModel.selectedSpineSwitch.spineModel == item.spineModel)
                            {
                                selectedspineexists = true;
                                selectedspine = item
                            }
                        }
                        if ($scope.inputModel.networkType == "Top of Rack Fabric" && item.spineModel == $scope.inputModel.leafSwitchModel)
                        {
                            $scope.inputModel.selectedSpineSwitch = item;
                            selectedspine = item
                        }
                    });
                $scope.inputModel.selectedSpineSwitch = selectedspine;
                }
                else {
                   //$scope.inputModel.selectedSpineSwitch = $scope.inputModel.selectedLeafSwitch.spines[0];
                }
                if ($scope.inputModel.selectedSpineSwitch) {
                    if (!$scope.inputModel.selectedUplinkBandwidth) {
                        $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                    }
                    // Retain previously selected uplink bandwidth
                    if($scope.inputModel.deploymentType!='Nokia NFVi'){
                    angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                        if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                            $scope.inputModel.selectedUplinkBandwidth = val;
                            sameBandwidth = true;
                        }
                    });
                    // Change uplink bandwidth if the selected spine doesn't has it.
                    if (!sameBandwidth) {
                        $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                    }
                    }
                }
            }

        }, true);


        $scope.$watch('inputModel.networkType', function (newvalue, oldvalue) {
            /** set uplink and fabric links when its exists **/
            var uplink_protocol = '';
            var uplink_protocol_type = '';
            var fabriclink_protocol_type = '';
            if ($scope.inputModel.upLinkInfo) {
                uplink_protocol = angular.copy($scope.inputModel.upLinkInfo.protocol);
                uplink_protocol_type = angular.copy($scope.inputModel.upLinkInfo.protocolType);
                $scope.inputModel.selectedUplinkProtocol = angular.copy(uplink_protocol);
                $scope.inputModel.selectedUplinkProtocolType = angular.copy(uplink_protocol_type);
            }
            if ($scope.inputModel.fabricLinkInfo) {
                var fabriclink_protocol_type = angular.copy($scope.inputModel.fabricLinkInfo.protocolType);
                $scope.inputModel.fabricLinkInfo.protocol = 'Layer 2';
            }
            /**set selected fabric link protocol type to empty string to update it during network type  selection */
            $scope.inputModel.selectedFabricLinkProtocolType = '';
            /** Conditionaly add default number of Racks on its network type selection */
            if (newvalue && (newvalue == 'Top of Rack Fabric')) {
                //$scope.$parent.editFromLogical ? $scope.isFabricHide = true : null;
                $scope.inputModel.noOfRacks = 1;
                angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (val) {
                    if (val.spineModel == $scope.inputModel.selectedLeafSwitch.switchModel) {
                        $scope.inputModel.selectedSpineSwitch = val;
                    }

                })              
                $scope.inputModel.selectedFabricLinkProtocolType = '';
            }
            if (newvalue && (newvalue == 'Layer 2 Leaf and Spine (VLT)')) {
                $scope.inputModel.noOfRacks = 2;
                /*  if ($scope.inputModel.selectedNetworkType.fabricLinkInfo[0] && $scope.inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType[0])
                      $scope.inputModel.selectedFabricLinkProtocolType = $scope.inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType[0];*/
                $scope.inputModel.selectedFabricLinkProtocolType = "VLT";
            }
            if (newvalue && (newvalue == 'Layer 3 Leaf and Spine')) {
                //$scope.$parent.editFromLogical ? $scope.isFabricHide = true : null;
                $scope.inputModel.fabricLinkInfo.protocol = 'Layer 3';
                $scope.inputModel.selectedUplinkProtocol = "Layer 3";
                $scope.inputModel.selectedUplinkProtocolType = "eBGP";
                $scope.inputModel.selectedFabricLinkProtocolType = "eBGP";
                if ($scope.inputModel.fabricLinkInfo) {
                    if ($scope.inputModel.fabricLinkInfo.protocolType && ($scope.inputModel.fabricLinkInfo.protocolType != '' && $scope.inputModel.fabricLinkInfo.protocolType != 'NA' && $scope.inputModel.fabricLinkInfo.protocolType != 'VLT')) {
                        $scope.inputModel.selectedFabricLinkProtocolType = angular.copy(fabriclink_protocol_type);
                    } else {
                        if ($scope.inputModel.selectedNetworkType.fabricLinkInfo[0] && $scope.inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType[0])
                            $scope.inputModel.selectedFabricLinkProtocolType = $scope.inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType[0];
                    }
                }

                $scope.inputModel.noOfRacks = 2;
                if (!$scope.inputModel.network_overlay_type) {
                    $scope.inputModel.network_overlay_type = $scope.inputModel.selectedNetworkType.network_overlay_options[0];
                }

            }
            $rootScope.$broadcast('selectedNetworkType', newvalue);
        });
        $scope.$watch('inputModel.selectedborderLeafSwitch', function (newvalue, oldvalue) {
            if (newvalue && newvalue != '') {
                $scope.inputModel.borderleafSwitchModel = angular.copy($scope.inputModel.selectedborderLeafSwitch.switchModel);
                angular.forEach($scope.inputModel.selectedborderLeafSwitch.borderleafs, function (item) {
                    if(item.switchModel == $scope.inputModel.selectedborderLeafSwitch.switchModel)
                    $scope.inputModel.selectedborderLeafSwitch.uplink = item.uplink
                });
                if ($scope.inputModel.selectedborderLeafSwitch) {
                    if (!$scope.inputModel.selectedBLUplinkBandwidth) {
                        console.log($scope.inputModel.bl_upLinkInfo)
                        $scope.inputModel.selectedBLUplinkBandwidth = $scope.inputModel.selectedborderLeafSwitch.uplink.capacities[$scope.inputModel.selectedborderLeafSwitch.uplink.capacities.length - 1];
                    }
                    // Retain previously selected uplink bandwidth
                    angular.forEach($scope.inputModel.selectedborderLeafSwitch.uplink.capacities, function (val) {
                        if ($scope.inputModel.selectedBLUplinkBandwidth.display_name == val.display_name) {
                            $scope.inputModel.selectedBLUplinkBandwidth = val;
                            sameBandwidth = true;
                        }
                    });
                    // Change uplink bandwidth if the selected spine doesn't has it.
                    if (!sameBandwidth) {
                        $scope.inputModel.selectedBLUplinkBandwidth = $scope.inputModel.selectedborderLeafSwitch.uplink.capacities[$scope.inputModel.selectedborderLeafSwitch.uplink.capacities.length - 1];
                    }
                    if ($scope.inputModel.bl_upLinkInfo.bandwidth) {
                        angular.forEach($scope.inputModel.selectedborderLeafSwitch.uplink.capacities, function (val) {
                            if ($scope.inputModel.bl_upLinkInfo.bandwidth == val.bandwidth && $scope.inputModel.bl_upLinkInfo.physicalType==val.physical_type) {
                                $scope.inputModel.selectedBLUplinkBandwidth = val;
                            }
                        });
                    }
                }
                
            }
        });

        $scope.save_filter_type = function(filter_type){
            $scope.switch_filter_type = filter_type;
            var data = 
            {
                'data' : $scope.inputModel,
                'filter_key':filter_type,
                'type':'fabric'
            }
            var config = {
                headers: {
                    'Content-Type': 'application/json'
                }
            }
            $http.post('rest/design/fabric/genericFabric/filter_defaults/', data, config)
                .then(function (res, status, headers, config) {
                    if (res && res.data) {
                        var networks = angular.copy(res.data.networkDefaults);
                        var editableNetworks = [];
                        $scope.inputModel.switchDefaults = angular.copy(res.data.switchDefaults);
                        
                        angular.forEach($scope.inputModel.switchDefaults, function (item) {
                            if (item.switchModel == $scope.inputModel.leafSwitchModel)
                            $scope.inputModel.selectedLeafSwitch = item;
                        });
                        if ($scope.inputModel.selectedLeafSwitch.spines) {
                            angular.forEach($scope.inputModel.selectedLeafSwitch.spines, function (item) {
                                if ($scope.inputModel.networkType != "Top of Rack Fabric" && item.spineModel == $scope.inputModel.spineSwitchModel)
                                    $scope.inputModel.selectedSpineSwitch = item;
                                if ($scope.inputModel.networkType == "Top of Rack Fabric" && item.spineModel == $scope.inputModel.leafSwitchModel)
                                    $scope.inputModel.selectedSpineSwitch = item;
                            });
                        }
                        if ($scope.inputModel.selectedSpineSwitch) {
                            if (!$scope.inputModel.selectedUplinkBandwidth) {
                                $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                        }
                        // Retain previously selected uplink bandwidth
                        angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                            if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                                $scope.inputModel.selectedUplinkBandwidth = val;
                                sameBandwidth = true;
                            }
                        });
                        // Change uplink bandwidth if the selected spine doesn't has it.
                        if (!sameBandwidth) {
                            $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                            }
                        }
                        $scope.fabricEditableData = angular.copy($scope.inputModel);
    
                        if ($scope.inputModel.fabricLinkInfo)
                            $scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = Number($scope.inputModel.fabricLinkInfo.overAllBandwidth);
                        else
                            $scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = "";
                        spinnerOverlay.stop();	 // Stop loading...
                    }
                }
                , function (data, status, header, config) {
                    spinnerOverlay.stop(); // Stop loading...
                });		
            }
        
        $scope.$watch('inputModel.selectedSpineSwitch', function (newvalue, oldvalue) {
            var sameBandwidth = false;
            if (newvalue && newvalue != '') {
                if ($scope.inputModel.upLinkInfo.bandwidth) {
                    angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                        if ($scope.inputModel.upLinkInfo.bandwidth == val.bandwidth && $scope.inputModel.upLinkInfo.physicalType==val.physical_type) {
                            $scope.inputModel.selectedUplinkBandwidth = val;
                        }
                    });
                }
                if (newvalue.spineModel == "Z9264F-ON") {
                    $scope.maxRackCount = 32;
                }else if (newvalue.spineModel == "Z9332F-ON") {
                    $scope.maxRackCount = 64;
                }
                else if (newvalue.spineModel == "Z9432F-ON") {
                    $scope.maxRackCount = 64;
                }
                else {
                    $scope.maxRackCount = 16;
                }
                // Retain previously selected uplink bandwidth
                angular.forEach($scope.inputModel.selectedSpineSwitch.uplink.capacities, function (val) {
                    if ($scope.inputModel.selectedUplinkBandwidth.display_name == val.display_name) {
                        $scope.inputModel.selectedUplinkBandwidth = val;
                        sameBandwidth = true;
                    }
                });
                // Change uplink bandwidth if the selected spine doesn't has it.
                if (!sameBandwidth) {
                    $scope.inputModel.selectedUplinkBandwidth = $scope.inputModel.selectedSpineSwitch.uplink.capacities[$scope.inputModel.selectedSpineSwitch.uplink.capacities.length - 1];
                }


            }
        }, true);

        $scope.$watch('inputModel.selectedUplinkProtocol', function (newvalue, oldvalue) {
            $scope.inputModel.selectedUplinkProtocolTypes = [];
            if (newvalue && newvalue != '') {
                if ($scope.inputModel.selectedNetworkType && $scope.inputModel.selectedNetworkType.upLinkInfo) {
                    var uplinks = $scope.inputModel.selectedNetworkType.upLinkInfo;
                    if (uplinks.length >= 1) {
                        $scope.inputModel.selectedUplinkProtocolTypes = uplinks[0].protocolType;
                        if (newvalue == 'Layer 3') {
                            if (uplinks[1])
                                $scope.inputModel.selectedUplinkProtocolTypes = uplinks[1].protocolType;
                            if ($scope.inputModel.upLinkInfo.protocolType && ($scope.inputModel.upLinkInfo.protocolType != '' && $scope.inputModel.upLinkInfo.protocolType != 'NA')) {
                                $scope.inputModel.selectedUplinkProtocolType = angular.copy($scope.inputModel.upLinkInfo.protocolType);
                            } else {
                                $scope.inputModel.selectedUplinkProtocolType = angular.copy($scope.inputModel.selectedUplinkProtocolTypes[0]);
                            }
                        }
                    }
                    else {
                        $scope.inputModel.selectedUplinkProtocolTypes = uplinks[0].protocolType;
                    }
                }
            }
        }, true);




    }]);
angular
    .module(APP_NAME)
    .directive('isilonbefabric', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'fabricDetailsControllerBE',
            scope: {
                inputModel: '=',
            },
            templateUrl: 'fabric/design/input/fabric/fabricDetailsTmplBE.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .directive('mxvlanBuilder', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,            
            controller: 'mxVLANBuilderCtrl',
            scope: {
                vlanList: '=',
                uplinkbondList: '=',
                clusterType:'@'
            },
            templateUrl: 'fabric/design/input/mxchassis/vlan/mxvlanBuilderTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .controller('mxVLANBuilderCtrl', ['$scope','fabricInputService', function ($scope,fabricInputService) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.clusterForm = $scope.$parent.clusterForm;
        $scope.chassisinput = $scope.$parent.chassisinput;
        var network_type={description: "Used for low priority data traffic",id: "GENERAL_PURPOSE_BRONZE",name: "General Purpose (Bronze)"};
       // var clusterCount = fabricInputService.vLANcount;
        /** Utility to check the value is an array  or not */
        $scope.isArray = angular.isArray; 
      	$scope.nicSelectSettings = {
					showCheckAll: false, showUncheckAll: false, displayProp: 'name', externalIdProp: "",
					keyboardControls: true, idProp: 'name', buttonDefaultText: 'Select Uplink',
					styleActive: true, smartButtonMaxItems: 1, scrollable: true, scrollableHeight: 'auto',
					smartButtonTextConverter: function (itemText, originalItem) {
						return itemText;
					}
				};
        /** controller to add Guest Vlan row in UI*/
        $scope.addGuestVlan = function () {
            var cloneVmNetwork = null,clusterCount = 0;
            if ($scope.vlanList.vmNetworks.length > 0) {
                cloneVmNetwork = angular.copy($scope.vlanList.vmNetworks[0]);
            }
            else {
                cloneVmNetwork = { name: "", vlanId: 0, associatedChassisUplinks: [], associatedChassisUplinks_list:[],description: "", enable_ip_interface: true };
                cloneVmNetwork.associatedChassisUplinks_list[0]=angular.copy($scope.uplinkbondList[0]);
                cloneVmNetwork.networktype=angular.copy(network_type);
            }
            var vmNetworkCount = 0;
            var count = 0,
                vlanNameCount = 0,
                vlanStr = '';
           angular.forEach($scope.vlanList, function (value, key) {
                if (key && value) {
                    if (key != 'mgmt' && key=='vmNetworks'){ 
                        if(value.length>0) count=value.length;
                        else count=1;
                    }
                    
                }
            });
            var vlanName=$scope.$parent.chassisinput.name + "_workloadNetwork_";
            var chassisname=$scope.$parent.chassisinput.name;
            clusterCount = Number(chassisname.match(/\d+$/) ? chassisname.match(/\d+$/)[0] : null);
            vmNetworkCount=Number((clusterCount)* 100) ; 
            if (!$scope.vlanList.vmNetworks.length) {
                cloneVmNetwork.name = vlanName + 1;
                cloneVmNetwork.vlanId = vmNetworkCount + count;
            } else {
                vlanStr = $scope.vlanList.vmNetworks[$scope.vlanList.vmNetworks.length - 1].name;
                vlanStr = vlanStr.match(/\d+$/) ? vlanStr.match(/\d+$/)[0] : null;
                vlanNameCount = Number(vlanStr);
                cloneVmNetwork.name = vlanName + (vlanNameCount + 1);
                cloneVmNetwork.vlanId = Number($scope.vlanList.vmNetworks[$scope.vlanList.vmNetworks.length - 1].vlanId) + 1;
            }           

            $scope.vlanList.vmNetworks.push(cloneVmNetwork);
        }

        /** controller to remove Guest Vlan row from UI*/
        $scope.removeGuestVlan = function (index) {
            /**Remove the last entry from the vlan list */
            $scope.vlanList.vmNetworks.splice(index, 1);
        }      
    }]);
angular
    .module(APP_NAME)
    .controller('chassisActionsCtrl', ['$scope', 'spinnerOverlay', '$timeout', '$rootScope', 'VLANService', 'fabricService', '$http', '$uibModal', 'fabricInputService', 'rackService','logicalrackservice',
        function ($scope, spinnerOverlay, $timeout, $rootScope, VLANService, fabricService, $http, $uibModal, fabricInputService, rackService,logicalrackservice) {
            $scope.clusterForm = $scope.$parent.clusterForm;
            $scope.chassisinput = $scope.$parent.chassisinput;
            $scope.chassisvlan = $scope.$parent.chassisvlan;
            $scope.fabricInputs = $scope.$parent.fabricInputs;
            $scope.mode = $scope.$parent.mode;
            $scope.selectNode = $scope.$parent.selectNode;
            $scope.displayToaster = $scope.$parent.displayToaster;
            if ($scope.$parent.fabricInputParams) {
                $scope.fabricInputParams = $scope.$parent.fabricInputParams.fabricInputs;
            }
            $scope.index = $scope.$parent.index;
            //$scope.rackClusterModel = $scope.$parent.rackClusterModel;
            //$scope.sendWorkLoadData = $scope.$parent.sendWorkLoadData;

            $scope.addRackWarning = {};

            $scope.addCluster = function () {
                $scope.validate();
            }

            $scope.bModal = function (obj) {
                var clusterIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/addClusterOnRack.html',
                    controller: 'chassisActionsCtrl',
                    size: 'lg',
                    resolve: {
                        items: function () {

                        }
                    },
                    scope: $scope
                });
                clusterIns.result.then(function () {

                },
                    function () {
                        $scope.rackClusterModel = null;
                    });

                clusterIns.rendered.then(function () {
                    //$scope.$emit('rackCluster', {data: obj})
                    $scope.rackClusterModel = obj;
                    $scope.rackClusterModel.selectedRack = $scope.rackClusterModel.racks.length && $scope.rackClusterModel.racks[0];
                    $scope.rackClusterModel.upgradeSwitch = $scope.rackClusterModel.upgrade_tor.length && $scope.rackClusterModel.upgrade_tor[0];
                    $scope.sendWorkLoadData = function () {
                        spinnerOverlay.start();
                        genericAddCluster(clusterIns);
                    }
                })
            }


            $scope.clusterAdd = false;
            $scope.validate = function () {
                $scope.clusterAdd = true;
                spinnerOverlay.stop();
                var clusterName = $scope.chassisinput.name;
                if($scope.fabricInputs && $scope.fabricInputs.mxFabricClusterInputs){
                    angular.forEach($scope.fabricInputs.mxFabricClusterInputs, function (cluster, index) {
                        if (cluster.name == clusterName && index != $scope.index) {
                            var fieldName = "fdc_cluster_name";
                            $scope.clusterForm[fieldName].$invalid = true;
                            $scope.clusterForm[fieldName].$dirty = true;
                            $scope.clusterForm[fieldName].$$attr.uibTooltip = "Cluster Name already exist.";
                            $scope.clusterForm.$valid = false;
                            var focusField = "[name=\"" + fieldName + "\"]";
                            $timeout(function () { $(focusField).focus(); });
                            spinnerOverlay.stop();
                        }
                    });
                    angular.forEach($scope.chassisinput.clusterVlans, function (vlan,key, index) {
                        if(key=="vmNetworks"){
                                for(i=0;;)
                                {
                                fieldName='fdc_cluster_vmNetworks_'+ i
                                if($scope.clusterForm[fieldName]!=undefined)
                                    {
                                        if($scope.clusterForm[fieldName].$viewValue.length == 0){
                                            $scope.clusterForm[fieldName].$invalid = true;
                                            $scope.clusterForm[fieldName].$dirty = true;
                                            $scope.clusterForm[fieldName].$$attr.uibTooltip = "This value is required.";
                                            $scope.clusterForm.$valid = false;
                                            var focusField = "[name=\"" + fieldName + "\"]";
                                            $timeout(function () { $(focusField).focus(); });
                                            spinnerOverlay.stop();                   
                                        }
                                    }
                                else
                                    break
                                i=i+1;
                                }
                            }

                        if (vlan != undefined && vlan.length != 0 ) {
                            var fieldName = "fdc_cluster_"+key+"_"+0;
                            if($scope.clusterForm[fieldName].$viewValue.length == 0){
                            $scope.clusterForm[fieldName].$invalid = true;
                            $scope.clusterForm[fieldName].$dirty = true;
                            $scope.clusterForm[fieldName].$$attr.uibTooltip = "This value is required.";
                            $scope.clusterForm.$valid = false;
                            var focusField = "[name=\"" + fieldName + "\"]";
                            $timeout(function () { $(focusField).focus(); });
                            spinnerOverlay.stop();
                        }
                    }
                    });
                }
             


                 var config = {
                      headers: {
                          'Content-Type': 'application/json'
                      }
                  };
                var chassisinput = angular.copy($scope.chassisinput);
                /**code to iterarate over the vlans and convert the associated chassisuplinks into string for sending to rest  */
                var mgmtvlan = $scope.chassisvlan.mgmt&&$scope.chassisvlan.mgmt.associatedChassisUplinks_list.map(function(el) {
                        return el.name;
                });
                $scope.chassisvlan.mgmt.associatedChassisUplinks=mgmtvlan; 
                 $scope.chassisvlan.vmNetworks&&angular.forEach($scope.chassisvlan.vmNetworks, function(value, key) {
                       var associatedChassisUplinks=value.associatedChassisUplinks_list && value.associatedChassisUplinks_list.map(function(el) {
                            return el.name;
                        });
                       value.associatedChassisUplinks=angular.copy(associatedChassisUplinks);
                  });             
              
                chassisinput.clusterVlans = angular.copy($scope.chassisvlan);
                var vaidateURL = ($scope.fabricInputParams)?$scope.fabricInputParams.validate:$scope.fabricInputs.fabricItems.validate;
               if ($scope.clusterForm.$valid) {
                    $http.post(vaidateURL, chassisinput, config)
                        .then(function (data, status, headers, config) {
                            //validateVLAN();
                           if ($scope.mode == "ADD"||$scope.mode=="ADD_IN") {
                                if ($scope.fabricInputs.genericCluster) {
                                    // Generic add cluster
                                  //  $scope.fabricInputs.dataObj.add_cluster_input.cluster_input = angular.copy(chassisinput);
                                        genericAddCluster(chassisinput);
                                } else {
                                        var cluser = angular.copy(chassisinput);
                                        $scope.fabricInputs.mxFabricClusterInputs.push(cluser);
                                        $scope.clusterAdd = false;
                                        $scope.modal.hide();
                                        spinnerOverlay.stop();
                                        fabricInputService.displayToaster('success', 'Add Cluster', 'Cluster added successfully');
                                        $scope.status = "Inactive";
                                            $scope.updateStatus = function() {
                                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                                        }
                                        fabricInputService.clusterCount['POD'] += 1;
                                        fabricInputService.vLANcount += 1;

                                }
                                $rootScope.clusterInputAdded = true;

                                //$scope.$parent.clusterVlanId.val += 1;
                            } else {
                                if ($scope.fabricInputs.genericCluster) {
                                    updateCluster();
                                } else {
                                        $scope.fabricInputs.mxFabricClusterInputs[$scope.index] = chassisinput;
                                        $scope.clusterAdd = false;
                                        $scope.modal.hide();
                                        spinnerOverlay.stop();
                                        fabricInputService.displayToaster('success', 'Edit Cluster', 'Cluster edited successfully');

                                }
                            }


                        }, function (res, status, header, config) {
                            spinnerOverlay.stop();
                            $scope.clusterAdd = false;
                            if (res.data.errors) {
                                angular.forEach(res.data.errors, function (error, index) {
                                  var fieldName = "fdc_" + error.field;
                                  if ($scope.clusterForm[fieldName]) {
                                        $scope.clusterForm[fieldName].$dirty = true;
                                        $scope.clusterForm[fieldName].$invalid = true;
                                        $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;
                                    }



                                    if (index == 0) {
                                        var focusField = "[name=\"" + fieldName + "\"]";
                                        $timeout(function () { $(focusField).focus(); });
                                    }
                                });
                            } else {
                                angular.forEach(res.data.clusterVlans, function (server_error, key) {
                                    if (angular.isArray(server_error)) {
                                        angular.forEach(server_error, function (error, index) {
                                            if (error.errors) {
                                                angular.forEach(error.errors, function (error_obj) {
                                                    var fieldName = 'fdc_cluster_' + key + "_" + error_obj.param + "_" + index;
                                                    $scope.clusterForm[fieldName].$dirty = true;
                                                    $scope.clusterForm[fieldName].$invalid = true;
                                                    $scope.clusterForm[fieldName].$$attr.uibTooltip = error_obj.message;
                                                    var focusField = "[name=\"" + fieldName + "\"]";
                                                    $timeout(function () { $(focusField).focus(); });
                                                });
                                            }
                                        });
                                    } else {
                                        if (server_error.errors) {
                                            angular.forEach(server_error.errors, function (error, index) {
                                                var fieldName = 'fdc_cluster_' + key + "_" + error.param;

                                                $scope.clusterForm[fieldName].$dirty = true;
                                                $scope.clusterForm[fieldName].$invalid = true;
                                                $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;
                                                var focusField = "[name=\"" + fieldName + "\"]";
                                                $timeout(function () { $(focusField).focus(); });
                                            });
                                        }
                                    }
                                });
                            }
                        });
                                       
               } else {
                    spinnerOverlay.stop();
                    $scope.clusterAdd = false;
                }
            };

           
            

            /* server side code for adding and removing vlans in clusters */

            $scope.updateCluster = function (load) {
                load && spinnerOverlay.start();
                var fabricdata = fabricService.getData();
                var config = {
                    headers: {
                        'AcceptMethod': 'write'
                    }
                };


                var cluster = angular.copy($scope.chassisinput);
                cluster.chassisvlans = angular.copy($scope.chassisvlan);
                cluster.clusterVlans=angular.copy($scope.chassisvlan);
                cluster.name = angular.copy($scope.chassisinput.name);
                var view_id = fabricService.getFabricId();
                var vlanReqData = {
                    data: fabricdata,
                    cluster: cluster,
                    view: view_id
                };

                var promise = $http.post('/rest/design/updateCluster/', vlanReqData, config)
                    .then(function (vlandata, status, headers, config) {
                        if ($scope.mode == "ADD") {
                            $scope.fabricInputs.mxFabricClusterInputs.push(clusterData);
                            $rootScope.chassisinputAdded = true;
                            spinnerOverlay.stop();
                        }
                        else if ($scope.mode == "SERVEREDIT") {                            
                                $scope.selectNode(cluster.id);
                                $rootScope.$broadcast('load-logicalview');
                        } else {
                            $scope.fabricInputs.mxFabricClusterInputs[$scope.index] = clusterData;
                            spinnerOverlay.stop();
                        }
                        fabricInputService.displayToaster('success', 'Edit Cluster', 'Cluster edited successfully');
                        $scope.clusterAdd = false;
                        $scope.modal.hide();
                    }, function (res, status, header, config) {
                        spinnerOverlay.stop();
                        $scope.clusterAdd = false;
                        if (res.data.errors) {
                            angular.forEach(res.data.errors, function (error, index) {
                                var fieldName = "fdc_cluster_" + error.field;

                                if (error.field == "totalNodes") {
                                    fieldName = "fdc_cluster_futureNodes";
                                }

                                if (error.field.match(/bond\d{1,2}/) != null) {
                                    fieldName = "fdc_cluster_" + error.field;
                                    $scope.clusterForm[fieldName].$dirty = true;
                                } else if (error.field.match(/bond/) != null) {
                                    fieldName = "fdc_cluster_" + error.field;
                                    $scope.clusterForm[fieldName].$dirty = true;
                                }
                                if ($scope.clusterForm[fieldName]) {
                                    $scope.clusterForm[fieldName].$dirty = true;
                                    $scope.clusterForm[fieldName].$invalid = true;
                                    $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;
                                }



                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        } else {
                            angular.forEach(res.data.clusterVlans, function (server_error, key) {
                                if (angular.isArray(server_error)) {
                                    angular.forEach(server_error, function (error, index) {
                                        if (error.errors) {
                                            angular.forEach(error.errors, function (error_obj) {
                                                var fieldName = 'fdc_cluster_' + key + "_" + error_obj.param + "_" + index;
                                                $scope.clusterForm[fieldName].$dirty = true;
                                                $scope.clusterForm[fieldName].$invalid = true;
                                                $scope.clusterForm[fieldName].$$attr.uibTooltip = error_obj.message;
                                                var focusField = "[name=\"" + fieldName + "\"]";
                                                $timeout(function () { $(focusField).focus(); });
                                            });
                                        }
                                    });
                                } else {
                                    if (server_error.errors) {
                                        angular.forEach(server_error.errors, function (error, index) {
                                            var fieldName = 'fdc_cluster_' + key + "_" + error.param;

                                            $scope.clusterForm[fieldName].$dirty = true;
                                            $scope.clusterForm[fieldName].$invalid = true;
                                            $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;
                                            var focusField = "[name=\"" + fieldName + "\"]";
                                            $timeout(function () { $(focusField).focus(); });
                                        });
                                    }
                                }
                            });
                        }

                    }, function (vlanerror, status, header, config) {
                        fabricInputService.displayToaster('error', 'Edit Cluster', 'Cluster cannot be edited');
                        spinnerOverlay.stop();
                    });
            };

            function updatechassisvlan() {
                var vlanReqData = {};
                vlanReqData.chassisvlans = [];
                var vlan = angular.copy($scope.chassisvlan);
                vlan.clusterId = $scope.chassisinput.id;
                vlanReqData.chassisvlans.push(vlan);
                VLANService.setchassisvlans(vlanReqData)
                    .then(function (vlandata, status, headers, config) {
                        $scope.modal.hide();
                        $scope.selectNode($scope.chassisinput.id);
                        $rootScope.$broadcast('tab-logicalview');
                        fabricInputService.displayToaster('success', 'Edit Cluster', 'Cluster edited successfully');
                        spinnerOverlay.stop();
                    }, function (vlanerror, status, header, config) {
                        fabricInputService.displayToaster('error', 'Edit Cluster', 'Cluster cannot be edited');
                        spinnerOverlay.stop();
                    });
            }

            function genericAddCluster(dataObj) {
                //spinnerOverlay.start();
                // $scope.fabricInputs.dataObj.add_cluster_input.cluster_input = cluster;
                var config = {
                    headers: {
                        'AcceptMethod': 'write'
                    }
                };
               chassisInput = angular.copy(dataObj);               
               var fabricdata= angular.copy($scope.fabricInputs.dataObj);
               fabricdata.mxchassisFabricClusterInput=angular.copy(chassisInput);
                // on warning
                /*if ($scope.rackClusterModel && Object.keys($scope.rackClusterModel).length !== 0) {
                    if ($scope.rackClusterModel.rackOption) {
                        if ($scope.rackClusterModel.rackOption == 'new') {
                            dataObj.add_cluster_input.add_new_rack = true;
                        } else {
                            dataObj.add_cluster_input.rack_ids.push($scope.rackClusterModel.selectedRack.rack_id);
                        }
                    } else {
                        dataObj.add_cluster_input.upgrade_tor = $scope.rackClusterModel.upgradeSwitch;
                    }


                }*/
                $http.post('rest/design/fabric/mxFabric/scalableFabric/add/', fabricdata, config)
                    .then(function (data, status, headers, config) {
                        $scope.modal.hide();
                        $scope.clusterAdd = false;
                       // warningModal.close && warningModal.close();
                        //storeAndGetRacks(data.data, $scope.$parent.$parent.$parent.$parent.rc);
                       // fabricService.storeData(data);
                       // $scope.selectNode(logicalrackservice.getActiveProperty().id);
                        fabricInputService.clusterCount['POD'] += 1;
                        fabricInputService.vLANcount += 1;
                        // $rootScope.$broadcast('loadRacks', { 'racks': data.data });
                        $rootScope.$emit('updateRacks');

                        fabricInputService.displayToaster('success', 'Add Scalable Fabric', 'Fabric added successfully');
                    }, function (res, status, header, config) {
                        if (res.status == 400 && res.data.detail == "Warning") {
                            $scope.bModal(res.data.errors);
                        } else if (res.status == 400) {
                            if (res.data.errors) {
                                angular.forEach(res.data.errors, function (error, index) {
                                    var fieldName = "fdc_cluster_" + error.field;

                                    if (error.field == "totalNodes") {
                                        fieldName = "fdc_cluster_futureNodes";
                                    }

                                    if (error.field.match(/bond\d{1,2}/) != null) {
                                        fieldName = "fdc_cluster_" + error.field;
                                        $scope.clusterForm[fieldName].$dirty = true;
                                    } else if (error.field.match(/bond/) != null) {
                                        fieldName = "fdc_cluster_" + error.field;
                                        $scope.clusterForm[fieldName].$dirty = true;
                                    }

                                    $scope.clusterForm[fieldName].$dirty = true;
                                    $scope.clusterForm[fieldName].$invalid = true;
                                    $scope.clusterForm[fieldName].$$attr.uibTooltip = error.message;


                                    if (index == 0) {
                                        var focusField = "[name=\"" + fieldName + "\"]";
                                        $timeout(function () { $(focusField).focus(); });
                                    }
                                });
                            }

                        } else if (res.status == 500) {
                            fabricInputService.displayToaster('error', 'Unable to add scalable fabric', res.data.detail);
                            //warningModal.close && warningModal.close();
                        } else {
                            warningModal.close && warningModal.close();
                        }
                        $scope.clusterAdd = false;
                        $scope.rackClusterModel = {};
                        spinnerOverlay.stop();
                    })
            }

        }]);
angular
    .module(APP_NAME)
    .directive('chassisActions', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'chassisActionsCtrl',
            scope: {
                modal: '=',
                where: '@'
            },
            templateUrl: 'fabric/design/input/mxchassis/chassisActions/chassisActions.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .directive('clusterchassis', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'clusterChassisCtrl',
            scope: {
                inputModel: '=',
                where: '@'
            },
            templateUrl: 'fabric/design/input/mxchassis/chassis/clusterChassisTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .controller('clusterChassisCtrl', ['$scope','Fabriclink','fabricInputService', function ($scope, Fabriclink, fabricInputService) {
        $scope.clusterForm = $scope.$parent.clusterForm;
        $scope.chassisinput = $scope.$parent.chassisinput;
        if($scope.where != "SERVEREDIT"  && $scope.chassisinput.deviceType == undefined)
        {
            $scope.chassisinput.deviceType = "S5232F-ON"            
        }
        $scope.chassisvlan = $scope.$parent.chassisvlan;
        $scope.fabricArchitectureType=$scope.inputModel.fabricArchitectureType;
        $scope.bondurl = "";
        if($scope.$parent.$parent.$parent.fabricinput.fabricInputs) {
               $scope.bondurl = $scope.$parent.$parent.$parent.fabricinput.fabricInputs.bond; 
        }else{
                //get bond from fabric items:
                 $scope.bondurl = $scope.$parent.fabricInputs.fabricItems.bond;
        }
        
        $scope.$watchGroup(['chassisinput.configure_fabricA','chassisinput.configure_fabricB','chassisinput.configure_fcoe_fabricA', 'chassisinput.configure_fcoe_fabricB'], function (newVal, oldVal) {
            if (oldVal != newVal) {
                /*if($scope.chassisinput.configure_fcoe_fabricA == false)
                {
                    $scope.chassisinput.configure_fcoe_fabricB = false; 
                }*/
                if($scope.chassisinput.configure_fabricB == false)
                {
                    $scope.chassisinput.configure_fcoe_fabricB = false; 
                }
               var output= Fabriclink.getData({
                    chassisinput: $scope.chassisinput,
                    chassisvlan: $scope.chassisvlan,
                    fabricArchitectureType:$scope.fabricArchitectureType,
                    form: $scope.clusterForm,
                    url: $scope.bondurl
                });
            }
        }); 

    
    }]);
angular
    .module(APP_NAME)
    .controller('chassisDetailsCtrl', ['$scope', '$http', '$rootScope', '$cookies', '$timeout', 'spinnerOverlay', 'dlcuiConfirmDialog', '$translate', 'fabricService', 'Bond', 'VLANService', 'fabricInputService',
        function($scope, $http, $rootScope, $cookies, $timeout, spinnerOverlay, dlcuiConfirmDialog, $translate, fabricService, Bond, VLANService, fabricInputService) {
            //$scope.clusterForm = {};
            // Common methods for cluster operation          
             $scope.populateVLANdefaults = function(defaults) {
                var network_type={description: "Used for low priority data traffic",id: "GENERAL_PURPOSE_BRONZE",name: "General Purpose (Bronze)"};
                $scope.editClusterMode = null, count = 0;
                $scope.chassisinput.uplinkvlans=[];
                var clusterCount = fabricInputService.vLANcount;
                $scope.chassisvlan = angular.copy(defaults.clusterVlans);
                 /* code to add uplinks from scalable fabrics*/
                angular.forEach($scope.chassisinput.chassisfabricInfos, function (val, ind) {
							if(val.uplinkInfos && val.uplinkInfos.length>0){
                               angular.forEach(val.uplinkInfos, function (uplink, ind) {
								  $scope.chassisinput.uplinkvlans.push(uplink);
							   });                                   
				}
						//	options.chassisinput.uplinkvlans;
				});
                // Only update name
                    angular.forEach($scope.chassisvlan, function(vlan, index) {
                        if (index == 'mgmt' && vlan) {
                            vlan.name = $scope.chassisinput.name + "_" + vlan.name;
                        }
                        if (index == 'vmNetworks') {
                            angular.forEach(vlan, function(vmvlan, vmindex) {
                                vmvlan.name = $scope.chassisinput.name + "_" + vmvlan.name;
                            });
                        }
                    });

                angular.forEach($scope.chassisvlan, function(vlan, index) {
                    onlyVmVlans = true
                    if ((vlan && vlan.vlanId) && index == 'mgmt'){
                        vlan.associatedChassisUplinks_list=[];
                        vlan.associatedChassisUplinks_listed=[];
                        vlan.vlanId = 1
                        //vlan.associatedChassisUplinks[0]=angular.copy($scope.chassisinput.uplinkvlans[0]);
                        vlan.networktype=angular.copy(network_type);
                        vlan.associatedChassisUplinks_list[0]=angular.copy($scope.chassisinput.uplinkvlans[0]);
                        onlyVmVlans = false
                    }
                   
                    if (index == 'vmNetworks') {
                        // iterate each vlan in vmnetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.associatedChassisUplinks_list=[];
                            vmvlan.associatedChassisUplinks_listed=[];
                            vmvlan.vlanId = Number(clusterCount * 100) + count + 1;
                            count++;
                            vmvlan.name = $scope.chassisinput.name + "_" + vmvlan.name;
                        });
                    }
                });
              

            }
            $scope.populateEditVLANdefaults = function(selectedChassis) {
                $scope.editClusterMode = null, count = 0;              
                /* get the vlan list from the server, convert it into number and assign it to vlanID*/
                angular.forEach(selectedChassis.clusterVlans, function(vlan, index) {
                    if (index == 'mgmt') {
                         vlan.associatedChassisUplinks_list=[];
                        if(vlan && vlan.vlanId){
                           vlan.vlanId = Number(vlan.vlanId);
                            count++;  
                        }
                        if(vlan && vlan.network_type){
                              angular.forEach($scope.chassisinput.networkTypes,function (el) {
                                     if(el.id ==  vlan.network_type) {
                                         vlan.networktype=el;
                                         return;
                                     }
                                });   
                        }
                        if (vlan && vlan.associatedChassisUplinks && vlan.associatedChassisUplinks.length>0) {
                            var returnchassisuplinks=[];
                            $scope.chassisinput.uplinkvlans && angular.forEach($scope.chassisinput.uplinkvlans,function(element) {
                                vlan.associatedChassisUplinks && angular.forEach(vlan.associatedChassisUplinks,function(link){
                                    if(link==element.name) returnchassisuplinks.push(element); 
                                })
                            }); 
                            vlan.associatedChassisUplinks_list=angular.copy(returnchassisuplinks);                                              
                        }                                           
                    }
                  
                  
                 
                    if (index == 'vmNetworks') {
                        // iterate each vlan in vmnetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                             vmvlan.associatedChassisUplinks_list=[];
                             if (vmvlan && vmvlan.vlanId) {
                                    vmvlan.vlanId = Number(vmvlan.vlanId);                  
                                }
                            if (vmvlan && vmvlan.network_type) {
                                angular.forEach($scope.chassisinput.networkTypes,function (el) {
                                    if(el.id ==  vmvlan.network_type) {
                                        vmvlan.networktype=el;
                                        return;
                                    }
                                });                                             
                            }
                            if (vmvlan && vmvlan.associatedChassisUplinks && vmvlan.associatedChassisUplinks.length>0) {
                                var returnchassisuplinks=[];
                                $scope.chassisinput.uplinkvlans && angular.forEach($scope.chassisinput.uplinkvlans,function(element) {
                                    vmvlan.associatedChassisUplinks && angular.forEach(vmvlan.associatedChassisUplinks,function(link){
                                        if(link==element.name) returnchassisuplinks.push(element); 
                                    })
                                }); 
                                vmvlan.associatedChassisUplinks_list=angular.copy(returnchassisuplinks);                                              
                            } 
                         });
                    }
                });
                $scope.chassisvlan = angular.copy(selectedChassis.clusterVlans);
            }
            $scope.editClusterOptions = function(mode,selectedChassis, defaults) {
                $scope.editClusterMode = mode;
                angular.merge($scope.chassisinput, defaults, selectedChassis);
                //$scope.chassisinput=angular.copy(selectedChassis);         
                $scope.chassisinput.name = selectedChassis.name;
                $scope.chassisinput.id = selectedChassis.id;
                $scope.chassisinput.chassisfabricInfos = selectedChassis.chassisfabricInfos;
                $scope.chassisinput.uplinkvlans=[];
                $scope.chassisinput.bw_index = selectedChassis.bw_index;
                //$scope.chassisinput=angular.copy(selectedChassis);
                var fabricInfos = angular.copy(selectedChassis.chassisfabricInfos);
						fabricInfos &&angular.forEach(fabricInfos, function (val, ind) {
							if(val.uplinkInfos && val.uplinkInfos.length>0){
                               angular.forEach(val.uplinkInfos, function (uplink, ind) {
								  uplink.uplinkType="uplink";
								  if(uplink.name.search('FCOE')>0){
									 uplink.uplinkType="fcoe";									
									  //Dont push FCOE Links								
							      }else{
								    $scope.chassisinput.uplinkvlans.push(uplink);
								  }
							   });                                   
							}
				}); 
               // angular.merge($scope.chassisinput, defaults, selectedChassis);
                $scope.populateEditVLANdefaults($scope.chassisinput);            
            }
            $scope.$watch('chassisinput.name', function(newVal, oldVal) {
                if (oldVal != newVal) {
                    angular.forEach($scope.chassisvlan, function(val, ind) {
                        if (ind != 'vmNetworks' && val) {
                            val.name = val.name.replace(oldVal, newVal);
                        }
                    })

                    angular.forEach($scope.chassisvlan.vmNetworks, function(vlan, index) {
                        vlan.name = vlan.name.replace(oldVal, newVal);
                    });
                }

            });

        }]);
angular
    .module(APP_NAME)
    .directive('link', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'fabriclinkCtrl',
            scope: {
                model: '=',
                where: '@'
            },
            templateUrl: 'fabric/design/input/mxchassis/link/linkTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    })
angular
	.module(APP_NAME)
	.service('Fabriclink', ['$rootScope', '$http', '$timeout', function ($rootScope, $http, $timeout) {
		this.getData = function (options) {
			var data = angular.copy(options.chassisinput),
				self = this,
			    url=options.url;
            options.chassisinput.uplinkvlans=[];
			if (options.form == undefined || options.form.$pristine) return;
			if (data) {
				$http.post(url, data)
					.then(function (res) {
						var fabricInfos = angular.copy(res.data.chassisfabricInfos);
						fabricInfos &&angular.forEach(fabricInfos, function (val, ind) {
							if(val.uplinkInfos && val.uplinkInfos.length>0){
                               angular.forEach(val.uplinkInfos, function (uplink, ind) {
								  if(uplink.linkInputType=='Ethernet') options.chassisinput.uplinkvlans.push(uplink);
							   });                                   
							}
					  });
					  options.chassisinput.chassisfabricInfos=angular.copy(fabricInfos);
						var fieldName = "fdc_cluster_optionalCard";
						options.form[fieldName] ? options.form[fieldName].$invalid = false : null;
						options.form[fieldName] ? options.form[fieldName].$$attr.uibTooltip = "" : null;

					}, function (res) {
						if (res.data) {
							angular.forEach(res.data.errors, function (error, index) {
								var fieldName = "fdc_cluster_" + error.field;

								options.form[fieldName].$dirty = true;
								options.form[fieldName].$invalid = true;
								options.form[fieldName].$$attr.uibTooltip = error.message;

								if (index == 0) {
									var focusField = "[name=\"" + fieldName + "\"]";
									$timeout(function () { $(focusField).focus(); });
								}
							});
						}
					});
			}
		}		
	}]);
angular
    .module(APP_NAME)
    .controller('fabriclinkCtrl', ['$scope', 'Fabriclink', function ($scope, Fabriclink) {
        $scope.chassisinput = $scope.$parent.chassisinput;
        /** creating a form object  in this scope by refering its parent form object for validation*/
        
        if($scope.where == "ADD"||$scope.where == "ADD_IN" || $scope.where == "SERVEREDIT")
            $scope.chassisinput.bw_index = [0,0]
            if($scope.where=="SERVEREDIT" || $scope.where == "ADD_IN")
            {
                for(i=0;i<$scope.chassisinput.chassisfabricInfos.length;)
                {
                    for(index=0;index<$scope.chassisinput.uplink_bws.length;){
                        if($scope.chassisinput.chassisfabricInfos[i].uplinkInfos[0].bandwidth==$scope.chassisinput.uplink_bws[index])
                        {
                            $scope.chassisinput.bw_index[i] = index
                            //break;
                        }
                    index=index+1;
                    }
                    i += 1;
                }
            }
            $scope.storeindex = function(fabric_index,item){
            for(index=0;index<$scope.chassisinput.uplink_bws.length;){
                if(item==$scope.chassisinput.uplink_bws[index])
                {
                    $scope.chassisinput.bw_index[fabric_index] = index
                    break;
                }
            index=index+1;
            }        
        };
        $scope.bandwidthfilter = function(item)
        {          
            if($scope.chassisinput.deviceType=="S5248F-ON" ||$scope.chassisinput.deviceType=="S5296F-ON" ||$scope.chassisinput.deviceType=="S5224F-ON")
            {
                if(item==10 || item == 25)
                {
                    return true
                }
                return false
            }  
            else
            {
                if(item==100 || item == 40)
                {
                    return true
                }
                return false
            }  
            return false
        }
        $scope.clusterForm = $scope.$parent.clusterForm;
        $scope.fabricArchitectureType=$scope.model.fabricArchitectureType;
        $scope.isArray = angular.isArray;
        
        $scope.$watch('chassisinput.deviceType',function(newVal,oldVal){
            if(oldVal!=newVal)
            {                
                for(i=0;i<$scope.chassisinput.chassisfabricInfos.length;)
                {
                    if($scope.chassisinput.deviceType == "S5296F-ON"||$scope.chassisinput.deviceType == "S5224F-ON"||$scope.chassisinput.deviceType == "S5248F-ON")
                    {
                        $scope.chassisinput.chassisfabricInfos[i].uplinkInfos[0].bandwidth = "25"
                        $scope.chassisinput.chassisfabricInfos[i].uplinkInfos[0].count = 2
                    }
                    else
                    {
                        $scope.chassisinput.chassisfabricInfos[i].uplinkInfos[0].bandwidth = "100"
                        $scope.chassisinput.chassisfabricInfos[i].uplinkInfos[0].count = 2                  
                    }
                    for(index=0;index<$scope.chassisinput.uplink_bws.length;){
                        if($scope.chassisinput.chassisfabricInfos[i].uplinkInfos[0].bandwidth==$scope.chassisinput.uplink_bws[index])
                        {
                            $scope.chassisinput.bw_index[i] = index
                            //break;
                        }
                    index=index+1;
                    }
                    i = i+1;
                }                
            }
        });
        
        $scope.$watch('chassisinput.chassisfabricInfos',function(newVal,oldVal){
            if(oldVal!=newVal){
                for(index=0;index<$scope.chassisinput.uplink_bws.length;){
                    if($scope.chassisinput.chassisfabricInfos[1].uplinkInfos[0].bandwidth==$scope.chassisinput.uplink_bws[index])
                    {
                        $scope.chassisinput.bw_index[1] = index
                        //break;
                    }
                index=index+1;
                }
                if(newVal.length == 1)
                {
                    //$scope.bw_index[1]=0
                }
            }
        });
        
    }]);
angular
    .module(APP_NAME)
    .controller('fabricRacksController', ["$scope", 'fabricService', 'rackService', 'fabricInputService', '$rootScope', 'spinnerOverlay', 'clusterService', '$uibModal', '$http', '$timeout',
        function ($scope, fabricService, rackService, fabricInputService, $rootScope, spinnerOverlay, clusterService, $uibModal, $http, $timeout) {
            /** creating a form object  in this scope by refering its parent form object for validation*/
            $scope.networkFabricForm = $scope.$parent.networkFabricForm;
            $scope.rackCount = 0;
            $scope.fabricSolutions = fabricService.getFabricConfig();
            $scope.edgeRack_errorMessage='';
            $scope.show_edge_rack_error=false;
            $scope.selectedNetworkType='';
            
            $scope.fabricInputs = {
                "name": '',
                "fabricType": '',
                "description": "test",
                "clusterInputs": {},
                "fabricItems": null
            };
            $scope.help = {
					home: 'home',
					cluster: 'cluster',
					vlan: 'vlan',
					solution: '',
			}
            $scope.bModal = function (obj) {
                var rackInputData = $uibModal.open({
                    animation: true,
                    backdrop: 'static',
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/input/rack/addRackOnFabric.html',
                    controller: 'fabricRacksController',
                    //  size: 'sm',
                    resolve: {
                        items: function () {

                        }
                    },
                    scope: $scope
                });
                rackInputData.result.then(function () {

                },
                    function () {
                        $scope.fabricRackAddErrorModel = {};
                        if ($scope.firstblock) $scope.firstblock = false;
                    });

                rackInputData.rendered.then(function () {
                    $scope.fabricRackAddErrorModel = angular.copy(obj);
                    $scope.firstblock = false;
                    if ($scope.fabricRackAddErrorModel.addSpine && $scope.fabricRackAddErrorModel.upgradeSpine) {
                        $scope.firstblock = true;
                        $scope.fabricRackAddErrorModel.editSpine = "upgrade";
                    } else {
                        $scope.firstblock = false;
                        if (obj.addSpine) $scope.fabricRackAddErrorModel.addSpine = "add";
                        if (obj.upgradeSpine) $scope.fabricRackAddErrorModel.upgradeSpine = "upgrade";
                    }

                    $scope.sendWorkLoadData = function () {
                        $scope.addRackFn(rackInputData);
                        rackInputData.close('close');
                    }
                });
                /* rackInputData.closed.then(function () {
                     //$scope.$emit('rackCluster', {data: obj})
                     $scope.fabricRackAddErrorModel = {};
                 }, function () {
 
                 });*/
            };
            $scope.uncheckAddSpine = function (event) {
                //  if ($scope.fabricRackAddErrorModel.addSpine == event.target.value)
                $scope.fabricRackAddErrorModel.addSpine = !event.target.value;
            }
            $scope.uncheckUpgradeSpine = function (event) {
                //  if ($scope.fabricRackAddErrorModel.upgradeSpine == event.target.value)
                $scope.fabricRackAddErrorModel.upgradeSpine = !event.target.value;
            }

            $scope.$on('selectedNetworkType', function (evt, data) {
                 $scope.selectedNetworkType = data;
            })

            $scope.$on('deploymentType', function (evt, data) {
                $scope.deploymentType = data;
           })

            $scope.isSelected = function (obj) {
                return obj.isCollapsed;
            };
            $scope.$watch('rackDefaults.isEdgeRack',function (newvalue, oldvalue) {
                 $scope.edgeRack_errorMessage='';
                if(oldvalue==true && newvalue==false){
                  $scope.show_edge_rack_error=true;
                  $scope.edgeRack_errorMessage='(Warning : Disabling Edge Rack will make Spine Rack as the Default Edge Rack)';
                }else{
                    $scope.show_edge_rack_error=false;
                }
            });
            /** add Rack to Workload **/
            $scope.addRackFn = function () {
                var data = {};
                //    $scope.fabricRackAddErrorModel = {};
                spinnerOverlay.start();
                if ($scope.rackDefaults) {
                    data.rackInput = $scope.rackDefaults;
                    addRackOperation(data);
                } else {
                    rackService.getRackDefaults().then(function (res) {
                        var rackInput = angular.copy(res.data);
                        delete rackInput.switchDefaults;
                        delete rackInput.switchModelOptions;
                        delete rackInput.osRatioOptions;
                        var rackInitCount = 0;
                        if (!$scope.rackCount) {
                            rackInitCount = Number($scope.$parent.genericFabricInputs.fabricDetails.noOfRacks);
                        }
                        $scope.rackCount = ($scope.rackCount + rackInitCount) + 1;
                        rackInput.rackName = "Rack-" + $scope.rackCount;
                        data.rackInput = rackInput;
                        addRackOperation(data);
                    }, function() {
                        spinnerOverlay.stop();
                    });
                }
            }
            function upgradeSpine() {
                var fabricdata = fabricService.getData();
                var config = {
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }

                $http.post('rest/design/fabric/edit/defaults/', fabricdata, config)
                    .then(function (response, status, headers, config) {
                        
                       /* fabricInputService.getGeneratedFabricDefaults(response.data.networkType).then(function (res) {
                            if (res && res.data) {
                                angular.forEach(res.data.networkDefaults, function (item) {
                                    if (item.networkType == response.data.networkType)
                                    response.data.selectedNetworkType = item;
                                });
                                angular.forEach(res.data.switchDefaults, function (item) {
                                    if (item.switchModel == response.data.leafSwitchModel)
                                    response.data.selectedLeafSwitch = item;
                                });
                            }
                            
                           
                        });*/
                        				
                        angular.forEach($scope.$parent.genericFabricInputs.fabricDefaults.selectedLeafSwitch.spines, function(val) {
                            if (response.data.spineSwitchModel == val.spineModel) {
                                $scope.$parent.genericFabricInputs.fabricDefaults.selectedSpineSwitch = val;
                            }
                        });

                        spinnerOverlay.stop();	 // Stop loading...
                    }, function (data, status, header, config) {
                        spinnerOverlay.stop(); // Stop loading...
                    });
            }
            function addRackOperation(data) {
                // on warning              
                data.options = {
                    "upgradeLeaf": false,
                };
                if ($scope.firstblock) {
                    if ($scope.fabricRackAddErrorModel && $scope.fabricRackAddErrorModel.editSpine == "add") {
                        data.options.addSpine = true;
                        data.options.upgradeSpine = false;
                    } else {
                        data.options.addSpine = false;
                        data.options.upgradeSpine = true;
                    }
                } else {
                    if ($scope.fabricRackAddErrorModel && Object.keys($scope.fabricRackAddErrorModel).length) {
                        data.options.addSpine = ($scope.fabricRackAddErrorModel.addSpine == 'add') ? true : false;
                        data.options.upgradeSpine = ($scope.fabricRackAddErrorModel.upgradeSpine == 'upgrade') ? true : false;
                    } else {
                        data.options.addSpine = false;
                        data.options.upgradeSpine = false;
                    }
                }
                if($scope.fabricRackAddErrorModel && $scope.fabricRackAddErrorModel.upgradeLeaf == true && $scope.fabricRackAddErrorModel.upgradeLeafswitch)
                {
                    data.options.upgradeLeaf = $scope.fabricRackAddErrorModel.upgradeLeaf;
                    data.options.upgradeLeafswitch = $scope.fabricRackAddErrorModel.upgradeLeafswitch;
                }
                //spinnerOverlay.start();
                $scope.edgeRack_errorMessage='';
                rackService.addRack(data)
                    .then(function (fabricdata, status, headers, config) {
                        storeAndGetRacks(fabricdata.data, $scope.$parent.controller);
                        if ($scope.fabricRackAddErrorModel) {
                            upgradeSpine();
                        }
                        if ($scope.modal)
                            $scope.modal.hide();
                        fabricInputService.displayToaster('success', 'Add', 'Rack has been added successfully');
                    }, function (fabricerror, status, header, config) {
                        if (fabricerror.status == 400 && fabricerror.data.detail) {
                            if (fabricerror.data.errors && Object.keys(fabricerror.data.errors).length > 0)
                                $scope.bModal(fabricerror.data.errors);
                            fabricInputService.displayToaster('warning', 'Add Rack', fabricerror.data.detail);
                        } else if (fabricerror.status == 400) {
                            if ($scope.modal) {
                                if (fabricerror.data.errors) {
                                    angular.forEach(fabricerror.data.errors, function (error, index) {
                                        var fieldName = "fdc_" + error.field;
                                        if(fieldName=='fdc_isEdgeRack') $scope.edgeRack_errorMessage='(Error : '+error.message+')';
                                        $scope.networkFabricRackForm[fieldName].$dirty = true;
                                        $scope.networkFabricRackForm[fieldName].$invalid = true;
                                        $scope.networkFabricRackForm[fieldName].$$attr.uibTooltip = error.message;

                                        if (index == 0) {
                                            var focusField = "[name=\"" + fieldName + "\"]";
                                            $timeout(function () { $(focusField).focus(); });
                                        }
                                    });
                                } else {
                                    angular.forEach(fabricerror.data, function (field, key) {
                                        if (field.errors) {
                                            angular.forEach(field.errors, function (error, index) {
                                                var fieldName = 'fdc_' + key + '_' + error.field;
                                                 if(fieldName=='fdc_isEdgeRack') $scope.edgeRack_errorMessage='(Error : '+error.message+')';
                                                $scope.networkFabricRackForm[fieldName].$dirty = true;
                                                $scope.networkFabricRackForm[fieldName].$invalid = true;
                                                $scope.networkFabricRackForm[fieldName].$$attr.uibTooltip = error.message;
                                                var focusField = "[name=\"" + fieldName + "\"]";
                                                $timeout(function () { $(focusField).focus(); });
                                            });
                                        }
                                    });
                                }
                            } else {
                                fabricInputService.displayToaster('error', 'Add Rack', 'Rack addition failed');
                            }
                        }
                        if (fabricerror.status == 500) {
                            fabricInputService.displayToaster('error', 'Add Rack', fabricerror.data.detail);
                        }
                        $scope.fabricRackAddErrorModel = {};
                        if ($scope.firstblock) $scope.firstblock = false;
                        spinnerOverlay.stop();
                    });
            }
            $scope.editRackFn = function (row, isAdd) {
                rackService.editRackFn(row);
            }

            function storeAndGetRacks(data, cont) {
                fabricService.storeData(data);
                $scope.getRacks(data, cont);
            }
            $scope.clusterVlanId = {
                val: 1
            };
            $scope.workLoadAdd = function (solution, rackId, clusterId) {
                spinnerOverlay.start();
                $scope.fabricInputParams = angular.copy(solution);
                $scope.controller = solution.fabricInputs.clusterCtrl;
                $scope.template = solution.fabricInputs.clusterModal;
                // Get version
                var version = '',
                    url, defaults,
                    dataObj = {
                        add_cluster_input: {
                            rack_ids: [],
                            add_new_rack: false,
                            cluster_input: {}
                        },
                        data: fabricService.getData()
                    };
                dataObj.add_cluster_input.rack_ids.push(rackId);	// Append rack id
                $scope.fabricInputs.dataObj = dataObj;
                $scope.fabricInputs.genericCluster = true;
                if (solution.fabricInputs.type == "HCI_VXRAIL") {
                    version = "7.0";
                } 
                else if(solution.fabricInputs.type == "HCI_NSX_VXRAIL") {
                    version = "7.0";
                }
                 else if (solution.fabricInputs.type == "HCI_VSANREADY") {
                    version = "6.6";
                } else {
                    version = ''
                }
                $scope.fabricInputs.version = version;
                url = solution.fabricInputs.defaults + version;
                $scope.help.solution = ($scope.fabricInputParams)?$scope.fabricInputParams.name.toLowerCase():'';
                fabricInputService.getDefaults(url)
                    .then(function (res) {
                        spinnerOverlay.stop();
                        defaults = res.data.compute;
                        if (clusterId) {
                            spinnerOverlay.start();
                            clusterService.getCluster(clusterId)
                                .then(function (cluster) {
                                    spinnerOverlay.stop();
                                    fabricInputService.editCluster($scope, 0, defaults, 'compute', cluster.data);
                                })

                        } else {
                            fabricInputService.openCluster($scope, defaults, 'compute');
                        }
                    },
                        function () {
                            spinnerOverlay.stop();
                        });

            };

            $scope.editWorkLoad = function (cluster, rackId) {
                var solution = null;
                angular.forEach($scope.fabricSolutions, function (val, key) {
                    angular.forEach(val.data, function (obj) {
                        if (obj.fabricInputs) {
                            obj.fabricInputs.type == cluster.clusterType ? solution = obj : null;
                        }
                    })
                })
                $scope.workLoadAdd(solution, rackId, cluster.id);
            };
            $scope.editRackUpdateFn = function () {
                var data = {};
                $scope.rackDefaults.islInfo.count = $scope.rackDefaults.islLinkCapacity.count;
                data.rackInput = angular.copy($scope.rackDefaults);
                delete data.rackInput.islLinkCapacity;
                delete data.rackInput.osRatioOptions;
                delete data.rackInput.switchDefaults;
                delete data.rackInput.switchModelOptions;
                delete data.rackInput.clusterInfos;
                delete data.rackInput.selectedSwitchModel;
                $scope.edgeRack_errorMessage='';
                spinnerOverlay.start();
                rackService.validateRack(data).then(function(res){
                    spinnerOverlay.stop()
                    if(res.data.SUPPORT=='FALSE'){
                        var output = rackService.showWarningModal(res.data.CLUSTERTYPE) 
                        data.clusterType = res.data.CLUSTERTYPE
                        output.then(function(){
                          editRackServiceCall(data);
                        }) 
                                          
                    }else{
                        editRackServiceCall(data);
                    }
                })
            }
            function editRackServiceCall(data){
                spinnerOverlay.start();
                rackService.editRack(data).then(function (fabricdata, status, headers, config) {
                    $scope.modal.hide();
                    storeAndGetRacks(fabricdata.data, $scope.$parent.$parent.menuOptions.notInHome);
                    spinnerOverlay.stop();
                    fabricInputService.displayToaster('success', 'Edit', 'Rack has been Updated successfully');
                }, function (fabricerror, status, header, config) {
                    spinnerOverlay.stop();
                    message = fabricerror.data.detail
                    if (fabricerror.status == 400 && fabricerror.data.detail) {
                        fabricInputService.displayToaster('error', 'Edit Rack', fabricerror.data.detail);
                    }
                    else if (fabricerror.status == 500) {
                        fabricInputService.displayToaster('error', 'Edit Rack', fabricerror.data.detail);
                    }else{
                        if (fabricerror.data.errors) {
                            angular.forEach(fabricerror.data.errors, function (error, index) {
                                var fieldName = "fdc_" + error.field;
                                if(fieldName=='fdc_isEdgeRack') $scope.edgeRack_errorMessage='(Error : '+error.message+')';
                                $scope.networkFabricRackForm[fieldName].$dirty = true;
                                $scope.networkFabricRackForm[fieldName].$invalid = true;
                                $scope.networkFabricRackForm[fieldName].$$attr.uibTooltip = error.message;

                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        } else {
                            angular.forEach(fabricerror.data, function (field, key) {
                                if (field.errors) {
                                    angular.forEach(field.errors, function (error, index) {
                                        var fieldName = 'fdc_' + key + '_' + error.field;
                                         if(fieldName=='fdc_isEdgeRack') $scope.edgeRack_errorMessage='(Error : '+error.message+')';
                                        $scope.networkFabricRackForm[fieldName].$dirty = true;
                                        $scope.networkFabricRackForm[fieldName].$invalid = true;
                                        $scope.networkFabricRackForm[fieldName].$$attr.uibTooltip = error.message;
                                        var focusField = "[name=\"" + fieldName + "\"]";
                                        $timeout(function () { $(focusField).focus(); });
                                    });
                                }
                            });
                        }
                    }  
                    //fabricInputService.displayToaster('error', 'Error', fabricerror.data.detail);
                });
            }
            $scope.deleteRackFn = function (rack) {
                /*get Rack  Details by Rack Name */
                /* Confirmation for deleting the Rack*/
                /* Get rack Details and Update Rack Table */
                rackService.deleteRack({
                    rackId: rack.rackId,
                    success: function (dataracks) {
                        //$scope.$emit('loadRacks', { 'racks': dataracks.data });
                        storeAndGetRacks(dataracks.data);
                        fabricInputService.displayToaster('success', 'Delete', 'Rack has been deleted successfully');
                    }
                })
            };
            $scope.deleteCluster = function (cluster) {
                rackService.deleteCluster({
                    clusterId: cluster.id,
                    success: function (dataracks) {
                        //$scope.$emit('loadRacks', { 'racks': dataracks.data });
                        storeAndGetRacks(dataracks.data);
                        fabricInputService.displayToaster('success', 'Delete', 'Cluster has been deleted successfully');
                    }
                })
            };
            $scope.getRack = function (rack_name) {
                var options = {};
                options.rack_name = rack_name;
                rackService.getRack(options).then(function (res, status, headers, config) {
                    //console.log(res.data);
                });
            }
            $scope.getRacks = function (data, cont) {
                rackService.getRacks(data).then(function (res, status, headers, config) {
                    !cont && spinnerOverlay.stop();
                    $rootScope.$emit('updateRacks', { "racks": res.data });
                }, function () {
                    spinnerOverlay.stop();
                });
            }
            $scope.isSelected = function (obj) {
                return obj.isCollapsed;
            };
        }]);
angular
    .module(APP_NAME)
    .directive('genericFabricRack', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'fabricRacksController',
            scope: {
                inputModel: '=',
            },
            templateUrl: 'fabric/design/input/fabric/fabricRacksTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .controller('rackDetailsController', ["$scope", "fabricService","$http","spinnerOverlay",function ($scope,fabricService,$http,spinnerOverlay) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.networkFabricRackForm = $scope.$parent.networkFabricRackForm;

        $scope.$parent.$parent.$parent.networkFabricRackForm = $scope.$parent.networkFabricRackForm;

        $scope.$watch('defaults.selectedSwitchModel', function (newvalue, oldvalue) {
            if (newvalue && newvalue != '') {
                if (newvalue != oldvalue) {
                    $scope.defaults.islLinkCapacity = $scope.defaults.selectedSwitchModel.isl_link.capacity[0];
                }
                
                //$scope.defaults.upLinkConnection = ($scope.defaults.selectedSwitchModel.inter_link.count * Number($scope.defaults.selectedSwitchModel.inter_link.capacity.bandwidth));
                $scope.defaults.switchModel = $scope.defaults.selectedSwitchModel.device_type;

                $scope.defaults.upLinkInfo.bandwidth = $scope.defaults.selectedSwitchModel.inter_link.capacity.bandwidth;
                $scope.defaults.upLinkInfo.count = $scope.defaults.selectedSwitchModel.inter_link.count;
                $scope.defaults.upLinkInfo.overAllBandwidth = ($scope.defaults.selectedSwitchModel.inter_link.count * Number($scope.defaults.selectedSwitchModel.inter_link.capacity.bandwidth));

                $scope.defaults.islInfo.count = $scope.defaults.islLinkCapacity.count;
                
            }
        }, true);
        
        $scope.$watch('defaults.islLinkCapacity', function (newvalue, oldvalue) {
            if (newvalue && newvalue != '') {
                $scope.defaults.islInfo.bandwidth = $scope.defaults.islLinkCapacity.bandwidth;
                $scope.defaults.islInfo.physicalType = $scope.defaults.islLinkCapacity.physical_type;
                $scope.defaults.islInfo.count = $scope.defaults.islLinkCapacity.count;
            }
        });

        $scope.save_filter_type = function(filter_type){
            var obj = fabricService.getData();
            var data = 
            {
                'data' : obj,
                'filter_key':filter_type,
                'type':'rack'
            }
            var config = {
                headers: {
                    'Content-Type': 'application/json'
                }
            }
            $http.post('rest/design/fabric/genericFabric/filter_defaults/', data, config)
                .then(function (res, status, headers, config) {
                    if (res && res.data) {
                        var networks = angular.copy(res.data.networkDefaults);
                        var editableNetworks = [];
                        $scope.defaults.switchDefaults = angular.copy(res.data.switchDefaults);
                        
                        angular.forEach($scope.defaults.switchDefaults, function (item) {
                            if (item.device_type == $scope.defaults.selectedSwitchModel.device_type)
                                $scope.defaults.selectedSwitchModel = item;
                        });
                        
                        $scope.defaults.islLinkCapacity = $scope.defaults.selectedSwitchModel.isl_link.capacity[0];

                        $scope.defaults.upLinkInfo.bandwidth = $scope.defaults.selectedSwitchModel.inter_link.capacity.bandwidth;
                        $scope.defaults.upLinkInfo.count = $scope.defaults.selectedSwitchModel.inter_link.count;
                        $scope.defaults.upLinkInfo.overAllBandwidth = ($scope.defaults.selectedSwitchModel.inter_link.count * Number($scope.defaults.selectedSwitchModel.inter_link.capacity.bandwidth));
        
                        $scope.defaults.islInfo.count = $scope.defaults.islLinkCapacity.count;
                        
                       spinnerOverlay.stop();	 // Stop loading...
                    }
                }
                , function (data, status, header, config) {
                    spinnerOverlay.stop(); // Stop loading...
                });		
            }        

    }]);
angular
    .module(APP_NAME)
    .directive('rackDetails', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'rackDetailsController',
            scope: {
                defaults: '=inputModel',
            },
            templateUrl: 'fabric/design/input/rack/rackDetailsTmpl.html',
            link: function ($scope, element, attrs, ctrl) {
                $scope.networkFabricRackForm = $scope.$parent.networkFabricRackForm;
            }
        };
    });
angular
    .module(APP_NAME)
    .controller('rackClusterController', ["$scope",function ($scope) {
        /** creating a form object  in this scope by refering its parent form object for validation*/
        $scope.networkFabricRackForm = $scope.$parent.networkFabricRackForm;
      }]);
angular
    .module(APP_NAME)
    .directive('rackCluster', function () {
        return {
            restrict: 'E',
            replace: true,
            transclude: true,
            controller: 'fabricRacksController',
            scope: {
                clusters: '=inputModel',
            },
            templateUrl: 'fabric/design/input/rack/rackClusterTmpl.html',
            link: function (scope, element, attrs, ctrl) {

            }
        };
    });
angular
    .module(APP_NAME)
    .service('rackService', ['$http', 'fabricService', '$q','$uibModal','dlcuiConfirmDialog', 'spinnerOverlay', 'fabricInputService', '$translate', '$rootScope','$timeout',
        function ($http, fabricService,$q,$uibModal, dlcuiConfirmDialog, spinnerOverlay, fabricInputService, $translate, $rootScope,$timeout) {
            var config = {
                headers: {
                    'Content-Type': 'application/json'
                }
            },
                self = this;
            this.addRack = function (options) {
                var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			    }; 
                var addRackURL = "/rest/design/fabric/edit/addRack/";
                if (options) {
                    options.data = fabricService.getData();
                    options.view = fabricService.getFabricId();
                }
                return $http.post(addRackURL, options, config);
            }
            /* edit Rack Details*/
			this.showWarningModal= function (options) {
                var defered = $q.defer();
                scope = $rootScope
                scope.options = options
                var NodeIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/editRackSupportedSwitchWarning.html',
                    controller: 'fabricRacksController',
                    size: 'lg',
                    resolve: {
						items: function () {
                            return scope                                                
						}
                    }
                });
				NodeIns.result.then(function (clickedAction) { 
                        console.log(clickedAction)
                        defered.resolve(clickedAction)
                });
                return defered.promise;

            }
            
            this.editRack = function (options) {
                var config = {
                   headers : {
                       'AcceptMethod': 'write'
                   }
               }; 
               var editRackURL = "/rest/design/rack/edit/";
               if (options) {
                   options.data = fabricService.getData();
               }
               return $http.post(editRackURL, options, config);
           }
            
            this.validateRack = function (options) {               
                var data = {
                    data:options.data,
                    rackinput:options.rackInput
                }
             return $http.post('/rest/design/rack/validate_editrack/', data)
            }
            this.validateNewRackswitch = function(data,clusterType)
            {
                var data = 
                {
                    data: data,
                    clusterType: clusterType
                }
                return $http.post('/rest/design/rack/validate_newrackswitch/', data)
            }
            this.validateRecommendedswitch = function(data,cluster_input,rack_ids)
            {
                if (cluster_input.clusterType == "HCI_POWERFLEX_Appliance")
                {
                var data = 
                {
                    data: data,
                    cluster_input: cluster_input,
                    rack_ids : rack_ids
                }
                return $http.post('/rest/design/rack/validate_recommendedswitch/', data)
                }
            }

            this.validateFabricswitch = function(data,leafSwitchModel)
            {
                var data = 
                {
                    data: data,
                    leafSwitchModel : leafSwitchModel
                }
                return $http.post('/rest/design/rack/validate_fabricswitch/', data)
            }

            this.getRack = function (options) {
                var getRackURL = "/rest/design/fabric/edit/getRack/";
                if (options) {
                    options.data = fabricService.getData();
                }
                return $http.post(getRackURL, options, config);
            }
            this.getRacks = function (options) {
                var getRacksURL = "/rest/design/fabric/edit/getRacks/";
                if (options) {
                    options.data = fabricService.getData();
                    //options.view = fabricService.getFabricId();
                }
                return $http.post(getRacksURL, options, config);
            }
            /*Delete Rack function for each Rack Deleted in a Table*/
            this.deleteRack = function (options) {
                var rackIDs = [];
                rackIDs.push(options.rackId);
                deleteSeleted({
                    idKey: 'rack_ids',
                    id: rackIDs,
                    url: '/rest/design/deleteracks/',
                    success: options.success
                });
            };
            this.deleteCluster = function (options) {
                var clusterIDs = [];
                clusterIDs.push(options.clusterId);
                deleteSeleted({
                    idKey: 'cluster_ids',
                    id: clusterIDs,
                    url: '/rest/design/deleteclusters/',
                    success: options.success
                });
            };

            function deleteSeleted(options) {
				var defered = $q.defer();
				scope = $rootScope
				//scope.options = options
				var confirmDialog = $uibModal.open({
					animation: false,
					backdrop: false,
					ariaLabelledBy: 'modal-title',
					ariaDescribedBy: 'modal-body',
					templateUrl: 'fabric/design/output/deleteModal.html',
                    controller: 'logicalViewCtrl',
                    size: 'sm',
                    windowClass: "center-modal",
                    resolve: {
						items: function () {
							return scope                                                
						}
					}
                });
                $timeout(function(){
					var id = document.getElementsByName("warning_delete_Ok")
					var element = angular.element(id);
					element[0].focus();
				}, 2000);
				confirmDialog.result.then(function (clickedAction) { 
                    if(clickedAction == 'ok')
					{
						deleteConfirm(options);
						//return 1;
					}                    

					defered.resolve(clickedAction)
			});
            return defered.promise;
            }
            function deleteSeleted1(options) {
                var confirmDialog = dlcuiConfirmDialog({
                    icon: 'warning',
                    title: $translate.instant('general.delete'),
                    message: $translate.instant('general.deleteWarning')
                });
                $timeout(function(){
					var id = document.getElementsByClassName("dlcui-button dlcui-primary")
                    var element = angular.element(id);
                    console.log(element)
					element[-1].focus();
				}, 2000);
                confirmDialog().then(function () {
                    deleteConfirm(options);
                }, function () {

                });
            }
            function deleteConfirm(options) {
                var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			    }; 
                obj = {
                    data: fabricService.getData(),
                    view: fabricService.getFabricId()
                };
                obj[options.idKey] = options.id;
                spinnerOverlay.start();
                $http.post(options.url, obj, config).then(function (racks, status, headers, config) {
                    options.success(racks);
                },
                    function (error, status, header, config) {
                        if (error.status == 400 || error.status == 500) {
                            spinnerOverlay.stop();
                            fabricInputService.displayToaster('error', 'Delete', error.data.detail);
                        }
                    }, function () {

                    });
            }
            this.rackDataLost = false;
            /* get Rack Defaults*/
            this.getRackDefaults = function (network) {
                var obj = fabricService.getData();
                return $http.post('/rest/design/fabric/rack/defaults/', obj, config);
            }
           this.getRacksDetails = function (clusterId) {
                var obj = {};
                obj.clusterId=clusterId;
                obj.data=fabricService.getData();
                return $http.post('/rest/design/fabric/edit/getRackDetails/', obj, config);
            }
            this.getRacksClusterDetails = function (clusterId,rackId,nodeId) {
                var obj = {};
                obj.clusterId = clusterId;
                obj.rackId = rackId;
                obj.nodeId = nodeId;
                obj.data=fabricService.getData();
                obj.view = fabricService.getFabricId();
                return $http.post('/rest/design/getRackdata/', obj, config);
            }
            this.getRacksStretchClusterDetails = function (clusterId,rackId) {
                var obj = {};
                obj.clusterId = clusterId;
                obj.rackId = rackId
                obj.data=fabricService.getData();
                obj.view = fabricService.getFabricId();
                return $http.post('/rest/design/getRacksStretchClusterDetails/', obj, config);
            }
            this.getGenericRackDefaults = function (network) {
                var fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				data = {
					'data':fabricdata,
					'view':view_id//bm.viewmodel.selectedView
				}
                
                return $http.post('/rest/design/fabric/rack/generic/defaults/', data, config);
            }

            /** */
            this.editRackFn = function (row, rackCount) {
                spinnerOverlay.start();
                /* get Rack Defaults*/
                if (rackCount) {
                    this.getGenericRackDefaults().then(function (rackdefaults) {
                        openRackModal(rackdefaults.data, 'Add', rackCount);
                    }, function () {
                        spinnerOverlay.stop();
                    })

                } else {
                    this.getRackDefaults().then(function (rackdefaults) {
                        var options = {};
                        if (row && row.name)
                            options.rack_name = row.name;
                        if (row && row.rackName)
                            options.rack_name = row.rackName;
                        /* get rack Details by Rack name and set it*/
                        self.getRack(options).then(function (rack, status, headers, config) {
                            var dest = {};
                            angular.merge(dest, rackdefaults.data, rack.data);
                            /*open Edit Rack Modal Dialog*/
                            openRackModal(dest, 'Edit')
                        });

                    }, function () {
                        spinnerOverlay.stop();
                    })
                }

            }
            /** Code for Opening Rack Modal*/
            function openRackModal(data, mode, rackCount) {
                var newScope = $rootScope.$new();
                newScope.controller = 'fabricRacksController';
                newScope.template = 'fabric/design/input/rack/networkFabricRackModal.html';
                var modalScope = fabricInputService.openModal(newScope,"fdc_rackName","fdc_network_fabric_rack_input_cancel");
                modalScope.racktitle = mode + " Rack";
                data.dialogMode = mode;
                modalScope.dialogMode = mode;
                modalScope.networkFabricRackForm = {};
                if (mode == "Edit") {
                    editRackSettings(data, function () { modalScope.rackDefaults = angular.copy(data) });
                } else {
                    data.rackName = "Rack-" + (rackCount + 1);
                    editRackSettings(data, function () { modalScope.rackDefaults = angular.copy(data) });
                }
                spinnerOverlay.stop();
            }
            function editRackSettings(defaults, callback) {
                angular.forEach(defaults.switchDefaults, function (switchModel) {
                    if (switchModel.device_type == defaults.switchModel) {
                        defaults.selectedSwitchModel = switchModel;

                        // Set tor connection model
                        switchModel.inter_link.capacity.bandwidth = defaults.upLinkInfo.bandwidth;
                        switchModel.inter_link.count = defaults.upLinkInfo.count;
                        switchModel.isl_link.count = defaults.islInfo.count;

                        angular.forEach(switchModel.isl_link.capacity, function (obj) {
                            if (obj.bandwidth == defaults.islInfo.bandwidth) {
                                defaults.islLinkCapacity = obj;
                            }
                        })

                        defaults.islLinkCapacity.count = defaults.islInfo.count;

                    }
                });

                callback && callback();
            };
        }]);
angular
	.module(APP_NAME)
	.controller('fabricInputCtrl', ['$scope', '$rootScope', '$state', 'dlcuiModal', 'dlcuiAlertDialog', 'dlcuiConfirmDialog', '$translate', '$http', '$cookies', 'spinnerOverlay',
		'fabricService', '$transitions', '$q', '$timeout', 'fabricInputService', '$stateParams', 'toaster', 'FileUploader', 'helpMapping',
		function ($scope, $rootScope, $state, dlcuiModal, dlcuiAlertDialog, dlcuiConfirmDialog, $translate, $http, $cookies, spinnerOverlay,
			fabricService, $transitions, $q, $timeout, fabricInputService, $stateParams, toaster, FileUploader, helpMapping) {


			$rootScope.clusterInputAdded = false;

			$scope.fabricInputParams = $stateParams.networkFabric;

			fabricService.inFabricOutput = false;

			$scope.clusterVlanId = {
				val: 1
			};

			$scope.fabricInputs = {
				"name": ($scope.fabricInputParams.name.length)>9 || $scope.fabricInputParams.fabricInputs.type=='NVMeTCPSupport'?$scope.fabricInputParams.name:$scope.fabricInputParams.name + "-fabric",
				"type": $scope.fabricInputParams.fabricInputs.type,
				"description": "test",
				"enableSingleRackDeployment":false,
				"version": "",
				"clusterInputs": {},
				"ip_san_topology":"Converged",
				"deploymentType":"Enterprise SONiC Fabric"
			};
			//	 $scope.fabricInputs.clusterInputs=new Array();
			$scope.fabricInputs.versionlist = {};
			$scope.fabricInputs.versionlist.vxrail = ["4.5", "4.7","7.0","8.0"];
			$scope.fabricInputs.versionlist.vsanreadynodes = ["6.5", "6.6","7.0"];
			//	$scope.fabricInputs.versionlist.genericcompute=["6.5","6.6"];
			// For help  page setup
			$scope.help = {
				solution: '',
				ref: helpMapping.refArchitecture
			}
			$('[name="fdc_network_fabric_name"]').focus();

			// Menu text update
			$rootScope.menuOptions.pageLabel = $stateParams.networkFabric.label;
			$rootScope.menuOptions.notInHome = true;

			$scope.title = $stateParams.networkFabric.label;
			$scope.controller = $stateParams.networkFabric.fabricInputs.clusterCtrl;
			$scope.template = $stateParams.networkFabric.fabricInputs.clusterModal;

			spinnerOverlay.start();
			$scope.getDefaultCluster = function (url, clearClusters) {

				fabricInputService.getDefaults(url)
					.then(function (res) {
						$scope.fabricInputs.clusterDefaults = res.data;
						spinnerOverlay.stop();
						$scope.help.solution = $scope.fabricInputParams.name.toLowerCase();
						$scope.clusterTypeLength = Object.keys($scope.fabricInputs.clusterDefaults).length;
						/*By default 'enableSingleRackDeployment' is set to false for other solutions except Unity storage*/
						$scope.fabricInputs.enableSingleRackDeployment=angular.copy($scope.fabricInputs.enableSingleRackDeployment);
						if($scope.fabricInputs.clusterDefaults.compute.type == 'UNITY_STORAGE')
						  $scope.fabricInputs.enableSingleRackDeployment=true;
						if($scope.fabricInputs.type == "NVMeTCPSupport" && $scope.fabricInputs.deploymentType == "OS10 Fabric")
						  $scope.fabricInputs.enableSingleRackDeployment=true;
						/*if($scope.fabricInputs.clusterDefaults.compute.type == 'POWERSTORE_STORAGE'){
                             $scope.fabricInputs.enableSingleRackDeployment=true;							
						}*/
							
						var dummymodel;
						angular.forEach($scope.fabricInputs.clusterDefaults, function (val, key) {
							dummymodel = $scope.fabricInputs.clusterInputs[key];
							if (clearClusters || !dummymodel) {
								$scope.fabricInputs.clusterInputs[key] = [];
								// reset cluster & vlan count
								fabricInputService.clusterCount[$scope.fabricInputParams.fabricInputs.type] = 1;
								fabricInputService.vLANcount = 1;
							} else {
								$scope.fabricInputs.clusterInputs[key] = dummymodel;
							}
						});
					},
						function () {
							spinnerOverlay.stop();
							fabricInputService.displayToaster('error', 'Cluster defaults', 'Could not get cluster defaults');
						});
			}
			if ($scope.fabricInputParams.fabricInputs.type == "GENERIC_COMPUTE") {
				/**Set version as 6.5 by default */
				//	$scope.fabricInputs.version="6.6";	
				$scope.fabricInputs.name = "fabric1";
			}
			if($scope.fabricInputParams.fabricInputs.type =="HCI_POWERFLEX_Appliance")
			{
				$scope.fabricInputs.name = "powerflexapp"	
			}
			if ($scope.fabricInputParams.fabricInputs.type == "HCI_VXRAIL" ||$scope.fabricInputParams.fabricInputs.type == "HCI_NSX_VXRAIL") {
				$scope.fabricInputs.version = "7.0";
			}
			if ($scope.fabricInputParams.fabricInputs.type == "HCI_VSANREADY") {
				$scope.fabricInputs.version = "7.0";
			}
			function isClustersExists() {
				var isClusterAdded = false;
				angular.forEach($scope.fabricInputs.clusterInputs, function (item, key) {
					if ($scope.fabricInputs.clusterInputs[key].length) {
						isClusterAdded = true;
					}
				});
				return isClusterAdded
			}
			$scope.$watch('fabricInputs.ip_san_topology', function (newvalue, oldvalue) {
				if(newvalue!=oldvalue)
				{
					angular.forEach($scope.fabricInputs.clusterInputs, function (item, key) {
						if ($scope.fabricInputs.clusterInputs[key].length) {
							angular.forEach($scope.fabricInputs.clusterInputs[key],function(cluster)
							{
								cluster.ip_san_topology = newvalue;
							})
						}
					});
				}
			});
			$scope.$watch('fabricInputs.deploymentType', function (newvalue, oldvalue) {
				if(newvalue!=oldvalue)
				{
					if($scope.fabricInputs.type=="NVMeTCPSupport")
					{
						if(newvalue=='Enterprise SONiC Fabric')
							$scope.fabricInputs.enableSingleRackDeployment = false
						else
							$scope.fabricInputs.enableSingleRackDeployment = true
					}
				}
			});
			$scope.$watch('fabricInputs.version', function (newvalue, oldvalue) {
				var currVal = newvalue;
				//$scope.fabricVersion = newvalue;
				var confirmDialog = dlcuiConfirmDialog({
					icon: 'warning',
					title: $translate.instant('general.delete'),
					message: 'Cluster Data will be lost. ' + $translate.instant('general.deleteWarning')
				});
				if (newvalue != "") newvalue = newvalue + "/";
				var clearClusterTable = true;
				if (Number(currVal) < Number(oldvalue)) {
					clearClusterTable = true;
					if (isClustersExists()) {
						confirmDialog().then(function () {
							$scope.getDefaultCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue, clearClusterTable)
						}, function () {
							$scope.getDefaultCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue, false);
							$scope.fabricInputs.version = oldvalue;
						});
					} else {
						$scope.getDefaultCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue, false);
					}
				} else {
					clearClusterTable = false;
					$scope.getDefaultCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue, clearClusterTable)
				}



			});
			
			$scope.openClusterModal = function (defaults, clusterType) {
				alertType = [];
				if(defaults.type == 'HCI_NSX_VXRAIL' && clusterType == 'compute' && $scope.fabricInputs.clusterInputs['management'].length<1)
				{
					addedClusterType = 0
					var alertDialog = dlcuiAlertDialog({
						message: $translate.instant('fabricInput.pleaseAdd') + ' management '+ $translate.instant('fabricInput.addClusterDetailsMsg')
					});
					alertDialog().then(function () {

					});
				}
				else if($scope.fabricInputs.type=="NVMeTCPSupport" && clusterType == 'compute' && $scope.fabricInputs.clusterInputs['storage'].length<1)
				{
					addedClusterType = 0
					var alertDialog = dlcuiAlertDialog({
						message: $translate.instant('fabricInput.pleaseAdd') + ' storage '+ $translate.instant('fabricInput.addClusterDetailsMsg')
					});
					alertDialog().then(function () {
					});
				}
				else if(defaults.type == 'HCI_NSX_VXRAIL' && clusterType == 'compute')
				{
					defaults.clusterVlans.hostoverlay.vlanId = $scope.fabricInputs.clusterInputs['management'][0].clusterVlans.hostoverlay.vlanId
				}
				else if($scope.fabricInputs.type == "NVMeTCPSupport")
				{
					defaults.ip_san_topology = $scope.fabricInputs.ip_san_topology
				}
				else if($scope.fabricInputs.type != "NVMeTCPSupport")
				{
					$scope.fabricInputs.ip_san_topology = null
					defaults.ip_san_topology = null
				}
				fabricInputService.openCluster($scope, defaults, clusterType);
			};

			$scope.clusterDataLost = false;

			$transitions.onStart({}, function ($transition) {
				if (!$stateParams.networkFabric || ($transition.$from().name == 'fabricOutput' && $transition.$to().name == 'fabricInput')) {
					$state.go('networkFabric');
				}

				if ($transition.$to().name == 'networkFabric') {
					fabricInputService.clusterCountReset();
					fabricInputService.vLANcount = 1; 	// Reset vLAN count
				}

				var alertDialog = dlcuiConfirmDialog({
					title: $translate.instant('general.confirm'),
					message: $translate.instant('general.unsavedMessage')
				});
				var isClusterAdded = false;

				angular.forEach($scope.fabricInputs.clusterInputs, function (item, key) {
					if ($scope.fabricInputs.clusterInputs[key].length) {
						isClusterAdded = true;
					}
				});
				if (isClusterAdded && !$scope.clusterDataLost) {
					var defered = $q.defer();

					alertDialog().then(function () {
						//$scope.clusterDataLost = true;
						$rootScope.clusterInputAdded = false;
						fabricService.removeData();
						defered.resolve();
						$scope.fabricInputs.clusterInputs = {};
						$scope.clusterDataLost = false;
						isClusterAdded = false;
						$state.go($transition.$to().name);
					}, function () {
						$scope.clusterDataLost = false;
						isClusterAdded = false;
						defered.reject('Cluster data will be lost');
					});

					return defered.promise;
				}


			});
			$scope.edit = function (_index, defaults, clusterType) {
				if($scope.fabricInputParams.fabricInputs.type =="POWERSTORE_STORAGE"){
					var depoymentModel=$scope.fabricInputs.clusterInputs[clusterType][_index].deploymentModel;
					var url=(depoymentModel=='PowerStore T/Q models')?'/rest/design/fabric/powerstore/defaults/':'/rest/design/fabric/powerstore/defaultsx/';
					fabricInputService.getDefaults(url)
						.then(function (res) {
							if(res && res.data && res.data.compute){
							fabricInputService.editCluster($scope, _index, res.data.compute, clusterType);
							//spinnerOverlay.stop();
							}

						},
							function () {
								//spinnerOverlay.stop();
							});	
					}
					else if($scope.fabricInputParams.fabricInputs.type =="NVMeTCPSupport"){
						if(clusterType=='storage')
						{
						var depoymentModel=$scope.fabricInputs.clusterInputs[clusterType][_index].deploymentModel;					
						var url=(depoymentModel=='PowerStore T/Q models')?'/rest/design/fabric/nvme/defaults/':'/rest/design/fabric/nvme/defaultsx/';
						fabricInputService.getDefaults(url)
							.then(function (res) {
								if(res && res.data && res.data.storage){
								fabricInputService.editCluster($scope, _index, res.data.storage, clusterType);
								//spinnerOverlay.stop();
								}
	
							},
								function () {
									//spinnerOverlay.stop();
								});	
						}
						else
							fabricInputService.editCluster($scope, _index, defaults, clusterType);
					}
					else{
                      fabricInputService.editCluster($scope, _index, defaults, clusterType);
					}
				
			};

			// Select and delete clusters
			function getSelectedItems(clusterType) {
				var selectedItems = [];
				angular.forEach($scope.fabricInputs.clusterInputs[clusterType], function (item) {
					if (item.isSelected) {
						selectedItems.push(item);
					}
				});
				return selectedItems;
			};
			$scope.toggleSingleRackDeployment=function(){
			 $scope.fabricInputs.enableSingleRackDeployment=!$scope.fabricInputs.enableSingleRackDeployment;	
			}
			$scope.toggleAll = function (defaults, clusterType) {
				var toggleStatus = defaults.isAllSelected;
				angular.forEach($scope.fabricInputs.clusterInputs[clusterType], function (item) { item.isSelected = toggleStatus; });
			};
			$scope.optionToggled = function (defaults, clusterType) {
				defaults.isAllSelected = $scope.fabricInputs.clusterInputs[clusterType].every(function (item) { return item.isSelected; })
			};

			$scope.delete = function (defaults, clusterType) {

				var selectedItems = getSelectedItems(clusterType);
				var alertDialog = dlcuiAlertDialog({
					message: $translate.instant('general.selectToDelete')
				});

				var confirmDialog = dlcuiConfirmDialog({
					icon: 'warning',
					title: $translate.instant('general.delete'),
					message: $translate.instant('general.deleteWarning')
				});

				if (selectedItems.length == 0) {

					alertDialog().then(function () {

					});

				} else {

					$scope.status = '';
					confirmDialog().then(function () {


						$scope.fabricInputs.clusterInputs[clusterType].remove(selectedItems, true);
						fabricInputService.displayToaster('success', 'Delete Cluster', selectedItems.length + ' Cluster(s) deleted successfully');
						angular.forEach($scope.fabricInputs.clusterInputs[clusterType], function (item) {
							if (item.isSelected) {
								item.isSelected = false;
							}
						});

						if (!$scope.fabricInputs.clusterInputs[clusterType].length) {
							$rootScope.clusterInputAdded = false;
						}

						defaults.isAllSelected = false;

					}, function () {
						defaults.isAllSelected = false;
						angular.forEach($scope.fabricInputs.clusterInputs[clusterType], function (item) {
							if (item.isSelected) {
								item.isSelected = false;
							}
						});
					});
				}

			};

			// Next action after adding clusters
			$scope.getRecommendation = function () {

				var config = {
					headers: {
						'AcceptMethod':'write'
					}
				},            
				
					data = angular.copy($scope.fabricInputs);
				if ($scope.fabricInputParams.fabricInputs.type == "HCI_VXRAIL"||$scope.fabricInputParams.fabricInputs.type == "HCI_NSX_VXRAIL" || $scope.fabricInputParams.fabricInputs.type == "HCI_VSANREADY" ) {
					
				} else {
					delete data.version;
				}
				var clusterArray = [];
				delete data.clusterDefaults;
				/*angular.forEach(data.clusterInputs, function (cluster) {
					clusterArray.push(cluster);
				});
				data.clusterInputs = clusterArray;*/
				if ($scope.fabricInputParams.fabricInputs.type == "ISILON_BACKEND_STORAGE") {
					fabricService.storeDesignType('Turnkey-Backend');					
				}
				else if ($scope.fabricInputParams.fabricInputs.type == "NVMe_BACKEND_STORAGE") {
					fabricService.storeDesignType('NVMe-Backend');					
				}
				else
				{
					fabricService.storeDesignType('Turnkey');					
				}
				var sendFabricURL = $scope.fabricInputParams.fabricInputs.sendFabric;
                /* Need to add  this code when version based fabric is created
				if($scope.fabricInputs.version && $scope.fabricInputs.version!="")
                      sendFabricURL=$scope.fabricInputParams.fabricInputs.sendFabric+$scope.fabricInputs.version+"/";
					  */
				if ($scope.fdc_fabric_form.$valid) {
					var addedClusterType = 0,
						noOfClusters = 0,
						alertType = [];

					angular.forEach($scope.fabricInputs.clusterInputs, function (item, key) {
						//noOfClusters++;
						if ($scope.fabricInputs.clusterInputs[key].length) {
							addedClusterType++;
						} else {
							alertType.push(key)
						}
					});
					if($scope.fabricInputParams.fabricInputs.type == "HCI_NSX_VXRAIL"){
						if($scope.fabricInputs.clusterInputs['management'].length<1)
						{
							addedClusterType = 0
							var alertDialog = dlcuiAlertDialog({
								message: $translate.instant('fabricInput.pleaseAdd') + ($scope.clusterTypeLength > 1 ? ' ' + alertType.join(' and ') + ' ' : ' ') + $translate.instant('fabricInput.addClusterDetailsMsg')
							});
							alertDialog().then(function () {

							});
						}
						else if($scope.fabricInputs.clusterInputs['compute'].length<1)
						{
							addedClusterType = 0 
							var alertDialog = dlcuiAlertDialog({
								message: $translate.instant('fabricInput.pleaseAdd') + ($scope.clusterTypeLength > 1 ? ' ' + alertType.join(' and ') + ' ' : ' ') + $translate.instant('fabricInput.addClusterDetailsMsg')
							});
							alertDialog().then(function () {
	
							});
						}
						else
						{
							host_overlay_vlanid = $scope.fabricInputs.clusterInputs['management'][0].clusterVlans.hostoverlay.vlanId
							angular.forEach($scope.fabricInputs.clusterInputs['compute'],function(cluster_input)
							{
								if(cluster_input.clusterVlans.hostoverlay.vlanId != host_overlay_vlanid)
								{
									addedClusterType = 0 
									var alertDialog = dlcuiConfirmDialog({
										icon: 'warning',
										title: 'Warning',
										message: 'HostOverlay Vlan Id in edge and compute are not same.Do you want to proceed?'
									});
									alertDialog().then(function () {
										spinnerOverlay.start();

										$http.post(sendFabricURL, data, config)
											.then(function (fabricdata, status, headers, config) {
												$scope.clusterDataLost = true;
												$rootScope.clusterInputAdded = false;
												fabricService.removeFabricId();
												//$rootScope.$broadcast('tab-logicalview');
												$rootScope.supported_tabs = $scope.fabricInputParams.fabricInputs.supported_tabs
												$state.go('fabricOutput', { networkFabric: $scope.fabricInputParams });
											}, function (clustererrror, status, header, config) {
												spinnerOverlay.stop();
												if (clustererrror.status == 500){
													fabricInputService.displayToaster('error', 'Fabric Creation', clustererrror.data.detail)
												}
											});
									},function () {
										addedClusterType = 0 			
									
									});
								}
							});
						}
					}
					if (addedClusterType) {
						spinnerOverlay.start();
						fabricService.storeDeploymentType("OS10 Fabric");
						fabricService.storeIRBType("Symmetric");
						//$http.post("/rest/design/get_deployment_IrbType/",response).then(function (res) {
							$http.post(sendFabricURL, data, config)
							.then(function (fabricdata, status, headers, config) {
								$scope.clusterDataLost = true;
								$rootScope.clusterInputAdded = false;
								fabricService.removeFabricId();
								//$rootScope.$broadcast('tab-logicalview');
								$rootScope.supported_tabs = $scope.fabricInputParams.fabricInputs.supported_tabs
								$state.go('fabricOutput', { networkFabric: $scope.fabricInputParams});
							}, function (clustererrror, status, header, config) {
								spinnerOverlay.stop();
								if (clustererrror.status == 500){
									fabricInputService.displayToaster('error', 'Fabric Creation', clustererrror.data.detail)
								}
							});
						//});

					} else {
						var alertDialog = dlcuiAlertDialog({
							message: $translate.instant('fabricInput.pleaseAdd') + ($scope.clusterTypeLength > 1 ? ' ' + alertType.join(' or ') + ' ' : ' ') + $translate.instant('fabricInput.addClusterDetailsMsg')
						});
						alertDialog().then(function () {

						});
					}
				} else {
					$('[name="fdc_network_fabric_name"]').focus();
				}
			};

			/* Import PEQ JSON */
			var PEQuploader = $scope.uploader = new FileUploader({
				url: "rest/design/fabric/vxrail/importPEQ/",
				queueLimit: 1,
				autoUpload: true,
				removeAfterUpload: true,
				headers: {
					'AcceptMethod' : 'write',
					'Accept':'application/json'
				}
			});
	
			FileUploader.FileSelect.prototype.isEmptyAfterSelection = function () {
				return true;
			};
	
			// FILTERS
			PEQuploader.filters.push({
				name: 'customFilter',
				fn: function (item /*{File|FileLikeObject}*/, options) {
					return this.queue.length < 10;
				}
			});
	
			// CALLBACKS
			PEQuploader.onWhenAddingFileFailed = function (item, filter, options) {
				if (filter.name == "queueLimit") {
					uploader.clearQueue();
					uploader.addToQueue(item);
				}
			}
			PEQuploader.onAfterAddingFile = function (fileItem) {
				//uploader.fileAdded = true;
				fileItem.file.name
				spinnerOverlay.start();
				// console.info('onAfterAddingFile', fileItem);
			};
	
			PEQuploader.onSuccessItem = function (fileItem, response, status, headers) {
				//console.info('onSuccessItem', fileItem, response, status, headers);
			};
			PEQuploader.onErrorItem = function (fileItem, response, status, headers) {
				// console.info('onErrorItem', fileItem, response, status, headers);
			};
			$scope.importPEQ = function(defaults, clusterType, PEQobj) {
				PEQuploader.formData = [{version: $scope.fabricInputs.version}],
				PEQobj.onCompleteItem = function (fileItem, response, status, headers) {
					if (status != 200) {
						fabricInputService.displayToaster('error', 'Error', response.detail);
						spinnerOverlay.stop();
					} else {
						spinnerOverlay.stop();
						if(angular.isArray(response))
						{
							angular.forEach(response,function (res) {	
								fabricInputService.addUniversalCluster($scope, defaults, clusterType, res);
							});
						}
						else
						{
							fabricInputService.addUniversalCluster($scope, defaults, clusterType, response);
							//fabricInputService.openCluster($scope, defaults, clusterType, response);					
						}
					}
				};
			}
			


		}]);

angular
	.module(APP_NAME)
	.controller('mxfabricInputCtrl', ['$scope', '$rootScope', '$state', 'dlcuiModal', 'dlcuiAlertDialog', 'dlcuiConfirmDialog', '$translate', '$http', '$cookies', 'spinnerOverlay',
		'fabricService', '$transitions', '$q', '$timeout', 'fabricInputService', '$stateParams', 'toaster', 'FileUploader', 'helpMapping',
		function ($scope, $rootScope, $state, dlcuiModal, dlcuiAlertDialog, dlcuiConfirmDialog, $translate, $http, $cookies, spinnerOverlay,
			fabricService, $transitions, $q, $timeout, fabricInputService, $stateParams, toaster, FileUploader, helpMapping) {


			$rootScope.clusterInputAdded = false;

			$scope.fabricInputParams = $stateParams.networkFabric;

			fabricService.inFabricOutput = false;

			$scope.clusterVlanId = {
				val: 1
			};
			$scope.$on("callworkload",function(event,item){
				$scope.fabricInputs.mxFabricClusterInputs.push(item);
			})

			$scope.fabricInputs = {
				"name": ($scope.fabricInputParams && $scope.fabricInputParams.name)?$scope.fabricInputParams.name + "-fabric":"",
				"description": "test",
				"fabricArchitectureType": "",
				"enableSinglePodDeployment":false,
				"mxFabricClusterInputs":[]
			};
			$('[name="fdc_network_fabric_name"]').focus();

			$scope.allItems={},
			$scope.fabricInputs.fabricArchitectureType='ScalableFabric with SmartFabric Mode';
			$scope.fabricInputs.mxfabrictype = {};
			$scope.fabricInputs.mxfabrictype.fabriclist = ['ScalableFabric with SmartFabric Mode','ScalableFabric without SmartFabric Mode','Full Switch Mode'];
			// For help  page setup
			$scope.help = {
				solution: '',
				ref: helpMapping.refArchitecture
			}
			// Menu text update
			$rootScope.menuOptions.pageLabel = $stateParams.networkFabric.label;
			$rootScope.menuOptions.notInHome = true;

			$scope.title = $stateParams.networkFabric.label;
			$scope.controller = $stateParams.networkFabric.fabricInputs.clusterCtrl;
			$scope.template = $stateParams.networkFabric.fabricInputs.clusterModal;
			$scope.getDefaultChassisCluster = function (url) {
				fabricInputService.getDefaults(url)
					.then(function (res) {
						$scope.fabricInputs.clusterChassisDefaults = res.data;
						spinnerOverlay.stop();
						$scope.help.solution = 'mxchassis';
						/*fabricInputService.clusterCount['POD'] = 1;
						fabricInputService.vLANcount = 1;*/
					},
						function () {
							spinnerOverlay.stop();
							fabricInputService.displayToaster('error', 'MXFabric defaults', 'Could not get MXFabric defaults');
						});
			}
			
			function isClustersExists() {
				var isClusterAdded = false;
				if ($scope.fabricInputs.mxFabricClusterInputs.length) {
					isClusterAdded = true;
				}
				return isClusterAdded
			}
			
			$scope.$watch('fabricInputs.fabricArchitectureType', function (newvalue, oldvalue) {
				var confirmDialog = dlcuiConfirmDialog({
					icon: 'warning',
					title: $translate.instant('general.delete'),
					message: 'Fabric Data will be lost. ' + $translate.instant('general.deleteWarning')
				});
				if (newvalue!=oldvalue) {
					if (newvalue == 'ScalableFabric with SmartFabric Mode')
						newvalue = "/scalable_with_sfs";
					else if(newvalue == 'Full Switch Mode') 
						newvalue = "/standalone";
					if (newvalue != "") newvalue += "/";
					if (isClustersExists()) {
						confirmDialog().then(function () {
							$scope.fabricInputs.mxFabricClusterInputs = [];
							$scope.getDefaultChassisCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue)
						}, function () {
							//$scope.getDefaultChassisCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue)
							$scope.fabricInputs.fabricArchitectureType = oldvalue;
						});
					} else {
						$scope.getDefaultChassisCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue);						
					}
				} else {
					if (newvalue == 'ScalableFabric with SmartFabric Mode')
						newvalue = "/scalable_with_sfs";
					else if(newvalue == 'Full Switch Mode') 
						newvalue = "/standalone";					
					if (newvalue != "") newvalue += "/";
					$scope.getDefaultChassisCluster($scope.fabricInputParams.fabricInputs.defaults + newvalue)
				}
			});
			if ($scope.fabricInputParams.fabricInputs.type == "MX_CHASSIS") {
				$scope.fabricInputs.name = "Mx";
			}

			$scope.openClusterChassisModal = function (defaults, clusterChassisType) {
				fabricInputService.openChassisInputModal($scope, defaults, clusterChassisType,null,"ADD");
			};

			$scope.clusterChassisDataLost = false;

			$transitions.onStart({}, function ($transition) {
				if (!$stateParams.networkFabric || ($transition.$from().name == 'fabricOutput' && $transition.$to().name == 'fabricInput')) {
					$state.go('networkFabric');
				}

				if ($transition.$to().name == 'networkFabric') {
					fabricInputService.clusterCountReset();
					fabricInputService.vLANcount = 1; 	// Reset vLAN count
				}

				var alertDialog = dlcuiConfirmDialog({
					title: $translate.instant('general.confirm'),
					message: $translate.instant('general.unsavedMessage')
				});
				var isClusterChassisAdded = false;
				if($scope.fabricInputs.mxFabricClusterInputs.length>0)isClusterChassisAdded = true
				if (isClusterChassisAdded && !$scope.clusterChassisDataLost) {
					var defered = $q.defer();

					alertDialog().then(function () {
						$rootScope.clusterInputAdded = false;
						defered.resolve();
						fabricService.removeData();
						$scope.fabricInputs.mxFabricClusterInputs = [];
						$scope.clusterChassisDataLost = false;
						isClusterAdded = false;
						$state.go($transition.$to().name);
					}, function () {
						$scope.clusterChassisDataLost = false;
						isClusterAdded = false;
						defered.reject('Cluster data will be lost');
					});

					return defered.promise;
				}


			});
			$scope.edit = function (_index, defaults, clusterChassisType) {
				fabricInputService.editChassis($scope, _index, defaults, clusterChassisType);
			};

			// Select and delete clusters
			function getSelectedItems(clusterChassisType) {
				var selectedItems = [];
				angular.forEach($scope.fabricInputs.mxFabricClusterInputs, function (item) {
					if (item.isSelected) {
						selectedItems.push(item);
					}
				});
				return selectedItems;
			};
			$scope.toggleAll = function () {
				var toggleStatus = $scope.allItems.isAllSelected;
				angular.forEach($scope.fabricInputs.mxFabricClusterInputs, function (item) { item.isSelected = toggleStatus; });
			};
			$scope.optionToggled = function (row) {
				$scope.allItems.isAllSelected = $scope.fabricInputs.mxFabricClusterInputs.every(function (item) { return item.isSelected; })
			};

			$scope.delete = function (defaults, clusterChassisType) {

				var selectedItems = getSelectedItems(clusterChassisType);
				var alertDialog = dlcuiAlertDialog({
					message: $translate.instant('general.selectToDelete')
				});

				var confirmDialog = dlcuiConfirmDialog({
					icon: 'warning',
					title: $translate.instant('general.delete'),
					message: $translate.instant('general.deleteWarning')
				});

				if (selectedItems.length == 0) {

					alertDialog().then(function () {

					});

				} else {

					$scope.status = '';
					confirmDialog().then(function () {


						$scope.fabricInputs.mxFabricClusterInputs.remove(selectedItems, true);
						fabricInputService.displayToaster('success', 'Delete Scaleable Fabric', selectedItems.length + ' Fabric(s) deleted successfully');
						angular.forEach($scope.fabricInputs.mxFabricClusterInputs, function (item) {
							if (item.isSelected) {
								item.isSelected = false;
							}
						});

						if (!$scope.fabricInputs.mxFabricClusterInputs.length) {
							$rootScope.clusterInputAdded = false;
						}

						$scope.allItems.isAllSelected = false;

					}, function () {
						$scope.allItems.isAllSelected = false;
						angular.forEach($scope.fabricInputs.mxFabricClusterInputs, function (item) {
							if (item.isSelected) {
								item.isSelected = false;
							}
						});
					});
				}

			};

			// Next action after adding clusters
			$scope.getRecommendation = function () {

				var config = {
					headers: {
						'AcceptMethod':'write'
					}
				},
				data = angular.copy($scope.fabricInputs);
				var sendFabricURL = $scope.fabricInputParams.fabricInputs.sendFabric;
				if ($scope.fdc_fabric_form.$valid) {
					var scalablefabrics = 0,
						alertType = [];
						angular.forEach($scope.fabricInputs.mxFabricClusterInputs, function (item, key) {
						scalablefabrics++;					
					});
					if (scalablefabrics) {
						spinnerOverlay.start();

						$http.post(sendFabricURL, data, config)
							.then(function (fabricdata, status, headers, config) {
								$scope.clusterChassisDataLost = true;
								$rootScope.clusterInputAdded = false;
								fabricService.removeFabricId();
								//$rootScope.$broadcast('tab-logicalview');
								$state.go('fabricOutput', { networkFabric: $scope.fabricInputParams });
							}, function (clustererrror, status, header, config) {
								spinnerOverlay.stop();
								if (clustererrror.status == 500){
									fabricInputService.displayToaster('error', 'Fabric Creation', clustererrror.data.detail)
								}
							});

					} else {
						var alertDialog = dlcuiAlertDialog({
							message: $translate.instant('fabricInput.pleaseAdd') +' '+'scalable fabrics'
						});
						alertDialog().then(function () {

						});
					}
				} else {
					$('[name="fdc_network_fabric_name"]').focus();
				}
			};

		}]);

angular
    .module(APP_NAME)
    .controller('clusterDetailsCtrl', ['$scope', '$http', '$rootScope', '$cookies', '$timeout', 'spinnerOverlay', 'dlcuiConfirmDialog', '$translate', 'fabricService', 'Bond', 'VLANService', 'fabricInputService',
        function($scope, $http, $rootScope, $cookies, $timeout, spinnerOverlay, dlcuiConfirmDialog, $translate, fabricService, Bond, VLANService, fabricInputService) {
            //$scope.clusterForm = {};
            // Common methods for cluster operation
            $scope.populateClusterDefaults = function(defaults) {
                $scope.clusterinput.futureNodes = 0;
                $scope.clusterinput.clusterType = defaults.type;
                $scope.clusterinput.san_networks = defaults.san_networks
                delete $scope.clusterinput.applianceTypes;
                delete $scope.clusterinput.type;
            }

            $scope.populateVLANdefaults = function(defaults, nameUpdate) {
                $scope.editClusterMode = null, count = 0;

                var clusterCount = fabricInputService.vLANcount;
                $scope.clustervlan = angular.copy(defaults.clusterVlans);

                // Only update name
                if (nameUpdate) {
                    angular.forEach($scope.clustervlan, function(vlan, index) {
                        if (index != 'vmNetworks' && index != 'storageNetworks' && vlan) {
                            vlan.name = $scope.clusterinput.name + "_" + vlan.name;
                        }
                        if (index == 'vmNetworks') {
                            angular.forEach(vlan, function(vmvlan, vmindex) {
                                vmvlan.vlanId = Number(vmvlan.vlanId);
                                vmvlan.name = $scope.clusterinput.name + "_" + vmvlan.name;
                            });
                        }
                        if (index == 'storageNetworks') {
                            angular.forEach(vlan, function(vmvlan, vmindex) {
                                vmvlan.vlanId = Number(vmvlan.vlanId);
                                vmvlan.name = $scope.clusterinput.name + "_" + vmvlan.name;
                            });
                        }
                    })
                    return;
                }

                angular.forEach($scope.clustervlan, function(vlan, index) {
                    onlyVmVlans = true
                    if (((vlan && vlan.vlanId) && index != 'pvtMgmt') && (((vlan && vlan.vlanId) && index != 'hostoverlay'))){
                        vlan.vlanId = Number(vlan.vlanId);
                        if(vlan.vlan_type != 'native')  
                             {
                             vlan.vlanId = Number(clusterCount * 100) + count + 1;
                             count++;
                             }    

                             onlyVmVlans = false
                    }
                    if (index != 'vmNetworks' && index!='storageNetworks' && vlan) {
                        vlan.name = $scope.clusterinput.name + "_" + vlan.name;
                        if($scope.clusterinput.clusterType=='POWERSTORE_STORAGE'){
                            if(!vlan.torSwitch || vlan.torSwitch==''){
                                vlan.torSwitch="Leaf1";
                                if(vlan.bond.indexOf('ond')>0){
                                    vlan.torSwitch="Leaf Pair";
                                }
                                
                             }
                        }
                    }
                    if (index == 'storageNetworks') {
                        // iterate each vlan in storageNetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.vlanId = Number(vmvlan.vlanId);
                            if (onlyVmVlans){
                                vmvlan.vlanId = Number(clusterCount * 100) + count + 1;
                                count++;
                            }
                            if($scope.clusterinput.clusterType!='GENERIC_COMPUTE' && $scope.clusterinput.clusterType!='POWERSTORE_STORAGE')
                                vmvlan.name = $scope.clusterinput.name + "_" + vmvlan.name;
                            if($scope.clusterinput.clusterType=='POWERSTORE_STORAGE'){
                                if(!vmvlan.torSwitch || vmvlan.torSwitch==''){
                                    vmvlan.torSwitch="Leaf1";
                                    if(vmvlan.bond.indexOf('ond')>0){
                                        vmvlan.torSwitch="Leaf Pair";
                                    }
                                    
                                 }
                            }
                        });
                    }
                    if (index == 'vmNetworks') {
                        // iterate each vlan in vmnetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.vlanId = Number(vmvlan.vlanId);
                            if (onlyVmVlans){
                                vmvlan.vlanId = Number(clusterCount * 100) + count + 1;
                                count++;
                            }
                            vmvlan.name = $scope.clusterinput.name + "_" + vmvlan.name;
                            if($scope.clusterinput.clusterType=='POWERSTORE_STORAGE'){
                                if(!vmvlan.torSwitch || vmvlan.torSwitch==''){
                                    vmvlan.torSwitch="Leaf1";
                                    if(vmvlan.bond.indexOf('ond')>0){
                                        vmvlan.torSwitch="Leaf Pair";
                                    }
                                    
                                 }
                            }
                        });
                    }
                })
            }
            $scope.populateEditVLANdefaults = function(selectedCluster) {
                $scope.editClusterMode = null, count = 0;
                /* get the vlan list from the server, convert it into number and assign it to vlanID*/
                angular.forEach(selectedCluster.clusterVlans, function(vlan, index) {
                    if ((vlan && vlan.vlanId) && index != 'pvtMgmt') {
                        vlan.vlanId = Number(vlan.vlanId);
                        count++;
                    }
                    if (index == 'storageNetworks') {
                        // iterate each vlan in storageNetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.vlanId = Number(vmvlan.vlanId);
                        });
                    }
                    if (index == 'vmNetworks') {
                        // iterate each vlan in vmnetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.vlanId = Number(vmvlan.vlanId);
                        });
                    }
                });
                $scope.clustervlan = angular.copy(selectedCluster.clusterVlans);
            }

            $scope.editClusterOptions = function(selectedCluster, defaults) {
                $scope.editClusterMode = selectedCluster;

                angular.forEach(defaults.applianceTypes, function(applianceType) {
                    if (applianceType.name == selectedCluster.applianceInfo.name) {
                        $scope.clusterinput.applianceInfo = applianceType;

                        // Set NDC model
                        angular.forEach(applianceType.ndcCard, function(ndc) {
                            if (selectedCluster.applianceInfo.ndcCard.name == ndc.name) {
                                $scope.clusterinput.ndcCard = ndc;
                            }
                        });
                        // Set Backend model
                        angular.forEach(applianceType.backEndCard, function(backEnd) {
                            if (selectedCluster.applianceInfo.backEndCard.name == backEnd.name) {
                                $scope.clusterinput.backEndCard = backEnd;
                            }
                        });

                        // Set Optional model
                        angular.forEach(applianceType.optionalCard, function(optional) {
                            if (selectedCluster.applianceInfo.optionalCard
                                && selectedCluster.applianceInfo.optionalCard.name == optional.name) {
                                $scope.clusterinput.optionalCard = optional;
                            }
                        });

                        // Set CNA model
                        angular.forEach(applianceType.cnaCard, function(cna) {
                            if (selectedCluster.applianceInfo.cnaCard 
                                && selectedCluster.applianceInfo.cnaCard.name == cna.name) {
                                $scope.clusterinput.cnaCard = cna;
                            }
                        });

                    }
                });
                if(selectedCluster.deploymentModel){
                    $scope.clusterinput.deploymentModel = selectedCluster.deploymentModel;
                }
                if(selectedCluster.network_separation)
                    $scope.clusterinput.network_separation = selectedCluster.network_separation;
                if(selectedCluster.expansionModules){
                    $scope.clusterinput.expansionModules = selectedCluster.expansionModules;
                }
                $scope.clustervlan = angular.copy(selectedCluster.clusterVlans);
                $scope.clusterinput.bonds = selectedCluster.applianceInfo.bonds;
                $scope.clusterinput.bondingports=selectedCluster.applianceInfo.bonds;
                /*fsnList = []
                angular.forEach($scope.clusterinput.bondingports,function(val,index)
                {
                    //$scope.fsnList.push(val.name) //Multiple select not working with list of tems in array. It expects dict i.e., id inside array
                    fsnList.push({id: index,name: val.name})
                }); 
                $scope.clusterinput.fsnList = fsnList
                console.log($scope.clusterinput.fsnList)*/
                $scope.clusterinput.interfaces=selectedCluster.applianceInfo.interfaces;                
                if($scope.clusterinput.ndcCard){
                  $scope.clusterinput.ndcCard.requiredCount = selectedCluster.applianceInfo.ndcCard && selectedCluster.applianceInfo.ndcCard.requiredCount;
                }
                if ($scope.clusterinput.optionalCard) {
                    $scope.clusterinput.optionalCard.requiredCount = selectedCluster.applianceInfo.optionalCard && selectedCluster.applianceInfo.optionalCard.requiredCount;
                }

                if ($scope.clusterinput.cnaCard) {
                    $scope.clusterinput.cnaCard.requiredCount = selectedCluster.applianceInfo.cnaCard && selectedCluster.applianceInfo.cnaCard.requiredCount;
                }

                if (selectedCluster.applianceInfo.optionalCard && selectedCluster.applianceInfo.optionalCard.storage_type!=$scope.clusterinput.storageProtocol){
                    $scope.clusterinput.storageProtocol =selectedCluster.applianceInfo.optionalCard.storage_type;
                }
                $scope.clusterinput.networkConnectivityOption = selectedCluster.networkConnectivityOption;
                //$scope.clusterinput.clusterSubType = selectedCluster.clusterSubType;
                $scope.clusterinput.solution_type = selectedCluster.solution_type;
                // Set appliance model
                $scope.clusterinput.name = selectedCluster.name;
                $scope.clusterinput.id = selectedCluster.id;
                /* setting  both card and optional card count options based on selected cluster*/

                fabricInputService.populateCountList({
                    obj: selectedCluster.applianceInfo.ndcCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'ndcCardCountOptions'
                });
                
                fabricInputService.populateCountList({
                    obj: selectedCluster.applianceInfo.backEndCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'backEndCardCountOptions'
                });

                fabricInputService.populateCountList({
                    obj: selectedCluster.applianceInfo.optionalCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'optionalCardCountOptions'
                });

                fabricInputService.populateCountList({
                    obj: selectedCluster.applianceInfo.cnaCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'cnaCardCountOptions'
                });

                $scope.clusterinput.currentNodes = selectedCluster.currentNodes;
                $scope.clusterinput.futureNodes = selectedCluster.futureNodes;
                $scope.clusterinput.networkResiliency = selectedCluster.networkResiliency;
                $scope.clusterinput.preconfigureFutureNodes = selectedCluster.preconfigureFutureNodes;
                $scope.clusterinput.ports = selectedCluster.applianceInfo.ports;
                Bond.loadConfig({
                    bonds: $scope.clusterinput.bonds,
                    ports: $scope.clusterinput.ports,
                    interfaces:$scope.clusterinput.interfaces,
                    clusterinput: $scope.clusterinput
                });
            }

            $scope.$on('dismiss', function(e, msg) {
                /* $scope.$watch('clustervlan.vmNetworks', function (newVal, oldVal) {
                     if (oldVal != newVal) {
                         $scope.clustervlan.vmNetworks = oldVal;
                     }
                 }, true);*/
            });

            $scope.$watch('clusterinput.name', function(newVal, oldVal) {
                if (oldVal != newVal) {
                    angular.forEach($scope.clustervlan, function(val, ind) {
                        if (ind != 'vmNetworks' && ind != 'storageNetworks' && val) {
                            val.name = val.name.replace(oldVal, newVal);
                        }
                    })

                    angular.forEach($scope.clustervlan.vmNetworks, function(vlan, index) {
                        vlan.name = vlan.name.replace(oldVal, newVal);
                    });
                    angular.forEach($scope.clustervlan.storageNetworks, function(vlan, index) {
                        vlan.name = vlan.name.replace(oldVal, newVal);
                    });
                }

            });


        }]);
angular
    .module(APP_NAME)
    .controller('verticalSolutionsclusterDetailsCtrl', ['$scope', '$http', '$rootScope', '$cookies', '$timeout', 'spinnerOverlay', 'dlcuiConfirmDialog', '$translate', 'fabricService', 'Bond', 'VLANService', 'fabricInputService',
        function($scope, $http, $rootScope, $cookies, $timeout, spinnerOverlay, dlcuiConfirmDialog, $translate, fabricService, Bond, VLANService, fabricInputService) {
            //$scope.clusterForm = {};
            // Common methods for cluster operation
            $scope.populateClusterDefaults = function(defaults) {
                $scope.clusterinput.futureNodes = 0;
                $scope.clusterinput.clusterType = defaults.type;
                delete $scope.clusterinput.applianceTypes;
                delete $scope.clusterinput.type;
            }

            $scope.populateVLANdefaults = function(defaults, nameUpdate) {
                $scope.editClusterMode = null, count = 0;

                var clusterCount = fabricInputService.vLANcount;
                $scope.clustervlan = angular.copy(defaults.clusterVlans);

                // Only update name
                if (nameUpdate) {
                    angular.forEach($scope.clustervlan, function(vlan, index) {
                        if (index != 'vmNetworks' && index != 'storageNetworks' && vlan) {
                            vlan.name = $scope.clusterinput.name + "_" + vlan.name;
                        }
                        if (index == 'storageNetworks') {
                            angular.forEach(vlan, function(vmvlan, vmindex) {
                                vmvlan.vlanId = Number(vmvlan.vlanId);
                                vmvlan.name = $scope.clusterinput.name + "_" + vmvlan.name;
                            });
                        }
                        if (index == 'vmNetworks') {
                            angular.forEach(vlan, function(vmvlan, vmindex) {
                                vmvlan.vlanId = Number(vmvlan.vlanId);
                                vmvlan.name = $scope.clusterinput.name + "_" + vmvlan.name;
                            });
                        }
                    })
                    return;
                }

                angular.forEach($scope.clustervlan, function(vlan, index) {
                    onlyVmVlans = true
                    if (((vlan && vlan.vlanId) && index != 'pvtMgmt') && (((vlan && vlan.vlanId) && index != 'hostoverlay'))){
                        vlan.vlanId = Number(vlan.vlanId);
                        if(vlan.vlan_type != 'native')  
                             {
                             vlan.vlanId = Number(clusterCount * 100) + count + 1;
                             count++;
                             }    
                             
                        onlyVmVlans = false
                    }
                    if (index != 'vmNetworks' && index != 'storageNetworks' && vlan) {
                        vlan.name = $scope.clusterinput.name + "_" + vlan.name;
                        if($scope.clusterinput.clusterType=='POWERSTORE_STORAGE'){
                            if(!vlan.torSwitch || vlan.torSwitch==''){
                                vlan.torSwitch="Leaf1";
                                if(vlan.bond.indexOf('ond')>0){
                                    vlan.torSwitch="NA";
                                }
                                
                             }
                        }
                    }
                    if (index == 'storageNetworks') {
                        // iterate each vlan in storagenetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.vlanId = Number(vmvlan.vlanId);
                            if (onlyVmVlans){
                                vmvlan.vlanId = Number(clusterCount * 100) + count + 1;
                                count++;
                            }
                            vmvlan.name = $scope.clusterinput.name + "_" + vmvlan.name;
                            if($scope.clusterinput.clusterType=='POWERSTORE_STORAGE'){
                                if(!vmvlan.torSwitch || vmvlan.torSwitch==''){
                                    vmvlan.torSwitch="Leaf1";
                                    if(vmvlan.bond.indexOf('ond')>0){
                                        vmvlan.torSwitch="NA";
                                    }
                                    
                                 }
                            }
                        });
                    }
                    if (index == 'vmNetworks') {
                        // iterate each vlan in vmnetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.vlanId = Number(vmvlan.vlanId);
                            if (onlyVmVlans){
                                vmvlan.vlanId = Number(clusterCount * 100) + count + 1;
                                count++;
                            }
                            vmvlan.name = $scope.clusterinput.name + "_" + vmvlan.name;
                            if($scope.clusterinput.clusterType=='POWERSTORE_STORAGE'){
                                if(!vmvlan.torSwitch || vmvlan.torSwitch==''){
                                    vmvlan.torSwitch="Leaf1";
                                    if(vmvlan.bond.indexOf('ond')>0){
                                        vmvlan.torSwitch="NA";
                                    }
                                    
                                 }
                            }
                        });
                    }
                })
            }
            $scope.populateEditVLANdefaults = function(selectedCluster) {
                $scope.editClusterMode = null, count = 0;
                /* get the vlan list from the server, convert it into number and assign it to vlanID*/
                angular.forEach(selectedCluster.clusterVlans, function(vlan, index) {
                    if ((vlan && vlan.vlanId) && index != 'pvtMgmt') {
                        vlan.vlanId = Number(vlan.vlanId);
                        count++;
                    }
                    if (index == 'storageNetworks') {
                        // iterate each vlan in storageNetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.vlanId = Number(vmvlan.vlanId);
                        });
                    }
                    if (index == 'vmNetworks') {
                        // iterate each vlan in vmnetworks and make it as a number.
                        angular.forEach(vlan, function(vmvlan, vmindex) {
                            vmvlan.vlanId = Number(vmvlan.vlanId);
                        });
                    }
                });
                $scope.clustervlan = angular.copy(selectedCluster.clusterVlans);
            }

            $scope.editClusterOptions = function(selectedCluster, defaults) {
                $scope.editClusterMode = selectedCluster;

                angular.forEach(defaults.applianceTypes, function(applianceType) {
                    if (applianceType.name == selectedCluster.applianceInfo.name) {
                        $scope.clusterinput.applianceInfo = applianceType;

                        // Set NDC model
                        angular.forEach(applianceType.ndcCard, function(ndc) {
                            if (selectedCluster.applianceInfo.ndcCard.name == ndc.name) {
                                $scope.clusterinput.ndcCard = ndc;
                            }
                        });

                        // Set Optional model
                        angular.forEach(applianceType.optionalCard, function(optional) {
                            if (selectedCluster.applianceInfo.optionalCard
                                && selectedCluster.applianceInfo.optionalCard.name == optional.name) {
                                $scope.clusterinput.optionalCard = optional;
                            }
                        });

                        // Set CNA model
                        angular.forEach(applianceType.cnaCard, function(cna) {
                            if (selectedCluster.applianceInfo.cnaCard 
                                && selectedCluster.applianceInfo.cnaCard.name == cna.name) {
                                $scope.clusterinput.cnaCard = cna;
                            }
                        });

                    }
                });
                if(selectedCluster.deploymentModel){
                    $scope.clusterinput.deploymentModel = selectedCluster.deploymentModel;
                }
                if(selectedCluster.network_separation)
                    $scope.clusterinput.network_separation = selectedCluster.network_separation;
                if(selectedCluster.expansionModules){
                    $scope.clusterinput.expansionModules = selectedCluster.expansionModules;
                }
                $scope.clustervlan = angular.copy(selectedCluster.clusterVlans);
                $scope.clusterinput.bonds = selectedCluster.applianceInfo.bonds;
                $scope.clusterinput.bondingports=selectedCluster.applianceInfo.bonds;
                if($scope.clusterinput.ndcCard){
                  $scope.clusterinput.ndcCard.requiredCount = selectedCluster.applianceInfo.ndcCard && selectedCluster.applianceInfo.ndcCard.requiredCount;
                }
                if ($scope.clusterinput.optionalCard) {
                    $scope.clusterinput.optionalCard.requiredCount = selectedCluster.applianceInfo.optionalCard && selectedCluster.applianceInfo.optionalCard.requiredCount;
                }

                if ($scope.clusterinput.cnaCard) {
                    $scope.clusterinput.cnaCard.requiredCount = selectedCluster.applianceInfo.cnaCard && selectedCluster.applianceInfo.cnaCard.requiredCount;
                }

                if (selectedCluster.applianceInfo.optionalCard && selectedCluster.applianceInfo.optionalCard.storage_type!=$scope.clusterinput.storageProtocol){
                    $scope.clusterinput.storageProtocol =selectedCluster.applianceInfo.optionalCard.storage_type;
                }
                $scope.clusterinput.networkConnectivityOption = selectedCluster.networkConnectivityOption;
                //$scope.clusterinput.clusterSubType = selectedCluster.clusterSubType;
                $scope.clusterinput.solution_type = selectedCluster.solution_type;
                // Set appliance model
                $scope.clusterinput.name = selectedCluster.name;
                $scope.clusterinput.id = selectedCluster.id;
                /* setting  both card and optional card count options based on selected cluster*/

                fabricInputService.populateCountList({
                    obj: selectedCluster.applianceInfo.ndcCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'ndcCardCountOptions'
                });

                fabricInputService.populateCountList({
                    obj: selectedCluster.applianceInfo.optionalCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'optionalCardCountOptions'
                });

                fabricInputService.populateCountList({
                    obj: selectedCluster.applianceInfo.cnaCard,
                    list: $scope.clusterinput,
                    clusterType: $scope.clusterinput.clusterType,
                    type: 'cnaCardCountOptions'
                });

                $scope.clusterinput.currentNodes = selectedCluster.currentNodes;
                $scope.clusterinput.futureNodes = selectedCluster.futureNodes;
                $scope.clusterinput.networkResiliency = selectedCluster.networkResiliency;
                $scope.clusterinput.preconfigureFutureNodes = selectedCluster.preconfigureFutureNodes;
                $scope.clusterinput.ports = selectedCluster.applianceInfo.ports;
                Bond.loadConfig({
                    bonds: $scope.clusterinput.bonds,
                    ports: $scope.clusterinput.ports,
                    clusterinput: $scope.clusterinput
                });
            }

            $scope.$on('dismiss', function(e, msg) {
                /* $scope.$watch('clustervlan.vmNetworks', function (newVal, oldVal) {
                     if (oldVal != newVal) {
                         $scope.clustervlan.vmNetworks = oldVal;
                     }
                 }, true);*/
            });

            $scope.$watch('clusterinput.name', function(newVal, oldVal) {
                if (oldVal != newVal) {
                    angular.forEach($scope.clustervlan, function(val, ind) {
                        if (ind != 'vmNetworks' && ind != 'storageNetworks' && val) {
                            val.name = val.name.replace(oldVal, newVal);
                        }
                    })
                    angular.forEach($scope.clustervlan.storageNetworks, function(vlan, index) {
                        vlan.name = vlan.name.replace(oldVal, newVal);
                    });

                    angular.forEach($scope.clustervlan.vmNetworks, function(vlan, index) {
                        vlan.name = vlan.name.replace(oldVal, newVal);
                    });
                }

            });


        }]);
angular
	.module(APP_NAME)
	.controller('fabricOutputCtrl', ['$scope', '$rootScope', 'fabricService', 'FileSaver', 'Blob', '$transitions', 'dlcuiConfirmDialog', '$translate', '$q', '$state','$http', 'spinnerOverlay', 'fabricInputService','$uibModal',
		function ($scope, $rootScope, fabricService, FileSaver, Blob, $transitions, dlcuiConfirmDialog, $translate, $q, $state,$http, spinnerOverlay, fabricInputService,$uibModal) {
			$scope.f_name="";
			$scope.curtabpos = 0
			$scope.exportFabric = function(callback) {
				spinnerOverlay.start();
				fabricService.fabricName().then(function(response) {
				if(response && response.fabricname){
					var exportFileName = 'FDC-'+response.fabricname.split('-')[0]+'.json';			
					var exportFileName = 'FDC-'+response.fabricname+'.json';			
					var fabricdata = fabricService.getData();
					fabricService.getFabricDataAsJson(fabricdata).then(function(response){
						var jsonstring=JSON.stringify(response.lzfabricdata);
						//var dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(data);
						var blob_data = new Blob([jsonstring], { type: 'data:application/json;charset=utf-8'});
						FileSaver.saveAs(blob_data, exportFileName);
						callback && callback();
						fabricInputService.displayToaster('success', 'Download', 'Downloaded successfully');
						spinnerOverlay.stop();
					}, function() {
						spinnerOverlay.stop();
						fabricInputService.displayToaster('error', 'Download', 'Error while downloading');
					});
				}
				});
				
			}
			/*fabricService.fabricName().then(function(response) {
				$rootScope.menuOptions.pageLabel = "Fabric: " +response.fabricname;
			});*/
			// Menu text update
			$scope.handleKeyDown = function (event,  index, data) {
				if (event.keyCode === 32 || event.key === ' ') {
					$scope.settabactive(data, index);
				}
			};
		//	$rootScope.menuOptions.pageLabel = "Fabric: " + $scope.f_name;
		$scope.WarningModal= function () {
			var defered = $q.defer();
			scope = $scope
			var NodeIns = $uibModal.open({
				animation: false,
				backdrop: false,
				ariaLabelledBy: 'modal-title',
				ariaDescribedBy: 'modal-body',
				templateUrl: 'fabric/design/output/dciworkflow.html',
				controller: 'fabricRacksController',
				visible:false,
				windowClass: "center-modal",
				size: 'lg',
				resolve: {
					items: function () {
						return scope                                                
					}
				}
			});
			NodeIns.result.then(function (clickedAction) { 
					if(clickedAction == 'ok')
					{
						NodeIns.close && NodeIns.close();
						return 1;
					}                    

					defered.resolve(clickedAction)
			});
			return defered.promise;
		}
			$rootScope.menuOptions.notInHome = true;

			fabricService.inFabricOutput = true;

			$transitions.onStart({}, function ($transition) {
				var alertDialog = dlcuiConfirmDialog({
					title: 'Close Fabric Design',
					message: 'This will close the fabric design and discard all changes. Do you want to save the fabric design before closing it?',
					buttons: [{
						label: 'Save and Close Design',
						promise: 'resolve',
						dlcuiType: 'primary',
						value: 'save',
						focus: true
					}, {
						label: 'Discard Design',
						promise: 'resolve',
						value: 'not'
					}, {
						label: 'Cancel',
						promise: 'reject',
						value: false
					}]
				});

				if (fabricService.getData() && fabricService.inFabricOutput) {
					var defered = $q.defer();
					alertDialog().then(function (val) {
						defered.resolve();
						if (val == 'save') {
							$scope.exportFabric(fabricService.removeData);
						} 
						if (val == 'not') {
							fabricService.removeData();
						}
						
						fabricService.inFabricOutput = false;
						$state.go($transition.$to().name);
					}, function() {
						defered.reject('Fabric output data will be lost');
					} );

					return defered.promise;
				}

			});
			tabs = {
				'SuperSpine View':
				{
					label: 'Fabrics',
					id: "superspine",
					tmpl: 'fabric/design/output/superspine.html',
					ctrl: 'superspineCtrl as vm',
					load: function () {
						$scope.$broadcast('tab-superspine');
					}
				},
				'Logical View':
				{
					label: 'Logical View',
					id: "logicalview",
					tmpl: 'fabric/design/output/logicalview.html',
					ctrl: 'logicalViewCtrl as rc',
					load: function () {
						$scope.$broadcast('load-logicalview');
					}
				},
				'Network View':
				{
					label: 'Network View',
					id: "networkview",
					tmpl: 'fabric/design/output/networkView.html',
					ctrl: 'networkViewCtrl as vm',
					load: function () {
						$scope.$broadcast('tab-networkview');
					}
				},
				'Wiring Diagram':{
					label: 'Wiring Diagram',
					id: "wiring",
					tmpl: 'fabric/design/output/download.wiring.html',
					ctrl: 'downloadWiringCtrl as wiring',
					load: function () {
						$scope.$broadcast('tab-wiring');
					}
				},
				'Bill of Materials':{
					label: 'Bill of Materials',
					id: "bom",
					tmpl: 'fabric/design/output/bom.html',
					ctrl: 'bomViewCtrl as bm',
					load: function () {
						$scope.$broadcast('tab-bom');
					}
				},
				'Network Configration':{
					label: 'Network Configuration',
					id: "networksettings",
					tmpl: 'fabric/design/output/networksettingsview.html',
					ctrl: 'networkSettingsCtrl as vm',
					load: function () {
						$scope.$broadcast('tab-networksettings');
					}
				},
				'Configuration Download':{
					label: 'Configuration Download',
					id: "configdownload",
					tmpl: 'fabric/design/output/configDownload.html',
					ctrl: 'configDownloadCtrl as vm',
					load: function () {
						$scope.$broadcast('tab-configdownload');
					}
				}
			}
			$scope.data = []
			//response = fabricService.getDeploymentType()
			//console.log(response)				
			if($rootScope.supported_tabs == undefined)
			{	
				angular.forEach(tabs, function (item, key) {
					item.id = null
					$scope.data.push(item)
				});
			}
			else
			{
				angular.forEach($rootScope.supported_tabs, function (key) {
					tabs[key].id = null
					$scope.data.push(tabs[key])
				});
			}
			$scope.tabdata = $scope.data[0].label;
			$scope.tab_data = $scope.data[0]
			$scope.tab_data.id = "active_element"
			$scope.activeTab = 0;
			$scope.settabactive = function (data, index) {
                                for(var i=0 ; i < $scope.data.length-1;i++) {
                                    $scope.data[i].id = null;
                                    $scope.data[i].active = false;
                                }
				$scope.activeTab = index;
			        $scope.index = index;
				$scope.curtabpos = index;
				$scope.tab_data.id = null
				$scope.tabdata = $scope.data[index].label
				data.id = null;
				$scope.tab_data = $scope.data[index]
				//Use the active data to highlight the fabric tabs
				$scope.tab_data.active = true;
				spinnerOverlay.start()
				if($scope.tabdata=='Fabrics'){
					$scope.$broadcast('tab-superspine');
					spinnerOverlay.stop()
				}
				else if($scope.tabdata=='Logical View'){
					$scope.$broadcast('load-logicalview');
					spinnerOverlay.stop()
				}
				else if($scope.tabdata=='Network View'){
					$scope.$broadcast('tab-networkview');
					spinnerOverlay.stop()
				}
				else if($scope.tabdata == 'Wiring Diagram'){
					$scope.$broadcast('tab-wiring');
					spinnerOverlay.stop()
				}
				else if($scope.tabdata == 'Bill of Materials'){
					$scope.$broadcast('tab-bom');
					spinnerOverlay.stop()
				}
				else if($scope.tabdata == 'Network Configuration'){
					$scope.$broadcast('tab-networksettings');
					spinnerOverlay.stop()
				}
				else if($scope.tabdata == 'Configuration Download')
				{
					$scope.$broadcast('tab-configdownload');		
					spinnerOverlay.stop()			
				}


			};
			
			$scope.$on('forlogicalview', function () {	
				$scope.tab_data.id = null
				$scope.tabdata = $scope.data[1].label
				$scope.tab_data = $scope.data[1]
				$scope.tab_data.id = "active_element"
				$scope.data[1].active = true
				$scope.$broadcast('load-logicalview');
			});
			$scope.$on('fornetworkview', function () {						
				$scope.tab_data.id = null
				$scope.tabdata = $scope.data[2].label
				$scope.tab_data = $scope.data[2]
				$scope.tab_data.id = "active_element"
				$scope.data[2].active = true
				$scope.$broadcast('tab-networkview');
			});
			function init() {
				spinnerOverlay.start();		
				$scope.settings = 'NA'
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				$http.post('rest/design/get_settings/', {'data':fabricdata}, config)
				.then(function (data, status, headers, config) {
					$scope.settings = data.data
					/*if($scope.settings=="DCI")
						$scope.WarningModal();
					$scope.$broadcast('tab-superspine');*/
				}),
				function (configerror, status, header, config) {
				fabricInputService.displayToaster('error', 'Settings Error', 'Settings Error');
				$scope.$broadcast('tab-superspine');
				$timeout(function(){
					var id = document.getElementsByName("viewGeneric")
					var element = angular.element(id);
					element[0].focus();
				}, 2000);
				};
			}
			init();
		}]);

angular
	.module(APP_NAME)
	.controller('networkViewCtrl', ['$scope', '$http', '$rootScope', '$cookies', 'fabricService', 'spinnerOverlay', 'FileSaver',
	function ($scope, $http, $rootScope, $cookies, fabricService, spinnerOverlay,FileSaver) {
        $scope.format="svg";
		$scope.$on('tab-networkview', function () {
			spinnerOverlay.start();
			$scope.networkData=null;			
            var fabricdata = fabricService.getData();
            var view_id = fabricService.getFabricId();
			var config = {
				headers: {
					'Content-Type': 'application/json',
					'X-CSRFToken': $cookies.get('csrftoken')
				}
			}
            data = {
                'view':view_id,
                'data':fabricdata
            }
            $http.post('rest/design/networkview/', data, config)
                .then(function (res, status, headers, config) {
                    $scope.networkData = res.data;
                    $rootScope.$broadcast('networkDataReady',$scope.networkData);
                    spinnerOverlay.stop();
                }, function (data, status, header, config) {
                    spinnerOverlay.stop();
                });

			// $http({
			// 	method: "get",
			// 	url: "json/network-view.json"
			// }).then(function (response) {
			// 	$scope.networkData = response.data;
			// 	$rootScope.$broadcast('networkDataReady');
			// }, function () {

			// });

		});
		  function svg_to_png(container,filename,format) {            
            var wrapper = document.getElementById(container);
            var svg = wrapper.querySelector("svg");
            //saveSvgAsPng(svg, filename);
            
            if (typeof window.XMLSerializer != "undefined") {
                var svgData = (new XMLSerializer()).serializeToString(svg);
            } else if (typeof svg.xml != "undefined") {
                var svgData = svg.xml;
            }

            var canvas = document.createElement("canvas");
            var svgSize = svg.getBoundingClientRect();
            canvas.width = svgSize.width*2;
            canvas.height = svgSize.height*2;
            var ctx = canvas.getContext("2d");
            ctx.scale(2, 2);

            
            var img = document.createElement("img");
            img.setAttribute("src", "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(svgData))) );

            img.onload = function() {
                ctx.drawImage(img, 0, 0);
                var imgsrc = canvas.toDataURL(format);
                blob_data= dataURItoBlob(imgsrc);
                FileSaver.saveAs(blob_data, filename); 
               /* var a = document.createElement("a");
                a.download = filename;
                a.href = imgsrc;
                a.click();*/
                return imgsrc;
            };
        }
        function dataURItoBlob(dataURI) {
          var byteString = atob(dataURI.split(',')[1]);
          var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]
          var ab = new ArrayBuffer(byteString.length);
          var ia = new Uint8Array(ab);
          for (var i = 0; i < byteString.length; i++) {
              ia[i] = byteString.charCodeAt(i);
          }

          var blob = new Blob([ab], {type: mimeString});
          return blob;

        }
		$scope.exportImage=function(format){  
          var blob_data=null; 
		fabricService.fabricName().then(function(response) {
             filename= (response.fabricname?response.fabricname:'FDC')+'-NetworkTopology.'+format; 
		  var svg=$(".svg-content")[0].outerHTML;
          if(format=='svg'){
            blob_data= new Blob([svg], { type: 'application/octet-stream' });
		   FileSaver.saveAs(blob_data, filename); 
          }
          else{
             var type="image/"+(format)?format:'png';
             svg_to_png('networktopology',filename,type);
          }
          }); 
   
        }
        $scope.handleKeyDown = function (event, index, data, data_list) {
            console.log("Handle key event event key space: ", event.key);
            if (event.keyCode === 32 || event.key === ' ') {
              $scope.exportImage(data);
            }
          };
	}]);

angular
	.module(APP_NAME)
	.directive('networkView', ['$compile', '$timeout', '$rootScope', 'spinnerOverlay', 'browser', function ($compile, $timeout, $rootScope, spinnerOverlay, browser) {
		return {
			restrict: 'E',
			templateUrl: 'fabric/design/output/networkview/networkview.template.html',
			controller: ["$scope", function (scope) {
				scope.format = "svg"
			}],
			scope: {
				networkData: '=',
				export: '&'
			},
			link: function (scope, element, attrs) {
				scope.render = function (data) {
					spinnerOverlay.stop();
					function f(str) { return function (obj) { return obj[str] } }
					function fMgmt(str) {
						return function (obj) {
							var returnArray = new Array();
							if (obj[str] != null)
								returnArray.push(obj[str]);
							return returnArray;
						}
					}
					function textFn(str) { return function (obj) { return obj[str].slice(0, 17) } }
					function func(str1, str2) {
						return function (obj) {
							var retObj;
							if (obj[str1] != null) {
								retObj = obj[str1];
							} else {
								retObj = obj[str2];
							}
							return retObj;
						}
					}
					// For text ellipsis
					function wrap() {
						var self = d3.select(this),
							textLength = self.node().getComputedTextLength(),
							text = self.text();
						while (textLength > 13 && text.length > 13) {
							text = text.slice(0, -1);
							self.text(text + '...');
							textLength = self.node().getComputedTextLength();
						}
					}
					var width = 960, height = 450, rack_height = 0;
					if (data && data.tier) {
						if (data.tier.length > 1) {
							var numOfSwitches = data.tier[data.tier.length - 1].nodes.length;
							if (numOfSwitches > 8) {
								var width = numOfSwitches * 150;
							}
						}
						if (data.tier.length > 2) {
							height = 650;
						}
					}

					var nodeObjs = [];
					var textGroup = [];
					// var width = parseInt(window.innerWidth) - 50, height = 400;
					// var margin = { top: 50, right: parseInt(window.innerWidth) < 960?50:40, bottom: 20, left: parseInt(window.innerWidth) < 960?10:100 }

					var margin = { top: 80, right: 10, bottom: 20, left: 10 },
						linkISL = '', linkVLT = '';

					data && data.links && angular.forEach(data.links, function (v) {
						if (v.linkType == 'ISL') {
							linkISL = "<div class='legend-list'><div class='legend-isl'></div><div class='legend-crosslink'></div><label class='legend-text'>ISL Link</label></div>";
						}
						if (v.linkType == 'VLT') {
							linkVLT = "<div class='legend-list'><div class='legend-vlt'></div><div class='legend-crosslink'></div><label class='legend-text'>VLT Link</label></div>"
						}
					});

					// Append legend
					/*d3.select(element[0]).append("div")
						.attr("class", "networkview-legend")
						.html("<div class='legend-list'><div class='legend-link'></div><label class='legend-text'>PORT Link</label></div>" +
							linkISL + linkVLT);*/
					/*	var svgWrap = d3.select(element[0]).append("div")
							.attr("class", "networkview-wrap");*/
	
						d3.select('#svgId')
							.attr("width", width + margin.right)
					var svg = d3.select('#networkViewSvg').on("mouseover", function (d) {
						/*toolTip.transition()
							.duration(500)
							.style("display", "none");*/
						$("#networkPopover").fadeOut();
					});
					// Remove element before appending
					svg.html("");
					console.log(element);
					var svgBB = svg.node().getBoundingClientRect()
					var linkG = svg.append('g');
					var linkG2 = svg.append('g');
					d3.select("#networkPopover").remove();
					var toolTip_ = d3.select("body")
						.append("div")
						.style("background", "lightsteelblue")
						.style("position", "absolute")
						.style("z-index", "10")
						.style("visibility", "hidden")
						.style("font-weight", "bold");

					var toolTip = d3.select("body").append("div")
						.attr("class", "popover")
						.attr("id", "networkPopover")
						.attr("name", "networkviewPopover")
					var tiers = data && data.tier,
						links = data && data.links,
						racks = data && data.uiracks,
						allNodes = [],
						enableOOB = false;

					tiers && tiers.forEach(function (d) {
						var tier = d;
						tier.nodes = d.nodes

						tier.nodes.forEach(function (d) {
							d.tier = tier
							allNodes.push(d);
						})
					})

					racks && racks.forEach(function (d) {
						var rack = d;
						if (rack.processed) return;
						if (!rack.processed && rack.clusters) {
							rack.clusters.forEach(function (cluster) {
								if (cluster.nodes && cluster.nodes.length > 0) {
									var newArray = [];
									cluster.nodes.forEach(function (node, index) {
										newArray.push(node)
										if (node.type != "Chassis") {
											allNodes.push(node);
											if (node.expansionModules && node.expansionModules.length > 0) {
												node.expansionModules.forEach(function (expansionModule) {
													newArray.push(expansionModule)
													expansionModule.type = 'Expansion';
													//cluster.nodes.push(expansionModule);
												});
											}
											cluster.nodes = newArray;
										}
										else {
											if (node.nodes && node.nodes.length > 0) {
												node.nodes.forEach(function (chassisnode) {
													allNodes.push(chassisnode);
												});
											}
										}
									});
								}
								if (cluster.chassis && cluster.chassis.length > 0) {
									cluster.chassis.forEach(function (node) {
										allNodes.push(node);
									});
								}

							})
							rack.processed = true;
						}
						if (rack.mgmtSwitch) {
							allNodes.push(rack.mgmtSwitch);
							enableOOB = true;
						}
					})

					links && links.forEach(function (data) {
						allNodes.forEach(function (d) {
							if (data.linkType != 'CHASSISLINK') {
								if (d.id == data.srcSwitchId) data.src = d;
								if (d.id == data.dstSwitchId) data.tgt = d;
								else if(d.name == data.dstChassis) data.tgt = d;
								if (d.id == data.dstNodeId) {
									data.tgt = d;
									if (d.links) {
										d.links.push(data)
									} else {
										d.links = []
										d.links.push(data)
									}
								}
							} else {
								//if (d.id == data.srcSwitchId) data.src = d;
								if (d.name == data.srcChassis) data.src = d;
								if (d.name == data.dstChassis) data.tgt = d;
								if (d.links) {
									d.links.push(data)
								} else {
									d.links = []
									d.links.push(data)
								}
							}
						});
					})

					last_tier = 0
					var tierGs = svg.selectAll('.tier')
						.data(tiers).enter()
						.append('g')
						.attr('transform', function (d, i) {
							if (d.level == 0) {
								return 'translate(0,' + 50 + ')'
							} else {
								last_tier = i / tiers.length * height
								return 'translate(0,' + last_tier + ')'
							}
						})

					racks_wrap = [racks]
					rack_start_point = Number(last_tier) + 50
					var rack_tier = svg.selectAll('.tier').data(racks_wrap).enter()
						.append('g')
						.attr('transform', 'translate(0,' + rack_start_point + ')'
						)

					leaf_positions = []
					var nodeGs = tierGs.selectAll('g')
						.data(f('nodes')).enter()
						.append('g')
						.attr('transform', function (d, i) {
							if (i == 0) leaf_positions = []
							leaf_point = (1 + i) / (1 + d.tier.nodes.length) * width
							leaf_positions.push(leaf_point)
							return 'translate(' + leaf_point + ',0)'
						})
					var isMixedfabric = false;
					var rackGS = rack_tier.selectAll('g')
						.data(racks).enter()
						.append('g')
						.attr('transform', function (d, i) {
							leaf_position_required = i * 2;

							if (i == 0) {
								if (d.type == 'POD') isMixedfabric = true;
							}
							leaf_position_required_value = leaf_positions[leaf_position_required] + 25;
							if (isMixedfabric)
								leaf_position_required_value = leaf_positions[leaf_position_required] + 15

							return 'translate(' + leaf_position_required_value + ',0)'
						})
					node_required_width = (leaf_positions[1] - leaf_positions[0]) - 15
					
					rackGS.append('text')
						.text(f('name'))
						.each(wrap)
						.attr({
							'y': function (d) {
								ypos = -10;
								if (d.type == 'POD') ypos = 10;
								return ypos;
							}, 'x': function (d) {
								xpos = (node_required_width / 3);
								if (d.type == 'POD') xpos = xpos + 40;
								return xpos;
							}
						})
						.style("stroke", "black")
						.style("stroke-width", "1").append('title').text(f('name'));

					
						/*rackGS.append('rect').attr('width', node_required_width+20).classed('rack1-box', true)
						.attr('height',970)   
					var placement_height=15;
					node_required_width = (leaf_positions[1] - leaf_positions[0]) - 15;*/
					rackGS.append('rect')						
						.attr({'width':function(d,i)
						{
							if(d.name)
								return node_required_width + 20
							else
								return null
						}
						})
						.attr('class', function (d, i) {
							if (d.type == 'POD') return 'pod1-box';
							if(d.name)
								return 'rack1-box';
							else
								return null;
						})
						.attr('height', function (d, i) {
							if (d.mgmtSwitch) rack_height = 35;
							else rack_height = 15;
							if (d.clusters && d.clusters.length > 0) {
								d.clusters.forEach(function (cluster, i) {
									if (cluster.nodes && cluster.nodes.length > 0) {
										node_length = (cluster.nodes.filter(function (data) { return data.type == 'Node' })).length;
										expansion_modules_length = (cluster.nodes.filter(function (data) { return data.type == 'Expansion' })).length;
										chassis_length = (cluster.nodes.filter(function (data) { return data.type == 'Chassis' })).length;
										rack_height = (node_length * 25 + expansion_modules_length * 25 + chassis_length * 50) + 60 + rack_height;
									}
									if (cluster.chassis && cluster.chassis.length > 0) {
										node_length = cluster.chassis.length;
										chassis_length = 0;
										rack_height = (node_length * 25 + chassis_length * 50) + 60 + rack_height;
									}
								});
							}
							return rack_height;
						});
						
					if (enableOOB) {
						var mgmtSwitchGs = rackGS.selectAll('.mgmtSwitch')
							.data(fMgmt('mgmtSwitch')).enter()
							.append('g')
							.attr('class', 'mgmtSwitch')
							.attr('transform', function () {
								return 'translate(10,10)'
							});
						mgmtSwitchGs.append('rect').attr('width', node_required_width)
							.attr('height', 20).attr('rx', 2).attr('ry', 2).classed('server', true)
						mgmtSwitchGs.append('text')
							.text(function (d) {
								return d.model;
							})
							.each(wrap)
							.attr('class', function (d) {
								return 'chassisnode-big-text';
							})
							.attr({
								'y': function (d) {
									return "16"
								}, 'x': function (d) {
									return 10;
								}
							})
							.attr('name', function (d) {
								return "Text" + d.name;
							});
					}
					var placement_height = 15;
					var clusterGs = rackGS.selectAll('.clusters')
						.data(f('clusters')).enter()
						.append('g').
						attr('class', 'clusters')
						.attr('transform', function (d, i) {
							if (i == 0) placement_height = 15;
							if (enableOOB) {
								if (i == 0) placement_height = 35;
							}
							current_placement = placement_height;
							if (d.nodes && d.nodes.length > 0) {
								node_length = (d.nodes.filter(function (data) { return data.type == 'Node' })).length;
								expansion_modules_length = (d.nodes.filter(function (data) { return data.type == 'Expansion' })).length;
								chassis_length = (d.nodes.filter(function (data) { return data.type == 'Chassis' })).length;
								placement_height = (node_length * 25 + expansion_modules_length * 25 + chassis_length * 50) + 45 + placement_height;
							}
							if (d.chassis && d.chassis.length > 0) {
								node_length = d.chassis.length;
								chassis_length = 0;
								placement_height = (node_length * 25 + chassis_length * 50) + 45 + placement_height;
							}
							return 'translate(5,' + (current_placement) + ')'
						})

					clusterGs.append('rect').attr('width', node_required_width + 10)

						.attr('height', function (d, i) {
							//  (d.nodes&& d.nodes.length>0)?((d.nodes.length*22)+60):0
							if (d.nodes && d.nodes.length > 0) {
								node_length = (d.nodes.filter(function (data) { return data.type == 'Node' })).length;
								expansion_modules_length = (d.nodes.filter(function (data) { return data.type == 'Expansion' })).length;
								chassis_length = (d.nodes.filter(function (data) { return data.type == 'Chassis' })).length;
								return (node_length * 25 + expansion_modules_length * 25 + chassis_length * 55) + 40;
							}
							else if (d.chassis && d.chassis.length > 0) {
								node_length = d.chassis.length;
								chassis_length = 0;
								return (node_length * 25 + chassis_length * 55) + 40;
							}
							else { return 10 };
						}).attr('rx', 10).attr('ry', 10)
						.attr('class', function (d, i) {
							if (d.clusterType == 'MX_CHASSIS') return 'pod2-box';
							return 'rack2-box';
						})
					clusterGs.append('text').classed('hide-textnode', true)
						.text(f('name'))
						.each(wrap)
						.attr({ 'y': '12', 'x': '0' })
						.call(saveEl);
					clusterGs.append('text')
						.text(function (d) {
							return d.name;
						})
						.each(wrap)
						.attr('class', function (d) {
							return 'clusternode-text';
						})
						.attr({
							'y': '16', 'x': function (d) {
								return '5';
							}
						})
						.attr('name', function (d) {
							return "Text" + d.name;
						});
					var serverGs = clusterGs.selectAll('g')
						.data(func('nodes', 'chassis')).enter()
						.append('g')
						.attr('transform', function (d, i) {
							node_position = (i * 25) + 30;
							if (d.type && d.type == 'Chassis') {
								node_position = (i * 55) + 30;
							}
							return 'translate(8,' + node_position + ')'
						})
					serverGs.append('rect').attr({
						'x': -1, 'y': -1, 'height': function (d, i) {
							height = 0;
							if (d.type && d.type == 'Chassis') {
								height = 50;
							}
							if (d.clusterType == 'ISILON_STORAGE') {
								height = 50;
							}
							return height;
						}, 'width': node_required_width - 2, 'stroke': 'black', 'fill': 'none'
					});

					serverGs.append('text').classed('hide-textnode', true)
						.text(f('name'))
						.attr({ 'y': '12', 'x': '0' })
						.call(saveEl);

					serverGs.each(function (d) {
						if (d.type && d.type == 'Node') {
							var thisGroup = d3.select(this);

							thisGroup.append('rect').attr('width', node_required_width).attr('height', 22).attr('rx', 2).attr('ry', 2).classed('server', true)
								.on("mouseover", function (d, i) {
									toolTiplinks = [];
									if (d.links && d.links.length > 0) {
										d.links.forEach(function (linkVal, i) {
											if (linkVal.children && linkVal.children.length > 0) {
												linkVal.children.forEach(function (children, i) { toolTiplinks.push(children) })
											}
										})
									}
									toolTip.transition()
										.duration(200)
										.style("display", "block");
									toolTip.html("<h3 class='popover-title'>Node details</h3><button type='button'  tabindex='-1' class='popover-close btn close' onclick=document.getElementById('networkPopover').style.display='none'; aria-label='Close'><span aria-hidden='true'>×</span></button> " +
										"<div class='popover-content'>" +
										"<strong>Name: </strong>" + d.name + "<br>" +
										"<strong>Type: </strong>" + d.model + "<br></div><hr class='tooltip-hr'><h3 class='popover-title'>Link details</h3><div class='popover-content'><div class='popover-scroll'>"
										+ ((toolTiplinks && toolTiplinks.length) ?
											(function (v) {
												var tmp = "";
												for (var i = 0; i < toolTiplinks.length; i++) {
													tmp += "<strong>Source - </strong>" + toolTiplinks[i].srcSwitch + "<strong>:</strong> " + toolTiplinks[i].srcPort + "<br>";
													tmp += "<strong>Destination - </strong>" + toolTiplinks[i].dstNode + "<strong>:</strong> " + toolTiplinks[i].dstNodePort;
													tmp += "<hr class='tooltip-hr'>"
												}
												return tmp;

											})(d) : "<strong>Source: </strong>" + link.srcPort + "<br>" + "<strong>Destination: </strong>" + link.dstPort) + "</div>")
										.style("left", (d3.event.pageX) + "px")
										.style("top", (d3.event.pageY - 28) + "px");
									$('.popover').focus();
								})
								.on("mouseout", function (d) {
									/*toolTip.transition()
										.duration(500)
										.style("display", "none");*/
									$('.popover').on('mouseleave', function () {
										$(this).fadeOut(300);
									})
								});
							thisGroup.append('text').classed('hide-textnode', true)
								.text(f('name'))
								.each(wrap)
								.attr({ 'y': '12', 'x': '0' })
								.call(saveEl);
							thisGroup.append('circle').attr({ 'cy': 10, 'cx': 8, 'fill': "skyblue", 'r': "2" })
								.attr('width', node_required_width / 4).attr('height', 3).classed('server-line', true)
							thisGroup.append('text')
								.text(function (d) {
									return d.model;
								})
								.each(wrap)
								.attr('class', function (d) {
									return 'servernode-text';
								})
								.attr({
									'y': '16', 'x': function (d) {
										return node_required_width - ((node_required_width / 2) + 20);
									}
								})
								.attr('name', function (d) {
									return "Text" + d.type;
								});
							thisGroup.append('rect').attr({ 'y': 12, 'x': function (d) { return node_required_width - (node_required_width / 4) } })
								.attr('width', node_required_width / 4).attr('height', 3).classed('server-line', true)
						};
						if (d.type && d.type == 'Expansion') {

							var thisGroup = d3.select(this);
							thisGroup.append('rect').attr('width', node_required_width).attr('height', 22).attr('rx', 2).attr('ry', 2).classed('server', true)

							thisGroup.append('text').classed('hide-textnode', true)
								.text(f('name'))
								.each(wrap)
								.attr({ 'y': '12', 'x': '0' })
								.call(saveEl);
							thisGroup.append('circle').attr({ 'cy': 10, 'cx': 8, 'fill': "skyblue", 'r': "2" })
								.attr('width', node_required_width / 4).attr('height', 3).classed('server-line', true)
							thisGroup.append('text')
								.text(function (d) {
									return d.type;
								})
								.each(wrap)
								.attr('class', function (d) {
									return 'servernode-text';
								})
								.attr({
									'y': '16', 'x': function (d) {
										return node_required_width - ((node_required_width / 2) + 20);
									}
								})
								.attr('name', function (d) {
									return "Text" + d.type;
								});

						}
						if (d.type && d.type != 'Node' && d.type != 'Expansion') {
							var chassis = d3.select(this);

							var eachnodewidth = node_required_width / 2;
							var eachnodeheight = 22;
							var clusterType = d.clusterType
							if (clusterType == 'ISILON_STORAGE' ) {
								eachnodewidth = node_required_width / 4;
								eachnodeheight = 44;
							}
							var chassisGroup = chassis.selectAll('g')
								.data(f('nodes')).enter()
								.append('g')
								.attr('transform', function (d, i) {
									group_x_position = 0;
									if (clusterType == 'ISILON_STORAGE') {
										group_x_position = i * eachnodewidth;
										group_y_position = 0;
										return 'translate(' + group_x_position + ',' + group_y_position + ')'
									}
									if (i % 2 != 0) group_x_position = eachnodewidth;
									group_y_position = (i / 2 < 1 ? 0 : 25)
									return 'translate(' + group_x_position + ',' + group_y_position + ')'
								});
							chassisGroup.append('rect').attr('width', (eachnodewidth - 5)).attr('height', eachnodeheight).attr('rx', 2).attr('ry', 2).classed('server', true)
								.on("mouseover", function (d, i) {
									toolTiplinks = [];
									if (d.links && d.links.length > 0) {
										d.links.forEach(function (linkVal, i) {
											if (linkVal.children && linkVal.children.length > 0) {
												linkVal.children.forEach(function (children, i) { toolTiplinks.push(children) })
											}
										})
									}
									toolTip.transition()
										.duration(200)
										.style("display", "block");
									toolTip.html("<h3 class='popover-title'>Node details</h3><button type='button'  tabindex='-1' class='popover-close btn close' onclick=document.getElementById('networkPopover').style.display='none'; aria-label='Close'><span aria-hidden='true'>×</span></button> " +
										"<div class='popover-content'>" +
										"<strong>Name: </strong>" + d.name + "<br>" +
										"<strong>Type: </strong>" + d.model + "<br></div><hr class='tooltip-hr'><h3 class='popover-title'>Link details</h3><div class='popover-content'><div class='popover-scroll'>"
										+ ((toolTiplinks && toolTiplinks.length) ?
											(function (v) {
												var tmp = "";
												for (var i = 0; i < toolTiplinks.length; i++) {
													tmp += "<strong>Source - </strong>" + toolTiplinks[i].srcSwitch + "<strong>:</strong> " + toolTiplinks[i].srcPort + "<br>";
													tmp += "<strong>Destination - </strong>" + toolTiplinks[i].dstNode + "<strong>:</strong> " + toolTiplinks[i].dstNodePort;
													tmp += "<hr class='tooltip-hr'>"
												}
												return tmp;

											})(d) : "<strong>Source: </strong>" + link.srcPort + "<br>" + "<strong>Destination: </strong>" + link.dstPort) + "</div>")
										.style("left", (d3.event.pageX) + "px")
										.style("top", (d3.event.pageY - 28) + "px");
									$('.popover').focus();
								})
								.on("mouseout", function (d) {
									/*toolTip.transition()
										.duration(500)
										.style("display", "none");*/
									$('.popover').on('mouseleave', function () {
										$(this).fadeOut(300);
									})
								});
							chassisGroup.append('circle').attr({ 'cy': 10, 'cx': 8, 'fill': "skyblue", 'r': "2" })
								.attr('width', eachnodewidth / 4).attr('height', 3).classed('server-line', true)
							if (clusterType == 'ISILON_STORAGE') {
								chassisGroup.append('text')
									.attr('class', function (d) {
										return 'servernode-text';
									})
									.attr({
										'y': '16', 'x': function (d) {
											return eachnodewidth - ((eachnodewidth / 2) + 20);
										}
									})
									.attr('name', function (d) {
										return "Text" + d.type;
									})
									.append('tspan')
									.text(function (d) {
										return d.model.split(" ")[0]
									})
									.each(wrap)
									.attr({
										'y': '16', 'x': function (d) {
											return eachnodewidth - ((eachnodewidth / 2) + 20);
										}
									})
									.append('tspan')
									.text(function (d) {
										return d.model.split(" ")[1]
									})
									.each(wrap)
									.attr({
										'y': '29', 'x': function (d) {
											return eachnodewidth - ((eachnodewidth / 2) + 20);
										}
									});
							} else {
								chassisGroup.append('text')
									.text(function (d) {

										return d.model;
									})
									.each(wrap)
									.attr('class', function (d) {
										return 'servernode-text';
									})
									.attr({
										'y': '16', 'x': function (d) {
											return eachnodewidth - ((eachnodewidth / 2) + 20);
										}
									})
									.attr('name', function (d) {
										return "Text" + d.type;
									});
							}

							chassisGroup.append('text').classed('hide-textnode', true)
								.text(f('name'))
								.each(wrap)
								.attr({ 'y': '12', 'x': '0' })
								//.style("font-size", "1px")
								.call(saveEl);
							chassisGroup.append('rect').attr({ 'y': 12, 'x': function (d) { return eachnodewidth - (eachnodewidth / 4) } })
								.attr('width', (eachnodewidth / 4 - 5)).attr('height', 3).classed('server-line', true)
						}
						if (!d.type) {
							var thisGroup = d3.select(this);
							// thisGroup.data(f('nodes')).enter();
							var eachchassiswidth = (node_required_width / 2) - 5;
							serverGs.attr('transform', function (d, i) {
								if (!d.type) {
									d.position = "left";
									group_x_position = 5;
									if (eachchassiswidth > 140) group_x_position = 10;
									if (i % 2 != 0) {
										if (eachchassiswidth > 140) group_x_position = eachchassiswidth + 70;
										else group_x_position = eachchassiswidth + 35
									}

									var ypos;
									if (i % 2 == 0) {
										ypos = (i + 1) * 22;
										d.position = "left";
									} else {
										ypos = i * 22;
										d.position = "right";
									}
									group_y_position = ypos;
									return 'translate(' + group_x_position + ',' + (group_y_position + 3) + ')'
								} else {
									node_position = (i * 25) + 30;
									if (d.type && d.type == 'Chassis') {
										node_position = (i * 55) + 30;
									}
									return 'translate(8,' + node_position + ')'
								}
							});
							var eachchassiswidth = (node_required_width / 3) - 5;
							thisGroup.append('rect').attr('width', eachchassiswidth)
								.attr('height', 40).attr('rx', 2).attr('ry', 2).classed('server', true)
								.on("mouseover", function (d, i) {
									toolTiplinks = [];
									if (d.links && d.links.length > 0) {
										d.links.forEach(function (linkVal, i) {
											if (linkVal.children && linkVal.children.length > 0) {
												linkVal.children.forEach(function (children, i) { toolTiplinks.push(children) })
											}
										})
									}
									toolTip.transition()
										.duration(200)
										.style("display", "block");
									toolTip.html("<h3 class='popover-title'>Node details</h3><button type='button'  tabindex='-1' class='popover-close btn close' onclick=document.getElementById('networkPopover').style.display='none'; aria-label='Close'><span aria-hidden='true'>×</span></button> " +
										"<div class='popover-content'>" +
										"<strong>Name: </strong>" + d.displayName + "<br>" +
										"<strong>Type: </strong>" + d.model + "<br></div><hr class='tooltip-hr'><h3 class='popover-title'>Link details</h3><div class='popover-content'><div class='popover-scroll'>"
										+ ((toolTiplinks && toolTiplinks.length) ?
											(function (v) {
												var tmp = "";
												for (var i = 0; i < toolTiplinks.length; i++) {
													if (toolTiplinks[i].linkType == "CHASSISLINK") {
														tmp += "<strong>Source - </strong>" + toolTiplinks[i].srcChassisSwitch + "<strong>:</strong> " + toolTiplinks[i].srcPort + "<br>";
														tmp += "<strong>Destination - </strong>" + toolTiplinks[i].dstChassisSwitch + "<strong>:</strong> " + toolTiplinks[i].dstPort;
														/*if(toolTiplinks[i].srcChassisSwitch)
															tmp += "<strong>Source - </strong>" + toolTiplinks[i].srcChassisSwitch + "<strong>:</strong> " + toolTiplinks[i].srcPort + "<br>";
														else
															tmp += "<strong>Source - </strong>" + toolTiplinks[i].srcSwitch + "<strong>:</strong> " + toolTiplinks[i].srcPort + "<br>";
														tmp += "<strong>Destination - </strong>" + toolTiplinks[i].dstChassisSwitch + "<strong>:</strong> " + toolTiplinks[i].dstPort;*/
													}
													else {
														tmp += "<strong>Source - </strong>" + toolTiplinks[i].srcSwitch + "<strong>:</strong> " + toolTiplinks[i].srcPort + "<br>";
														tmp += "<strong>Destination - </strong>" + toolTiplinks[i].dstNode + "<strong>:</strong> " + toolTiplinks[i].dstNodePort;
													}
													tmp += "<hr class='tooltip-hr'>"
												}
												return tmp

											})(d) : "<strong>Source: </strong>" + link.srcPort + "<br>" + "<strong>Destination: </strong>" + link.dstPort) + "</div>")
										.style("left", (d3.event.pageX) + "px")
										.style("top", (d3.event.pageY - 28) + "px");
									$('.popover').focus();

								})
								.on("mouseout", function (d) {
									/*toolTip.transition(
										.duration(500)
										.style("display", "none");*/

									$('.popover').on('mouseleave', function () {
										$(this).fadeOut(300);
									})
								});
							thisGroup.append('text')
								//.attr("style",{"font-family:clarity4;"})
								.attr('class', function (d) {
									if (eachchassiswidth > 60) {
										return 'chassisnode-big-icon';
									}
									else {
										return 'chassisnode-tiny-icon';
									}
								})
								.text(function (d) {
									return '\uea0c';
								}).attr({
									'y': '13', 'x': function (d, i) {
										xpos = 0;
										if (eachchassiswidth < 40) {
											xpos = 5;
											if (d.position == "right") {
												xpos = 20;
											}
										}
										else {
											xpos = 10;
											if (d.position == "right") xpos = eachchassiswidth - 30;
										}
										return xpos;

									}
								})
							/*thisGroup.append('text').classed('hide-textnode', true)
							.text(f('name'))
							.attr({ 'y': '1em', 'x': '0' })
							.call(saveEl);*/
							//thisGroup.append('circle').attr({'cy':10,'cx':8,'fill':"skyblue",'r':"2"})
							//.attr('width', eachchassiswidth/2).attr('height', 3).classed('server-line', true)
							thisGroup.append('circle').attr({
								'cy': 20, 'cx': function (d, i) {
									xpos = eachchassiswidth - 8;
									if (d.position == "right")
										xpos = 8;
									return xpos;
								}, 'fill': "skyblue", 'r': "5", 'stroke': '#777', 'stroke-width': '3px'
							})
								.attr({ 'y': '60', 'x': (eachchassiswidth - (eachchassiswidth / 2) - 25) })
								//.style("font-size", "1px")
								.call(saveEl);
							thisGroup.append('text')
								.text(function (d) {
									return d.displayName;
								})
								.each(wrap)
								.attr('class', function (d) {
									if (eachchassiswidth > 60) {
										return 'chassisnode-big-text';
									} else if (eachchassiswidth < 60 && eachchassiswidth > 40) {
										return 'chassisnode-small-text';
									} else {
										return 'chassisnode-tiny-text';
									}
								})
								.attr({
									'y': function (d) {
										if (eachchassiswidth > 60) return '40';
										else if (eachchassiswidth < 60 && eachchassiswidth > 40) return "66";
										else return "35"
									}, 'x': function (d) {
										xpos = 10;
										if (d.position == "right" && eachchassiswidth > 60) xpos = 20;
										if (eachchassiswidth < 40) xpos = 2;
										return xpos;
									}
								})
								.attr('name', function (d) {
									return "Text" + d.name;
								});

							/*thisGroup.append('rect').attr({'y':12,'x':function(d){ return eachchassiswidth - (eachchassiswidth/4)}})
							.attr('width', eachchassiswidth/4).attr('height', 3).classed('server-line', true)*/
						};
					})




					nodeGs.append('text').classed('hide-textnode', true)
						.text(f('name'))
						//.each(wrap)
						.attr({ 'y': '14', 'x': '0' })
						.call(saveEl);


					nodeGs.append('image')
						.attr('xlink:href', function (d) {
							if (d.name == 'Cloud') {
								//return 'styles/images/fdc-cloud.png';
								return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABoCAYAAAB2dPv0AAABaUlEQVR42u3b0YkDQQwFwck/tsnJDsHgj22xqgedgKbwwWGfY2Zmlu7e+/knl7PHsEFpo+GBaDk6GG0cPhDBg9DAAxE+CA0+EMGD0OCDED4IDT4I4YPQAIQQPgANPggfggIfhGM+mQAEcMyfRPgg9GkEIHiCED4A4dNChB4aQPi0D6HHBRA+7QPoUQEEUDsRekwA4ROAghA+ASgAAdS7AXo8AAHULoAeDEDo9H6AHgZA8LQHoIcAEDztAuj4ygA6vODTPoCOrgyggyuD6MjKEDquMogOqhShYypD6IhKETqgMoQOpxShoylD6FhKETqUANROhA4kALUXoeMoA+gwShE6igAUgFKC0EEEoACUABSAEoACUAJQ/hktASgAJV/LEoCSb0XLb0MkAOX3wRKAegc+CAWgduODUCMAQqgUH4TK8UGoHB+EGgEQQqX4IFQKD0SNwQehcnwg6kybRwEPRu1FByN4Zmb2a187iCymBHdFIwAAAABJRU5ErkJggg==';
							} else {
								//return 'styles/images/switch-icon.png';
								return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABQCAYAAACeXX40AAAEiUlEQVR42u2dT0ybZRzHG/8lXVmyLCntysJIJ6RjMGj7ttNhxGnUA04tpFlVaEv521KUUiwg/5livHjx4E2jx95nvHjzpsarMXpTEz2YaDQxbvbxeTqWrH0GgfG2HeXzSb5J8/RNaJ73w+/3e9+2YLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAECtSKfTRjKZ7CX1G3mOPfelfKOjo+/IFMbHx0kdZ2xs7N/h4eGltbW1B+4L8eSLejgWi30iX5h6gYLUf9S5lhJ+Iauhq6bypVKphkQi8TnyHU0J5bn/bWRkpK8m8sXjcaf8LfhmuzRzUo5opICqGr4vW/IjVZMvGo22yR/8I5WPbEdJ+LUsSq3VkO9xVXrZdFIeeRH6p3QjWjH5ZNW7In/I32w22UVCVQ0/DYfDDWbPfBOy5d5gk8leWrKshN/HYjG/WZXv2vY9PjaX7OdK+R9ZDTP3LJ68snlIznwfc7FBDnjP8LqMfV/yDQ0N2WQZ/Qz5iEkt+WeZy3t9W80h+/dX3OMjJl+g3JTXEm/n8/kHd5RvcHDwUTnz/YB8pILvoHwpHzdr8sk+fVE++SsbRaog4e8yA3feYA5NTk7+MTs7KwipRmZmZgrJZPLDTCZjtSwuLubkVe+N9fV1QUgVU5ifn79mWV1d/YvNILWILHw/qXt+hfInstmsmJqaEul0mhDTsrS0pKS7U8CCJmAkEhFer1f4fD5CTI1hGELOfSXFrkTAjY0NEQwGhd/vJ6QiGRgYKKmCmoDKUjaKVCr9/f0IeJD4fLeyn3Wvd+/rCIiAu8q3mTXEW2l9j3JJQ2zlApqEU3FDfLAeEN1lssWv+sVH7wWOnIQIeEABM6OGSEb1PZoYMkR2wtAEjIb9YvUNQxMt/KJfvDuPgAhIEPBQxbed/ax7TVj3777u8/v2fjwCHl75HFGHcEVcJSdcPW662iQaY40lEqr1M6Ez4uT4SU0Gd59bHE8f19bbnm0TthmbJlT7U+3i2Owx0XWxq2S981Jncb3jiY6S9e5gt7BlbOLc5XMIWE8CKqHcV9yagO4X3KK5v1kTsPX5VtEUadKqo+cZj3AOOjUB23vbiyKrG7clovV0CvuwXXgNb8m6EtKesGtiquPU8eViIuBhvxCRUt2t3Zm1fvu5Sq4jIDOg6bPhjjOgDwHrSj7VHp2vObVK43rFVWx55S1YteUTkyf0GVC27IbXG/QZ8Lm24kxX3mrVLGeds2qttqOnQ1jftN51BlTHe572IGA9CdjyUktRnnIBz/adFS0vt2gCKqFOh0/rM6AU49Srp7T180+eF44hhzYDXrh0oSi/NgMGu0RjvFGfAf1e4Yg5irMjAjID1mTWYwYkZL8CBgIBNorU5uNYKqFQSJs/CDHnvXSfmJ6e3vkDqbeTSqVEIpEgxNTMzc1p3wtRAt7kCzKkRl9K+s+ysrLyHZtBapRvLblc7rHl5eVftlsxIRWPck05t7CwcOvvCObzeevm5mbP1tZWLyGVjnJNOce/eAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuGf+Bxi8EDkcXQkKAAAAAElFTkSuQmCC';
							}
						})
						.attr('x', function (d) {
							if (d.name == 'Cloud') {
								return (d.sbb.x + d.sbb.width / 2) - 80
							} else {
								return (d.sbb.x + d.sbb.width / 2) - 40
							}
						})
						.attr('y', function (d) {
							if (d.name == 'Cloud') {
								return (d.sbb.y + d.sbb.height / 2) - 40
							} else {
								return (d.sbb.y + d.sbb.height / 2) - 20
							}
						})
						.attr('height', function (d) {
							if (d.name == 'Cloud') {
								return '80px';
							} else {
								return '40px';
							}
						})
						.attr('width', function (d) {
							if (d.name == 'Cloud') {
								return '160px';
							} else {
								return '80px';
							}
						})
						.attr('name', function (d) {
							return "Node" + d.name;
						}).on("mouseover", function (d, i) {
							if (d.name != 'Cloud') {
								toolTip.transition()
									.duration(200)
									.style("display", "block");
								toolTip.html("<h3 class='popover-title'>Node details</h3>" +
									"<div class='popover-content'>" +
									"<strong>Name: </strong>" + d.name + "<br>" +
									"<strong>Type: </strong>" + d.model + "<br>" +
									"</div>")
									.style("left", (d3.event.pageX) + "px")
									.style("top", (d3.event.pageY - 28) + "px");
								$('.popover').focus();
							}
						})
						.on("mouseout", function (d) {
							/*toolTip.transition()
								.duration(500)
								.style("display", "none");*/
							$('.popover').on('mouseleave', function () {
								$(this).fadeOut(300);
							})
						});


					nodeGs.append('text')
						.text(function (d) {
							if (d.name == 'Cloud') {
								return "Fabric Uplink";
							} else {
								return d.shortname;
							}
						})
						.each(wrap)
						.attr('class', function (d) {
							if (d.name == "Cloud") {
								return 'cloud-text';
							} else {
								return 'group-text';
							}
						})
						.attr({
							'y': '32', 'x': function (d) {
								if (d.name == "Cloud") {
									return '-20';
								} else {
									return '5';
								}
							}
						})
						.attr('name', function (d) {
							return "Text" + d.name;
						});

					/*mgmtSwitchGs.append('image')
						 .attr('xlink:href', function (d) {
								 return 'styles/images/switch-icon.png';
						 })
						 .attr('x', function (d) {
								 return 0
						 })
						 .attr('y', function (d) {
								 return -5
						 })
						 .attr('height', function (d) {
								 return '40px';
						 })
						 .attr('width', function (d) {
								 return '133px';
						 })*/
					var otherlinks = links.filter(function (d) { return d.linkType != "DOWNLINK" && d.linkType != "CHASSISLINK" });
					var downlinks = links.filter(function (d) { return d.linkType == "DOWNLINK" });
					var chassislinks = links.filter(function (d) { return d.linkType == "CHASSISLINK" });
					var linksEl = linkG.selectAll('path')
						.data(otherlinks).enter()
						.append('path').attr('class', function (d) {
							if (d.linkType == "VLT") {
								if (browser() == 'firefox') {
									d.src.p[1] = d.src.p[1] - margin.top;
									d.tgt.p[1] = d.tgt.p[1] - margin.top;
								}
								return "link-vlt";
							} else if (d.linkType == "ISL") {
								return "link-isl";
							} else if (d.linkType == "UPLINK") {
								if (browser() == 'firefox') {
									d.tgt.p[1] = d.tgt.p[1] - (margin.top / 2);
								}
								return "link-uplink";
							}
							else if(d.fabricType != null && d.fabricType=="INT-A")
							{
								return "link-inta";								
							} 
							else {
								return "link";
							}
						})
						.attr('d', function (d) {

							return ['M', d.src.p, 'L', d.tgt.p].join(' ')
						})
						.attr('name', function (d) {
							return "Link" + d.name;
						})
						.on("mouseover", function (d) {
							if (d.linkType != "UPLINK") {
								toolTip.transition()
									.duration(200)
									.style("display", "block");
								toolTip.html("<h3 class='popover-title'>Link details</h3>" +
									"<div class='popover-content'>" + ((d.children && d.children.length) ?
										(function (v) {
											var tmp = "";
											for (var i = 0; i < v.children.length; i++) {
												tmp += "<strong>Source - </strong>" + v.children[i].srcSwitch + "<strong>:</strong> " + v.children[i].srcPort + "<br>";
												tmp += "<strong>Destination - </strong>" + v.children[i].dstSwitch + "<strong>:</strong> " + v.children[i].dstPort;
												tmp += "<hr class='tooltip-hr'>"
											}
											return tmp;

										})(d) : "<strong>Source: </strong>" + d.srcPort + "<br>" + "<strong>Destination: </strong>" + d.dstPort) + "</div>")
									.style("left", (d3.event.pageX) + "px")
									.style("top", (d3.event.pageY - 28) + "px");
								$('.popover').focus();
							} else {
								toolTip.transition()
									.duration(200)
									.style("display", "block");
								toolTip.html("<h3 class='popover-title'>Link details</h3>" +
									"<div class='popover-content'>" + ((d.children && d.children.length) ?
										(function (v) {
											var tmp = "";
											for (var i = 0; i < v.children.length; i++) {
												tmp += "<strong>Source - </strong>" + v.children[i].srcSwitch + "<strong>:</strong> " + v.children[i].srcPort;
												tmp += "<hr class='tooltip-hr'>"
											}
											return tmp;

										})(d) : "<strong>Source: </strong>" + d.srcPort) + "</div>")
									.style("left", (d3.event.pageX) + "px")
									.style("top", (d3.event.pageY - 28) + "px");
								$('.popover').focus();
							}

						})
						.on("mouseout", function (d) {
							/*toolTip.transition()
								.duration(500)
								.style("display", "none");*/
							$('.popover').on('mouseleave', function () {
								$(this).fadeOut(300);
							})
						});



					var ellipseVLT = linkG.selectAll('ellipse')
						.data(links.filter(function (d) { return d.linkType == "VLT" })).enter()
						.append("ellipse").classed('ellipse-vlt', true)
						.attr({ rx: '12', ry: '12' })
						.attr("cy", function (d) {
							return d.src.p[1];
						})
						.attr("cx", function (d) { return (d.tgt.p[0] + d.src.p[0]) / 2; })

					var ellipseISL = linkG.selectAll('circle')
						.data(links.filter(function (d) { return d.linkType == "ISL" })).enter()
						.append("circle").classed('circle-isl', true)
						.attr('r', '12')
						.attr("cy", function (d) {
							return d.src.p[1];
						})
						.attr("cx", function (d) { return (d.tgt.p[0] + d.src.p[0]) / 2; })

					var linksE2 = linkG2.selectAll('path')
						.data(downlinks).enter()
						.append('path').attr('class', function (d) {
							if (browser() == 'firefox') {
								d.tgt.p[1] = d.tgt.p[1] - (margin.top / 2);
							}
							if(d.fabricType != null && d.fabricType=="INT-A")
							{
								return "inta-server-link";								
							} 
							else
								return "server-link";
						})
						.attr('d', function (d) {
							start_left_position = 15
							start_right_position = 15
							if (d.src.position % 2 == 0) {
								return ['M', d.src.p[0] + start_right_position, d.src.p[1], 'V', d.src.p[1], d.tgt.p[1], 'H', d.tgt.p[0], d.tgt.p[0]].join(' ')
							}
							else {
								return ['M', d.src.p[0] - start_left_position, d.src.p[1], 'V', d.src.p[1], d.tgt.p[1], 'H', d.tgt.p[0], d.tgt.p[0]].join(' ')
							}
						})
						.attr('name', function (d) {
							return "Link" + d.name;
						});
					var linkG3 = svg.append('g');
					var color = d3.scale.category10();
					var linksE3 = linkG3.selectAll('path')
						.data(chassislinks).enter()
						.append('path').attr('class', function (d) {
							return "chassislink";
						})
						.attr('d', function (d) {

							return ['M', d.src.p, 'L', d.tgt.p].join(' ')
						}).attr('fill', 'none')
						.attr('stroke', function (d, i) {
							return "red";
						})
						.attr('stroke-width', function (d) {
							//	return strokeScale(Math.random() * 10);
							return 2;
						})
						.attr('stroke-opacity', 1)
						.attr("stroke-dasharray", function () {
							return this.getTotalLength() + " " + this.getTotalLength();
						})
						.attr("stroke-dashoffset", function () {
							return this.getTotalLength()
						})
						.attr('name', function (d) {
							return "Link" + d.name;
						}).transition()
						.duration(1000)
						.ease("linear")
						.attr("stroke-dashoffset", 0)

					spinnerOverlay.stop();
					// Adding space after rendering
					d3.selectAll('svg > g')
						.attr("transform", "translate(0," + margin.top + ")");

					function saveEl(sel) {
						sel.each(function (d) {
							d.sel = d3.select(this)
							d.sbb = d.sel.node().getBBox()
							d.bb = offsetBB(d.sel.node().getBoundingClientRect())
							d.p = [d.bb.left + d.bb.width / 2, d.bb.top + d.bb.height / 2]
						})
					}

					function offsetBB(bb) {
						var obj = { width: bb.width, height: bb.height, left: bb.left, top: bb.top }
						obj.left -= svgBB.left
						obj.top -= svgBB.top
						return obj
					}



				}
				$rootScope.$on('networkDataReady', function (evt, data) {
					scope.networkData = data;
					if (scope.networkData) scope.render(scope.networkData);
				});
			}
		}
	}]);
angular
	.module(APP_NAME)
	.service('outputService', ['$http', function ($http) {
		this.getApplianceInfo = function (url) {
			var promise = $http({
				method: "get",
				url: url
			}).then(function (response) {
				return response.data;
			}, function () {

			});
			return promise;
		}
	}]);
angular
    .module(APP_NAME)
    .service('linkService', ['$http', 'fabricService', function ($http, fabricService) {
        /** A common config object for all http calls */
        var config = {
            headers: {
                'Content-Type': 'application/json'
            }
        };
        /**Update Fabric Router and Link details */
        this.getselectedFabricProtocol = function (selectedview) {
            if(selectedview == undefined || selectedview == null)
                selectedview = null
            return $http.post('/rest/design/fabric/protocol/ ', {data: fabricService.getData(),view:selectedview}, config);
        }
        this.update_irb = function(asymmetric_irb_data,symmetric_irb_data){
            var config = {
                headers : {
                    'AcceptMethod': 'write'
                }
            }; 
            return $http.post('/rest/build/update_irb/ ', {data: fabricService.getData(),asymmetric_irb_input: asymmetric_irb_data,symmetric_irb_input: symmetric_irb_data}, config);
        }
        this.getVltiInfoSettings = function(view)
        {
            return $http.post('/rest/build/getvlti_vlans/ ', { data: fabricService.getData(),view:view }, config);
        }
        this.getIrbInfo = function()
        {
            return $http.post('/rest/build/get_irb_info/ ', { data: fabricService.getData() }, config);
        }
        /**Update Fabric Router and Link details */
        this.getFabricNetworkSettings = function (view) {
            return $http.post('/rest/build/getfabricnetworksettings/ ', { data: fabricService.getData(),view:view }, config);
        }
        /**get Router Serrings Default */
        this.getRouterSettingsDefault = function (view) {
            return $http.post('/rest/build/routersettings/defaults/ ', { data: fabricService.getData(),view:view }, config);
        }
        this.getCBISRouterSettingsDefault = function () {
            return $http.post('/rest/build/cbisroutersettings/defaults/ ', { data: fabricService.getData() }, config);
        }
        this.getDeploymentType = function(){
			return $http.post('/rest/design/getDeploymentType/',data=fabricService.getData())			
        }
        this.generateCBISRouterSettings = function (data) {
            var config = {
                   headers : {
                       'AcceptMethod': 'write'
                   }
           }; 
           if(data) data.data=fabricService.getData();           
           return $http.post('/rest/build/cbisroutersettings/generate/ ', data, config);
       }
         /**generate Router Serrings */
        this.generateRouterSettings = function (data,view) {
             var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			}; 
            if(data) data.data=fabricService.getData();
            if(view) data.view = view
            return $http.post('/rest/build/routersettings/generate/ ', data, config);
        }
        /**Update Router details */
        this.updateRouterSettings = function (dataObj,view) {
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};  
            if (dataObj)
                dataObj.data = fabricService.getData();
            if(view)
                dataObj.view = view
            return $http.post('/rest/build/routersettings/ ', dataObj, config);
        }
        /**Update Uplink details */
        this.updateUplinkSettings = function (dataObj,view) {
          var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};
            if (dataObj)
                dataObj.data = fabricService.getData();
            if(view)
                dataObj.view = view
            return $http.post('/rest/build/l3uplinkprotocolsettings/', dataObj, config);
        }
        /**Update Fabric link details */
        this.updateFabriclinkSettings = function (dataObj) {
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};
            if (dataObj)
                dataObj.data = fabricService.getData();
            if(view)
                dataObj.view = view
            return $http.post('/rest/build/l3fabriclinkprotocolsettings/', dataObj, config);
        }
        this.updatevltiVlans = function (dataObj,view) {
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};
            if (dataObj)
                dataObj.data = fabricService.getData();
            if(view)
                dataObj.view = view
            return $http.post('/rest/build/vltivlansupdate/', dataObj, config);
        }
        /**Update Auto-Complete Router Settings details */
        this.updateAutoCompleteRouterSettings = function (dataObj) {
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};
            if (dataObj)
                dataObj.data = fabricService.getData();
            return $http.post('/rest/build/routersettings/autofill/', dataObj, config);
        }
        /**Update Auto-Complete Uplinkdetails */
        this.updateAutoCompleteUplinkSettings = function (dataObj) {
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};
            if (dataObj)
                dataObj.data = fabricService.getData();
            return $http.post('/rest/build/l3uplinkprotocolsettings/autofill/', dataObj, config);
        }
        /**Update Auto-Complete Fabriclink details */
        this.updateAutoCompleteFabriclinkSettings = function (dataObj) {
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			};
            if (dataObj)
                dataObj.data = fabricService.getData();
            return $http.post('/rest/build/l3fabriclinkprotocolsettings/autofill/', dataObj, config);
        }
    }]);
angular
	.module(APP_NAME)
	.service('logicalrackservice', ['$rootScope', function ($rootScope) {
		var activeNode='',activename='',activeProperty=null,activeRack='',activeCluster="",activeType="";

		 this.getActiveNode = function () {
           return activeNode;
         };
		  this.getActiveProperty = function () {
           return activeProperty;
         };
			 this.getActiveNodeName = function () {
           return activename;
         };
			 this.getActiveRack = function () {
           return activeRack;
         };
			 this.getActiveCluster = function () {
           return activeCluster;
         };
				  this.getActiveType = function () {
           return activeType;
         };
		 this.setActiveProperty=function(options,type,rackId,clusterId){
			 	if(options) activeProperty=options;
				if(type)activeType=type;
		/*	if(node)activeNode=node;
			if(options) activeProperty=options;
			if(options.name) activename=options.name; 
			if(options.rackId) activeRack=options.rackId;
			if(options.clusterId) activeCluster=options.clusterId; */
      var data= { data: options, type: type, rackId: rackId || null, clusterId: clusterId || null }
			notify(data);          
		 }
		  this.subscribe= function(scope, callback) {
            var handler = $rootScope.$on('notifying-service-event', callback);
            scope.$on('$destroy', handler);
        },

       notify= function(data) {
            $rootScope.$emit('notifying-service-event',data);
      }
	}]);
angular
	.module(APP_NAME)
	.controller('logicalViewCtrl', ['$scope', '$location', '$translate', '$rootScope', '$cookies', '$http', 'dlcuiModal', 'fabricService', '$state', 'toaster',
		'spinnerOverlay', 'fabricInputService', '$stateParams', 'outputService', 'VLANService', '$q', '$timeout', 'dlcuiConfirmDialog', '$uibModal', 'rackService','logicalrackservice',
		function ($scope, $location, $translate, $rootScope, $cookies, $http, dlcuiModal, fabricService, $state, toaster,
			spinnerOverlay, fabricInputService, $stateParams, outputService, VLANService, $q, $timeout, dlcuiConfirmDialog, $uibModal, rackService,logicalrackservice) {
			var rc = this;
			rc.rackList1 = [
				{ "name": "Rack1" }
			];
			rc.propertyLoading = "Loading..."
			rc.initCarousel = function () {
				// Stop loading...					
			}
			$scope.showEdit = function(prop,logicalData){
				if (prop.type=='fabric' && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Edit Fabric')>-1)) 
					return true
				else if (prop.type=='rack' && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Edit Rack')>-1))
					return true
				else if (prop.type=='cluster' && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Edit Workload')>-1))
					return true
				else if (logicalData.properties.deploymentType=='Nokia NFVi' && prop.type=='node' && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Edit Workload')>-1)) 
					return true
				else if (prop.type=='node' && prop.data.clusterType == 'UNITY_STORAGE')
					return true
				else
					return false
			}
			// Property pane details
			$scope.prop = {
				title: 'VxRail Cluster properties',
				data: {},
				fabricsubtype:''
			}
			// For help  page setup
			$scope.help = {
				home: 'home',
				cluster: 'cluster',
				vlan: 'vlan',
				solution: '',
			}
			$scope.fabricInputParams = {};
			$scope.fabricInputs = {
				"name": '',
				"fabricType": '',
				"description": "test",
				"designType":"",
				"clusterInputs": {},
				"mxFabricClusterInputs":[],
				"fabricItems": null,
				"ip_san_topology":null
			};
			$scope.genericFabricInputs = {
				"networkType": "",
				"rackDefaults": "",
				"fabricDefaults": ""
			};

			fabricService.fabricName().then(function (response) {
				$scope.fabricInputs.name = response.fabricname;
				$scope.fabricInputParams.name = response.fabricname;
			});
			fabricService.getFabricType().then(function (response) {
				$scope.fabricInputs.fabricType = response.fabrictype;
			});
			$scope.fabricInputs.designType = fabricService.getDesignType()
			$http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {
				{
					$scope.fabricInputs.deploymentType = res.data
				}
			});	
			fabricService.getIPSANTopology().then(function (response) {
				$scope.fabricInputs.ip_san_topology = response.ip_san_topology;
			});	
			//$scope.fabricInputs.deploymentType = fabricService.getDeploymentType()
			if($scope.fabricInputs.designType == "vertical solutions" || $scope.fabricInputs.designType == "Oracle RAC"){
				$scope.fabricSolutions = fabricService.getVerticalSolutionsFabricConfig();
			}
			else
				$scope.fabricSolutions = fabricService.getFabricConfig();
			
			$scope.isLogicalView = false;
			//$scope.selectFabricLevel = false;
			$scope.isArray = angular.isArray;
			$scope.keyLength = function (obj) {
				var length = Object.keys(obj).length;
				console.log("length is" + length)
				return length;
			}

			$scope.getClusterCount = function () {
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				$http.post('rest/common/getclusterdata/', fabricdata, config)
					.then(function (res, status, headers, config) {
						fabricInputService.clusterCountReset();
						fabricInputService.vLANcount = 1; 	// Reset vLAN count
						if (res.data) {
							angular.forEach(res.data, function (val) {
								fabricInputService.clusterCount[val.clusterType] += 1;
								fabricInputService.vLANcount += 1;
							})
						}
					}, function (data, status, headers, config) {

					});
			}

			$scope.loadFabricDetails = function (inputObj) {
				var data = {};
				if (inputObj && inputObj.properties) {
					data.name = inputObj.properties.name;
					data.topology = inputObj.properties.topologyType;
					$scope.irb_type = inputObj.properties.irb_type;
					data.uplinkprotocol = inputObj.properties.upLinkProtocol;
					data.uplinkProtocolType = inputObj.properties.upLinkProtocolType
					data.spineSwitches = inputObj.properties.spineSwitches
					data.leafSwitches = inputObj.properties.leafSwitches
					data.rackInfos = inputObj.properties.rackInfos
				}
				else {
					fabricService.fabricName().then(function (response) {
						data.name = response.fabricname;
						data.topology = "";
					});
				}
				return data;
			}
			var logicalView = $scope.$on('load-logicalview', function () {
				spinnerOverlay.start();
				$scope.loadLogicalView();
				//$scope.getClusterCount();
			});
			$scope.$on('$destroy', function () {
				logicalView();
			});
			$scope.$on('loadedLogicalView', function () {
				fabricInputService.selectNode("fabric");
				fabricService.fabricName().then(function (response) {
					$rootScope.menuOptions.pageLabel = "Fabric: " + response.fabricname;
					$scope.f_name = response.fabricname;
				});
			});			
			$scope.setActiveProperty = function (inputObj, selectedtype, rackId, clusterId) {
				$scope.activeProperty = inputObj;
				var fabricData = null;
				if (selectedtype == 'fabric') {
					fabricData = $scope.loadFabricDetails(inputObj);
					$scope.$emit('propertyData', { data: fabricData, type: selectedtype, rackId: null });
				} else {
					$scope.$emit('propertyData', { data: inputObj, type: selectedtype, rackId: rackId || null, clusterId: clusterId || null });
				}


			}


			// Control display of Delete/Edit
			function displayAction(list, type) {
				var show = true;
				if (list.length) {
					angular.forEach(list, function (val, key) {
						if (val == type) {
							show = false;
						}
					});
				}
				return show;
			}

			var rackEvents = $rootScope.$on('updateRacks', function (evt, data) {
				$scope.loadLogicalView();
			});
			$scope.$on('$destroy', function () {
				rackEvents();
			});
			$scope.loadLogicalView = function () {

				
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}


				var fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				data = {
					'data':fabricdata,
					'view':view_id//bm.viewmodel.selectedView
				}
				$http.post('rest/design/logicalview/', data, config)
					.then(function (data, status, headers, config) {
						$scope.logicalData = data.data;
						
						if(fabricService.getFabricId() == null)
							{
								var fabric_id = $scope.logicalData.fabrics[0].id
								fabricService.storefabricid(fabric_id)
							}
							fabricInputService.vLANcount = 1; 	// Reset vLAN count
							fabricInputService.clusterCountReset();
							data.data.clusterData && angular.forEach(data.data.clusterData, function (val) {
								if(val.clusterType=='MX_CHASSIS')fabricInputService.clusterCount['POD'] += 1;
								else fabricInputService.clusterCount[val.clusterType] += 1;
								fabricInputService.vLANcount += 1;
							})
						$scope.loadCarousel($scope.logicalData).then(function () {
							spinnerOverlay.stop();
							$scope.$emit("loadedLogicalView");
						})

					}, function (data, status, header, config) {
						spinnerOverlay.stop(); // Stop loading...
					});

			};		

			$scope.loadCarousel = function (obj) {
				$scope.prop.fabricsubtype=obj.fabricSubType;
				for(i=0;i<obj.nodeRacks.length;i++)
				{
					if(obj.nodeRacks[i].type=='POD')
					{
						$scope.prop.fabricsubtype=obj.nodeRacks[i].type;
					}
				}				
				rc.rackList1 = [];
				var deferred = $q.defer();
				if(obj.fabricSubType=='POD'){
					rc.rackList1.push.apply(rc.rackList1, obj.nodeRacks);
					
				}
				else {
					if(obj.podRacks) rc.rackList1.push.apply(rc.rackList1, obj.podRacks);
					if(obj.nodeRacks) rc.rackList1.push.apply(rc.rackList1, obj.nodeRacks);
				}
				//setTimeout(function() {
				if(obj.racks)rc.rackList1.push.apply(rc.rackList1, obj.racks);
				deferred.resolve('Carousel builded');
				//}, 1000);

				return deferred.promise;
			};		

			$scope.$on('propertyData', function (evt, data) {
				$scope.propertyLoading = "";

				$scope.deleteDisplay = displayAction(['fabric', 'switch', 'chassis'], data.type);
				$scope.editDisplay = displayAction(['switch', 'chassis'], data.type);
                if($scope.prop.fabricsubtype=='POD'){
                   $scope.deleteDisplay = displayAction(['fabric', 'switch'], data.type);
				   $scope.editDisplay = displayAction(['switch', 'chassis'], data.type);
				}
				if (data.type && data.type == 'fabric') {
					$scope.prop.data = data.data;
					$scope.prop.type = data.type;
					$scope.prop.rackId = "";
				} else {
					var custData = {};
					angular.extend(custData, data.data);
					if($scope.prop.fabricsubtype=='POD'){
                        if (data.type == 'chassis') {
						   custData = removeProp(['type', 'state', 'name'], custData);
						}
						if (data.type == 'node') {
							custData = removeProp(['type', 'nodes','displayName'], custData);
						}
				    	if (data.type == 'rack' && data.data && data.data.type=='Spine') {
							$scope.deleteDisplay = false;
							$scope.editDisplay = false;
						}
					/*	if (data.type == 'rack' && data.data && data.data.type=='Leaf') {
							data.data.mgmtSwitchModel=data.data.mgmtSwitch.model;
							custData = removeProp(['mgmtSwitch'], custData);														
						}
						if (data.type == 'pod') {
							data.data.mgmtSwitchModel=data.data.mgmtSwitch.model;
							custData = removeProp(['mgmtSwitch'], custData);														
						}*/
					}else{
						if (data.type == 'chassis') {
							custData = removeProp(['name', 'model', 'type', 'state'], custData);
						}
						if (data.type == 'node') {
							custData = removeProp(['type', 'nodes','displayName'], custData);
						}
						if (data.type == 'switch') {
							//custData = removeProp(['chassisSize'], custData);
						}
					/*	if (data.type == 'rack') {
							data.data.mgmtSwitchModel=data.data.mgmtSwitch.model;
							custData = removeProp(['mgmtSwitch'], custData);														
						}*/
					}
					angular.forEach(custData, function (val, key) {

						if (angular.isArray(val) && key != "clusterInfos" && key != "nodeInfos") {
							custData[key] = val.length || 'NA';
						}
						if (angular.isObject(val) && key =="mgmtSwitch") {
							custData[key] = val.model || 'NA';
						}
						if (key == 'version' && val == '0.0') {
							custData[key] = 'NA';
						}
						if (!val) {
							custData[key] = 'NA';
						}
					})
					$scope.prop.data = custData;
					$scope.prop.type = data.type;
					$scope.prop.rackId = data.rackId;
					$scope.prop.clusterId = data.clusterId;
					if($scope.prop.type=='pod')$scope.prop.data.clusterType="MX_CHASSIS";
					if($scope.prop.data.clusterType=='SAP_HANA'){
						$scope.fabricInputs.fabricItems = fabricService.getVerticalSolutionsFabricConfig($scope.prop.data.clusterType);
					}
					else if($scope.fabricInputs.designType=='Oracle RAC'){
						if($scope.prop.data.clusterType=='HCI_POWERFLEX_Appliance')
							$scope.fabricInputs.fabricItems = fabricService.getFabricConfig($scope.prop.data.clusterType);
						else					
							$scope.fabricInputs.fabricItems = fabricService.getVerticalSolutionsFabricConfig($scope.prop.data.clusterType);	
					}
					else
						$scope.fabricInputs.fabricItems = fabricService.getFabricConfig($scope.prop.data.clusterType);			
				}

			});
		    logicalrackservice.subscribe($scope, function(data,item){
				var fabricData = null;
				if (item.type == 'fabric') {
					fabricData = $scope.loadFabricDetails(item.data);
					item.data =fabricData;
					loadRightView(item)
				}else{
                  loadRightView(item)
				}
				
			});
			
			loadRightView=function(data){
				$scope.propertyLoading = "";
				//$scope.prop.fabrictype='';

				$scope.deleteDisplay = displayAction(['fabric', 'switch', 'chassis'], data.type);
				$scope.editDisplay = displayAction(['switch', 'chassis'], data.type);
				if($scope.prop.fabricsubtype=='POD'){
                   $scope.deleteDisplay = displayAction(['fabric', 'switch'], data.type);
				   $scope.editDisplay = displayAction(['switch', 'chassis'], data.type);
				}

				if (data.type && data.type == 'fabric') {
					$scope.prop.data = data.data;
					$scope.prop.type = data.type;
					$scope.prop.rackId = "";					
				} else {
					var custData = {};
					angular.extend(custData, data.data);
					
					if($scope.prop.fabricsubtype=='POD'){
                        if (data.type == 'chassis') {
						   custData = removeProp(['type', 'state', 'name'], custData);
						}
				    }else{
                        if (data.type == 'chassis') {
						custData = removeProp(['name', 'model', 'type', 'state'], custData);
						}
						if (data.type == 'node') {
							custData = removeProp(['type', 'nodes', 'displayName'], custData);
						}
						if (data.type == 'switch') {
							//custData = removeProp(['chassisSize'], custData);
						}
					}
					angular.forEach(custData, function (val, key) {

						if (angular.isArray(val) && key != "clusterInfos" && key != "nodeInfos") {
							custData[key] = val.length || 'NA';
						}
						if (key == 'version' && val == '0.0') {
							custData[key] = 'NA';
						}
						if (!val) {
							custData[key] = 'NA';
						}
					});
					//$scope.prop.fabricType=data.type?data.type:'POD';
					$scope.prop.data = custData;
					$scope.prop.type = data.type;
					$scope.prop.rackId = data.rackId;
					$scope.prop.clusterId = data.clusterId;
					if($scope.fabricInputs && $scope.fabricInputs.fabricItems)
					{
						if($scope.prop.data.clusterType=='SAP_HANA'){
							$scope.fabricInputs.fabricItems = fabricService.getVerticalSolutionsFabricConfig($scope.prop.data.clusterType);
						}
						else if($scope.fabricInputs.designType=="Oracle RAC")
						{
							$scope.fabricInputs.fabricItems = fabricService.getVerticalSolutionsFabricConfig();
						}
						else
						$scope.fabricInputs.fabricItems = fabricService.getFabricConfig($scope.prop.data.clusterType);
					}
					console.log($scope.prop);
				}

			}
			

			function removeProp(list, data) {
				if (list.length) {
					angular.forEach(data, function (val, key) {
						angular.forEach(list, function (v, k) {
							if (key == v) {
								delete data[key];
							}
						})
					})

					return data;
				}
			}

			$scope.editRack = function () {
				//	$rootScope.$broadcast('editRack_LogicalView',{"rack":$scope.prop.data});
				rackService.editRackFn($scope.prop.data);
			}
			$scope.addRack = function (rackCount) {
				//fabricInputService.getGeneratedFabricDefaults($scope.prop.data.topology).then(function(res){
				//	$rootScope.$broadcast('addRack_LogicalView');
				//})
				rackService.editRackFn(null, rackCount);

			}
			$scope.loadCluster = function () {
				$rootScope.$broadcast('editClusterlogical', $scope.prop.data);
			}
			$rootScope.$on('addWorkLoad_LogicalView', function (evt, data) {
				$scope.addWorkLoad(data.solution, data.rackId);
			})

			$scope.editGeneric = function (what,fabric_id) {
				switch (what) {
					case "fabric":
						if($scope.prop.data.clusterType=="ISILON_BACKEND_STORAGE")
						{
							$scope.editNetworkFabricModal();
						}
						else
							$scope.editNetworkFabricModal(fabric_id);
						break;
					case "rack":
						$scope.editRack();
						break;
					case "cluster":
						$scope.editClusterModal();
						break;
					case "node":
						if ($scope.prop.data.clusterType == 'UNITY_STORAGE'||$scope.fabricInputs.deploymentType=='Nokia NFVi'||$scope.prop.data.clusterType == 'PowerStore') {
							$scope.editClusterModal();
						}
						break;
				}
			}

			$scope.deleteMxChassisFabric = function(what)
			{
				console.log("Deleting")
				console.log(what)
				switch (what) {					
					case "cluster":
						$scope.deletescalablefabric();
						break;
					case "switch":
						console.log('delete switch');
						break;
				}				
			}
			$scope.deleteGeneric = function (what) {
				switch (what) {
					case "rack":
						$scope.deleteRack();
						break;
					case "cluster":
						$scope.deleteCluster();
						break;
					case "switch":
						console.log('delete switch');
						break;
					case "node":
						if ($scope.prop.data.clusterType == "UNITY_STORAGE"|| $scope.prop.data.clusterType == "PowerStore") {
							$scope.deleteCluster();
						} else {
							$scope.deleteNode();
						}
						break;
				}
			}

			$scope.getFabricRackDefaults = function (network) {
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				};
				return $http.post('/rest/design/fabric/rack/defaults/', network, config);
			}
			$scope.editNetworkFabricModal = function (fabric_id) {
				spinnerOverlay.start();
				$scope.operation = true;
				/* set your model controller and its template here for your add Node feature **/
				$scope.controller = 'logicalViewCtrl';
				$scope.template = 'fabric/design/input/fabric/networkFabricModal.html';
				//	$scope.networkFabricForm = {};
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}

				data = {'data':fabricdata,'fabric_id':fabric_id}
				$http.post('rest/design/fabric/edit/defaults/', data, config)
					.then(function (response, status, headers, config) {
					//	$scope.isFabricHide = $scope.editFromLogical && (response.data.networkType == 'Top of Rack Fabric' ? true : false);
					if(response.data.designType == "Turnkey-Backend" || response.data.designType == "NVMe-Backend")
						$scope.template = 'fabric/design/input/fabric/networkFabricModal_BE.html';					
					$scope.isFabricHide= (($scope.prop && ($scope.prop.type=='fabric') && ($scope.prop.fabricsubtype=='POD')) &&(response.data && (response.data.leafSwitchModel== "S5232F-ON") && (response.data.networkType == 'Top of Rack Fabric')))?true:false;
					if(response.data.deploymentType=="OS10 Fabric"){
					edit_defaults = fabricInputService.getGeneratedFabricDefaults(response.data.networkType,response.data.leafSwitchModel,response.data.designType,$scope.logicalData.clusterData)
					}
					else if(response.data.deploymentType=="Enterprise SONiC Fabric"){
						edit_defaults = fabricInputService.getSonicDefaults(response.data.networkType,response.data.leafSwitchModel,response.data.designType,$scope.logicalData.clusterData)
					}
					else if(response.data.deploymentType=="Nokia NFVi"){
						edit_defaults = fabricInputService.getNokiaCBISDefaults(response.data.networkType,response.data.leafSwitchModel,$scope.logicalData.clusterData)
					}
					else if(response.data.deploymentType=="GNS3 Fabric"){
						edit_defaults = fabricInputService.getGNS3FabricDefaults(response.data.networkType,response.data.leafSwitchModel,$scope.logicalData.clusterData)
					}

					edit_defaults.then(function (res) {
							if (res && res.data) {
								var networks = angular.copy(res.data.networkDefaults);
								var editableNetworks = [];
								response.data.switchDefaults = angular.copy(res.data.switchDefaults);
								var networkTypeOptions = response.data.networkTypeOptions;
								if (networkTypeOptions) {
									angular.forEach(networks, function (item) {
										for (i = 0; i < networkTypeOptions.length; i++) {
											if (networkTypeOptions[i] == item.networkType)
												editableNetworks.push(item)
										}
									});
								}
								response.data.networkDefaults = angular.copy(editableNetworks);
								response.data.filter_switch_options = angular.copy(res.data.filter_switch_options);
								if (response.data.networkDefaults.length > 1) {
									angular.forEach(response.data.networkDefaults, function (item) {
										if (item.networkType == response.data.networkType)
											response.data.selectedNetworkType = item;
									});
								} else {
									response.data.selectedNetworkType = response.data.networkDefaults[0];
								}
								angular.forEach(response.data.switchDefaults, function (item) {
									if (item.switchModel == response.data.leafSwitchModel)
										response.data.selectedLeafSwitch = item;
								});
								angular.forEach(response.data.switchDefaults, function (item) {
									if (item.switchModel == res.data.borderleafSwitchModel)
									response.data.selectedborderLeafSwitch = item;
								});								
								}	
							if (res.data.bl_upLinkInfo)
							{	
								response.data.bl_upLinkInfo = res.data.bl_upLinkInfo		
							}
							$scope.fabricEditableData = angular.copy(response.data);

							if (response.data.fabricLinkInfo)
								$scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = Number(response.data.fabricLinkInfo.overAllBandwidth);
							else
								$scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = "";
							$scope.workloadRacks = $scope.fabricEditableData.rackInfos;
							var networkFabricModalScope = fabricInputService.openNetworkFabric($scope,"Helpfabric_edit","fdc_network_fabric_input_cancel");
							networkFabricModalScope.modal.show();
							spinnerOverlay.stop();	 // Stop loading...
						});
						// })					
					}, function (data, status, header, config) {
						spinnerOverlay.stop(); // Stop loading...
					});
				/* settings done*/

			}
			$scope.bModal = function (obj) {
				var rackInputData = $uibModal.open({
					animation: true,
					backdrop: 'static',
					ariaLabelledBy: 'modal-title',
					ariaDescribedBy: 'modal-body',
					templateUrl: 'fabric/design/output/addOptionsOnFabricEdit.html',
					controller: 'fabricRacksController',
					//  size: 'sm',
					resolve: {
						items: function () {

						}
					},
					scope: $scope
				});
				rackInputData.result.then(function () {

				},
					function () {
						$scope.fabricEditOptionsErrorModel = {};
						if ($scope.firstblock) $scope.firstblock = false;
					});

				rackInputData.rendered.then(function () {
					$scope.fabricEditOptionsErrorModel = angular.copy(obj);
					$scope.firstblock = false;
					if ($scope.fabricEditOptionsErrorModel.addSpine && $scope.fabricEditOptionsErrorModel.upgradeSpine) {
						$scope.firstblock = true;
						$scope.fabricEditOptionsErrorModel.editSpine = "upgrade";
					} else {
						$scope.firstblock = false;
						if (obj.addSpine) $scope.fabricEditOptionsErrorModel.addSpine = "add";
						if (obj.upgradeSpine) $scope.fabricEditOptionsErrorModel.upgradeSpine = "upgrade";
					}

					$scope.sendWorkLoadData = function () {
						$scope.editFabricDetails(rackInputData);
						rackInputData.close('close');
					}
				});
                /* rackInputData.closed.then(function () {
                     //$scope.$emit('rackCluster', {data: obj})
                     $scope.fabricEditOptionsErrorModel = {};
                 }, function () {
 
                 });*/
			};
			this.editFabricWarningModal= function (options) {
                var defered = $q.defer();
                scope = $scope
                scope.options = options
                var NodeIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/editRackSupportedSwitchWarning.html',
                    controller: 'fabricRacksController',
                    size: 'lg',
                    resolve: {
						items: function () {
                            return scope                                                
						}
                    }
                });
				NodeIns.result.then(function (clickedAction) { 
						if(clickedAction == 'ok')
						{
							clusterIns.close && clusterIns.close();
							return 1;
						}                    
	
                        defered.resolve(clickedAction)
                });
                return defered.promise;
			}
			$scope.editFabric = function(fabricEditData,config)
			{				
					spinnerOverlay.start();
				var promise = $http.post('/rest/design/fabric/edit/', fabricEditData, config)
					.then(function (vlandata, status, headers, config) {
						$scope.displayToaster('success', 'EDIT FABRIC', 'Fabric edited successfully');
						$scope.status = "Inactive";
                        $scope.updateStatus = function() {
                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                        }
						$scope.selectNode("fabric");						
						$scope.modal.dismiss();
						// $rootScope.$broadcast('tab-logicalview');
						if($scope.modal.scope.from=='superspine')
							$scope.$emit('tab-superspine');
						else
							$scope.$emit('load-logicalview');
						//$scope.loadLogicalView();
						//spinnerOverlay.stop();
					}, function (res, status, header, config) {
						message = res.data.detail
						//if (res.data.errors && res.data.errors.message)
						//	message = res.data.errors.message
						//$scope.displayToaster('error', 'Fabric Edit', message)
						//$scope.displayToaster('error', 'EDIT FABRIC', 'Fabric cannot be edited');
						if (res.status == 400 && res.data.detail) {
							if (res.data.errors && Object.keys(res.data.errors).length > 0)
								$scope.bModal(res.data.errors);
							fabricInputService.displayToaster('warning', 'EDIT FABRIC', res.data.detail);
						}
						spinnerOverlay.stop();
						if (res.status == 400) {
							if (res.data.errors) {
								angular.forEach(res.data.errors, function (error, index) {
									var fieldName = "fdc_" + error.field;

									$scope.networkFabricForm[fieldName].$dirty = true;
									$scope.networkFabricForm[fieldName].$invalid = true;
									$scope.networkFabricForm[fieldName].$$attr.uibTooltip = error.message;

									if (index == 0) {
										var focusField = "[name=\"" + fieldName + "\"]";
										$timeout(function () { $(focusField).focus(); });
									}
								});
							}
							if (res.data) {
								angular.forEach(res.data, function (field, key) {
									if (field.errors) {
										angular.forEach(field.errors, function (error, index) {
											var fieldName = 'fdc_' + key + '_' + error.field;

											$scope.networkFabricForm[fieldName].$dirty = true;
											$scope.networkFabricForm[fieldName].$invalid = true;
											$scope.networkFabricForm[fieldName].$$attr.uibTooltip = error.message;
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										});
									}
								});
							}
							$scope.displayToaster('error', 'EDIT FABRIC', 'Fabric edit failed');
						} else {
							$scope.displayToaster('error', 'EDIT FABRIC', res.data.detail);
						}
						$scope.fabricEditOptionsErrorModel = {};
						if ($scope.firstblock) $scope.firstblock = false;
					});
				
			}
			$scope.addFabric = function(fabricEditData,config)
			{				
					spinnerOverlay.start();
				var promise = $http.post('/rest/design/fabric/addfabric/', fabricEditData, config)
					.then(function (vlandata, status, headers, config) {
						$scope.displayToaster('success', 'ADD FABRIC', 'Fabric added successfully');
						$scope.status = "Inactive";
                        $scope.updateStatus = function() {
                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                        }
						$scope.selectNode("fabric");						
						$scope.modal.dismiss();
						// $rootScope.$broadcast('tab-logicalview');
						if($scope.modal.scope.from=='superspine')
							$scope.$emit('tab-superspine');
						else
							$scope.$emit('load-logicalview');
						//$scope.loadLogicalView();
						//spinnerOverlay.stop();
					}, function (res, status, header, config) {
						message = res.data.detail
						//if (res.data.errors && res.data.errors.message)
						//	message = res.data.errors.message
						//$scope.displayToaster('error', 'Fabric Edit', message)
						//$scope.displayToaster('error', 'EDIT FABRIC', 'Fabric cannot be edited');
						if (res.status == 400 && res.data.detail) {
							if (res.data.errors && Object.keys(res.data.errors).length > 0)
								$scope.bModal(res.data.errors);
							fabricInputService.displayToaster('warning', 'ADD FABRIC', res.data.detail);
						}
						spinnerOverlay.stop();
						if (res.status == 400) {
							if (res.data.errors) {
								angular.forEach(res.data.errors, function (error, index) {
									var fieldName = "fdc_" + error.field;

									$scope.networkFabricForm[fieldName].$dirty = true;
									$scope.networkFabricForm[fieldName].$invalid = true;
									$scope.networkFabricForm[fieldName].$$attr.uibTooltip = error.message;

									if (index == 0) {
										var focusField = "[name=\"" + fieldName + "\"]";
										$timeout(function () { $(focusField).focus(); });
									}
								});
							}
							if (res.data) {
								angular.forEach(res.data, function (field, key) {
									if (field.errors) {
										angular.forEach(field.errors, function (error, index) {
											var fieldName = 'fdc_' + key + '_' + error.field;

											$scope.networkFabricForm[fieldName].$dirty = true;
											$scope.networkFabricForm[fieldName].$invalid = true;
											$scope.networkFabricForm[fieldName].$$attr.uibTooltip = error.message;
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										});
									}
								});
							}
							$scope.displayToaster('error', 'ADD FABRIC', 'Add fabric failed');
						} else {
							$scope.displayToaster('error', 'ADD FABRIC', res.data.detail);
						}
						$scope.fabricEditOptionsErrorModel = {};
						if ($scope.firstblock) $scope.firstblock = false;
					});
				
			}
			$scope.editFabricDetails = function (form) {
				spinnerOverlay.start();
				var fabricdata = fabricService.getData();
				console.log($scope.fabricInputModel)
				var fabdata = angular.copy($scope.fabricInputModel);
				var editRack = false

				fabdata.upLinkInfo.protocol = angular.copy(fabdata.selectedUplinkProtocol);
				fabdata.upLinkInfo.protocolType = angular.copy(fabdata.selectedUplinkProtocolType);
				fabdata.upLinkInfo.bandwidth = angular.copy(fabdata.selectedUplinkBandwidth.bandwidth);
				fabdata.upLinkInfo.physicalType = angular.copy(fabdata.selectedUplinkBandwidth.physical_type);
				if(fabdata.deploymentType == "Nokia NFVi")
				{
				fabdata.bl_upLinkInfo.bandwidth = angular.copy(fabdata.selectedBLUplinkBandwidth.bandwidth);
				fabdata.bl_upLinkInfo.physicalType = angular.copy(fabdata.selectedUplinkBandwidth.physical_type);
				fabdata.borderleafSwitchModel = angular.copy(fabdata.selectedborderLeafSwitch.switchModel);
				}
				if (fabdata.selectedUplinkProtocol && fabdata.selectedUplinkProtocol == 'Layer 3') {
					fabdata.uplinkEnableMLAG = "False";
				}

				if (fabdata.selectedUplinkProtocol && fabdata.selectedUplinkProtocol == 'Layer 2') {
					fabdata.upLinkInfo.protocolType = null;
				}

				if (fabdata.fabricLinkInfo) {
					fabdata.fabricLinkInfo.protocolType = angular.copy(fabdata.selectedFabricLinkProtocolType);
					fabdata.fabricLinkInfo.overAllBandwidth = angular.copy(fabdata.selectedLeafSwitch.defaultBandwidthToRack);
					fabdata.fabricLinkInfo.bandwidth = angular.copy(fabdata.selectedLeafSwitch.defaultBandwidthToRack);
				}
				fabdata.spineSwitchModel = angular.copy(fabdata.selectedSpineSwitch.spineModel);
				if (fabdata.selectedNetworkType.networkType == 'Top of Rack Fabric') {
					fabdata.fabricLinkInfo = null;
					fabdata.spineSwitchModel = null;
				}

				delete fabdata.listOfSpines;
				delete fabdata.networkDefaults;
				delete fabdata.networkDesign;
				delete fabdata.switchDefaults;
				delete fabdata.selectedFabriclinkProtocol;
				delete fabdata.selectedLeafSwitch;
				delete fabdata.selectedNetworkType;
				delete fabdata.selectedSpineSwitch;
				delete fabdata.selectedUplinkProtocol;
				delete fabdata.selectedUplinkProtocolType;

				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				};
				var fabricEditData = {
					data: fabricdata,
					editInput: fabdata
				};
				// on warning              
				fabricEditData.options = {
					"upgradeLeaf": false,
				};
				if ($scope.firstblock) {
					if ($scope.fabricEditOptionsErrorModel && $scope.fabricEditOptionsErrorModel.editSpine == "add") {
						fabricEditData.options.addSpine = true;
						fabricEditData.options.upgradeSpine = false;
					} else {
						fabricEditData.options.addSpine = false;
						fabricEditData.options.upgradeSpine = true;
					}
				} else {
					if ($scope.fabricEditOptionsErrorModel && Object.keys($scope.fabricEditOptionsErrorModel).length) {
						fabricEditData.options.addSpine = ($scope.fabricEditOptionsErrorModel.addSpine == 'add') ? true : false;
						fabricEditData.options.upgradeSpine = ($scope.fabricEditOptionsErrorModel.upgradeSpine == 'upgrade') ? true : false;
					} else {
						fabricEditData.options.addSpine = false;
						fabricEditData.options.upgradeSpine = false;
					}
				}
				rackService.validateFabricswitch(fabricdata,fabdata.leafSwitchModel).then(function(res)
				{
					if(res.data.SUPPORT == "TRUE")
					{
						spinnerOverlay.stop();
						$scope.editFabric(fabricEditData,config);
						editRack = true
					}					
					if(res.data.SUPPORT == "FALSE")
					{					
						spinnerOverlay.stop();
						var output = rackService.showWarningModal(res.data.CLUSTER_TYPE);							
						editRack = false
                        output.then(function(res){
						  if(res == 'ok')
						  {
							editRack = true
							$scope.editFabric(fabricEditData,config);
						  }
                        })
					}
				});				
			};
			$scope.editsuperspine = function(networkFabricForm)
			{
				spinnerOverlay.start();
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				}
				var fabdata = angular.copy($scope.fabricInputModel);
				if (fabdata.fabricLinkInfo) {
					fabdata.fabricLinkInfo.overAllBandwidth = angular.copy(fabdata.selectedLeafSwitch.defaultBandwidthToRack);
					fabdata.fabricLinkInfo.bandwidth = angular.copy(fabdata.selectedLeafSwitch.defaultBandwidthToRack);
				}
				fabdata.spineSwitchModel = angular.copy(fabdata.selectedSpineSwitch.spineModel);

				fabdata.leafSwitchModel = null
				delete fabdata.networkDefaults;
				delete fabdata.networkDesign;
				delete fabdata.switchDefaults;
				delete fabdata.selectedFabriclinkProtocol;
				delete fabdata.selectedLeafSwitch;
				delete fabdata.selectedNetworkType;
				delete fabdata.selectedSpineSwitch;
				delete fabdata.selectedUplinkProtocol;
				delete fabdata.selectedUplinkProtocolType;

				data = {'data':fabricdata,'fabricInput':fabdata,'noOfSpines':fabdata.noOfSpines}
				$http.post('/rest/design/fabric/editsuperspine/', data, config)
					.then(function (response, status, headers, config) {
						$scope.modal.dismiss();
						$scope.$emit('tab-superspine');
						fabricInputService.displayToaster('success', 'Superspine edited successfully.');				
						spinnerOverlay.stop();
					},
					function (data, status, header, config) {
						spinnerOverlay.stop();
						fabricInputService.displayToaster('error', 'Not able to edit superspine.');				
					});
			}
			$scope.addsuperspine = function (networkFabricForm)
			{
				spinnerOverlay.start();
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				}
				var fabdata = angular.copy($scope.fabricInputModel);
				if (fabdata.fabricLinkInfo) {
					fabdata.fabricLinkInfo.overAllBandwidth = angular.copy(fabdata.selectedLeafSwitch.defaultBandwidthToRack);
					fabdata.fabricLinkInfo.bandwidth = angular.copy(fabdata.selectedLeafSwitch.defaultBandwidthToRack);
				}
				fabdata.spineSwitchModel = angular.copy(fabdata.selectedSpineSwitch.spineModel);
				fabdata.leafSwitchModel = null
				data = {'data':fabricdata,'fabricInput':fabdata,'noOfSpines':fabdata.noOfSpines}
				$http.post('/rest/design/fabric/addsuperspine/', data, config)
					.then(function (response, status, headers, config) {
						$scope.modal.dismiss();
						$scope.$emit('tab-superspine');
						fabricInputService.displayToaster('success', 'Superspine added successfully.');				
						spinnerOverlay.stop();
					},
					function (data, status, header, config) {
						spinnerOverlay.stop();
						fabricInputService.displayToaster('error', 'Not able to add superspine.');				
					});
				
			}
			$scope.addFabricDetails = function (form) {
				spinnerOverlay.start();
				var fabricdata = fabricService.getData();
				console.log($scope.fabricInputModel)
				var fabdata = angular.copy($scope.fabricInputModel);
				var editRack = false

				fabdata.upLinkInfo.protocol = angular.copy(fabdata.selectedUplinkProtocol);
				fabdata.upLinkInfo.protocolType = angular.copy(fabdata.selectedUplinkProtocolType);
				fabdata.upLinkInfo.bandwidth = angular.copy(fabdata.selectedUplinkBandwidth.bandwidth);
				fabdata.upLinkInfo.physicalType = angular.copy(fabdata.selectedUplinkBandwidth.physical_type);
				if(fabdata.deploymentType == "Nokia NFVi")
				{
				fabdata.bl_upLinkInfo.bandwidth = angular.copy(fabdata.selectedBLUplinkBandwidth.bandwidth);
				fabdata.bl_upLinkInfo.physicalType = angular.copy(fabdata.selectedUplinkBandwidth.physical_type);
				fabdata.borderleafSwitchModel = angular.copy(fabdata.selectedborderLeafSwitch.switchModel);
				}
				if (fabdata.selectedUplinkProtocol && fabdata.selectedUplinkProtocol == 'Layer 3') {
					fabdata.uplinkEnableMLAG = "False";
				}

				if (fabdata.selectedUplinkProtocol && fabdata.selectedUplinkProtocol == 'Layer 2') {
					fabdata.upLinkInfo.protocolType = null;
				}

				if (fabdata.fabricLinkInfo) {
					fabdata.fabricLinkInfo.protocolType = angular.copy(fabdata.selectedFabricLinkProtocolType);
					fabdata.fabricLinkInfo.overAllBandwidth = angular.copy(fabdata.selectedLeafSwitch.defaultBandwidthToRack);
					fabdata.fabricLinkInfo.bandwidth = angular.copy(fabdata.selectedLeafSwitch.defaultBandwidthToRack);
				}
				fabdata.spineSwitchModel = angular.copy(fabdata.selectedSpineSwitch.spineModel);
				if (fabdata.selectedNetworkType.networkType == 'Top of Rack Fabric') {
					fabdata.fabricLinkInfo = null;
					fabdata.spineSwitchModel = null;
				}

				delete fabdata.listOfSpines;
				delete fabdata.networkDefaults;
				delete fabdata.networkDesign;
				delete fabdata.switchDefaults;
				delete fabdata.selectedFabriclinkProtocol;
				delete fabdata.selectedLeafSwitch;
				delete fabdata.selectedNetworkType;
				delete fabdata.selectedSpineSwitch;
				delete fabdata.selectedUplinkProtocol;
				delete fabdata.selectedUplinkProtocolType;

				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				};
				var fabricEditData = {
					data: fabricdata,
					fabricInput: fabdata
				};
				// on warning              
				fabricEditData.options = {
					"upgradeLeaf": false,
				};
				if ($scope.firstblock) {
					if ($scope.fabricEditOptionsErrorModel && $scope.fabricEditOptionsErrorModel.editSpine == "add") {
						fabricEditData.options.addSpine = true;
						fabricEditData.options.upgradeSpine = false;
					} else {
						fabricEditData.options.addSpine = false;
						fabricEditData.options.upgradeSpine = true;
					}
				} else {
					if ($scope.fabricEditOptionsErrorModel && Object.keys($scope.fabricEditOptionsErrorModel).length) {
						fabricEditData.options.addSpine = ($scope.fabricEditOptionsErrorModel.addSpine == 'add') ? true : false;
						fabricEditData.options.upgradeSpine = ($scope.fabricEditOptionsErrorModel.upgradeSpine == 'upgrade') ? true : false;
					} else {
						fabricEditData.options.addSpine = false;
						fabricEditData.options.upgradeSpine = false;
					}
				}
				rackService.validateFabricswitch(fabricdata,fabdata.leafSwitchModel).then(function(res)
				{
					if(res.data.SUPPORT == "TRUE")
					{
						spinnerOverlay.stop();
						$scope.addFabric(fabricEditData,config);
						editRack = true
					}					
					if(res.data.SUPPORT == "FALSE")
					{					
						spinnerOverlay.stop();
						var output = rackService.showWarningModal(res.data.CLUSTER_TYPE);							
						editRack = false
                        output.then(function(res){
						  if(res == 'ok')
						  {
							editRack = true
							$scope.addFabric(fabricEditData,config);
						  }
                        })
					}
				});				
				console.log(836)
						
			};
			$scope.loadEditClusterDetail = function () {

				$scope.title = "Edit";
				if($scope.prop.data.clusterType =="POWERSTORE_STORAGE"){
					var depoymentModel=$scope.prop.data.deploymentModel;
					var url=(depoymentModel=='PowerStore T/Q models')?'/rest/design/fabric/powerstore/defaults/':'/rest/design/fabric/powerstore/defaultsx/';
					fabricInputService.getDefaults(url)
						.then(function (res) {
							if(res && res.data && res.data.compute){
							fabricInputService.editCluster($scope, _index, res.data.compute, clusterType);
							//spinnerOverlay.stop();
							}

						},
							function () {
								//spinnerOverlay.stop();
							});	
					}else{
                     fabricInputService.getDefaults($scope.fabricInputs.fabricItems.defaults)
						.then(function (res) {
							$scope.fabricInputs.clusterDefaults = res.data;
						},
							function () {
								spinnerOverlay.stop();
							});
					}
				


				//$scope.isLoading = !!$scope.fabricInputs.clusterInputs.length;
			}
			$scope.editClusterModal = function () {
				spinnerOverlay.start();
				//   $scope.loadEditClusterDetail();


				/* set your model controller and its template here **/
				if ($scope.fabricInputs.fabricItems) {
					$scope.controller = $scope.fabricInputs.fabricItems.clusterCtrl;
					$scope.template = $scope.fabricInputs.fabricItems.clusterModal;
				}
				$scope.type = 'bare'
				/* setting done**/
				$scope.title = "Edit";
				var getPromise = $scope.getClusterDetails();
				getPromise.then(function (clusterdata) {
					clusterdata = clusterdata.data;
					var version = clusterdata.version;

					var constructedURL = '';
					if ($scope.prop.data.clusterType == "HCI_VXRAIL"|| $scope.prop.data.clusterType == "SAP_HANA"||$scope.prop.data.clusterType == "HCI_NSX_VXRAIL" || $scope.prop.data.clusterType == "HCI_VSANREADY") {
						constructedURL = $scope.fabricInputs.fabricItems.defaults + version;
					} 
					else if($scope.fabricInputs.designType=="Oracle RAC") {
						if($scope.prop.data.clusterType=="POWERSTORE_STORAGE")
						{
							$scope.fabricInputs.fabricItems = fabricService.getVerticalSolutionsFabricConfig("ORACLE_RAC_storage");
							var depoymentModel=$scope.prop.data.deploymentModel;
							constructedURL=(depoymentModel=='PowerStore T/Q models')?$scope.fabricInputs.fabricItems.defaults:$scope.fabricInputs.fabricItems.defaultsx;
						}	    
						else if($scope.prop.data.clusterType=="HCI_POWERFLEX_Appliance")
						{
							constructedURL = $scope.fabricInputs.fabricItems.defaults;
						}				
						else
						{
							$scope.fabricInputs.fabricItems = fabricService.getVerticalSolutionsFabricConfig("ORACLE_RAC_storage");
							constructedURL = $scope.fabricInputs.fabricItems.defaults;
						}
						if ($scope.fabricInputs.fabricItems) {
							$scope.controller = $scope.fabricInputs.fabricItems.clusterCtrl;
							$scope.template = $scope.fabricInputs.fabricItems.clusterModal;
						}
					}
					else if($scope.prop.data.clusterType =="POWERSTORE_STORAGE" && ($scope.fabricInputs.ip_san_topology==null|| $scope.fabricInputs.ip_san_topology=="")){
					var depoymentModel=$scope.prop.data.deploymentModel;
					constructedURL=(depoymentModel=='PowerStore T/Q models')?$scope.fabricInputs.fabricItems.defaults:$scope.fabricInputs.fabricItems.defaultsx;
					}
					else if( $scope.fabricInputs.ip_san_topology!=null && $scope.fabricInputs.ip_san_topology!= "")
					{
						if($scope.prop.data.clusterType =="POWERSTORE_STORAGE")
						{
							var depoymentModel=$scope.prop.data.deploymentModel;
							constructedURL=(depoymentModel=='PowerStore T/Q models')?'/rest/design/fabric/nvme/defaults/':'/rest/design/fabric/nvme/defaultsx/'
						}
						else
						{
							constructedURL='/rest/design/fabric/nvme/defaults/'
						}
					}
					else {
						constructedURL = $scope.fabricInputs.fabricItems.defaults;
					}
					fabricInputService.getDefaults(constructedURL)
						.then(function (res) {
							$scope.fabricInputs.clusterDefaults = res.data;
							angular.forEach($scope.fabricInputs.clusterDefaults, function (val, key) {
								$scope.fabricInputs.clusterInputs[key] = [];
							});
							console.log($scope.fabricInputs.fabricItems)
							$scope.help.solution = $scope.fabricInputs.fabricItems.type.slice(4).toLowerCase();

							//$scope.fabricInputs.clusterDefaults.cluster=clusterdata;
							var defaults = $scope.fabricInputs.clusterDefaults[clusterdata.clusterSubType];
							console.log(defaults, clusterdata.clusterSubType)
							fabricInputService.editCluster($scope, 0, defaults, clusterdata.clusterSubType, clusterdata);
							spinnerOverlay.stop();
						}, function () {
							spinnerOverlay.stop();
						});
				},
					function () {
						spinnerOverlay.stop();
					});
			};

			$scope.clusterVlanId = {
				val: 1
			};

			$scope.addWorkLoad = function (solution, rackId) {
				spinnerOverlay.start();
				$scope.fabricInputParams = angular.copy(solution);
				$scope.controller = solution.fabricInputs.clusterCtrl;
				$scope.template = solution.fabricInputs.clusterModal;
				// Get version
				var version = '',
					url, defaults,
					dataObj = {
						add_cluster_input: {
							rack_ids: [],
							add_new_rack: false,
							cluster_input: {}
						},
						data: fabricService.getData()
					};
				dataObj.add_cluster_input.rack_ids.push(rackId);	// Append rack id
				ip_san_topology = $scope.fabricInputs.ip_san_topology
				$scope.fabricInputs.dataObj = dataObj;
				$scope.fabricInputs.genericCluster = true;
				$scope.help.solution = solution.name.toLowerCase();
				if (solution.fabricInputs.type == "HCI_VXRAIL") {
					version = "7.0";
				}
				else if (solution.fabricInputs.type == "SAP_HANA") {
					version = "7.0";
				}
				else if(solution.fabricInputs.type == "HCI_NSX_VXRAIL") {
                    version = "7.0";
                } 
				else if (solution.fabricInputs.type == "HCI_VSANREADY") {
					version = "6.6";
				} else {
					version = ''
				}
				$scope.fabricInputs.version = version;
				url = solution.fabricInputs.defaults + version;
				fabricInputService.getDefaults(url)
					.then(function (res) {
						if($scope.fabricInputParams.fabricInputs.type=="NVMeTCPSupport")	
						{	
							if(res.data.compute != undefined)
							{
								res.data.compute.ip_san_topology = ip_san_topology
								defaults = res.data.compute;
								fabricInputService.openCluster($scope, defaults, 'compute');
							}
							else if(res.data.storage != undefined)
							{
								res.data.storage.ip_san_topology = ip_san_topology
								defaults = res.data.storage;
								fabricInputService.openCluster($scope, defaults, 'storage');
							}
						}
						else if($scope.fabricInputs.designType=="Oracle RAC")
						{
							if($scope.fabricInputParams.fabricInputs.type=="ORACLE_RAC_storage")
							{
								defaults = res.data.storage;
								fabricInputService.openCluster($scope, defaults, 'storage');
							}
							else
							{
								defaults = res.data.compute;
								fabricInputService.openCluster($scope, defaults, 'compute');
							}
						}
						else
						{
							defaults = res.data.compute;
							fabricInputService.openCluster($scope, defaults, 'compute');	
						}
						spinnerOverlay.stop();
					},
						function () {
							spinnerOverlay.stop();
						});

			}

			$scope.editSwitchModal = function () {
				/* set your model controller and its template here for your add Node feature **/
				$scope.operation = true;
				$scope.type = 'dismiss';
				$scope.controller = 'logicalViewCtrl';
				$scope.template = 'fabric/design/output/editSwitchModal.html';
				/* settings done*/
				var switchModalScope = fabricInputService.openModal($scope);
				switchModalScope.modal.switch = angular.copy($scope.prop.data);
				switchModalScope.modal.show();
			}
			$scope.AddNodeModal = function () {
				/* set your model controller and its template here for your add Node feature **/
				spinnerOverlay.start();
				$scope.operation = true;
				$scope.type = 'dismiss';
				$scope.controller = 'logicalViewCtrl';
				$scope.template = 'fabric/design/output/addNodeModal.html';

				var getPromise = null;

				if ($scope.prop.type == 'chassis') {
					getPromise = $scope.getClusterDetails({
						rack_id: $scope.prop.rackId,
						cluster_id: $scope.prop.clusterId,
						chassis_id: $scope.prop.data.id
					});
				} else {
					getPromise = $scope.getClusterDetails();
				}

				getPromise.then(function (clusterdata) {
					clusterdata = clusterdata.data;
					var data = {
						data: fabricService.getData(),
						cluster_id: $scope.prop.clusterId
					};

					fabricInputService.supportedDefaults(data)
						.then(function (res) {
							$scope.fabricInputs.clusterDefaults = res.data;
							angular.forEach($scope.fabricInputs.clusterDefaults, function (val, key) {
								$scope.fabricInputs.clusterInputs[key] = [];
							});

							//$scope.fabricInputs.clusterDefaults.cluster=clusterdata;
							var defaults = angular.copy($scope.fabricInputs.clusterDefaults[clusterdata.clusterSubType]);

							var addNodeModalScope = fabricInputService.openModal($scope);
							addNodeModalScope.modal.show();
							addNodeModalScope.modal.node = {};
							addNodeModalScope.defaults = defaults;
							addNodeModalScope.selectedCluster = clusterdata;
							addNodeModalScope.modal.node.count = 1;
							addNodeModalScope.modal.node.addNodeError = false;
							addNodeModalScope.modal.node.addNodeErrorMsg = "";
							addNodeModalScope.isChassis = $scope.prop.type == 'chassis';
							addNodeModalScope.modal.clusterId = angular.copy($scope.prop.clusterId);
							addNodeModalScope.modal.allowedNoOfClusterNodes = 64 - Number($scope.prop.data.nodes);
							addNodeModalScope.modal.rackId = angular.copy($scope.prop.rackId);

							// set values
							angular.forEach(addNodeModalScope.defaults.applianceTypes, function (applianceType) {
								if (applianceType.name == clusterdata.applianceInfo.name) {
									addNodeModalScope.modal.node.applianceInfo = applianceType;

									// Set NDC model
									angular.forEach(applianceType.ndcCard, function (ndc) {
										if (clusterdata.applianceInfo.ndcCard.name == ndc.name) {
											addNodeModalScope.modal.node.ndcCard = ndc;
										}
									});

									// Set Optional model
									angular.forEach(applianceType.optionalCard, function (optional) {
										if (clusterdata.applianceInfo.optionalCard
											&& clusterdata.applianceInfo.optionalCard.name == optional.name) {
											addNodeModalScope.modal.node.optionalCard = optional;
										}
									});
								}
							});

							//populateNdcCardCount(addNodeModalScope);
							//populateOptionalCardCount(addNodeModalScope);

							fabricInputService.populateCountList({
								obj: addNodeModalScope.modal.node.ndcCard,
								list: addNodeModalScope.modal.node,
								clusterType: addNodeModalScope.defaults.type,
								type: 'ndcCardCountOptions'
							});

							fabricInputService.populateCountList({
								obj: addNodeModalScope.modal.node.optionalCard,
								list: addNodeModalScope.modal.node,
								clusterType: addNodeModalScope.defaults.type,
								type: 'optionalCardCountOptions'
							});
							addNodeModalScope.modal.node.ndcCard.requiredCount = clusterdata.applianceInfo.ndcCard.requiredCount;
							if (addNodeModalScope.modal.node.optionalCard) {
								addNodeModalScope.modal.node.optionalCard.requiredCount = clusterdata.applianceInfo.optionalCard.requiredCount;
							}

							spinnerOverlay.stop();
						}, function () {
							spinnerOverlay.stop();
						});
				},
					function () {
						spinnerOverlay.stop();
					});


			}

			$scope.StretchClusterModal = function () {
				/* set your model controller and its template here for your add Node feature **/
				spinnerOverlay.start();
				$scope.operation = true;
				$scope.type = 'dismiss';
				$scope.controller = 'logicalViewCtrl';
				$scope.template = 'fabric/design/output/StretchClusterModal.html';
				$scope.nodeIds = []
				$scope.rackIds = []
				
				$scope.isActive = {}
				var getPromise = null;
				if($scope.prop.data.clusterType == "UNITY_STORAGE"||$scope.prop.data.clusterType == "PowerStore"){

					$scope.prop.data.id=$scope.prop.data.cluster_id;
				}
				rackId=$scope.prop.rackId||'unityCluster';
				rackService.getRacksStretchClusterDetails($scope.prop.data.id,rackId)
						.then(function (res) {
							  var moveNodeModalScope = fabricInputService.openModal($scope);
							  moveNodeModalScope.modal.show();
							  moveNodeModalScope.modal.clusters=res.data.clusters;
							  moveNodeModalScope.modal.cluster_data=res.data.cluster_data;	
							  moveNodeModalScope.modal.nodes=res.data.clusters.nodes;
							  moveNodeModalScope.modal.chassis=false;
							  if(res.data.clusters.chassisInfo && res.data.clusters.chassisInfo.length>=1)
							  {
								moveNodeModalScope.modal.chassis=true;
							  }	
							  angular.forEach(res.data.clusters.nodes,function (node)
							  {
								$scope.isActive[node.id] = false
							  });

							  moveNodeModalScope.modal.rack='';
							  moveNodeModalScope.modal.node = {};
							  moveNodeModalScope.modal.node.moveNodeError = false;
							  moveNodeModalScope.modal.node.moveNodeErrorMsg = "";
							  moveNodeModalScope.modal.node.cluster_id=$scope.prop.data.cluster_id;
							  //moveNodeModalScope.modal.node.node_id=$scope.prop.data.id;
							  spinnerOverlay.stop();
							  moveNodeModalScope.modal.racks = res.data.rack_details;
							  if(moveNodeModalScope.modal.racks && moveNodeModalScope.modal.racks.length>0)
							  moveNodeModalScope.modal.rack=angular.copy(moveNodeModalScope.modal.racks[0].id);
							  if(moveNodeModalScope.modal.nodes && moveNodeModalScope.modal.nodes.length>0)
							  moveNodeModalScope.modal.node_id=angular.copy(moveNodeModalScope.modal.nodes[0].id);
						}, function (res) {
							fabricInputService.displayToaster('error', 'Stretch Cluster', res.data.detail);
							spinnerOverlay.stop();
							spinnerOverlay.stop();
				});
			}
			
			$scope.MoveNodesModal = function (what) {
				/* set your model controller and its template here for your add Node feature **/
				spinnerOverlay.start();
				$scope.operation = true;
				$scope.type = 'dismiss';
				$scope.controller = 'logicalViewCtrl';
				$scope.template = 'fabric/design/output/moveNodesModal.html';
				$scope.nodeIds = []
				$scope.isActive = {}
				var getPromise = null;
				node_id = null;
				cluster_id = null;
				if($scope.prop.data.clusterType == "UNITY_STORAGE"||$scope.prop.data.clusterType == "PowerStore"){

					$scope.prop.data.id=$scope.prop.data.cluster_id;
				}
				rackId=$scope.prop.rackId||'unityCluster';
				if(what=="node" && $scope.prop.data.clusterType != "UNITY_STORAGE")
				{
					node_id = $scope.prop.data.id	
					$scope.nodeIds.push(node_id)				
				}
				else
					cluster_id = $scope.prop.data.id
				
				rackService.getRacksClusterDetails(cluster_id,rackId,node_id)
						.then(function (res) {
							  var moveNodeModalScope = fabricInputService.openModal($scope);
							  moveNodeModalScope.modal.show();
							  moveNodeModalScope.modal.cluster_data=res.data.cluster_data;	
							  if($scope.prop.data.clusterType == "UNITY_STORAGE")
							  {
								  node_id = res.data.clusters.nodes[0].id	
								  $scope.nodeIds.push(node_id)				
							  }
								if(res.data.clusters==undefined || $scope.prop.data.clusterType == "UNITY_STORAGE")
							  {
								moveNodeModalScope.modal.clusters=null;
								moveNodeModalScope.modal.nodes=null;
								moveNodeModalScope.modal.type="node";
							}
							  else
							{
								moveNodeModalScope.modal.type="cluster";
								moveNodeModalScope.modal.clusters=res.data.clusters;
								moveNodeModalScope.modal.nodes=res.data.clusters.nodes;
								moveNodeModalScope.modal.chassis=false;
								if(res.data.clusters.chassisInfo && res.data.clusters.chassisInfo.length>=1)
								{
									moveNodeModalScope.modal.chassis=true;
								}
								angular.forEach(res.data.clusters.nodes,function (node)
								{
									$scope.isActive[node.id] = false
								});
							}
							  moveNodeModalScope.modal.rack='';
							  moveNodeModalScope.modal.node = {};
							  moveNodeModalScope.modal.node.moveNodeError = false;
							  moveNodeModalScope.modal.node.moveNodeErrorMsg = "";
							  moveNodeModalScope.modal.node.cluster_id=$scope.prop.data.cluster_id;
							  //moveNodeModalScope.modal.node.node_id=$scope.prop.data.id;
							  spinnerOverlay.stop();
							  moveNodeModalScope.modal.racks = res.data.rack_details;
							  if(moveNodeModalScope.modal.racks && moveNodeModalScope.modal.racks.length>0)
							  moveNodeModalScope.modal.rack=angular.copy(moveNodeModalScope.modal.racks[0].id);
							  if(moveNodeModalScope.modal.nodes && moveNodeModalScope.modal.nodes.length>0)
							  moveNodeModalScope.modal.node_id=angular.copy(moveNodeModalScope.modal.nodes[0].id);
						}, function () {
							fabricInputService.displayToaster('error', 'Move Node(s)', 'Cannot Move Node(s)');
							spinnerOverlay.stop();
							spinnerOverlay.stop();
				});
			}
            $scope.MoveNodeModal = function () {
				/* set your model controller and its template here for your add Node feature **/
				spinnerOverlay.start();
				$scope.operation = true;
				$scope.type = 'dismiss';
				$scope.controller = 'logicalViewCtrl';
				$scope.template = 'fabric/design/output/moveNodeModal.html';

				var getPromise = null;
               
				rackService.getRacksDetails($scope.prop.data.cluster_id)
						.then(function (res) {
							 var moveNodeModalScope = fabricInputService.openModal($scope);
							  moveNodeModalScope.modal.show();
							  moveNodeModalScope.modal.rack='';
							  moveNodeModalScope.modal.node = {};
							  moveNodeModalScope.modal.node.moveNodeError = false;
							  moveNodeModalScope.modal.node.moveNodeErrorMsg = "";
							  moveNodeModalScope.modal.node.cluster_id=$scope.prop.data.cluster_id;
							  moveNodeModalScope.modal.node.node_id=$scope.prop.data.id;
							  spinnerOverlay.stop();
							  moveNodeModalScope.modal.racks = res.data;
							  if(moveNodeModalScope.modal.racks && moveNodeModalScope.modal.racks.length>0)
							  moveNodeModalScope.modal.rack=angular.copy(moveNodeModalScope.modal.racks[0].id);
						}, function () {
							spinnerOverlay.stop();
				});
				
				/*if ($scope.prop.type == 'chassis') {
					getPromise = $scope.getClusterDetails({
						rack_id: $scope.prop.rackId,
						cluster_id: $scope.prop.clusterId,
						chassis_id: $scope.prop.data.id
					});
				} else {
					getPromise = $scope.getClusterDetails();
				}*/

			/*	getPromise.then(function (clusterdata) {
					clusterdata = clusterdata.data;
					var data = {
						data: fabricService.getData(),
						cluster_id: $scope.prop.clusterId
					};

					fabricInputService.supportedDefaults(data)
						.then(function (res) {
							$scope.fabricInputs.clusterDefaults = res.data;
							angular.forEach($scope.fabricInputs.clusterDefaults, function (val, key) {
								$scope.fabricInputs.clusterInputs[key] = [];
							});

							//$scope.fabricInputs.clusterDefaults.cluster=clusterdata;
							var defaults = angular.copy($scope.fabricInputs.clusterDefaults[clusterdata.clusterSubType]);

							var moveNodeModalScope = fabricInputService.openModal($scope);
							moveNodeModalScope.modal.show();
							moveNodeModalScope.modal.node = {};
							moveNodeModalScope.defaults = defaults;
							moveNodeModalScope.selectedCluster = clusterdata;
							moveNodeModalScope.modal.node.count = 1;
							moveNodeModalScope.modal.node.addNodeError = false;
							moveNodeModalScope.modal.node.addNodeErrorMsg = "";
							moveNodeModalScope.isChassis = $scope.prop.type == 'chassis';
							moveNodeModalScope.modal.clusterId = angular.copy($scope.prop.clusterId);
							moveNodeModalScope.modal.allowedNoOfClusterNodes = 64 - Number($scope.prop.data.nodes);
							moveNodeModalScope.modal.rackId = angular.copy($scope.prop.rackId);

							// set values
							angular.forEach(moveNodeModalScope.defaults.applianceTypes, function (applianceType) {
								if (applianceType.name == clusterdata.applianceInfo.name) {
									moveNodeModalScope.modal.node.applianceInfo = applianceType;

									// Set NDC model
									angular.forEach(applianceType.ndcCard, function (ndc) {
										if (clusterdata.applianceInfo.ndcCard.name == ndc.name) {
											moveNodeModalScope.modal.node.ndcCard = ndc;
										}
									});

									// Set Optional model
									angular.forEach(applianceType.optionalCard, function (optional) {
										if (clusterdata.applianceInfo.optionalCard
											&& clusterdata.applianceInfo.optionalCard.name == optional.name) {
											moveNodeModalScope.modal.node.optionalCard = optional;
										}
									});
								}
							});

							//populateNdcCardCount(moveNodeModalScope);
							//populateOptionalCardCount(moveNodeModalScope);

							fabricInputService.populateCountList({
								obj: moveNodeModalScope.modal.node.ndcCard,
								list: moveNodeModalScope.modal.node,
								clusterType: moveNodeModalScope.defaults.type,
								type: 'ndcCardCountOptions'
							});

							fabricInputService.populateCountList({
								obj: moveNodeModalScope.modal.node.optionalCard,
								list: moveNodeModalScope.modal.node,
								clusterType: moveNodeModalScope.defaults.type,
								type: 'optionalCardCountOptions'
							});
							moveNodeModalScope.modal.node.ndcCard.requiredCount = clusterdata.applianceInfo.ndcCard.requiredCount;
							if (moveNodeModalScope.modal.node.optionalCard) {
								moveNodeModalScope.modal.node.optionalCard.requiredCount = clusterdata.applianceInfo.optionalCard.requiredCount;
							}

							spinnerOverlay.stop();
						}, function () {
							spinnerOverlay.stop();
						});
				},
					function () {
						spinnerOverlay.stop();
					});*/


			}
			$scope.$watch('modal.node.applianceInfo', function (newVal, oldVal) {
				if (oldVal != newVal) {
					var hasNDC = false,
						hasPCI = false;

					angular.forEach($scope.modal.node.applianceInfo.ndcCard, function (val, i) {
						if ($scope.modal.node.ndcCard && (val.name == $scope.modal.node.ndcCard.name)) {
							hasNDC = true;
							$scope.modal.node.ndcCard = val;
							$scope.modal.node.ndcCard.requiredCount = $scope.selectedCluster.applianceInfo.ndcCard.requiredCount;
						}
					});
					if (!hasNDC) {
						$scope.modal.node.ndcCard = $scope.modal.node.applianceInfo.ndcCard[0];
					}

					angular.forEach($scope.modal.node.applianceInfo.optionalCard, function (val, i) {
						if ($scope.modal.node.optionalCard && (val.name == $scope.modal.node.optionalCard.name)) {
							hasPCI = true;
							$scope.modal.node.optionalCard = val;
							$scope.modal.node.optionalCard.requiredCount = $scope.selectedCluster.applianceInfo.optionalCard.requiredCount;
						}
					});
					if (!hasPCI) {
						$scope.modal.node.optionalCard = $scope.modal.node.applianceInfo.optionalCard && $scope.modal.node.applianceInfo.optionalCard[0];
					}

				}
			});

			$scope.$watch('modal.node.ndcCard', function (newVal, oldVal) {
				if (oldVal != newVal) {
					fabricInputService.populateCountList({
						obj: $scope.modal.node.ndcCard,
						list: $scope.modal.node,
						clusterType: $scope.defaults.type,
						type: 'ndcCardCountOptions'
					});
				}
			});

			$scope.$watch('modal.node.optionalCard', function (newVal, oldVal) {
				if (oldVal != newVal) {
					fabricInputService.populateCountList({
						obj: $scope.modal.node.optionalCard,
						list: $scope.modal.node,
						clusterType: $scope.defaults.type,
						type: 'optionalCardCountOptions'
					});
					/*if ($scope.modal.node.optionalCard) {
						$scope.modal.node.optionalCard.requiredCount = 0;
						if ($scope.defaults.type == "ASHCI") {
							$scope.modal.node.optionalCard.requiredCount = 1;
						}
					}*/
				}
			});

			$scope.getClusterDetails = function (options) {
				var fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				if (["UNITY_STORAGE"].indexOf($scope.prop.data.clusterType)!=-1)
					id = $scope.prop.data.cluster_id 
				else
					id = $scope.prop.data.id
				var dataObj = {
					id: id,
					data: fabricdata,
					view : view_id
				};
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
				rest = 'rest/design/getCluster/';
				if (options) {
					rest = '/rest/design/fabric/cluster/chassis/node/properties/';
					dataObj = {
						"rack_id": options.rack_id,
						"cluster_id": options.cluster_id,
						"chassis_id": options.chassis_id,
						"data": fabricdata
					}
				}

				return $http.post(rest, dataObj, config);
			}
			$scope.add = function (node){
				$scope.isActive[node.id] = !$scope.isActive[node.id];
				if($scope.isActive[node.id]){
					$scope.nodeIds.push(node.id)				
				}
				else
				{
				$scope.nodeIds.remove(node.id)				
				}
			} 
			$scope.add_racks = function (rack){
				$scope.isActive[rack.id] = !$scope.isActive[rack.id];
				if($scope.isActive[rack.id]){
					$scope.rackIds.push(rack.id)				
				}
				else
				{
				$scope.rackIds.remove(rack.id)				
				}
			} 
			$scope.StretchCluster = function(){
			
				var fabricdata = fabricService.getData();
				cluster_input = $scope.modal.cluster_data
				rack_ids = [$scope.modal.rack]
				if (cluster_input.clusterType == "HCI_POWERFLEX_Appliance"){
				rackService.validateRecommendedswitch(fabricdata,cluster_input,rack_ids).then(function(res)
						{
							if(res.data.SUPPORT == "FALSE"){
								var output = rackService.showWarningModal("HCI_POWERFLEX_Appliance");							
								output.then(function(res){
								  if(res == 'ok')
								  {
									spinnerOverlay.start();
									$scope.validateStretchCluster();
								  }
								}) 
							}
							else
							{
								spinnerOverlay.start();
								$scope.validateStretchCluster();
							}
						});
					}
					else
					{
						spinnerOverlay.start();
						$scope.validateStretchCluster();
					}
			}
			$scope.MoveNodes = function(){
			
				var fabricdata = fabricService.getData();
				cluster_input = $scope.modal.cluster_data
				rack_ids = [$scope.modal.rack]
				spinnerOverlay.start();
				if (cluster_input.clusterType == "HCI_POWERFLEX_Appliance"){
				rackService.validateRecommendedswitch(fabricdata,cluster_input,rack_ids).then(function(res)
						{
							if(res.data.SUPPORT == "FALSE"){
								var output = rackService.showWarningModal("HCI_POWERFLEX_Appliance");							
								output.then(function(res){
								  if(res == 'ok')
								  {
									spinnerOverlay.start();
									$scope.validateMoveNode();
								  }
								}) 
							}
							else
							{
								spinnerOverlay.start();
								$scope.validateMoveNode();
							}
						});
				}
				else
				{
					spinnerOverlay.start();
					$scope.validateMoveNode();	
				}
			}
			$scope.validateStretchCluster = function () {
				spinnerOverlay.start();
				var fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				},
					selected_rack_id = angular.copy($scope.modal.rack);
					selected_node_id = angular.copy($scope.modal.node_id);

				if($scope.rackIds)
					rack_ids = $scope.rackIds
				else
					rack_ids = [selected_rack_id]
				var movenode = {
					"data": fabricdata,
					"view" : view_id,
					"moveNodeInput": {
						"cluster_id": $scope.modal.clusters.id,
						"node_ids": [],
						"rack_ids": $scope.rackIds,
						"upgrade_tor": null
					}

				}, url = 'rest/design/fabric/edit/cluster/node/stretchcluster/';

				// on warning
              	if ($scope.rackClusterModel && Object.keys($scope.rackClusterModel).length !== 0) {
                    if ($scope.rackClusterModel.rackOption) {
                        if ($scope.rackClusterModel.rackOption == 'new') {
                            movenode.moveNodeInput.add_new_rack = true;
                        } else {
                            movenode.moveNodeInput.rack_ids.push($scope.rackClusterModel.selectedRack.rack_id);
                        }
                    } else {
                        movenode.moveNodeInput.upgrade_tor = $scope.rackClusterModel.upgradeSwitch;
                    }
                }

				var promise = $http.post(url, movenode, config)
					.then(function (data, status, headers, config) {
						$scope.modal.node.addNodeError = false;
						$scope.modal.node.addNodeErrorMsg = "";
						$scope.modal.dismiss();
						$scope.$emit('load-logicalview');
						fabricInputService.displayToaster('success', 'Stretch Cluster', 'Stretch Cluster sucessfully');
						spinnerOverlay.stop();

					}, function (res, status, header, config) {
						if (res.status == 400 && res.data.detail == "Warning") {
                            $scope.MoveNodeUpgradeModal(res.data.errors);
                        }else{
							$scope.modal.node.moveNodeError = true;
							$scope.modal.node.moveNodeErrorMsg = res.data.detail;
							spinnerOverlay.stop();
						}
						spinnerOverlay.stop();
					});
			}
			$scope.validateMoveNode = function () {
				spinnerOverlay.start();
				var fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				},
					selected_rack_id = angular.copy($scope.modal.rack);
					selected_node_id = angular.copy($scope.modal.node_id);
				if($scope.modal.clusters == undefined)
					cluster_id = -1
				else
					cluster_id = $scope.modal.clusters.id

			/*	if (selected_rack_id) {
					appliance_info.ndcCard = $scope.modal.node.ndcCard;
					appliance_info.optionalCard = $scope.modal.node.optionalCard;
				}	*/
				var movenode = {
					"data": fabricdata,
					"view" : view_id,
					"moveNodeInput": {
						"cluster_id": cluster_id,
						"node_ids": $scope.nodeIds,
						"rack_ids": [selected_rack_id],
						"upgrade_tor": null
					}

				}, url = 'rest/design/fabric/edit/cluster/node/movenodes/';

				// on warning
              	if ($scope.rackClusterModel && Object.keys($scope.rackClusterModel).length !== 0) {
                    if ($scope.rackClusterModel.rackOption) {
                        if ($scope.rackClusterModel.rackOption == 'new') {
                            movenode.moveNodeInput.add_new_rack = true;
                        } else {
                            movenode.moveNodeInput.rack_ids.push($scope.rackClusterModel.selectedRack.rack_id);
                        }
                    } else {
                        movenode.moveNodeInput.upgrade_tor = $scope.rackClusterModel.upgradeSwitch;
                    }
                }
				/*
				if ($scope.$parent.prop.type == 'chassis') {
					newnode.addNodeInput.chassis_id = $scope.$parent.prop.data.id;
					url = 'rest/design/fabric/edit/cluster/chassis/node/add/';
				}*/

				var promise = $http.post(url, movenode, config)
					.then(function (data, status, headers, config) {
						$scope.modal.node.addNodeError = false;
						$scope.modal.node.addNodeErrorMsg = "";
						$scope.modal.dismiss();
						//NodeIns.close && NodeIns.close();
					//	$scope.rackClusterModel = {};
						//fabricInputService.selectNode($scope.modal.clusterId);
					//fabricInputService.selectNode($scope.$parent.prop.id);
						$scope.$emit('load-logicalview');
						fabricInputService.displayToaster('success', 'Move Node', 'Move Node(s) Added sucessfully');
						spinnerOverlay.stop();

					}, function (res, status, header, config) {
						if (res.status == 400 && res.data.detail == "Warning") {
                            $scope.MoveNodeUpgradeModal(res.data.errors);
                        }else{
							$scope.modal.node.moveNodeError = true;
							$scope.modal.node.moveNodeErrorMsg = res.data.detail;
							spinnerOverlay.stop();
						}
						spinnerOverlay.stop();
					});
			}

			$scope.validateAddNode = function (NodeIns) {
				spinnerOverlay.start();
				var fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				},
					appliance_info = angular.copy($scope.modal.node.applianceInfo);

				if (appliance_info) {
					appliance_info.ndcCard = $scope.modal.node.ndcCard;
					appliance_info.optionalCard = $scope.modal.node.optionalCard;
				}	

				var newnode = {
					"data": fabricdata,
					"view" : view_id,
					"addNodeInput": {
						"node_count": $scope.modal.node.count,
						"cluster_id": $scope.modal.clusterId,
						"rack_ids": [$scope.modal.rackId],
						"appliance_info": appliance_info,
						"add_new_rack": false,
						"upgrade_tor": null
					}

				}, url = 'rest/design/fabric/edit/cluster/node/add/';

				// on warning
                if ($scope.rackClusterModel && Object.keys($scope.rackClusterModel).length !== 0) {
                    if ($scope.rackClusterModel.rackOption) {
                        if ($scope.rackClusterModel.rackOption == 'new') {
                            newnode.addNodeInput.add_new_rack = true;
                        } else {
                            newnode.addNodeInput.rack_ids.push($scope.rackClusterModel.selectedRack.rack_id);
                        }
                    } else {
                        newnode.addNodeInput.upgrade_tor = $scope.rackClusterModel.upgradeSwitch;
                    }
                }

				if ($scope.$parent.prop.type == 'chassis') {
					newnode.addNodeInput.chassis_id = $scope.$parent.prop.data.id;
					url = 'rest/design/fabric/edit/cluster/chassis/node/add/';
				}

				var promise = $http.post(url, newnode, config)
					.then(function (data, status, headers, config) {
						$scope.modal.node.addNodeError = false;
						$scope.modal.node.addNodeErrorMsg = "";
						$scope.modal.dismiss();
						//NodeIns.close && NodeIns.close();
						$scope.rackClusterModel = {};
						fabricInputService.selectNode($scope.modal.clusterId);
					//fabricInputService.selectNode($scope.$parent.prop.id);
						$scope.$emit('load-logicalview');
						fabricInputService.displayToaster('success', 'Add Node', 'New Node(s) Added sucessfully');
						spinnerOverlay.stop();

					}, function (res, status, header, config) {
						if (res.status == 400 && res.data.detail == "Warning") {
                            $scope.NodeUpgradeModal(res.data.errors);
                        }else{
							$scope.modal.node.addNodeError = true;
							$scope.modal.node.addNodeErrorMsg = res.data.detail;
							if (NodeIns && NodeIns.close) NodeIns.close();
							spinnerOverlay.stop();
						}
						$scope.rackClusterModel = {};
						spinnerOverlay.stop();
					});
			}

			$scope.NodeUpgradeModal = function (obj) {
                var NodeIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/addClusterOnRack.html',
                    controller: 'logicalViewCtrl',
                    size: 'lg',
                    resolve: {
                        items: function () {

                        }
                    },
                    scope: $scope
                });
                NodeIns.result.then(function () {

                },
                    function () {
                        $scope.rackClusterModel = null;
                    });

					NodeIns.rendered.then(function () {
					//$scope.$emit('rackCluster', {data: obj})
					var fabricdata = fabricService.getData();					
                    $scope.rackClusterModel = obj;
                    $scope.rackClusterModel.selectedRack = $scope.rackClusterModel.racks.length && $scope.rackClusterModel.racks[0];
                    $scope.rackClusterModel.upgradeSwitch = $scope.rackClusterModel.upgrade_tor.length && $scope.rackClusterModel.upgrade_tor[0];
                    $scope.sendWorkLoadData = function () {
						spinnerOverlay.start();
						if($scope.selectedCluster.clusterType == "HCI_POWERFLEX_Appliance" && $scope.rackClusterModel.upgradeSwitch != "S5048F-ON")
						{
							spinnerOverlay.stop();
							NodeIns.close && NodeIns.close()
							var output = rackService.showWarningModal("HCI_POWERFLEX_Appliance");							
							output.then(function(res){
							  if(res == 'ok')
							  {
								spinnerOverlay.start();
								$scope.validateAddNode(NodeIns);
							  }
							  else
								  $scope.rackClusterModel.upgradeSwitch = null
							})	
						}
						else if ($scope.rackClusterModel.rackOption) {                      
							NodeIns.close && NodeIns.close()
                            if ($scope.rackClusterModel.rackOption == 'new')
                            {
                                rack_ids = []
                                rackService.validateNewRackswitch(fabricdata,$scope.selectedCluster.clusterType).then(function(res)
                                {
                                    if(res.data.SUPPORT == "FALSE"){
										var output = rackService.showWarningModal("HCI_POWERFLEX_Appliance");							
										output.then(function(res){
										  if(res == 'ok')
										  {
											spinnerOverlay.start();
											$scope.validateAddNode(NodeIns);
										  }
										  else
											  $scope.rackClusterModel.rackOption = null
										})
                                    }
                                    else
                                    {
										spinnerOverlay.start();
										$scope.validateAddNode(NodeIns);
									}
                                });
                            }
                            else
                            {
								rack_ids = [$scope.rackClusterModel.selectedRack.rack_id]
								if ($scope.selectedCluster.clusterType == "HCI_POWERFLEX_Appliance"){
                                rackService.validateRecommendedswitch(fabricdata,$scope.selectedCluster,rack_ids).then(function(res)
                                {
                                    if(res.data.SUPPORT == "FALSE"){
										var output = rackService.showWarningModal("HCI_POWERFLEX_Appliance");							
										output.then(function(res){
										  if(res == 'ok')
										  {
											spinnerOverlay.start();
											$scope.validateAddNode(NodeIns);
										  }
										}) 
									}
                                    else
                                    {
										spinnerOverlay.start();
										$scope.validateAddNode(NodeIns);
                                    }
                                });
							}
							else
							{
								spinnerOverlay.start();
								$scope.validateAddNode(NodeIns);
							}
                            }
									
                        } 
						else
	                        $scope.validateAddNode(NodeIns);
                    }
                })
            }

			$scope.MoveNodeUpgradeModal = function (obj) {
                var NodeIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/addClusterOnRack.html',
                    controller: 'logicalViewCtrl',
                    size: 'lg',
                    resolve: {
                        items: function () {

                        }
                    },
                    scope: $scope
                });
                NodeIns.result.then(function () {

                },
                    function () {
                        $scope.rackClusterModel = null;
                    });

					NodeIns.rendered.then(function () {
                    //$scope.$emit('rackCluster', {data: obj})
                    $scope.rackClusterModel = obj;
                    $scope.rackClusterModel.selectedRack = $scope.rackClusterModel.racks.length && $scope.rackClusterModel.racks[0];
                    $scope.rackClusterModel.upgradeSwitch = $scope.rackClusterModel.upgrade_tor.length && $scope.rackClusterModel.upgrade_tor[0];
                    $scope.sendWorkLoadData = function () {
						spinnerOverlay.start();
						
						if( cluster_input.clusterType == 'HCI_POWERFLEX_Appliance' && $scope.rackClusterModel.upgradeSwitch != 'S5048F-ON')
						{
							spinnerOverlay.stop();
							var output = rackService.showWarningModal("HCI_POWERFLEX_Appliance");							
							NodeIns.close && NodeIns.close()
							output.then(function(res){
							if(res == 'ok')
							{
								spinnerOverlay.start();
								$scope.validateMoveNode(NodeIns);
							}
							else
								{
									$scope.rackClusterModel.upgradeSwitch = null
									$scope.rackClusterModel.rackOption = null
								}
							})
						}
						else
                        	$scope.validateMoveNode(NodeIns);
                    }
                })
            }

			$scope.deleteRack = function () {
				var rackIDs = [];
				rackIDs.push($scope.prop.data.id);
				deleteSeleted({
					idKey: 'rack_ids',
					id: rackIDs,
					url: '/rest/design/deleteracks/'
				});
			};
			$scope.deleteCluster = function () {
				var clusterIDs = [];
				clusterIDs.push($scope.prop.data.clusterType == ("UNITY_STORAGE"||"PowerStore") ? $scope.prop.data.cluster_id : $scope.prop.data.id);
				deleteSeleted({
					idKey: 'cluster_ids',
					id: clusterIDs,
					url: '/rest/design/deleteclusters/'
				});
			}
			$scope.deletescalablefabric = function () {
				var clusterIDs = [];
				clusterIDs.push($scope.prop.data.clusterType == ("UNITY_STORAGE"||"PowerStore") ? $scope.prop.data.cluster_id : $scope.prop.data.id);
				deleteSeleted({
					idKey: 'cluster_ids',
					id: clusterIDs,
					url: '/rest/design/deletescalablefabric/'
				});
			}

			$scope.deleteMxFabric = function(){
				var clusterIDs = [];
				clusterIDs.push($scope.prop.data.clusterType == ("UNITY_STORAGE"||"PowerStore") ? $scope.prop.data.cluster_id : $scope.prop.data.id);
				deleteSeleted({
					idKey: 'cluster_ids',
					id: clusterIDs,
					url: '/rest/design/deleteMxChassisFabric/'
				});
			}
			$scope.deleteNode = function () {
				var nodeIDs = [];
				nodeIDs.push($scope.prop.data.id);
				deleteSeleted({
					idKey: 'node_ids',
					id: nodeIDs,
					url: '/rest/design/fabric/edit/cluster/node/delete/'
				});
			}

			$scope.deleteChassis = function () {
				var nodeIDs = [];
				nodeIDs.push($scope.prop.data.id);
				deleteSeleted({
					idKey: 'node_ids',
					id: nodeIDs,
					url: '/rest/design/fabric/edit/cluster/node/deletechassis/'
				});
			}

			function deleteSeleted(options) {
				var defered = $q.defer();
				scope = $rootScope
				//scope.options = options
				var confirmDialog = $uibModal.open({
					animation: false,
					backdrop: false,
					ariaLabelledBy: 'modal-title',
					ariaDescribedBy: 'modal-body',
					templateUrl: 'fabric/design/output/deleteModal.html',
                    controller: 'logicalViewCtrl',
                    size: 'sm',
					windowClass: "center-modal",
					resolve: {
						items: function () {
							return scope                                                
						}
					}
				});
				$timeout(function(){
					var id = document.getElementsByName("warning_delete_Ok")
					var element = angular.element(id);
					element[0].focus();
				}, 2000);

				confirmDialog.result.then(function (clickedAction) { 
                    if(clickedAction == 'ok')
					{
						deleteConfirm(options);
						//return 1;
					}                    

					defered.resolve(clickedAction)
			});
            return defered.promise;
            }
			function deleteSeleted1(options) {
				
				var confirmDialog = dlcuiConfirmDialog({
					icon: 'warning',
					title: $translate.instant('general.delete'),
					message: $translate.instant('general.deleteWarning')
				});
				confirmDialog().then(function () {
					deleteConfirm(options);
				}, function () {

				});
			}

			function deleteConfirm(options) {
				spinnerOverlay.start();
				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				},
					obj = {
						data: fabricService.getData(),
						view: fabricService.getFabricId()
					};
				obj[options.idKey] = options.id;
				$http.post(options.url, obj, config)
					.then(function (data, status, headers, config) {

						$scope.loadLogicalView();
						fabricInputService.displayToaster('success', 'Delete', (options.idKey == 'cluster_Ids' ? 'Cluster has been deleted successfully' : 'Deletion successful'));
						$scope.status = "Inactive";
                        $scope.updateStatus = function() {
                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                        }
						//spinnerOverlay.stop();
					}, function (res, status, header, config) {
						message = res.data.detail
						if (res.data.errors && res.data.errors.message)
							message = res.data.errors.message
						fabricInputService.displayToaster('error', 'Delete', message);
						spinnerOverlay.stop();
					});
			}

            /**Code for Pod */
			$scope.editMixedFabric=function(prop){
				if(prop.type=='rack'){
                  if(prop.data && prop.data.type=='Leaf')  $scope.editGeneric(prop.type);
                  else $scope.editPodFabric(prop.type);
				}
				if(prop.type=='cluster'||prop.type=='fabric'||prop.type=='node'){
                     if(prop.data && prop.data.clusterType && prop.data.clusterType!='MX_CHASSIS')  $scope.editGeneric(prop.type);
                     else $scope.editPodFabric(prop.type);
				}
				
			}
			$scope.editPodFabric = function (what) {
				switch (what) {	    
					case "fabric":
						$scope.editNetworkFabricModal();
						break;
					case "pod":
						//$scope.editRack();
						break;
					case "cluster":
						$scope.editScalableFabrics();
						break;
					case "node":
						/*if ($scope.prop.data.clusterType == 'UNITY_STORAGE') {
							$scope.editClusterModal();
						}*/
						break;
				}
			}
			$scope.deleteMixedFabric=function(prop){
				if(prop.type=='rack'){
					if(prop.data && prop.data.type=='Leaf')  $scope.deleteGeneric(prop.type);
					else $scope.deletePodFabric(prop.type);
				  }
				  if(prop.type=='cluster' || prop.type=='node'||prop.type=='chassis'){
				  if(prop.data && prop.data.clusterType && prop.data.clusterType!='MX_CHASSIS')  $scope.deleteGeneric(prop.type);
				  else $scope.deletePodFabric(prop.type);
				  }
			}
			$scope.deletePodFabric = function (what) {
				switch (what) {
					case "fabric":
						break;
					case "pod":
						//$scope.editRack();
						break;
					case "cluster":
						$scope.deletescalablefabric();
						break;
					case "chassis":
						/*if ($scope.prop.data.clusterType == 'UNITY_STORAGE') {
							$scope.editClusterModal();
						}*/
						$scope.deleteChassis();
						break;
				}
			}
			$scope.getScalableFabricDetails = function (options) {

				var fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				var dataObj = {
					id: $scope.prop.clusterId,
					data: fabricdata,
					view : view_id
				};
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
				rest = 'rest/design/getCluster/';

				/*if (options) {
					rest = '/rest/design/fabric/cluster/chassis/node/properties/';
					dataObj = {
						"rack_id": options.rack_id,
						"cluster_id": options.cluster_id,
						"chassis_id": options.chassis_id,
						"data": fabricdata
					}
				}*/

				return $http.post(rest, dataObj, config);
			}
			function getScalableFabricDefaults(url){
				return fabricInputService.getDefaults(url);
			}
			$scope.addScalableFabrics = function () {				
				 // $scope.fabricInputs.mxFabricClusterInputs= [];                  
				spinnerOverlay.start();
				$scope.controller =$scope.fabricInputs.fabricItems.clusterCtrl;
			    $scope.template = $scope.fabricInputs.fabricItems.clusterModal;
				$scope.fabricInputParams = angular.copy($scope.fabricInputs.fabricItems);
				
				var fabricdata = fabricService.getData();
				var dataObj = {
					id: $scope.prop.data.id,
					data: fabricdata
				};
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				};				

				$http.post('rest/design/fabric/mxFabric/getpoddevicetype/', dataObj, config)
					.then(function (res, status, headers, config) {
						device_type = res.data.device_type
						upLinkInfos = res.data.uplinkInfos
						var version = '',
						url, defaults,
						dataObj = {						
							rack_id:$scope.prop.data.id,
							data: fabricService.getData()
						};
					//dataObj.add_cluster_input.rack_ids.push(rackId);	// Append rack id
					if($scope.logicalData.fabricArchitectureType == "Full Switch Mode")
					{
						url = $scope.fabricInputs.fabricItems.defaults+"standalone/";
					}
					else
					{
						url = $scope.fabricInputs.fabricItems.defaults+"scalable_with_sfs/";
					}
					$scope.fabricInputs.dataObj = dataObj;
					$scope.fabricInputs.genericCluster = true;
					$scope.help.solution = 'mxchassis';
					getScalableFabricDefaults(url)
						.then(function (res) {
							defaults = res.data;
							defaults.deviceType = device_type
							defaults.chassisfabricInfos[0].uplinkInfos[0] = upLinkInfos
							fabricInputService.openChassisInputModal($scope, defaults, 'MX_CHASSIS',null,"ADD_IN");
							spinnerOverlay.stop();
						},
							function () {
								spinnerOverlay.stop();
							});

				
					}, function (data, status, headers, config) {

					});
					
				// Get version
				/*
				var version = '',
					url, defaults,
					dataObj = {						
						rack_id:$scope.prop.data.id,
						data: fabricService.getData()
					};
				//dataObj.add_cluster_input.rack_ids.push(rackId);	// Append rack id
				if($scope.logicalData.fabricArchitectureType == "Full Switch Mode")
				{
					url = $scope.fabricInputs.fabricItems.defaults+"standalone/";
				}
				else
				{
					url = $scope.fabricInputs.fabricItems.defaults+"scalable_with_sfs/";
				}
				$scope.fabricInputs.dataObj = dataObj;
				$scope.fabricInputs.genericCluster = true;
				$scope.help.solution = 'mxchassis';
				getScalableFabricDefaults(url)
					.then(function (res) {
						defaults = res.data;
						fabricInputService.openChassisInputModal($scope, defaults, 'MX_CHASSIS',null,"ADD_IN");
						spinnerOverlay.stop();
					},
						function () {
							spinnerOverlay.stop();
						});

				*/
			};
			$scope.editScalableFabrics = function (_index, defaults, clusterChassisType) {				
				spinnerOverlay.start();
				//   $scope.loadEditClusterDetail();


				/* set your model controller and its template here **/
				if ($scope.fabricInputs.fabricItems) {
					$scope.controller = $scope.fabricInputs.fabricItems.clusterCtrl;
			        $scope.template = $scope.fabricInputs.fabricItems.clusterModal;
				}
				$scope.type = 'bare'
				/* setting done**/
				$scope.title = "Edit";
				var getPromise = $scope.getScalableFabricDetails();
				getPromise.then(function (clusterdata) {
					if($scope.logicalData.fabricArchitectureType == 'Full Switch Mode')
					{
						var constructedURL =  $scope.fabricInputs.fabricItems.defaults+"standalone/";
					}
					else
					{
						var constructedURL =  $scope.fabricInputs.fabricItems.defaults+"scalable_with_sfs/";
					}
					fabricInputService.getDefaults(constructedURL)
						.then(function (res) {
							//$scope.fabricInputs.clusterDefaults = res.data;
							$scope.help.solution = 'mxchassis';

							//$scope.fabricInputs.clusterDefaults.cluster=clusterdata;
							var defaults = res.data;
							fabricInputService.editChassis($scope, 0, defaults, "MX_CHASSIS",clusterdata.data);
							spinnerOverlay.stop();
						}, function () {
							spinnerOverlay.stop();
						});
				},
					function () {
						spinnerOverlay.stop();
					});
			};	$scope.AddPodChassisModal = function () {
				/* set your model controller and its template here for your add Node feature **/
				spinnerOverlay.start();
				$scope.operation = true;
				$scope.type = 'dismiss';
				$scope.controller = 'logicalViewCtrl';
				$scope.template = 'fabric/design/output/addPodChassisModal.html';
				var getPromise = null;			
				getPromise = $scope.getClusterDetails();

				getPromise.then(function (clusterdata) {					/*clusterdata = clusterdata.data;
					var data = {
						data: fabricService.getData(),
						cluster_id: $scope.prop.clusterId
					};*/
				          var addPodChassisModalScope = fabricInputService.openModal($scope);
							addPodChassisModalScope.modal.show();
							addPodChassisModalScope.modal.node = {};							
							addPodChassisModalScope.modal.node.count = 1;
							addPodChassisModalScope.modal.node.addNodeError = false;
							addPodChassisModalScope.modal.node.addNodeErrorMsg = "";						
							addPodChassisModalScope.modal.clusterId = angular.copy($scope.prop.clusterId);
						//	addNodeModalScope.modal.allowedNoOfClusterNodes = 64 - Number($scope.prop.data.nodes);
							addPodChassisModalScope.modal.rackId = angular.copy($scope.prop.rackId);
							spinnerOverlay.stop();				
				},
					function () {
						spinnerOverlay.stop();
				});


			}
			$scope.validatePodChassis = function () {
				spinnerOverlay.start();
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				},				
               
				newnode = {
					"data": fabricdata,
					"rack_id":$scope.modal.rackId,
					"cluster_id":$scope.modal.clusterId,
					"numberOfChassis": $scope.modal.node.count
				},
				url = 'rest/design/fabric/fabric/mxFabric/chassis/add/';

				var promise = $http.post(url, newnode, config)
					.then(function (data, status, headers, config) {
						$scope.modal.node.addNodeError = false;
						$scope.modal.node.addNodeErrorMsg = "";
						$scope.modal.dismiss();
					//	fabricInputService.selectNode($scope.modal.clusterId);
						$scope.$emit('updateRacks');
					//	$scope.loadLogicalView();
						fabricInputService.displayToaster('success', 'Add Chassis', 'New Chassis(s) Added sucessfully');
						spinnerOverlay.stop();

					}, function (res, status, header, config) {
							$scope.modal.node.addNodeError = true;
							$scope.modal.node.addNodeErrorMsg = res.data.detail;
						spinnerOverlay.stop();
					});
			}		
			function init() {
				if ($scope.operation != true) {
					spinnerOverlay.start();
					$scope.$emit('load-logicalview');
				}
			};
			init();
		}]);

angular
	.module(APP_NAME)
	.controller('superspineCtrl', ['$scope', '$location', '$translate', '$rootScope', '$cookies', '$http', 'dlcuiModal', 'fabricService', '$state', 'toaster','FileSaver',
		'spinnerOverlay', 'fabricInputService', '$stateParams', 'outputService', 'VLANService', '$q', '$timeout', 'dlcuiConfirmDialog', '$uibModal', 'rackService','logicalrackservice',
		function ($scope, $location, $translate, $rootScope, $cookies, $http, dlcuiModal, fabricService, $state, toaster,FileSaver,
			spinnerOverlay, fabricInputService, $stateParams, outputService, VLANService, $q, $timeout, dlcuiConfirmDialog, $uibModal, rackService,logicalrackservice) {
				var SuperSpine = this;

				$scope.$on('tab-superspine', function () {
					spinnerOverlay.start();
					$scope.loadSuperSpine();					
					//$scope.getClusterCount();
				});
				$scope.$on('$destroy', function () {
					//$scope.loadSuperSpine();
				});
								
				$scope.loadSuperSpine = function () {

					var fabricdata = fabricService.getData();
					var config = {
						headers: {
							'Content-Type': 'application/json'
						}
					}				
		
					

				$http.post('rest/design/superspine/', fabricdata, config)
					.then(function (data, status, headers, config) {
						spinnerOverlay.start();
						$scope.superspinedata = data.data
						if($scope.superspinedata[0].fabrictype=='Super Spine')
						{
							$scope.enablesuperspine = true
							$('[name="addfabric"]').focus();							
						}
						else if($scope.superspinedata[0].deploymentType=='Enterprise SONiC Fabric')
						{
							/*if($scope.settings=='NA')
							{
								$timeout(function(){
									var id = document.getElementsByName("sonic_settings")
									var element = angular.element(id);
									element[0].focus();
								}, 2000);
							}
							else
							{
								$timeout(function(){
									var id = document.getElementsByName("addsuperspine")
									var element = angular.element(id);
									element[0].focus();
								}, 2000);
							}*/
						}
						/*else
						{
							$timeout(function(){
								var id = document.getElementsByName("editGeneric")
								var element = angular.element(id);
								console.log(element);
								element[0].focus();
							}, 2000);
						}*/
						view_id = fabricService.getFabricId()	
						if(view_id==undefined || view_id==null){
							fabricService.storefabricid(data.data[0].id)
							$rootScope.menuOptions.pageLabel = "Fabric: " +data.data[0].name
							spinnerOverlay.stop();
						}
						else
						{													
							fabricService.fabricName().then(function(response){
								$rootScope.menuOptions.pageLabel = "Fabric: " +response.fabricname;
								spinnerOverlay.stop();
						});		
						}
					});
				}
				$scope.addFabrics = function (fabric_id) {
					spinnerOverlay.start();
					var fabricdata = fabricService.getData();
					var config = {
						headers: {
							'AcceptMethod': 'write'
						}
					}
					fabricInputService.getSonicDefaults().then(function(res){
						data = {'data':fabricdata,'fabricInput':res.data}
						$http.post('rest/design/fabric/addfabric/', data, config)
						.then(function (response, status, headers, config) {
							spinnerOverlay.stop();
							fabricInputService.displayToaster('success', 'SuccessFully Added Fabric');					
							$scope.$emit('tab-superspine');
						},
						function(res)
						{
							fabricInputService.displayToaster('error', 'Error while adding fabric');					
							spinnerOverlay.stop();
						});					
					});
				}

				$scope.deleteFabrics = function (fabric_id) {
					spinnerOverlay.start();
					var fabricdata = fabricService.getData();
					var config = {
						headers: {
							'AcceptMethod': 'write'
						}
					}
					view_id = fabricService.getFabricId()
					data = {'data':fabricdata,'fabric_id':fabric_id}
					if(fabric_id==view_id)
					{
						angular.forEach($scope.superspinedata,function(viewdata)
						{
							if(viewdata.id != view_id && fabric_id == view_id)
							{
								view_id = viewdata.id
								fabricService.storefabricid(viewdata.id)
							}
						});
					}
					$http.post('rest/design/fabric/deletefabric/', data, config)
					.then(function (response, status, headers, config) {
						spinnerOverlay.stop();
						$scope.$emit('tab-superspine');
						fabricInputService.displayToaster('success', 'SuccessFully Deleted Fabric');
					},
					function (res) {
						spinnerOverlay.stop();
						fabricInputService.displayToaster('error', 'Error while deleting fabric');
					});
					
				}
				$scope.viewNetworkFabricModal = function (fabric_id,fabrictype) {
					spinnerOverlay.start();
					fabricService.storefabricid(fabric_id)
					fabricService.fabricName().then(function(response){
						$rootScope.menuOptions.pageLabel = "Fabric: " +response.fabricname;
						
						if(fabrictype=='Super Spine')
							$scope.$emit('fornetworkview');
						else
							$scope.$emit('forlogicalview');
					})
					spinnerOverlay.stop();
				}
				$scope.editSuperSpineModal = function(fabric_id)
				{
					spinnerOverlay.start();
					$scope.controller = 'logicalViewCtrl';
					$scope.template = 'fabric/design/input/fabric/editsuperspineModal.html';
					$scope.from = "superspine"
					var fabricdata = fabricService.getData();
					var config = {
						headers: {
							'Content-Type': 'application/json'
						}
					}
	
					data = {'data':fabricdata,'fabric_id':fabric_id}
					$http.post('rest/design/fabric/edit/defaults/', data, config)
						.then(function (response, status, headers, config) {
						//	$scope.isFabricHide = $scope.editFromLogical && (response.data.networkType == 'Top of Rack Fabric' ? true : false);
						spinnerOverlay.start();
						$scope.isFabricHide= (($scope.prop && ($scope.prop.type=='fabric') && ($scope.prop.fabricsubtype=='POD')) &&(response.data && (response.data.leafSwitchModel== "S5232F-ON") && (response.data.networkType == 'Top of Rack Fabric')))?true:false;
						edit_defaults = fabricInputService.superspineDefaults(response.data.networkType)						
	
						edit_defaults.then(function (res) 
						{
							if (res && res.data) {
								var networks = angular.copy(res.data.networkDefaults);
								var editableNetworks = [];
								response.data.switchDefaults = angular.copy(res.data.switchDefaults);
								var networkTypeOptions = response.data.networkTypeOptions;
								if (networkTypeOptions) {
									angular.forEach(networks, function (item) {
										for (i = 0; i < networkTypeOptions.length; i++) {
											if (networkTypeOptions[i] == item.networkType)
												editableNetworks.push(item)
										}
									});
								}
								response.data.networkDefaults = angular.copy(editableNetworks);
								response.data.filter_switch_options = angular.copy(res.data.filter_switch_options);
								if (response.data.networkDefaults.length > 1) {
									angular.forEach(response.data.networkDefaults, function (item) {
										if (item.networkType == response.data.networkType)
											response.data.selectedNetworkType = item;
									});
								} else {
									response.data.selectedNetworkType = response.data.networkDefaults[0];
								}
								angular.forEach(response.data.switchDefaults, function (item,ind) {
									if(ind==0)
									{
										response.data.selectedLeafSwitch = item;
										angular.forEach(response.data.selectedLeafSwitch.spines,function(spine){
										if(response.data.spineSwitchModel==spine.spineModel)
										{
											response.data.selectedSpineSwitch = spine
										}
									});
								}
								});
								//response.data.selectedSpineSwitch = response.data.spineSwitchModel
									
							$scope.fabricEditableData = angular.copy(response.data);
							if (response.data.fabricLinkInfo)
								$scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = Number(response.data.fabricLinkInfo.overAllBandwidth);
							else
								$scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = "";							
							}
							$scope.workloadRacks = $scope.fabricEditableData.rackInfos;
							var networkFabricModalScope = fabricInputService.openNetworkFabric($scope,"fdc_spineSwitchModel","fdc_network_fabric_input_cancel");
							networkFabricModalScope.modal.show();
							spinnerOverlay.stop();	 // Stop loading...
						});
						}, function (data, status, header, config) {
							spinnerOverlay.stop(); // Stop loading...
						});
					//	$scope.loadSuperSpine();
					/* settings done*/		
				}
				$scope.editNetworkFabricModal = function (fabric_id) {
					spinnerOverlay.start();
					$scope.operation = true;
					/* set your model controller and its template here for your add Node feature **/
					$scope.controller = 'logicalViewCtrl';
					$scope.template = 'fabric/design/input/fabric/networkFabricModal.html';
					$scope.from = "superspine"
					//	$scope.networkFabricForm = {};
					var fabricdata = fabricService.getData();
					var config = {
						headers: {
							'Content-Type': 'application/json'
						}
					}
	
					data = {'data':fabricdata,'fabric_id':fabric_id}
					$http.post('rest/design/fabric/edit/defaults/', data, config)
						.then(function (response, status, headers, config) {
						//	$scope.isFabricHide = $scope.editFromLogical && (response.data.networkType == 'Top of Rack Fabric' ? true : false);
						if(response.data.designType == "Turnkey-Backend" || response.data.designType == "NVMe-Backend")
							$scope.template = 'fabric/design/input/fabric/networkFabricModal_BE.html';					
						$scope.isFabricHide= (($scope.prop && ($scope.prop.type=='fabric') && ($scope.prop.fabricsubtype=='POD')) &&(response.data && (response.data.leafSwitchModel== "S5232F-ON") && (response.data.networkType == 'Top of Rack Fabric')))?true:false;
						if(response.data.deploymentType=="OS10 Fabric"){
						edit_defaults = fabricInputService.getGeneratedFabricDefaults(response.data.networkType,response.data.leafSwitchModel,response.data.designType)
						}
						else if(response.data.deploymentType=="Enterprise SONiC Fabric"){
							edit_defaults = fabricInputService.getSonicDefaults(response.data.networkType,response.data.leafSwitchModel,response.data.designType)
						}
						else if(response.data.deploymentType=="Nokia NFVi"){
							edit_defaults = fabricInputService.getNokiaCBISDefaults(response.data.networkType,response.data.leafSwitchModel,$scope.logicalData.clusterData)
						}
						else if(response.data.deploymentType=="GNS3 Fabric"){
							edit_defaults = fabricInputService.getGNS3FabricDefaults(response.data.networkType,response.data.leafSwitchModel,$scope.logicalData.clusterData)
						}
	
						edit_defaults.then(function (res) {
								if (res && res.data) {
									var networks = angular.copy(res.data.networkDefaults);
									var editableNetworks = [];
									response.data.switchDefaults = angular.copy(res.data.switchDefaults);
									var networkTypeOptions = response.data.networkTypeOptions;
									if (networkTypeOptions) {
										angular.forEach(networks, function (item) {
											for (i = 0; i < networkTypeOptions.length; i++) {
												if (networkTypeOptions[i] == item.networkType)
													editableNetworks.push(item)
											}
										});
									}
									response.data.networkDefaults = angular.copy(editableNetworks);
									response.data.filter_switch_options = angular.copy(res.data.filter_switch_options);
									if (response.data.networkDefaults.length > 1) {
										angular.forEach(response.data.networkDefaults, function (item) {
											if (item.networkType == response.data.networkType)
												response.data.selectedNetworkType = item;
										});
									} else {
										response.data.selectedNetworkType = response.data.networkDefaults[0];
									}
									angular.forEach(response.data.switchDefaults, function (item) {
										if (item.switchModel == response.data.leafSwitchModel)
											response.data.selectedLeafSwitch = item;
									});
									angular.forEach(response.data.switchDefaults, function (item) {
										if (item.switchModel == res.data.borderleafSwitchModel)
										response.data.selectedborderLeafSwitch = item;
									});								
									}	
								if (res.data.bl_upLinkInfo)
								{	
									response.data.bl_upLinkInfo = res.data.bl_upLinkInfo		
								}
								$scope.fabricEditableData = angular.copy(response.data);
								if(response.data.networkType=='Super Spine')
								{
									console.log("161")
								}
								else
								{
									if (response.data.fabricLinkInfo && $scope.fabricEditableData && $scope.fabricEditableData.selectedLeafSwitch)
										$scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = Number(response.data.fabricLinkInfo.overAllBandwidth);
									else
									{
										 $scope.fabricEditableData = $scope.fabricEditableData || {};
                                                                                 $scope.fabricEditableData.selectedLeafSwitch = $scope.fabricEditableData.selectedLeafSwitch || {};
										 $scope.fabricEditableData.selectedLeafSwitch['defaultBandwidthToRack'] = "";
									}
								}
								$scope.workloadRacks = $scope.fabricEditableData.rackInfos;
								var networkFabricModalScope = fabricInputService.openNetworkFabric($scope,"fdc_fabricName","fdc_network_fabric_input_cancel");
								networkFabricModalScope.modal.show();								
								spinnerOverlay.stop();	 // Stop loading...
							});
							// })					
						}, function (data, status, header, config) {
							spinnerOverlay.stop(); // Stop loading...
						});
						$scope.loadSuperSpine();
					/* settings done*/
	
				}			
			$scope.addsuperspineModal = function(fabric_id)
			{
					spinnerOverlay.start();
					$scope.operation = true;
					$scope.controller = 'logicalViewCtrl';
					$scope.template = 'fabric/design/input/fabric/addsuperspineModal.html';
					$scope.from = "superspine"
					var fabricdata = fabricService.getData();
					var config = {
						headers: {
							'Content-Type': 'application/json'
						}
					}
						
					data = {'data':fabricdata,'fabric_id':fabric_id}
					edit_defaults = fabricInputService.superspineDefaults()
					edit_defaults.then(function (res) {
							response = res

							if (res && res.data) {
								var networks = angular.copy(res.data.networkDefaults);
								var editableNetworks = [];
								
								response.data.switchDefaults = angular.copy(res.data.switchDefaults);
								response.data.networkType = "Super Spine" 	
								response.data.network_overlay_type = "BGP EVPN"							
								var networkTypeOptions = response.data.networkTypeOptions;
								if (networkTypeOptions) {
									angular.forEach(networks, function (item) {
										for (i = 0; i < networkTypeOptions.length; i++) {
											if (networkTypeOptions[i] == item.networkType)
												editableNetworks.push(item)
										}
									});
								}
								response.data.filter_switch_options = angular.copy(res.data.filter_switch_options);
								if (response.data.networkDefaults.length > 1) {
									angular.forEach(response.data.networkDefaults, function (item) {
										if (item.networkType == response.data.networkType)
											response.data.selectedNetworkType = item;
									});
								} else {
									response.data.selectedNetworkType = response.data.networkDefaults[0];
								}
								angular.forEach(response.data.switchDefaults, function (item,ind) {
									if(ind==0)
										response.data.selectedLeafSwitch = item;
								});
								angular.forEach(res.data.switchDefaults, function (item,ind) {
									if(ind==0){
									angular.forEach(item.spines, function(spine,index)
									{
										if(index==0){
											response.data.selectedSpineSwitch = spine
										}
									})
									}
								});	
							response.data.spineSwitchModel = angular.copy(response.data.selectedSpineSwitch.spineModel)
							$scope.fabricEditableData = angular.copy(response.data);
							
							$scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = response.data.selectedLeafSwitch.defaultBandwidthToRack;
							$scope.workloadRacks = $scope.fabricEditableData.rackInfos;
							var networkFabricModalScope = fabricInputService.openNetworkFabric($scope,"fdc_spineSwitchModel","fdc_network_fabric_input_cancel");
							networkFabricModalScope.modal.show();								
							spinnerOverlay.stop();	 // Stop loading...
						};
					});
					}, function (data, status, header, config) {
						spinnerOverlay.stop(); // Stop loading...
			}
			$scope.settingsModal = function()
			{
				
				var defered = $q.defer();
				scope = $scope
				//scope.options = options
				var NodeIns = $uibModal.open({
					animation: false,
					backdrop: false,
					ariaLabelledBy: 'modal-title',
					ariaDescribedBy: 'modal-body',
					templateUrl: 'fabric/design/output/settingsModal.html',
					controller: 'superspineCtrl',
					resolve: {
						items: function () {
							return scope                                                
						}
					}
				});
				NodeIns.result.then(function (clickedAction) { 
						if(clickedAction !='NA')
						{
							$scope.enablesettings(clickedAction);
							return 1;
						}                    
	
						defered.resolve(clickedAction)
				});
				return defered.promise;			
			
			}
			$scope.addnewFabricModal = function (fabric_id) {
				spinnerOverlay.start();
				$scope.operation = true;
				/* set your model controller and its template here for your add Node feature **/
				$scope.controller = 'logicalViewCtrl';
				$scope.template = 'fabric/design/input/fabric/addnetworkFabricModal.html';
				$scope.from = "superspine"
				//	$scope.networkFabricForm = {};
				
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				    
				    data = {'data':fabricdata,'fabric_id':fabric_id}
				    edit_defaults = fabricInputService.getSonicDefaults_superspine(fabricdata)

					//	$scope.isFabricHide = $scope.editFromLogical && (response.data.networkType == 'Top of Rack Fabric' ? true : false);
					edit_defaults.then(function (res) {
						    response = res

							if (res && res.data) {
								var networks = angular.copy(res.data.networkDefaults);
								var editableNetworks = [];
								
								response.data.switchDefaults = angular.copy(res.data.switchDefaults);
								var networkTypeOptions = response.data.networkTypeOptions;
								if (networkTypeOptions) {
									angular.forEach(networks, function (item) {
										for (i = 0; i < networkTypeOptions.length; i++) {
											if (networkTypeOptions[i] == item.networkType)
												editableNetworks.push(item)
										}
									});
								}
								//response.data.networkDefaults = angular.copy(editableNetworks);
								response.data.filter_switch_options = angular.copy(res.data.filter_switch_options);
								if (response.data.networkDefaults.length > 1) {
									angular.forEach(response.data.networkDefaults, function (item) {
										if (item.networkType == response.data.networkType)
											response.data.selectedNetworkType = item;
									});
								} else {
									response.data.selectedNetworkType = response.data.networkDefaults[0];
								}
								angular.forEach(response.data.switchDefaults, function (item) {
									if (item.switchModel == response.data.leafSwitchModel)
										response.data.selectedLeafSwitch = item;
								});
								angular.forEach(response.data.switchDefaults, function (item) {
									if (item.switchModel == res.data.borderleafSwitchModel)
									response.data.selectedborderLeafSwitch = item;
								});								
								}	
							if (res.data.bl_upLinkInfo)
							{	
								response.data.bl_upLinkInfo = res.data.bl_upLinkInfo		
							}
							$scope.fabricEditableData = angular.copy(response.data);
							
							$scope.fabricEditableData.selectedLeafSwitch.defaultBandwidthToRack = response.data.selectedLeafSwitch.defaultBandwidthToRack;
							$scope.workloadRacks = $scope.fabricEditableData.rackInfos;
							var networkFabricModalScope = fabricInputService.openNetworkFabric($scope,"fdc_fabricName","fdc_network_fabric_input_cancel");
							networkFabricModalScope.modal.show();								
							spinnerOverlay.stop();	 // Stop loading...
						});
						// })		
					}, function (data, status, header, config) {
						spinnerOverlay.stop(); // Stop loading...

						$scope.loadSuperSpine();
				/* settings done*/

			}
			$scope.downloadAll = function(download_option)
			{
				spinnerOverlay.start()
				data = {'data':fabricService.getData()}
				var config = {
					headers: {
						'Content-Type': 'application/json'
					},
				}
				if(download_option=='Config Download')
				{
					rest_url = '/rest/build/downloadallpodsConfigsZip/'
					data['ostype']="Sonic"
					data["configtype"]="Ansible"				
				}
				else if(download_option=='Network View')
				{
					//Done in UI
				}
				else if(download_option=='Network Conf CSV')
				{
					rest_url = '/rest/build/exportnetworkconfall/'
					data['format'] = 'csv'
				}
				else if(download_option=='Bill of Materials')
				{
					rest_url = '/rest/design/exportbomall/'
					data['format'] = 'pdf'
				}
				else if(download_option=='Wiring')
				{
					rest_url = '/rest/design/fabric/wiring/all_pods/'
					data['format'] = 'svg'
				}
				$http.post(rest_url, data, { responseType: 'arraybuffer' }, config)
					.then(function (allswitchconfigs, status, headers, config) {
						var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
						fabricService.fabricName().then(function (response) {
							FileSaver.saveAs(blob_data, 'FDC-All-'+download_option+'.zip');
							fabricInputService.displayToaster('success', 'Download '+download_option+' Successfull', 'Downloaded successfully');
							spinnerOverlay.stop();
						});
					}, function (configerror, status, header, config) {
						fabricInputService.displayToaster('error','Download '+download_option+' Failed', 'Unable to download');
						spinnerOverlay.stop();
					});
			}
			$scope.enablesettings = function (enable_option)
			{
				var fabricdata = fabricService.getData();
				var config = {
					headers: {
						'Content-Type': 'application/json',
						'AcceptMethod': 'write'
					}
				}
					
				data = {'data':fabricdata,'enable_option':enable_option}
				$http.post('rest/design/enable_sonic_settings/', data, config)
				.then(function (data, status, headers, config) {
					spinnerOverlay.start();
					$scope.settings = enable_option
					fabricInputService.displayToaster('success', 'Enable Settings', 'Settings Enabled');
					spinnerOverlay.stop();
				}, function (configerror, status, header, config) {
					fabricInputService.displayToaster('error', 'Enable Settings Error', 'Error in Settings');
					spinnerOverlay.stop();
				});
			}
			$scope.downloadAllConfig = function (data) {
				spinnerOverlay.start();
				data = {'data':fabricService.getData(),'ostype':"Sonic","configtype":"Ansible"}
				var config = {
					headers: {
						'Content-Type': 'application/json'
					},

				}			
				$http.post('/rest/build/downloadallpodsConfigsZip/', data, { responseType: 'arraybuffer' }, config)
					.then(function (allswitchconfigs, status, headers, config) {
						var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
						fabricService.fabricName().then(function (response) {
							FileSaver.saveAs(blob_data, 'FDC-All-Config.zip');
							fabricInputService.displayToaster('success', 'Switch Configuration', 'Downloaded successfully');
							spinnerOverlay.stop();
						});
					}, function (configerror, status, header, config) {
						fabricInputService.displayToaster('error', 'Switch Configuration', 'Unable to download');
						spinnerOverlay.stop();
					});
									
			}
			$scope.WarningModal= function () {
                var defered = $q.defer();
                scope = $scope
				var NodeIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/dciworkflow.html',
					controller: 'fabricRacksController',
					visible:false,
					windowClass: "center-modal",
                    size: 'lg',
                    resolve: {
						items: function () {
                            return scope                                                
						}
                    }
                });
				NodeIns.result.then(function (clickedAction) { 
						if(clickedAction == 'ok')
						{
							clusterIns.close && clusterIns.close();
							return 1;
						}                    
	
                        defered.resolve(clickedAction)
                });
                return defered.promise;
			}
				function init() {

					spinnerOverlay.start();		
					$scope.enablesuperspine = false
					$scope.settings = 'NA'
					var fabricdata = fabricService.getData();
					var config = {
						headers: {
							'Content-Type': 'application/json'
						}
					}				
					$http.post('rest/design/get_settings/', {'data':fabricdata}, config)
					.then(function (data, status, headers, config) {
						$scope.settings = data.data
						if($scope.settings=="DCI")
							$scope.WarningModal();
						$scope.$broadcast('tab-superspine');
					}),
					function (configerror, status, header, config) {
					fabricInputService.displayToaster('error', 'Settings Error', 'Settings Error');
					$scope.$broadcast('tab-superspine');
					$timeout(function(){
						var id = document.getElementsByName("viewGeneric")
						var element = angular.element(id);
						element[0].focus();
					}, 2000);
					};												
				};
				init();				
			}]);

			

angular
    .module(APP_NAME)
    .controller('networkSettingsCtrl', ['$scope', '$q', 'linkService', 'spinnerOverlay', 'fabricService', '$http', 'FileSaver', 'fabricInputService', function ($scope, $q, linkService, spinnerOverlay, fabricService, $http, FileSaver, fabricInputService) {
        $scope.tiers = 1;
        $scope.protocol = {};
        var networkconf = this;
        $scope.curtabpos = 0;
        $scope.maxpos = "";
        networkconf.viewmodel = {};
        var ids = ['ManagementIPConfiguration', 'WorkloadNetworks', 'CBISWorkloadNetworks', 'TenantDetails', 'DCISettings', 'CLICredentials', 'FabricRouterSettings', 'FabricExternalNetworkSettings', 'CBISFabricExternalNetworkSettings', 'NTP', 'SNMP', 'IPDHCP', 'TACACS', 'DNS', 'Syslog'];

        var tabDict = {}
        tabDict['ManagementIPConfiguration'] = {
            settabstr: 'Management IP Configuration',
            settabmethod: 'loadMgmtIP'
        };
        tabDict['WorkloadNetworks'] = {
            settabstr: 'Workload Networks',
            settabmethod: 'loadVlan'
        };
        tabDict['CBISWorkloadNetworks'] = {
            settabstr: 'CBIS Workload Networks',
            settabmethod: 'loadVlan'
        };
        tabDict['CLICredentials'] = {
            settabstr: 'CLI Credentials',
            settabmethod: 'loadCLI'
        };
        tabDict['DCISettings'] = {
            settabstr: 'DCI Settings',
            settabmethod: 'loadDCI'
        };
        tabDict['FabricRouterSettings'] = {
            settabstr: 'Fabric Router Settings',
            settabmethod: 'loadfabricsettings'
        };
        tabDict['FabricExternalNetworkSettings'] = {
            settabstr: 'Fabric External Network Settings',
            settabmethod: 'loadfabricsettings'
        };
        tabDict['CBISFabricExternalNetworkSettings'] = {
            settabstr: 'CBIS Fabric External Network Settings',
            settabmethod: 'loadfabricsettings'
        };
        tabDict['NTP'] = {
            settabstr: 'NTP',
            settabmethod: 'loadNTP'
        };
        tabDict['SNMP'] = {
            settabstr: 'SNMP',
            settabmethod: 'loadSNMP'
        };
        tabDict['IPDHCP'] = {
            settabstr: 'IP DHCP',
            settabmethod: 'loadIPDHCP'
        };
        tabDict['TACACS'] = {
            settabstr: 'TACACS',
            settabmethod: 'loadTACACS'
        };
        tabDict['DNS'] = {
            settabstr: 'DNS',
            settabmethod: 'loadDNS'
        };
        tabDict['Syslog'] = {
            settabstr: 'Syslog',
            settabmethod: 'loadSyslog'
        };

        $scope.handleKeyDown = function (event, currentId, index, maxpos, prevIdx, prevpos) {
            const totalTabs = $scope.maxpos;
            switch (event.key) {
                case 'ArrowUp': // Navigate to the previous tab
                    var lastSeenElement;
                    ids.forEach(function (id) {
                        var idx = ids.indexOf(id);
                        if (idx !== -1 && prevIdx !== -1 && (idx < prevIdx)) {
                            var element = angular.element(document.querySelector('#' + id + ' a'));
                            if (element.length > 0) {
                                lastSeenElement = element
                            }

                        } else {
                            // console.log("Inside condtion: id ", id, prevpos, prevIdx, lastSeenElement,);
                            if (prevIdx != -1) {
                                if (id === prevpos) {
                                    var upElement = angular.element(document.querySelector('#' + id + ' a'));
                                    //  console.log("Inside condtion: length111 ", upElement.length, id, element)
                                    if (upElement.length > 0) {
                                        upElement.focus();
                                        prevIdx = -1;
                                    }
                                } else {
                                    lastSeenElement.focus();
                                }
                            }
                        }
                    });
                    break;
                case 'ArrowDown': // Navigate to the next tab
                    ids.forEach(function (id) {
                        var idx = ids.indexOf(id);
                        if (idx !== -1 && index !== -1 && ((idx > index) || (id === maxpos))) {
                            var element = angular.element(document.querySelector('#' + id + ' a'));
                            if (element.length > 0) {
                                element.focus();
                                index = -1;
                                $scope.maxpos = '';
                            }
                        }
                    });
                    break;
                case ' ': // Handle Space key
                case event.keyCode === 32:
                    $scope.settabactive(tabDict[currentId].settabstr);
                    $scope[tabDict[currentId].settabmethod]();
                    //spinnerOverlay.stop();
                    break;
                default:
                    return; // Exit for other keys
            }
            $scope.index = index;
        };
        
        $scope.active_menu = "Management IP Configuration"
        $scope.settabactive = function(menulabel) {
            $scope.active_menu = menulabel
        }
        $scope.loadCLI = function () {
            $scope.$broadcast("load-cli-data", $scope.protocol);
        }
        $scope.loadTenant = function () {
            $scope.$broadcast("load-tenant-data", $scope.protocol);
        }
        $scope.loadMgmtIP = function () {
            $scope.$broadcast("load-mgmtip-data", $scope.protocol);
        }
        $scope.loadVlan = function () {
            $scope.$broadcast("load-vlan-data", $scope.protocol);
        }
        $scope.loadOverlay = function () {
            $scope.$broadcast("load-overlay-data", $scope.protocol);
        }
        $scope.loadSNMP = function () {
            $scope.$broadcast("load-snmp-data", $scope.protocol);
        }
        $scope.loadTACACS = function () {
            $scope.$broadcast("load-tacacs-data", $scope.protocol);
        }
        $scope.loadIPDHCP = function () {
            $scope.$broadcast("load-ipdhcp-data", $scope.protocol);
        }
        $scope.loadDCI = function () {
            $scope.$broadcast("load-dci-data", $scope.protocol);
        }
        $scope.loadSyslog = function () {
            $scope.$broadcast("load-syslog-data", $scope.protocol);
        }
        $scope.loadDNS = function () {
            $scope.$broadcast("load-dns-data", $scope.protocol);
        }
        $scope.loadNTP = function () {
            $scope.$broadcast("load-ntp-data", $scope.protocol);
        }
        $scope.loadfabricsettings = function () {
            $scope.$broadcast("loadSettings", $scope.protocol);
        }

        //$scope.deploymentType = fabricService.getDeploymentType();
        //$scope.deploymentType = $scope.protocol.deploymentType
        /*$http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {

            $scope.deploymentType = res.data
          });*/
        $scope.downloadNWForFabric = function (selectedFormat) {
            //bm.viewmodel.selectedFormat = format
            var config = {
                headers: {
                    'Content-Type': 'application/json'
                },

            },
            data = {
                format: selectedFormat,
                data: fabricService.getData(),
                view: fabricService.getFabricId()
            }
            spinnerOverlay.start();
            $http.post('/rest/build/exportnetworkconf/', data, { responseType: 'arraybuffer' }, config)
                .then(function (allswitchconfigs, status, headers, config) {
                    spinnerOverlay.stop();
                    var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
                    fabricService.fabricName().then(function (response) {
                        FileSaver.saveAs(blob_data, 'FDC-' + response.fabricname + '-NetConf.zip');
                        fabricInputService.displayToaster('success', 'Download', 'File downloaded successfully');
                    });
                }, function (configerror, status, header, config) {
                    spinnerOverlay.stop();
                    fabricInputService.displayToaster('error', 'Download', 'Error in file download');
                });
        }
        $scope.getFabricsUplinkProtocol = function () {
            spinnerOverlay.start();
            var deferred = $q.defer();
            var view_id = fabricService.getFabricId();
            linkService.getselectedFabricProtocol(view_id).then(function (res, status, headers, config) {
                spinnerOverlay.start();
                /*$scope.uplink.upLinkProtocol = res.data.upLinkProtocol;
                $scope.uplink.upLinkProtocolType = res.data.upLinkProtocolType;
                $scope.uplink.fabricLinkProtocol = res.data.fabricLinkProtocol;
                $scope.uplink.tiers = res.data.tiers;
                $scope.uplink.fabricType = res.data.fabricType;
                $scope.uplink.fabricLinkProtocolType = res.data.fabricLinkProtocolType;*/
                $scope.protocol = angular.copy(res.data);
                $scope.protocol.view = view_id //networkconf.viewmodel.selectedView
                $scope.protocol.view_name = networkconf.viewmodel.view_name
                deferred.resolve('success');
                $scope.$broadcast('load-mgmtip-data', $scope.protocol);
                spinnerOverlay.stop();
            }, function (data, status, header, config) {
                deferred.reject('failure');
                spinnerOverlay.stop();
            });
            return deferred.promise;
        }
        $scope.$on('tab-networksettings', function () {
            /*$http.post('rest/design/getViewOptions/',fabricdata,config)
            	.then(function(res, status, headers, config) {
                if(networkconf.viewmodel.selectedView == undefined || networkconf.viewmodel.selectedView == null)
                {
                    networkconf.viewmodel.selectedView = res.data[0].id
                    networkconf.viewmodel.view_name = res.data[0].name
                } 
                $scope.view_options = res.data    
                });*/                
                $scope.getFabricsUplinkProtocol() .then(function(res)
                {
                spinnerOverlay.start();    
                //$scope.$broadcast('load-mgmtip-data',$scope.protocol);         
                $scope.active_menu = "Management IP Configuration"
                $scope.$broadcast('load-mgmtip-data',$scope.protocol);
                //$scope.$broadcast('dlng:wizard:goto', 0);
                spinnerOverlay.stop();
                });
                //$scope.$broadcast('dlng:wizard:goto', 0);
            /* get which protocol is selected when tab is loaded*/

        });
    }]);

angular
	.module(APP_NAME)
	.controller('dhcpConfigCtrl', ['$scope', '$cookies', '$http', 'fabricService', 'FileSaver', 'Blob', 'spinnerOverlay', 'dlcuiConfirmDialog', '$translate', 'fabricInputService', '$rootScope',
		function ($scope, $cookies, $http, fabricService, FileSaver, Blob, spinnerOverlay, dlcuiConfirmDialog, $translate, fabricInputService, $rootScope) {

			$scope.form = {};
			$scope.viewmodel = {
				fileServerProtocol: 'http',
				modelsImage: []
			}

			$scope.dhcpmodel = {
				filtertypes: [{
					name: "OS10",
					id: "OS_10",
				},
				{
					name:"SONiC",
					id:"Enterprise SONiC Fabric",			
				}],
				modelsImage: []
			};

			function validatedhcpConfig(data, callback) {
				if (data.FILE_SERVER_IP =="Complete" && (data.MAC =="Incomplete"||data.IP =="Incomplete")) {
					var warningMessage = "Switch MAC Configuration is not configured.DHCP/ZTD configuration will be valid only,if valid Switch MAC configured. Do you still want to download configuration?"
					var confirmDialog = dlcuiConfirmDialog({
						icon: 'warning',
						title: 'DHCP Configuration',
						message: warningMessage
					});

					confirmDialog().then(function () {
						spinnerOverlay.start();
						callback();
					}, function () {
					});
				}else
				{
					callback();
				}
		}

			$scope.getDHCPdata = function () {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
					fabricdata = fabricService.getData();

				$http.post('/rest/build/osversion/', fabricdata, config)
					.then(function (res, status, headers, config) {

						angular.forEach(res.data.data, function (value, index) {
							if (value.osType == $scope.dhcpmodel.filteredType.id) {
								$scope.dhcpmodel.modelsImage = value.modelImages;
							}
						})
						spinnerOverlay.stop();

					}, function () {
						spinnerOverlay.stop();
					});
			};

			$scope.$on('load-dhcp-data', function () {
				$scope.getDHCPdata();
			});

			$scope.openEditMacModal = function () {
				var newScope = $rootScope.$new();
				newScope.controller = 'IPMacCtrl';
				newScope.template = 'fabric/design/output/networksettings.ipmacmodal.html';
				var modalScope = fabricInputService.openModal(newScope,"mac_0","fdc_cluster_input_cancel");
				// modalScope.show();				
			}
			$scope.downloadDHCP = function () {
				var form_fields = ['dhcp_ip', 'dhcp_username', 'dhcp_password'];
				var focusElement = true;
				angular.forEach(form_fields, function (value, index) {
					if ($scope.form.dhcpinput[value]) {
						if (focusElement && $scope.form.dhcpinput[value].$invalid) {
							$('[name=' + value + ']').focus();
							focusElement = false;
						}
						$scope.form.dhcpinput[value].$dirty = true;
					}
				});
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
					fabricdata = fabricService.getData();
					var view_id = fabricService.getFabricId();
					data = {
						data: fabricdata,
						view: view_id,
						dhcp_config: $scope.viewmodel
					};
					downloadConfig = function () {
						if ($scope.viewmodel.fileServerProtocol == 'ftp' && $scope.form.dhcpinput.$valid
					|| $scope.viewmodel.fileServerProtocol == 'tftp' && $scope.form.dhcpinput.dhcp_ip.$valid || $scope.viewmodel.fileServerProtocol == 'http' && $scope.form.dhcpinput.dhcp_ip.$valid) 
					{
					spinnerOverlay.start();
					
						$http.post('/rest/build/dhcp/', data,{ responseType: 'arraybuffer' }, config).then(function (dhcpconfig, status, headers, config) {
							spinnerOverlay.stop();
							fabricService.fabricName().then(function(response) {
								var blob_data = new Blob([dhcpconfig.data], { type: 'application/octet-stream' });
								FileSaver.saveAs(blob_data, 'FDC-' + response.fabricname + '-ZTD.zip');
							   });
						}, function (configerror, status, header, config) {
							console.log(configerror);
							spinnerOverlay.stop();
						});
				}}
				$http.post('/rest/build/scan_dhcp/', data)
					.then(function (res) {
						validatedhcpConfig(res.data, downloadConfig)
					}, function (res) {
						fabricInputService.displayToaster('error', 'Switch Configuration', res.statusText);
						spinnerOverlay.stop();
					})
			};

		}]);

angular
	.module(APP_NAME)
	.controller('downloadSwitchConfigCtrl', ['$scope', '$http', 'dlcuiModal', '$uibModal' , '$timeout','$q', '$cookies', 'fabricService', 'FileSaver', 'Blob', 'spinnerOverlay', 'dlcuiConfirmDialog', '$translate', 'fabricInputService',
		function ($scope, $http, dlcuiModal, $uibModal, $timeout, $q, $cookies, fabricService, FileSaver, Blob, spinnerOverlay, dlcuiConfirmDialog, $translate, fabricInputService) {

			$scope.viewmodel = {};

			/* Validate cluster config */
			$scope.isSelected = function (obj) {
				if(Object.keys($scope.viewmodel.backend_switches).length==1)	
				{
					obj.isCollapsed = true
					return obj.isCollapsed
				}
				else
					return obj.isCollapsed;
			  };
			  
			$http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {
				{
					$scope.deploymentType = res.data
				}
			});
			//$scope.deploymentType = fabricService.getDeploymentType(); 
			$scope.SwitchRecommendedWarning = function (warning_message, data, switchName, switchID) {
                var defered = $q.defer();
				$scope.warning_message = warning_message
				$scope.server_facing_ports = "false"
                var NodeIns = $uibModal.open({
                    animation: false,
                    backdrop: false,
                    ariaLabelledBy: 'modal-title',
                    ariaDescribedBy: 'modal-body',
                    templateUrl: 'fabric/design/output/SwitchWarning.html',
                    controller: 'fabricRacksController',
                    size: 'lg',
                    resolve: {
						items: function () {
						}
					},
					scope: $scope
				});
				NodeIns.result.then(function (clickedAction) { 
						if(clickedAction != 'cancel')
						{
							clickedAction = (clickedAction =="true");  
							if(switchID)
							{
								data.confgeninput.ignore_serverfacing_configs = clickedAction
								if(switchName)
									downloadSwitchConfig(data, switchName, switchID);
								else
									viewSwitchConfig(data, switchName, switchID);
							}
							else
							{
								data.ignore_serverfacing_configs = clickedAction							
								$scope.downloadAllConfig(data);
							}
						}                    
	
                        defered.resolve(clickedAction)
				});
				return defered.promise;
			}			
			function downloadSwitchConfig(data, switchName, switchID)
			{
				spinnerOverlay.start();
				$http.post('/rest/build/config/', data, config)
					.then(function (switconfig, status, headers, config) {
						//spinnerOverlay.stop();
						var exportFileName = switchName + ($scope.viewmodel.selectedConfig.name == 'ASCII' ? '.cfg' : '.yml'),
							configDetails = switconfig.data[switchID],
							downloadConfig = function () {
								var blob_data = new Blob([configDetails.conf], { type: 'application/json;charset=utf-8' });
								FileSaver.saveAs(blob_data, exportFileName);
								spinnerOverlay.stop();
							};						
							validateClusterConfig(configDetails.warning, downloadConfig);
					}, function (configerror, status, header, config) {
						fabricInputService.displayToaster('error', 'Switch Configuration', configerror.data[0]);
						spinnerOverlay.stop();
					});
			}
			function viewSwitchConfig(data, switchName, switchID) {
				spinnerOverlay.start();

				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				};
				$http.post('/rest/build/config/', data, config)
					.then(function (switconfig, status, headers, config) {
						var configdata = switconfig.data;
						var modalScope = dlcuiModal({
							type: 'bare',
							templateUrl: 'fabric/design/output/viewConfig.html',
							controller: 'ViewConfigCtrl',
							visible: false,
							scope: $scope
						});
						$timeout(function(){
							var id = document.getElementsByName("Cancel")
							var element = angular.element(id);
							element[0].focus();
						}, 1000);
						modalScope.modal.show();
						spinnerOverlay.stop();	// Stop loading...
						modalScope.fullconfig = configdata[switchID].conf;

					}, function (configerror, status, header, config) {
						//console.log(configerror);
						fabricInputService.displayToaster('error', 'Switch Configuration', configerror.data[0]);
						spinnerOverlay.stop();	// Stop loading...
					});
			}

			function validateSwitchConfig(switchID,switchName)
			{			
				fabricdata = fabricService.getData(),
				view_id = fabricService.getFabricId(),
				data = {
					data: fabricdata,
					confgeninput: {
						switchIds: [switchID],
						ostype: $scope.viewmodel.filteredType.name,
						configtype: $scope.viewmodel.selectedConfig.name,
						ignore_serverfacing_configs: null,
						view:view_id
					}
					}
			  $http.post('/rest/common/scanSwitchConfig/', data)
			  .then(function (res) {
				spinnerOverlay.stop();
				if(res.data.Server_Facing_Port_Warning)
				{
					$scope.SwitchRecommendedWarning(res.data.Server_Facing_Port_Warning[0], data, switchName, switchID)								
				}
				else
					downloadSwitchConfig(data, switchName, switchID);
			  	}, function (res) {
				  fabricInputService.displayToaster('error', 'Switch Configuration', res.statusText);
				  spinnerOverlay.stop();
			  })
			}
			function validateClusterConfig(data, callback) {
				var incomplete = false,
					messageText = '',
					errormessageText = '',
					confirmDialog = null,
					errors = false;
				angular.forEach(data, function (v, k) {
					if (k == "errors")
					{
						errors = true
						if (angular.isArray(v)) {
							angular.forEach(v, function(obj, ind) {
								errormessageText += obj + '<br/>';
							});
						}
						errormessageText += '<br/><br/>';
					}
					if (v == "Incomplete" || angular.isArray(v)) {
						incomplete = true;
						if (angular.isArray(v)) {
							messageText += $translate.instant('general.warning') + ':<br/>';
							angular.forEach(v, function(obj, ind) {
								messageText += obj + '<br/>';
							});
							messageText += '<br/><br/>';
						} else {
							messageText += $translate.instant('fabricOutput.switchConfig.' + k + '.lable') + ':<br/>' + $translate.instant('fabricOutput.switchConfig.' + k + '.value') + '<br/><br/>';
						}
					}
				});
				if (errors) {
					spinnerOverlay.stop();
					confirmDialog = dlcuiConfirmDialog({
					title: 'Switch Configuration',
					message: errormessageText,
					scope: $scope,
					icon: 'warning',
					iconColor: 'yellow',
					keyboard: true,
					buttons: [{
						label: 'OK',
						promise: 'resolve',
						dlcuiType: 'primary',
						value: 'OK',
						focus: true
						}]
					});
					confirmDialog().then(function () 
					{
						//Do nothing
					}, 
					function () {
					});    
				}
				else if (incomplete) {
					spinnerOverlay.stop();
					confirmDialog = dlcuiConfirmDialog({
						icon: 'warning',
						title: 'Switch Configuration',
						message: messageText + "Do you want to download the configurations?"
					});
					confirmDialog().then(function () {
						spinnerOverlay.start();
						callback();
					}, function () {
					});
				} else {
					callback();
				}
			}

			$scope.$on('tab-configdownload', function () {

				//$scope.viewmodel.switches = fabricService.getSwitches();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					},
				};
				fabricdata = fabricService.getData();
				spinnerOverlay.start();
				$http.post('rest/common/supportedconfigtypes/', fabricdata, config)
					.then(function (resp, status, headers, config) {
						if (resp.data)
							$scope.viewmodel.switchConfig = resp.data;
						$scope.viewmodel.selectedConfig = $scope.viewmodel.switchConfig[0];
						$scope.getSwitches();
					}, function (resperror, status, header, config) {
						//console.log(configerror);
						spinnerOverlay.stop();
					});
				
				angular.forEach($scope.viewmodel.ipmaclist, function (item) {
					item.deviceId = item.name;
				});

			});

			$scope.$watch('viewmodel.selectedConfig', function (newVal, oldVal) {
				var hasOS = false;
				if (oldVal != newVal) {
					angular.forEach($scope.viewmodel.selectedConfig.os, function(val, i) {
						if ($scope.viewmodel.filteredType && (val.label == $scope.viewmodel.filteredType.label)) {
							hasOS = true;
							$scope.viewmodel.filteredType = val;
						}
					});
					if (!hasOS) {
						$scope.viewmodel.filteredType = $scope.viewmodel.selectedConfig.os[0];
					}
				}
			});

			$scope.getSwitches = function () {
				var config = {
					headers: {
						'Content-Type': 'application/json'
					},
				},
				fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				spinnerOverlay.start();
				function isEmpty(obj) {
					for(var key in obj) {
						if(obj.hasOwnProperty(key))
							return false;
					}
					return true;
				}
				data = {
					'data':fabricdata,
					'view':view_id
				}
				$http.post('/rest/common/getswitchdata/', data, config)
					.then(function (resp, status, headers, config) {
						if (resp.data)
							$scope.viewmodel.switches = resp.data.switches;
							$scope.viewmodel.backend_switches = resp.data.backend_switches;							
							if(resp.data.chassis.length!=0)
								$scope.viewmodel.chassis = resp.data.chassis;	
							else
								$scope.viewmodel.chassis = null;
							if(isEmpty(resp.data.fsm_chassis_switches)==false){
								$scope.viewmodel.fsm_chassis_switches=resp.data.fsm_chassis_switches;
							}
							else
								$scope.viewmodel.fsm_chassis_switches=null;																					
						spinnerOverlay.stop();
					}, function (resperror, status, header, config) {
						//console.log(configerror);
						spinnerOverlay.stop();
					});
			}
			$scope.viewmodel.filtertypes = [
				{
					name: "OS9",
					id: "OS_9",
				},
				{
					name: "OS10",
					id: "OS_10",
				},
				{
					name: "SONiC",
					id: "SONIC",
				},
				{
					name: "Ansible",
					id: "Ansible",
				}
			];

			$scope.viewConfig = function (switchID) {
				spinnerOverlay.start();

				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
					fabricdata = fabricService.getData(),
					view_id = fabricService.getFabricId(),
					data = {
						data: fabricdata,
						confgeninput: {
							switchIds: [switchID],
							ostype: $scope.viewmodel.filteredType.name,
							configtype: $scope.viewmodel.selectedConfig.name,
							view: view_id
						}
					};
				$http.post('/rest/common/scanSwitchConfig/', data)
				.then(function (res) {
					spinnerOverlay.stop();
					if(res.data.Server_Facing_Port_Warning)
					{
						$scope.SwitchRecommendedWarning(res.data.Server_Facing_Port_Warning[0], data, null, switchID)								
					}
					else
						viewSwitchConfig(data, null, switchID);
					}, function (res) {
					fabricInputService.displayToaster('error', 'Switch Configuration', res.statusText);
					spinnerOverlay.stop();
				})
			}

			$scope.downloadConfig = function (switchID, switchName) {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
					fabricdata = fabricService.getData(),
					data = {
						data: fabricdata,
						confgeninput: {
							switchIds: [switchID],
							ostype: $scope.viewmodel.filteredType.name,
							configtype: $scope.viewmodel.selectedConfig.name
						}
					};
					validateSwitchConfig(switchID,switchName);
			
			}

			$scope.validateAllConfig = function() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					},

				},

					fabricdata = fabricService.getData(),
					view_id = fabricService.getFabricId(),
					data = {
						data: fabricdata,
						ostype: $scope.viewmodel.filteredType.name,
						configtype: $scope.viewmodel.selectedConfig.name,
						switchIds : [-1],
						ignore_serverfacing_configs : null,
						view:view_id
					}
					$http.post('/rest/common/scanSwitchConfig/', data)
					.then(function (res) {
						spinnerOverlay.stop();
						if(res.data.Server_Facing_Port_Warning)
						{
							spinnerOverlay.stop();
							$scope.SwitchRecommendedWarning(res.data.Server_Facing_Port_Warning[0], data, null, null)								
						}
						else
							$scope.downloadAllConfig(data);
						}, function (res) {
						fabricInputService.displayToaster('error', 'Switch Configuration', res.statusText);
						spinnerOverlay.stop();
					})
			}

			$scope.downloadAllConfig = function (data) {
				spinnerOverlay.start();

				data['view'] = fabricService.getFabricId()
				var config = {
					headers: {
						'Content-Type': 'application/json'
					},

				},
					downloadConfig = function () {
						$http.post('/rest/build/download_configs_zip/', data, { responseType: 'arraybuffer' }, config)
							.then(function (allswitchconfigs, status, headers, config) {
								var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
								fabricService.fabricName().then(function (response) {
									FileSaver.saveAs(blob_data, 'FDC-' + response.fabricname + '-Config.zip');
									fabricInputService.displayToaster('success', 'Switch Configuration', 'Downloaded successfully');
									spinnerOverlay.stop();
								});
							}, function (configerror, status, header, config) {
								//console.log(configerror);
								fabricInputService.displayToaster('error', 'Switch Configuration', 'Unable to download');
								spinnerOverlay.stop();
							});
					};

				$http.post('/rest/common/scanClusterConfiguration/', data)
					.then(function (res) {
						validateClusterConfig(res.data, downloadConfig)
					}, function (res) {
						fabricInputService.displayToaster('error', 'Switch Configuration', res.statusText);
						spinnerOverlay.stop();
					})

			}

		}]);


angular
	.module(APP_NAME)
	.controller('ViewConfigCtrl', ['$scope', '$http', '$rootScope', '$cookies', '$timeout', function ($scope, $http, $rootScope, $cookies, $timeout) {
	}]);

angular
  .module(APP_NAME)
  .controller('downloadWiringCtrl', ['$scope', '$http', 'fabricService','fabricInputService', '$cookies', 'FileSaver', 'spinnerOverlay', 
  function ($scope, $http, fabricService,fabricInputService, $cookies, FileSaver, spinnerOverlay) {

    var wiring = this;
    $scope.format="pdf";
    wiring.viewmodel = {};
    wiring.viewmodel.fabricName='';
    wiring.viewmodel.switches = null;
    wiring.viewmodel.backend_switches = null;
    wiring.viewmodel.wiring_options= [{'name':'pdf','label':'PDF'},{'name':'svg','label':'SVG'},{'name':'jpg','label':'JPG'},{'name':'png','label':'PNG'},{'name':'csv','label':'CSV'},{'name':'json','label':'SFD-Wiring'}]
    wiring.viewmodel.chassis = null;
    wiring.viewmodel.filtertypes = [{
      name: "OS9",
      id: "1",
    },
    {
      name: "OS10",
      id: "2",
    }
    ]
    /*$http.get("json/download.switchconfig.json")
      .then(function (response) {
        wiring.viewmodel.switches = response.data;
      });*/
    $scope.openurl = function(url){
        window.open("http://100.104.26.124/", '_blank','heigth=600,width=600');   // may alse try $window
    } 
    $scope.$on('tab-wiring', function () {
     // wiring.viewmodel.switches = fabricService.getSwitches();
     $scope.getSwitches();
    });
    $scope.handleKeyDown = function (event, index, data, data_list) {
      if (event.keyCode === 38 || event.keyCode === 40) {
        if (event.keyCode === 38) { // Up arrow
          if (index === undefined || index === 0) {
            var currentElement = event.target.parentElement;
            var child = currentElement.lastElementChild;
            child.focus();
          } else {
            var currentElement = event.target;
            var previousElement = currentElement.previousElementSibling;
            var child = previousElement.focus();
          }
        } else if (event.keyCode === 40) { // Down arrow
          if (index === undefined || index === data_list.length - 1) {
            var currentElement = event.target.parentElement;
            var child = currentElement.querySelector('a').focus();
          } else {
            var currentElement = event.target;
            var nextElement = currentElement.nextElementSibling;
            var child = nextElement.focus();
          }
        }
      }
      if (event.keyCode === 32 || event.key === ' ') {
        $scope.downloadWiringForAllSwitches(data);
      }
    };
    $scope.isSelected = function (obj) {
      if(Object.keys(wiring.viewmodel.backend_switches).length==1)	
      {
        obj.isCollapsed = true
        return obj.isCollapsed
      }
      else
        return obj.isCollapsed;
    };
    $scope.change_format = function (obj)
    {
      $scope.format = obj;
    }
    $scope.getSwitches=function(){
      var config = {
				headers : {
					'Content-Type': 'application/json'
				},				
			},
      fabricdata = fabricService.getData();
      view_id = fabricService.getFabricId();      
      spinnerOverlay.start();
      function isEmpty(obj) {
        for(var key in obj) {
            if(obj.hasOwnProperty(key))
                return false;
        }
        return true;
    }
      data = {
        'data':fabricdata,
        'view':view_id
      }
			$http.post('/rest/common/getswitchdata/',data,config)
				.then(function (resp, status, headers, config) {
          if(resp.data)
            wiring.viewmodel.switches = resp.data.switches;
            wiring.viewmodel.wiring_options = resp.data.wiring_options
          if(isEmpty(resp.data.backend_switches)==false){
            wiring.viewmodel.backend_switches = resp.data.backend_switches;
          }          
          else
            wiring.viewmodel.backend_switches = null

            if(isEmpty(resp.data.chassis)==false){
            wiring.viewmodel.chassis=resp.data.chassis;
          }
          else
            wiring.viewmodel.chassis=null;
          if(isEmpty(resp.data.fsm_chassis_switches)==false){
              wiring.viewmodel.fsm_chassis_switches=resp.data.fsm_chassis_switches;
          }
          else
              wiring.viewmodel.fsm_chassis_switches=null;
             
          spinnerOverlay.stop();
				},function (resperror, status, header, config) {
          //console.log(configerror);
          spinnerOverlay.stop();
			});
    }
    $scope.myText = "";    
    $scope.downloadWiringForAllSwitches = function(format) {		
      
			var config = {
				headers : {
					'Content-Type': 'application/pdf'
				},
				
      },
      fabricdata = fabricService.getData();
      view_id = fabricService.getFabricId();      
      spinnerOverlay.start();      
      data = {
        'data':fabricdata,
        'view':view_id
      }
      if(format=="pdf")
      {    
			$http.post('/rest/design/fabric/wiring/pdf/', data, {responseType:'arraybuffer'},config)
				.then(function (allswitchconfigs, status, headers, config) {					
          var contentDispositionHeader = allswitchconfigs.headers('Content-Disposition');
            fabricService.fabricName().then(function(response) {
				    	filename= 'FDC-' + response.fabricname + '-Wiring.pdf';
                spinnerOverlay.stop();
                var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
                FileSaver.saveAs(blob_data, filename); 
					  });         
				},function (configerror, status, header, config) {
          //console.log(configerror);
          spinnerOverlay.stop();
			});
    }
    else if(format=="csv")
    {
      var data=
      {
        'data':fabricdata,
        'view':view_id
      }
      $http.post('/rest/design/fabric/wiring/csv/', data,config)
				.then(function (response, status, headers, config) {					
            var jsonstring=response.data
            console.log(jsonstring)
              fabricService.fabricName().then(function(response) {
  				    	filename= 'FDC-' + response.fabricname + '-Wiring.csv';
                spinnerOverlay.stop();
                var blob_data = new Blob([jsonstring], { type: 'data:text/csv;charset=utf-8'});
                FileSaver.saveAs(blob_data, filename); 
                fabricInputService.displayToaster('success', 'Download', 'Downloaded successfully');
					  });         
				},function (configerror, status, header, config) {
          //console.log(configerror);
          spinnerOverlay.stop();
          fabricInputService.displayToaster('error', 'Download', 'Error while downloading');
        });

    }    
    else if(format=="json")
    {
      var data=
      {
        'data':fabricdata,
        'view':view_id
      }
      $http.post('rest/common/exportGenericJSON/', data,config)
				.then(function (response, status, headers, config) {					
            var jsonstring=JSON.stringify(response.data);
              fabricService.fabricName().then(function(response) {
  				    	filename= 'FDC-' + response.fabricname + '-Wiring.json';
                spinnerOverlay.stop();
                var blob_data = new Blob([jsonstring], { type: 'data:application/json;charset=utf-8'});
                FileSaver.saveAs(blob_data, filename); 
                fabricInputService.displayToaster('success', 'Download', 'Downloaded successfully');
					  });         
				},function (configerror, status, header, config) {
          //console.log(configerror);
          spinnerOverlay.stop();
          fabricInputService.displayToaster('error', 'Download', 'Error while downloading');
        });
    }
    else if(format=="GNS3")
    {
      var data=
      {
        'data':fabricdata,
        'format':format,
        'view':view_id
      }
      $http.post('/rest/design/fabric/wiring/gns/',data, {responseType:'arraybuffer'},config)
      .then(function (allswitchconfigs, status, headers, config) {			
        //var zip = new JSZip();		
        var contentDispositionHeader = allswitchconfigs.headers('Content-Disposition');
        var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
        fabricService.fabricName().then(function(response) {
            filename= 'FDC-' + response.fabricname + '-Wiring.gns3project';
              spinnerOverlay.stop();
              FileSaver.saveAs(blob_data, filename); 
              fabricInputService.displayToaster('success', 'Wiring', 'Downloaded successfully');
            });         
      },function (configerror, status, header, config) {
        spinnerOverlay.stop();
      });

    }
    else
    {
      var data = 
      {
        'data':fabricdata,
        'format':format,
        'view':view_id
      }
      $http.post('/rest/design/fabric/wiring/all/', data, {responseType:'arraybuffer'},config)
				.then(function (allswitchconfigs, status, headers, config) {			
          //var zip = new JSZip();		
          var contentDispositionHeader = allswitchconfigs.headers('Content-Disposition');
          var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
          fabricService.fabricName().then(function(response) {
				    	filename= 'FDC-' + response.fabricname + '-Wiring.zip';
                spinnerOverlay.stop();
                FileSaver.saveAs(blob_data, filename); 
                fabricInputService.displayToaster('success', 'Wiring', 'Downloaded successfully');
              });         
				},function (configerror, status, header, config) {
          spinnerOverlay.stop();
			});
    }
  }
  }]).controller('dlcuiModalController', ['dlcuiModal', '$http', '$scope', '$sce', 'fabricService', '$q', '$rootScope', 'spinnerOverlay','FileSaver',
  function (dlcuiModal, $http, $scope, $sce, fabricService, $q, $rootScope, spinnerOverlay,FileSaver) {
    var vm = this;
    vm.open = function (e) {
      spinnerOverlay.start();
      td = fabricService.getData();
      view_id = fabricService.getFabricId();      
      $http.post('/rest/design/fabric/wiring/', {
        id: e,
        data: td,
        view:view_id
      }).then(function (r) {
        var modalScope = dlcuiModal({
          type: 'bare',
          templateUrl: 'fabric/design/output/wiringmodal.html',
          controller: 'ModalController',
          visible: false,
          backdrop: false
        });
        modalScope.modal.show();
        spinnerOverlay.stop(); // Stop loading...
        
        modalScope.modal.name = r.data.switchName;
        modalScope.modal.format='svg';
        modalScope.svg = r.data.svgImage;
        modalScope.modal.svg = $sce.trustAsHtml(r.data.svgImage);
        function svg_to_png(container,filename,format) {
            var wrapper = document.getElementById(container);
            var svg = wrapper.querySelector("svg");            
            
            //saveSvgAsPng(svg, filename);
                       
            if (typeof window.XMLSerializer != "undefined") {
                var svgData = (new XMLSerializer()).serializeToString(svg);
            } else if (typeof svg.xml != "undefined") {
                var svgData = svg.xml;
            }

            var canvas = document.createElement("canvas");
            var svgSize = svg.getBoundingClientRect();
            canvas.width = svgSize.width*2;
            canvas.height = svgSize.height*2;
            var ctx = canvas.getContext("2d");
            ctx.scale(2, 2);

            var img = document.createElement("img");
            img.setAttribute("src", "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(svgData))) );

            img.onload = function() {
                ctx.drawImage(img, 0, 0);
                var imgsrc = canvas.toDataURL(format);
                blob_data= dataURItoBlob(imgsrc);
                FileSaver.saveAs(blob_data, filename); 
               /* var a = document.createElement("a");
                a.download = filename;
                a.href = imgsrc;
                a.click();*/
                return imgsrc;
        };
        }
        function dataURItoBlob(dataURI) {
          var byteString = atob(dataURI.split(',')[1]);
          var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]
          var ab = new ArrayBuffer(byteString.length);
          var ia = new Uint8Array(ab);
          for (var i = 0; i < byteString.length; i++) {
              ia[i] = byteString.charCodeAt(i);
          }
          var blob = new Blob([ab], {type: mimeString});
          return blob;

        }
        modalScope.modal.exportImage=function(format){  
          var blob_data=null; 
          modalScope.modal.format = format
          fabricService.fabricName().then(function(response) {
          	 filenameappend=response.fabricname?response.fabricname+'-':'FDC-';
             filename= modalScope.modal.name+ '-Wiring.'+modalScope.modal.format; 
             if(modalScope.modal.format=='svg'){
                blob_data= new Blob([modalScope.modal.svg], { type: 'application/octet-stream' });
                FileSaver.saveAs(blob_data, filename); 
              }
              else{
                var type="image/"+(modalScope.modal.format)?modalScope.modal.format:'png';
                svg_to_png('wiringModal',filename,type);
              }       
          });         
         
              
          }
        }, function () { 
          spinnerOverlay.stop(); // Stop loading...
        });
    };
  }]).controller('ModalController', ['$scope', function ($scope) {

    $scope.name = 'Michael D';

    $scope.validate = function (isValid) {
      if (isValid) {
        $scope.modal.hide();
      }

    };

    $scope.$on('hide', function (e, msg) {
      //console.log('Close detected from within ModalController. Message was: ' + msg);
    });

  }]);

angular
    .module(APP_NAME)
    .controller('overlaysettingsMgmtCtrl', ['$scope', '$timeout', 'dlcuiModal', 'spinnerOverlay', 'VLANService', function ($scope, $timeout, dlcuiModal, spinnerOverlay, VLANService) {
        /** create a overlayMgmt viewmodel for view */
        var overlayMgmt = this;
        overlayMgmt.viewmodel = {};
        overlayMgmt.viewmodel.vlan = null;
        $scope.vlanModalForm = {};
        $scope.$on('load-overlay-data', function (event, data) {
            $scope.protocol = data;
        });   
        $scope.detailView=function(){
            spinnerOverlay.start();
              /** get all vlan list for the fabric to display it in this view **/
            VLANService.getNsxVlans()
                .then(function (res) {
                    overlayMgmt.viewmodel.vlan = res;
                    spinnerOverlay.stop();
                },
                function () {
                    spinnerOverlay.stop();
                });
       
        }
        $scope.detailView();
        /** Open Vlan Model dialog for each vlan with switchlist for updating IP for each switches inside te vlan*/
        overlayMgmt.openVlanModal = function (e) {
            spinnerOverlay.start();
            var vlanObject={};
            vlanObject.cluster_name = e.cluster
            vlanObject.vlanId= e.id;
            vlanObject.vlanType= e.type;
            if(e.vnid||e.vnid>=0){
             vlanObject.vnid= e.vnid;    
            }else{
                 vlanObject.vnid= 0; 
            }
            VLANService.getListOfSwitchesForVlan({ vlanidinput: vlanObject})
                .then(function (resp) {
                    var modalScope = dlcuiModal({
                        type: 'bare',
                        templateUrl: 'fabric/design/output/vlanmodal.html',
                        controller: 'vlanModalController',
                        visible: false,
                        backdrop: false
                    });
                    /** create modal scope level model objects to display in model view */
                    modalScope.modal.viewmodel = angular.copy(resp.data);
                    modalScope.modal.viewmodel.showDefaultGateway=(modalScope.modal.viewmodel.anycast_gatewayip?true:false);
                    //modalScope.modal.viewmodel.ipmaclist = resp.data.switchIpInfo;
                    modalScope.modal.cluster = e.cluster;
                    modalScope.modal.id = e.id;
                  //  modalScope.modal.viewmodel.vnid = (modalScope.modal.viewmodel.vnid ||  modalScope.modal.viewmodel.vnid>=0)?modalScope.modal.viewmodel.vnid:0;
                    modalScope.modal.name = e.name;
                    modalScope.modal.type = e.type;
                    if(e.displayName)
                        modalScope.modal.displayName = e.displayName;
                    modalScope.modal.protocol = $scope.protocol;
                    modalScope.modal.detailView=$scope.detailView;
                    modalScope.modal.show();
                    spinnerOverlay.stop(); // Stop loading...     
                }, function () {
                    spinnerOverlay.stop(); // Stop loading...
                });
        };

    }]).controller('vlanModalController', ['$scope', 'VLANService', 'fabricInputService', 'spinnerOverlay', function ($scope, VLANService, fabricInputService, spinnerOverlay) {
        $scope.form = {};
        
        $scope.validateIPConfigforVlanInCluster = function (isValid) {
            spinnerOverlay.start();
            var vlanIpInfo = $scope.modal.viewmodel;
            /*vlanIpInfo.vlanId = $scope.modal.id;
            vlanIpInfo.enable_ip_interface = $scope.modal.viewmodel.enable_ip_interface;
            vlanIpInfo.enable_overlay = $scope.modal.viewmodel.enable_overlay;
            vlanIpInfo.switchIpInfo = [];
            vlanIpInfo.switchIpInfo = $scope.modal.viewmodel.ipmaclist;*/
            var post_data = {};
            post_data.vlanIpInfo = vlanIpInfo;
            VLANService.updateIPforSwitchesInVLAN(post_data)
                .then(function (res, status, headers, config) {
                    fabricInputService.displayToaster('success', 'IP Address Configuration', 'VLAN IP/Mask updated Successfully');
                    $scope.modal.hide();
                    $scope.modal.detailView();
                    spinnerOverlay.stop();
                }, function (data, status, header, config) {
                    fabricInputService.displayToaster('error', 'IP Address Configuration', 'VLAN IP/Mask cannot be updated');
                    spinnerOverlay.stop();
                    if (data.data) {
                        angular.forEach(data.data, function (vlanipmask) {
                            angular.forEach(vlanipmask.errors, function (error, index) {
                                var fieldName = error.param + "_" + vlanipmask.id;
                                $scope.form.vlanipmask[fieldName].$invalid = true;
                                $scope.form.vlanipmask[fieldName].$dirty = true;
                                $scope.form.vlanipmask[fieldName].$$attr.uibTooltip = error.message;
                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        });
                    }
                });
        };

    }]);
angular
    .module(APP_NAME)
    .controller('overlaysettingsHomeCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService) {
        $scope.$on('load-overlay-data', function (event, data) {
            $scope.protocol = data;
            $scope.summary();
        });
        
        $scope.summary= function () {
          $scope.summaryview=true;          
        };
        $scope.detail = function () {
          $scope.summaryview=false;         
        };
        $scope.init=function(){
            $scope.summaryview=null; 
            $scope.showEditButton=true;           
        }   
        $scope.editButtonClick=function(){
             $scope.$broadcast('EditButtonClicked', $scope.protocol) ;
        } 
        $scope.init();
    }]);
angular
    .module(APP_NAME)
    .controller('overlaysettingsDefaultCtrl', ['$scope', 'VLANService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout', function ($scope, VLANService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout) {
   
        $scope.$on('EditButtonClicked', function (event, data) {
           $scope.showEdit=true;
           $scope.protocol = data;      
        });  
        $scope.cancelEditView=function(){
             $scope.showEdit=false;            
             VLANService.getNSXVlansDefault()
               .then(function (res, status, headers, config) {
                    $scope.nsxVlanDefaultModel = angular.copy(res.data);
                    spinnerOverlay.stop();
            }, function() {
                spinnerOverlay.stop();
            });      
        }
         $scope.summaryView=function(){
             spinnerOverlay.start();
            $scope.showEdit=false;
            VLANService.getNSXVlansDefault()
               .then(function (res, status, headers, config) {
                    $scope.nsxVlanDefaultModel = angular.copy(res.data);
                    spinnerOverlay.stop();
            }, function() {
                spinnerOverlay.stop();
            });
        }
        
        $scope.generateNSXVlansDefaults=function(form){ 
            spinnerOverlay.start();
             var data={}; 
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			}                     
             data.nsxVlans= angular.copy($scope.nsxVlanDefaultModel);  
           // var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.routersettings.title');   
             var toastertitle="NSX Vlans";    
             VLANService.generateNSXVlansDefault(data)
               .then(function (res, status, headers, config) {
                     $scope.showEdit=false; 
                     spinnerOverlay.stop();
                     fabricInputService.displayToaster('success', toastertitle, 'Overlay VLANs updated successfully', 1);
                },function(res, status, header, config){
                    spinnerOverlay.stop();
                     fabricInputService.displayToaster('error', toastertitle, 'Overlay VLANs  cannot be updated', 1);
                    if (res.data.errors) {
                        angular.forEach(res.data.errors, function (error, index) {
                            var fieldName = error.param;                           
                            form[fieldName].$invalid = true;
                            form[fieldName].$dirty = true;
                            form[fieldName].$$attr.uibTooltip = error.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                            }
                        });
                    }
             });
        }
        $scope.init=function(){
            $scope.nsxVlanDefaultModel={
                network:"",
                mask:"",
                subnetSize:""
            }
            $scope.summaryView();
        }
        $scope.init();
    }]);
angular
    .module(APP_NAME)
    .controller('vlanMgmtCtrl', ['$scope', '$timeout', 'dlcuiModal', 'spinnerOverlay', 'VLANService', function ($scope, $timeout, dlcuiModal, spinnerOverlay, VLANService) {
        /** create a vlanmgmt viewmodel for view */
        var vlanmgmt = this;
        vlanmgmt.viewmodel = {};
        vlanmgmt.viewmodel.vlan = null;
        $scope.vlanModalForm = {};
        $scope.$on('load-vlan-data', function (event, data) {
            $scope.protocol = data;
        });   
        $scope.init = function(protocol)
        {
            $scope.protocol = protocol
        }
        $scope.detailView=function(){
            spinnerOverlay.start();
              /** get all vlan list for the fabric to display it in this view **/
            VLANService.getAllVlans($scope.protocol.view)
                .then(function (res) {
                    vlanmgmt.viewmodel.vlan = res;
                    spinnerOverlay.stop();
                },
                function () {
                    spinnerOverlay.stop();
                });
       
        }
        $scope.detailView();
        /** Open Vlan Model dialog for each vlan with switchlist for updating IP for each switches inside te vlan*/
        vlanmgmt.openVlanModal = function (e) {
            spinnerOverlay.start();
            var vlanObject={};
            vlanObject.cluster_name = e.cluster
            vlanObject.vlanId= e.id;
            vlanObject.vlanType= e.type;
            if(e.vnid||e.vnid>=0){
             vlanObject.vnid= e.vnid;    
            }else{
                 vlanObject.vnid= 0; 
            }
            VLANService.getListOfSwitchesForVlan({ vlanidinput: vlanObject},$scope.protocol.view)
                .then(function (resp) {
                    var modalScope = dlcuiModal({
                        type: 'bare',
                        templateUrl: 'fabric/design/output/vlanmodal.html',
                        controller: 'vlanModalController',
                        visible: false,
                        backdrop: false
                    });
                    /** create modal scope level model objects to display in model view */
                    modalScope.modal.viewmodel = angular.copy(resp.data);
                    modalScope.modal.viewmodel.showDefaultGateway=(modalScope.modal.viewmodel.anycast_gatewayip?true:false);
                    //modalScope.modal.viewmodel.ipmaclist = resp.data.switchIpInfo;
                    modalScope.modal.cluster = e.cluster;
                    modalScope.modal.id = e.id;
                  //  modalScope.modal.viewmodel.vnid = (modalScope.modal.viewmodel.vnid ||  modalScope.modal.viewmodel.vnid>=0)?modalScope.modal.viewmodel.vnid:0;
                    modalScope.modal.name = e.name;
                    modalScope.modal.type = e.type;
                    if(e.displayName)
                        modalScope.modal.displayName = e.displayName;
                    modalScope.modal.protocol = $scope.protocol;
                    modalScope.modal.detailView=$scope.detailView;
                    modalScope.modal.show();
                    spinnerOverlay.stop(); // Stop loading...     
                }, function () {
                    spinnerOverlay.stop(); // Stop loading...
                });
        };

    }]).controller('vlanModalController', ['$scope', 'VLANService', 'fabricInputService', 'spinnerOverlay', function ($scope, VLANService, fabricInputService, spinnerOverlay) {
        $scope.form = {};
        
        $scope.validateIPConfigforVlanInCluster = function (isValid) {
            spinnerOverlay.start();
            var vlanIpInfo = $scope.modal.viewmodel;
            /*vlanIpInfo.vlanId = $scope.modal.id;
            vlanIpInfo.enable_ip_interface = $scope.modal.viewmodel.enable_ip_interface;
            vlanIpInfo.enable_overlay = $scope.modal.viewmodel.enable_overlay;
            vlanIpInfo.switchIpInfo = [];
            vlanIpInfo.switchIpInfo = $scope.modal.viewmodel.ipmaclist;*/
            var post_data = {};
            post_data.vlanIpInfo = vlanIpInfo;
            VLANService.updateIPforSwitchesInVLAN(post_data,$scope.modal.protocol.view)
                .then(function (res, status, headers, config) {
                    fabricInputService.displayToaster('success', 'IP Address Configuration', 'VLAN IP/Mask updated Successfully');
                    $scope.modal.hide();
                    $scope.modal.detailView();
                    spinnerOverlay.stop();
                }, function (data, status, header, config) {
                    fabricInputService.displayToaster('error', 'IP Address Configuration', 'VLAN IP/Mask cannot be updated');
                    spinnerOverlay.stop();
                    if (data.data) {
                        angular.forEach(data.data, function (vlanipmask) {
                            if(vlanipmask.errors!= undefined && vlanipmask.errors!=null && vlanipmask.errors!=[])
                            {
                            angular.forEach(vlanipmask.errors, function (error, index) {
                                if(error.param!="anycast_gatewayip" && error.param!="gatewayip")
                                    var fieldName = error.param + "_" + vlanipmask.id;
                                else
                                    var fieldName = error.param
                                $scope.form.vlanipmask[fieldName].$invalid = true;
                                $scope.form.vlanipmask[fieldName].$dirty = true;
                                $scope.form.vlanipmask[fieldName].$$attr.uibTooltip = error.message;
                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        }
                        else
                        {
                            var fieldName = vlanipmask.param
                            $scope.form.vlanipmask[fieldName].$invalid = true;
                            $scope.form.vlanipmask[fieldName].$dirty = true;
                            $scope.form.vlanipmask[fieldName].$$attr.uibTooltip = vlanipmask.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                        }
                        }});
                    }
                });
        };

    }]);
angular
	.module(APP_NAME)
	.controller('tenantValue', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.form = {};
			$scope.tenantinput = [];
			$scope.init = function(protocol)
			{
				$scope.protocol = protocol
			}
			getTenant();
			$scope.$on('EditButtonClicked', function (event, data) {
				$scope.edit=true;
				$scope.protocol = data;      
			 });  
            $scope.isArray = angular.isArray; 
			function getTenant() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
                var tenantgeturl='/rest/build/fabricsettings/gettenant';
				$http.post(tenantgeturl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.tenantinput = res.data;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}



			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.$on('load-tenant-data', function (event,data) {
				$scope.protocol = data
				getTenant();				
			  });			  
			  $scope.cancelTenantInput = function () {
				getTenant();
				$scope.edit = false;
		
			  };
			  $scope.editTenant = function () {
				//getTenant();  
				$scope.edit = true;
			  };

			$scope.setTenantInput = function () {
				
				if ($scope.form.tenantinput.$valid) {
					if ($scope.form.tenantinput.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							tenantdetails = angular.copy($scope.tenantinput),
							
							data = {
								data: fabricdata,
								tenantdetails: tenantdetails,
								view: $scope.protocol.view
							};
                        var tenantseturl='/rest/build/fabricsettings/tenant';
						$http.post(tenantseturl, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'Tenant Configuration', 'Tenant Configuration updated Successfully');
								getTenant();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'Tenant Configuration', 'Tenant Configuration update Failed');
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName =  error.param;
										$scope.form.tenantinput[fieldName].$invalid = true;
										$scope.form.tenantinput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
					}

				} else {

				}

			}
			$scope.addTenant = function () {
				cloneTraps = { vrf_name: "", min_l3_vxlan_range: 0, vni_id: 0 };
				$scope.tenantinput.tenant_info.push(cloneTraps);
			}   

			$scope.removeTenant  = function (index) {
				$scope.tenantinput.tenant_info.splice(index, 1);
			}


		}]);

angular
	.module(APP_NAME)
	.controller('dcisettings', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.edit = false;
			$scope.dcidetails = false
			$scope.form = {};
			$scope.dci_input = {};
			$scope.dci_input.vlanvnimap = [];
			$scope.dci_input.vrfvnimap = [];
			$scope.dci_inputdetails = {};
			$scope.edge_rack_warning = null;
			$scope.init = function(protocol)
			{
				$scope.protocol = protocol
			}
            function getDCIDetails() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
                var getdci_lburl='/rest/build/fabricsettings/getdci_lbs';
				$http.post(getdci_lburl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.dci_inputdetails = res.data.dci_lb_ips;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}
		    function getDCI() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
                var getdciurl='/rest/build/fabricsettings/getdci';
				$http.post(getdciurl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.dci_input = res.data;
						$scope.edge_rack_warning = null;
						if($scope.dci_input.edge_rack_warning == "Edge rack should be enabled in one of the leaf racks.")
						{
							$scope.edge_rack_warning = $scope.dci_input.edge_rack_warning
						}
						else if($scope.dci_input.edge_rack_warning == "No Workloads exists in Edge rack.")
						{
							$scope.edge_rack_warning = $scope.dci_input.edge_rack_warning
						}
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			$scope.$on('load-dci-data', function (event,data) {
				$scope.protocol = data
				$scope.edit = false;
				getDCI();
			});
			$scope.details= function () {
				$scope.dcidetails=true;
				$scope.edit = false;
				getDCIDetails();
			} 
			$scope.summary = function () {
				$scope.dcidetails=false;
				$scope.edit = false;
			}
			
			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.editDCI = function () {
				$scope.edit = true;
				$scope.dcidetails=false;
			};
            $scope.editdcidetails = function () {
				$scope.edit = true;
				$scope.dcidetails=true;
			};
			$scope.cancelDCI = function () {
				getDCI();
				$scope.edit = false;
			};
			$scope.cancelDCISettings = function () {
				getDCIDetails();
				$scope.edit = false;
			};
			$scope.updateDCISettings = function (){
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},                           
							fabricdata = fabricService.getData(),
							dci_input_settings = angular.copy($scope.dci_input),
							data = {
								data: fabricdata,
								dci_settings: dci_input_settings,
								view: $scope.protocol.view
							};
                        var url='/rest/build/fabricsettings/updatedci';

						$http.post(url, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								spinnerOverlay.stop();
								fabricInputService.displayToaster('success', 'DCI Configuration', 'DCI Settings updated Successfully');							
							}, function (data, status, header, config) {
								spinnerOverlay.stop();
								fabricInputService.displayToaster('error', 'DCI Configuration', data.data.errors[0].message);
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName =  error.param;
										$scope.form.dci_input[fieldName].$invalid = true;
										$scope.form.dci_input[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
			}
            $scope.updateDCI_LB_IPS = function (){
                var config = {
                    headers: {
                        'AcceptMethod': 'write'
                    }
                },                           
                    fabricdata = fabricService.getData(),
                    //dci_lb_ips = angular.copy($scope.dci_inputdetails),
                    data = {
                        data: fabricdata,
                        dci_lb_ips: angular.copy($scope.dci_inputdetails),
                        view: $scope.protocol.view
                    };
                var url='/rest/build/fabricsettings/updatedci_lb_ips';

                $http.post(url, data, config)
                    .then(function (data, status, headers, config) {
                        $scope.edit = false;
                        fabricInputService.displayToaster('success', 'DCI Configuration', 'DCI Settings updated Successfully');
                        
                    }, function (data, status, header, config) {
                        fabricInputService.displayToaster('error', 'DCI Configuration', data.data.errors[0].message);
                        spinnerOverlay.stop();
                        if (data.data) {
                            angular.forEach(data.data.errors, function (error, index) {
                                var fieldName =  error.param;
                                $scope.form.dci_input[fieldName].$invalid = true;
                                $scope.form.dci_input[fieldName].$$attr.uibTooltip = error.message;
                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        }
                    });
                    }
		}]);

angular
    .module(APP_NAME)
    .controller('vlanHomeCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService) {
        $scope.$on('load-vlan-data', function (event, data) {
            $scope.protocol = data;
            $scope.summary();
        });
        
        $scope.summary= function () {
          $scope.summaryview=true; 
          $scope.tenantview=false;           
        };
        $scope.detail = function () {
          $scope.summaryview=false;    
          $scope.tenantview=false; 
          $scope.showEditButton=true;    
        };
        $scope.init=function(){
            $scope.summaryview=null; 
            $scope.showEditButton=true;   
            $scope.tenantview=false;     
        }   
        $scope.addTenant = function(){
            $scope.$broadcast("load-tenant-data",$scope.protocol);
            $scope.tenantview=true;
            $scope.showEditButton=true;   
            $scope.summaryview=false;    
        }
        $scope.editButtonClick=function(){
             $scope.$broadcast('EditButtonClicked', $scope.protocol) ;
        } 
        $scope.init();
    }]);
angular
    .module(APP_NAME)
    .controller('cbisvlanHomeCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService) {
        $scope.$on('load-vlan-data', function (event, data) {
            $scope.protocol = data;
            $scope.summary();
        });
        
        $scope.summary= function () {
          $scope.summaryview=true;          
        };
        $scope.detail = function () {
          $scope.summaryview=false;         
        };
        $scope.init=function(){
            $scope.summaryview=null; 
            $scope.showEditButton=true;           
        }   
        $scope.editButtonClick=function(){
             $scope.$broadcast('EditButtonClicked', $scope.protocol) ;
        } 
        $scope.init();
    }]);
angular
    .module(APP_NAME)
    .controller('vlanDefaultCtrl', ['$scope', 'VLANService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout', function ($scope, VLANService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout) {
   
        $scope.$on('EditButtonClicked', function (event, data) {
           $scope.showEdit=true;
           $scope.protocol = data;      
        });  
        /*$scope.init = function(protocol)
        {
            $scope.protocol = protocol
        }*/
        $scope.cancelEditView=function(){
             $scope.showEdit=false;            
             VLANService.getWorkloadVlansDefault($scope.protocol.view)
               .then(function (res, status, headers, config) {
                    $scope.networkVlanDefaultModel = angular.copy(res.data);
                    spinnerOverlay.stop();
            }, function() {
                spinnerOverlay.stop();
            });      
        }
         $scope.summaryView=function(){
             spinnerOverlay.start();
            $scope.showEdit=false;
            VLANService.getWorkloadVlansDefault($scope.protocol.view)
               .then(function (res, status, headers, config) {
                    $scope.networkVlanDefaultModel = angular.copy(res.data);
                    spinnerOverlay.stop();
            }, function() {
                spinnerOverlay.stop();
            });
        }
        
        $scope.generateWorkloadVlansDefaults=function(form){ 
            spinnerOverlay.start();
             var data={}; 
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			}                     
             data.workloadVlans= angular.copy($scope.networkVlanDefaultModel);  
           // var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.routersettings.title');   
             var toastertitle="Workload Vlans";    
             VLANService.generateWorkloadVlansDefault(data,$scope.protocol.view)
               .then(function (res, status, headers, config) {
                     $scope.showEdit=false; 
                     spinnerOverlay.stop();
                     fabricInputService.displayToaster('success', toastertitle, 'Workload VLANs updated successfully', 1);
                     $scope.status = "Inactive";
                     $scope.updateStatus = function() {
                        $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                     }
                },function(res, status, header, config){
                    spinnerOverlay.stop();
                     fabricInputService.displayToaster('error', toastertitle, 'Workload VLANs  cannot be updated', 1);
                    if (res.data.errors) {
                        angular.forEach(res.data.errors, function (error, index) {
                            var fieldName = error.param;                           
                            form[fieldName].$invalid = true;
                            form[fieldName].$dirty = true;
                            form[fieldName].$$attr.uibTooltip = error.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                            }
                        });
                    }
             });
        }
        $scope.init=function(){
            $scope.networkVlanDefaultModel={
                network:"",
                mask:"",
                subnetSize:""
            }
            $scope.summaryView();
        }
        $scope.init();
    }]);
angular
    .module(APP_NAME)
    .controller('cbisvlanDefaultCtrl', ['$scope', 'VLANService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout', function ($scope, VLANService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout) {
   
        $scope.$on('EditButtonClicked', function (event, data) {
           $scope.showEdit=true;
           $scope.protocol = data;      
        });  
        $scope.cancelEditView=function(){
             $scope.showEdit=false;            
             VLANService.getCBISWorkloadVlansDefault()
               .then(function (res, status, headers, config) {
                    $scope.networkVlanDefaultModels = angular.copy(res.data);
                    spinnerOverlay.stop();
            }, function() {
                spinnerOverlay.stop();
            });      
        }
         $scope.summaryView=function(){
             spinnerOverlay.start();
             console.log($scope)
            $scope.showEdit=false;
            VLANService.getCBISWorkloadVlansDefault()
               .then(function (res, status, headers, config) {
                    $scope.networkVlanDefaultModels = angular.copy(res.data);
                    spinnerOverlay.stop();
            }, function() {
                spinnerOverlay.stop();
            });
        }
        
        $scope.generateCBISWorkloadVlansDefaults=function(form){ 
            spinnerOverlay.start();
             var data={}; 
            var config = {
					headers : {
						'AcceptMethod': 'write'
					}
			}                     
             data.workloadVlans= angular.copy($scope.networkVlanDefaultModels);  
           // var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.routersettings.title');   
             var toastertitle="Workload Vlans";    
             VLANService.generateCBISWorkloadVlansDefaults(data)
               .then(function (res, status, headers, config) {
                     $scope.showEdit=false; 
                     spinnerOverlay.stop();
                     fabricInputService.displayToaster('success', toastertitle, 'Workload VLANs updated successfully', 1);
                     $scope.status = "Inactive";
                     $scope.updateStatus = function() {
                        $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                     }
                },function(res, status, header, config){
                    spinnerOverlay.stop();
                     fabricInputService.displayToaster('error', toastertitle, 'Workload VLANs  cannot be updated', 1);
                    if (res.data.errors) {
                        angular.forEach(res.data.errors, function (error, index) {
                            var fieldName = error.param;                           
                            form[fieldName].$invalid = true;
                            form[fieldName].$dirty = true;
                            form[fieldName].$$attr.uibTooltip = error.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                            }
                        });
                    }
             });
        }
        $scope.init=function(){
            $scope.networkVlanDefaultModels={
                network:"",
                mask:"",
                subnetSize:""
            }
            $scope.summaryView();
        }
        $scope.init();
    }]);
angular
	.module(APP_NAME)
	.controller('IPMacCtrl', ['$scope', '$location','$http', '$cookies', 'fabricService','toaster', '$timeout', 'spinnerOverlay', 'fabricInputService','$rootScope',
	 function($scope, $location,$http, $cookies, fabricService,toaster,$timeout, spinnerOverlay, fabricInputService,$rootScope) {
		
		$scope.edit = false;
		$scope.viewmodel = {};
		$scope.form = {};
		
		function getIPMAC() {
			spinnerOverlay.start();
			var config = {
				headers : {
					'Content-Type': 'application/json'
				}
			},
			fabricdata = fabricService.getData();
			var view_id = fabricService.getFabricId();
			data = {
				'data':fabricdata,
				'view': view_id    //$rootScope.protocol.view
			}
			$http.post('/rest/build/getipmac/', data, config)
				.then(function (data, status, headers, config) {
					$scope.viewmodel.ipmaclist = data.data;					
			        //$scope.$emit('enableEditButton');
					/*angular.forEach(data.data, function(value, index) {
						value.netmask = parseInt(value.netmask);
					})*/
					spinnerOverlay.stop();	// Stop loading..
				},function (data, status, header, config) {
					//console.log(data);
					spinnerOverlay.stop();	// Stop loading..
			});
		}
		function populateIPAddress() {		
			var config = {
				headers : {
					'Content-Type': 'application/json'
				}
			},
			fabricdata = fabricService.getData();
			
			return $http.post('/rest/build/populateipaddress/', fabricdata, config);
		}

        $scope.detailView=function(){  
			   $scope.edit = false;        
				getIPMAC();			
		};	
        $scope.summaryView=function(){  
			   $scope.edit = false;        
				getIPMAC();			
		};	
         $scope.showToaster=function(type,title,message){
			var instance={};
			instance.type= type,instance.title= title,instance.body=message,instance.showCloseButton=true,instance.toasterId= 6;				
			toaster.pop(instance);
		}
		 $scope.$on('EditButtonClicked', function (event, data) {
           $scope.edit=true;      
        });
		$scope.editIPMAC = function() {
			$scope.edit = true;
			//$scope.$emit('disableEditButton');
		};

		$scope.cancelIPMAC = function() {
			getIPMAC();
			if($scope.modal) $scope.modal.hide();
			$scope.edit = false;
		};

		$scope.setIPInput = function() {
			spinnerOverlay.start();
			var config = {
					headers : {
						'AcceptMethod': 'write'
					}
				},
				fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				data = {
					data : fabricdata,
					ipmaclist : $scope.viewmodel.ipmaclist,
					view : view_id    //$rootScope.protocol.view
				};

				$http.post('/rest/build/fabricipmac/', data, config)
					.then(function (data, status, headers, config) {
						$scope.edit = false;
						if($scope.modal) $scope.modal.hide();
						getIPMAC();
						fabricInputService.displayToaster('success','Management IP Configuration','Updated Successfully');
					},function (data, status, header, config) {
						spinnerOverlay.stop();
						fabricInputService.displayToaster('error','Management IP Configuration','Cannot be updated');
						if(data.data) {
							angular.forEach(data.data, function (ipmac) {
								angular.forEach(ipmac.errors, function (error, index) {
									var fieldName = error.param + "_" + ipmac.id;
									$scope.form.ipmac[fieldName].$invalid = true;
									$scope.form.ipmac[fieldName].$dirty = true;
									$scope.form.ipmac[fieldName].$$attr.uibTooltip = error.message;
									if(index == 0) {
										var focusField = "[name=\"" + fieldName + "\"]";
										$timeout( function () { $(focusField).focus(); } );
									}
								});
							});
						}
				});
		};
		$scope.init=function(){
          	/*populateIPAddress().then(function (data, status, headers, config) {
				$scope.detailView();
				},function (data, status, header, config) {
			});*/
			$scope.detailView();		
		}
        $scope.init();
	}]);

angular
	.module(APP_NAME)
	.controller('CLICredentialsCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.protocols = [
				{ "value": "SSH", "text": "SSHv2" },
				{ "value": "Telnet", "text": "Telnet" }
			];
			/*$http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {

				$scope.deploymentType = res.data
			  });*/
		
			//$scope.deploymentType = fabricService.getDeploymentType();
			$scope.init = function(protocol)
			{
				$scope.protocol = protocol
				//$scope.deploymentType = protocol.deploymentType
			}
			$scope.edit = false;
			$scope.form = {};
			$scope.cliinput = {};
			$scope.showPassword = {};
			//$scope.showPassword = _.mapValues($scope.showPassword, () => false);
			$scope.toggleShowPassword = function(pwd) {
				$scope.showPassword[pwd] = !$scope.showPassword[pwd];
			}

			function getCLI() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				$http.post('/rest/build/fabricsettings/getcli', { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.cliinput = res.data;
						$scope.cliinput.confirmpassword = res.data.password;
						$scope.cliinput.confirmenablepassword = res.data.enablepassword;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			$scope.$on('load-cli-data', function (event,data) {
				$scope.protocol = data
				getCLI();
			});
			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.editCLI = function () {
				$scope.edit = true;
			};

			$scope.cancelCLIInput = function () {
				getCLI();
				$scope.edit = false;
			};

			$scope.setCLIInput = function () {

				if ($scope.form.cliinput.$valid) {
					if ($scope.cliinput.confirmenablepassword != $scope.cliinput.enablepassword) {
						var fieldName = "cliinput_confirmenablepassword";
						$scope.form.cliinput[fieldName].$invalid = true;
						$scope.form.cliinput[fieldName].$$attr.uibTooltip = "Confirm Enable password does not match with the Enable Password.";
						var focusField = "[name=\"" + fieldName + "\"]";
						$timeout(function () { $(focusField).focus(); });
						$scope.form.cliinput.$valid = false;
					}

					if ($scope.cliinput.confirmpassword != $scope.cliinput.password) {
						var fieldName = "cliinput_confirmpassword";
						$scope.form.cliinput[fieldName].$invalid = true;
						$scope.form.cliinput[fieldName].$$attr.uibTooltip = "Confirm Password does not match with the Password.";
						var focusField = "[name=\"" + fieldName + "\"]";
						$timeout(function () { $(focusField).focus(); });
						$scope.form.cliinput.$valid = false;
					}

					if ($scope.form.cliinput.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							clicredential = angular.copy($scope.cliinput),
							data = {
								data: fabricdata,
								clicredential: clicredential,
								view: $scope.protocol.view
							};
						delete data.clicredential.confirmenablepassword;
						delete data.clicredential.confirmpassword;

						$http.post('/rest/build/fabricsettings/cli', data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'CLI Configuration', 'CLI credentials updated Successfully');
								$scope.status = "Inactive";
                                $scope.updateStatus = function() {
                                	$scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                                }
								getCLI();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'CLI Configuration', 'CLI credentials cannot be added');
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName = "cliinput_" + error.param;
										$scope.form.cliinput[fieldName].$invalid = true;
										$scope.form.cliinput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
					}

				} else {

				}

			}
		}]);

angular
	.module(APP_NAME)
	.controller('DNSCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.edit = false;
			$scope.form = {};
			$scope.dnsinput = {};
			$scope.init = function(protocol)
			{
				$scope.protocol = protocol
			}
			function getDNS() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				var dnsgeturl='/rest/build/fabricsettings/getdns';
				$http.post(dnsgeturl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.dnsinput = res.data;
						$scope.dnsinput.enable = res.data.enable;
						$scope.dnsinput.primary = res.data.primary;
						$scope.dnsinput.secondary1 = res.data.secondary1;
						$scope.dnsinput.secondary2 = res.data.secondary2;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			$scope.$on('load-dns-data', function (event,data) {
				$scope.protocol = data
				getDNS();
			});
			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.editDNS = function () {
				$scope.edit = true;
			};

			$scope.cancelDNSInput = function () {
				getDNS();
				$scope.edit = false;
			};

			$scope.setDNSInput = function () {

				if ($scope.form.dnsinput.$valid) {					
					// Validation to be done for dns input

					if ($scope.form.dnsinput.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							dnsdetails = angular.copy($scope.dnsinput),
							data = {
								data: fabricdata,
								dnsdetails: dnsdetails,
								view: $scope.protocol.view
							};
                        var dnsseturl='/rest/build/fabricsettings/dns';
						$http.post(dnsseturl, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'DNS Configuration', 'DNS Configuration updated Successfully');
								$scope.status = "Inactive";
                                $scope.updateStatus = function() {
                            		$scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                        		}
								getDNS();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'DNS Configuration', 'DNS Configuration cannot be added');
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName = "dns_" + error.param;
										$scope.form.dnsinput[fieldName].$invalid = true;
										$scope.form.dnsinput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
					}

				} else {

				}

			}
		}]);

angular
	.module(APP_NAME)
	.controller('NTPCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.edit = false;
			$scope.form = {};
			  /** Utility to check the value is an array  or not */
            $scope.isArray = angular.isArray; 
			$scope.ntpinput = {
				secondaries:new Array()
			};
			$scope.init = function(protocol)
			{
				$scope.protocol = protocol
			}

			function getNTP() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
                var ntpgeturl='/rest/build/fabricsettings/getntp';
				$http.post(ntpgeturl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.ntpinput = res.data;
						$scope.ntpinput.enable = res.data.enable;
						$scope.ntpinput.primary = res.data.primary;
						$scope.ntpinput.secondaries = res.data.secondaries;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			$scope.$on('load-ntp-data', function (event,data) {
				$scope.protocol = data
				getNTP();
			});
			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.editNTP = function () {
				$scope.edit = true;
			};

			$scope.cancelNTPInput = function () {
				getNTP();
				$scope.edit = false;
			};

			$scope.setNTPInput = function () {

				if ($scope.form.ntpinput.$valid) {
					
					// Validation to be done for ntp input

					if ($scope.form.ntpinput.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							ntpdetails = angular.copy($scope.ntpinput),
							data = {
								data: fabricdata,
								ntpdetails: ntpdetails,
								view: $scope.protocol.view
							};
					/*	delete data.clicredential.confirmenablepassword;
						delete data.clicredential.confirmpassword;*/
                        var ntpseturl='/rest/build/fabricsettings/ntp';
						$http.post(ntpseturl, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'NTP Configuration', 'NTP Configuration updated Successfully');
								$scope.status = "Inactive";
                                $scope.updateStatus = function() {
                            		$scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                        		}
								getNTP();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'NTP Configuration', 'NTP Configuration cannot be added');
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName = "ntp_" + error.param;
										$scope.form.ntpinput[fieldName].$invalid = true;
										$scope.form.ntpinput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
								if (data.data.secondaries_errors) {
									angular.forEach(data.data.secondaries_errors, function (error, index) {
										var fieldName = "secondaryntp_" + error.param;
										$scope.form.ntpinput[fieldName].$invalid = true;
										$scope.form.ntpinput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
					}

				} else {

				}

			}
			 /** controller to remove Guest Vlan row from UI*/
			$scope.addSecondaryNTP = function () {
				 if ($scope.ntpinput.secondaries.length > 0) {
					cloneSecondaryNTP = angular.copy($scope.ntpinput.secondaries[0]);
				}
				else {
					cloneSecondaryNTP = "";
				}
				/**Remove the last entry from the vlan list */
				$scope.ntpinput.secondaries.push(cloneSecondaryNTP);
			}   
			 /** controller to remove Guest Vlan row from UI*/
			$scope.removeSecondaryNTP = function (index) {
				/**Remove the last entry from the vlan list */
				$scope.ntpinput.secondaries.splice(index, 1);
			}   
		}]);

angular
	.module(APP_NAME)
	.controller('SyslogCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.edit = false;
			$scope.form = {};
			 /** Utility to check the value is an array  or not */
			 $scope.init = function(protocol)
			 {
				 $scope.protocol = protocol
				 //$scope.deploymentType = protocol.deploymentType
			 }            
			$scope.isArray = angular.isArray;
			$scope.sysloginput = {};
			//$scope.deploymentType = fabricService.getDeploymentType();

			function getSyslog() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				var sysloggeturl='/rest/build/fabricsettings/getsyslog';
				$http.post(sysloggeturl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.sysloginput = res.data;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			$scope.$on('load-syslog-data', function (event,data) {
				$scope.protocol = data
				getSyslog();
			});
			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.editSyslog = function () {
				$scope.edit = true;
			};

			$scope.cancelSyslogInput = function () {
				getSyslog();
				$scope.edit = false;
			};

			$scope.setSyslogInput = function () {

				if ($scope.form.sysloginput.$valid) {
					/*if ($scope.cliinput.confirmenablepassword != $scope.cliinput.enablepassword) {
						var fieldName = "cliinput_confirmenablepassword";
						$scope.form.cliinput[fieldName].$invalid = true;
						$scope.form.cliinput[fieldName].$$attr.uibTooltip = "Confirm Enable password does not match with the Enable Password.";
						var focusField = "[name=\"" + fieldName + "\"]";
						$timeout(function () { $(focusField).focus(); });
						$scope.form.cliinput.$valid = false;
					}

					if ($scope.cliinput.confirmpassword != $scope.cliinput.password) {
						var fieldName = "cliinput_confirmpassword";
						$scope.form.cliinput[fieldName].$invalid = true;
						$scope.form.cliinput[fieldName].$$attr.uibTooltip = "Confirm Password does not match with the Password.";
						var focusField = "[name=\"" + fieldName + "\"]";
						$timeout(function () { $(focusField).focus(); });
						$scope.form.cliinput.$valid = false;
					}*/
					// Validation to be done for dns input

					if ($scope.form.sysloginput.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							syslogdata = angular.copy($scope.sysloginput),
							data = {
								data: fabricdata,
								syslogdetails: syslogdata,
								view: $scope.protocol.view
							};
							if(data.syslogdetails.destination_port == undefined)
							{
								data.syslogdetails.destination_port = 0
								angular.forEach(data.syslogdetails.syslog_entries, function (value, key) {
									if(value.destination_port == undefined)
										value.destination_port = 0
								});
							}

					/*	delete data.clicredential.confirmenablepassword;
						delete data.clicredential.confirmpassword;*/
                        var ntpseturl='/rest/build/fabricsettings/syslog';
						$http.post(ntpseturl, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'Syslog Configuration', 'Syslog Configuration updated Successfully');
								$scope.status = "Inactive";
                                $scope.updateStatus = function() {
                                	$scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                                }
								getSyslog();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'Syslog Configuration', 'Syslog Configuration cannot be added');
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName = "destsyslog_" + error.param;
										$scope.form.sysloginput[fieldName].$invalid = true;
										$scope.form.sysloginput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
									angular.forEach(data.data.syslog_entries, function (syslog_entries, syslog_index) {
										angular.forEach(syslog_entries.errors, function (error, index) {
											var fieldName = "destsyslog_"+error.param + syslog_index;
											$scope.form.sysloginput[fieldName].$invalid = true;
											$scope.form.sysloginput[fieldName].$dirty = true;
											$scope.form.sysloginput[fieldName].$$attr.uibTooltip = error.message;
											if (index == 0) {
												var focusField = "[name=\"" + fieldName + "\"]";
												$timeout(function () { $(focusField).focus(); });
											}
										});
									});
								}
							});
					}

				} else {

				}

			}
				 /** controller to remove Guest Vlan row from UI*/
			$scope.addDestinationSyslog = function () {
				/*if ($scope.sysloginput.syslog_entries.length > 0) {
					cloneSyslogEntries = angular.copy($scope.sysloginput.syslog_entries[0]);
				}
				else {
					cloneSyslogEntries = { destination_address: "", destination_port: 0, protocol: "" };
				}*/
				cloneSyslogEntries = { destination_address: "", destination_port: 0, protocol: "" };
				/**Remove the last entry from the vlan list */
				$scope.sysloginput.syslog_entries.push(cloneSyslogEntries);
			}   
			 /** controller to remove Guest Vlan row from UI*/
			$scope.removeDestinationSyslog  = function (index) {
				/**Remove the last entry from the vlan list */
				$scope.sysloginput.syslog_entries.splice(index, 1);
			}   
		}]);

angular
	.module(APP_NAME)
	.controller('SNMPCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.edit = false;
			$scope.form = {};
			$scope.snmpinput = {};
			$scope.init = function(protocol)
			{
				$scope.protocol = protocol
				//$scope.deploymentType = protocol.deploymentType
			}
			/*$http.post("/rest/design/getDeploymentType/", fabricService.getData()).then(function (res) {
				$scope.deploymentType = res.data
			});*/
			//$scope.deploymentType = fabricService.getDeploymentType();
			  /** Utility to check the value is an array  or not */
            $scope.isArray = angular.isArray; 
			function getSNMP() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
                var snmpgeturl='/rest/build/fabricsettings/getsnmp';
				$http.post(snmpgeturl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.snmpinput = res.data;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			$scope.$on('load-snmp-data', function (event,data) {
				$scope.protocol = data
				getSNMP();
			});
			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.editSNMP = function () {
				$scope.edit = true;
			};

			$scope.cancelSNMPInput = function () {
				getSNMP();
				$scope.edit = false;
			};

			$scope.setSNMPInput = function () {

				if ($scope.form.snmpinput.$valid) {
					/*if ($scope.cliinput.confirmenablepassword != $scope.cliinput.enablepassword) {
						var fieldName = "cliinput_confirmenablepassword";
						$scope.form.cliinput[fieldName].$invalid = true;
						$scope.form.cliinput[fieldName].$$attr.uibTooltip = "Confirm Enable password does not match with the Enable Password.";
						var focusField = "[name=\"" + fieldName + "\"]";
						$timeout(function () { $(focusField).focus(); });
						$scope.form.cliinput.$valid = false;
					}

					if ($scope.cliinput.confirmpassword != $scope.cliinput.password) {
						var fieldName = "cliinput_confirmpassword";
						$scope.form.cliinput[fieldName].$invalid = true;
						$scope.form.cliinput[fieldName].$$attr.uibTooltip = "Confirm Password does not match with the Password.";
						var focusField = "[name=\"" + fieldName + "\"]";
						$timeout(function () { $(focusField).focus(); });
						$scope.form.cliinput.$valid = false;
					}*/
					// Validation to be done for dns input

					if ($scope.form.snmpinput.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							snmpdetails = angular.copy($scope.snmpinput),
							data = {
								data: fabricdata,
								snmpdetails: snmpdetails,
								view: $scope.protocol.view
							};
					/*	delete data.clicredential.confirmenablepassword;
						delete data.clicredential.confirmpassword;*/
                        var ntpseturl='/rest/build/fabricsettings/snmp';
						$http.post(ntpseturl, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'SNMP Configuration', 'SNMP Configuration updated Successfully');
								getSNMP();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'SNMP Configuration', 'SNMP Configuration update Failed');
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName =  error.param;
										$scope.form.snmpinput[fieldName].$invalid = true;
										$scope.form.snmpinput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
					}

				} else {

				}

			}
			/** controller to remove Guest Vlan row from UI*/
			$scope.addTrap = function () {
				 /*if ($scope.snmpinput.trap_info.length > 0) {
					cloneTraps = angular.copy($scope.snmpinput.trap_info[0]);
				}
				else {
					cloneTraps = { destination_address: "", destination_port: 0, trap_version: "",trap_community:"" };
				}*/
				cloneTraps = { destination_address: "", destination_port: 0, trap_version: "",trap_community:"" };
				/**Remove the last entry from the vlan list */
				$scope.snmpinput.trap_info.push(cloneTraps);
			}   
			 /** controller to remove Guest Vlan row from UI*/
			$scope.removeTrap  = function (index) {
				/**Remove the last entry from the vlan list */
				$scope.snmpinput.trap_info.splice(index, 1);
			} 
		}]);

angular
	.module(APP_NAME)
	.controller('TACACSCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.edit = false;
			$scope.form = {};
			$scope.tacacsinput = {};
			/*$http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {
				$scope.deploymentType = res.data
			});*/
			$scope.init = function(protocol)
			{
				$scope.protocol = protocol
				//$scope.deploymentType = protocol.deploymentType
			}
            $scope.showPassword = {};
			//$scope.showPassword = _.mapValues($scope.showPassword, () => false);
			$scope.toggleShowPassword = function(pwd) {
				$scope.showPassword[pwd] = !$scope.showPassword[pwd];
			}
			//$scope.deploymentType = fabricService.getDeploymentType();
			  /** Utility to check the value is an array  or not */
            $scope.isArray = angular.isArray; 
			function getTACACS() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
				var tacacsgeturl='/rest/build/fabricsettings/gettacacs';
				$http.post(tacacsgeturl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.tacacsinput = res.data;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			$scope.$on('load-tacacs-data', function (event,data) {
				$scope.protocol = data
				$scope.edit = false;
				getTACACS();
			});
			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.editTACACS = function () {
				$scope.edit = true;
			};

			$scope.cancelTACACSInput = function () {
				getTACACS();
				$scope.edit = false;
			};

			$scope.setTACACSInput = function () {

				if ($scope.form.tacacsinput.$valid) {
					/*if ($scope.cliinput.confirmenablepassword != $scope.cliinput.enablepassword) {
						var fieldName = "cliinput_confirmenablepassword";
						$scope.form.cliinput[fieldName].$invalid = true;
						$scope.form.cliinput[fieldName].$$attr.uibTooltip = "Confirm Enable password does not match with the Enable Password.";
						var focusField = "[name=\"" + fieldName + "\"]";
						$timeout(function () { $(focusField).focus(); });
						$scope.form.cliinput.$valid = false;
					}

					if ($scope.cliinput.confirmpassword != $scope.cliinput.password) {
						var fieldName = "cliinput_confirmpassword";
						$scope.form.cliinput[fieldName].$invalid = true;
						$scope.form.cliinput[fieldName].$$attr.uibTooltip = "Confirm Password does not match with the Password.";
						var focusField = "[name=\"" + fieldName + "\"]";
						$timeout(function () { $(focusField).focus(); });
						$scope.form.cliinput.$valid = false;
					}*/
					// Validation to be done for dns input

					if ($scope.form.tacacsinput.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							tacacsdetails = angular.copy($scope.tacacsinput),
							data = {
								data: fabricdata,
								tacacsdetails: tacacsdetails,
								view: $scope.protocol.view
							};
					/*	delete data.clicredential.confirmenablepassword;
						delete data.clicredential.confirmpassword;*/
                        var ntpseturl='/rest/build/fabricsettings/tacacs';
						$http.post(ntpseturl, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'TACACS Configuration', 'TACACS Configuration updated Successfully');
								getTACACS();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'TACACS Configuration', 'TACACS Configuration update Failed');
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName =  error.param;
										$scope.form.tacacsinput[fieldName].$invalid = true;
										$scope.form.tacacsinput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
					}

				} else {

				}

			}
			/** controller to remove Guest Vlan row from UI*/
			$scope.addHost = function () {
				 /*if ($scope.tacacsinput.trap_info.length > 0) {
					cloneTraps = angular.copy($scope.tacacsinput.trap_info[0]);
				}
				else {
					cloneTraps = { destination_address: "", destination_port: 0, trap_version: "",trap_community:"" };
				}*/
				host = { name: "",key:"", port: '', priority:'', auth_type:"" };
				/**Remove the last entry from the vlan list */
				$scope.tacacsinput.hosts.push(host);
			}   
			 /** controller to remove Guest Vlan row from UI*/
			$scope.removeHost  = function (index) {
				/**Remove the last entry from the vlan list */
				$scope.tacacsinput.hosts.splice(index, 1);
			} 
		}]);

angular
	.module(APP_NAME)
	.controller('IPDHCPCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $location, $http, $cookies, fabricService, $timeout, toaster, spinnerOverlay, fabricInputService) {
			$scope.edit = false;
			$scope.editipdhcpdetails = true
			$scope.ipdhcpdetails = false
			$scope.form = {};
			$scope.ipdhcpinput = {};
			$scope.ipdhcpinputdetails = {}
			$scope.init = function(protocol)
			{
				$scope.protocol = protocol
				//$scope.deploymentType = protocol.deploymentType
			}
			/*$http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {
				$scope.deploymentType = res.data
			});*/
			//$scope.deploymentType = fabricService.getDeploymentType();
			  /** Utility to check the value is an array  or not */
            $scope.isArray = angular.isArray; 
			function getIPDHCPDetails() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				}
                var ipdhcpgeturl='/rest/build/fabricsettings/getipdhcp_lbs';
				$http.post(ipdhcpgeturl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.ipdhcpinputdetails = res.data.ip_dhcp_lbs;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			function getIPDHCP() {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
					fabricdata = fabricService.getData();
                var ipdhcpgeturl='/rest/build/fabricsettings/getipdhcp';
				$http.post(ipdhcpgeturl, { data: fabricService.getData(),view:$scope.protocol.view }, config)
					.then(function (res, status, headers, config) {
						$scope.ipdhcpinput = res.data;
						spinnerOverlay.stop();
					}, function (data, status, header, config) {
						spinnerOverlay.stop();
					});
			}

			$scope.$on('load-ipdhcp-data', function (event,data) {
				$scope.protocol = data
				$scope.edit = false;
				getIPDHCP();
			});
			$scope.details= function () {
				$scope.ipdhcpdetails=true;
				$scope.edit = false;
				getIPDHCPDetails();
			} 
			$scope.summary = function () {
				$scope.ipdhcpdetails=false;
				$scope.edit = false;
			}
			$scope.addDHCPGwIP = function () {
				if ($scope.ipdhcpinput.dhcp_gateway_ip.length > 0) {
				   cloneipdhcpgw = angular.copy($scope.ipdhcpinput.dhcp_gateway_ip[0]);
			   }
			   else {
				cloneipdhcpgw = "";
			   }
			   /**Remove the last entry from the vlan list */
			   $scope.ipdhcpinput.dhcp_gateway_ip.push(cloneipdhcpgw);
		   }
		   $scope.removeDHCPGwIP = function (index) {
				$scope.ipdhcpinput.dhcp_gateway_ip.splice(index, 1);   
		   }
			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 5;
				toaster.pop(instance);
			}
			$scope.editIPDHCP = function () {
				$scope.edit = true;
				$scope.ipdhcpdetails=false;
			};
			$scope.editIPDHCPDetails = function()
			{
				$scope.edit = true;
			}
			$scope.cancelIPDHCPInput = function () {
				getIPDHCP();
				$scope.edit = false;
			};
			$scope.cancelIPDHCPSettings = function () {
				getIPDHCPDetails();
				$scope.edit = false;
			};
			$scope.updateIPDHCPSettings = function (){
				if ($scope.form.ipdhcpinputdetails.$valid) {					
					if ($scope.form.ipdhcpinputdetails.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							ipdhcp_lb_details = angular.copy($scope.ipdhcpinputdetails),
							data = {
								data: fabricdata,
								ipdhcp_lb_details: ipdhcp_lb_details,
								view: $scope.protocol.view
							};
                        var url='/rest/build/fabricsettings/ipdhcp_lbs';
						$http.post(url, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'IP DHCP Configuration', 'IP DHCP Settings updated Successfully');
								getIPDHCPDetails();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'IP DHCP Configuration', data.data.errors[0].message);
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName =  error.param;
										$scope.form.ipdhcpinputdetails[fieldName].$invalid = true;
										$scope.form.ipdhcpinputdetails[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
					}

				} else {
					$scope.edit = false;
					fabricInputService.displayToaster('error', 'IP DHCP Configuration', 'IP DHCP Settings update Failed');
				}
			}
			$scope.setIPDHCPInput = function () {

				if ($scope.form.ipdhcpinput.$valid) {					
					// Validation to be done for dns input

					if ($scope.form.ipdhcpinput.$valid) {
						spinnerOverlay.start();
						var config = {
							headers: {
								'AcceptMethod': 'write'
							}
						},
							fabricdata = fabricService.getData(),
							ipdhcpdetails = angular.copy($scope.ipdhcpinput),
							data = {
								data: fabricdata,
								ipdhcpdetails: ipdhcpdetails,
								view: $scope.protocol.view
							};
					/*	delete data.clicredential.confirmenablepassword;
						delete data.clicredential.confirmpassword;*/
                        var url='/rest/build/fabricsettings/ipdhcp';
						$http.post(url, data, config)
							.then(function (data, status, headers, config) {
								$scope.edit = false;
								fabricInputService.displayToaster('success', 'IP DHCP Configuration', 'IP DHCP Configuration updated Successfully');
								getIPDHCP();
							}, function (data, status, header, config) {
								fabricInputService.displayToaster('error', 'IP DHCP Configuration', data.data.errors[0].message);
								spinnerOverlay.stop();
								if (data.data) {
									angular.forEach(data.data.errors, function (error, index) {
										var fieldName =  error.param;
										$scope.form.ipdhcpinput[fieldName].$invalid = true;
										$scope.form.ipdhcpinput[fieldName].$$attr.uibTooltip = error.message;
										if (index == 0) {
											var focusField = "[name=\"" + fieldName + "\"]";
											$timeout(function () { $(focusField).focus(); });
										}
									});
								}
							});
					}

				} else {
					$scope.edit = false;
					fabricInputService.displayToaster('error', 'IP DHCP Configuration', 'IP DHCP Configuration update Failed');

				}

			}
			/** controller to remove Guest Vlan row from UI*/
			$scope.addTrap = function () {
				 /*if ($scope.ipdhcpinput.trap_info.length > 0) {
					cloneTraps = angular.copy($scope.ipdhcpinput.trap_info[0]);
				}
				else {
					cloneTraps = { destination_address: "", destination_port: 0, trap_version: "",trap_community:"" };
				}*/
				cloneTraps = { destination_address: "", destination_port: 0, trap_version: "",trap_community:"" };
				/**Remove the last entry from the vlan list */
				$scope.ipdhcpinput.trap_info.push(cloneTraps);
			}   
			 /** controller to remove Guest Vlan row from UI*/
			$scope.removeTrap  = function (index) {
				/**Remove the last entry from the vlan list */
				$scope.ipdhcpinput.trap_info.splice(index, 1);
			} 
		}]);

angular
    .module(APP_NAME)
    .controller('ManagementRouteCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout', 'fabricInputService', 'spinnerOverlay', '$rootScope',
        function ($scope, $location, $http, $cookies, fabricService, $timeout, fabricInputService, spinnerOverlay, $rootScope) {
            $scope.edit = false;
            $scope.form = {};
            $scope.mgmtroute = {};

            function getMgmtRoute() {
                spinnerOverlay.start();
                var config = {
                    headers: {
                        'Content-Type': 'application/json'
                    }
                },
                    fabricdata = fabricService.getData();
                    data = {
                        'data':fabricdata,
                        'view':$rootScope.protocol.view
                    }
                $http.post('/rest/build/mgmtipsummary/', data, config).then(function (res, status, headers, config) {
                    $scope.mgmtroute.mgmt_route_ip = res.data.mgmt_route_ip;
                    $scope.mgmtroute.mgmt_route_mask = res.data.mgmt_route_mask;
                    $scope.mgmtroute.default_gateway = res.data.default_gateway;
                    $scope.mgmtroute.mgmt_start_ip = res.data.mgmt_start_ip;
                    $scope.$emit('enable-details');
                    spinnerOverlay.stop();
                }, function (data, status, header, config) {
                    $scope.mgmtroute.mgmt_route_ip = '';
                    $scope.mgmtroute.mgmt_route_mask = '';
                    $scope.mgmtroute.default_gateway = '';
                    $scope.mgmtroute.mgmt_start_ip = '';
                    spinnerOverlay.stop();
                });
            };
            $scope.summaryView = function () {
                $scope.edit = false;
                getMgmtRoute();
            }
            $scope.summaryView();
            $scope.$on("load-mgmt", function (event,data) {
                $scope.summaryView()
            });
            $scope.detailView = function () {
                $scope.edit = false;
                getMgmtRoute();
            }
            $scope.$on('EditButtonClicked', function (event, data) {
                $scope.edit = true;
            });
            $scope.cancelmgmtroute = function () {
                getMgmtRoute();
                $scope.edit = false;
            };

            $scope.editmgmtroute = function () {
                $scope.edit = true;
                // $scope.$emit('disableEditButton');
            };
            /*$scope.showToaster=function(type,title,message){
                var instance={};
                instance.type= type,instance.title= title,instance.body=message,instance.showCloseButton=true,instance.toasterId= 7;				
                toaster.pop(instance);
            }*/
            $scope.setmgmtroute = function () {
                spinnerOverlay.start();
                var config = {
                    headers: {
                        'AcceptMethod': 'write'
                    }
                },
                    fabricdata = fabricService.getData(),
                    data = {
                        data: fabricdata,
                        mgmtipmodel: {
                            mgmt_route_ip: $scope.mgmtroute.mgmt_route_ip,
                            mgmt_route_mask: $scope.mgmtroute.mgmt_route_mask,
                            default_gateway: $scope.mgmtroute.default_gateway,
                            mgmt_start_ip: $scope.mgmtroute.mgmt_start_ip
                        },
                        view: $rootScope.protocol.view
                    };
                if ($scope.form.mgmtroute.$valid) {

                    $http.post('/rest/build/updatemgmtipsummary/', data, config)
                        .then(function (data, status, headers, config) {
                            $scope.edit = false;
                            fabricInputService.displayToaster('success', 'Management Details', 'Management IP configuration updated Successfully');
                            $scope.status = "Inactive";
                            $scope.updateStatus = function() {
                                $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                            }    
                            $rootScope.$broadcast('call-ipmgmt');
                            $scope.$emit('enable-details');
                            getMgmtRoute();
                        }, function (data, status, header, config) {
                            spinnerOverlay.stop();
                            if (data.data) {
                                angular.forEach(data.data.errors, function (error, index) {
                                    var fieldName = "mgmtroute_" + error.param;
                                    $scope.form.mgmtroute[fieldName].$invalid = true;
                                    $scope.form.mgmtroute[fieldName].$$attr.uibTooltip = error.message;
                                    if (index == 0) {
                                        var focusField = "[name=\"" + fieldName + "\"]";
                                        $timeout(function () { $(focusField).focus(); });
                                    }
                                });
                                fabricInputService.displayToaster('error', 'Management Details', error.message);
                            }
                        });

                } else {
                    spinnerOverlay.stop();
                }

            }
        }]);

angular
    .module(APP_NAME)
    .controller('ManagementIPRouteCtrl', ['$scope', '$location', '$http', '$cookies', 'fabricService', '$timeout','toaster', 'spinnerOverlay','$rootScope',
    function ($scope, $location, $http, $cookies, fabricService, $timeout,toaster, spinnerOverlay,$rootScope) { 

        $scope.$on('load-mgmtip-data', function (event,data) {
        $scope.protocol = data
        $rootScope.protocol = data
        $scope.summary();
        });

        $scope.$on('enable-details', function (event,data) {
            $scope.protocol = data
            $scope.disableDetails = false;
        });
        
        $scope.summary= function () {
          $scope.summaryView=true;   
          $scope.$broadcast('load-mgmt',$scope.protocol)       
        };
        $scope.detail = function () {
          $scope.summaryView=false;         
        };
        $scope.init=function(){
            $scope.summaryView=null;       
        }
        $scope.editButtonClick=function(){
             $scope.$broadcast('EditButtonClicked');
             $scope.disableDetails = true;
        } 
        $scope.init();
    }]);

angular
    .module(APP_NAME)
    .controller('configDownloadCtrl', ['$scope', '$q', 'linkService', '$rootScope','fabricService','$http', function ($scope, $q, linkService, $rootScope,fabricService,$http) {
        $scope.loadDHCP = function () {
            $scope.$broadcast("load-dhcp-data");
        }
        $scope.active_menu = "Switch Configuration"
        $scope.settabactive = function(menulabel)
        {
            $scope.active_menu = menulabel
        }
        /*$scope.deploymentType = window.localStorage.getItem("DeploymentType")//fabricService.getDeploymentType();

        console.log($scope.deploymentType)
        $scope.$on('tab-configdownload', function () {
            // go to first pane in the wizard 
            $scope.$broadcast('dlng:wizard:goto', 0);
        });
        */
       $http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {
        {
            $scope.deploymentType = res.data
            //console.log($scope.deploymentType )
            $scope.$on('tab-configdownload', function () {
                // go to first pane in the wizard 
                $scope.$broadcast('dlng:wizard:goto', 0);
            });
        }}
        );
    }]);
angular
    .module(APP_NAME)
    .controller('topologyLinksCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout','$rootScope', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout,$rootScope) {
        /** Form variable for validatiom */
        $scope.form = {};
        /**Create scope variable(s) for fabric network settings */
        $scope.fabricnetworksettings = {};
        $scope.fabricnetworksettings.routersettings = [];
        $scope.fabricnetworksettings.uplinksettings = {};
        $scope.fabricnetworksettings.linkSettingsInput = [];
        $scope.tiers = 1;//Single tier by default
        $scope.uplink = {
            upLinkProtocol: "",
            upLinkProtocolType: ""
        };
        /** variables for showing and hiding edit feature in the tables*/
        $scope.editrouter = false;
        $scope.edituplink = false;
        $scope.emptyValueForNumber = function (value) {
            return (typeof value !== 'undefined' && value > 0 && value !== null) ? value : undefined;
        }
        $scope.editUplinkSettings = function () {
            $scope.edituplink = true;
        };

        $scope.cancelUplinkSettings = function () {
            $scope.form.uplinksettings.$setPristine();
            $scope.getFabricLinkSettings();
        };
        /** get FabricLink Details from server */
        $scope.getFabricLinkSettings = function () {
            spinnerOverlay.start();
            /* set both router setting and link setting edit mode to false*/
            $scope.edituplink = false;
            $scope.editrouter = false;
            view = $rootScope.protocol.view
            linkService.getFabricNetworkSettings(view)
                .then(function (res, status, headers, config) {
                    /* angular.forEach(res.data.routerSettingsInput,function(value,index){
                       value.localASN=Number(value.localASN);
                       value.loopbackNetMask=Number(value.loopbackNetMask);
                      });*/
                    $scope.fabricnetworksettings.routersettings = angular.copy(res.data.routerSettingsInput);
                    $scope.fabricnetworksettings.uplinksettings = angular.copy(res.data.l3uplinkProtocolInput);
                    if ($scope.uplink.upLinkProtocolType == 'OSPF') {
                        if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput && $scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs.length > 0) {
                            /* angular.forEach($scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs,function(value,index){
                                     value.networkIpNetMask=Number(value.networkIpNetMask);
                                     value.localIpNetMask=Number(value.localIpNetMask);
                                     value.remoteIpNetMask=Number(value.remoteIpNetMask);
                                     value.areaId=Number(value.areaId);
                                 });*/
                            $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs);
                        }
                    }
                    else {
                        if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput && $scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs.length > 0) {
                            /*  angular.forEach($scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs,function(value,index){
                                  value.networkIpNetMask=Number(value.networkIpNetMask);
                                  value.localIpNetMask=Number(value.localIpNetMask);
                                  value.remoteIpNetMask=Number(value.remoteIpNetMask);
                                  value.localASN=Number(value.localASN);
                                  value.remoteASN=Number(value.remoteASN);
                              });*/
                            $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs);
                            angular.forEach($scope.fabricnetworksettings.linkSettingsInput, function(val, ind) {
                                if (val.remoteASN == 0) {
                                    $scope.fabricnetworksettings.linkSettingsInput[ind].remoteASN = '';
                                }
                            });
                        }
                    }
                    spinnerOverlay.stop();//stopping spinner
                }, function (data, status, header, config) {
                    spinnerOverlay.stop();//stopping spinner
                });
        }
        /** getFabricLinkSettings should be called when the Network settings Tabs is selected */
        $scope.$on('loadSettings', function (event, data) {
            $scope.uplink = data;
            $scope.tiers = data.tiers;
            $scope.getFabricLinkSettings();
        });
        /**Interface to update Router settings */
        $scope.updateUplinkSettings = function () {
            spinnerOverlay.start();
            var post_data = {};
            if ($scope.uplink.upLinkProtocolType == 'OSPF')
                $scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs = angular.copy($scope.fabricnetworksettings.linkSettingsInput);
            else
                $scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs = angular.copy($scope.fabricnetworksettings.linkSettingsInput);
            post_data.l3uplinkProtocolInput = $scope.fabricnetworksettings.uplinksettings;
            var toastertitle = 'Up' + $translate.instant('fabricOutput.networksettings.fabricsettings.linksettings.title');
            linkService.updateUplinkSettings(post_data,$rootScope.protocol.view)
                .then(function (res, status, headers, config) {
                    fabricService.storeData(res.data);
                    fabricInputService.displayToaster('success', toastertitle, 'Uplink Details updated Successfully');
                    $scope.edituplink = false;
                    $scope.getFabricLinkSettings();
                }, function (data, status, header, config) {
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('error', toastertitle, 'Uplink Details cannot be updated');
                    $scope.edituplink = true;
                    if (data.data && (data.data["ospfLinkSettingInputs"] || data.data["bgpLinkSettingInputs"])) {
                        if ($scope.uplink.upLinkProtocolType == 'OSPF')
                            linksArray = angular.copy(data.data["ospfLinkSettingInputs"]);
                        else linksArray = angular.copy(data.data["bgpLinkSettingInputs"]);
                        angular.forEach(linksArray, function (uplinksettings) {
                            angular.forEach(uplinksettings.errors, function (error, index) {
                                var fieldName = error.param + "_" + uplinksettings.id;
                                $scope.form.uplinksettings[fieldName].$invalid = true;
                                $scope.form.uplinksettings[fieldName].$dirty = true;
                                $scope.form.uplinksettings[fieldName].$$attr.uibTooltip = error.message;
                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        });
                    }
                });
        }
        $scope.autoPopulate = function (type) {
            $scope.controller = "topologyLinksCtrl";
            $scope.template = "fabric/design/output/autoPopulateModal.html";
            $scope.type = "dismiss";
            var modalScope = fabricInputService.openModal($scope);
            modalScope.autopopulateForm = {};
            modalScope.type = type;
            //  modalScope.editrouter=$scope.editrouter;
            modalScope.uplink = $scope.uplink;
            modalScope.fabricnetworksettings = $scope.fabricnetworksettings;
            modalScope.autopopulateModel = {
                nwAddress: "",
                nwMask: '',
                asn: 64600,
                asnInc: 1,
                asn1: 64700,
                asnInc1: 1,
                remoteAsn: 1,
                remoteAsnInc: 1
            }
        }
        $scope.generateAutoCompleteUplinkSettings = function (form) {
            spinnerOverlay.start();
            var toastertitle = 'Up' + $translate.instant('fabricOutput.networksettings.fabricsettings.linksettings.title');
            var posted_data = {};
            posted_data.l3LinkSettingAutoFillInput = {};
            posted_data.l3LinkSettingAutoFillInput.nwAddress = $scope.autopopulateModel.nwAddress;
            posted_data.l3LinkSettingAutoFillInput.netMask = $scope.autopopulateModel.nwMask;
            posted_data.l3LinkSettingAutoFillInput.remoteASN = $scope.autopopulateModel.remoteAsn;
            posted_data.l3LinkSettingAutoFillInput.remoteASNIncrement = $scope.autopopulateModel.remoteAsnInc;
            if ($scope.uplink.upLinkProtocolType == 'OSPF')
                $scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs = angular.copy($scope.fabricnetworksettings.linkSettingsInput);
            else
                $scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs = angular.copy($scope.fabricnetworksettings.linkSettingsInput);
            posted_data.l3uplinkProtocolInput = $scope.fabricnetworksettings.uplinksettings;
            linkService.updateAutoCompleteUplinkSettings(posted_data)
                .then(function (res, status, headers, config) {
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('success', toastertitle, 'AutoComplete -Uplink Details updated Successfully', 18);
                    if (res && (res.data)) {
                        $scope.fabricnetworksettings.uplinksettings = res.data;
                        if ($scope.uplink.upLinkProtocolType == 'OSPF') {
                            if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput && $scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs.length > 0) {
                                angular.forEach($scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs, function (value, index) {
                                    value.networkIpNetMask = Number(value.networkIpNetMask);
                                    value.localIpNetMask = Number(value.localIpNetMask);
                                    value.remoteIpNetMask = Number(value.remoteIpNetMask);
                                    value.areaId = Number(value.areaId);
                                });
                                $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs);
                            }
                        }
                        else {
                            if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput && $scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs.length > 0) {
                                angular.forEach($scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs, function (value, index) {
                                    value.networkIpNetMask = Number(value.networkIpNetMask);
                                    value.localIpNetMask = Number(value.localIpNetMask);
                                    value.remoteIpNetMask = Number(value.remoteIpNetMask);
                                    value.localASN = Number(value.localASN);
                                    value.remoteASN = Number(value.remoteASN);
                                });
                                $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs);
                            }
                        }
                    }
                    $scope.modal.hide();
                }, function (res, status, header, config) {
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('error', toastertitle, 'AutoComplete -Uplink Details Settings cannot be updated', 18);
                    if (res.data.errors) {
                        angular.forEach(res.data.errors, function (error, index) {
                            var fieldName = '';
                            if (error.param) {
                                if (error.param == 'nwAddress') fieldName = 'nwAddress';
                                if (error.param == 'netMask') fieldName = 'nwmask';
                                if (error.param == 'remoteASN') fieldName = 'remoteAsn';
                                if (error.param == 'remoteASNIncrement') fieldName = 'remoteAsnInc';
                            }
                            form[fieldName].$invalid = true;
                            form[fieldName].$dirty = true;
                            form[fieldName].$$attr.uibTooltip = error.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                            }
                        });
                    }
                });
        }

    }]);

angular
    .module(APP_NAME)
    .controller('routerSettingsCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout','$rootScope', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout,$rootScope) {
        /** Form variable for validatiom */
        $scope.form = {};
        /**Create scope variable(s) for fabric network settings */
        $scope.show_vtep_loopback=false;
        $scope.show_host_overlay_vtep_loopback=false;
        $scope.show_ASN=false;
        $scope.fabricnetworksettings = {};
        $scope.fabricnetworksettings.routersettings = [];
        $scope.fabricnetworksettings.uplinksettings = {};
        $scope.fabricnetworksettings.linkSettingsInput = [];
        $scope.tiers = 1;//Single tier by default
        $scope.protocol = {};
        $scope.uplink = {
            upLinkProtocol: "",
            upLinkProtocolType: ""
        };
        /** variables for showing and hiding edit feature in the tables*/
        $scope.editrouter = false;
        $scope.edituplink = false;
        $scope.emptyValueForNumber = function (value) {
            return (typeof value !== 'undefined' && value > 0 && value !== null) ? value : undefined;
        }
        $scope.editRouterSettings = function () {
            $scope.editrouter = true;
        };
        $scope.cancelRouterSettings = function () {
            $scope.form.routersettings.$setPristine();
            $scope.getFabricLinkSettings();
        };
        $scope.$on('EditButtonClicked', function (event, data) {
            $scope.editrouter = true;
        });
        /** get FabricLink Details from server */
        $scope.getFabricLinkSettings = function () {
            spinnerOverlay.start();
            /* set both router setting and link setting edit mode to false*/
            $scope.edituplink = false;
            $scope.editrouter = false;
            view = $rootScope.protocol.view
            linkService.getFabricNetworkSettings(view)
                .then(function (res, status, headers, config) {
                    /* angular.forEach(res.data.routerSettingsInput,function(value,index){
                       value.localASN=Number(value.localASN);
                       value.loopbackNetMask=Number(value.loopbackNetMask);
                      });*/
                    $scope.show_vtep_loopback=angular.copy(res.data.show_vtep_loopback);
                    $scope.show_host_overlay_vtep_loopback=angular.copy(res.data.show_host_overlay_vtep_loopback);
                    $scope.show_ASN=angular.copy(res.data.show_ASN);
                    $scope.fabricnetworksettings.routersettings = angular.copy(res.data.routerSettingsInput);
                    /*if ($scope.uplink.upLinkProtocolType == 'OSPF') {
                        if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput && $scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs.length > 0) {
                           
                            $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.uplinkOSPFProtocolInput.ospfLinkSettingInputs);
                        }
                    }
                    else {
                        if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput && $scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs.length > 0) {
                           
                            $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.uplinkBGPProtocolInput.bgpLinkSettingInputs);
                        }
                    }*/
                    spinnerOverlay.stop();//stopping spinner
                }, function (data, status, header, config) {
                    spinnerOverlay.stop();//stopping spinner
                });
        }

        $scope.getFabricsUplinkProtocol = function () {
            spinnerOverlay.start();
            var deferred = $q.defer();
            linkService.getselectedFabricProtocol($rootScope.protocol.view).then(function (res, status, headers, config) {
                /*$scope.uplink.upLinkProtocol = res.data.upLinkProtocol;
                $scope.uplink.upLinkProtocolType = res.data.upLinkProtocolType;
                $scope.uplink.fabricLinkProtocol = res.data.fabricLinkProtocol;
                $scope.uplink.tiers = res.data.tiers;
                $scope.uplink.fabricType = res.data.fabricType;
                $scope.uplink.fabricLinkProtocolType = res.data.fabricLinkProtocolType;*/
                $scope.protocol = angular.copy(res.data);
                $scope.protocol.view = $rootScope.protocol.view
                deferred.resolve($scope.protocol);
            }, function (data, status, header, config) {
                spinnerOverlay.stop();
                deferred.reject('failure');
            });
            return deferred.promise;
        }
        $scope.detailView = function () {
            
            $scope.getFabricsUplinkProtocol().then(function (data) {
                $scope.uplink = data;
                $scope.tiers = data.tiers;
                $scope.showAsnInc = false;
                var asnLogic = {
                    'eBGP': ['eBGP', 'OSPF']
                }
                angular.forEach(asnLogic, function (val, key) {
                    angular.forEach(val, function (v) {
                        if ($scope.uplink.fabricLinkProtocolType == key && $scope.uplink.upLinkProtocolType == v) {
                            $scope.showAsnInc = true;
                        }
                    })
                })
                $scope.getFabricLinkSettings();
            });
        }


        /**Interface to update Router settings */
        $scope.updateRouterSettings = function () {
            spinnerOverlay.start();
            $scope.editrouter = false;
            var posted_data = {};
            /* iterate each variable in the routersettings array and convert fields that needs number as numberinput*/
            angular.forEach($scope.fabricnetworksettings.routersettings, function (value, index) {
                value.localASN = Number(value.localASN);
                value.loopbackNetMask = Number(value.loopbackNetMask);
            });
            posted_data.routerSettingsInput = angular.copy($scope.fabricnetworksettings.routersettings);
            var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.routersettings.title');
            linkService.updateRouterSettings(posted_data,$rootScope.protocol.view)
                .then(function (res, status, headers, config) {
                    fabricService.storeData(res.data);
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('success', toastertitle, 'Fabric Router Settings updated Successfully');
                    $scope.editrouter = false;
                }, function (data, status, header, config) {
                    $scope.editrouter = true;
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('error', toastertitle, 'Fabric Router Settings cannot be updated');
                    if (data.data) {
                        angular.forEach(data.data, function (routersettings) {
                            angular.forEach(routersettings.errors, function (error, index) {
                                var fieldName = error.param + "_" + routersettings.id;
                                $scope.form.routersettings[fieldName].$invalid = true;
                                $scope.form.routersettings[fieldName].$dirty = true;
                                $scope.form.routersettings[fieldName].$$attr.uibTooltip = error.message;
                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        });
                    }
                });
        }
        $scope.autoPopulate = function (type) {
            $scope.controller = "routerSettingsCtrl";
            $scope.template = "fabric/design/output/autoPopulateModal.html";
            $scope.type = "dismiss";
            var modalScope = fabricInputService.openModal($scope);
            modalScope.autopopulateForm = {};
            modalScope.type = type;
            //  modalScope.editrouter=$scope.editrouter;
            modalScope.uplink = $scope.uplink;
            modalScope.fabricnetworksettings = $scope.fabricnetworksettings;
            modalScope.autopopulateModel = {
                nwAddress: "",
                nwMask: '',
                asn: 64600,
                asnInc: 1,
                asn1: 64700,
                asnInc1: 1,
                remoteAsn: 0,
                remoteAsnInc: 1
            }
        }
        $scope.generateAutoCompleteRouterSettings = function (form) {
            spinnerOverlay.start();
            var posted_data = {};
            posted_data.routerSettingAutoFillInput = {};
            /* iterate each variable in the routersettings array and convert fields that needs number as numberinput*/
            if ($scope.fabricnetworksettings.routersettings) {
                angular.forEach($scope.fabricnetworksettings.routersettings, function (value, index) {
                    value.localASN = Number(value.localASN);
                    value.loopbackNetMask = Number(value.loopbackNetMask);
                });
            }
            posted_data.routerSettingsInput = angular.copy($scope.fabricnetworksettings.routersettings);
            posted_data.routerSettingAutoFillInput.loopbackNwAddress = $scope.autopopulateModel.nwAddress;
            posted_data.routerSettingAutoFillInput.loopbackNwAddressNetMask = $scope.autopopulateModel.nwMask;
            if ($scope.uplink.tiers > 1) {
                posted_data.routerSettingAutoFillInput.spineASN = $scope.autopopulateModel.asn;
                posted_data.routerSettingAutoFillInput.spineASNIncrement = $scope.autopopulateModel.asnInc;
                if ($scope.uplink.fabricType == 'Layer_2_TOR' || $scope.uplink.fabricType == 'Layer_3_Leaf_Spine') {
                    posted_data.routerSettingAutoFillInput.leafASN = $scope.autopopulateModel.asn1;
                    posted_data.routerSettingAutoFillInput.leafASNIncrement = $scope.autopopulateModel.asnInc1;
                }
            } else {
                posted_data.routerSettingAutoFillInput.leafASN = $scope.autopopulateModel.asn1;
                posted_data.routerSettingAutoFillInput.leafASNIncrement = $scope.autopopulateModel.asnInc1;
            }
            var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.routersettings.title');
            linkService.updateAutoCompleteRouterSettings(posted_data)
                .then(function (res, status, headers, config) {
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('success', toastertitle, 'AutoComplete -Fabric Router Settings updated Successfully', 17);
                    if (res && (res.data && res.data.length > 0))
                        $scope.fabricnetworksettings.routersettings = res.data;
                    $scope.modal.hide();
                }, function (res, status, header, config) {
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('error', toastertitle, 'AutoComplete -Fabric Router Settings cannot be updated', 17);
                    if (res.data.errors) {
                        angular.forEach(res.data.errors, function (error, index) {
                            var fieldName = '';
                            if (error.param) {
                                if (error.param == 'loopbackNwAddress') fieldName = 'nwAddress';
                                if (error.param == 'loopbackNwAddressNetMask') fieldName = 'nwmask';
                                if ($scope.uplink.tiers == 1) {
                                    if (error.param == 'leafASN') fieldName = 'asn1';
                                    if (error.param == 'leafASNIncrement') fieldName = 'asnInc1';
                                } else {
                                    if (error.param == 'leafASN') fieldName = 'asn1';
                                    if (error.param == 'leafASNIncrement') fieldName = 'asnInc1';
                                    if (error.param == 'spineASN') fieldName = 'asn';
                                    if (error.param == 'spineASNIncrement') fieldName = 'asnInc';
                                }
                            }
                            form[fieldName].$invalid = true;
                            form[fieldName].$dirty = true;
                            form[fieldName].$$attr.uibTooltip = error.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                            }
                        });
                    }
                });
        }

    }]);

angular
    .module(APP_NAME)
    .controller('cbisrouterSettingsDefaultCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout','$http', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout,$http) {
        $scope.autopopulateForm = {};
        $scope.init = function () {
            $scope.show_vtep_loopback=false;
            $scope.autopopulateModel = {
                loopbackNwAddress: "",
                loopbackNwAddressNetMask: '',
                privateASN: 64600,
                fabriclinkNetwork: "",
                fabriclinkNetworkMask: '',
            }            
            $scope.showASN = true;
            $scope.showFabricLink = true;
        }
        $scope.showPassword = {};
        //$scope.showPassword = _.mapValues($scope.showPassword, () => false);
        $scope.toggleShowPassword = function(pwd) {
            $scope.showPassword[pwd] = !$scope.showPassword[pwd];
        }
        if($scope.protocol.deploymentType == 'Enterprise SONiC Fabric')
            $scope.irb_types = ["No IRB",'Symmetric',"Asymmetric"]
        else
            $scope.irb_types = ["Symmetric","Asymmetric"]

        /** getFabricLinkSettings should be called when the Network settings Tabs is selected */
        $scope.$on('loadSettings', function (event, data) {
            spinnerOverlay.start();
            $scope.showEdit = false;
            linkService.getCBISRouterSettingsDefault()
                .then(function (res, status, headers, config) {
                    $scope.autopopulateModel = angular.copy(res.data);
                    $scope.autopopulateModel.network_overlay_type = data.network_overlay_type
                    $scope.show_vtep_loopback=angular.copy(res.data.show_vtep_loopback);
                    if($scope.protocol.deploymentType == 'Enterprise SONiC Fabric')
                    /*{
                        if($scope.autopopulateModel.irb_type == "L2 VXLAN, no IRB" || $scope.autopopulateModel.irb_type == "L2 VXLAN, Asymmetric IRB")
                            $scope.irb_types = ["L2 VXLAN, no IRB","L2 VXLAN, Asymmetric IRB"]
                        else
                            $scope.irb_types = ["L3 VXLAN, Symmetric IRB"]
                    }*/

                    spinnerOverlay.stop();
                }, function() {
                    spinnerOverlay.stop();
                });

        });

        $scope.summaryView = function () {
            spinnerOverlay.start();
            $scope.showEdit = false;
            linkService.getCBISRouterSettingsDefault()
                .then(function (res, status, headers, config) {
                    $scope.autopopulateModel = angular.copy(res.data);
                    $scope.autopopulateModel.network_overlay_type = $scope.protocol.network_overlay_type;
                    $scope.show_vtep_loopback=angular.copy(res.data.show_vtep_loopback);
                    /*if($scope.deploymentType == 'Enterprise SONiC Fabric')
                    {
                        if($scope.autopopulateModel.irb_type == "L2 VXLAN, no IRB" || $scope.autopopulateModel.irb_type == "L2 VXLAN, Asymmetric IRB")
                            $scope.irb_types = ["L2 VXLAN, no IRB","L2 VXLAN, Asymmetric IRB"]
                        else
                            $scope.irb_types = ["L3 VXLAN, Symmetric IRB"]
                    }*/
                    $scope.showASN = $scope.autopopulateModel.privateASN && ($scope.autopopulateModel.privateASN != 0 && $scope.autopopulateModel.privateASN != '');
                    $scope.showFabricLink = ($scope.autopopulateModel.fabriclinkNetwork && $scope.autopopulateModel.fabriclinkNetwork != '');
                    spinnerOverlay.stop();
                }, function() {
                    spinnerOverlay.stop();
                });
        }
        $scope.$on('EditButtonClicked', function (event, data) {
            $scope.showEdit = true;
        });
        $scope.cancelEditView = function () {
            spinnerOverlay.start();
            $scope.showEdit = false;
            linkService.getCBISRouterSettingsDefault()
                .then(function (res, status, headers, config) {
                    $scope.autopopulateModel = angular.copy(res.data);
                    $scope.show_vtep_loopback=angular.copy(res.data.show_vtep_loopback);
                    /*if($scope.deploymentType == 'Enterprise SONiC Fabric')
                    {
                        if($scope.autopopulateModel.irb_type == "L2 VXLAN, no IRB" || $scope.autopopulateModel.irb_type == "L2 VXLAN, Asymmetric IRB")
                            $scope.irb_types = ["L2 VXLAN, no IRB","L2 VXLAN, Asymmetric IRB"]
                        else
                            $scope.irb_types = ["L3 VXLAN, Symmetric IRB"]
                    }*/
                    $scope.autopopulateModel.network_overlay_type = $scope.protocol.network_overlay_type;
                    $scope.showASN = $scope.autopopulateModel.privateASN && ($scope.autopopulateModel.privateASN != 0 && $scope.autopopulateModel.privateASN != '');
                    $scope.showFabricLink = ($scope.autopopulateModel.fabriclinkNetwork && $scope.autopopulateModel.fabriclinkNetwork != '');
                    spinnerOverlay.stop();
                }, function() {
                    spinnerOverlay.stop();
                });
        }
        $scope.generateCBISRouterDefaults = function (form) {
            spinnerOverlay.start();
            var data = {};
            data.routerSettingAutoFillInput = angular.copy($scope.autopopulateModel);
            var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.routersettings.title');
            linkService.generateCBISRouterSettings(data)
                .then(function (res, status, headers, config) {
                    spinnerOverlay.stop();
                    $scope.showEdit = false;
                    $scope.protocol.irb_type =  $scope.autopopulateModel.irb_type
                    fabricInputService.displayToaster('success', toastertitle, 'Fabric Router Settings updated Successfully', 1);
                }, function (res, status, header, config) {
                    spinnerOverlay.stop();
                    fabricInputService.displayToaster('error', toastertitle, 'Fabric Router Settings cannot be updated', 1);
                    if (res.data.errors) {
                        angular.forEach(res.data.errors, function (error, index) {
                            var fieldName = error.param;
                            form[fieldName].$invalid = true;
                            form[fieldName].$dirty = true;
                            form[fieldName].$$attr.uibTooltip = error.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                            }
                        });
                    }
                });
        }
        $scope.init();
    }]);
angular
    .module(APP_NAME)
    .controller('asymmetricdetailsCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout) {
    
        $scope.asymmetricirbdetails = null
        $scope.symmetricirbdetails = null        
        $scope.showEdit = false
        $scope.$on('EditButtonClicked', function (event, data) {
            $scope.showEdit = true;
        })
        $scope.detailView = function () {
            spinnerOverlay.start();
            linkService.getIrbInfo().then(function (res) {
                if(res.data){
                if(res.data.asymmetric_info != null)
                    $scope.asymmetricirbdetails = res.data.asymmetric_info                                
                else if(res.data.symmetric_info != null)
                    $scope.symmetricirbdetails = res.data.symmetric_info                                                
                }
                spinnerOverlay.stop();                
            }, function() {
                spinnerOverlay.stop();
            });
        }

        $scope.updateirbdetails = function(form_data) {            
            spinnerOverlay.start();            
            linkService.update_irb($scope.asymmetricirbdetails,$scope.symmetricirbdetails).then(function(res)
            {                
                $scope.showEdit = false;
                spinnerOverlay.stop();
                var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.asymmetricdetailssettings.title');
                fabricInputService.displayToaster('success', toastertitle, 'Asymmetric IRB Settings Details updated successfully'); 
            }, function(data, status, header, config) {
                var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.asymmetricdetailssettings.title');
                fabricInputService.displayToaster('error', toastertitle, 'Asymmetric IRB Settings Details cannot be updated'); 
                angular.forEach(data.data.errors,function(error){
                    var fieldName = error.param;
                    form_data[fieldName].$invalid = true;
                    form_data[fieldName].$dirty = true;
                    form_data[fieldName].$$attr.uibTooltip = error.message;
                    var focusField = "[name=\"" + fieldName + "\"]";
                    $timeout(function () { $(focusField).focus(); });                        
                });
                linksArray = data.data.switch_vlti_info
                angular.forEach(linksArray, function (switch_vlti_info,index) {
                    angular.forEach(switch_vlti_info.errors, function (error) {
                        var fieldName = error.param+"_"+index;
                        form_data[fieldName].$invalid = true;
                        form_data[fieldName].$dirty = true;
                        form_data[fieldName].$$attr.uibTooltip = error.message;
                        if (index == 0) {
                            var focusField = "[name=\"" + fieldName + "\"]";
                            $timeout(function () { $(focusField).focus(); });
                        }
                    });
                });
              spinnerOverlay.stop();
            });
        }
        $scope.cancelEditView = function () {
            spinnerOverlay.start();
            $scope.showEdit = false;
            linkService.getIrbInfo().then(function (res) {
                if(res.data){
                    if(res.data.asymmetric_info != null)
                        $scope.asymmetricirbdetails = res.data.asymmetric_info                                
                    else if(res.data.symmetric_info != null)
                        $scope.symmetricirbdetails = res.data.symmetric_info                                                
                }
                spinnerOverlay.stop();
            }, function() {
                spinnerOverlay.stop();
            });            
        }
    }]
);
angular
    .module(APP_NAME)
    .controller('routerSettingsHomeCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout','$http','$rootScope', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout,$http,$rootScope) {
      
      /*$http.post("/rest/design/getDeploymentType/",fabricService.getData()).then(function (res) {

        $scope.deploymentType = res.data
      });*/
        //$scope.deploymentType = fabricService.getDeploymentType();
        $scope.summary= function () {
          $scope.summaryview=true;
          $scope.routersettingsview=false;           
          $scope.asymmetricirbsettings=false;              
        };
        $scope.detail = function () {
          $scope.summaryview=false;
          $scope.routersettingsview=true;          
          $scope.asymmetricirbsettings=false;       
        };
         $scope.interlink = function () {
          $scope.summaryview=false;
          $scope.routersettingsview=false;          
          $scope.asymmetricirbsettings=false;       
        };
        $scope.asymmetricirbsettingsview = function(){
            $scope.summaryview=false;
            $scope.routersettingsview=false;   
            $scope.asymmetricirbsettings=true;       
          }
        $scope.init=function(){
            $scope.summaryview=true; 
            $scope.routersettingsview=false; 
            $scope.asymmetricirbsettings=false;       
            $scope.showEditButton=true; 
            $scope.protocol={};          
        }   
        $scope.editButtonClick=function(){
             $scope.$broadcast('EditButtonClicked') ;
        } 
            /** getFabricLinkSettings should be called when the Network settings Tabs is selected */
        $scope.$on('loadSettings', function (event, data) {
           if(data){
               $scope.protocol=data;
               //$scope.deploymentType = data.deploymentType
           }
        
        });  
        $scope.init();
    }]);
angular
    .module(APP_NAME)
    .controller('routerSettingsDefaultCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout','$http','$rootScope', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout,$http,$rootScope) {
        $scope.autopopulateForm = {};
        $scope.init = function () {
            $scope.show_vtep_loopback=false;
            $scope.autopopulateModel = {
                loopbackNwAddress: "",
                loopbackNwAddressNetMask: '',
                privateASN: 64600,
                fabriclinkNetwork: "",
                fabriclinkNetworkMask: '',
            }            
            $scope.showASN = true;
            $scope.showFabricLink = true;
        }

        if($scope.protocol.deploymentType == 'Enterprise SONiC Fabric')
            $scope.irb_types = ["No IRB",'Symmetric',"Asymmetric"]
        else
            $scope.irb_types = ["Symmetric","Asymmetric"]

        /** getFabricLinkSettings should be called when the Network settings Tabs is selected */
        $scope.$on('loadSettings', function (event, data) {
            spinnerOverlay.start();
            $scope.showEdit = false;
            view = fabricService.getFabricId();
            linkService.getRouterSettingsDefault(view)
                .then(function (res, status, headers, config) {
                    $scope.autopopulateModel = angular.copy(res.data);
                    $scope.autopopulateModel.network_overlay_type = data.network_overlay_type
                    $scope.show_vtep_loopback=angular.copy(res.data.show_vtep_loopback);
                    if($scope.protocol.deploymentType == 'Enterprise SONiC Fabric')
                    /*{
                        if($scope.autopopulateModel.irb_type == "L2 VXLAN, no IRB" || $scope.autopopulateModel.irb_type == "L2 VXLAN, Asymmetric IRB")
                            $scope.irb_types = ["L2 VXLAN, no IRB","L2 VXLAN, Asymmetric IRB"]
                        else
                            $scope.irb_types = ["L3 VXLAN, Symmetric IRB"]
                    }*/

                    spinnerOverlay.stop();
                }, function() {
                    spinnerOverlay.stop();
                });

        });

        $scope.summaryView = function () {
            spinnerOverlay.start();
            $scope.showEdit = false;
            view = fabricService.getFabricId();
            linkService.getRouterSettingsDefault(view)
                .then(function (res, status, headers, config) {
                    $scope.autopopulateModel = angular.copy(res.data);
                    $scope.autopopulateModel.network_overlay_type = $scope.protocol.network_overlay_type;
                    $scope.show_vtep_loopback=angular.copy(res.data.show_vtep_loopback);
                    /*if($scope.deploymentType == 'Enterprise SONiC Fabric')
                    {
                        if($scope.autopopulateModel.irb_type == "L2 VXLAN, no IRB" || $scope.autopopulateModel.irb_type == "L2 VXLAN, Asymmetric IRB")
                            $scope.irb_types = ["L2 VXLAN, no IRB","L2 VXLAN, Asymmetric IRB"]
                        else
                            $scope.irb_types = ["L3 VXLAN, Symmetric IRB"]
                    }*/
                    $scope.showASN = $scope.autopopulateModel.privateASN && ($scope.autopopulateModel.privateASN != 0 && $scope.autopopulateModel.privateASN != '');
                    $scope.showFabricLink = ($scope.autopopulateModel.fabriclinkNetwork && $scope.autopopulateModel.fabriclinkNetwork != '');
                    spinnerOverlay.stop();
                }, function() {
                    spinnerOverlay.stop();
                });
        }
        $scope.$on('EditButtonClicked', function (event, data) {
            $scope.showEdit = true;
        });
        $scope.cancelEditView = function () {
            spinnerOverlay.start();
            $scope.showEdit = false;
            view = fabricService.getFabricId();
            linkService.getRouterSettingsDefault(view)
                .then(function (res, status, headers, config) {
                    $scope.autopopulateModel = angular.copy(res.data);
                    $scope.show_vtep_loopback=angular.copy(res.data.show_vtep_loopback);
                    /*if($scope.deploymentType == 'Enterprise SONiC Fabric')
                    {
                        if($scope.autopopulateModel.irb_type == "L2 VXLAN, no IRB" || $scope.autopopulateModel.irb_type == "L2 VXLAN, Asymmetric IRB")
                            $scope.irb_types = ["L2 VXLAN, no IRB","L2 VXLAN, Asymmetric IRB"]
                        else
                            $scope.irb_types = ["L3 VXLAN, Symmetric IRB"]
                    }*/
                    $scope.autopopulateModel.network_overlay_type = $scope.protocol.network_overlay_type;
                    $scope.showASN = $scope.autopopulateModel.privateASN && ($scope.autopopulateModel.privateASN != 0 && $scope.autopopulateModel.privateASN != '');
                    $scope.showFabricLink = ($scope.autopopulateModel.fabriclinkNetwork && $scope.autopopulateModel.fabriclinkNetwork != '');
                    spinnerOverlay.stop();
                }, function() {
                    spinnerOverlay.stop();
                });
        }
        $scope.generateRouterDefaults = function (form) {
            spinnerOverlay.start();
            var data = {};
            data.routerSettingAutoFillInput = angular.copy($scope.autopopulateModel);
            var toastertitle = $translate.instant('fabricOutput.networksettings.fabricsettings.routersettings.title');
            view = fabricService.getFabricId();            
            linkService.generateRouterSettings(data,view)
                .then(function (res, status, headers, config) {
                    spinnerOverlay.stop();
                    $scope.showEdit = false;
                    $scope.protocol.irb_type =  $scope.autopopulateModel.irb_type
                    fabricInputService.displayToaster('success', toastertitle, 'Fabric Router Settings updated Successfully', 1);
                }, function (res, status, header, config) {
                    spinnerOverlay.stop();
                    fabricInputService.displayToaster('error', toastertitle, 'Fabric Router Settings cannot be updated', 1);
                    if (res.data.errors) {
                        angular.forEach(res.data.errors, function (error, index) {
                            var fieldName = error.param;
                            form[fieldName].$invalid = true;
                            form[fieldName].$dirty = true;
                            form[fieldName].$$attr.uibTooltip = error.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                            }
                        });
                    }
                });
        }
        $scope.init();
    }]);
angular
    .module(APP_NAME)
    .controller('fabricLinkCtrl', ['$scope', 'linkService', '$translate', 'fabricInputService', 'spinnerOverlay', '$q', 'fabricService', '$timeout','$rootScope', function ($scope, linkService, $translate, fabricInputService, spinnerOverlay, $q, fabricService, $timeout,$rootScope) {
        /** Form variable for validatiom */
        $scope.form = {};
        /**Create scope variable(s) for fabric network settings */
        $scope.fabricnetworksettings = {};
        $scope.fabricnetworksettings.uplinksettings = {};
        $scope.fabricnetworksettings.linkSettingsInput = [];
        $scope.fabricnetworksettings.vltivlansInput = [];
        $scope.tiers = 1;//Single tier by default
        $scope.uplink = {};
        /** variables for showing and hiding edit feature in the tables*/
        $scope.editrouter = false;
        $scope.edituplink = false;
        $scope.editvltivlan = false;

        $scope.getFabricsUplinkProtocol = function () {
            spinnerOverlay.start();
            var deferred = $q.defer();
            linkService.getselectedFabricProtocol($rootScope.protocol.view).then(function (res, status, headers, config) {
                /*$scope.uplink.upLinkProtocol = res.data.upLinkProtocol;
                $scope.uplink.upLinkProtocolType = res.data.upLinkProtocolType;
                $scope.uplink.fabricLinkProtocol = res.data.fabricLinkProtocol;
                $scope.uplink.tiers = res.data.tiers;
                $scope.uplink.fabricType = res.data.fabricType;
                $scope.uplink.fabricLinkProtocolType = res.data.fabricLinkProtocolType;*/
                $scope.protocol = angular.copy(res.data);
                deferred.resolve($scope.protocol);
            }, function (data, status, header, config) {
                deferred.reject('failure');
            });
            return deferred.promise;
        }
        $scope.interlinkView = function () {
            $scope.getFabricsUplinkProtocol().then(function (data) {
                $scope.uplink = data;
                $scope.tiers = data.tiers;
                $scope.showAsnInc = false;
                var asnLogic = {
                    'eBGP': ['eBGP', 'OSPF']
                }
                angular.forEach(asnLogic, function (val, key) {
                    angular.forEach(val, function (v) {
                        if ($scope.uplink.fabricLinkProtocolType == key && $scope.uplink.upLinkProtocolType == v) {
                            $scope.showAsnInc = true;
                        }
                    })
                })
                $scope.getFabricLinkSettings();
                $scope.getvltivlanInfo();
            });
        }
        $scope.emptyValueForNumber = function (value) {
            return (typeof value !== 'undefined' && value > 0 && value !== null) ? value : undefined;
        }
        $scope.editUplinkSettings = function () {
            $scope.edituplink = true;
        };
        $scope.editVltilinkSettings = function () {
            $scope.editvltivlan = true;
        };
        $scope.$on('EditButtonClicked', function (event, data) {
            $scope.editUplinkSettings();
        });
        $scope.cancelUplinkSettings = function () {
            $scope.form.uplinksettings.$setPristine();
            $scope.getFabricLinkSettings();
            $scope.getvltivlanInfo();
        };
        $scope.getvltivlanInfo = function () {
            spinnerOverlay.start();
            $scope.editvltivlan = false;
            view = $rootScope.protocol.view
            linkService.getVltiInfoSettings(view)
                .then(function (res, status, headers, config) {
                    $scope.fabricnetworksettings.vltivlansInput = angular.copy(res.data.vlti_vlans)
                    
                    spinnerOverlay.stop();//stopping spinner
                }, function (data, status, header, config) {
                    spinnerOverlay.stop();//stopping spinner
                });
        }
        /** get FabricLink Details from server */        
        $scope.getFabricLinkSettings = function () {
            spinnerOverlay.start();
            /* set both router setting and link setting edit mode to false*/
            $scope.edituplink = false;
            $scope.editrouter = false;
            view = $rootScope.protocol.view
            linkService.getFabricNetworkSettings(view)
                .then(function (res, status, headers, config) {
                    /* angular.forEach(res.data.routerSettingsInput,function(value,index){
                       value.localASN=Number(value.localASN);
                       value.loopbackNetMask=Number(value.loopbackNetMask);
                      });*/
                    $scope.fabricnetworksettings.uplinksettings = angular.copy(res.data.l3fabricLinkProtocolInput);
                    //$scope.fabricnetworksettings.vltivlansInput = angular.copy(res.data.vlti_vlans)
                    if ($scope.uplink.fabricLinkProtocolType == 'OSPF') {
                        if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput && $scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput.ospfLinkSettingInputs.length > 0) {
                            /* angular.forEach($scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput.ospfLinkSettingInputs,function(value,index){
                                     value.networkIpNetMask=Number(value.networkIpNetMask);
                                     value.localIpNetMask=Number(value.localIpNetMask);
                                     value.remoteIpNetMask=Number(value.remoteIpNetMask);
                                     value.areaId=Number(value.areaId);
                                 });*/
                            $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput.ospfLinkSettingInputs);
                        }
                    }
                    else {
                        if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput && $scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput.bgpLinkSettingInputs.length > 0) {
                            /*  angular.forEach($scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput.bgpLinkSettingInputs,function(value,index){
                                  value.networkIpNetMask=Number(value.networkIpNetMask);
                                  value.localIpNetMask=Number(value.localIpNetMask);
                                  value.remoteIpNetMask=Number(value.remoteIpNetMask);
                                  value.localASN=Number(value.localASN);
                                  value.remoteASN=Number(value.remoteASN);
                              });*/
                            $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput.bgpLinkSettingInputs);
                        }
                    }
                    spinnerOverlay.stop();//stopping spinner
                }, function (data, status, header, config) {
                    spinnerOverlay.stop();//stopping spinner
                });
        }
        /** getFabricLinkSettings should be called when the Network settings Tabs is selected */
        $scope.$on('loadSettings', function (event, data) {
            $scope.uplink = data;
            $scope.tiers = data.tiers;
            $scope.getFabricLinkSettings();
            $scope.getvltivlanInfo();
        });
        /**Interface to update Router settings */
        $scope.updatevltiVlanSettings = function () {
            spinnerOverlay.start();
            $scope.form.uplinksettings.$setPristine();
            $scope.getFabricLinkSettings();
            var post_data = {};
            post_data.vlti_input={}
            post_data.vlti_input.vlti_vlans = $scope.fabricnetworksettings.vltivlansInput
            var toastertitle = 'Inter' + $translate.instant('fabricOutput.networksettings.fabricsettings.linksettings.title');
            linkService.updatevltiVlans(post_data,$rootScope.protocol.view)
                .then(function (res, status, headers, config) {
                    fabricService.storeData(res.data);
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('success', toastertitle, 'VLTi Vlan Details updated Successfully');
                    $scope.editvltivlan = false;               
            }, function (data, status, header, config) {
                spinnerOverlay.stop(); //stopping spinner
                fabricInputService.displayToaster('error', toastertitle, 'VLTi Vlan Details cannot be updated');
                linksArray = data.data.vlti_vlans
                angular.forEach(linksArray, function (vlti_vlans) {
                    angular.forEach(vlti_vlans.errors, function (error, index) {
                        var fieldName = error.param + "_" + vlti_vlans.id;
                        $scope.form.vlti_vlans[fieldName].$invalid = true;
                        $scope.form.vlti_vlans[fieldName].$dirty = true;
                        $scope.form.vlti_vlans[fieldName].$$attr.uibTooltip = error.message;
                        if (index == 0) {
                            var focusField = "[name=\"" + fieldName + "\"]";
                            $timeout(function () { $(focusField).focus(); });
                        }
                    });
                });
                $scope.editvltivlan = true
            });
        }

        $scope.cancelvltiVlanSettings = function ()
        {
            $scope.form.vlti_vlans.$setPristine();
            $scope.getvltivlanInfo();
            $scope.getFabricLinkSettings();
        }
        $scope.updateUplinkSettings = function () {
            spinnerOverlay.start();
            $scope.form.vlti_vlans.$setPristine();
            $scope.getvltivlanInfo();
            var post_data = {};
            if ($scope.uplink.fabricLinkProtocolType == 'OSPF')
                $scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput.ospfLinkSettingInputs = angular.copy($scope.fabricnetworksettings.linkSettingsInput);
            else
                $scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput.bgpLinkSettingInputs = angular.copy($scope.fabricnetworksettings.linkSettingsInput);
            post_data.l3fabricLinkProtocolInput = $scope.fabricnetworksettings.uplinksettings;
            var toastertitle = 'Inter' + $translate.instant('fabricOutput.networksettings.fabricsettings.linksettings.title');
            linkService.updateFabriclinkSettings(post_data,$rootScope.protocol.view)
                .then(function (res, status, headers, config) {
                    fabricService.storeData(res.data);
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('success', toastertitle, 'Fabric Interlink Details updated Successfully');
                    $scope.edituplink = false;
                }, function (data, status, header, config) {
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('error', toastertitle, 'Fabric Interlink Details cannot be updated');
                    $scope.edituplink = true;
                    if (data.data && (data.data["ospfLinkSettingInputs"] || data.data["bgpLinkSettingInputs"])) {
                        if ($scope.uplink.fabricLinkProtocolType == 'OSPF')
                            linksArray = angular.copy(data.data["ospfLinkSettingInputs"]);
                        else linksArray = angular.copy(data.data["bgpLinkSettingInputs"]);
                        angular.forEach(linksArray, function (uplinksettings) {
                            angular.forEach(uplinksettings.errors, function (error, index) {
                                var fieldName = error.param + "_" + uplinksettings.id;
                                $scope.form.uplinksettings[fieldName].$invalid = true;
                                $scope.form.uplinksettings[fieldName].$dirty = true;
                                $scope.form.uplinksettings[fieldName].$$attr.uibTooltip = error.message;
                                if (index == 0) {
                                    var focusField = "[name=\"" + fieldName + "\"]";
                                    $timeout(function () { $(focusField).focus(); });
                                }
                            });
                        });
                    }
                });
        }
        $scope.autoPopulate = function (type) {
            $scope.controller = "fabricLinkCtrl";
            $scope.template = "fabric/design/output/autoPopulateModal.html";
            $scope.type = "dismiss";
            var modalScope = fabricInputService.openModal($scope);
            modalScope.autopopulateForm = {};
            modalScope.type = type;
            //  modalScope.editrouter=$scope.editrouter;
            modalScope.uplink = $scope.uplink;
            modalScope.fabricnetworksettings = $scope.fabricnetworksettings;
            modalScope.autopopulateModel = {
                nwAddress: "",
                nwMask: '',
                asn: 64600,
                asnInc: 1,
                asn1: 64700,
                asnInc1: 1,
                remoteAsn: 1,
                remoteAsnInc: 1
            }
        }
        $scope.generateAutoCompleteUplinkSettings = function (form) {
            spinnerOverlay.start();
            var toastertitle = 'Inter' + $translate.instant('fabricOutput.networksettings.fabricsettings.linksettings.title');
            var posted_data = {};
            posted_data.l3LinkSettingAutoFillInput = {};
            posted_data.l3LinkSettingAutoFillInput.nwAddress = $scope.autopopulateModel.nwAddress;
            posted_data.l3LinkSettingAutoFillInput.netMask = $scope.autopopulateModel.nwMask;
            posted_data.l3LinkSettingAutoFillInput.remoteASN = $scope.autopopulateModel.remoteAsn;
            posted_data.l3LinkSettingAutoFillInput.remoteASNIncrement = $scope.autopopulateModel.remoteAsnInc;
            if ($scope.uplink.fabricLinkProtocolType == 'OSPF')
                $scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput.ospfLinkSettingInputs = angular.copy($scope.fabricnetworksettings.linkSettingsInput);
            else
                $scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput.bgpLinkSettingInputs = angular.copy($scope.fabricnetworksettings.linkSettingsInput);
            posted_data.l3fabricLinkProtocolInput = $scope.fabricnetworksettings.uplinksettings;
            linkService.updateAutoCompleteFabriclinkSettings(posted_data)
                .then(function (res, status, headers, config) {
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('success', toastertitle, 'AutoComplete - Fabric Interlink Details updated Successfully', 18);
                    if (res && (res.data)) {
                        $scope.fabricnetworksettings.uplinksettings = res.data;
                        if ($scope.uplink.fabricLinkProtocolType == 'OSPF') {
                            if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput && $scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput.ospfLinkSettingInputs.length > 0) {
                                angular.forEach($scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput.ospfLinkSettingInputs, function (value, index) {
                                    value.networkIpNetMask = Number(value.networkIpNetMask);
                                    value.localIpNetMask = Number(value.localIpNetMask);
                                    value.remoteIpNetMask = Number(value.remoteIpNetMask);
                                    value.areaId = Number(value.areaId);
                                });
                                $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.fabricLinkOSPFProtocolInput.ospfLinkSettingInputs);
                            }
                        }
                        else {
                            if ($scope.fabricnetworksettings.uplinksettings && $scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput && $scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput.bgpLinkSettingInputs.length > 0) {
                                angular.forEach($scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput.bgpLinkSettingInputs, function (value, index) {
                                    value.networkIpNetMask = Number(value.networkIpNetMask);
                                    value.localIpNetMask = Number(value.localIpNetMask);
                                    value.remoteIpNetMask = Number(value.remoteIpNetMask);
                                    value.localASN = Number(value.localASN);
                                    value.remoteASN = Number(value.remoteASN);
                                });
                                $scope.fabricnetworksettings.linkSettingsInput = angular.copy($scope.fabricnetworksettings.uplinksettings.fabricLinkBGPProtocolInput.bgpLinkSettingInputs);
                            }
                        }
                    }
                    $scope.modal.hide();
                }, function (res, status, header, config) {
                    spinnerOverlay.stop(); //stopping spinner
                    fabricInputService.displayToaster('error', toastertitle, 'AutoComplete - Fabric Interlink Details Settings cannot be updated', 18);
                    if (res.data.errors) {
                        angular.forEach(res.data.errors, function (error, index) {
                            var fieldName = '';
                            if (error.param) {
                                if (error.param == 'nwAddress') fieldName = 'nwAddress';
                                if (error.param == 'netMask') fieldName = 'nwmask';
                                if (error.param == 'remoteASN') fieldName = 'remoteAsn';
                                if (error.param == 'remoteASNIncrement') fieldName = 'remoteAsnInc';
                            }
                            form[fieldName].$invalid = true;
                            form[fieldName].$dirty = true;
                            form[fieldName].$$attr.uibTooltip = error.message;
                            if (index == 0) {
                                var focusField = "[name=\"" + fieldName + "\"]";
                                $timeout(function () { $(focusField).focus(); });
                            }
                        });
                    }
                });
        }

    }]);

angular.module('FDC')
  .directive('panelButton',['$compile','$timeout','$templateCache', function ($compile,
                                    $timeout,
                                    $templateCache) {
    return {
	/*	template: function() {
		var retcache= $templateCache.get('panelbutton.template.html');
        var retcache1="abc";
        console.log(retcache);
        return retcache;
		},*/
     // template : "<h1>Made by a directive!</h1>",
     templateUrl: 'fabric/design/output/panelbutton.template.html',
      restrict: 'E',
      transclude: true,
      scope: {
        options: '='
      }
      
    };
  }]);
'use strict';
angular.module('FDC')
	.directive("leafRack", ['$timeout', '$rootScope', function ($timeout, $rootScope) {
		function link(scope, elem, attr) {
			//scope.property = scope.options;
			scope.showProperty = scope.$parent.$parent.$parent.$parent.setActiveProperty;
			
			scope.$parent.$parent.$parent.$parent.$watch('activeProperty', function(oldVal, newVal) {
				scope.property = scope.$parent.$parent.$parent.$parent.activeProperty;
			})
		}

		return {
			templateUrl: 'fabric/design/output/rack.template.html',
			restrict: 'E',
			scope: {
				options: '=',
				select: '='
			},
			link: link
		};
	}]);


'use strict';
angular.module('FDC').directive('spineRack', ['$timeout', function ($timeout) {
	function link(scope, elem, attr) {
	}
	return {
		templateUrl: 'fabric/design/output/spinerack.template.html',
		restrict: 'E',
		scope: {
			options: '='
		},
		link: link
};
}]);
'use strict';
angular.module('FDC')
    .directive("logicalfabricview", ['$timeout', '$rootScope','logicalrackservice', function ($timeout, $rootScope,logicalrackservice) {
		/*function link(scope, elem, attr) {
			//scope.property = scope.options;
			scope.showProperty = scope.$parent.$parent.$parent.$parent.setActiveProperty;
			
			scope.$parent.$parent.$parent.$parent.$watch('activeProperty', function(oldVal, newVal) {
				scope.property = scope.$parent.$parent.$parent.$parent.activeProperty;
			})
		}*/
		function link(scope){
               scope.setProperty=function(inputObj,selectedtype,rackId,clusterId){
				   logicalrackservice.setActiveProperty(inputObj,selectedtype,rackId,clusterId);
			   }
			   scope.getProperty=function(){
                  return logicalrackservice.getActiveType();
			   }
		}
		return {
			templateUrl: 'fabric/design/output/logicalview/logicalbox.template.html',
			restrict: 'E',
			link:link ,
			scope: {
				options: '=',
				init: '&',
				slides:'='
			}
		};
	}])
	.directive("rack", ['$timeout', '$rootScope','logicalrackservice', function ($timeout, $rootScope,logicalrackservice) {
		/*function link(scope, elem, attr) {
			//scope.property = scope.options;
			scope.showProperty = scope.$parent.$parent.$parent.$parent.setActiveProperty;
			
			scope.$parent.$parent.$parent.$parent.$watch('activeProperty', function(oldVal, newVal) {
				scope.property = scope.$parent.$parent.$parent.$parent.activeProperty;
			})
		}*/
		function link(scope){
               scope.setProperty=function(inputObj,selectedtype,rackId,clusterId){
				   logicalrackservice.setActiveProperty(inputObj,selectedtype,rackId,clusterId);
			   }
			   scope.getProperty=function(){
                  return logicalrackservice.getActiveProperty();
			   }
		}
		return {
			templateUrl: 'fabric/design/output/logicalview/rack.template.html',
			restrict: 'E',
			link:link ,
			scope: {
				options: '=',
				select: '='
			}
		};
	}]).directive("nodeRack", ['$timeout', '$rootScope','logicalrackservice', function ($timeout, $rootScope,logicalrackservice) {
		function link(scope){
               scope.setProperty=function(inputObj,selectedtype,rackId,clusterId){
				   logicalrackservice.setActiveProperty(inputObj,selectedtype,rackId,clusterId);
			   }
			   scope.getProperty=function(){
                  return logicalrackservice.getActiveProperty();
			   }
		}
		return {
			templateUrl: 'fabric/design/output/logicalview/noderack.template.html',
			restrict: 'E',
			link: link,
			scope: {
				options: '=',
				select: '='
			},
		};
	}])
	.directive("spineRack",['$timeout', '$rootScope','logicalrackservice', function ($timeout, $rootScope,logicalrackservice) {
		function link(scope){
               scope.setProperty=function(inputObj,selectedtype,rackId,clusterId){
				   logicalrackservice.setActiveProperty(inputObj,selectedtype,rackId,clusterId);
			   }
			   scope.getProperty=function(){
                  return logicalrackservice.getActiveProperty();
			   }
		}
		return {
			templateUrl: 'fabric/design/output/logicalview/spinerack.template.html',
			restrict: 'E',
			link: link,
			scope: {
				options: '=',
				select: '='
			},
		};
	}])
	.directive("fabricRack", ['$timeout', '$rootScope','logicalrackservice', function ($timeout, $rootScope,logicalrackservice) {
		function link(scope){
               scope.setProperty=function(inputObj,selectedtype,rackId,clusterId){
				   logicalrackservice.setActiveProperty(inputObj,selectedtype,rackId,clusterId);
			   }
			   scope.getProperty=function(){
                  return logicalrackservice.getActiveProperty();
			   }
		}
		return {
			templateUrl: 'fabric/design/output/logicalview/fabricrack.template.html',
			restrict: 'E',
			link: link,
		//	controller: 'logicalViewCtrl as rc',
			scope: {
				options: '=',
				select: '='
			},
		};
	}]).directive("container", ['$timeout', '$rootScope','logicalrackservice', function ($timeout, $rootScope,logicalrackservice) {
		function link(scope){
               scope.setProperty=function(inputObj,selectedtype,rackId,clusterId){
				   logicalrackservice.setActiveProperty(inputObj,selectedtype,rackId,clusterId);
			   }
			   scope.getProperty=function(){
                  return logicalrackservice.getActiveProperty();
			   }
		}
		//clustercontroller.$inject = ["$scope"];
		return {
			templateUrl: 'fabric/design/output/logicalview/container.template.html',
			restrict: 'E',
			link: link,
			scope: {
				options: '=',
				select: '='
			},
		};
	}])
	.directive("fabricItem", ['$timeout', '$rootScope','logicalrackservice', function ($timeout, $rootScope,logicalrackservice) {
		return {
			templateUrl: 'fabric/design/output/logicalview/carouselItem.template.html',
			restrict: 'E',
			scope: {
				item: '=',
			},
		};
	}]);
'use strict';
angular.module('FDC')
	.directive("pod", ['$timeout', '$rootScope','logicalrackservice', function ($timeout, $rootScope,logicalrackservice) {
	function link(scope){
               scope.setProperty=function(inputObj,selectedtype,rackId,clusterId){
				   logicalrackservice.setActiveProperty(inputObj,selectedtype,rackId,clusterId);
			   }
			   scope.getProperty=function(){
                  return logicalrackservice.getActiveProperty();
			   }
		}
		return {
			templateUrl: 'fabric/design/output/logicalview/pod.template.html',
			restrict: 'E',
			link:link ,
			scope: {
				options: '=',
				select: '='
			}
		};
	}])
angular
    .module(APP_NAME)
    .controller('rackClusterWarninigCtrl', ['$scope', '$rootScope',
        function ($scope, $rootScope) {
            $rootScope.$on('rackCluster', function(evt, data){
                $scope.rackClusterModel = {}
                $scope.rackClusterModel.obj = angular.copy(data.data);
            })
            
            $scope.sendWorkLoadData = function () {
                $scope.$close($scope.rackClusterModel.obj);
            }
        }]);

angular.module('FDC')
  .directive( "contextMenu",['$compile','$document', function($compile,$document){
    contextMenu = {};
    contextMenu.restrict = "AE";
    contextMenu.scope={
        menuoptions:"="
    };
  //  contextMenu.templateUrl= 'fabric/design/output/contextmenu.template.html';
   /* contextMenu.controller=function(cScope){
        console.log(cScope);
        //Set option defaults
             var defaultMenuItem = {
                    label: '',
                    action: function () {
                    },
                    separator: false,
                    disabled: false
                };
               angular.forEach(cScope.menuoptions, function (item, index) {
                    cScope.menuoptions[index] = angular.extend( defaultMenuItem, item);
                });             

                //Create menu items
                var contextMenuItems = {};
                 angular.forEach(cScope.menuoptions, function (item, index) {
                    contextMenuItems["item" + index] = (item.separator) ? "-" : { name: item.label, callback: item.action, disabled: item.disabled, className: item.className };
                });
                console.log(contextMenuItems);
    };*/
    contextMenu.link = function( lScope, lElem, lAttr ){
             var defaultMenuItem = {
                    label: '',
                  //  action: function () {
                  //  },
                    separator: false,
                    disabled: false
                };
               angular.forEach(lScope.menuoptions, function (item, index) {
                   //console.log(item);
                   //console.log(index);
                    lScope.menuoptions[index] = angular.extend({},angular.extend(defaultMenuItem,item));
                    //console.log(lScope.menuoptions[index]);
                });    
                lScope.callAlert=function(){
                   alert("jjjjjj");
                };
                lScope.isVisible=true;         
                // console.log(lScope.menuoptions.length);
                //Create menu items
                var contextMenuItems = [];
                 angular.forEach(lScope.menuoptions, function (item, index) {
                    contextMenuItems[index] = (item.separator) ? "-" : { name: item.label, callback: item.action, disabled: item.disabled, className: item.className };
                });
                //console.log(contextMenuItems.length);
                lScope.contextMenuItems=contextMenuItems;
                var node="<ul id='contextmenu-node' ng-show='isVisible'><li class='contextmenu-item' ng-repeat='value in contextMenuItems'><a ng-click='callAlert()'>{{value.name}}</a></li></ul>"
               var compiledMenu=$compile(node)(lScope);
                 compiledMenu.css("position",'absolute');    
                compiledMenu.css("left", 50);
                compiledMenu.css("top",50);
                lElem.append(compiledMenu);
           // var compiledMenu=angular.element(compiled_menu);
           // console.log(compiledMenu);

             
            lElem.on("contextmenu", function (e) {
            e.preventDefault(); // default context menu is disabled
            //  The customized context menu is defined in the main controller. To function the ng-click functions the, contextmenu HTML should be compiled.
            
            // The location of the context menu is defined on the click position and the click position is catched by the right click event.
              //console.log(compiledMenu);  
             // lScope.isVisible=true; 
            //  $compile(node)(lScope);
             compiledMenu.removeClass("ng-hide");
            compiledMenu.addClass("ng-show");
            
        });
    lElem.on("dblclick", function(e){
            //console.log("Leaved the div");
            compiledMenu.removeClass("ng-show");
            compiledMenu.addClass("ng-hide");
           // lScope.isVisible=false;
          //  $compile(node)(lScope);
            // on mouse leave, the context menu is removed.
          /*  if(compiledMenu )
                compiledMenu.remove();*/
        });
          $document.on("dblclick", function(e){
            //console.log("Leaved the div");
            compiledMenu.removeClass("ng-show");
            compiledMenu.addClass("ng-hide");
           // lScope.isVisible=false;
          //  $compile(node)(lScope);
            // on mouse leave, the context menu is removed.
          /*  if(compiledMenu )
                compiledMenu.remove();*/
        });
         /* $document.on("contextmenu", function(e){
            console.log("Leaved the div");
            compiledMenu.removeClass("ng-show");
            compiledMenu.addClass("ng-hide");
           // lScope.isVisible=false;
          //  $compile(node)(lScope);
            // on mouse leave, the context menu is removed.
          /*  if(compiledMenu )
                compiledMenu.remove();*/
      //  });*/
    };
    return contextMenu;
}]);
angular
    .module(APP_NAME)
    .controller('importCtrl', ['$scope', '$location', 'FileUploader', 'dlcuiConfirmDialog' , 'fabricService', '$state', '$http', '$cookies', 'toaster', '$translate', '$rootScope','FileSaver','Blob', 'spinnerOverlay','fabricInputService', function ($scope, $location, FileUploader, dlcuiConfirmDialog, fabricService, $state, $http, $cookies, toaster, $translate, $rootScope, FileSaver, Blob, spinnerOverlay,fabricInputService) {

        /*var alertDialog = dlcuiConfirmDialog({
			title: $translate.instant('general.confirm'),
			message: $translate.instant('general.fabricConfirm')
		});

		if(fabricService.getData()){
			alertDialog().then(function () {
					$scope.exportFabric();			
				},function(){
					fabricService.removeData();
				});
		}*/
        $scope.items = fabricService.getFabricConfig();      
        $('[name="importFile"]').focus();	  
         $scope.exportFabric = function() {
            fabricService.fabricName().then(function(response) {
            if(response && response.fabricname){
                var exportFileName = 'FDC-'+response.fabricname+'.json';			
                var fabricdata = fabricService.getData();
                fabricService.getFabricDataAsJson(fabricdata).then(function(response){
                    var jsonstring=JSON.stringify(response.lzfabricdata);
                    //var dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(data);
                    var blob_data = new Blob([jsonstring], { type: 'data:application/json;charset=utf-8'});
                    FileSaver.saveAs(blob_data, exportFileName);
                });
            }
			});
			
		}

        var uploader = $scope.uploader = new FileUploader({
            url: "rest/design/importFabric/",
            queueLimit: 1,
            removeAfterUpload: true,
            headers: {
                'AcceptMethod' : 'write',
                'Accept':'application/lz-json'
            }
        });

        FileUploader.FileSelect.prototype.isEmptyAfterSelection = function () {
            return true;
        };
        $scope.popError = function () {
            toaster.pop({
                type: 'error',
                title: $translate.instant('general.uploadErrorTitle'),
                body: $translate.instant('general.uploadError'),
                showCloseButton: true
            });
        };

        $scope.popSuccess = function () {
            toaster.pop({
                type: 'success',
                title: $translate.instant('general.uploadSuccessTitle'),
                body: $translate.instant('general.uploadSuccess'),
                showCloseButton: true
            });
        }
        // FILTERS

        uploader.filters.push({
            name: 'customFilter',
            fn: function (item /*{File|FileLikeObject}*/, options) {
                return this.queue.length < 10;
            }
        });

        $scope.uploadFile = function (file) {
            spinnerOverlay.start();
            file.upload();
        }

        $scope.removeFile = function (file) {
            file.remove();

        }

        // CALLBACKS
        uploader.onWhenAddingFileFailed = function (item, filter, options) {
            if (filter.name == "queueLimit") {
                uploader.clearQueue();
                uploader.addToQueue(item);
            }
        }
        uploader.onAfterAddingFile = function (fileItem) {
            //uploader.fileAdded = true;
            fileItem.file.name
            // console.info('onAfterAddingFile', fileItem);
        };

        uploader.onSuccessItem = function (fileItem, response, status, headers) {
            //console.info('onSuccessItem', fileItem, response, status, headers);
        };
        uploader.onErrorItem = function (fileItem, response, status, headers) {
            // console.info('onErrorItem', fileItem, response, status, headers);
        };
        uploader.onCompleteItem = function (fileItem, response, status, headers) {
            if (status != 200) {
                $scope.popError();
                fabricInputService.displayToaster('error', response.detail, 'Could not import Fabric');
               spinnerOverlay.stop();
            } else {
                $scope.popSuccess();
                if(response){
                    fabricService.removeFabricId();
                     fabricService.storeData(response);
                     $rootScope.supported_tabs = undefined                 
                     $http.post("/rest/design/getDeploymentType/",response).then(function (res) {
                        deploymentType = res.data;
                        fabricService.storeDeploymentType(deploymentType);
                    });

                    $http.post("/rest/design/getDesignType/",response).then(function (res) {
                        designType = res.data;
                        if(designType=="Turnkey-Backend" || designType=="NVMe-Backend")
                        {
                            angular.forEach($scope.items, function (item, index) {
                                if (item.data) {
                                    angular.forEach(item.data, function (fabItem, index) {
                                        if ((fabItem && fabItem.fabricInputs) && fabItem.fabricInputs.type == "ISILON_BACKEND_STORAGE") {
                                            dataItems = fabItem.fabricInputs;
                                            $rootScope.supported_tabs = dataItems.supported_tabs
                                        }
                                    });
                                }
                            });
                        }
                        fabricService.storeDesignType(designType);
                    });
                    $http.post("/rest/design/getIrbType/",response).then(function (res) {
                        IrbType = res.data;
                        fabricService.storeIRBType(IrbType);
                    });
                    
                //getDesignType rest call
                $state.go('fabricOutput');
                spinnerOverlay.stop();
                }
            }

        };
        //console.info('uploader', uploader);

    }]);

angular
    .module(APP_NAME)
    .controller('importPSCtrl', ['$scope', '$location', 'FileUploader', 'dlcuiConfirmDialog' , 'fabricService', '$state', '$http', '$cookies', 'toaster', '$translate', '$rootScope','FileSaver','Blob', 'spinnerOverlay','fabricInputService', function ($scope, $location, FileUploader, dlcuiConfirmDialog, fabricService, $state, $http, $cookies, toaster, $translate, $rootScope, FileSaver, Blob, spinnerOverlay,fabricInputService) {

        /*var alertDialog = dlcuiConfirmDialog({
			title: $translate.instant('general.confirm'),
			message: $translate.instant('general.fabricConfirm')
		});

		if(fabricService.getData()){
			alertDialog().then(function () {
					$scope.exportFabric();			
				},function(){
					fabricService.removeData();
				});
		}*/
        $scope.items = fabricService.getFabricConfig();      
        $('[name="importFile"]').focus();	  
         $scope.exportFabric = function() {
            fabricService.fabricName().then(function(response) {
            if(response && response.fabricname){
                var exportFileName = 'FDC-'+response.fabricname+'.json';			
                var fabricdata = fabricService.getData();
                fabricService.getFabricDataAsJson(fabricdata).then(function(response){
                    var jsonstring=JSON.stringify(response.lzfabricdata);
                    //var dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(data);
                    var blob_data = new Blob([jsonstring], { type: 'data:application/json;charset=utf-8'});
                    FileSaver.saveAs(blob_data, exportFileName);
                });
            }
			});
			
		}

        var uploader = $scope.uploader = new FileUploader({
            url: "rest/design/ps_to_fdc/",
            queueLimit: 1,
            removeAfterUpload: true,
            headers: {
                'AcceptMethod' : 'write',
                'Accept':'application/lz-json'
            }
        });

        FileUploader.FileSelect.prototype.isEmptyAfterSelection = function () {
            return true;
        };
        $scope.popError = function () {
            toaster.pop({
                type: 'error',
                title: $translate.instant('general.uploadErrorTitle'),
                body: $translate.instant('general.uploadError'),
                showCloseButton: true
            });
        };

        $scope.popSuccess = function () {
            toaster.pop({
                type: 'success',
                title: $translate.instant('general.uploadSuccessTitle'),
                body: $translate.instant('general.uploadSuccess'),
                showCloseButton: true
            });
        }
        // FILTERS

        uploader.filters.push({
            name: 'customFilter',
            fn: function (item /*{File|FileLikeObject}*/, options) {
                return this.queue.length < 10;
            }
        });

        $scope.uploadFile = function (file) {
            spinnerOverlay.start();
            file.upload();
        }

        $scope.removeFile = function (file) {
            file.remove();

        }

        // CALLBACKS
        uploader.onWhenAddingFileFailed = function (item, filter, options) {
            if (filter.name == "queueLimit") {
                uploader.clearQueue();
                uploader.addToQueue(item);
            }
        }
        uploader.onAfterAddingFile = function (fileItem) {
            //uploader.fileAdded = true;
            fileItem.file.name
            // console.info('onAfterAddingFile', fileItem);
        };

        uploader.onSuccessItem = function (fileItem, response, status, headers) {
            //console.info('onSuccessItem', fileItem, response, status, headers);
        };
        uploader.onErrorItem = function (fileItem, response, status, headers) {
            // console.info('onErrorItem', fileItem, response, status, headers);
        };
        uploader.onCompleteItem = function (fileItem, response, status, headers) {
            if (status != 200) {
                $scope.popError();
                fabricInputService.displayToaster('error', response.detail, 'Could not import Fabric');
               spinnerOverlay.stop();
            } else {
                $scope.popSuccess();
                if(response){
                    fabricService.removeFabricId();
                     fabricService.storeData(response);
                     $rootScope.supported_tabs = undefined                 
                     $http.post("/rest/design/getDeploymentType/",response).then(function (res) {
                        deploymentType = res.data;
                        fabricService.storeDeploymentType(deploymentType);
                    });

                    $http.post("/rest/design/getDesignType/",response).then(function (res) {
                        designType = res.data;
                        if(designType=="Turnkey-Backend" || designType=="NVMe-Backend")
                        {
                            angular.forEach($scope.items, function (item, index) {
                                if (item.data) {
                                    angular.forEach(item.data, function (fabItem, index) {
                                        if ((fabItem && fabItem.fabricInputs) && fabItem.fabricInputs.type == "ISILON_BACKEND_STORAGE") {
                                            dataItems = fabItem.fabricInputs;
                                            $rootScope.supported_tabs = dataItems.supported_tabs
                                        }
                                    });
                                }
                            });
                        }
                        fabricService.storeDesignType(designType);
                    });
                    $http.post("/rest/design/getIrbType/",response).then(function (res) {
                        IrbType = res.data;
                        fabricService.storeIRBType(IrbType);
                    });
                    
                //getDesignType rest call
                $state.go('fabricOutput');
                spinnerOverlay.stop();
                }
            }

        };
        //console.info('uploader', uploader);

    }]);

angular
    .module(APP_NAME)
    .controller('configConversionCtrl', ['$scope', 'FileUploader', 'fabricService', 'fabricInputService', 'FileSaver', 'Blob', 'spinnerOverlay', '$http', 'dlcuiAlertDialog',
        function ($scope, FileUploader, fabricService, fabricInputService, FileSaver, Blob, spinnerOverlay, $http, dlcuiAlertDialog) {

            $scope.saveConfig = function (config) {
                spinnerOverlay.start();
                var exportFileName = "config.cfg";
                var blob_data = new Blob([config], { type: 'application/json;charset=utf-8' });
                FileSaver.saveAs(blob_data, exportFileName);
                spinnerOverlay.stop();

            }
            $('[name="convertFile"]').focus();
            $scope.downloadAllConfig = function () {
                spinnerOverlay.start();
                var config = {
                    headers: {
                        'Content-Type': 'application/json'
                    },

                },
                    data = {
                        config_conversions: $scope.allConfig
                    };
                $http.post('rest/build/download_os10_config/', data, { responseType: 'arraybuffer' }, config)
                    .then(function (allswitchconfigs, status, headers, config) {
                        var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
                            FileSaver.saveAs(blob_data, 'OS10Configs.zip');
                            fabricInputService.displayToaster('success', 'Switch Configuration', 'Downloaded successfully');
                            spinnerOverlay.stop();
                    }, function (configerror, status, header, config) {
                        //console.log(configerror);
                        fabricInputService.displayToaster('error', 'Switch Configuration', 'Unable to download');
                        spinnerOverlay.stop();
                    });
            }

            $scope.oneAtATime = true;

            var uploader = $scope.uploader = new FileUploader({
                url: "rest/build/get_os10_config/",
                queueLimit: 1,
                removeAfterUpload: true,
                headers: {
                    'AcceptMethod': 'write',
                    'Accept': 'application/json'
                }
            });

            FileUploader.FileSelect.prototype.isEmptyAfterSelection = function () {
                return true;
            };
            // FILTERS

            uploader.filters.push({
                name: 'customFilter',
                fn: function (item /*{File|FileLikeObject}*/, options) {
                    return this.queue.length < 10;
                }
            });

            $scope.uploadFile = function (file) {
                spinnerOverlay.start();
                file.upload();
            }

            $scope.removeFile = function (file) {
                file.remove();

            }

            // CALLBACKS
            uploader.onWhenAddingFileFailed = function (item, filter, options) {
                if (filter.name == "queueLimit") {
                    uploader.clearQueue();
                    uploader.addToQueue(item);
                }
            }
            uploader.onAfterAddingFile = function (fileItem) {
                //uploader.fileAdded = true;
                fileItem.file.name
                // console.info('onAfterAddingFile', fileItem);
            };

            uploader.onSuccessItem = function (fileItem, response, status, headers) {
                //console.info('onSuccessItem', fileItem, response, status, headers);
            };
            uploader.onErrorItem = function (fileItem, response, status, headers) {
                // console.info('onErrorItem', fileItem, response, status, headers);
            };
            uploader.onCompleteItem = function (fileItem, response, status, headers) {
                console.log(response);
                var alertDialog = dlcuiAlertDialog({
                    message: "Error occured due to one of the following reasons: Fabric Design Center found <ul><li><strong>Timeout</strong> error. If timeout, you will get converted configs to your email.</li><li>In case if you do not receive converted config in email, you are requested to email your OS9 configuration file to <a href='mailto:fdc-feedback@dell.com'>fdc-feedback@dell.com</a>. We will fix in upcoming release/patch. </li></ul>"
                });
                if (status != 200) {
                    fabricInputService.displayToaster('error', 'Error', response.detail);
                    if (response.detail!="Stacked switch configurations are not supported in OS10"){
                    alertDialog().then(function () {
                    });
                }
                    spinnerOverlay.stop();
                } else {
                    if (response)
                        fabricService.storeData(response);

                    $scope.allConfig = angular.copy(response.config_conversions);
                    $scope.allConfig[0].isOpen = true;
                    spinnerOverlay.stop();
                }

            };

        }]);

/***
This is part of jsdifflib v1.0. <http://snowtide.com/jsdifflib>
Copyright (c) 2007, Snowtide Informatics Systems, Inc.
All rights reserved.
Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:
	* Redistributions of source code must retain the above copyright notice, this
		list of conditions and the following disclaimer.
	* Redistributions in binary form must reproduce the above copyright notice,
		this list of conditions and the following disclaimer in the documentation
		and/or other materials provided with the distribution.
	* Neither the name of the Snowtide Informatics Systems nor the names of its
		contributors may be used to endorse or promote products derived from this
		software without specific prior written permission.
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
***/
/* Author: Chas Emerick <cemerick@snowtide.com> */
angular
	.module(APP_NAME)
	.factory('difflib', [function () {
		var __whitespace = { " ": true, "\t": true, "\n": true, "\f": true, "\r": true };

		var difflib = {
			defaultJunkFunction: function (c) {
				return __whitespace.hasOwnProperty(c);
			},

			stripLinebreaks: function (str) { return str.replace(/^[\n\r]*|[\n\r]*$/g, ""); },

			stringAsLines: function (str) {
				var lfpos = str.indexOf("\n");
				var crpos = str.indexOf("\r");
				var linebreak = ((lfpos > -1 && crpos > -1) || crpos < 0) ? "!\n" : "!\r";

				var lines = str.split(linebreak);
				for (var i = 0; i < lines.length; i++) {
					lines[i] = difflib.stripLinebreaks(lines[i]);
				}

				return lines;
			},

			// iteration-based reduce implementation
			__reduce: function (func, list, initial) {
				if (initial != null) {
					var value = initial;
					var idx = 0;
				} else if (list) {
					var value = list[0];
					var idx = 1;
				} else {
					return null;
				}

				for (; idx < list.length; idx++) {
					value = func(value, list[idx]);
				}

				return value;
			},

			// comparison function for sorting lists of numeric tuples
			__ntuplecomp: function (a, b) {
				var mlen = Math.max(a.length, b.length);
				for (var i = 0; i < mlen; i++) {
					if (a[i] < b[i]) return -1;
					if (a[i] > b[i]) return 1;
				}

				return a.length == b.length ? 0 : (a.length < b.length ? -1 : 1);
			},

			__calculate_ratio: function (matches, length) {
				return length ? 2.0 * matches / length : 1.0;
			},

			// returns a function that returns true if a key passed to the returned function
			// is in the dict (js object) provided to this function; replaces being able to
			// carry around dict.has_key in python...
			__isindict: function (dict) {
				return function (key) { return dict.hasOwnProperty(key); };
			},

			// replacement for python's dict.get function -- need easy default values
			__dictget: function (dict, key, defaultValue) {
				return dict.hasOwnProperty(key) ? dict[key] : defaultValue;
			},

			SequenceMatcher: function (a, b, isjunk) {
				this.set_seqs = function (a, b) {
					this.set_seq1(a);
					this.set_seq2(b);
				}

				this.set_seq1 = function (a) {
					if (a == this.a) return;
					this.a = a;
					this.matching_blocks = this.opcodes = null;
				}

				this.set_seq2 = function (b) {
					if (b == this.b) return;
					this.b = b;
					this.matching_blocks = this.opcodes = this.fullbcount = null;
					this.__chain_b();
				}

				this.__chain_b = function () {
					var b = this.b;
					var n = b.length;
					var b2j = this.b2j = {};
					var populardict = {};
					for (var i = 0; i < b.length; i++) {
						var elt = b[i];
						if (b2j.hasOwnProperty(elt)) {
							var indices = b2j[elt];
							if (n >= 200 && indices.length * 100 > n) {
								populardict[elt] = 1;
								delete b2j[elt];
							} else {
								indices.push(i);
							}
						} else {
							b2j[elt] = [i];
						}
					}

					for (var elt in populardict) {
						if (populardict.hasOwnProperty(elt)) {
							delete b2j[elt];
						}
					}

					var isjunk = this.isjunk;
					var junkdict = {};
					if (isjunk) {
						for (var elt in populardict) {
							if (populardict.hasOwnProperty(elt) && isjunk(elt)) {
								junkdict[elt] = 1;
								delete populardict[elt];
							}
						}
						for (var elt in b2j) {
							if (b2j.hasOwnProperty(elt) && isjunk(elt)) {
								junkdict[elt] = 1;
								delete b2j[elt];
							}
						}
					}

					this.isbjunk = difflib.__isindict(junkdict);
					this.isbpopular = difflib.__isindict(populardict);
				}

				this.find_longest_match = function (alo, ahi, blo, bhi) {
					var a = this.a;
					var b = this.b;
					var b2j = this.b2j;
					var isbjunk = this.isbjunk;
					var besti = alo;
					var bestj = blo;
					var bestsize = 0;
					var j = null;
					var k;

					var j2len = {};
					var nothing = [];
					for (var i = alo; i < ahi; i++) {
						var newj2len = {};
						var jdict = difflib.__dictget(b2j, a[i], nothing);
						for (var jkey in jdict) {
							if (jdict.hasOwnProperty(jkey)) {
								j = jdict[jkey];
								if (j < blo) continue;
								if (j >= bhi) break;
								newj2len[j] = k = difflib.__dictget(j2len, j - 1, 0) + 1;
								if (k > bestsize) {
									besti = i - k + 1;
									bestj = j - k + 1;
									bestsize = k;
								}
							}
						}
						j2len = newj2len;
					}

					while (besti > alo && bestj > blo && !isbjunk(b[bestj - 1]) && a[besti - 1] == b[bestj - 1]) {
						besti--;
						bestj--;
						bestsize++;
					}

					while (besti + bestsize < ahi && bestj + bestsize < bhi &&
						!isbjunk(b[bestj + bestsize]) &&
						a[besti + bestsize] == b[bestj + bestsize]) {
						bestsize++;
					}

					while (besti > alo && bestj > blo && isbjunk(b[bestj - 1]) && a[besti - 1] == b[bestj - 1]) {
						besti--;
						bestj--;
						bestsize++;
					}

					while (besti + bestsize < ahi && bestj + bestsize < bhi && isbjunk(b[bestj + bestsize]) &&
						a[besti + bestsize] == b[bestj + bestsize]) {
						bestsize++;
					}

					return [besti, bestj, bestsize];
				}

				this.get_matching_blocks = function () {
					if (this.matching_blocks != null) return this.matching_blocks;
					var la = this.a.length;
					var lb = this.b.length;

					var queue = [[0, la, 0, lb]];
					var matching_blocks = [];
					var alo, ahi, blo, bhi, qi, i, j, k, x;
					while (queue.length) {
						qi = queue.pop();
						alo = qi[0];
						ahi = qi[1];
						blo = qi[2];
						bhi = qi[3];
						x = this.find_longest_match(alo, ahi, blo, bhi);
						i = x[0];
						j = x[1];
						k = x[2];

						if (k) {
							matching_blocks.push(x);
							if (alo < i && blo < j)
								queue.push([alo, i, blo, j]);
							if (i + k < ahi && j + k < bhi)
								queue.push([i + k, ahi, j + k, bhi]);
						}
					}

					matching_blocks.sort(difflib.__ntuplecomp);

					var i1 = 0, j1 = 0, k1 = 0, block = 0;
					var i2, j2, k2;
					var non_adjacent = [];
					for (var idx in matching_blocks) {
						if (matching_blocks.hasOwnProperty(idx)) {
							block = matching_blocks[idx];
							i2 = block[0];
							j2 = block[1];
							k2 = block[2];
							if (i1 + k1 == i2 && j1 + k1 == j2) {
								k1 += k2;
							} else {
								if (k1) non_adjacent.push([i1, j1, k1]);
								i1 = i2;
								j1 = j2;
								k1 = k2;
							}
						}
					}

					if (k1) non_adjacent.push([i1, j1, k1]);

					non_adjacent.push([la, lb, 0]);
					this.matching_blocks = non_adjacent;
					return this.matching_blocks;
				}

				this.get_opcodes = function () {
					if (this.opcodes != null) return this.opcodes;
					var i = 0;
					var j = 0;
					var answer = [];
					this.opcodes = answer;
					var block, ai, bj, size, tag;
					var blocks = this.get_matching_blocks();
					for (var idx in blocks) {
						if (blocks.hasOwnProperty(idx)) {
							block = blocks[idx];
							ai = block[0];
							bj = block[1];
							size = block[2];
							tag = '';
							if (i < ai && j < bj) {
								tag = 'replace';
							} else if (i < ai) {
								tag = 'delete';
							} else if (j < bj) {
								tag = 'insert';
							}
							if (tag) answer.push([tag, i, ai, j, bj]);
							i = ai + size;
							j = bj + size;

							if (size) answer.push(['equal', ai, i, bj, j]);
						}
					}

					return answer;
				}

				// this is a generator function in the python lib, which of course is not supported in javascript
				// the reimplementation builds up the grouped opcodes into a list in their entirety and returns that.
				this.get_grouped_opcodes = function (n) {
					if (!n) n = 3;
					var codes = this.get_opcodes();
					if (!codes) codes = [["equal", 0, 1, 0, 1]];
					var code, tag, i1, i2, j1, j2;
					if (codes[0][0] == 'equal') {
						code = codes[0];
						tag = code[0];
						i1 = code[1];
						i2 = code[2];
						j1 = code[3];
						j2 = code[4];
						codes[0] = [tag, Math.max(i1, i2 - n), i2, Math.max(j1, j2 - n), j2];
					}
					if (codes[codes.length - 1][0] == 'equal') {
						code = codes[codes.length - 1];
						tag = code[0];
						i1 = code[1];
						i2 = code[2];
						j1 = code[3];
						j2 = code[4];
						codes[codes.length - 1] = [tag, i1, Math.min(i2, i1 + n), j1, Math.min(j2, j1 + n)];
					}

					var nn = n + n;
					var group = [];
					var groups = [];
					for (var idx in codes) {
						if (codes.hasOwnProperty(idx)) {
							code = codes[idx];
							tag = code[0];
							i1 = code[1];
							i2 = code[2];
							j1 = code[3];
							j2 = code[4];
							if (tag == 'equal' && i2 - i1 > nn) {
								group.push([tag, i1, Math.min(i2, i1 + n), j1, Math.min(j2, j1 + n)]);
								groups.push(group);
								group = [];
								i1 = Math.max(i1, i2 - n);
								j1 = Math.max(j1, j2 - n);
							}

							group.push([tag, i1, i2, j1, j2]);
						}
					}

					if (group && !(group.length == 1 && group[0][0] == 'equal')) groups.push(group)

					return groups;
				}

				this.ratio = function () {
					matches = difflib.__reduce(
						function (sum, triple) { return sum + triple[triple.length - 1]; },
						this.get_matching_blocks(), 0);
					return difflib.__calculate_ratio(matches, this.a.length + this.b.length);
				}

				this.quick_ratio = function () {
					var fullbcount, elt;
					if (this.fullbcount == null) {
						this.fullbcount = fullbcount = {};
						for (var i = 0; i < this.b.length; i++) {
							elt = this.b[i];
							fullbcount[elt] = difflib.__dictget(fullbcount, elt, 0) + 1;
						}
					}
					fullbcount = this.fullbcount;

					var avail = {};
					var availhas = difflib.__isindict(avail);
					var matches = numb = 0;
					for (var i = 0; i < this.a.length; i++) {
						elt = this.a[i];
						if (availhas(elt)) {
							numb = avail[elt];
						} else {
							numb = difflib.__dictget(fullbcount, elt, 0);
						}
						avail[elt] = numb - 1;
						if (numb > 0) matches++;
					}

					return difflib.__calculate_ratio(matches, this.a.length + this.b.length);
				}

				this.real_quick_ratio = function () {
					var la = this.a.length;
					var lb = this.b.length;
					return _calculate_ratio(Math.min(la, lb), la + lb);
				}

				this.isjunk = isjunk ? isjunk : difflib.defaultJunkFunction;
				this.a = this.b = null;
				this.set_seqs(a, b);
			}
		};
		return difflib;
	}]);



/*
This is part of jsdifflib v1.0. <http://github.com/cemerick/jsdifflib>
Copyright 2007 - 2011 Chas Emerick <cemerick@snowtide.com>. All rights reserved.
Redistribution and use in source and binary forms, with or without modification, are
permitted provided that the following conditions are met:
   1. Redistributions of source code must retain the above copyright notice, this list of
      conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright notice, this list
      of conditions and the following disclaimer in the documentation and/or other materials
      provided with the distribution.
THIS SOFTWARE IS PROVIDED BY Chas Emerick ``AS IS'' AND ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL Chas Emerick OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
The views and conclusions contained in the software and documentation are those of the
authors and should not be interpreted as representing official policies, either expressed
or implied, of Chas Emerick.
*/
angular
	.module(APP_NAME)
	.factory('diffview', [function () {
		var diffview = {
			/**
			 * Builds and returns a visual diff view.  The single parameter, `params', should contain
			 * the following values:
			 *
			 * - baseTextLines: the array of strings that was used as the base text input to SequenceMatcher
			 * - newTextLines: the array of strings that was used as the new text input to SequenceMatcher
			 * - opcodes: the array of arrays returned by SequenceMatcher.get_opcodes()
			 * - baseTextName: the title to be displayed above the base text listing in the diff view; defaults
			 *	   to "Base Text"
			 * - newTextName: the title to be displayed above the new text listing in the diff view; defaults
			 *	   to "New Text"
			 * - contextSize: the number of lines of context to show around differences; by default, all lines
			 *	   are shown
			 * - viewType: if 0, a side-by-side diff view is generated (default); if 1, an inline diff view is
			 *	   generated
			 */
			buildView: function (params) {
				var baseTextLines = params.baseTextLines;
				var newTextLines = params.newTextLines;
				var opcodes = params.opcodes;
				var baseTextName = params.baseTextName ? params.baseTextName : "Base Text";
				var newTextName = params.newTextName ? params.newTextName : "New Text";
				var contextSize = params.contextSize;
				var inline = (params.viewType == 0 || params.viewType == 1) ? params.viewType : 0;
		
				if (baseTextLines == null)
					throw "Cannot build diff view; baseTextLines is not defined.";
				if (newTextLines == null)
					throw "Cannot build diff view; newTextLines is not defined.";
				if (!opcodes)
					throw "Canno build diff view; opcodes is not defined.";
				
				function celt (name, clazz) {
					var e = document.createElement(name);
					e.className = clazz;
					return e;
				}
				
				function telt (name, text) {
					var e = document.createElement(name);
					e.appendChild(document.createTextNode(text));
					return e;
				}
				
				function ctelt (name, clazz, text) {
					var e = document.createElement(name);
					e.className = clazz;
					//e.appendChild(document.createTextNode(text));
					var unParsed = text.split("<Unparsed lines>")[1],
					Unsupported = text.search("(Unsupported)"),
					notConfigurable = text.search("(Not Configurable)");
					notConfigurable_enable = text.search("(Not Configurable,Enabled by default)");
					notConfigurable_assigned = text.search("(Not Configurable,Assigned by default)");
					range_exceeded = text.search("(Range Exceeded,Review and fix)");
					review = text.search("Review");
					useAsTextNode = true
					text = text.replace(/\</,'&lt;');
					text = text.replace(/\>/,'&gt;');
					if (unParsed) {
						text = text.replace("<Unparsed lines>", "<span style='color:#b90000;font-weight:bold;'>--- Unparsed lines ---</span>");
						text = text.replace("<End>", "<span style='color:#b90000;font-weight:bold;'>--- End ---</span>");
						useAsTextNode = false;
					} 
					if(Unsupported != -1) {
						text = text.replace(/\(Unsupported\)/g, "<span style='color:#ea4242;font-weight:bold;'>(Unsupported)</span>");
						useAsTextNode = false;
					} 
					if(notConfigurable != -1) {
						text = text.replace(/\(Not Configurable\)/g, "<span style='color:#ea4242;font-weight:bold;'>(Not Configurable)</span>");
						useAsTextNode = false;
					} 
					if(notConfigurable_enable != -1) {
						text = text.replace(/\(Not Configurable,Enabled by default\)/g, "<span style='color:#ea4242;font-weight:bold;'>(Not Configurable,Enabled by default)</span>");
						useAsTextNode = false;
					} 
					if(notConfigurable_assigned != -1) {
						text = text.replace(/\(Not Configurable,Assigned by default\)/g, "<span style='color:#ea4242;font-weight:bold;'>(Not Configurable,Assigned by default)</span>");
						useAsTextNode = false;
					} 
					if(range_exceeded != -1) {
						text = text.replace(/\(Range Exceeded,Review and fix\)/g, "<span style='color:#ea4242;font-weight:bold;'>(Range Exceeded,Review and fix)</span>");
						useAsTextNode = false;
					} 
					if(review != -1) {
						text = text.replace(/\(Review\)/g, "<span style='color:#ea4242;font-weight:bold;'>(Review)</span>");
						useAsTextNode = false;
					} 								
					if (useAsTextNode) {
						e.appendChild(document.createTextNode(text));
					}else{
						e.innerHTML = text;
					}
					return e;
				}
			
				var tdata = document.createElement("thead");
				var node = document.createElement("tr");
				tdata.appendChild(node);
				if (inline) {
					node.appendChild(document.createElement("th"));
					node.appendChild(document.createElement("th"));
					node.appendChild(ctelt("th", "texttitle", baseTextName + " vs. " + newTextName));
				} else {
					node.appendChild(document.createElement("th"));
					node.appendChild(ctelt("th", "texttitle", baseTextName));
					node.appendChild(document.createElement("th"));
					node.appendChild(ctelt("th", "texttitle", newTextName));
				}
				tdata = [tdata];
				
				var rows = [];
				var node2;
				
				/**
				 * Adds two cells to the given row; if the given row corresponds to a real
				 * line number (based on the line index tidx and the endpoint of the 
				 * range in question tend), then the cells will contain the line number
				 * and the line of text from textLines at position tidx (with the class of
				 * the second cell set to the name of the change represented), and tidx + 1 will
				 * be returned.	 Otherwise, tidx is returned, and two empty cells are added
				 * to the given row.
				 */
				function addCells (row, tidx, tend, textLines, change) {
					if (tidx < tend) {
						row.appendChild(telt("th", (tidx + 1).toString()));
						row.appendChild(ctelt("td", change, textLines[tidx].replace(/\t/g, "\u00a0\u00a0\u00a0\u00a0")));
						return tidx + 1;
					} else {
						row.appendChild(document.createElement("th"));
						row.appendChild(celt("td", "empty"));
						return tidx;
					}
				}
				
				function addCellsInline (row, tidx, tidx2, textLines, change) {
					row.appendChild(telt("th", tidx == null ? "" : (tidx + 1).toString()));
					row.appendChild(telt("th", tidx2 == null ? "" : (tidx2 + 1).toString()));
					row.appendChild(ctelt("td", change, textLines[tidx != null ? tidx : tidx2].replace(/\t/g, "\u00a0\u00a0\u00a0\u00a0")));
				}
				
				for (var idx = 0; idx < opcodes.length; idx++) {
					code = opcodes[idx];
					change = code[0];
					var b = code[1];
					var be = code[2];
					var n = code[3];
					var ne = code[4];
					var rowcnt = Math.max(be - b, ne - n);
					var toprows = [];
					var botrows = [];
					for (var i = 0; i < rowcnt; i++) {
						// jump ahead if we've alredy provided leading context or if this is the first range
						if (contextSize && opcodes.length > 1 && ((idx > 0 && i == contextSize) || (idx == 0 && i == 0)) && change=="equal") {
							var jump = rowcnt - ((idx == 0 ? 1 : 2) * contextSize);
							if (jump > 1) {
								toprows.push(node = document.createElement("tr"));
								
								b += jump;
								n += jump;
								i += jump - 1;
								node.appendChild(telt("th", "..."));
								if (!inline) node.appendChild(ctelt("td", "skip", ""));
								node.appendChild(telt("th", "..."));
								node.appendChild(ctelt("td", "skip", ""));
								
								// skip last lines if they're all equal
								if (idx + 1 == opcodes.length) {
									break;
								} else {
									continue;
								}
							}
						}
						
						toprows.push(node = document.createElement("tr"));
						if (inline) {
							if (change == "insert") {
								addCellsInline(node, null, n++, newTextLines, change);
							} else if (change == "replace") {
								botrows.push(node2 = document.createElement("tr"));
								if (b < be) addCellsInline(node, b++, null, baseTextLines, "delete");
								if (n < ne) addCellsInline(node2, null, n++, newTextLines, "insert");
							} else if (change == "delete") {
								addCellsInline(node, b++, null, baseTextLines, change);
							} else {
								// equal
								addCellsInline(node, b++, n++, baseTextLines, change);
							}
						} else {
							b = addCells(node, b, be, baseTextLines, change);
							n = addCells(node, n, ne, newTextLines, change);
						}
					}
		
					for (var i = 0; i < toprows.length; i++) rows.push(toprows[i]);
					for (var i = 0; i < botrows.length; i++) rows.push(botrows[i]);
				}
				
				/*rows.push(node = ctelt("th", "author", "diff view generated by "));
				node.setAttribute("colspan", inline ? 3 : 4);
				node.appendChild(node2 = telt("a", "jsdifflib"));
				node2.setAttribute("href", "http://github.com/cemerick/jsdifflib");*/
				
				tdata.push(node = document.createElement("tbody"));
				for (var idx in rows) rows.hasOwnProperty(idx) && node.appendChild(rows[idx]);
				
				node = celt("table", "diff" + (inline ? " inlinediff" : ""));
				for (var idx in tdata) tdata.hasOwnProperty(idx) && node.appendChild(tdata[idx]);
				return node;
			}
		};

		return diffview;
	}]);

angular
    .module(APP_NAME)
    .directive('diffView', ['diffview', 'difflib', function (diffview, difflib) {
        return {
            restrict: 'E', //Default in 1.3+
            //replace: true,
            scope: {
                baseText: '@',
                newText: '@',
                baseTitle: '@',
                newTitle: '@'
            },
            //controller: controller,
            link: function (scope, element, attr) {
                scope.diffView = function () {
                    // get the baseText and newText values from the two textboxes, and split them into lines
                    var base = difflib.stringAsLines(scope.baseText);
                    var newtxt = difflib.stringAsLines(scope.newText);

                    // create a SequenceMatcher instance that diffs the two sets of lines
                    var sm = new difflib.SequenceMatcher(base, newtxt);

                    // get the opcodes from the SequenceMatcher instance
                    // opcodes is a list of 3-tuples describing what changes should be made to the base text
                    // in order to yield the new text
                    var opcodes = sm.get_opcodes();
                    /*var diffoutputdiv = $("diffoutput");
                    while (diffoutputdiv.firstChild) diffoutputdiv.removeChild(diffoutputdiv.firstChild);
                    var contextSize = $("contextSize").value;
                    contextSize = contextSize ? contextSize : null;*/

                    // build the diff view and add it to the current DOM
                    //diffoutputdiv.appendChild();

                    // scroll down to the diff view window.
                    //location = url + "#diff";
                    scope.diffValue = diffview.buildView({
                        baseTextLines: base,
                        newTextLines: newtxt,
                        opcodes: opcodes,
                        // set the display titles for each resource
                        baseTextName: scope.baseTitle,
                        newTextName: scope.newTitle,
                        //contextSize: contextSize,
                    });
                    return scope.diffValue;
                }

                element.append(angular.element(scope.diffView()));
            }
        };
    }])
angular
    .module(APP_NAME)
    .service('cablesOpticsService', ['$http', '$q', function ($http, $q) {
        this.get = function (filter) {
            var config = {
                params: filter,
                headers : {'Accept' : 'application/json'}
               };
            return $http.get('/rest/common/cables_optics/', config);
        };
        this.getNetworkProducts = function (filter) {
            var config = {
                headers : {'Accept' : 'application/json'}
               };
            return $http.get('/rest/common/cables_optics/network_products', config);
        }
        this.getDataRates = function (filter, usecase) {
            var config = {
                params: filter,
                headers : {'Accept' : 'application/json'}
               };
            return $http.get('/rest/common/cables_optics/data_rates/?usecase='+usecase, config);
        };
        this.getDataRatefornetworkProduct = function (network_product, usecase) { 
            url = '/rest/common/cables_optics/data_rates_nw/?network_product='+network_product+'&usecase='+usecase
            return $http.get(url);
        };

    }])
angular
    .module(APP_NAME)
    .controller('cablesOpticsCtrl', ['$scope', 'cablesOpticsService', 'spinnerOverlay', '$http', 'dlcuiAlertDialog',
        function ($scope, cablesOpticsService, spinnerOverlay, $http, dlcuiAlertDialog) {

            var me = this;
            $scope.cablesOpticsPortal = {};

            $scope.cablesOpticsPortal.viewModel = {}

            // default use case
            $scope.cablesOpticsPortal.viewModel.usecase = 'sw2sw';

            $scope.$watch('cablesOpticsPortal.viewModel.usecase', function (newVal, oldVal) {
                if (oldVal != newVal) {
                    if($scope.cablesOpticsPortal.viewModel.network_product != undefined)
                    {
                        me.loadDataRatesfornetworkProduct($scope.cablesOpticsPortal.viewModel.network_product);                        
                    }
                    else
                        me.loadDataRates();
                }
            });

            $scope.$watch('cablesOpticsPortal.viewModel.data_rate', function (newVal, oldVal) {
                if (oldVal != newVal) {
                    me.loadCablesOptionsData();
                }
            });

            $scope.$watch('cablesOpticsPortal.viewModel.network_product', function (newVal, oldVal) {
                if (oldVal != newVal) {
                    network_product = newVal;
                    $scope.cablesOpticsPortal.viewModel.data_rate = null
                    me.loadDataRatesfornetworkProduct(network_product);                                       
                }
            });

            me.loadNetworkPorducts = function () {
                spinnerOverlay.start();

                cablesOpticsService.getNetworkProducts()
                    .then(function (response) {
                        $scope.cablesOpticsPortal.networkProducts = response.data;
                        spinnerOverlay.stop();
                    }, function () {
                        spinnerOverlay.stop();
                    })
            };
            me.loadDataRatesfornetworkProduct = function (network_product) {
                spinnerOverlay.start();
                cablesOpticsService.getDataRatefornetworkProduct(network_product, $scope.cablesOpticsPortal.viewModel.usecase)
                        .then(function(res){
                            $scope.cablesOpticsPortal.dataRates = res.data
                            me.loadCablesOptionsData();
                        },
                        function () {
                            spinnerOverlay.stop();
                        });
            }

            me.loadDataRates = function () {
                spinnerOverlay.start();
                var filter = $scope.cablesOpticsPortal.viewModel.usecase;

                cablesOpticsService.getDataRates(filter, $scope.cablesOpticsPortal.viewModel.usecase)
                    .then(function (response) {
                        $scope.cablesOpticsPortal.dataRates = response.data;
                        me.loadCablesOptionsData();
                    }, function () {
                        spinnerOverlay.stop();
                    })
            };

            me.loadCablesOptionsData = function () {
                spinnerOverlay.start();
                var filter = $scope.cablesOpticsPortal.viewModel;
                cablesOpticsService.get(filter)
                    .then(function (response) {
                        $scope.cablesOpticsPortal.data = response.data;
                        spinnerOverlay.stop();
                    }, function () {
                        spinnerOverlay.stop();
                    })
            }

            me.init = function () {
                me.loadNetworkPorducts();
                me.loadDataRates();
            }

            me.init();

        }]);


angular
	.module(APP_NAME)
	.controller('bomViewCtrl', ['$scope', '$http', '$cookies', '$timeout', 'fabricService', 'FileSaver', 'toaster', 'spinnerOverlay', 'fabricInputService',
		function ($scope, $http, $cookies, $timeout, fabricService, FileSaver, toaster, spinnerOverlay, fabricInputService) {
			var bm = this;
			bm.viewmodel = {};
			bm.viewmodel.format = [{
				label: 'PDF',
				name: 'pdf'
			},
			{
				label: 'CSV',
				name: 'csv'
			}
			/*,
			{
				label: 'OSC JSON',
				name: 'osc'
			}*/
			];

			bm.viewmodel.selectedFormat = bm.viewmodel.format[0];

			$scope.$on('tab-bom', function () {
				//console.log('in bom view......');
				// $http({
				// 	method: "get",
				// 	url: "json/network-view.json"
				// }).then(function (response) {
				// 	$scope.networkData = response.data;
				// 	$rootScope.$broadcast('networkDataReady');
				// }, function () {

				// });
				$scope.getBomDefaults();
				
			});
			$scope.getBomDefaults = function () {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
				fabricdata = fabricService.getData();
				var view_id = fabricService.getFabricId();
				data = {
					'data':fabricdata,
					'view':view_id//bm.viewmodel.selectedView
				}

				$http.post('/rest/design/bomdefaults/', data, config)
					.then(function (data, status, headers, config) {
						$scope.edit = false;
						bm.viewmodel.bomdefaults = data.data;
						$scope.generateBom();
					}, function (data, status, header, config) {
						//console.log(data);
						spinnerOverlay.stop();	// Stop spinner loading...
					});
			};
			$scope.EditOpticsCables = function(selected_optics,supported_optics_cables) {
				$scope.operation = true;
				$scope.type = 'dismiss';
				$scope.controller = 'bomViewCtrl';
				$scope.template = 'fabric/design/output/editOpticsModal.html';
				$scope.dac_optics_data = supported_optics_cables
				$scope.dac_optics_data.selected_optics = selected_optics
				/* settings done*/
				var switchModalScope = fabricInputService.openModal($scope);
				switchModalScope.modal.dac_optics_data = supported_optics_cables
				switchModalScope.modal.selectedView = bm.viewmodel.selectedView
				switchModalScope.modal.show();	
			}
			
			$scope.save_dac_optics = function(data)
			{
				spinnerOverlay.start();
				data['selected_dac_optics']=data.dac_optics_data	
				var config = {
					headers: {
						'Content-Type': 'application/json',
						'AcceptMethod': 'write'
					}
				}
				var view_id = fabricService.getFabricId();
				var obj = {
						'data':fabricService.getData(),
						'selected_dac_optics':data.dac_optics_data,
						'view':view_id
					};
				$http.post('/rest/design/savedacoptics/', obj, config)
					.then(function (data, status, headers, config) {
						$scope.edit = false;
						fabric_data = data.data
						fabricService.storeData(fabric_data)
						$scope.modal.dismiss()								
						$scope.$emit('tab-bom');
						}, function (data, status, header, config) {
						console.log(data);
						$scope.modal.dismiss();
						spinnerOverlay.stop();	// Stop spinner loading...
					});
				//$scope.modal.close();
			}
			$scope.downloadBomForFabric = function (format) {
				bm.viewmodel.selectedFormat = format
				var config = {
					headers: {
						'Content-Type': 'application/json'
					},

				},
				data = {
					format: bm.viewmodel.selectedFormat.name,
					data: fabricService.getData(),
					view_id: fabricService.getFabricId()
				}
				spinnerOverlay.start();
				$http.post('/rest/design/exportbom/', data, { responseType: 'arraybuffer' }, config)
					.then(function (allswitchconfigs, status, headers, config) {
						spinnerOverlay.stop();
						var format = bm.viewmodel.selectedFormat.name;
						var blob_data = new Blob([allswitchconfigs.data], { type: 'application/octet-stream' });
						fabricService.fabricName().then(function (response) {
							FileSaver.saveAs(blob_data, 'FDC-' + response.fabricname + '-Bom.zip');
							fabricInputService.displayToaster('success', 'Download', 'File downloaded successfully');
						});
					}, function (configerror, status, header, config) {
						//console.log(configerror);
						spinnerOverlay.stop();
						fabricInputService.displayToaster('error', 'Download', 'Error in file download');
					});
			}
			$scope.generateBom = function () {
				spinnerOverlay.start();
				var config = {
					headers: {
						'Content-Type': 'application/json'
					}
				},
				fabricdata = fabricService.getData();
				view_id = fabricService.getFabricId();
				data = {
					'data':fabricdata,
					'view':view_id
				}

				$http.post('/rest/design/generatebom/', data, config)
					.then(function (data, status, headers, config) {
						$scope.edit = false;
						$scope.generatedBomData = data.data;
						spinnerOverlay.stop();	// Stop spinner loading...
					}, function (data, status, header, config) {
						//console.log(data);
						spinnerOverlay.stop();	// Stop spinner loading...
					});
			};
			$scope.cancelGeneratedBom = function () {
				$scope.getBomDefaults();
				$scope.edit = false;
			};

			$scope.showToaster = function (type, title, message) {
				var instance = {};
				instance.type = type, instance.title = title, instance.body = message, instance.showCloseButton = true, instance.toasterId = 8;
				toaster.pop(instance);
			}
			$scope.updateBomFabric = function () {
				spinnerOverlay.start();
				var config = {
					headers: {
						'AcceptMethod': 'write'
					}
				};
				var fabricdata = fabricService.getData();
				var settings = bm.viewmodel.bomdefaults.bom_fabric_model;
				var view_id = fabricService.getFabricId();
				var bom_data = {
					data: fabricdata,
					bomsettings: settings,
					view:view_id
				};
				$http.post('/rest/design/updatebomsettings/', bom_data, config)
					.then(function (data, status, headers, config) {
						$scope.edit = false;
						bm.viewmodel.generatedbom = data.data;
						fabricInputService.displayToaster('success', 'Bill of Materials', 'Bill of Materials generated Successfully');
						$scope.status = "Inactive";
                        $scope.updateStatus = function() {
                            $scope.status = $scope.status === "Inactive" ? "Active" : "Inactive";
                        }						
						//console.log( bm.viewmodel.generatedbom);
						$scope.getBomDefaults();
					}, function (data, status, header, config) {
						fabricInputService.displayToaster('error', 'Bill of Materials', 'Bill of Materials cannot be generated');
						spinnerOverlay.stop();
						//console.log(data);
					});
			};


			$scope.editfabric = function () {
				$scope.edit = true;
			};

			$scope.cancelfabric = function () {
				$scope.edit = false;
			};
			$scope.handleKeyDown = function (event, index, data, data_list) {
				if (event.keyCode === 38 || event.keyCode === 40) {
				  if (event.keyCode === 38) { // Up arrow
					if (index === undefined || index === 0) {
					  var currentElement = event.target.parentElement;
					  var child = currentElement.lastElementChild; //querySelector('a').focus();
					  child.focus();
					} else {
					  var currentElement = event.target;
					  var previousElement = currentElement.previousElementSibling.focus();
					}
				  } else if (event.keyCode === 40) { // Down arrow
					if (index === undefined || index === data_list.length - 1) {
					  var currentElement = event.target.parentElement;
					  var child = currentElement.querySelector('a').focus();
					} else {
					  var currentElement = event.target;
					  var nextElement = currentElement.nextElementSibling;
					  var child = nextElement.focus();
					}
				  }
				}
				if (event.keyCode === 32 || event.key === ' ') {
				  $scope.downloadBomForFabric(data);
				}
			  };
		}]);

angular
	.module(APP_NAME)
	.controller('feedbackCtrl', ['$scope','$http','toaster','FileUploader','spinnerOverlay','fabricInputService', function ($scope,$http,toaster,FileUploader,spinnerOverlay,fabricInputService) {	
        
    var PEQuploader = $scope.uploader = new FileUploader({
        url: "rest/common/sendfeedback/",
        queueLimit: 1,
        autoUpload:false,
        removeAfterUpload:true,
        headers: {
            'AcceptMethod' : 'write',
            'Accept':'application/lz-json'
        }        
    });

    FileUploader.FileSelect.prototype.isEmptyAfterSelection = function () {
        return true;
    };

    // FILTERS
    PEQuploader.filters.push({
        name: 'customFilter',
        fn: function (item /*{File|FileLikeObject}*/, options) {
            return this.queue.length < 10;
        }
    });

    // CALLBACKS
    PEQuploader.onWhenAddingFileFailed = function (item, filter, options) {
        if (filter.name == "queueLimit") {
            $scope.uploader.clearQueue();
            $scope.uploader.addToQueue(item);
        }
    }
    PEQuploader.onAfterAddingFile = function (fileItem) {
        //uploader.fileAdded = true;
        fileItem.file.name
        // console.info('onAfterAddingFile', fileItem);
    };

    PEQuploader.onSuccessItem = function (fileItem, response, status, headers) {
        console.info('onSuccessItem', fileItem, response, status, headers);
    };
    PEQuploader.onErrorItem = function (fileItem, response, status, headers) {
        console.info('onErrorItem', fileItem, response, status, headers);
    };
    
    PEQuploader.onCompleteItem = function (fileItem, response, status, headers) {
        if (status != 200) {
            spinnerOverlay.stop();
            fabricInputService.displayToaster('error', 'Feedback cannot be submitted', response.detail);            
        } 
        else {
            $scope.modal.dismiss();
            fabricInputService.displayToaster('success', 'Feedback sent sucessfully');										
            spinnerOverlay.stop();
        }
    };

    $scope.uploadFile = function (file) {
        file.formData=[{type: $scope.feedbackinput.type['name'],feedback:$scope.feedbackinput.message,title:$scope.feedbackinput.title}]
        spinnerOverlay.start();
        file.upload();
    }

	$scope.sendFeedbackForm=function(){
        $scope.form.feedbackinput.fdc_feedback_title.$dirty=true;
		$scope.form.feedbackinput.fdc_feedback_message.$dirty=true;
        spinnerOverlay.start();
		
        var config = {
            headers: {
                'Content-Type': 'application/json'
            }
        };
            var feedback_data={};
            feedback_data.title=$scope.feedbackinput.title;
            feedback_data.type=$scope.feedbackinput.type["name"];
            feedback_data.feedback=$scope.feedbackinput.message;
			$http.post('rest/common/sendfeedback/', feedback_data, config)
				.then(function (data, status, headers, config) {
                    spinnerOverlay.stop();
                    $scope.modal.dismiss();
                     fabricInputService.displayToaster('success', 'Feedback sent sucessfully');
					  toaster.pop({type: 'success',
							title: 'Feedback',
							body: 'Feedback sent sucessfully',
							timeout: 3000,
						    positionClass: "toast-bottom-right",							
                            showCloseButton: true,
							toasterId:100
						});
				}, function (data, status, header, config) {
                    spinnerOverlay.stop();
                    fabricInputService.displayToaster('error', 'Feedback cannot be submitted',data.data.detail);
                    /*toaster.pop({type: 'error',
							title: 'Feedback',
							body: 'Feedback cannot be submitted',
							timeout: 3000,
						    positionClass: "toast-bottom-right",							
                            showCloseButton: true,
							toasterId:100
						});*/
				});
						 
		};
		$scope.cancelFeedbackForm=function(){
            console.log("Feedback Cancelled");
			$scope.init();
			 $scope.modal.dismiss();
		};
		$scope.init=function(){
			$scope.form={};
			$scope.feedbackinput={};
			$scope.feedbackinput.title="";
			$scope.feedbackinput.message="";
			$scope.feedbackinput.types=[
				{value:'suggestion',name:'Suggestion'},
				{value:'request',name:'Request'},
				{value:'defect',name:'Defect'}
				];
			$scope.feedbackinput.type={value:'suggestion',name:'Suggestion'};
		};
		$scope.init();
	}]); 
angular
  .module(APP_NAME)
  .controller('feedbackCommentCtrl', ['$scope', '$http', 'fabricInputService', function ($scope, $http, fabricInputService) {
    $scope.feedback = {

    }
    $scope.feedback.tellUs = 'tryingFDC';  // default selection
    $scope.form = {

    }

    function feedbackDefaults() {
      return $http({
        method: 'get',
        url: 'rest/common/feedbackdefaults/'
      })
    }

    $scope.saveFeedback = function () {
      var config = {
        headers: {
          'Content-Type': 'application/json',
          'EMCLOGINNAME': 'admin'
        }
      };

      if ($scope.feedback.tellUs == 'tryingFDC') {
        $scope.modal.hide();
      } else {
        if ($scope.form.feedback.$valid) {
          $http.post('rest/common/savefeedback/', $scope.feedback, config)
            .then(function (data, status, headers, config) {
              fabricInputService.displayToaster('success', 'Feedback', data.data);
              $scope.modal.hide();
            }, function (data, status, header, config) {
              fabricInputService.displayToaster('error', 'Feedback', 'Error while saving');
            })
        }
      }

    }

    $scope.$watch('feedback.tellUs', function (val) {
      if (val && val == 'designFabric') {
        if (!$scope.questions) {
          feedbackDefaults().then(function (res) {
            $scope.questions = angular.copy(res.data.questions);
          }, function () {

          })
        }
      }
    })

  }]);

DlcuiTime.$inject = ['$translate', 'dlcuiBaseTemplatePath'];(function (window, angular) {
  // Create all modules and define dependencies to make sure they exist
  // and are loaded in the correct order to satisfy dependency injection
  // before all nested files are concatenated by Gulp

  // Config
  angular.module('dell.ngclarity.config', ['ngSanitize','pascalprecht.translate'])
    .constant('LOGIN_URL', 'https://api.dell.com/login/')
    .constant('LOGOUT_URL', 'https://api.dell.com/logout/')
    .constant('GLOBAL_TIMEOUT', 3000)
    .constant('stConfig', {
      pagination: {
        itemsByPage: 10,
        displayedPages: 5
      },
      search: {
        delay: 400, // ms
        inputEvent: 'input'
      },
      select: {
        mode: 'single',
        selectedClass: 'st-selected'
      },
      sort: {
        ascentClass: 'st-sort-ascent',
        descentClass: 'st-sort-descent',
        descendingFirst: false,
        skipNatural: false,
        delay:300
      },
      pipe: {
        delay: 100 //ms
      }
    })
    .value('dell.ngclarity.config', {
      debug: true
    });

  // define a $templateCache placeholder which will be populated during
  // the build process
  angular.module('dell.ngclarity.templates', []);

  // Modules
  angular.module('dell.ngclarity.controllers', []);
  angular.module('dell.ngclarity.directives', []);
  angular.module('dell.ngclarity.directives').value('dlcuiBaseTemplatePath', 'ngclarity/');
  angular.module('dell.ngclarity.filters', []);
  angular.module('dell.ngclarity.services', []);
  angular.module('dell.ngclarity.constants', []);
  angular.module('dell.ngclarity', [
    'dell.ngclarity.config',
    'dell.ngclarity.templates',
    'dell.ngclarity.directives',
    'dell.ngclarity.filters',
    'dell.ngclarity.services'
  ]);

  window.dell = window.dell || {};
  window.dell.ngclarity = {};
  window.dell.ngclarity.version = {
    full: '0.10.13',
    codeName: 'Minas Tirith'
  };

  // throw an error or warning about missing dependencies that our modules rely on
  if (!window.$ || !window.jQuery) {
    throw new Error('dell-ngclarity components rely on the jQuery library - https://jquery.com/');
  }

  if (!window._) {
    throw new Error('dell-ngclarity components rely on the lodash library - https://lodash.com/');
  }

})(window, angular);
;'use strict';

try {
  angular.module('dell.ngclarity.directives');
} catch (e) {
  angular.module('dell.ngclarity.directives', ['pascalprecht.translate']);
}

angular.module('dell.ngclarity.directives').config(['$translateProvider',
  function ($translateProvider) {
    var translations = {
      'DLCUI_OK': 'Ok',
      'DLCUI_CANCEL': 'Cancel',
      'DLCUI_SELECT_ALL': 'Select all',
      'DLCUI_CLEAR_ALL': 'Clear all',
      'DLCUI_DESELECT_ALL': 'Deselect all',
      'DLCUI_LOADING_NEXT': 'Loading next {{count}}...',
      'DLCUI_EMPTY_RESULTS': 'Empty Results',
      'DLCUI_LOAD_MORE': 'Load more',
      'DLCUI_SELECT_ITEMS_OR_DRAG': 'Drag and drop items here',
      'DLCUI_LOGIN_LANGUAGE': 'Language',
      'DLCUI_LOGIN_STAY_SIGNEDIN': 'Stay Signed In',
      'DLCUI_LOGIN_FORGOT_PASSWORD': 'Forgot Password',
      'DLCUI_LOGIN_SIGN_IN': 'Sign In',
      'DLCUI_LOGIN_SIGNING_IN': 'Signing in...',
      'DLCUI_LOGIN_COPYRIGHT': '© 2017 Dell Inc. ALL RIGHTS RESERVED',
      'DLCUI_LOGIN_USERNAME': 'Username',
      'DLCUI_LOGIN_PASSWORD': 'Password',
      'DLCUI_PIN_MENU': 'Pin menu',
      'DLCUI_UNPIN_MENU': 'Un-Pin Menu',
      'DLCUI_AVAILABLE_APPS': 'Available Apps',
      'DLCUI_APPS': 'Apps',
      'DLCUI_AVAILABLE_ITEMS': 'Available Items',
      'DLCUI_ITEMS': 'Items',
      'DLCUI_ADD_INLINE_ROW': '+ Add',
      'DLCUI_VALIDATING': 'Validating...',
      'DLCUI_VALIDATION_FAILED': 'Validation Failed',
      'DLCUI_UNKNOWN_ERROR': 'An unknown error has occurred.',
      'DLCUI_SELECT_OR_SEARCH_ITEM': 'Select or Search item',
      'DLCUI_SELECT_OR_SEARCH_ITEMS': 'Select or Search items',
      'DLCUI_NO_MATCHES_FOUND': '0 matches found',
      'DLCUI_ADD_CUSTOM_GROUP': 'Add custom group',
      'DLCUI_ADD_GROUP_AS_GROUP': 'Add "{{group}}" as group',
      'DLCUI_LOADING_TEXT': 'Loading, please wait...',
      'DLCUI_DATAGRID_NO_DATA': 'No data entries exist',
      'DLCUI_DATAGRID_SEARCH_PLACEHOLDER': 'Search',
      'DLCUI_ABOUTBOX_CLOSE_BUTTON': 'Close',
      'DLCUI_ABOUTBOX_LICENSES_TITLE': 'Licenses',
      'DLCUI_ABOUTBOX_LICENSE_TH': 'License',
      'DLCUI_ABOUTBOX_LICENSE_NUMBER_TH': 'License Number',
      'DLCUI_ABOUTBOX_TYPE_TH': 'Type',
      'DLCUI_ABOUTBOX_EXPIRES_TH': 'Expires',
      'DLCUI_ABOUTBOX_SEATS_LICENSED_TH': 'Seats Licensed',
      'DLCUI_ABOUTBOX_SEATS_USED_TH': 'Seats Used',
      'DLCUI_ABOUTBOX_CONTACT_TITLE': 'Contact Us',
      'DLCUI_ABOUTBOX_CONTACT_TEXT': 'Dell listens to customers worldwide and delivers innovative technology, business solutions, and services they trust and value.<br>We look forward to hearing from you.',
      'DLCUI_ABOUTBOX_TECHNICAL_LABEL': 'Technical Support',
      'DLCUI_ABOUTBOX_TECHNICAL_URL': 'https://support.software.dell.com/essentials/contact-technical-support',
      'DLCUI_ABOUTBOX_GENERAL_LABEL': 'General Inquiries',
      'DLCUI_ABOUTBOX_GENERAL_URL': 'http://software.dell.com/company/contact-us.aspx',
      'DLCUI_ABOUTBOX_PHONE_FORMATTED': '1 (949) 754-8000',
      'DLCUI_ABOUTBOX_PHONE_PLAIN': '19497548000',
      'DLCUI_ABOUTBOX_APPLICATION_NAME': 'Application Name in Language File',
      'DLCUI_ABOUTBOX_VERSION': 'Version 2.0',
      'DLCUI_ABOUTBOX_PATENT_STRING': 'Patent String from Language File',
      'DLCUI_ABOUTBOX_DELL_TRADEMARK': 'Dell and the Dell logo are trademarks of Dell Inc. Other trademarks and trade names may be used in this document to refer to either the entities claiming the marks and names or their products. Dell disclaims any proprietary interest in the marks and names of others.',
      'DLCUI_WIZARD_BACK': 'Back',
      'DLCUI_WIZARD_NEXT': 'Next',
      'DLCUI_WIZARD_SAVE_AND_NEXT': 'Save & Next',
      'DLCUI_WIZARD_FINISH': 'Finish',
      'DLCUI_WIZARD_CANCEL': 'Cancel',
      'DLCUI_WIZARD_STEP': 'Step {{current}} of {{total}}',
      'DLCUI_STARTSCREEN_DOMAIN_LABEL': 'Domain',
      'DLCUI_STARTSCREEN_USERNAME_LABEL': 'Username',
      'DLCUI_STARTSCREEN_PASSWORD_LABEL': 'Password',
      'DLCUI_DELL_COPYRIGHT': '© 2017 Dell Inc. ALL RIGHTS RESERVED',
      'DLCUI_STARTSCREEN_SIGN_IN_LABEL': 'Log In',
      'DLCUI_STARTSCREEN_REMEMBER_ME': 'Remember Me',
      'DLCUI_CALENDAR_TODAY': 'Today',
      'DLCUI_CALENDAR_PREVIOUS_YEAR': 'Skip to previous year',
      'DLCUI_CALENDAR_PREVIOUS_MONTH': 'Skip to previous month',
      'DLCUI_CALENDAR_NEXT_MONTH': 'Skip to next month',
      'DLCUI_CALENDAR_NEXT_YEAR': 'Skip to next year',
      'DLCUI_TIME_HOUR_INCREMENT': 'Increment {{hourIncrement}} hours',
      'DLCUI_TIME_HOUR_DECREMENT': 'Decrement -{{hourIncrement}} hours',
      'DLCUI_TIME_MINUTE_INCREMENT': 'Increment {{minuteIncrement}} minutes',
      'DLCUI_TIME_MINUTE_DECREMENT': 'Decrement -{{minuteIncrement}} minutes',
      'DLCUI_TIME_SECOND_INCREMENT': 'Increment {{secondIncrement}} seconds',
      'DLCUI_TIME_SECOND_DECREMENT': 'Decrement -{{secondIncrement}} seconds',
      'DLCUI_TIME_MERIDIAN': 'Toggle AM/PM',
      'DLCUI_TIME_MERIDIAN_AM': 'AM',
      'DLCUI_TIME_MERIDIAN_PM': 'PM',
      'DLCUI_ALERT_DANGER': 'Critical Error',
      'DLCUI_ALERT_WARNING': 'Warning',
      'DLCUI_ALERT_UNKNOWN': 'There are multiple issues',
      'DLCUI_ALERT_SUCCESS': 'Success',
      'DLCUI_ALERT_NOTE': 'Note',
      'DLCUI_TEXTAREA_CHARACTERS_REMAINING': '{{characters}} characters remaining',
      'DLCUI_PROGRESSBAR_TEXT': '{{value || \'Unknown\'}} percent complete'
    };
    $translateProvider.translations('en-US', translations);
    $translateProvider.translations(translations);
    if ($translateProvider.preferredLanguage) {
      $translateProvider.preferredLanguage('en-US');
    }
  }
]).value('preferredLanguage', 'en-US');
;angular.module('dell.ngclarity.templates', []).run(['$templateCache', function ($templateCache) {
  "use strict";
  $templateCache.put("ngclarity/directives/aboutBox/dlcuiAboutBox-about.directive.html",
    "<div class=dlcui-about-pane><div class=dlcui-about-pane-center><dlcui-font-icon class=dlcui-about-logo color=blue icon=dell-halo><div class=dlcui-title-group><h1 class=dlcui-title>{{modal.applicationName}}</h1><span class=dlcui-version>{{modal.version}}</span></div><div class=dlcui-product-info><p ng-if=modal.patentString>{{modal.patentString}}</p><p>Dell and the Dell logo are trademarks of Dell Inc. Other trademarks and trade names may be used in this document to refer to either the entities claiming the marks and names or their products. Dell disclaims any proprietary interest in the marks and names of others.</p><p>&copy; {{today | date:\"yyyy\"}} Dell Inc. ALL RIGHTS RESERVED.</p></div></div></div>");
  $templateCache.put("ngclarity/directives/aboutBox/dlcuiAboutBox-contact.directive.html",
    "<div class=dlcui-contact-pane><h1 class=dlcui-title>Contact Us</h1><p class=dlcui-contact-pane-text>Dell listens to customers worldwide and delivers innovative technology, business solutions, and services they trust and value.<br>We look forward to hearing from you.</p><div class=dlcui-contact-pane-buttons><a ng-href=https://support.software.dell.com/essentials/contact-technical-support class=\"cux-button cux-button-large cux-button-primary\" role=button target=_blank><dlcui-font-icon icon=question>&nbsp;&nbsp;Technical Support</a> <a ng-href=http://software.dell.com/company/contact-us.aspx class=\"cux-button cux-button-large\" role=button target=_blank><dlcui-font-icon icon=info>&nbsp;&nbsp;General Inquiries</a></div><p class=dlcui-contact-pane-phone><a ng-href=tel:19497548000><dlcui-font-icon icon=phone>&nbsp;&nbsp;1 (949) 754-8000</a></p></div>");
  $templateCache.put("ngclarity/directives/aboutBox/dlcuiAboutBox-licenses.directive.html",
    "<div class=dlcui-licenses-pane><h1 class=dlcui-title>Licenses</h1><table class=cux-table><thead><tr><th>License</th><th>License Number</th><th>Type</th><th>Expires</th><th>Seats Licensed</th><th>Seats Used</th></tr></thead><tbody><tr ng-repeat=\"license in licensesArray\" ng-class=\"{'cux-font--danger': license.invalid}\" ng-attr-title={{license.errorMessage}}><td>{{license.name}}</td><td>{{license.number}}</td><td>{{license.type}}</td><td ng-class=\"{'cux-font--danger': license.expires < today }\">{{license.expires | date:'longDate'}}</td><td>{{license.seatsLicensed}}</td><td>{{license.seatsUsed}}</td></tr></tbody></table></div>");
  $templateCache.put("ngclarity/directives/aboutBox/dlcuiAboutBox-thirdParty.directive.html",
    "<div class=dlcui-third-party-pane><h1 class=dlcui-title>Third Party Components</h1><table class=cux-table><thead><tr><th>Component</th><th>Legal Notice</th></tr></thead><tbody><tr ng-repeat=\"component in thirdPartyArray\"><td>{{component.name}} {{component.version}}</td><td><div ng-if=component.license.name>This components is governed by the {{component.license.name}} license.</div><div ng-if=component.license.notice>{{component.license.notice}}</div><a href=http://www.quest.com/legal/third-party-licenses.aspx target=_blank>Third party licenses</a></td></tr></tbody></table></div>");
  $templateCache.put("ngclarity/directives/aboutBox/dlcuiAboutBox.directive.html",
    "<dlcui-tabset><dlcui-tab ng-repeat=\"tab in tabs\" label={{tab.label}} active=tab.active><div ng-include=tab.template></div></dlcui-tab></dlcui-tabset><dlcui-button class=dlcui-about-box-close type=primary ng-click=modal.hide()>Close</dlcui-button>");
  $templateCache.put("ngclarity/directives/alert/dlcuiAlert.directive.html",
    "<div dlcui-collapse=isClosed><div class=\"cux-alert cux-alert--{{dlcuiType}}\"><dlcui-font-icon class=cux-alert__icon icon={{_icon}} ng-if=_icon><div class=cux-alert__content><span class=cux-alert__label ng-if=_label>{{_label}}</span> <span ng-transclude></div><div class=cux-alert__actions><button ng-if=dismissable class=cux-alert__close ng-click=close()><dlcui-font-icon icon=times></button></div></div></div>");
  $templateCache.put("ngclarity/directives/calendar/dlcuiCalendar.directive.html",
    "<div class=dlcui-calendar><div class=dlcui-calendar-header><div class=dlcui-calendar-left><div class=dlcui-calendar-arrow ng-click=calendarCtrl.previousYear() ng-attr-title=\"Skip to previous year\"><dlcui-font-icon icon=angle-double-left></div><div class=dlcui-calendar-arrow ng-click=calendarCtrl.previousMonth() ng-attr-title=\"Skip to previous month\"><dlcui-font-icon icon=angle-left></div></div>{{ monthDate | date:'MMMM yyyy' }}<div class=dlcui-calendar-right><div class=dlcui-calendar-arrow ng-click=calendarCtrl.nextMonth() ng-attr-title=\"Skip to next month\"><dlcui-font-icon icon=angle-right></div><div class=dlcui-calendar-arrow ng-click=calendarCtrl.nextYear() ng-attr-title=\"Skip to next year\"><dlcui-font-icon icon=angle-double-right></div></div></div><div class=dlcui-calendar-month><div class=\"dlcui-calendar-day-of-week dlcui-calendar-week\" ng-repeat=\"week in month | limitTo:1\"><div class=dlcui-calendar-short ng-repeat=\"day in week\" ng-attr-title=\"{{ day.date | date:'EEEE' }}\">{{ day.date | date:'EEE' }}</div></div><div class=dlcui-calendar-week ng-repeat=\"week in month\"><div class=dlcui-calendar-day ng-repeat=\"day in week\" ng-click=setDate(day.date) ng-class=\"{'dlcui-calendar-selected': day.isSelected,'dlcui-calendar-not-in-month': !day.isInMonth, 'dlcui-calendar-today': day.today}\" ng-attr-title=\"{{ day.date | date:'fullDate' }}\">{{ day.date | date:'d' }}</div></div></div><div class=dlcui-calendar-footer ng-click=setDate(today) ng-attr-title=Today>{{ today | date:'fullDate' }}</div></div>");
  $templateCache.put("ngclarity/directives/companyLogo/companylogo.html",
    "<div class=dell-ngclarity-companylogo-container><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAACgsAAAHKCAYAAAA3wOkHAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAg6pJREFUeNrs3f913MiVKGBgz/7/+CLYnghMReBWBEtFMM0IREYgMgJSEbAnAnIjYDsCyhGoXwQrR4CHqy7NaMb6wR/dwAXq+87Badke26WqvmgUcHFv0wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxY13XH/fGxP1ZmAwAAAAAAAAAAAGam67qz7s+uzAoAAAAAAAAAAADMQNd1R/1x033bQ/znZgkAAAAAAAAAAAAmquu6RUkI/JH/7Y+l2QIAAAAAAAAAAICJ6brupCQCPtaZWQMAAAAAAAAAAICJ6LruonueG22JAQAAAAAAAAAAILFI9OuP++5lom3xsdkEAAAAAAAAAACAZCLBrz8+dvsR7YtPzCoAAAAAAAAAAAAk0XXdqjuMK7MLAAAAAAAAAAAAI+u67qY7rGhrfGSmAQAAAAAAAAAAYGBd1y3646EbRrQ3PjbrAAAAAAAAAAAAMJCu65b98b/d8FZmHwAAAAAAAAAAAA6s67qLblw32hIDAAAAAAAAAADAAUSCXn/cdjlE++OFVQEAAAAAAAAAAIA96bruuD8+drlEG+QTqwMAAAAAAAAAAAAv1HXdqiTmZXVhlQAAAAAAAAAAAOCZuq676qYh2iMfWTEAAAAAAAAAMmpNAQCQUUm8u++P4wkNe9sfb9q2/WAFAQAAAAAAAMjkP0wBAJBN13XL/uNjM61EwbDoj/tom2wVAQAAAAAAAMhEsiAAkErXdWfNrqLgVFv6xrhv+r/HjdUEAAAAAAAAIAttiAGAFErb4UiwO5nRXyvaEUdb4q0VBgAAAAAAAGBMkgUBgNF1XRfthiNR8HiGf71PzS5hcGOlAQAAAAAAYPq6rlt+9S8X5fja/2me/+wzCpL86xv//uarP39q2/aDleCpJAsCAGNfSEclwUgUPJr5X/W8v2C/tuIAAAAAAACQUylyEs8tv3z+V/NHIuAy6bCjeMmXxMFtf/y/r/49SYX8iWRBAGDMi+2r/uOsor/yXX+c9hfkn6w+AAAAAAAADK/rukWzSwBcNn9UAPzy783Vl+TBbbNLJvySSLjxjaiLZEEAYIwL8HgL57bJ+/bNIcWF96k3eAAAAAAAAOCwSrvgSAb8W/NHgiB/ti3HP5qSUOhZ5nxJFgQAhr4gj4vx+2b+bYd/JN7cibbEa98IAAAAAAAAeLnyHHLZ7BIDj8vB822aXfLg5yTCtm23pmT6JAsCAENeoEfL4Ssz8bvr/qL63DQAAAAAAADA05SqgXH8vdklBh6ZlYOKgiibZpc8uFF9cJraPnA608AEbP7yr+OE86+vTkZfTkCRyfzJdAGku1CPC/NIElyZjX8Tv2Gv/X5R0fngov94ZyYOf/3cn1demwb4/YbhvZk4vP6846VU4Mu598b+D2blVHeEvZ0fp9Bxw70qYG7n3rguvUk+TOdeeNr11EmzSw5cmpHRSR6coP80BUzE8if/+usfhy8npC8noX+UzzhBfXJyAhj8on3Rf9w2ynx/T8zLx36eXvuNAgAAZrAHlCgI83MT990lDL74/DiFRMHweZzlXpWkFWDq5964Lr2ZwFCde+H7cRzXTl+SA08alQOz+bI+J2W94hx21+zydO6c03JSWZBabcvxjy9/7k9SG9MCsPcL+JOyEXfh/jjn/e/RtWlg5ueFi0ZlwSGoLAh/nHeWjcqCg1BZEJAoCLOnwuDzz49TSRT8mipXwNTPvXFdejOxYTv3wh/XTsv++LVRjGTqNv3xP80ucXBrOnKQLAh/ti0XYf8sJy1tjQGefyF/0UgIeo51s0sa9PuDcwMv2oBLFoTfzzvLRrLgICQLQvXnW4mCUAcJg08/P8a58Waiw5e0Ajj3OvfCUHEbSYGRHBiFSBZmZJbi/PZbI3FwdJIF4ee2zVcJhCoQAvz0Yj7ekI62w0uz8aKL5VNtiZnpOeKikSw4BMmC8Md5J65JJAsOQLIgVH2ulSgIdZEw+PjzY5wbbyb+15C0Ajj3OvfCoeJ10X+8bSQI1kji4IgkC8LzbMrJK9oYb1yoAfx+UR9v/dy6oN+L+G2Jm+93poKZnScuGsmCg1yvShaE3887y0ay4CAkC0K159mr/uPMTEB1XnnJ8afnx7hP9jCTv050YXplVQH3AAYVCTRvrCozjNMoOrJqtBjmD5vmj8RBuTcD+A9TAM8SF5pxEzQSYv63/0F7iAff5QIUoNaL+7iwjxugC7OxF58rNJYHbwAAAFl5uAN1OjIFVc3RsecfwETM6SVlv7XMSn8tcdIfn/Mr+uPKXpKvxHVmVIT9GJ0LXHcenmRB2NNGuVx83nc7kdxxVsrmAtRwgX/TTL+sf1bxe3Jf3rQCAAAAgDG8NQVAZuW57NJMQK64LEWXPja7QkwnZoUf+FJ1Mp6LRuLgyvPRw5AsCIcRP3KRDf+xVB28Ki0HAOZ4kf9QLtw4nGV/PPgtAQAAAGAkJwokAMm9MwWQQ1SGK1UEP5bYdA3BU8V35utqg75DeyRZEA4vEjuiZXEkefxvOZHJmAdmcaHf7NoOS2Ab7qL4obR7BgAAAIChqS4IpFQqT3n+CuPH4qpUEbwXk+zJl2qDH0uHz6UpeTnJgjDOiexW4iAw8Yv9i3Khr/Tz8G7K74e5BwAAAGBIWsEBac9PjecVMIq4Niithv+32VWCW5gVDiRya6JF8b3iKi8jWRDG83Xi4EetioEJXfBH2XDl/Me1KhfDNlwAAAAADEXlLiArlU9hYPGMKnIcmj9aDUvYZSjLZldc5aOkweeRLAg5LJo/WhXHCe1MAgiQ8KI/Epqj7bAbgjkcl98N6wEAAADAULxEDKRS7pEvzAQMFnORJBgVBCNJMHIcJAkyljj3Sxp8BsmCkPOE9jkDv/RclwQCZLjwjwusexvudGIDdlvaQgMAAADAoUWCwNI0AImoKggD+EuS4MqMkOn6tNklDT64Tn0cyYKQWyQKfmlTfKHaIDDSxX8kMMfFvzeD8npXEsytEQAAAACHJjEHSKE8O12aCThonB1JEmQioivbff99vZc0+GOSBWEa4kI3SvtH0uCNExsw4MV/tB0+MxuTEAnmD6VdNAAAAAAcyoniBkASWqPDgZTnhBeNJEGmZ9nskgZvXLN+m2RBmJ5VObE96LsOHHADsCwX/xLPpmVRfiP8PgAAAABwSKoLAqMqnXZOzAQcJL6ikEg8J4yEXF2tmKpVsyu0cmEq/kyyIExXJPBEJvT/lhbFfqSBfW4A7l38T9ZR+X24MRUAAAAAHMjKcwlg7PNQ4zkG7FUUE+mPSBK8El/MRHyP38X3WgfPP0gWhJmc3Jpdi+IrZVSBF2wAopz4bdkAMH2rUoXW7wIAAAAA+6aiFzA2FU5hT+JZUn9EIZE4FmaEGYrvdXRnu/XCi2RBmNvG/HM5YL3XgWdsAo7LBsANvnmJdX3wpgwAAAAAByBRBxhFuee9MBPw4lg6Ki1ao5rg0oxQgXgW/rF02quWZEGYp1UjaRB4/EYgLooiUfDYbMxSJJPf137RCwAAAMDeHXtJFRiJZGV4ofIb/tDsuhhCTeLZaXTtvK81n0ayIMzbqpE0CPx4IxAth2/LRRHzdqW0NgAAAAB79qspAIZUnnnqkgTPj6GoJhjPBrUcpnbLZtehbVXbX/w/rT1UIU5uq/4kt+4/L9u23ZoSsBFodkmCS7NRlbiBsujX/7T/LfhgOgAAAAB4oXj24LkDMCRVBeGZSlJUFBJRWGJ48Vzu00/+mVgXneCGFXMexbf+u/+M56efavhLSxaEyjbtXzbu/ed1LSc64N82AnGReW8jUK3jckgWBAAAAJ5j3bbtxjTwlVV/XJgG4NBKIYSVmYAnx86i/7hpFBHZhy/XwfGc7V9/+ffCdt8vUZRz39dJhIvmj6qQf2t2z3wlGr5MFFxZ9nP9poa9jmRBqNO7/njbn+je9yc6G3ioazOwKpsB6hSbkzeqCgIAAADPFImCp6aBv4gqXxemARhAJHMohABPoJrgk0XBpXiOtu2P/9eURMAxE8hKEajNI9f7S9Lgl8//anaJhce+Az8V83NfqmbP+tpWsiDUfaJ715/ofu0/z/uT3Z0pgVlvBI7KRmBlNqoVm4g3qsoCAAAAzyRRkO85ikSE/vuxNhXAgb0zBfA45dlgFBA5MRvf9aEcX5ICP0z9OdpfEgvvvvGdiKTBZbNLIvzSjYy//Nb0c/X3ZsbPVSULAov+uO1PdvGDca7aFMxyM/A5zl3sVe1SJVkAAADgBSQK8jNRXXBtGoBD6bpu2fzRdhP4ebzEs0GV5P7wJYnun81MEgOf6qtEws03vi/xHDkS5Ja+N5/FPHzs5+b1HHNoJAsCX5/sHvqT3XWzSypReQrmsRmIt4VuXNRVvfE5VT0WAAAAeAGJgjzGcTxoHrNFHzB7b00B/Fz/exydxs7MxO/Jgf+IT0WTvq9cv8VxXb5Di2aXPxLJgzW3f4+/d+TQnM6tgrZkQeCv4sJh1Z/wzrUMgMlvBi4aJflrFpueU5sfAACgYvFw6L1pgJfFUdu216aBR/q1+UulGoB9KIkrWqnCz+Ok9k5j8Uzsf/rjzvOx5+vnbtvsKkbHcdp/t760Lv7v8lmbm2hLPKcXqCQLAt9yVE54sbHXmhimtxk4KpuBpdmo1rqcv1WJBQAAahX7odfuawEMKgoRXJYHzAD7pKog/EDlncaiu9aXBEHPxQ6g7KvjuC7PoeP79t9NXUncq5KQ+2YO37P/8LUGfmDZ7MqqXpSTPpB/MxBvdjw0EgVrFkmCpzZEAABAxSQKAoxnZQqAfSrPKJ1b4PsxEm2Ho4hITc/zI0Ewqrz9337fF8lba8/FhhHzXOb7Tcx/WYe7Sv76y/64n0PujGRB4DGijWkkDS5NBaTeDMRm+b4/FmajSrEJeqU1EAAAYG8kURBgRKp/AfsWlasUNYG/iISl/ojngmeV/JU3jQTBVL6ROHje7CoQzlkU7vlYCvhMlmRB4LEWzS5L+kqVQUi5IYjS4rWWF2e3QfrFwzAAAKByEgUBxndUXmoG2Jd3pgD+rKJOY9v+uGx2z8BeSxDMqyQOXvfHq/5fxrEue/RZXu82u9yZySYMShYEnireTFBlEPJsBhb9EZuBldmo1nXZINkcAQAANZMoCJCH6oLAXpTnkQszAX+Ki6i2OfdOY9HWNqoHRpLgRX9srfx0xL68P6IK5C/NrtrgHNfvS8LgyRQHL1kQeI5Fo8ogZNkkR6LgsdmoUjwIO+0vts9NBQAAQPNeoiBAGsdTb80GpCH5GL7S/75GYZ/bZp6dxuK513WzqyIYiYJ3Vnzavqo2GEmD0ap4M7O/YsTh7RSraksWBF7iS5VBm34YfjNw0ezeGpKwW6d4APa53LqpAAAAACAhCT7Ai0Rnpf7jxEzA7zFx039czfCvtm121eciSfBcFcF5iuTP6JTW/zGOzcz+ejdTSxiULAi8VFyoP5TEJeDwG4Gj/og3ht6ZjWrFm1RaawEAAACQ2UpnIuCl5xFTAL8/G7yfYUxsm10HrV9K9blPVnv++nXezDRpcFIJg5IFgX15Fxcp5S0f4DCbgajiGZsBb9LV67yUXrdhAgAAACC7M1MAvIAKpVSvJN7Hs8HljP5a2+aPJMG1Va7TTJMGJ5MwKFkQ2Ke4SIkqgxKZYP+bgVXZDGj7XadIDoxqgtemAgAAAICJ+NUUAM9RnomoTkrtcRDPBD8283k2uG0kCfIXXyUNnpbvyNRNImFQsiCwb3HhftufAK9MBextMxDxdGNjXK1oNxwbp42pAAAAAGBCFlNqxwakoqogVfuq29gcng1GQQxJgvxQfDfiO9L/8bJ8Z6bsqsRwWpIFgUM560+AD9oSw4s2AkcRR412HTWLC+NX2g4DAAAAMFGqCwJP0nXdstFlibpjYC6JgvFsKxK/JAnyaP135aL/eNUfdxP+a3xuH545YVCyIHBIcfJ7KBf1wNM3w3MqLc7TN1DxltWpqQAAAABgwpbZK6sA6UgyplqlIu8cEgXX/RHFMC4UxOCp+u/Mtj/e9H+MY6rfny8Jg4uMg5MsCAx1ErwwFfDojcBZM5/S4jzdtj9ee8sKAAAAgJnQThR4lJJUsTITVPr9j+/+TTPt54Mfmt0zriiIsbWqvET/HYrqgtGaeKpVBiOWb6ObYLaBSRYEhvKuPwmmPBFCok1AtB2OTcCV2ahWXOzGm1YfTAUAAAAAM7HybAB47PnCFFCjrxIFp+pzy+G2beMZ18aKsi9RmXLiVQajwvZttkFJFgSGdNIk780OI24CIi7ubYSrFpuoN8qxAwAAADBDZ6YAeASVSKnODBIFN01pOWw1OZSvqgxuJjj8ZSkYlIZkQWBonxOi+pPh0lTA75uAz4m0JT6oTyQHvraJAgAAAGDGfjUFwI+UhClVSKnxez/VRMF4vnXetu1rLYcZQqky+Lr/4+UEh78q8Z6CZEFgDHGhf5/pZAgjbgKi5fCtDXC1ot2wkuwAAAAAzN3CMwHgJ1QVpCqlmMhUEwU3ze751rWVZGilAEskDU6tW9tNlqJakgWBsU+GV6aBSjcAR/0R1QS136jXutlVFNyaCgAAAAAqoLog8E0leUL3JWr6zsf3fYqJgqoJkkIpxBJtiT9MbOi3kScw9iAkCwJjO4v+7BlOiDDwBuBjfyzNRrVO+4vYOD6ZCgAAAAAqsSz3RgH+SjIx1Si/hVFQZGrPxyMp67VqgmRR2hK/anYFWqbiqMT/qCQLAhmsml1bYgmD1LABiO/7Q6PtcK22za4s+9pUAAAAAFAhbUaBP+m6btHsnhVCDd/3qSYKrptdouAHq0g2UaCl/zif0JCPx+7AKVkQSHNCbHYJgwtTwUwv/qPtcJQTvzEb1do0u0RBGykAAAAAanWicADwFytTQA3K799tM61EweiQpVsW6ZWKl6cTGnJ04FyO9X8uWRDIJBIGH7QhYIYX/4tm95aQDW+9LvuL1Nc2UgAAAABULhIkVqYB+IoWxMxeSRSMZ4WLCQ37S9vhtRVkCsp39XWzS3KdgtuxXqKRLAhkvFFwL2GQGV38nzS7tsO+03WKi9E3/cXphakAAAAAgM+0IgY+67pu1UwreQqeKyoKTulZ4V2j7TAT1H9nN810EgYjN2aUroSSBYGsJ8X7kmQFU97kXjTTKyfO/nx54+rOVAAAAADA7xbu/wOFqoLMXv+bF8lAywkNObplvdEti6kqSa5TSRg86c8RZ0P/n0oWBLKK5Krb8kYRTO2i/6g/opT4O7NRrXXjjSsAAAAA+B7VBaFypcvY0kww8+95JAGtJjTkU92ymIOJJQy+688ViyH/DyULAtndSBhkgpvbBxvcqp33F6Cn3rgCAAAAgO9aDv1QFEhH0jCzVqroXk1kuPFM61Xbtmsrx1xMKGFw8HbEkgWBKZAwyFQu+uN7GhUFF2ajSl82UtemAgAAAAB+SmcWqFR0aGqmVW0Nnvodj+IiNxMZ7rbRLYuZmlDC4HLIdsSSBYGpkDBI9ov+m3LRf2Q2qrTpj19spAAAAADg0U5KwhBQnzNTwFyV37apPDOM51qvPN9izr5KGMzu3VDXxpIFgSmRMEjGC/5Ff0TbYd/Nel33F5mvtR0GAAAAgCdRWQzq9aspYMYiUfB4AuP8nEDl+RY1KAmDpxO4Nh6kIqlkQWByF1cSBsmi/y4u+4+HiVzws3+xeTrtLy7PTQUAAAAAPMtbUwB1Kc/5FmaCmX6/L/qPkwkM9a6RKEhl+u/7usmfMHhSchAOSrIgMEUSBslysX/faDtcqy9vW61NxSjxp0UNAAAAwDxE55YT0wBVUVWQWSoJPu8mMNR127ZvJApSo/Jsd518mAevLihZEJgqCYOMdaF/1B+3E7nY5zC+vG31wVSMFn9x3EcbcLMCAAAAMHmqC0Iluq6LTk1LM8EMv9uLZvfsIrtIFDy1YtSsxMAm8RDjZZqzQ/4f/KevATBhkTC47U/mG1PBgJvYyOTXdrhe5/0559o0pIi/+Hzo//1oBX1nhgAAAAC+6/Ib/97fmzwJO8tIsmjbdmupYPayJQfH/f5/JT4/Mh3x/CJ7RySJgvCHN/3x0B+LpON7118frw9VAVSyIDB1t/1JUoUvDq5UsrxqtB2uVVyIvZGcPFr8nXxno31Ufgcu+7W5MFMAAAAA/+5b901Kq8RlomFGJxcJDDBj0Tmm/1glGtKmPz+ef2OcF41kQZ723Z7Cd0aiIPz5+vhTH7tfEgYzOirXx+eH+B/XhhiYujhJ3peKU3Coi/xIEpzCG0EcRiQj/yJRcNT4u/1J/MXbNbflZhMAAAAAP1HudWV6Cf/EvR2YvbNk4/nNkvBSJfn+XfJhbiQKwjevh+NaOHNsnJUW53snWRCYgy8JgwtTwZ4v8I/64yHhBpbhxJtWrw5V4pmfxt/9E+Ivqg8+SB4HAAAAeLT3icYS9/lPLAnM2q+JxrJt23ZtSXiJkuR+m3yYkQz1xmrBt5XfgrvEQzxIMrJkQWAuvrSi9OYh+7rAX/YfH/tD4lGdIjnw1JtWo8XfcYm/5RP/q4tmlzy+MosAAAAAP1Yejm4TDemdVYF56roukoEXiYakqiD7kL0rWSQKvlYQA37qNNk18ddWhyiUIlkQmJM4Sd6bBvawaT0r3yXJp3Xals3T2lSMFn8PL4i/+O/d9P87N2YTAAAA4KcyJcwsykvcwPy8TTSWSJy6tiS8REmAzVwRN77nEgXhEUqcZC4gc7Xv/0HJgsDcHEsQ4QUX9kfl+3NlNqoVZaaj7fAHUzH5+Is3bR60qAcAAAD4oWwJM28tCcxLuUe7TDSkOwlU7OE7nfl5tERBeKI+Xjb9x2XS4S33/UKNZEFgjiJBRLIXT72w/1KZcmU2qnXZXwi+sXkabWN9iPiLuH7wRjoAAADAt5V7YetEQzrx8ifMTrYW45eWhBfK3n74jaIY8Kzr4otm17579r+lkgWBuTrrum5lGniMUio8EpWOzUaVvrxhdWEqRou/hwPGX2zY70t7YwAAAAD+3ftk41FdEGYiOso0uVq1btq23VoZXvCdjmcNy8RDPC0V0oDnOU86ruU+X6iRLAjM2U2pFgc/uqiPKpS3Te43gDiceDvklY3TaPF3MWD8XfX/f7fl5hQAAAAARak+tEk0pJV7ODAbqybX85f3loTnKok67xIPcd3/pq+tFLzoujiuia+TDm9v5x/JgsDc3WtZwHcu6I/6I6oJqjZWr9gwvfYW4ajxN/Sm+qT8LkgkBwAAAPiz3xKNJVslMuD5MlUK3bZte2dJeIGrJm/xkaiaeWqJYC+iXf2nhONa7Sv3RbIgMHdxwaaSFH9SEoU+NrnLhHNYUYY9jk+mYpT4exgx/uL//16regAAAIA/lEpE20RDemdVYNq6rouk30WiIakqyEu/z1kT2eP3+41Vgr1dF8fz46zJt3tJwpcsCNQgEkOuTAPlYn7V7BKVJJDWKTZMr5RhHz3+FiMPJeL/prQhBwAAAGAnU3XBRdd1S0sCk5apqmAkfqwtCc9RitLcJB1efLffKI4B+1Uq0W4SDm21j0JZkgWBWsRJU7vZyi/k++Mm8cU8hxcXdJEo+MFUjBKDGePvrB/Xg+qzAAAAAJ9dJxvPW0sC01TaJC4TDelOMhUvENVusz5HOPfcCw4XXwnHFOei1Uv/RyQLAjW58iZi1ZvS+338cDJZl/1m6bWbAePEXyTkJY6/z23JS3tkAAAAgGqVe2frREM6Kfd2genJ1kr80pLwHOXZQdaCNGudtOCg18YfmpxVaV/8Qo1kQaA2typIVXcRf9Ls2p5KBKrTl/LrF6ZilPhbTiT+4nfhQQVaAAAAgOZ9svGoLggTU57DnSQa0qZt262V4Zmuko4rkpjOLQ8cXCSbZytGs3hpkSzJgkBtYoNyaxqq2ZBelPWWIFqn2ChFNcE7UzFa/N1PLP6iAu2NpHIAAACgVqWCyibRkFbu1cDkrJpc94XfWxKeo//9ie/yMunwTnXTgkGujbdJf0d+fcl/+T8t7WBfoNYsPPnH9+sf3i9//lu5uDxuJP/wfMtIYlFpbNbnjy9JoUuzUa11f5zbKI0WfzdNrjdHnyI2/8f93+O03BwHAAAAqM1vTZ57q18qlK0tC0xGpoqgWwUFeI7yrCNrVcFzzy9gUNflty1TjlK8UPPsZ+EqC5JW/6XefHVclCNaSUaVqP9bEjBf98dpCc6NWeMJ3r20NCtpL94jmTjanlrfesWFkTeqxo2/k4n/VeLvcV/amAMAAABUpW3bdf+xTTQkrYhhIso91UWiIV1aFZ7prMlZvChyJ64tDwx6bRzPnDNWF1w9978oWZCpB2X8GK7747wkEUYC4atml0CYbTNLPrfaF8xuExo/iPfJNqIMJy7UXtkkib89OSq/E1dWFwAAAKhQpgeix17+h8nIlNwbzwxUFeTJ+t+cRf/xLuHQ4jt9aoVgFNclBjN5ditiyYLMTpTcLQmEUVXql/7f+qX8aN4lDF7G9aVVJvO4cL8p6ykBtE6bON8ruz5a/F3NOP7O+r/fveRyAAAAoDLrJtczlV8tCeRWEqyWmc5jOhDxTO+SjivyH7aWB4aXtLrgcen69mSSBakhaLcleTBaGP/fZte6OLJ+/ZASTvoT6JlpmPbmsz+i7enKbFTrulSXtekfPv6OSvzN/Ty67I+H515wAwAAAExNudeWqSLXqiQiAXllaxn+3pLwVKWS7Srh0O7632aVMmFcGbvbPeuFGsmC1LjB3ZS2xVFx8FWTs1wow3onAWTSF+yRqGT96vS53Hqc003FaPH3saL4WzS7hMGV1QcAAAAqcZlsPCtLAjmVziyZYvROBTaeKWv7Yc/CYGTlZZp1smGdPOe/JFmQ2oP5Q0kcjIqDb5pcb8kxHO2Ip7nxvOg/7htth2sV7YajmuDaVIwSf2cVx99NtD3XlhgAAACYu5Jos0k0pLdWBdKKZIVM90xVFeTJSpGEZcKhXUp+hTzxmGw8i+cUxpIsCH9seuMNk0gY/KUEuB/cuhyX5DPyX6hH29PbJuebPQwjErsjUfCDqRgt/q4qn4pVf9xrfQMAAABUIFPCzZGuD5BWpmc22+g0Z0mY+Pf4i+iaeG1pIIeSuJutCNmTWxFLFoRvBHd/XJQ2xafNrnoVlVwAakecW1mfqGZ2YjaqFdVg35Qyz4i/McV8RFti8wEAAADMVhRaaHIVV1BdEJIp1dgWiYZ0aVV4xvd41eSsKqj9MOTzW7LxPPlZpWRB+PEmeN0fr/o/vm5yldrncLQjzn2RHolKEjrrFMmBr709NVr8nYi/b4q2Grcq0wIAAAAzl6m64HFJTALyyJTEG88S7iwJz5CxquClLluQT8KXaZ7ciliyIDwu2KO8byQMShqcP+2IE+rXJFqeRiLnkdmoUmyEftE2YNT4uxV/P76JEO2Zo02zqQAAAABmaN3sEnCy+NWSQA5d1y2aXN1o1joT8Yzv8arJVR0zbPtDAQ3I632y8Tzp+liyIDyBpMFqaEec5+L8qD8e+j+emY1qfa7wanM/Wvzdi79HixtiD34/AAAAgLkp9+YyVepalQQlYHzZWoO/tyQ8Q8aqgueejUFq62TjWT7lH5YsCM/bGH+dNLg1I7OkHfHISiuJj422p7WKDdBpf649NRWjxN9xib+l2XiSRX/cl7cQAQAAAObkMtl4VpYExlU6rWSKxbu2bbdWhid+j+M7vEg2rE1pcwoklfBlmuOnvEwjWRBedgKIH+pf+j+eN7lK8LOfk6lqWuNdmMfcR0UzLT3rFJv51/35dW0qRou/B/H3bDFvN/08SjoHAAAAZqMk4GwSDemtVYHRRbeVTPeRVRXkOTK2tj+3LDAJvyUbz/Kx/6BkQdjPJvm6/4ikwbXZmJV3WhkMq7Q9jQSbK7NRrXgDI9oOfzAV4m/ioh3Og98RAAAAYEYyJeIc6e4Ao8vUunUbRV4sCU9Rupwtkw1r7RkZTEOpAJqpqNh/P/YflCwI+zsRfCrtMqM1sR/weYi3oSTNDHdBHm1Po5rgymxU67I/j74pZZsZNv4W4u8g4rz2UG44AAAAAExaeSC6TTQk1QVhJOWe5yLRkC6tCs/wLuGYfJdhWjK1Il4+9h+ULAj73yxHa+JXfshn46Tf8JyYhoNvKmOOI1Hp2GxUKZIDo+3whakYLf4exN/BROL5vdb2AAAAwExkevZxXF5CB4aXKVk3CrqsLQlPUX4/ltl+Y/vv8tbqwKRkakV89NhrY8mCcCAl6SWSBlUZnL6raM9pGg52MR7VG2+bXUIN9Ylz5CvtAUaLvwvxN+hvya3fEwAAAGDisrVbU10QBlY61WQqtPHeqjCD34/4bb22LDAt5Rn3NtGQHvX7LFkQDnti+KDK4CzEpkdFqP1vJiOz/d7cVm3d7CoKbk3FaPH3zmwMfoF+7413AAAAYKrato1khnWiIa28nAmDy5ZktbYkPEVJeF0lG9b78hsLTE+mVsR/f8w/JFkQhtk8X/Qfr5tcGcU8ceNTLhzZz0V4JMp8bPKV92Y4p/258dTGZ7T4exB/o4n5j4TBlakAAAAAJipbFS8vpMOwVonGslaQgGdQVRDYp38kGos2xJBJKT8aVQbvzMYkxZuJV6bh5UqCzEOj7WmtYtMebYfXpmLU+FuYjdF/U25KG3YAAACASSmJOZmedfxqVWAY5R5zpuc7v1kVnvgdju/vKtmwVBWEaV8bx3Vxlhg+ekyHM8mCMOxJ4lN/vGm0JZ6qk/7EujQNz7/47o+b/o83ZqNam2aXKPjBVIwSg+Ivn7N+XR60ygEAAAAmKFN1wYUuDjCYTBXZPpRiLfAUJ02uhFdVBWEeMr1Is/zZPyBZEEbwVVtibwhMzztT8HSlhfN9k+9NHYZz2Z/7Xnszapz4i4Q08ZfW57bsj3nLBwAAACCLkqCzTTQk1QXhwEpBjUz3Md9bFZ4hWwtiVQVhHjK1Iv7bz/4ByYIw7kY62hKrsDUtS28oPnnzGG/oPCTbQDKc2OC8KUnSDB9/S/E3CfEWY1QYPDMVAAAAwIRk6qK09DImHFympNzo5ra2JDxFwoRXVQVhPlQWBB6nv4jdNrsKg3dmY1JUF3z8RfdF/3Hb5CrnzXAiGTqqCTrHjRd/9+JvUq6iXbS2xAAAAMBExH2/TNWQ3loSOIzSQWqVaEiqCvIc2arQqioIM1FiOUuhsMXPnjVKFoQEJ43+eNP/cW02JmNRknD4/qbxqD8iSUliZb3inBaJgqqnjhN/t+Jvslb9ce9NeAAAACC78lB0nWhIKy9hwuHiK9l41paEpyi/D9m+x6oKwrxsEo3lh88ZJQtCnk31af9xbiYm462bDt+92I4fnmh7ujQb1TqPc5q3oUaNvxOzMWmxjveljTsAAABAZtmqe51ZEjiITJU716V7GzzFKtl41p6jwez8T6KxLH/0H0oWhET6C4J4e+DUTExCJAq66fAXXdfFhXZUFFyYjSrFpuZVOZch/nj578xtv65XpgIAAADIqiTs3CUa0q9WBfar3HvOVEDjN6vCDH4fLi0JzO66eJNoOP/1o/9QsiDkO4GsGwmDU6G64J83izf9x02yDSPDiYufX7QdHi3+rsTfbJ1FW3e/NwAAAEBimaoLLkpiE7A/maoKfkiWjMEElK5Mx4mGtFEdE2Yry2+UNsQwNSVh8E2zq9JFXqoL7i6w4+ZLtD1d+UpU67o/b71WLn2U+Dsq8afS6bwt++Oh3NAAAAAASKUk7mwTDUl1QdiTruuWTa4kq/dWhWd4m2w8vscwX/9IMg7JgjDRzXWU7X/dSBhMf3FZc7Wnskl8SLZRZDhxfjrtz1fnpmK0+Pso/qqxaHYJgytTAQAAACSUqZ3i0kuXsDeZkm+3peAKPNVJsu/xnSWB2UrThe9H18OSBSGx0s5TwmBu1VYX7H9cLvqP+0bb05ovdF7bmI8Wf2fir1o35fwLAAAAkEkkPmR6lvHWksDLRGepJldXqd+sCs/4HkeiYKZnKaoKwrxtEo1l8b3/QLIgJFcSBk/NRGpVVRcsbU9v+z++s/TV+lz5tJyfGCf+rsxG1fF3bRoAAACATNq2jUTBTAkQJzV3BYI9WSUbj/uiPEe21vRrSwKzvybeJhmOyoIw8RNKJAZIGMyrmuqCpVRtVDM7sezVOu/PSW/KhQ7ij2Fdij8AAAAgsXWiscR9+5UlgRfJVKFz7b4oT1WSxk98j4GBZSm481/f+w8kC8JElFafEgYTb5jm/pZi//dbNbtEpWPLXaXYvEQ1QW/ujRN/J+JP/PXxd2EqAAAAgKzatt02uRIGtSKGZyrPhLRuZeqyFV/QShvqkCXWv5ucLFkQprXRjk32pZlIadbVBftNYbQ8vUm2MWQ48fbDL/05aGMqRou/W/FXdfy9En8AAADARGRKhFiUl3CBp8vUunXTtu0HS8Iz/HeisWzd54c6JOkcGpVMz7/3H0oWhOmdWC6aXG/mkXPjtBdRLbE/HppK2izz3QuJV8qijxZ/9+JP/JW38gEAAADSK4kQmZJ6VBeEJ+q6LjrcLBMNSTU2nvM9ztaCWHVMqOuaeN2MlzAYzxd/+P8tWRCmeWKJwN6YiXQWpSz7XC6iYyP4sdH2tFaRHHj6swsJDhZ/xyX+lmajWuIPAAAAmKpMCRHLrusWlgSeJFOS7bYkXMBTZasse2dJoC4jJQyuH/N8UbIgTNebJtfbeeTbQD1b13VRySwqmml7Wqdtf7y2AR81/h7EX9Xx90r8AQAAAFNV7mtk6lTyzqrA45RqbKtEQ1JVkOfK1IL4TgchqPq6eKiEwfVjC5FIFoTpnlQ+lZOK1qC5HJeKfJPdBPbHTf/HK0tZrXizKRKVJCOLP4a3EX8AAADATGSqLnhSEqCAnztLNp5rS8JTJWxB/D9WBeo1UMLg+ikdyyQLwrRPKpFM8MZMpDPJ6oKl7WlUE1xZwmpd9ueVNyUZmWHjbyH+xF8fe6/FHwAAADAT60RjyVYpDTL7NdN5xP1SnkkLYiCVSBhsD+tJyYiSBWH6J5VN/3FpJnJdgJbEn8noxxsXzZGodGz5qhSb7UhSujAVo8Xfg/irOv7eiD8AAABgTkq7xXWiIb21KvBjXdet+o9FoiG9tyo8098TjUXSK5COZEGYx6b7ovFGQjaTufHQb/6i5elts3u7kvpEhdJXJfGY4ePvQvyJvz7+/IYDAAAAc/RborEsyku7wPdlqiq4KR3W4Dm0IAb4AcmCMB9RVnRrGtJYZR9g13VH/RHVBM8sV7XWza6ioHPHePH3zmyIP1MBAAAAzFF5QTlTso/qgvAdXddF55tloiH9ZlV45nc5EgWzFGj4pFgAkJFkQZjPpjvKF5+aiTSOSrn2zJu+j8k2fgzrtD9vnCp9Plr8PYi/qp2LPwAAAKASmdqILruuW1gS+KZMybTbtm3XloRnytSCWKIgkJJkQZiR8pbepZlI49eMgypJjJGopO1pnbbNru2pjfa48bcwG1X6VOLv2lQAAAAANSj3ITO9MKnTB/xFdMJpcnXMem9VeAEtiAF+QrIgzG/jfdHkKutfs1RvKZa2pzf9H28sTbU2zS5RyTlinBgUf+LvF/EHAAAAVChT4s9JSYwC/nCWaCyRXLy2JDxHeS67SDSkjVUBMpIsCPP0psn1pl7NUpRtLxfH902uN8MY1mXbtq+1PR0n/vrjQfxV7Vr8AQAAABXL1GUhEgVPLAn8SaZOWXfuo/ICJ77LAD8nWRBmqL/w2DbaEWexGnsAXdfFhXEkKh1bjirFRuRNqTrK8PG3FH/ir4+/c1MBAAAA1KokS6wTDUkrYii6rls1uSqxeb7JS/w90Vi0IAbSkiwI8918x5t6GzMxuqOSrDfWJu+i/7htdm9LUp9odxrVzO5MxWjxdy/+xJ+pAAAAAEjVinhRXvIFclUV3JSCKPBcmc7tG8sBZCVZEObt1BTUudHqui6SFCNJyRuS9Vo3u0SlD6ZilPi7FX9VuxN/AAAAAH8o90k2iYb01qpQu67rFk2u5Kr3VoUXfJ+jw1OW4g0fJL4CmUkWhHlvvuMiRLnu8Z1E8tDAF8MPyTZ4DOu8j//T0t6D4TejEX8nZqPq+Hsj/gAAAAD+zW+JxnJSEqWgZpleeN/q0sJLz+uJxqIFMZCaZEGYuf7C+iIusM3E6FZD/J90XRf/P1FRcGHKqxTJSa9KG3IGJv7EX7OrJij+AAAAAL6hbdt1k+t5heqCVKsUuciUXKWqIC/190RjkfgKpCZZEOqgHfH4Dt6KuN/Y3fQfcRyZ7ipt+uMXbU/H0cfflfir2ocSfxtTAQAAAPBDmaoLrobsCgTJrJo897PjRey1JeGFllm+z57VAdlJFoQKlOQFbzCM6/hQLQ3if7c/HpqBqheS0nUf56+1PR1e3Ews8XdmNqqOv1fiDwAAAOBRMnVlyFZZDYaUqbLmnfurvETXdctEw9lYESA7yYJQj3NTMLq933QoF7+RqHRseqsUm+fTfhMtvsfbfH4Uf+LPVAAAAAA8TkkIWica0jurQm26rovnVYtEQ7q0KrzQMtFY/mE5gOwkC0I9G/Cti+3R7bUVcb+Zu+g/7httT2sVJcyjmuDaVAyvj78z8Ve1rfgDAAAAeLb3icaySFaRCoaQqargpjzDhJf4W6Kx6PYHpCdZEOoS5f2V8R7PXloRl7ant403HmsWG41IVPpgKob1VfxdmY2q4++V+AMAAAB4nnJfZZNoSG+tCrUoz6mWiYb03qqwB1m+01vJr8AUSBaEujbgkSiouuC4XtSKuN/ERbvT++YALY2ZjPM+lt+UeGZA4o/4DRV/AAAAAHvxW6KxnOzjRX+YiEyFKCKxShU2XqQ8u8nSBWpjRYApkCwIlekvuqO64NZMjObZrYj7i91Vs0tUOjaNVYrkpNclhhl+s3ki/sRfH38XpgIAAADg5dq2XTe5nlWoLsjsReecJtfL8AqcsA+Zntv8w3IAUyBZEOrk4nvEC9ayGXvqBi5ant40ed6MYVjRluOXtm03pmJ4Jf5uxV/V8fdK/AEAAADsXabqgqvn3LuHiVk1ee5zxwvaqgqyD39LNJYPlgOYAsmCUKGEb+zV5tFvbcXNif546P94Ztqqte5j9pW2p8Mr8Xcv/sRff/jNBAAAANi/6KKS5b5ntoprcAiZKmiuPfdgT5ZJxvGp/05LFgQmQbIg1Et1wfH892P+oa7r4uL2Y6Ptaa1ik3zabyxOTcXw+vg7LvG3NBvVEn8AAAAAB1QShTJVFtOKmNnqui6SYReJhvTeqrAnWZ6jbiwFMBWSBaHeTfi6UV1wLMtHbNqikllUNNP2oE4Rm69LnDKwEn8P4q/q+Hsl/gAAAAAGkamwwXF5iR/mKFMy7J1uLuxDsnP2P60IMBWSBcEmnOEdlTe4vnVRG//ZTf/HK9NUrXiT9pVS5aNsKsUfG/EHAAAAMJySMLRJNKRfrQpz03XdosnVRUdVQfYlU3e2jeUApkKyINS9CV83u1anDO/v39isxQVtVBNcmZ5qXfZx+aa032BA5WaJ+BN/r8UfAAAAwOAyJQ6tyr1CmJN3icaybdt2Y0nYk79lGYjvNTAlkgUBb++MY/n1vyiVBiNR6djUVCmSkyJJ6cJUDK/E34P4qzr+3og/AAAAgHG0bRvdVraJhrSyKsxFdNTpP04SDUnXM/Ypy3Md3YqASZEsCFybgnEuXr+8ndh/RsvT2/44Mi1Vig3EK28cjaOPvwvxJ/7KDWkAAAAAxpOpsMFby8GMRKJglvvf8eK2e7Hsk2RBgGeQLAiVK+0W12ZinA1a13VRTfDMVFQrYi8qCm5NxbDibcoSf+/MhvgzFQAAAACjWze7RKIM4t7hypIwE5nuga/Lc0l4sf48nalb1D+tCDAlkgWBoBXxOKKi4NI0VOu03xSf2hiPtoF8EH9VOxd/o8bfr2YCAAAA+Fq5T5Op4pjqgkxe13XL/mORaEieR7JPmZIFVRYEJkWyIBCb8A8uYmAw22bX9nRtKoZX3giORMGF2ajSpxJ/16ZitPi7F38AAADAd1wmGstxSbSCKcuU9Hqnywt7tsgykP67vbEcwJRIFgS+8DYPHF5sFl6VBF0G1nXdTf9xYyaqjr9fxN/o8XdkNgAAAIBvKYlEm0RD0h2Byeq6btF/nCQakueQ7Nvfk4xjaymAqZEsCHwR5f21Y4TDuWzb9rW2p8OLmyL9EdUEV2ajWtfib7T4OxJ/AAAAwBNkSihalYQrmKJMVQW3Kq9xAFnOzwoUAJMjWRD4rCRQ3JkJ2LuIrTd9jF2YiuGVViGRqHRsNqqNv9M+/s5NxWjx91H8AQAAAI/Vtm08p9gmGtLKqjA18QJvsu/upVXhABZJxvFPSwFMjWRB4Gu/mQLYq3ib6HW5wcXAuq676D/uG21Pa4+/takYJf7OxB8AAADwTJmqC761HExQtB/Ocl/uk3u07Ft5UT0LlQWByZEsCPyulADfmgnYi9j8RqKSTcLwm8Roe3rb//Gd2ajWnfgbPf6uzAYAAADwTOtm1zEig7jXsbIkTEyme+PvLQeHODcnGsvWcgBTI1kQ+CsV0ODlztu2PS3tvRlQ13XR7jTaDp+Yjarj7434Gy3+7sUfAAAA8BLlvs460ZBUF2QySsW1RaIhra0KB3Cc6DdL0QJgciQLAn+lFTE8X9zEetVvDK5NxfDKG76RqLQwG9XG32vxN1r8nZT4OzYbAAAAwB5kqkZ2nKzlJfxIpuTWddu2W0vCAfxXknFIFAQmSbIg8Cfl7QcX7vB0m/74xRtE4+i6Llqe3jS5Ss8z7IY84m9jKkaLv1vxBwAAAOxLSTDK1AnpV6tCdl3XLZpcXT8UKOFQFknGsbUUwBRJFgS+RStieJrrtm1fa3s6vK7rjvoj2g6fmY1qxdupr8TfaPF3L/4AAACAA8lUXXAV90IsCcllqir4wcvdHFCWDjf/tBTAFEkWBL7Fmz7wOJGcdNpveM9NxfBK64+PjbantcffqakYJf6OS/wtzQYAAABwCCXRaJtoSF6YJK2SzLpKNKT3VoUDypK8vbUUwBRJFgS+tQHXihh+LuIkqgmuTcXwuq6LG3P3jbantdqKv9Hj70H8AQAAAAO4TDQWrYjJLNoPZ7lf98m9Ww6lFJLIYmtFgCmSLAh8z8YUwHdFq+7XJbGWYTeB0fb0tv/jldmoOv5eib/R4u9G/AEAAAADintBn5KMZdF13cqSkFSmFsSqClILzymASZIsCHzP/5gC+Kbztm3f9McnUzGs0vY0qgmemI1qXYq/0eJvUeJvZTYAAACAoZT7QOtEQ1JdkHRKpbXjRENaWxUOaJnsNwpgciQLAt+zMQXwJ3HBH9UEr03F8LquiwTBSFQ6NhtVx9+FqRgt/h7EHwAAADCSTFXKluWlZsgkUxLrum3brSWhAqoKApMlWRD4pvImxMZMwO8X/NH2VEyMoOu6aHkarYePzIb4Y/D4uxB/AAAAwJhK4tFdoiG9tSpkUTqCrBIN6TerwoH9Lck4VBUEJkuyIPAj/zAF8PktuFfehBte13VH/RHVBM/MRr3x1+wqCoq/8eLvndkAAAAAEshUXXAV904sCVm+j4nG8sFL3wwgy/lXZUFgsiQLAj/igp6axRtBp/3G9tRUDK+08vjYH0uzUa3P8Vcq3TJ8/D2IPwAAACCLkoC0TTQkLziTRaZKl+8tBwNYJBnHvywFMFWSBYGfbb6hRttmV81sbSqG13XdqtklKnk7t974eyX+Ro+/hdkAAAAAkrlMNJZfLQdjK/fystxH37qny0AWWb7zlgKYKsmCwM9sTAGVuWt2iUrKhw+stD296f94Yzaq/s0Rf+PFoPgDAAAAMot7t1m6UCxKohaMKVNVwd8sB5XZmgJgqiQLAj8jYYOaXLZt+0bb0+F1XbfoP+77Y2U2qo6/1+JvnPjrjwfxBwAAAGRW7htlanOquiCj6bpu2X8cJxrStVVhoO99Fp5lAJMlWRD4mX+YAioQF/SRJHhhKkbZ3J00u7anx2ZD/DF4/C3FHwAAADAh60RjWXZd554KY8mUrLr2Eji10SEJmDLJgsDPuNChhu94tD29MxXD67ruov+47Y8js1Ft/L0Wf6PG3734AwAAAKaibdttkyth8K1VYWilU88q0ZDeWxUGsjAFAC8nWRB4zMbb20DM1brZJSptTcWwuq476o9IUnpnNqqPP0np48TfrfgDAAAAJuq3RGNZxb0WS8LQ37tEY9m4x8uAFknGsbUUwJRJFgQew0U+c3Tab2BPlcYfXmnNEW1Pl2ajWufib/T4OzEbAAAAwBS1bbtpcj23WFkVBpapouVvloMKbU0BMGWSBYHH+IcpYGYX8NF2eG0qhtd13arZtT1dmI0qfSrxd20qxB8AAADAC2Rqe6oVMYMp9/iyVLPcetbCwP6PKQB4OcmCwGOoLMhcbJpdopLv9Ai6rrvpP+LQlqPe+PtF/I0Wf1fiDwCAmfubKQCoR0lQytK1YtF1nS4ODEVVQWp2nGQcnnMAkyZZEHiMrSlgBq7btn2t7enwuq6Lm2XR9nRlNsSfqRg8/o5K/J2ZDQAAZu6kvKQGQD1UF6Qq/bVOJEodJxqSDjLU6l+mAJgyyYLAT6kCxcRFctKb/nt8biqG13Xdsv+IRKVjs1Ft/J2Kv1Hj76P4AwCgIisJgwBVWScayzJemrYkHFimpNS1l8MBYJokCwKPJWGQqX5vo5rZnakYXtd1F/3HfaPtae3xtzYVo8TfmfgDAKBSEgYBKtG27bbJlTD4zqpwKNFBpMnVvee9VWEEWV6MlygLTJpkQcBFD3O1bnaJShJdB1bant42bo7V7E78jR5/V2YDAICKSRgEqMdvicZyUhK64BDOEo1l494vI8lyjvX9ByZNsiDwWP8wBUzIeb9RPVUCf3hd18VbXVHN7MRsVB1/b8Sf+AMAgJFJGASoQNu2myZP0ka2ym/My6+JxvKb5QCA6fpPUwDAjERykmpmI+m6btXsqpl5e7be+HtTbtAyfPxFguCN+AMAgD9Zlb0q8Gdx7+y1F/2YkWiHmiVB/G1/XFsS9qlczyySDGfb/36srQoATJfKgsBjbUwBycVNzl8kCo6j67pIEpSoJP78VowXf7fiDwAAgEf6XJleu1TmoiQuZUl+XZSXOmGfMlUVfG85GEN/bl0kGo4XLoBJkywIwBxct237ytvQo2zOjvrjof/jmdmo1lr8jRp/9+IPAACAZ5AwyNxkSmB6aznYl/48HefrZZLhxD3gtVVhJIssA1G4BJg6yYLAY7noIaPYmJ72F+XnpmJ4Xdct+4+Pze7mMvXG36mpGCX+jkv8Lc0GAAAAzyRhkDnJ1Pp3mawCFtOWKfn0zkvjADB9kgWBR3HxT0KRwPq6tJhgYF3XRSWzqGjmZnKdtuJv9Ph7EH8AAADsgYRBZqE8w1gnGtI7q8JLlXPzKtGQLq0KAEyfZEHgKSQMksVds0tUUvFyYKXt6U3/xyuzUXX8vRJ/4g8AAIDZ+JwwaBqYgUytiE8k4bIHZ4nGsmnbdmtJAGD6JAsCTyExhAzO+w3pG9Uuh1fansaN45XZqNal+Bst/hbiDwAAgAM6NgVMXXm5dZNkONkqwjFNvyYay3vLAQDzIFkQgKmI5KSoJnhtKobXdd1Js0tUcuO47vi7MBWjxd+D+AMAAAD4qd8SjeWt5eC5uq5b9R+LJMPZtm17Z1XgM8UUgMmTLAjAFMQbodH2dGMqhtd1XbQ8vW12b8Mi/hg2/i7EHwAAAMDjtG277j+2SYaz6LpuaVV4JlUF4c+ynE914gMmT7Ig8BT/MAWMYN22bSQqbU3FsLquO+qPqCZ4Zjbqjb9mV1FQ/I0Xf+/MBgAAAMCTqC7IpHVdFx1GlkmGE1XU1lYFAOZDsiAA2SnnPYJyM+Jjk+eGBMM7bds2DjE4Tvw9iD8AAACAZ7lONJaTrusWloQnypRkeuceMQDMi2RBALI7i+paUWXLVAyjn+tVs0tUMud12ja7tsNrUzFq/C3MBgAAAMDTlcSmdaIhqS7Io5VnISeJhnRpVQBgXiQLAjAFy/54KNW2OJDS9vSm/+ON2ajWptklCn4wFaPEoPgDAAAA2I/3icay8jI8T/m+NHle5N+0bbu1JAAwL5IFAZiKRbNLGFyZiv0rrTDum92NCOp02bbtay0lxom//ngQfwAAAAD7UV6G3SQZTrZKceSWqRLle8sBAPMjWRCAqbmJ6lvexNyffi7jRlUkKqncWKdIDnzTtu2FqRgl/pbiDwAAAOAgfks0lneWg58p9+oXSYazbdv2zqoAwPxIFgRgilb9cV+q4fEC/Rxe9B+3TZ62Bgwr3rB+7abPqPF3L/4AAAAA9q9t23X/sU0ynEV5aRR+JFNVwUvLAQDzJFkQgKmKKlwP5U07nigqM/ZHJCl5o7Ve62aXKPjBVIwSf7fiDwAAAODgMlUXfGs5+J5SHGGZZDjRjcYL5gAwU5IFAZiyqMZ1W6pz8Uj9fH1OtGzy3HhgeOdt2572xydTMVr8SXQGAAAAOLzrRGM50S2HH8j0YvHavWMAmC/JggDMYhMdVbqiWpep+LF+jlbNru3pwmxUKW7wvGrb9tpUiD8AAACAuSsJT+tEQ1JdkH9Tnm1kern4vVUBgPmSLAjAXMRG+qFU7eIb+rm56T/ikFRZp01//KLt8GjxdyX+AAAAAEZxmWgsKy+9863vRZPnvuFd27ZbSwIA8yVZEIA5WfTHfaneRRGtLfoj2p6al3pdt237WuuIUeLvqMTfmdkAAAAAGF5JfNokGU62CnLkkKnipKqCADBzkgUBmJu42XJTquhVr5+HZf8RiUoqLtYpkgNP27Y9NxWjxd9H8QcAAAAwukwJUO8sB190XRfJo4skw9m2bbuxKgAwb5IFAZiraOcQbYkXtU5A/3e/6D/uG21PaxXthqOa4NpUjBJ/Z+IPAAAAIIe2be/6j22S4SzKS6YQMlUVvLQcADB/kgUBmLOo5vVQ242X0vb0tvGGas3i5mckCn4wFaPF35XZAAAAYEJOTQEVyFRd8FfLQSl2sEwynOhSc2dVAGD+JAsCMHdR1eu+VPmavf7vGQmSUc3sxNJX67xt2zf98clUiD8AAAB4hFOdCahEfM+z3DNb1dwVh99leuF/7Z4yANRBsiDwFH8zBUzYVVT7iqpfc/0L9n+3VbNLVDq23FWKGzlRTfDaVIwSfyfiDwAAgAmSKEg1SiJUpsppK6tSr/KsItNLx++tCgDUQbIg8BRHpoCJ+5zMU6p/zUr/d4qWpzfitFrRbviXtm03pmK0+LsVfwAAAEyMREFqdJloLG8tR9VWTZ77iXf978HWkpDchyTjWFgKYOokCwJQm89tQksVvsmLtw/746H/45mlrVa0h3ilRcRo8Xcv/gAAAJggiYJUqSREbZIM52gu96l5lkzJoqoKMgVZnoEsLAUwdf9pCgAXP1Qo3ta76brub23bnk/1L9GPf9moZlb7xvjcjf3R4u9z4rH4AwCA9K7741+mAf7kQ9u2d6aBikVi1DLJWCJhbG1J6lLu7S+SDGerYw0A1EWyIPAUC1PAzJyVTfnrqVVl68cdlcyuLGG1tv3xpv/efjAV4g8AAPguldMA+DeRLNt13bbJ8czjOO5RS9aqTqaqgpeWAwDqog0xALWL6mAfS5Ww9Erb05tGolLN4s3/VxIFxR8AAPBDEgUB+JFMbVd/tRz16Lpu0X+cJBnOJ9dLAFAfyYLAYzcvx2aBGYs2og+lWlj2OIy2pytLVq3Ltm3fTK0S5kx+BxfiDwAAJkOiIAA/E78TWe6xrcq9J+qQqarge8sBAPWRLAg81pEpoAJXUTUsqodlG1g/pnjTMBKVJO7WKW5cRrvsC1MxWvw9iD8AAJgEiYIA/FR5Gfcu0ZBWVmX+yrOHTGvtmokp+ZQolheWA5gyyYLAY0mQoBaxUb/PVE2zH0u0PL1tJO3WKtoNR9vhjakYJf4uxB8AAEyGREEAnuIy0VjeWo4qxEvJWe4zrvvrpq0lYSr67+uHRMNZWBFgyiQLAo8lSYKafG73W6qJjSbeMuyPqCZ4ZkmqtW52FQW3pmK0+HtnNgAAYBKuJQoC8BTlnluW6oJxL2plVWYv073G3ywHANRJsiDwWH8zBVQmEmRvS1W/wZXKhh/7Y2kpqhUVMU5LSxSGj78H8QcAAJPyL1MAwDO8TzQW1QVnrOu6ZZOnGtkHnWwAoF6SBYHHUlmQWp1FdbGoMjbU/2F5g/RB3FVr2+zaDq9NxfC+ir+F2QAAAACYt5IwtU0ynOOSUMY8ZUoGfW854EUWpgCYMsmCwGPZoFL79/+hVBs7mNL29Kb/440pr9am2SUKfjAVwxN/AAAAAFW6TDSWXy3H/HRdt+g/TpIM55MX1ZmwTZJxLCwFMGWSBYHHbmKgdhEHD6Xq2KHi7L4/Vqa6Wpdt277Wdnic37n+eBB/AAAAAFW6648s9+RWQ3a5YTCqCgIAaUgWBB5jYQrgdzdRfWyfN2z6/614ozASlY5Nb5XiRuSbtm0vTMXwSmsX8QcAAABQqfLy7jrRkM6synyUZwmrRENaWxUAqJtkQeAxlqYA/iQ29vf7qLrZ/29c9B+3/eFt0TpFu+GoJnhnKoZX4u9e/AEAAABUL1O1Na2I5yWKBWS5/7hu23ZrSZiwLFVg/24pgCmTLAg8xn+ZAvg3UYXsoVQFfLJ4m7A/Iknpnams1rrZJQp+MBXDKvF3K/4AAAAACCWBKssLvYuu61ZWZTYy3YP8zXIwcf80BQAvJ1kQeAytGeHb4m3A21Kd7NH6f/5zomGjamfNztu2PS0tThjQV/F3YjYAAAAA+IrqguxV13XL/mORZDgf2rbdWBUAQLIg8BiSBeHH3kWVsqhW9oibA6tm1/Z0YdqqFMmBr9q2vTYVwxN/AAAAAHxPSaTaJhnOsrz0yrRlSvp8bzmYgSwFGJaWApgyyYLAD5W3noCfiyplDz+6gdP/Zzf9RxxHpqtKm/74Rdvh0X7PrsQfAAAAAD9xmWgsby3HdHVdt+g/VkmGs23bdm1VmAHPVwD2QLIg8DNLUwCPFpv/+1K97E83BfrjIdGNAYZ33bbta22HhxcVP0v8nZkNAAAAAH7i/7N3/9dtI1fDgMH35P/XXwWhK4hUwZIVRKrAVAWWKrBUgeUKRFdgpQJzK7BTwTIVRKkA31xx9Eb22rJ+kMQF8Dzn4JDJ7trDATCYAS7uvW7yZK5aPKaaDWktErXlo90B21UDggF6SbAg8Ct/0wXwJHHz5qpmEbzLzhmBSkpGjFPcWDyZTCZnuqKTxXqcf384/wAAAAB4jPqy7zJRk7wA21+ZMkNe2h0MxDpRW6Z2B9BXggWBX5npAniWeOszgpQ+N8qejlWkw58r79CNcv6dOv8AAAAAeIYPidryxu7on1p9KMt9yaWKNwxFOZbXiZrj2QPQW4IFgYcWMwcmOvAiU10wWlGuJAIFv+qKvV+7ouzwp/L1vd4AAAAA4KlqMMoySXOmNfCMfsmUVfCD3QE7oaIR0FuCBYGHzHQBwJOdTSaTY29r7l8Nco9sgkd6AwAAAIAX+JioLbIL9kjbtrMmTxDRygvtDNBKFwC8jGBB4CG/6QKAR4vgwMgmeKkr9q9t2wgQjEBBb/MBAAAA8CKTyWRVPrIEWc3qS7L0Q6bgzo92B+yM5+hAbwkWBB5cgOoCgEeJG4ev601E9qxt2yg5HKWHX+kNAAAAALYkU/nWt3ZHfm3bTsvHIklz1pPJZGmvMECyZQK8kGBB4GcLmnhLTdAFwK8tJ5PJobLDnVyrXpUtsgme6g0AAAAAtqkGWmW557eIe2H2SnqLRG2RVZCh+k+SdszsCqCvBAsCP3OkCwAeFDcKTyaTyYmu2L8a1P6HBTkAAAAAO5Qpu+DC7kgvUwbIS7uDgZJZEOCFBAsCP/N3XQDwU+uyzZVx6EbbtpFJ8EsjAy4AAAAAu7VM1BaliBNr23bR5LlfuVQJhwG7SXTez+wOoI8ECwI/mthMy8eBngD4oeuyRdlhb6/t//oUZYevytf3egMAAACAXZtMJusmT8DgtG1bVaHyyhTM+cHuYMAyPZuR0ADoJcGCwI9YbAL82MVkMjn2Vub+1UD2z41yKwAAAADs18dEbZFdMKGaXSxLEo6VF90ZsmTPZyTfAXpJsCDwI7/pAoBvxOIzyg6f64r9q29Mf7HwBgAAAGDfJpPJqsmTyWpWX6ollzeJ2iKrIGOwStKOv9oVQB8JFgS+ESUeG5kFAe6LG4GH9aYg+78unZePT410/gAAAAB0J1MA1ju7I4/6XG2RpDnryWRyba/A3kx1AdBHggWB7wkUBPivZbPJKLjWFfsVN9nKFmWH3fwEAAAAoFOTyWTZbKqPZHBUA9TI4TRRW2QVZCx+T9KOmV0B9JFgQeB7b3UBwK2TyWQS242u2K+2baPc8BcLbQAAAAASyRKIlSmTHXlKEMd97KXdwUisszREaXigjwQLAt9PZg70BGCReVt2eKkrOrkWLZpNoKAFNgAAAACZLBO1ReKHBOq9zGmS5lx78Z0RWSdqy9TuAPpGsCBw30IXACO3ajaBgl91xf61bXtVPq70BAAAAADZTCaTdZMnYHDatu2RvdK5N4nacmF3MCKZnuHM7A6gbwQLAlkXNQD7djGZTObevty/yGxbtsgmuNAbAAAAACT2IVFbZBfsUNu2UalrlqQ5qxrMCqNQn+NkeZbzV3sE6BvBgsDdoiYWNFM9AYxQLCiPy+LyXFd0dv2JQMEDvQEAAABAZrUiySpJc2bxEq690plMwZof7A5GKEt2QeMw0DuCBYE7sgoCY11MRjbBa12xf23bnpePz2V7pTcAAAAA6ImPidryzu7Yv7Zt437mIklz1u5vM1JZggVndgXQN4IFgWyLGoB9WTabQMGvumL/152yfWrczAQAAACgZyaTybJ8rJM056g+42G/ThO1RVZBxupfWRpSy5ID9IZgQSDbomZM4k2vG90AnTibTCYnZXMOdrNojrLDR3pjtAToAgAAAH2XJbugZBDdyFKtK+5vL+0ORirTfWbBgkCvCBYEMi1qxuaibPNG0ATsU9w8OZxMJpe6Yv/atl00m7LDU70x2vMvrnv/0BUAAABAz2W6v/jW7tifeo9zmqQ5116IZ6zKsb9K1Jy/2SNAnwgWBIuaTIuaMbmJ0qe1/GkETix1CexcLBxfKzvc2fXmffm4ajZvOzM+X+v5t9IVAAAAQN/VAK1lkuZM27ad2St7kykBx4Xdwcitk7RDZkGgVwQLAt4468b13Ze4qRDlUMvXM90CO3NZzrO5tyz3r23bV2WLssNK3o/7/Dt0/gEAAAAD8yFRWzzr2YO2bSMgaJakOavJZLK2Vxi5LMkhZnYF0CeCBWHci5qYuHjToRu/f/9/1LKoh82mTCOwHXE+nZTzSzBud9eZP1xrnH+6AgAAABiaWsFklaQ5R23bTu2VncsUlCmrIDTNP7M0pAYTA/SCYEEYt3e6oDPXP/o/682F102eGwzQZ7dlvst5tdQVnSyMI5Pg50bZ4bFaO/8AAACAEfiYqC2yC+5QVFApH4skzVlPJpOVvQKpnqfO7A6gLwQLwngXNTOTls58fagUYy1LPC9fL3UVPFsE5M5rAC77vb5E2eFP5et7vTHq8+/Q+QcAAAAMXX1Rcp2kOYsa0MZunCZqi6yCsJHpHvTf7A6gLwQLwnjJKtidR71pWMs2njTKEsNTnZXz5/ihoFx2o6bZj2yCR3pjtC6cfwAAAMDIZMkuGIGC7svtzpsk7Yj7btd2B2wSsDR5ArZn9gjQF4IFYYRkFezc6gmT3GX5iCyDsjPBr8WiMLIJysrZzbUlbkRGoOCB3hj1+XeuKwAAAICRyXQ/UqKIHaj3PqdJmrP0oi58I8sz1KnsrkBfCBaEcbJY7M76qWUZ678fAYPeFIOHF4Ovy/my0hX7VxbAUXI4Sg9bCI/3/Dt0/gEAAABjVAO3lkmaM60JI9iut4na8sHugG/8nqgtxl+gFwQLwsjIKti5ZwX8xc2GKOtYvp7pQviTeJPy0NuUnVxTXpUtsgme6o3Rn39rXQEAAACM2EWitry1O7anbdtpk+e52rX7cPAnmaqz/WZ3AH0gWBDGR1bBbn18yX9cy6tGlkFBUbA5D07KeXGiK/avbdsoN/xHIwB9zJx/AAAAAM3tvft1+Vglac5RDXBjOzI9V5NVEP48/q4SNWdmjwB9IFgQRqQsDhcmKZ16cgniBya9h02uN2Vg7+dT2eblfFjqik6uJ5FJ8Euj7PCYz79D5x8AAADANzIFcskuuAVRWaV8HCVpzjpZUBRkkuXcOKjjBkBqggVhXGQV7Nb1tv6geEsxyj6Wr0vdykjPpcNtBN/yNLXs8FX5+l5vjNbK+QcAAADwZ5PJJO5brpM0ZyFgZTv92OR5YfrC7oCfynS/emZ3ANkJFoSRKIvC8/Ix1ROd+rjtP7CWf4xNWWLG4qIc98dlc8zv/zoS15DPzeYGGeM9/+bOPwAAAICfypJdMFNGvD7LkqEx7sdd2x3wU78nasvf7Q4gO8GCMAI1wEPK+W6td5WFqZaBnDd53liEXYibIRGkdK4rOrmOxI3FKDt8oDdGe/4dO/8AAAAAfmnZ5Hm5X7WpF6j3RKdZjisv8MKDVonaMrM7gOwEC8I4RLlI6ea7tdM3vmog4mHjzTKG6fb4Lsf5SlfsX81M+8l1ZPTnn+sLAAAAwC/UgK4s91GmbdvO7JVny5SE44PdAb8ce7OUIp7WRD4AaQkWhIGrC0Gp5rv3cdd/QUyEozxr+XqhuxmQZbPJKLjWFXu/frwqW5Qd9gay88/5BwAAAPB4me7Rv7E7nq4G+sySNOfa/Tl4lFWitng2D6QmWBCGvZiJLFBXeqJzX3dVgvhHapnICBqUkp6+OynH84nyCp1cP6LccJQdnumN0Tpz/gEAAAA8XQ3sWiVpzkKGq2fJ9AK1rILwOL8nastvdgeQmWBBGP5ixiKwex/3/RfWcpFRlvir7qeH1s2m7OlSV+xf27aLZhMo6PoxTjf1/LvUFQAAAADPlinAa2F3PF5NxJElK1gko1jZK/Aomc4VmQWB1AQLwnAXM7PycaonUlh28ZfWtxfnXf398ILF3OE+s3HyzbUjstHKSDvu8++18w8AAADgZeoL/eskzXlrjzzJomyvkrRFVkF4/LgbL8KvsrSnbVsBg0BaggVhgJQfTuW6yxKO8XdHGcny9cSuoAcuyvE6V/a0k+vGtGyRTXChN0br0vkHAAAAsFVZAr1e1WoiPE6W4Mob1XfgyTKVIv673QFkJVgQhkn54Tw+ZmhEXVBGWeK1XUJCEZx0XI7Tc12xfzUTbQQKHuiNUZ9/Z7oCAAAAYKuWzebeSwayCz5CzQQ2TdIcWQXh6a4TtUVmQSCtv+gCGNxCZtYoP5zFupYaSCHKSpbjIwIGP5VtZveQRJQ7PVH2tLNrxnmzCTDH+QcAAADAFkUFh7Zt4xnBIkFzDuL5UWnTyp550JtEbVnaHfDkcTeehUaQdoZS4pHV9cD9d+BOGRNOdzg+XT6lephgQRjW4BIDyyc9kcbHbA2qF4h5OVbeN4JK6d6ybGfKnnZ2vYhy9d5sG6+4UX3i/AMAAADYqYsmR7BgiEC4lV3yY23bTps890uXk8lkba/As2QJ0r4bdwULAjHPuNrx2PT38nfMH/vcTxliGJYYYF7phjSWWRtWy00eN3lKIDA+ESQoUKmbyWiUG46ywwIFx33+HTv/AAAAAHarBnytkjRnUQPi+LFMpZo/2h3wbL8naovnMMA+AgVDPP/9XBPG/JJgQRjOAHNqwpHKdfa3vmqJ5HnjjRb2K4KTDsvxd6krOrlWxET0c9mmemO059/c+QcAAACwVxeJ2rKwO/6sPljP0jdflYuGF7lO1JZpTeAAjHeOsY9AwTuPDhgULAjDGGBm5eO9nkjlQx8aWRacESgYAYNLu4w9WJXtdT3u2P+1Iq4TMtCO19d6/q10BQAAAMD+1Psx6yTNeWuP/FAk48hy3/SD3QEvGnPjpflVoia9sVdgnPYcKHjnUQGDggWh/wNMnOSf9EQq6z4FY8SkOcrBlq9ndh07dFmOs7myp91cJ8oWZYdP9caoz79D5x8AAABAZ7JkF3xVq4/wrXdJ2hHPa5Z2B7zYPxK1RWVAGKGOAgXv/DJgULAg9F+Uk5QlyqL/xWpZysNmU6YStiWOp5NyfAlG7WYiOisff9RJIc4/AAAAALoRZTGz3HuXXfCeeg91mqQ5sgrC9sbcLKZ1nAHGM7eIBC6LjpsRz4avfvYPBQtCvweZq0YASDY3ySagT1LLw75uNuUqYRtOvAnZ6URUQPl4rcs2d/4BAAAAdK9WfFgmac6BwJVvZAqeXNodsJUxd93ketapFDGMy9+TtGP9s38gWBB6Kkk0Mn/2oe9lHmtZ4sgweGl3sgVXbjzt/foQpUSiPP17vTFaEbR+WAPAAQAAAMghU9Y4gSvN7b3UaZOnROiyBjgB2/ExUVuUIoZxmSZpx39+9g8EC0I/Fy+LRhBIVoMJsKtlK08aZYl5mchq97kGOLP760Nkm/1s4TlqF2X8Pu574DoAAADA0NRAsCyViRbx0rG9kiqr4Ee7A7YqUyW4V/X5PjBwdX41TdKc1c/+gWBB6N/gEoEgAgVzWg4tOKOWr5w3yhLzcu8j250bUDu9PkSAYAQKKk8/TnH9ibLD57oCAAAAIK1M2QVH/YJ3vVe9SNKc1WQyWTk9YHuUIgY6kuk57U9jVwQLQr8WLncZowTb5HQx0Ml0TKQjYPDaLuaFboPZ6ljGdq8PEUT+yfVhtGKcPnRDEQAAACC3ev9mnaQ5Yw9cifvVWe6nyioIwz+3ZrX0OTBss0Tzzp8GTAsWhJ6obzgJFMxrWd9QGaTImBhlLcvXM7uaF7oNepZufXvXhrLFtUGZ53Fffw6HfA0CAAAAGJgsiQemI79P+y5JO9a1yhOwfdkSoSzsEhi835K048HMqoIFoQcEClrcZ1EWrJfNJsvgjV3OC8RYdlWz4fH8a0MEXv7RJHpDhb07KePyiW4AAAAA6JUIXslyj32U2QXbtp2Vj2mS5sgqCDuiFDHQgSwV9tYP/UPBgpB/wXIXKKhsZ16rMWV0qmUSDpNNrumn0zLGfanjHE+7NkQmwS+NIPKximvOoTeOAQAAAPonKvmUj2WS5szqS8lj8zZRWy6dFbBTmQJyI6PrkV0Cw1TnVFme3f7zoX8oWBByDyYCBfvhYmw/OIIjo+xlk+eGBv11mx1vpDeknnVdKNtV+Sor43itmk2goIBtAAAAgP76kKgtb8fU8W3bTstHlmCdZQ0eBXZ4niVrz1u7BAZrlqgtyhBDTxcrAgX7YVUz7Y1SLX8Zm8UsLxHj3ZeaLY+fXxem9bqw0BujdVHG3bkbiAAAAAD9VqsVXSdpzmJk1V8WidrywdkAOx9vbxKNt2FWn/cAw/O3RG0RLAh9I1CwVy7G3gG1DOa8+UXde3iE95E1T1niH14X4k3XL64LoxU3M47LeHuuKwAAAAAGI1Og2Jhe5M6S1WulegjszT+SteedXQKDNEvSjpv6YspPCRaEZGopToGC/bAcc1bB++qCNsoSX+sNXmgRY6CyxN9cF87Lx6dmk4GR8bkdX8s4a3wFAAAAGJD6fCFLsNibMfR527aLJs991o/OAtjbeLtsclVJO5I4AwY3x5iWj2mS5vxyfilYEHINIAIF++VCF3wz0Y4I9WP9whbcjoU1m96YrwmvyhbXBG+YjdeybPNfvf0DAAAAQG9lyS44rYF0Q5clq+C6Bi8B+5PpnItAwVO7BAYl03Pt33/1LwgWhCTKImzWbAIFvUXQkwml4I0fq2UyI2jwRm/wwoXSpzI2vh/pNSECJqPs8MyhMFpnZTw9iUBsXQEAAAAwTMmyXQ06u2B9DpclWYesgrB/H5K1541dAoPyW6K2yCwIPVmgLBqBgn0je94DarnMwyZPCQX66zSy640pHXu9JkSg4NTuH6W4ORxlhy91BQAAAMAoZAlgmdWXmIcqU2COe3+wZzUJzCpRk8aS0RXGYpaoLYIFIbuaNetKT/TKhayCj550z5tcab3p7+Tqy8BvVN1dE65cE0ZtVbbXZfwUaA0AAAAwHstEbXk7xA5u23ZaPhZZ9rdqItCZbFk939klMIh5xqzJkxhs/ZhYFsGC0N2A8SqyZZWvp3qjV2IB542vR4oFb5TRLF9P9AYvNG02AYOLgV4T4g2yyCa4sKtH67KMl3M3CgEAAADGpT7QXSZpzmKgVV4WidrywVEPnY23MdZmugcvuyAMw98TteVRCUkEC0IHanasCAqZ6Y3euRDI8ezJd5QlXusNXugqsu8N6YZVfdskrgkHdu8oxTXluIyTZ7oCAAAAYLQyZbtaDLB/s2RMXKkqAp1bJmuP7ILQf0eJ2vL7Y/4lwYKwZ/XtgMgoONUbvRMpW2UVfKa6AI6AwZXe4IVux9FaOqLv14Tzek14ZbeOUoyLkU3wWlcAAAAAjNdkMlk1j8wEsweDKkVcn8tluf8qqyA4D783rUklgH7OM6ZNrtif1WP+JcGCsL9BIsoOX5WvV42gkL5SSveFalnieaOUMy93m6G1jKtHfWx8vSZ8arwxNmYRIDj3JjEAAAAAVZYAlmlf77v+RJbgx7WXhqF7yUq/33lvz0BvZZoz3Tz2uaNgQdiDe2WHF3qjt1b1zT62MxGPcpvHzab8JjxXBF5/qtn5+nhNOLILR+usjIPHytoDAAAAcGcymSybPPfMB5FdsGbrOkjSHFkFIY+PydpzULOgAv3zJlFbVo/9FwULwu4XIufNJihkqjd6TVbBLatv0EWWQVm1eKl3kaUvsvX14JoQiz2l6McrbvbOlbQHAAAA4CeyBJTNalm9vsvyAD/uCy4d3pBDstLvd1Sigp6pc6WDRE36/bH/omBB2N3AEG8AfHFhH4SLmpKa7U/GYyI+t0hmCyJL35eatS/rdSHSyCtFP14x3r2WpRYAAACABywTtaXXz7fqA/xFkuZcqzIC6WTL9jmVXRB6J1sVuevH/ouCBWE3C5DzZpNN8EBv9N66bDJA7VAskMsWmRvP9AYvXUiV7XO2xVRkPKzB46d20Wgtyzh36IYgAAAAAA+piQuWSZpz1IdqLg9YJGrLhaMb0o23MdaukzVLEiLol0wliNdPSYAlWBC2qCyaIi37Hy7kg3IiuGNvk/IIyjxsNun44bni5tVVGYuvslwXykdcFwSPj9NNvY4oZQ8AAADAY31M0o6417rocT9meYC/Ur0K0soWyDutSYmA5BKWIF495V8WLAhbGgjK9ql8/dxsMlsxDNfKRe5XLUv8utmU64SXWEQ2vzpR6+racFqvC8oOj9O6bPP6diIAAAAAPEp9LrFK0py3fezDWn1mmqQ5HxzVkFaU7MyWxORtz7O6wlhkmyP94yn/smBBeNli49W9ksNHemRQbrNB6Yb9q2WJI8Og8s+8VLzN8aVm99v3tSECyN/bBaMVNxgOawA0AAAAADxVluyCkSyjj8+/smQVjJKA1w5nyKlWl8sW0BuBgqoYQn7Z5kerp/zLggXhmepbSXclh0X3D8+F8sOdT9DPmk3Apv3ASxdVn2uWv31cGyJA8XMjgHzs149j1xAAAAAAnqtWq1gnaU6vsgvWe7SzJM2RVRDyi+Ql2e7nn9axDMg514jnwNNETbp+6nNJwYLw9BM/SltGkOBVI0hwqFZlMJXVLoF6Q2TeKEvMy72PbH+7TN1eJ4YRKGgBN04xCY+yw+e6AgAAAIAtyJJdcNa27bRH/ZYluDHuFy4dxpBb0uyCQfUqyOtNsvb846n/gWBBeKTvggSnemSwlB/ON0mPQMEIGJSqn5e6DebbxdtY5c+MRVuUHhZEPk4xTkXZ4ZWuAAAAAGBLMiU16EVJzPqy+CJJc65VH4FejbfZztdZT8vAw6DVFyh6XYI4CBaEXywqynYuSHBUonzkWjfkEgvqKOtZvp7pDV7otkxwLSW/retEZBM81bWjtWw2GQVdOwAAAADYmhpotkzSnKNdVm3Zokz3aS8cxdCr8TZjdsGrnoy9MCaLZO35+pxnlIIF4QciGrhsERwYQYLxttRUr4yC8sP5J+uxfyLLoLfxeIlXdYH1ohTuNUNhXCdmunS0Tsq4dOINYQAAAAB2JEvwSqaMfQ/JUhZw5eVi6J2M2QVj7H1n14C5xgM+Puc/EiwI99RSw5Eh6o+66BGpPx7KD/dELfN52GzKfsJLnJYx/8tz3soq/028ofrFdWK01s2m7PBSVwAAAACwK5PJJO6Dr5I0523mvqrVZKZJmiOrIPRvvM2aXfC0Jq8AzDV+5Po5/5FgQZzQbTuLLIJl+3ezKTU80yujdOYtr15N2Ndli4DBpd7ghW6zAz52oVXLDse14r2uG61VswkUFLAMAAAAwD58TNKOqMo1S9xPWTL9rGvSA6Bnyrl73mySBWRzZe9ACtlenLh+boyLYEFGKYJCovxk2SKDYGQSXDSyQ43ZtexQvZ20RzbI2JQA5SVi/P9SswU+dO2Y3rtmME4XZdyZKzsMAAAAwL7U5xfrJM1JmV2wvgw+S9IcWQWh3zKewxHbcG7XQKdzjZhnZMvy+Y/n/oeCBRnLiRuZoI7uZRCM0pERFDLVO6MXC2zlh3us3iiZNznf9KFf3tfrxKsfXEeO6rVDqvdxiuDA4/pWIQAAAADsW5bsgkf1pepssgQxxn3Ea4cr9Fd97pixstA75Yih23MwYZuePecQLMgg3QsOjMCPCO6IAMFPjQyC/NmJDFGDmLjHpP3QIpwtiOvE5/sLrvq21ifXj9GK8SWyCRpfAAAAAOjKZaK2pMouWF/+XiRpztIzJxiEs6TtUo4YuplrzJo8GYy3MucQLMhgTs4oH1kzQt0PDozsgSLs+ZkoJ7nSDcMQF8OyHTdS/PNycd2IgMFF2aLs8DtdMlrLZhMo+FVXAAAAANCV+jB4maQ5ix9VZ+nQaaK2fHC0wiDG3FX5WCVsmnLE0I2Mz4pflHX6L/YpfVAXHXdBf7Oy/W/939NGKWGeZ6Wc5GAn8OdlzIjAnni7RiY4nutV4w2tsTsr48mlbgAAAAAgiQhEWyRoR9w7PWryBC++SdKO68lksnaYwmCclO2PhO2KcsQrCXFgP5JmFVy/dAwQLLi/A+hcL/zSX5s/B/7NdAs7EG/gHeuG4YpyoTVgMDKMyi4KPPUaIZsgQzC1BiGhpQcnw2bcIaG4ebrUDQDAEMT9qggQaXI8O4sMO53Ps6I6TJMnqYisgjCsMXddxphIKHCasHlRbfFQ2XPY25wnm48v/QMEC477AIKxOjZ5Gs0kfl6+vm9yvG0J5LdyjWBAptYgJB1n17ph0Iw7ZBx3lroBABiQCEibJWhHvKQ4S5DZKktWwbUsXzBIF83mGWO2SmbTZlMdS3Ic2KGkWQXD8qV/wP/YvcDYJnUWbOMRAT9lizThJ3oD+IXLMl7MBQoCAAAAkFVU1WnyvIT1tsu/vG3baZPnAf6FoxMGOebG84KzpM07qtlVgd3J+GL0Vqr3CBYExuS6DJznumGUk/ll+ThsZLIB/iwW+ydlnDjTFQAAAAD0QJZyt0c1YK8rWR7gx/3Fa4clDFN9xrhK2rz3ZRw+sJdg+8q5ddTkzCr4cRt/iGBBYCy+NrLLjX0yH8fAYeIJPdDNtWFeF/sAAAAA0AfLZhOglkEn2QXbto2SoEdZ9odqJTB4WZMNxFj4qY6JwHa9T9imr9uqoilYEBiDu6xRFmsjV8sSz8vXS70Boxdv+85rIDEAAAAA9EJ91pElk92ioyCVRbMJksngg6MSBj/uxnOErOXGp2W7spdge8rc5ryeW9lsbc4hWBAYgxPBIHw3qY83gI6bPG9fAvt1VsaBY0HkAAAAAPRUlqCVrjL8vU3y+68nk8na4QijEIlIsp7vRzW4CXihci5NE80z7ltvs1KaYEFg8AvmMmhe6wa+V4+LyDIokBTGI4IDI5ug7KIAAAAA9FYNUFslac67ff5lbdtGcOI0yW+XVRDGM+7eVrJL3MR3dXwEXibKD2cs7b3VOYdgQWDIlmXidq4beGBiH4GCETC41BsweHG+vy7n/UpXAAAAADAAWQLVpm3bzvb492XJ9vPVvUYYl3rOZ05GcFXG4wN7Cp6nzmcyBt1GsPJym3+gYEFgqGKRdqIbeMTE/qYeK2d6AwYrgscPlR0GAAAAYChq9Zx1kua82cdfUksDzpL8ZlkFYZwumrzliCMb2qcyVr6ym+DJc4w4b66SNu/Dtp9xChYEhuguWxw8Wi1LethsIvOBYbgtCyB4HAAAAICByhKwtqiBfLv2LsnvjSQES4cfjE8PyhHHWPxZwCA8a44xTdiuGHO2ntFUsCAwNHeBIQK+eM4E/7ZMabMJOAX6bV22uZt2AAAAAAzYssnzAvxil394DXzJUhpQVkEYsR6UI45SxFf2FDx6jjErH6dJm/dhF7EvggWBIYlBcl4DvuC5E/x4I/Aw+SQfeFiUYDl0PQAAAABgyOrD4+skzXm74z9/0WxKbGawdPTB6GUuRxyO2rYVMAi/kLz88E6yCgbBgsCQnAkMYVvKsXTWbNKIy1IJPVugl/P3WIZZAAAAAEbiIkk7XrVtu9jhn/82ye9cTiaTtcMOxq0+gzhO3swoEf/e3oIHRaDgNGnbPuzqeadgQWAoTpSaZAcT/Tim5o2yxNAHd9llz3UFAAAAAGNRA9dWSZqzk4C+tm2j/PA0yW/86KgD6vgbzw8vkjfzdMeB3NBb9dw4Stq8mN/trBKiYEFgCC4ECrLjiX4EDF7rDUgrztMoO7zSFQAAAACMUJZglYO2bWc7+HOzZBX86h4kcF9NYJB9XLgSMAjfKufEQfnInHnzYpdV1AQLAn23lEWKPUz0b6Ksafl6pjcg33Wg2WQUXOsKAAAAAMaoBrCtkzTnzTb/sLZtp+VjluS3fXC0AT8QzxBvkrdRwCD8d27xqtmUH36VtInrXSfLEiwI9FkECp7oBvalHG+R6nfegwk/jEWUoD/Z5Zs1AAAAANATWbILLmqA37ZkySp4o8oV8CP1GcVxD5oqYBDquVC2g8Tt23kMjGBBoK8ECtLVhH9VPg6bTdlToBvrZlN2eKkrAAAAAODWdZPnRffFNv6QmvlnkeQ3ySoI/FR9fnjRg6YKGGTUyvF/Xj6OMs/n6niyU4IFgT4SKEjXE/5I/RsBg0u9AXsXE+QIFBSwCwAAAABVzWy1TNKcbWUDjIf5WUoELh1lwC/G4fNm8wwjOwGDjFI97t8lb+bZPv4SwYJA3wgUJNOkP47F2JRAhf24KOfdXNlhAAAAAPihLNnvXm0pECXLA/14NrV2eAGPEOWI+zBeCBhkVMrxHmWH3ydv5sW+5huCBYE+EShIOrUM6rwnE3/oqwgOPK5v5QEAAAAAP1AfMF8nac6Lsgu2bTsrH9Mkv+Wjowt45Dh8+zyjJ82NgMEre42hq4GCn5s82Yp/ZL3P56CCBYG+EChI5ol/lEONssTXegO2Ls6vyCbo/AIAAACAX8uSXfCgBvw919skv2M1mUxWDivgsepzw748114IGGTIyvEdAYJxjL9K3tS9jhmCBYE+EChIHyb+N2WLN4Uu9AZsb/xvNoGCX3UFAAAAAPxaDWxbJ2nOm+f8R23bTsvHUZLfIKsg8JyxeFk+LnvS3AgY/FyDqmAw6jEdGQUPkjf1ct8vJggWBLITKEjfJv/nzSa9+I3egBc5i/G/puwHAAAAAB4vy0vti2cGn2TJKriuAT8AT1bGj7OmP1XJZmX7XIO1ofd6FCi47mLeJlgQyEygIH2d/MfEP8oSy4YGTxfBgYflPLrUFQAAAADwLHGPOstLuKdP+Zfrw/1FkrbLKgi8VDzr7svzwgiq+lLG4QO7jT7rUaDg7RjRReIUwYJAVgIF6bVy/K7Lx7zZlFEFHmdVttfKDgMAAADA89WHzsskzXlqKeIoP5ylFKYXmoFtjMd9qkgW428EDC7sPfqoZ4GCey8/fEewIJDRiUBBhrIAqMey4xkeNyGeKzsMAAAAAFvxIUk7pk8MOnmXpN1L9yqBbbiXYKRPY8pVGbuv7D36pGeBgjEuXHT1lwsWBLKJQMGlbmBgi4A4pg/rRR/41k0d+890BQAAAABsRw1OuU7SnEdlF2zbdlY+pkna/MFRBGxxTI6KSn1LLrIo4/KXGoAFqfUsUDAcd/lSgmBBIIsYCOcCBRn4IiACBld6A/7PV2M/AAAAAOxMloC3Wdu2j3l4/zZJe1f1nj7A1pRxJQK4+xYwGGP3HzWYG1Kqc4w/mv4ECl50Pc8QLAhkcBcouNIVDHwREGWJI834pd6A27ea5266AQAAAMBu1OcuWe6/PRgI2LbttHwcJWnrR0cPsKNxedn0L2DwNmNbGaff24NkUwNZP9fjtA/ihYTzrhshWBDo2m22NcEijGwhEOVWj5tNoCyM0Vk5DzpNrw0AAAAAI5Elu+DiF6Uss2QVXKuEAuxSHWP6mFjktJYlntqLZFCOxUXTr0DBeC56nKEhggWBLq2aTVapta5ghAuB26xqTZ63OmFfk+AY92XXBAAAAIA9qEEpWV7aPX3gny2StFFWQWAfY3MkFln2sOlR5jUCBk/tRbpUjsGr8nHVs2bPsyRSESwIdGUZ5VhllWLkC4EIFJz3dDEATxXH+2sl5wEAAABg77JkF3wT5QJ/sJ03ebICedEZ2IvJZBLliJc9bHqM1+/L2P1ZlkH2LY65yHDZ5HnJ4LFOMlXb/ItDCehoIFzqBrhdCETA7EmZ1PwzJtZ6hIFa1kUvAAAAALB/y7K9S9COabMpF5i2nyS5APYpnp20bRtfFz1s/qzZZBm8UFGKfSjH2lGzySb4qmdNX2aLj5FZENinWGAdChSEHy4GYhJ92OQpBwHbGvdPBAoCAAAAQHcmk8m6UeHmMT7oAqCDMbqvGQaDLIPsRTm+IunOp6Z/gYJfMz4nFSwI7G0QbDblJ7/qCvjpYuD2PKnnC/TdumxzAeIAAAAAkMJHXfCglWdYQFd6HjAYZmX7I8rKl+2VPcq2lOPpoJYdPu1h82NeMc/YMMGCwD5EWtVDqdvhUYuBmzhfylfpuumz62aTSdbNNQAAAABIYDKZrBovqj9EVkGg63G67wGDIUref6nlYuFFIvg0jqeyHfSw+XfV11LGyAgWBPYxACo/CU9fEJzF+dMoS0z/XJTj91iAOAAAAACkIyDux9aTyeRaNwBdG0jA4LRsn2pp4gN7lae6l03wXU9/QjwjnWdOqiJYENiVr43yk/DSBUGcP/PG2570a+J7risAAAAAIJ96z9lLvn8miBLINFZHwODFAH7KrNlkGbwq29Se5VeihHXZ3jf9zSZ45yx79TXBgsAuxGJzrvwkbGVBcBt422zKukJWcZwe1lImAAAAAEBeAuO+FcGTS90AZFITMwylet+ibH9ESdkIBrN3+ZFybNweJ2U77flPOelDQi3BgsC2F1S3ZYeVn4StLghuoqxr+XqmN0goJrwRIL7WFQAAAACQ3lIXfOPaMy0goxpwdDKgnxQlZQUN8o1yLMxqyeGrsvX9uDjpS+VNwYLAttxllbLIhN0tCi6bTZZBNy7INOkVIA4AAAAAPVFf+l3qif9zoQuAxGN2jNeHzXCeDUYwmKBBIkjwoGyfy9fYDgbwk076FCsjWBDYykKqDHyHskrBXhYFq7ooUOabLsV4L0AcAAAAAPrpoy64tfJsC8iujFPxTDCSiQxpvLofNHhVtqk9PQ6xr2Ofl6+RTXA2kJ912bdnpoIFgZeICUmUnjzXFbDXRcE6AnQbb3/SjVWzCRQUsAoAAAAAPVRfSnd/r2k+6AKgJ+P2bZW/AY7dETS4aP4bNDizt4eplhv+FPu67vOhOCvn51nfGi1YEHiuKId6WBeUQDcLg5PyEZsSsOxLZJKdKzsMAAAk9HclrADgScYeKBcv5V87DIC+iGczA08msijb57Ku+1K2hfXdMJT9eHSv3PDRwH5elB6+7GPDBQsCT148NZtsgmeCRSDFwiAWBENLPU4+Md4fyyQLAAAkdtBsHix5oAQAj1DvLa9H3AWyCgJ9Hb8jkcjZgH9irO2iTG1kG3xftgN7vV9iXV6207JFFsHIJjgb4M886Vvp4fsECwJPIZsg5FwU3KUe9xYkuxDH19xbtgAAQA8IGASAp/k40t8dL0cv7X6gr2o2s+Nm2NXHYl13WrYvNdvgqbVebrXUcAR6/rts78s2HehP7XWgYBAsCDzGupFNELIvCiL1eCwKLvQGW7Ss4/9XXQEAAPSEgEEAeLzLkf7ua8+7gL6rSR4imcgYnuHEOi+Cz/5d1nqflCnOo+yHac0AGVkEo9TwYsA/N+YO874HCgbBgsCvXJTB7rVsgtCbhcF5M/w3idiPCBA/cdMMAADoIQGDAPAI9d7fcoQ/3Uv3wFDG8XX5mI9sLD9qNmWKBQ52pAYIRqbHL+V/RpBgZICcDvxn3wUKrobwY/7iMAZ+Iga5kzrBAPq1MLguk7N4i+hTs3lAAs+Z7MomCAAA9NldwOCZroAXuXGPAAbvQzPsLEDfW3n2BQxJDfw+KWuf35tN9r0xBc4d1e2q/P5V+fxHHefNX7es9G+ssd+UbdaM7/lzHE/zISVYESwIfC8WSGc1bTHQ34XBukza5nVRsNAjPFIspI5lEwQAAAbiNmBQN8DLtG17MoRSW8CPRUBFDbCYjeQnyyoIDHU8X9ZkIlfNOJOJzO6uZaUf1s3mmVcEUAoSf94aYFr787dmE5A51uyNETczuEpsggWBOzG4xdtjl4JEYDCLgvtvEl3pEX4hxn8ZNwAAAIDvRaaWRsAgDNrHZhzBguuhlA8E+JEaAB7JRN41m9KwYzVtNslUYhM8+Ag1c2Bsv9U5wVSvNBflWDkf4g8TLAiEZR3oXBRhmAuD5b2yxCZ2fC+CSs/c8AcAAAAeIGAQBqzeQ47AkunAf6qsgsAYxvTb5z73kom80it/Ch6MPopnp7/Xz69jipWoWQPvBwceOE6+cZuQZ8jVOAULwritmk2Q4EpXwOAXBvEm0WGzCRic6RGqr3Wy+1VXAAAAAL8gYBCGLbILvhvw74sH/9d2MzAWEehUy8xHwOCRHvlGBMbNmnvPTGOe22ziJ+KZ2X/q93WfgwhrtsC73/rXZhM0ObP7HzSKZ6eCBWGc4oJ24aYOjG5REDdD5mVi+L4Zd+pxNq7rZFfpeQAAAOCxBAzCcF02ww4WXLoXCoxNHfeOy/zttI7xssc9bNb8N5ju9ppYgwgjcOwuG2EEEq7rdvvPuri+3AsEbO61+W/1/5s2qs09a67QbKqxDX6+IFgQxiUuWIIEwcJA6nFionupGwAAAIBniIDBryoVwLDEg/Fybi+bWqJxgD7Yy8CIx/jLMsZHEol4NjjTI092UD9/2Hc1oDDcBRXeie//fObfeRf4d599txuDLzv8PcGCMJ7BLRZBl96aAuqiIFKPr+ui4ECPjOp6cKz8PAAAAPBCXkCFYYpnSYsB/q7rPpeRBNiGOg5GBbIoSSyhyG786JmrEtC5rZpNoOCo5gn/Y7/DoEVQyEXZXpfB7VygIPDdoiDebpk3m5TKDN/Xej1Y6QoAAAAA4Hv1nvFqgD9NVkGA/471kT3tdeP5IERVzvkYXygQLAjDJEgQeOyC4KZsJ+Xrmd4YtGXZz4euBwAAAADAL3wc2O9Ze4Ea4Fv3ng9GUpGveoSRiWM+npuej7UDBAvCwBY8ZYuLuiBB4KmLgsuYFDWbYGOGI/bnSV3wAQAAAAA8aDKZLJvN86ahuLBXAX465q8i2UQdKz0jZOhuk27VBCujDpIVLAjDEANZBINEkOBSkCDwzAXBbZnaxhtEQ7Eu27ze3AMAAAAAeKyhlO2N52XXdifAw2qGNaWJGbJVM/JsgvcJFoT+D2jzGvnswg1sYzFwU98gutQbvXZdJ7wCPwEAAACAp1o2w8gwJcEGwCPdK00czwlXeoSBWJftuBzbEVez1h0bggWhf27qIu11HdBcqIFdLAjOmk1ZczdS+ifSZx+7CQYAAAAAPEe9tziEjHwf7E2AJ18DvkYcQvka21qP0GNRXjuSq8gy/B3BgtAfcSGOwJ0IEjwR9QzsYTGwrAsB2en6IW7gzaXPBgAAAAC24KLn7b/2LA3g+SJpUdmiNHHEKBhP6dUcoNnE1ZxLrvJjggUhv2WzCf6IwUy6dGDfC4EIFJw3w3iLdMhiPx3KNgsAAAAAbEMNtFv1+CfIKgiwnevB8l7QoFgFMot5y7xWYFvrjp8TLAg5fa0X2/9XswiudAnQ4SLgJiZV5euZ3khpWSe+Jr0AAAAAwDb1NeDuq2drANtVK5JF0GBknl3rERKJ4zECBOeu/48jWBByDWCXzSYd6qEsgkDCRUCMUZFl0NiUx0kNKrdPAAAAAICtmkwmUXFm3cOmyyoIsJvrwk0t7ao8MRnE8XdSq3SqkvcEggWhWxHcsWz+W2b4TGYoIPkiYFU+DptNBlS6nfwe1re4AAAAAAB2pW+BdzfumwLs3nflidd6hD2K4+0uSNA1/xkEC0IHi5RmEyAYaVCVGQb6OPlfRwbUOpaxf3HNiEBBAZsAAAAAwK4tm35Vm5FVEGCP7gUNRnWylR5hh+L4OhYk+HKCBWE/1s2mxPD8XoCgNKhA3yf/8aZQbErg7s9F6fe5ssMAAAAAwD7Ue5F9eqa1tNcAOrlerOIZVvn6uulfoDn5r+3z+oxUnM0WCBaE3VmV7azZZH+6KzG80i3AwCb+t5OzRnrxXYsFVbwpc64rAAAAAIA9u+hJOyO71druAuhOrVAWyUaUKOYl4tloJOR6rVrn9gkWhO1Z18HquGz/r0Y1XyoTCYxg0h/jXJQl9ibHbkT/elMGAAAAAOhEDcBb9aCpH+0tgDTXjpvvShQvG9kG+bWYb5zUip1nXgLYDcGC8HzrekG7jYq/lz3wWnlIYKQT/giWvtAbWxXXmbnAcwAAIDH3wQCM04xD9nu/K1mHMG5CTrVE8f1sg5578f24e5dFcF4r27FDggXhCYuM5r+ZA++CA09qNPxa9wDcTvbP6zhpMf1yZ/U6oy8BAIDMPOiB8VkKyPm12kfLjpsR95Xm9gZbPKZPkjYv5iLH9hJbOtYvk4zfZ/YGAzy/7rINRsWy1/U4X+uZ8a4r4voti+D+/UUXwE8XFbH9Mz7d+AB40kT/um3bGEM/le1AjzzrJoBsggAAQF/WgDdlDRiBKJ+tAWEUljUrDI8bI0/KGBlfFx389e4xsYtjelmP6atEzfpaj3UvXWP8hn6dZ+tmk6zpspxvsZZ8U7ajsk31zqBdl+0f8ena3R3Bgozdum6/330XGAiwnQl+fVj0vqPFdF/FNejY5BgAAOjZGlDAIIyDQMHnjZFdBJwINGGXx3SmgEGBghi/YRjn210yp7MaOBhBg3+3vhyEGNdWjQDBVAQLMgbre9u/6kXmRlAgwM4n9jHZi8V0BGRf6ZFfuowU27oBAADo6xpQwCAMmkDBl42R+ww4EWjCPo7pDAGDAgUxfsMwz7u7wMHzcv5Nm03g4G/1k35YN5sMgr9HRTrdkY9gQfo+wKzvff/XvcVBTKbWapoDpJjUL++VJZ7qkR/eADiLftIVAABAz9d/AgZhmAQKbmeM3EfAiUAT9nlMdxkwKFAQ4zeM4/xbN7VUcfzvci7Omk3GwZk1Zyp32QMjgcy1OJ0enFvlZDrXDSQbRH42CRL8B9BjZc7xqtkEDM70xv+Ja96JGwCMbCyYGQdgtJZdrOnqG8gL3Q+jtPZSTqfrv1M9AYMQVXoudcNWx8gYH1/t6I+/dp+JDo7pyPS074CNS4GCGL/BurPZPGv4rRE8uPc1QrN5xhnBgStVPftnogsAgD1P3t83HhrdLv6bTaCgm1oAAAAAAADwTPeCByNo8Lf6+UrPbMVdaeh/NpvgQMHNPSdYEADoYsIeb5tejXiSfuatfAAAAAAAANiNtm0jYDC2v9VPAYS/dhcY+K9mU1r4q8QnwyNYEADocoJ+1YwrLXhMpo+l4wYAAAAAAID9att2Wj5im5Xtr/X7GIMIV83muWVkC4zgwLWMgeMhWBAA6HJCHhPvKEu8GMHPjQn23Ns3AAAAAAAAkEd9ZnkXNBif//vd/+6beC55Uz//U7Z13WQKRLAgAJBiAn7abIIGh2pZJt4n9jQAAAAAAAD0T62adpeBcHbvH/2t+TYz4TYDDNd1u+8uADDcBQTe/ruTyWRtT/ErggUBgEwT7M/NsNJ8xwT9rEzMl/YwAAAAAAAAAF0SLAgApFFTfEfA4MEAfs66bMeTyeSrPQsAAAAAAABA1/5HFwAAWUwmk5uyHZavlz3/KddlOxQoCAAAAAAAAAAAAA9o23ZRtn+3/XNu7wEAAAAAAAAAAMAjtW17ULYvPQkSjMDGmb0GAAAAAAAAAAAAT9S27auyfUoeKBgBjVN7CwAAAAAAAAAAAF6gbdvTpIGCVxHQaA8BAAAAAAAAAADAFkSZ31ruN4uFvQIAAAAAAAAAAABbFuV+a9nfLv1RtgN7AwAAAAAAAAAAAHaolv/twmdlhwEAAAAAAAAAAGBPogzwnssSn+t1AAAAAAAAAAAA2LMoB1zLAu9SBCQe6W0AAAAAAAAAAADoSJQFLtunHQUKfomARL0MAAAAAAAAAAAACUSZ4C0HCl5FIKKeBQAAAAAAAAAAgESiXHAtG/xSp3oTAAAAAAAAAAAAkmrbdlrLBz/Hv5UdBgAAAAAAAAAAgB6I8sG1jPBTfFZ2GAAAAAAAAAAAAHqmbdvFIwMF3+stAAAAAAAAAAAA6KkoK1zLC/+s7PBCLwEAAAAAAAAAAEDP1bLEn78LFPwSgYR6BwAAAAAAAAAAAAYkyg3XQMFPEUCoRwAAAAAAAAAAAGCAZBMEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIIn/L8AAnt99GaRRkgAAAAAASUVORK5CYII=\"></div>");
  $templateCache.put("ngclarity/directives/containers/cardTemplateContainer/dlcuiCard.directive.template.html",
    "<div class=dlcui-card-item-container><div class=dlcui-card-checkbox><div class=dlcui-card-checkbox-inner><input type=checkbox ng-model=card.checked ng-click=\"onSet().check(card, $event)\"></div></div><div class=dlcui-card-item-template ng-include=template ng-click=\"onSet().active(card, $event)\"></div><div class=dlcui-card-delete><div class=dlcui-card-delete-inner><dlcui-icon type=svg icon=#ic_container_clear_field size=16px ng-click=\"onSet().remove(card, $event)\"></dlcui-icon></div></div></div>");
  $templateCache.put("ngclarity/directives/containers/cardTemplateContainer/dlcuiCardTemplateContainer.directive.template.html",
    "<div class=dlcui-card-template-container ng-show=model.visible><div class=\"card-template flex\" ng-repeat=\"card in model.items\" dlcui-ng-repeat-complete=onComplete()><dlcui-card ng-model=card options=options template={{template}} on-active=Active(card) on-check=Check(card) on-delete=Delete(card)></dlcui-card></div></div>");
  $templateCache.put("ngclarity/directives/containers/contentpane/dlcuiContentPane.directive.html",
    "<div class=dlcux-pane ng-class=\"{'dlcux-pane-collapsible--collapsed': _collapsed, 'dlcux-pane-collapsible': _collapsible}\" ng-mouseleave=mouseLeft()><h2 class=dlcux-pane__title ng-click=toggleCollapse(true)><span ng-if=icon><dlcui-font-icon icon={{icon}}></dlcui-font-icon></span><span>{{dlcuiTitle}}</span> <span class=dlcux-pane__collapse-icon ng-if=_collapsible></span></h2><div dlcui-collapse=_collapsed dlcui-collapse-skip-initial=true><div class=dlcux-pane__content ng-transclude></div></div></div>");
  $templateCache.put("ngclarity/directives/containers/layouts/dlcuiLayoutDetail.directive.html",
    "<div class=\"dlcui-layout-detail dlcui-float-right dlcui-col11\" ng-hide=state.selectionExpanded></div>");
  $templateCache.put("ngclarity/directives/containers/layouts/dlcuiLayoutFooter.directive.html",
    "<div class=dlcui-layout-footer><div class=dlcui-layout-footer-inner ng-transclude=\"\"></div></div>");
  $templateCache.put("ngclarity/directives/containers/layouts/dlcuiLayoutMain.directive.html",
    "<div class=dlcui-layout-main ng-class=\"{'dlcui-layout-with-toolbar' : data.layoutStates.toolbarAreaPresent, 'dlcui-layout-without-toolbar' : !data.layoutStates.toolbarAreaPresent, 'dlcui-layout-with-footer' : data.layoutStates.footerAreaPresent, 'dlcui-layout-without-footer' : !data.layoutStates.footerAreaPresent}\" dlcui-masthead-scroll=\"\"><dlcui-transclude-replace></dlcui-transclude-replace></div>");
  $templateCache.put("ngclarity/directives/containers/layouts/dlcuiLayoutSelection.directive.html",
    "<div class=\"dlcui-layout-selection dlcui-float-left\" ng-class=\"{ 'dlcui-col4' : !state.selectionExpanded, 'dlcui-col11' : state.selectionExpanded }\"></div>");
  $templateCache.put("ngclarity/directives/containers/layouts/dlcuiLayoutTable.directive.html",
    "<div class=dlcui-layout-table><div class=\"dlcui-layout-selection dlcui-float-left\" ng-class=\"{ 'dlcui-col5' : data.rowIsSelected || !expanded, 'expanded' : !data.rowIsSelected || expanded }\"><div dlcui-transclude-selector=dlcui-layout-selection></div></div><div class=\"dlcui-layout-detail dlcui-float-right dlcui-col11\" ng-hide=\"!data.rowIsSelected || (data.layoutStates.windowSize == 'small' || data.layoutStates.windowSize == 'xsmall')\"><div dlcui-transclude-selector=dlcui-layout-detail></div></div></div>");
  $templateCache.put("ngclarity/directives/containers/layouts/dlcuiLayoutToolbar.directive.html",
    "<div class=dlcui-layout-toolbar ng-class=data.states.currentMastheadStateClass><dlcui-toolbar justify=space-between><dlcui-toolbar-label label={{label}}></dlcui-toolbar-label><dlcui-toolbar-group><dlcui-transclude-replace></dlcui-transclude-replace></dlcui-toolbar-group></dlcui-toolbar></div>");
  $templateCache.put("ngclarity/directives/containers/paneContainer/dlcuiPane.directive.html",
    "<div id={{::element.uid}} class=dlcui-pane><dlcui-transclude-replace></dlcui-transclude-replace></div>");
  $templateCache.put("ngclarity/directives/containers/paneContainer/dlcuiPaneContainer.directive.html",
    "<div id={{::element.uid}} class=dlcui-pane-container><div class=dlcui-pane-container-horizontal><dlcui-transclude-replace></dlcui-transclude-replace><div id={{::divider.uid}} class=dlcui-divider></div></div></div>");
  $templateCache.put("ngclarity/directives/containers/rowContainer/dlcuiColumn.directive.html",
    "<div ng-class=getGridCount() ng-transclude></div>");
  $templateCache.put("ngclarity/directives/containers/rowContainer/dlcuiRow.directive.html",
    "<div class=row style=min-height:20px;margin:5px ng-transclude></div>");
  $templateCache.put("ngclarity/directives/containers/rowContainer/dlcuiRowContainer.directive.html",
    "<div class=container style=min-width:200px;width:auto ng-transclude></div>");
  $templateCache.put("ngclarity/directives/containers/stepwizard/dlcuiStepWizard.directive.copy.html",
    "<div class=dlng-step-wizard><div class=dlng-step-wizard-title>{{wizardTitle}}</div><div class=dlng-step-wizard-step-buttons ng-class=\"display=='horizontal'?'dlng-step-wizard-step-horizontal': 'dlng-step-wizard-step-vertical'\"><div class=dlng-step-wizard-navigation><div class=dlng-step-wizard-nav-buttons ng-show=\"display=='horizontal'\"><dlcui-fancy-button ng-click=wizard.previous($event) dlcui-type=link ng-disabled=\"wizard.currentStepIndex === 0\" class=\"dlng-step-wizard-nav-button dlng-step-wizard-nav-previous\"><span class=\"glyphicon glyphicon-chevron-left chevron-style\"></span></dlcui-fancy-button><dlcui-fancy-button ng-click=wizard.next($event) dlcui-type=link ng-disabled=\"wizard.steps[wizard.currentStepIndex].invalid || wizard.currentStepIndex === wizard.steps.length - 1\" class=\"dlng-step-wizard-nav-button dlng-step-wizard-nav-next\"><span ng-if=!wizard.steps[wizard.currentStepIndex].onNextExists() class=\"glyphicon glyphicon-chevron-right chevron-style\"></span> <span ng-if=wizard.steps[wizard.currentStepIndex].onNextExists() class=\"glyphicon glyphicon-chevron-right chevron-style\"></span></dlcui-fancy-button></div><div class=dlng-step-wizard-nav-buttons ng-show=\"display=='vertical'\"><dlcui-fancy-button ng-click=wizard.previous($event) dlcui-type=link ng-disabled=\"wizard.currentStepIndex === 0\" class=\"dlng-step-wizard-nav-button dlng-step-wizard-nav-previous\"><span class=\"glyphicon glyphicon-chevron-up\"></span></dlcui-fancy-button><dlcui-fancy-button ng-click=wizard.next($event) dlcui-type=link ng-disabled=\"wizard.steps[wizard.currentStepIndex].invalid || wizard.currentStepIndex === wizard.steps.length - 1\" class=\"dlng-step-wizard-nav-button dlng-step-wizard-nav-next\"><span ng-if=!wizard.steps[wizard.currentStepIndex].onNextExists() class=\"glyphicon glyphicon-chevron-down\"></span> <span ng-if=wizard.steps[wizard.currentStepIndex].onNextExists() class=\"glyphicon glyphicon-chevron-down\"></span></dlcui-fancy-button></div></div><ul ng-show=\"display=='horizontal'\" ng-class=\"{'slide-button':wizard.moveSlide}\"><li ng-repeat=\"step in wizard.steps\" ng-click=wizard.selectStepIndex($index) ng-attr-title={{step.dlngTitle}} ng-class=\"{'dlng-step-wizard-active': wizard.currentStepIndex === $index,'dlng-step-wizard-disabled': wizard.isStepDisabled($index)}\"><div class=media-top><div class=\"media-object img-circle dlng-outer-badge\"><span class=dlng-inner-font><b>{{$index+1}}</b></span> <span class=\"badge dlng-inner-badge\"><dlcui-font-icon icon=arrow-right size=14px ng-if=\"wizard.currentStepIndex === $index\" class=dlng-step-wizard-angle></dlcui-font-icon><dlcui-font-icon icon=check size=14px ng-if=\"(wizard.currentStepIndex > $index || wizard.editMode) && !step.invalid && !step.onNextFailed\" class=dlng-step-wizard-check></dlcui-font-icon><dlcui-font-icon icon=times size=14px ng-if=\"((wizard.currentStepIndex >= $index || wizard.editMode) && step.invalid) || step.onNextFailed\" class=dlng-step-wizard-x></dlcui-font-icon></span></div></div></li></ul><ul ng-show=\"display=='vertical'\" class=\"nav nav-pills nav-stacked\"><li ng-repeat=\"step in wizard.steps\" ng-click=wizard.selectStepIndex($index) ng-attr-title={{step.dlngTitle}} ng-class=\"{'dlng-step-wizard-active': wizard.currentStepIndex === $index,'dlng-step-wizard-disabled': wizard.isStepDisabled($index)}\"><div class=media-left><div class=\"media-object img-circle dlng-outer-badge\"><span class=dlng-inner-font><b>{{$index+1}}</b></span> <span class=\"badge dlng-inner-badge\"><dlcui-font-icon icon=arrow-down size=14px ng-if=\"wizard.currentStepIndex === $index\" class=dlng-step-wizard-angle></dlcui-font-icon><dlcui-font-icon icon=check size=14px ng-if=\"(wizard.currentStepIndex > $index || wizard.editMode) && !step.invalid && !step.onNextFailed\" class=dlng-step-wizard-check></dlcui-font-icon><dlcui-font-icon icon=times size=14px ng-if=\"((wizard.currentStepIndex >= $index || wizard.editMode) && step.invalid) || step.onNextFailed\" class=dlng-step-wizard-x></dlcui-font-icon></span></div></div></li></ul></div><div class=\"dlng-step-wizard-step-menus dropdown\"><button class=\"btn btn-primary dropdown-toggle\" type=button data-toggle=dropdown>{{wizard.currentStep}} <span class=caret></span></button><ul class=dropdown-menu><li ng-repeat=\"step in wizard.steps\" ng-click=wizard.selectStepIndex($index) ng-attr-title={{step.dlngTitle}} ng-class=\"{'active': wizard.currentStepIndex === $index,'disabled': wizard.isStepDisabled($index)}\"><a>{{step.dlngTitle}}<dlcui-font-icon icon=check size=14px ng-if=\"(wizard.currentStepIndex > $index || wizard.editMode) && !step.invalid && !step.onNextFailed\" class=dlng-step-wizard-check></dlcui-font-icon><dlcui-font-icon icon=times size=14px ng-if=\"((wizard.currentStepIndex >= $index || wizard.editMode) && step.invalid) || step.onNextFailed\" class=dlng-step-wizard-x></dlcui-font-icon></a></li></ul></div><div class=dlng-step-wizard-content ng-class=\"display=='horizontal'?'dlng-step-wizard-step-horizontal': 'dlng-step-wizard-step-vertical'\"><div class=dlng-step-wizard-transclude ng-transclude></div></div></div>");
  $templateCache.put("ngclarity/directives/containers/stepwizard/dlcuiStepWizard.directive.html",
    "<div class=dlng-step-wizard><div ng-if=\"wizardTitle&& wizardTitle!=''\" class=dlng-step-wizard-title>{{wizardTitle}}</div><div class=dlng-step-wizard-step-buttons ng-class=\"display=='horizontal'?'dlng-step-wizard-step-horizontal': 'dlng-step-wizard-step-vertical'\"><div ng-if=showNav class=dlng-step-wizard-navigation><div class=dlng-step-wizard-nav-buttons ng-show=\"display=='horizontal'\"><dlcui-fancy-button ng-click=wizard.previous($event) dlcui-type=link ng-disabled=\"wizard.currentStepIndex === 0\" class=\"dlng-step-wizard-nav-button dlng-step-wizard-nav-previous\"><span class=\"glyphicon glyphicon-chevron-left chevron-style\"></span></dlcui-fancy-button><dlcui-fancy-button ng-click=wizard.next($event) dlcui-type=link ng-disabled=\"wizard.steps[wizard.currentStepIndex].invalid || wizard.currentStepIndex === wizard.steps.length - 1\" class=\"dlng-step-wizard-nav-button dlng-step-wizard-nav-next\"><span ng-if=!wizard.steps[wizard.currentStepIndex].onNextExists() class=\"glyphicon glyphicon-chevron-right chevron-style\"></span> <span ng-if=wizard.steps[wizard.currentStepIndex].onNextExists() class=\"glyphicon glyphicon-chevron-right chevron-style\"></span></dlcui-fancy-button></div><div class=dlng-step-wizard-nav-buttons ng-show=\"display=='vertical'\"><dlcui-fancy-button ng-click=wizard.previous($event) dlcui-type=link ng-disabled=\"wizard.currentStepIndex === 0\" class=\"dlng-step-wizard-nav-button dlng-step-wizard-nav-previous\"><span class=\"glyphicon glyphicon-chevron-up\"></span></dlcui-fancy-button><dlcui-fancy-button ng-click=wizard.next($event) dlcui-type=link ng-disabled=\"wizard.steps[wizard.currentStepIndex].invalid || wizard.currentStepIndex === wizard.steps.length - 1\" class=\"dlng-step-wizard-nav-button dlng-step-wizard-nav-next\"><span ng-if=!wizard.steps[wizard.currentStepIndex].onNextExists() class=\"glyphicon glyphicon-chevron-down\"></span> <span ng-if=wizard.steps[wizard.currentStepIndex].onNextExists() class=\"glyphicon glyphicon-chevron-down\"></span></dlcui-fancy-button></div></div><ul ng-show=\"display=='horizontal'\" ng-class=\"{'slide-button':wizard.moveSlide}\"><li class=dlng-step-wizard-list ng-repeat=\"step in wizard.steps\" ng-click=wizard.selectStepIndex($index) ng-attr-title={{step.dlngTitle}} ng-class=\"{'dlng-step-wizard-active': wizard.currentStepIndex === $index,'dlng-step-wizard-disabled': wizard.isStepDisabled($index)}\"><div class=media-top><div class=\"media-object img-circle dlng-outer-badge\"><span class=dlng-inner-font><b>{{$index+1}}</b></span> <span class=\"badge dlng-inner-badge\"><dlcui-font-icon icon=arrow-right size=14px ng-if=\"wizard.currentStepIndex === $index\" class=dlng-step-wizard-angle></dlcui-font-icon><dlcui-font-icon icon=check size=14px ng-if=\"(wizard.currentStepIndex > $index || wizard.editMode) && !step.invalid && !step.onNextFailed\" class=dlng-step-wizard-check></dlcui-font-icon><dlcui-font-icon icon=times size=14px ng-if=\"((wizard.currentStepIndex >= $index || wizard.editMode) && step.invalid) || step.onNextFailed\" class=dlng-step-wizard-x></dlcui-font-icon></span></div></div></li></ul><ul ng-show=\"display=='vertical'\" class=\"nav nav-pills nav-stacked\"><li class=dlng-step-wizard-list ng-repeat=\"step in wizard.steps\" ng-click=wizard.selectStepIndex($index) ng-attr-title={{step.dlngTitle}} ng-class=\"{'dlng-step-wizard-active': wizard.currentStepIndex === $index,'dlng-step-wizard-disabled': wizard.isStepDisabled($index)}\"><span class=dlng-step-wizard-step-title ng-class=\"{'dlng-step-wizard-title-active': wizard.currentStepIndex === $index,'dlng-step-wizard-title-disabled': wizard.isStepDisabled($index)}\">{{step.dlngTitle}}</span></li></ul></div><div class=\"dlng-step-wizard-step-menus dropdown\"><button class=\"btn btn-primary dropdown-toggle\" type=button data-toggle=dropdown>{{wizard.currentStep}} <span class=caret></span></button><ul class=dropdown-menu><li ng-repeat=\"step in wizard.steps\" ng-click=wizard.selectStepIndex($index) ng-attr-title={{step.dlngTitle}}><a>{{step.dlngTitle}}<dlcui-font-icon icon=check size=14px ng-if=\"(wizard.currentStepIndex > $index || wizard.editMode) && !step.invalid && !step.onNextFailed\" class=dlng-step-wizard-check></dlcui-font-icon><dlcui-font-icon icon=times size=14px ng-if=\"((wizard.currentStepIndex >= $index || wizard.editMode) && step.invalid) || step.onNextFailed\" class=dlng-step-wizard-x></dlcui-font-icon></a></li></ul></div><div class=dlng-step-wizard-content ng-class=\"display=='horizontal'?'dlng-step-wizard-step-horizontal': 'dlng-step-wizard-step-vertical'\"><div class=dlng-step-wizard-transclude ng-transclude></div></div></div>");
  $templateCache.put("ngclarity/directives/containers/stepwizard/dlcuiStepWizardPane.directive.copy.html",
    "<section class=dlng-step-wizard ng-transclude ng-show=isCurrentStep()></section>");
  $templateCache.put("ngclarity/directives/containers/stepwizard/dlcuiStepWizardPane.directive.html",
    "<section ng-transclude ng-show=isCurrentStep()></section>");
  $templateCache.put("ngclarity/directives/containers/tab/dlcuiTab.directive.html",
    "<div class=dlcui-tab__content ng-show=active aria-labelledby=tabs-{{contentId}}-tab id=tabs-{{vm.contentId}} ng-transclude></div>");
  $templateCache.put("ngclarity/directives/containers/tab/dlcuiTabSet.directive.html",
    "<div class=\"dlcui-tabset dlcui-tabset\"><ul class=dlcui-tabset__tabs role=tablist><li class=dlcui-tab name={{tab.name}} ng-repeat=\"tab in vm.tabs\" role=presentation ng-class=\"{'dlcui-tab--active': tab.active }\" ng-click=tab.showTab() aria-controls=tabs-{{tab.contentId}} id=tabs-{{tab.contentId}}-tab><dlcui-font-icon icon={{tab.icon}}></dlcui-font-icon><span class=dlcui-tab__label>{{tab.label}}</span><dlcui-badge ng-if=tab.badge dlcui-type={{tab.badge.type}}>{{tab.badge.label}}</dlcui-badge></li></ul><div class=dlcui-tabset__content role=tabpanel ng-transclude></div></div>");
  $templateCache.put("ngclarity/directives/containers/wizard/dlcuiWizard.directive.html",
    "<div class=dlcui-wizard><div class=dlcui-wizard-step-buttons ng-class='{\"dlcui-wizard-step-horizontal\" : orientation==\"horizontal\", \"dlcui-wizard-step-vertical\" : orientation!=\"horizontal\"}'><ul><li ng-repeat=\"step in steps\" ng-click=selectStepIndex($index) ng-attr-title={{step.dlcuiTitle}} ng-class='{\"dlcui-wizard-active\": currentStepIndex === $index,\n" +
    "                     \"dlcui-wizard-disabled\": isStepDisabled($index), \"dlcui-wizard-step-complete\": currentStepIndex > $index, \"dlcui-wizard-step-pending\": currentStepIndex < $index}'><cui-icon icon=angle-right size=20px ng-if='orientation!=\"horizontal\" && currentStepIndex === $index' class=dlcui-wizard-angle></cui-icon><span ng-if='orientation==\"horizontal\" && step.dlcuiIcon != \"\"' class=dlcui-wizard-step-icon><i class=\"icon hig {{step.dlcuiIcon}}\"></i> </span><span class=dlcui-wizard-step-title>{{step.dlcuiTitle}}</span><div class=dlcui-wizard-check ng-if='orientation!=\"horizontal\" && (currentStepIndex > $index || editMode) && !step.invalid && !step.onNextFailed'>&#10003;</div><div class=dlcui-wizard-x ng-if='orientation!=\"horizontal\" && ((currentStepIndex >= $index || editMode) && step.invalid) || step.onNextFailed'>&#x2717;</div></li></ul></div><div class=dlcui-wizard-content ng-class='{\"dlcui-wizard-step-horizontal\" : orientation==\"horizontal\", \"dlcui-wizard-step-vertical\" : orientation!=\"horizontal\"}'><div class=dlcui-wizard-transclude ng-transclude></div><div class=dlcui-wizard-navigation><span class=dlcui-wizard-step-count translate=CUI_WIZARD_STEP translate-values=\"{current: currentStepIndex + 1, total: steps.length}\"></span><div class=dlcui-wizard-nav-buttons><dlcui-button ng-click=previous($event) ng-disabled=\"currentStepIndex === 0\" class=\"dlcui-wizard-nav-button dlcui-wizard-nav-previous\">{{'CUI_WIZARD_BACK' | translate}}</dlcui-button><dlcui-button ng-click=next($event) dlcui-type=primary ng-disabled=\"steps[currentStepIndex].invalid || currentStepIndex === steps.length - 1\" class=\"dlcui-wizard-nav-button dlcui-wizard-nav-next\"><span ng-if=!steps[currentStepIndex].onNextExists()>{{'CUI_WIZARD_NEXT' | translate}}</span> <span ng-if=steps[currentStepIndex].onNextExists()>{{'CUI_WIZARD_SAVE_AND_NEXT' | translate}}</span></dlcui-button><dlcui-button ng-click=finish($event) dlcui-type=primary ng-disabled=!canFinish() class=\"dlcui-wizard-nav-button dlcui-wizard-nav-finish\">{{'CUI_WIZARD_FINISH' | translate}}</dlcui-button><div class=dlcui-wizard-button-divider></div><dlcui-button ng-click=cancel($event) class=\"dlcui-wizard-nav-button dlcui-wizard-nav-cancel\">{{'CUI_WIZARD_CANCEL' | translate}}</dlcui-button></div></div></div></div>");
  $templateCache.put("ngclarity/directives/containers/wizard/dlcuiWizardStep.directive.html",
    "<section class=dlcui-wizard-step ng-transclude ng-show=isCurrentStep()></section>");
  $templateCache.put("ngclarity/directives/containers/wizardCardContainer/dlcuiWizardCard.template.html",
    "<div class=dlcui-wizard-card ng-class=\"{'dlcui-card-selected': $container.selectedCardIndex === $index, 'dlcui-card-disabled': $index > $container.currentIndex, 'dlcui-card-edit-disabled': $container.selectedCardIndex >=0 && $container.selectedCardIndex !== $index}\" ng-disabled=\"$index > $container.currentIndex || ($container.selectedCardIndex >=0 && $container.selectedCardIndex !== $index)\" ng-click=\"$container.onCardClick($event, $index, card)\" ng-cloak=\"\"><div class=dlcui-wizard-contents><div class=dlcui-wizard-contents-left><div class=\"dlcui-icon-wrapper dlcui-wizard-icon-wrapper dlcui-hide-selected\"><dlcui-icon icon={{:card.icon}}></dlcui-icon></div><div class=\"dlcui-icon-wrapper dlcui-selected-icon-wrapper\" ng-if=card.completed><dlcui-icon type=svg icon=#ic_selectgreen></dlcui-icon></div><div class=dlcui-wizard-contents-wrapper><div class=dlcui-wizard-heading>{{$container.getStepLabel($index, card)}}</div><div class=\"dlcui-wizard-description dlcui-hide-selected\">{{:card.description}}</div><div class=\"dlcui-wizard-long-description dlcui-show-selected\">{{:card.longDescription || card.description}}</div><div class=\"dlcui-wizard-template dlcui-show-selected\"><div ng-include=card.templateUrl></div></div></div></div><div class=dlcui-wizard-contents-right><dlcui-button class=dlcui-show-selected ng-click=\"$container.onDoneClick($event, $index, card)\" type=primary>{{:$container.options.labels.done}}</dlcui-button><div class=\"dlcui-icon-wrapper dlcui-edit-icon-wrapper dlcui-hide-selected\"><dlcui-icon type=svg icon=#ic_pagecontrol_edit></dlcui-icon></div></div></div><div class=dlcui-wizard-overlay></div></div>");
  $templateCache.put("ngclarity/directives/containers/wizardCardContainer/dlcuiWizardCardContainer.directive.html",
    "<div class=dlcui-wizard-card-container ng-hide=options.hide ng-style=style ng-cloak=\"\"><dlcui-card-container class=dlcui-rows-container options=innerOptions></dlcui-card-container></div>");
  $templateCache.put("ngclarity/directives/core/applicationFrame/dlcuiApplicationFrame.directive.html",
    "<div class=dlcui-application-frame><dlcui-masthead ng-if=masthead ng-hide=masthead.hide application-name={{applicationName}} application-logo={{applicationLogo}} application-href={{applicationHref}} pin-masthead=masthead.pin show-controls=masthead.showControls user-name=userName user-actions=masthead.userActions toolbar-actions=masthead.toolbarActions></dlcui-masthead><div class=dlcui-application-frame-navigation ng-if=navigation ng-hide=navigation.hide ng-class=\"[data.states.currentMastheadStateClass, data.states.currentNavigationListStateClass, {'dlcui-navigation-list-unpinned': !data.states.navPinned}]\"><dlcui-navigation-list actions=navigation.actions application-name={{applicationName}} application-logo={{applicationLogo}} application-href={{applicationHref}} pin-navigation-list=navigation.pin></dlcui-navigation-list></div><div class=dlcui-application-frame-main ng-class=\"[data.states.currentMastheadStateClass, data.states.currentNavigationListStateClass]\"><div ng-if=masthead ng-hide=masthead.hide class=dlcui-application-frame-header></div><div class=dlcui-application-frame-content><div class=dlcui-content-wrapper><div class=dlcui-content dlcui-masthead-scroll=\"\" data-open=false ng-transclude=\"\"></div></div></div></div></div>");
  $templateCache.put("ngclarity/directives/core/breadcrumb/dlcuiBreadcrumb.directive.html",
    "<ul class=\"dlcui-navigation dlcui-navigation--breadcrumb\"><li class=dlcui-navigation__item ng-repeat=\"item in items track by $index\"><a ng-if=!$last ng-href={{item.url}}>{{item.label}}</a> <span ng-if=$last>{{item.label}}</span></li></ul>");
  $templateCache.put("ngclarity/directives/core/collapsibleTree/dlcuiCollapsibleTree.directive.html",
    "<div class=dlcui-collapsibletree><ul class=dlcui-collapsibletree-group><li ng-repeat=\"child in items\"><dlcui-collapsible-tree-item items=child></dlcui-collapsible-tree-item></li></ul></div>");
  $templateCache.put("ngclarity/directives/core/collapsibleTree/dlcuiCollapsibleTreeItem.directive.html",
    "<a ng-click=toggleVisible() ng-class=\"{'dlcui-collapsibletree-hide': !items.children.length}\" class=dlcui-collapsibletree-toggle><dlcui-icon icon=caret-right ng-class=\"{'dlcui-collapsibletree-open': items.visible,'dlcui-collapsibletree-invisible': !items.children.length }\" class=dlcui-collapsibletree-collapse></dlcui-icon></a><a ng-click=toggleActive() ng-class=\"{'dlcui-collapsibletree-active': items.active}\"><dlcui-icon icon=\"{{ items.icon }}\" ng-if=items.icon class=dlcui-collapsibletree-node-icon></dlcui-icon>{{ items.label }} {{id}}</a><ul class=dlcui-collapsibletree-group dlcui-collapse=!items.visible dlcui-collapse-skip-initial=true><li ng-repeat=\"child in items.children\"><dlcui-collapsible-tree-item items=child></dlcui-collapsible-tree-item></li></ul>");
  $templateCache.put("ngclarity/directives/core/dropDownList/dlcuiDropDownList.directive.html",
    "<ul class=\"dlcui-drop-down-list dlcui-drop-down-list-closed\" ng-style=style><li class=dlcui-drop-down-list-item ng-if=isSelectionAllowed() ng-show=isDeselectAllVisible()><a class=dlcui-drop-down-list-item-action ng-click=onDeselectAllClick($event)><div class=dlcui-drop-down-list-html><div class=dlcui-label-item><div class=dlcui-label-truncate>{{::getDeselectAllLabel()}}</div></div></div></a></li><li ng-repeat=\"item in items | dlcuiDropDownListItems : isSelectionAllowed() track by $index\" class=dlcui-drop-down-list-item ng-class=\"{'dlcui-separator': item.separator, 'dlcui-highlight': isItemHighlighted(item), 'dlcui-selection-allowed': isSelectionAllowed()}\" ng-hide=isItemHidden(item) ng-mouseenter=setHighlightedItem(item)><div ng-if=isItemSeparator(item) class=dlcui-drop-down-list-item-separator></div><div ng-if=isItemDisplayOnly(item) class=dlcui-drop-down-display-only><div class=dlcui-drop-down-list-html ng-bind-html=getItemHtml(item)></div></div><a class=dlcui-drop-down-list-item-action ng-if=isItemLink(item) ng-click=$event.stopPropagation();item.execute();><div class=dlcui-drop-down-list-html ng-bind-html=getItemHtml(item)></div></a><a class=dlcui-drop-down-list-item-link ng-if=isItemHighlightLink(item) ng-click=\"onListItemClicked($event, item)\"><dlcui-selection ng-if=isSelectionAllowed() ng-disabled=isItemSelectionDisabled(item) selection-type=1 selection-state={{isItemSelected(item)}} container-selector=.dlcui-drop-down-list-item-link></dlcui-selection><div class=dlcui-drop-down-list-html ng-bind-html=getItemHtml(item)></div></a></li></ul>");
  $templateCache.put("ngclarity/directives/core/dropDownList/dlcuiLabelItem.template.html",
    "<div class=dlcui-label-item><div class=dlcui-label-truncate>{{label}}</div></div>");
  $templateCache.put("ngclarity/directives/core/dropDownList/dlcuiSupplementalItem.template.html",
    "<div class=dlcui-supplemental-item><div><div class=\"dlcui-label-truncate dlcui-supplemental-item-label-top\">{{label}}</div><div class=\"dlcui-label-truncate dlcui-supplemental-item-label-bottom\">{{supplementalLabel}}</div></div></div>");
  $templateCache.put("ngclarity/directives/core/header/dlcuiMainHeader.directive.html",
    "<header class=dlcui-mainheader ng-class=\"{fixed: dlcui-mainheader--fixed}\"><cui-icon ng-if=!applicationLogo class=dlcui-mainheader__logo icon=dell-halo></cui-icon><img ng-src={{applicationLogo}} ng-if=applicationLogo class=dlcui-mainheader__logo><h1 class=dlcui-mainheader__title><a ng-if=applicationHref ng-href={{applicationHref}}>{{name}}</a> <span ng-if=!applicationHref>{{name}}</span></h1><h2 class=dlcui-mainheader__subtitle>{{subname}}</h2><i class=\"dlcui-mainheader__navigation-toggle cui-drawer cux-icon cux-icon--ellipsis-v cui-application-frame-drawer\" ng-show=\"showControls === true\" ng-click=toggleDrawer()></i><nav class=dlcui-mainheader__controls ng-show=\"showControls === true\" ng-class=\"{&quot;dlcui-mainheader-drawer-showing&quot;: drawerShowing}\" ng-transclude></nav></header>");
  $templateCache.put("ngclarity/directives/core/lazyLoading/dlcuiLazyLoadingFooter.directive.html",
    "<div class=dlcui-lazy-loading-footer ng-show=lazyLoadingController.showFooter><dlcui-toolbar justify=flex-end align=center><dlcui-toolbar-group justify=flex-end><dlcui-toolbar-label label={{lazyLoadingController.label}}></dlcui-toolbar-label></dlcui-toolbar-group></dlcui-toolbar></div>");
  $templateCache.put("ngclarity/directives/core/list/dlcuiList.directive.html",
    "<div class=dlcui-list ng-class=\"{'dlcui-disabled': disabled}\" ng-style=style><div class=dlcui-list-header ng-class=\"{'dlcui-disabled': disabled || listContainer.isEditingItem()}\"><dlcui-icon class=dlcui-list-search icon=#ic_search size=18px></dlcui-icon><dlcui-text-input ng-if=search placeholder={{search.options.placeholder}} ng-model=search.model ng-disabled=\"disabled || listContainer.isEditingItem()\" style=\"border: 0\"></dlcui-text-input></div><dlcui-card-container ng-if=listContainer options=listContainer.options ng-disabled=disabled></dlcui-card-container></div>");
  $templateCache.put("ngclarity/directives/core/list/dlcuiListItem.template.html",
    "<div class=\"dlcui-list-card-item ng-cloak\" ng-class=$container.listContainer.getClasses(card) ng-click=\"$container.listContainer.onItemClicked($event, card)\" ng-dblclick=\"$container.listContainer.onItemDoubleClicked($event, card)\" dlcui-drag-source={{$container.listContainer.isDragEnabled(card)}} dlcui-drag-data=card dlcui-create-drag-image=$container.listContainer.createDragImage(id) dlcui-on-drag-start=\"$container.listContainer.onDragStart(id, card)\"><dlcui-label class=dlcui-list-item-label ng-if=$container.listContainer.isItemLabel(card) label={{card.label}} ng-disabled=disabled></dlcui-label><div class=dlcui-list-item-edit ng-if=$container.listContainer.isItemNormal(card)><dlcui-text-input class=dlcui-list-item-input ng-if=$container.listContainer.isEditMode(card) dlcui-focus-on-show=input ng-click=$event.stopPropagation(); dlcui-enter=\"$container.listContainer.onAcceptItem($event, card)\" dlcui-escape=\"$container.listContainer.onCancelEdit($event, card)\" ng-required=true dlcui-unique={{::$container.listContainer.getUniqueNames()}} ng-disabled=disabled ng-model=card.label></dlcui-text-input><dlcui-label class=dlcui-list-item-label ng-if=\"!$container.listContainer.isEditMode(card) || !$container.listContainer.isEditingEnabled(card)\" label={{card.label}} ng-disabled=disabled></dlcui-label><div class=\"dlcui-list-item-toolbar dlcui-list-item-toolbar-display\" ng-if=\"!disabled && $container.listContainer.isDisplayMode(card)\"><dlcui-icon class=\"dlcui-item-action-icon dlcui-action-display\" ng-click=\"$container.listContainer.onEditItem($event, card)\" icon=#ic_editrename size=12px></dlcui-icon><dlcui-icon class=\"dlcui-item-action-icon dlcui-action-display\" ng-click=\"$container.listContainer.onDeleteItem($event, card)\" icon=#ic_delete size=12px></dlcui-icon></div><div class=\"dlcui-list-item-toolbar dlcui-list-item-toolbar-edit\" ng-if=\"!disabled && $container.listContainer.isEditMode(card)\"><dlcui-icon class=\"dlcui-item-action-icon dlcui-action-edit\" ng-click=\"$container.listContainer.onAcceptItem($event, card)\" icon=#row_add size=12px></dlcui-icon><dlcui-icon class=\"dlcui-item-action-icon dlcui-action-edit\" ng-click=\"$container.listContainer.onCancelEdit($event, card)\" icon=#row_remove size=12px></dlcui-icon></div></div></div>");
  $templateCache.put("ngclarity/directives/core/loading/dlcuiloading.directive.html",
    "<dlcui-spinner color={{spinnerColor}} size=80px></dlcui-spinner><p translate=DLCUI_LOADING_TEXT></p>");
  $templateCache.put("ngclarity/directives/core/mastHead/dlcuiMasthead.directive.html",
    "<div class=dlcui-masthead ng-class=\"pinMasthead ? 'dlcui-masthead-open' : data.states.currentMastheadStateClass\" ng-mouseover=actions.openMasthead() ng-mouseleave=actions.closeMasthead()><div class=dlcui-masthead-inner><a class=dlcui-logo ng-href={{applicationHref}}><dlcui-icon ng-if=!applicationLogo icon=#ic_logo></dlcui-icon><dlcui-icon ng-if=applicationLogo icon={{applicationLogo}}></dlcui-icon><span class=dlcui-logo-title>{{applicationName}}</span></a><div class=dlcui-controls ng-if=showControls><div class=dlcui-user-actions><dlcui-drop-down-button ng-if=\"userName.length && userActions.length\" actions=userActions label={{userName}} type=flat></dlcui-drop-down-button></div><div class=dlcui-toolbar-actions ng-if=toolbarActions.length><dlcui-toolbar justify=flex-end><dlcui-toolbar-button ng-repeat=\"action in toolbarActions track by $index\" collapsed-label=\"{{action.collapsedLabel || action.label}}\" tooltip=\"{{action.tooltip || action.label || action.collapsedLabel}}\" ng-click=action.execute() icon-name={{action.icon}} ng-disabled=action.disabled ng-hide=action.hide icon-size=24px></dlcui-toolbar-button></dlcui-toolbar></div></div></div></div>");
  $templateCache.put("ngclarity/directives/core/navigationMenuList/dlcuiNavigationMenuList.directive.html",
    "<div class=dlcui-navigation-list role=menu><ul class=dlcui-navigation-group><li ng-repeat=\"child in items\" role=menuitem aria-haspopup=\"{{child.children.length > 0}}\"><dlcui-navigation-menu-list-item items=child toplevel=true></dlcui-navigation-menu-list-item></li></ul></div>");
  $templateCache.put("ngclarity/directives/core/navigationMenuList/dlcuiNavigationMenuListItem.directive.html",
    "<a ng-click=showTab() ng-class=\"{'dlcui-navigation-toplevel': toplevel,'dlcui-navigation-secondary': !collapsed,'dlcui-navigation-active': items.active }\" ng-attr-href={{items.href}} title={{items.label}} class=dlcui-navigation-link>&nbsp;<dlcui-font-icon icon={{items.icon}} ng-if=items.icon class=dlcui-navigation-icon></dlcui-font-icon>&nbsp; <span class=dlcui-navigation-label>{{ items.label }}</span><dlcui-font-icon icon=chevron-right ng-class=\"{'dlcui-navigation-open': items.visible,'dlcui-navigation-invisible': !items.children.length }\" class=dlcui-navigation-collapse></dlcui-font-icon></a><div dlcui-collapse=!items.visible dlcui-collapse-skip-initial=true aria-hidden={{!items.visible}}><ul class=dlcui-navigation-group ng-class=\"{'dlcui-navigation-secondary': !collapsed,'dlcui-navigation-collapsing': items.visible,'dlcui-navigation-haschildren': items.children.length > 0}\" role=menu><li ng-repeat=\"child in items.children\" role=menuitem aria-haspopup=\"{{child.children.length > 0}}\"><dlcui-navigation-menu-list-item items=child></dlcui-navigation-menu-list-item></li></ul></div>");
  $templateCache.put("ngclarity/directives/core/navigationPage/dlcuiNavigationPage.directive.html",
    "<div id={{navigation.uid}} class=dlcui-navigation-page ng-style=navigation.style ng-show=navigation.visible ng-disabled=disabled><div class=navigation-input><dlcui-text-input is-valid=validatePage(value) ng-model=model options=inputOptions ng-disabled=!pagination.enabled></dlcui-text-input></div><div ng-class=\"{ 'label' : !disabled, 'label disabled' : disabled }\">&nbsp;of&nbsp;{{ sets | number }}</div><div class=navigation-icon><div class=back><dlcui-icon id={{pagination.back.uid}} ng-class=\"{'icon' :  !disabled,  'icon disabled' :  disabled}\" type=svg size=10px icon=#ic_arrowback ng-disabled=disabled></dlcui-icon></div><div class=forward><dlcui-icon ng-class=\"{'icon' :  !disabled,  'icon disabled' :  disabled}\" id={{pagination.forward.uid}} type=svg size=10px icon=#ic_arrownext ng-disabled=disabled></dlcui-icon></div></div></div>");
  $templateCache.put("ngclarity/directives/core/tree/dlcuiTree.directive.html",
    "<div class=dlcui-tree><dlcui-disabled-overlay ng-disabled=disabled></dlcui-disabled-overlay><dlcui-tree-node-container class=dlcui-tree-inner-container ng-show=options.data.length nodes=options.data></dlcui-tree-node-container><div ng-hide=options.data.length class=dlcui-tree-empty ng-include=::getEmptyTemplateUrl()></div></div>");
  $templateCache.put("ngclarity/directives/core/tree/dlcuiTreeNode.directive.html",
    "<div class=dlcui-tree-node ng-class=getClasses()><div class=dlcui-tree-node-header ng-click=onNodeClicked() ng-class=\"{'dlcui-node-selected': isNodeSelected()}\"><div class=dlcui-tree-node-template ng-if=::isTemplate() ng-hide=node.hidden ng-include=::getTemplateUrl()></div><div class=dlcui-tree-node-label ng-if=::!isTemplate() ng-hide=node.hidden>{{node.label}}</div></div><div ng-if=node.children.length class=dlcui-tree-node-children ng-include=childrenTemplate></div></div>");
  $templateCache.put("ngclarity/directives/core/tree/dlcuiTreeNodeChildren.template.html",
    "<dlcui-tree-node-container nodes=node.children></dlcui-tree-node-container>");
  $templateCache.put("ngclarity/directives/core/tree/dlcuiTreeNodeContainer.directive.html",
    "<div class=dlcui-tree-node-container><dlcui-tree-node ng-repeat=\"nodeItem in nodes track by $index\" node=nodeItem></dlcui-tree-node></div>");
  $templateCache.put("ngclarity/directives/graphs/dlcuiGraph.directive.html",
    "");
  $templateCache.put("ngclarity/directives/helper/animation/dlcuiHorizontalSlider.directive.html",
    "<div class=dlcui-horizontal-slider><div class=dlcui-slider-contents ng-transclude=\"\"></div></div>");
  $templateCache.put("ngclarity/directives/helper/animation/dlcuiVerticalSlider.directive.html",
    "<div class=dlcui-vertical-slider><div class=dlcui-slider-contents ng-transclude=\"\"></div></div>");
  $templateCache.put("ngclarity/directives/helper/disabledOverlay/dlcuiDisabledOverlay.directive.html",
    "<div class=dlcui-disabled-overlay ng-if=disabled></div>");
  $templateCache.put("ngclarity/directives/input/button/button.html",
    "<button class=dlcui-button ng-class=getButtonClasses() ng-disabled=disabledBtn ng-transclude name={{name}}></button>");
  $templateCache.put("ngclarity/directives/input/checkbox/checkBox.html",
    "<div class=dlcui-checkbox ng-class=\"{'dlcui-state-disabled' : ngDisabled, 'dlcui-state-inverse': inverse === 'true', 'dlcui-state-checked': checked}\"><div class=dlcui-checkbox-icon><dlcui-icon type=svg size=14px icon={{getIconName()}}></dlcui-icon></div><div class=dlcui-label ng-bind=label>Sample checkbox</div></div>");
  $templateCache.put("ngclarity/directives/input/comboBox/dlcuiComboBox.directive.html",
    "<div class=dlcui-combo-box ng-class=\"{'dlcui-disabled': disabled, 'dlcui-drop-down-open': dropDownVisible, 'dlcui-item-selected': selectedItem, 'dlcui-active': inputActive || active}\" dlcui-document-click=onDocumentClick($event) ng-focus=onFocus() dlcui-drop-down-keyboard=filteredItems><input class=dlcui-internal-input placeholder={{::placeholder}} ng-blur=onInputBlur() ng-focus=onInputFocus() ng-model=filterModel.filter ng-disabled=disabled><dlcui-drop-down-list ng-if=isDropDownVisible() anchor=left items=filterModel.filteredItems highlight-item=highlightItem height={{::maxHeight}} on-item-clicked=onDropDownItemClicked(item) list-open=true></dlcui-drop-down-list><div class=dlcui-drop-down-icon-wrapper tabindex=-1 ng-click=onDropDownClick($event) ng-focus=onFocus()><dlcui-icon class=dlcui-drop-down-icon type=svg icon=#ic_downarrow size=\"9px, 7px\"></dlcui-icon></div></div>");
  $templateCache.put("ngclarity/directives/input/dateTimePicker/dlcuiCalendarAndTimeContainer.template.html",
    "<div class=dlcui-calendar-time-container ng-class=\"{'dlcui-disabled': disabled}\"><div style=\"text-align: center\"><div class=dlcui-datetime-icon-container><dlcui-icon class=dlcui-click icon=#ic_date size=20px ng-click=showCalendar() ng-class=\"{'dlcui-activated': isCalenderVisible()}\"></dlcui-icon><dlcui-icon class=dlcui-click icon=#ic_time size=20px ng-click=hideCalendar() ng-class=\"{'dlcui-activated': !isCalenderVisible()}\"></dlcui-icon></div></div><div><div ng-show=isCalenderVisible() ng-include=getCalenderTemplateUrl()></div><div ng-show=!isCalenderVisible() ng-include=getTimeTemplateUrl()></div></div></div>");
  $templateCache.put("ngclarity/directives/input/dateTimePicker/dlcuiCalendarContainer.template.html",
    "<div class=dlcui-calendar-container ng-class=\"{'dlcui-disabled': disabled}\"><div class=dlcui-calendar-header><div class=dlcui-calendar-left><div class=dlcui-calendar-arrow><dlcui-icon class=dlcui-click tabindex=0 ng-click=\"setModel(dlcuiDateTime.previous(model || today, 'years', 1))\" icon=#calendar_left_dbl_arrow size=12px,10px></dlcui-icon></div><div class=dlcui-calendar-arrow><dlcui-icon class=dlcui-click tabindex=0 ng-click=\"setModel(dlcuiDateTime.previous(model || today, 'months', 1))\" icon=#calendar_left_arrow size=12px,10px></dlcui-icon></div></div>{{ model || today | date:'MMMM yyyy' }}<div class=dlcui-calendar-right><div class=dlcui-calendar-arrow><dlcui-icon class=dlcui-click tabindex=0 ng-click=\"setModel(dlcuiDateTime.next(model || today, 'months', 1))\" icon=#calendar_right_arrow size=12px,10px></dlcui-icon></div><div class=dlcui-calendar-arrow><dlcui-icon class=dlcui-click tabindex=0 ng-click=\"setModel(dlcuiDateTime.next(model || today, 'years', 1))\" icon=#calendar_right_dbl_arrow size=12px,10px></dlcui-icon></div></div></div><div class=dlcui-calendar-month><div class=\"dlcui-calendar-day-of-week dlcui-calendar-week\" ng-repeat=\"week in calendar | limitTo:1\"><div class=dlcui-calendar-short ng-repeat=\"day in week\">{{ day.date | date:'EEE' }}</div></div><div class=dlcui-calendar-week ng-repeat=\"week in calendar\"><div class=dlcui-calendar-day ng-repeat=\"day in week\" tabindex=0 ng-click=onSelectDay(day) ng-class=\"{'dlcui-calendar-selected': day.selected, 'dlcui-calendar-not-in-month': !day.month, 'dlcui-calendar-today': day.today}\"><div class=dlcui-calendar-day-border>{{ day.date | date:'d' }}</div></div></div></div><div class=\"dlcui-calendar-footer dlcui-click\" tabindex=0 ng-click=mergeDateModel(today)>{{ today | date:'fullDate' }}</div></div>");
  $templateCache.put("ngclarity/directives/input/dateTimePicker/dlcuiDateTimePicker.directive.html",
    "<div class=dlcui-datetime-picker ng-class=\"{'dlcui-disabled': disabled,\n" +
    "                'dlcui-time-picker': dateTimeCtrl.isTimePicker(),\n" +
    "                'dlcui-date-picker': dateTimeCtrl.isDatePicker(),\n" +
    "                'dlcui-date-and-time-picker': dateTimeCtrl.isDateAndTimePicker(),\n" +
    "                'dlcui-drop-down-visible': dropDownVisible}\" dlcui-focus=onFocusComponent(hasFocus)><input ng-model=inputModel class=dlcui-datetime-picker-input placeholder={{getPlaceholder()}} ng-blur=onInputBlur() ng-focus=onInputFocus() ng-disabled=disabled><div class=\"dlcui-date-time-drop-down dlcui-date-time-drop-down-closed\" tabindex=-1 ng-click=$event.stopPropagation()><div class=dlcui-date-time-drop-down-contents ng-include=getDropdownTemplateUrl()></div></div></div>");
  $templateCache.put("ngclarity/directives/input/dateTimePicker/dlcuiTimeContainer.template.html",
    "<div class=dlcui-time-container ng-class=\"{'dlcui-disabled': disabled}\"><div class=dlcui-time><div class=dlcui-left-pane>&nbsp;</div><div class=dlcui-center-pane><div class=dlcui-slot-container><div class=\"dlcui-slot-column dlcui-time-hour\"><div class=dlcui-previous><dlcui-icon class=dlcui-click ng-click=\"setModel(dlcuiDateTime.previous(model || today, 'hours', getIncrementHour()))\" icon=#sorting_arrow_up size=14px,10px></dlcui-icon></div><div class=dlcui-slot>{{(model || today) | date : (dateTimeCtrl.isMilitary() ? 'HH' : 'hh')}}</div><div class=dlcui-next><dlcui-icon class=dlcui-click ng-click=\"setModel(dlcuiDateTime.next(model || today, 'hours', getIncrementHour()))\" icon=#sorting_arrow_down size=14px,10px></dlcui-icon></div></div><div class=\"dlcui-slot-column dlcui-colon\"><div class=dlcui-previous></div><div class=dlcui-slot><span>:</span></div><div class=dlcui-next></div></div><div class=\"dlcui-slot-column dlcui-time-minute\"><div class=dlcui-previous><dlcui-icon class=dlcui-click ng-click=\"setModel(dlcuiDateTime.previous(model || today, 'minutes', getIncrementMinute()))\" icon=#sorting_arrow_up size=14px,10px></dlcui-icon></div><div class=dlcui-slot>{{(model || today) | date:'mm'}}</div><div class=dlcui-next><dlcui-icon class=dlcui-click ng-click=\"setModel(dlcuiDateTime.next(model || today, 'minutes', getIncrementMinute()))\" icon=#sorting_arrow_down size=14px,10px></dlcui-icon></div></div><div class=\"dlcui-slot-column dlcui-colon\" ng-show=dateTimeCtrl.isSecondVisible()><div class=dlcui-previous></div><div class=dlcui-slot><span>:</span></div><div class=dlcui-next></div></div><div class=\"dlcui-slot-column dlcui-time-second\" ng-show=dateTimeCtrl.isSecondVisible()><div class=dlcui-previous ng-click=\"setModel(dlcuiDateTime.previous(model || today, 'seconds', getIncrementSecond()))\"><dlcui-icon icon=#sorting_arrow_up size=14px,10px></dlcui-icon></div><div class=dlcui-slot>{{(model || today) | date:'ss'}}</div><div class=dlcui-next><dlcui-icon class=dlcui-click ng-click=\"setModel(dlcuiDateTime.next(model || today, 'seconds', getIncrementSecond()))\" icon=#sorting_arrow_down size=14px,10px></dlcui-icon></div></div><div class=\"dlcui-slot-column dlcui-non-colon\" ng-show=isMeridiemVisible()></div><div class=\"dlcui-slot-column dlcui-time-meridiem\" ng-show=isMeridiemVisible()><div class=dlcui-previous><dlcui-icon class=dlcui-click ng-click=\"setModel(dlcuiDateTime.previous(model || today, 'hours', 12))\" icon=#sorting_arrow_up size=14px,10px></dlcui-icon></div><div class=dlcui-slot>{{meridiem}}</div><div class=dlcui-next><dlcui-icon class=dlcui-click ng-click=\"setModel(dlcuiDateTime.next(model || today, 'hours', 12))\" icon=#sorting_arrow_down size=14px,10px></dlcui-icon></div></div></div></div><div class=dlcui-right-pane>&nbsp;</div></div></div>");
  $templateCache.put("ngclarity/directives/input/dropDown/dlcuiDropDown.directive.html",
    "<div class=dlcui-drop-down ng-class=\"{'dlcui-disabled': disabled, 'dlcui-drop-down-open': dropDownVisible}\" dlcui-document-click=onDocumentClick($event) dlcui-drop-down-keyboard=items ng-click=onDropDownClick($event)><div class=dlcui-drop-down-label ng-if=selectedItem ng-bind=\"selectedItem.label || selectedItem.name\"></div><div class=dlcui-drop-down-placeholder ng-if=!selectedItem>{{placeholder}}</div><dlcui-drop-down-list ng-if=isDropDownVisible() anchor=left items=items highlight-item=highlightItem height={{::maxHeight}} on-item-clicked=onDropDownItemClicked(item) list-open=true></dlcui-drop-down-list><dlcui-icon class=dlcui-drop-down-icon type=svg icon=#ic_downarrow size=\"9px, 7px\" ng-click=onDropDownClick($event) tabindex=-1></dlcui-icon></div>");
  $templateCache.put("ngclarity/directives/input/dropDownButton/dlcuiDropDownButton.directive.html",
    "<div class=dlcui-drop-down-button ng-class=\"{'dlcui-type-flat': type === 'flat', 'dlcui-disabled': disabled}\" dlcui-document-click=\"dropDownVisible = false;\" dlcui-document-scroll=\"dropDownVisible = false;\" dlcui-drop-down-keyboard=actions dlcui-on-drop-down-selected=onActionClicked(item) ng-click=onDropDownClick($event)><dlcui-button ng-if=!buttonFlatType class=dlcui-button-wrapper ng-disabled=disabled type=\"{{type || 'secondary'}}\"><div class=dlcui-button-inner><dlcui-icon ng-if=\"iconName && iconName.length\" class=dlcui-icon-button ng-class=\"{'dlcui-no-label': !label || !label.length}\" icon={{iconName}} type={{iconType}} color={{iconColor}} size={{iconSize}}></dlcui-icon><span ng-if=\"label && label.length\" class=dlcui-button-label>{{label}}</span><dlcui-icon ng-if=!hideDropDownIcon class=dlcui-drop-down-icon ng-class=\"{'dlcui-no-label': !label || !label.length}\" type=svg icon=#ic_downarrow size=\"9px, 7px\"></dlcui-icon></div></dlcui-button><a ng-if=buttonFlatType class=dlcui-button-wrapper ng-disabled=disabled><div class=dlcui-button-inner><dlcui-icon ng-if=\"iconName && iconName.length\" class=dlcui-icon-button ng-class=\"{'dlcui-no-label': !label || !label.length}\" icon={{iconName}} type={{iconType}} color={{iconColor}} size={{iconSize}}></dlcui-icon><span ng-if=\"label && label.length\" class=dlcui-button-label>{{label}}</span><dlcui-icon ng-if=!hideDropDownIcon class=dlcui-drop-down-icon ng-class=\"{'dlcui-no-label': !label || !label.length}\" type=svg icon=#ic_downarrow size=\"9px, 7px\"></dlcui-icon></div></a><dlcui-drop-down-list ng-if=isDropDownVisible() anchor={{anchor}} collision=flip highlight-item=highlightItem items=actions height={{::maxHeight}} on-item-clicked=onActionClicked(item) list-open=true></dlcui-drop-down-list></div>");
  $templateCache.put("ngclarity/directives/input/fancybutton/dlcuiFancyButton.directive.html",
    "<button class=\"cui-button dlcux-button\" ng-transclude></button>");
  $templateCache.put("ngclarity/directives/input/hierarchyBuilder/dlcuiHierarchyBuilder.directive.html",
    "<div class=dlcui-hierarchy-builder ng-style=style><dlcui-list ng-if=list options=list.options selected-items=list.selectedItems on-add-new-item=list.onAddNewItem(item) on-change-item=\"list.onChangeItem(newItem, oldItem)\" on-delete-item=list.onDeleteItem(item) on-item-click=list.onItemClick(item) on-selection-changed=list.onSelectionChanged(item) on-match-found=\"list.onMatchFound(exact, items)\" on-filter-changed=list.onFilterChange(filter) dlcui-drop-target=false dlcui-on-drop=\"list.onDrop(sourceId, targetId, data)\" dlcui-drag-allow-selector=.dlcui-hierarchy-text-card ng-disabled=disabled></dlcui-list><dlcui-tree ng-if=tree options=tree.options on-node-selected=\"tree.onNodeSelected(id, label)\" dlcui-drop-target=true dlcui-on-drop=\"tree.onDropListItem(sourceId, targetId, data)\" dlcui-drag-allow-selector=.dlcui-list-card-item ng-disabled=disabled></dlcui-tree></div>");
  $templateCache.put("ngclarity/directives/input/hierarchyBuilder/dlcuiHierarchyBuilderEmpty.template.html",
    "<span>{{::$container.options.labels.empty}}</span>");
  $templateCache.put("ngclarity/directives/input/hierarchyBuilder/dlcuiHierarchyTextCard.template.html",
    "<div class=\"dlcui-hierarchy-card dlcui-hierarchy-text-card\" tabindex=-1 dlcui-drag-source=true dlcui-drag-data=node dlcui-on-drag-start=\"$container.tree.onDragStart(id, node)\" dlcui-on-drag-end=$container.tree.onDragEnd(data) dlcui-drop-target=true dlcui-on-drop=\"$container.tree.onDropNode(sourceId, targetId, data, node)\" dlcui-on-drag-enter=\"$container.tree.onDragEnterNode(sourceId, targetId, node)\" dlcui-on-drag-leave=\"$container.tree.onDragLeaveNode(sourceId, targetId)\" dlcui-drag-allow-selector=.dlcui-hierarchy-text-card><div class=dlcui-label-normal>{{node.label}}</div><dlcui-icon class=dlcui-remove-icon ng-click=$container.removeItem(node) type=svg icon=#ic_xclosewindow size=12px></dlcui-icon></div>");
  $templateCache.put("ngclarity/directives/input/inlineAddRow/dlcuiInlineAddRow.directive.html",
    "<div class=dlcui-inline-add-rows ng-class=\"{'dlcui-state-idle': inlineAddRowCtrl.state <= 0, 'dlcui-state-busy': inlineAddRowCtrl.state > 0, 'dlcui-display-only' : options.displayOnlyMode}\"><div ng-if=\"options.label && options.label.length\" class=dlcui-inline-add-rows-label>{{options.label}}</div><div ng-if=\"options.enableAdd && !options.displayOnlyMode\" class=dlcui-add-item><dlcui-button type=link ng-if=inlineAddRowCtrl.isAddButtonVisible() ng-disabled=inlineAddRowCtrl.isAddButtonDisabled() ng-click=inlineAddRowCtrl.onItemAddClick()>{{options.addLabel}}</dlcui-button><dlcui-inline-edit-item class=dlcui-add-line-item ng-if=inlineAddRowCtrl.isAddState() item=inlineAddRowCtrl.currentItem template-url={{::options.addItemTemplateUrl}} toolbar-location={{::options.addItemToolbarVerticalLocation}} ng-disabled=inlineAddRowCtrl.isEditingDisabled() on-item-save=inlineAddRowCtrl.onItemSaveClick() on-item-cancel=inlineAddRowCtrl.onItemCancelClick()></dlcui-inline-edit-item></div><div class=dlcui-items><div ng-repeat=\"item in inlineAddRowCtrl.items track by $index\" class=dlcui-item-line ng-class=\"{'dlcui-item-selected':item._selected}\" ng-hide=item.hide><dlcui-inline-display-item class=dlcui-item-contents ng-if=!inlineAddRowCtrl.isEditState($index) item=item template-url={{::options.displayItemTemplateUrl}} toolbar-location={{::options.displayItemToolbarVerticalLocation}} ng-disabled=inlineAddRowCtrl.isEditingDisabled() on-item-edit=\"inlineAddRowCtrl.onItemEditClick($index, item)\" on-item-delete=\"inlineAddRowCtrl.onItemDeleteClick($index, item)\"></dlcui-inline-display-item><dlcui-inline-edit-item class=dlcui-item-contents ng-if=inlineAddRowCtrl.isEditState($index) item=inlineAddRowCtrl.currentItem template-url={{::options.editItemTemplateUrl}} toolbar-location={{::options.editItemToolbarVerticalLocation}} ng-disabled=inlineAddRowCtrl.isEditingDisabled() on-item-save=inlineAddRowCtrl.onItemSaveClick() on-item-cancel=inlineAddRowCtrl.onItemCancelClick()></dlcui-inline-edit-item></div></div></div>");
  $templateCache.put("ngclarity/directives/input/inlineAddRow/dlcuiInlineDisplayItem.directive.html",
    "<div class=\"dlcui-inline-display-item ng-cloak\" ng-class=getItemClasses() ng-click=onToggleSelection()><div class=dlcui-inline-item-left><dlcui-selection ng-if=isSelectionAllowed() ng-disabled=isSelectionDisabled() selection-type={{getSelectionType()}} selection-state={{isSelected()}} container-selector=.dlcui-inline-display-item></dlcui-selection><div class=dlcui-inline-contents ng-include=::templateUrl></div></div><div class=dlcui-inline-toolbar><dlcui-icon class=dlcui-item-action-icon ng-if=isEditVisible() ng-click=$event.stopPropagation();onItemEdit(); icon=#ic_editrename size=12px></dlcui-icon><dlcui-icon class=dlcui-item-action-icon ng-click=$event.stopPropagation();onItemDelete(); ng-if=isDeleteVisible() icon=#ic_delete size=12px></dlcui-icon></div></div>");
  $templateCache.put("ngclarity/directives/input/inlineAddRow/dlcuiInlineEditItem.directive.html",
    "<div class=\"dlcui-inline-edit-item ng-cloak\" ng-class=getItemClasses()><div class=dlcui-inline-contents ng-include=::templateUrl></div><div class=dlcui-inline-toolbar ng-if=!disabled><dlcui-icon class=dlcui-item-action-icon ng-if=\"!isValidatingState() && !isErrorState()\" ng-click=onItemSave() icon=#row_add size=12px></dlcui-icon><dlcui-icon class=dlcui-item-action-icon ng-if=\"!isValidatingState() && !isErrorState()\" ng-click=onItemCancel() icon=#row_remove size=12px></dlcui-icon><dlcui-icon class=\"dlcui-item-action-icon dlcui-item-action-error\" ng-if=isErrorState() dlcui-tip=\"\" dlcui-tip-type=tooltip dlcui-tip-hide={{disabled}} dlcui-tip-position=\"right middle\" dlcui-tip-content={{getErrorMessage()}} ng-click=onItemCancel() icon=#ic_A_04_device_detail size=16px></dlcui-icon></div><div ng-if=isValidatingState() class=dlcui-validation-label>{{validatingLabel}}</div></div>");
  $templateCache.put("ngclarity/directives/input/inlineEditText/dlcuiInlineEditText.directive.html",
    "<div class=dlcui-inline-edit-text ng-class=\"{'dlcui-disabled': disabled}\"><div class=dlcui-inline-edit-text-display ng-show=\"!editState || disabled\" ng-click=activateEdit()><dlcui-label class=dlcui-inline-edit-text-label ng-if=inputValue.length label={{inputValue}} truncate=true ng-disabled=disabled></dlcui-label><dlcui-label class=dlcui-inline-edit-placeholder-label ng-if=\"!inputValue.length && placeholder.length\" label={{placeholder}} truncate=true ng-disabled=disabled></dlcui-label><dlcui-icon class=dlcui-inline-edit-text-icon type=svg icon=#ic_editrename></dlcui-icon></div><dlcui-text-input class=dlcui-inline-edit-text-edit ng-show=\"editState && !disabled\" ng-disabled=disabled placeholder={{placeholder}} type={{type}} ng-model=inputValue ng-style=textInputStyle></dlcui-text-input></div>");
  $templateCache.put("ngclarity/directives/input/inputcombobox/dlcuiInputComboBox.directive.html",
    "<div class=dlcui-inputcombobox><input class=dlcui-textbox ng-model=ngModel placeholder=\"\" ng-disabled=ngDisabled ng-click=openMenu($event) role=combobox aria-owns=dlcui-menu-{{name}} aria-labeledby=dlcui-label-{{name}}><dlcui-fancy-button ng-click=toggleMenu($event) ng-disabled=ngDisabled aria-controls=dlcui-menu-{{name}}><dlcui-font-icon icon=caret-down></dlcui-font-icon></dlcui-fancy-button><div id=dlcui-menu-{{name}} class=\"dlcui-menu-wrap dlcui-menu-anchor-left\"><div dlcui-menu=\"\"><dlcui-menu-item ng-repeat=\"item in selectedItems\" ng-click=select($index) ng-class=\"{'dlcui-inputcombo-current': $index === currentIndex, 'dlcui-inputcombobox-selected': $index === selectedIndex }\">{{ item.label }}</dlcui-menu-item></div></div></div>");
  $templateCache.put("ngclarity/directives/input/multiSelectComboBox/dlcuiMultiSelectComboBox.directive.html",
    "<div class=dlcui-multi-select-combo-box ng-class=\"{'dlcui-disabled': disabled, 'dlcui-drop-down-open': dropDownVisible, 'dlcui-items-selected': selectedItems.length, 'dlcui-active': inputActive || active}\" dlcui-document-click=onDocumentClick($event) ng-focus=onFocus() dlcui-drop-down-keyboard=filteredItems ng-click=onDropDownClick($event)><input class=dlcui-internal-input placeholder={{::placeholder}} ng-click=$event.stopPropagation() ng-if=!isItemsSelected() ng-blur=onInputBlur() ng-focus=onInputFocus() ng-model=filterModel.filter ng-disabled=disabled><div class=dlcui-internal-items ng-if=isItemsSelected()><div class=dlcui-internal-item ng-repeat=\"item in selectedItems track by $index\" ng-click=onItemClick(item) tabindex=-1><dlcui-label truncate=true label={{item.label}}></dlcui-label><dlcui-icon class=dlcui-remove-icon type=svg icon=#ic_xclosewindow size=10px tabindex=-1 ng-click=\"onItemRemove($event, item);\"></dlcui-icon></div></div><dlcui-drop-down-list ng-if=isDropDownVisible() anchor=left deselect-all-label={{::deselectAllLabel}} items=filterModel.filteredItems highlight-item=highlightItem height={{::maxHeight}} on-item-clicked=onDropDownItemClicked(item) list-open=true on-deselect-all=onDeselectAll() selection-type=2></dlcui-drop-down-list><div class=dlcui-drop-down-icon-wrapper tabindex=-1 ng-click=onDropDownClick($event) ng-focus=onFocus()><dlcui-icon class=dlcui-drop-down-icon type=svg icon=#ic_downarrow size=\"9px, 7px\"></dlcui-icon></div></div>");
  $templateCache.put("ngclarity/directives/input/radio/dlcuiRadio.directive.html",
    "<input type=radio class=dlcui-radio name={{name}} id={{$id}} ng-model=ngModel value={{value}} ng-disabled=ngDisabled ng-required=ngRequired><label for={{$id}} tabindex=0 ng-transclude></label>");
  $templateCache.put("ngclarity/directives/input/slider/dlcuiSlider.html",
    "<div class=dlcui-slider><span class=\"dlcui-slider-bar-wrapper dlcui-slider-full-bar\"><span class=dlcui-slider-bar></span> </span><span class=\"dlcui-slider-bar-wrapper dlcui-slider-selection-bar\"><span class=\"dlcui-slider-bar dlcui-slider-selection\"></span> </span><span class=\"dlcui-slider-pointer dlcui-slider-left-pointer\"></span><span class=\"dlcui-slider-pointer dlcui-slider-right-pointer\"></span><span class=\"dlcui-slider-node dlcui-slider-limit dlcui-slider-floor-label\"></span><span class=\"dlcui-slider-node dlcui-slider-limit dlcui-slider-ceiling-label\"></span><span class=\"dlcui-slider-node dlcui-slider-left-label\"></span><span class=\"dlcui-slider-node dlcui-slider-right-label\"></span><span class=\"dlcui-slider-node dlcui-slider-range-label\"></span><ul class=\"dlcui-slider-ticks dlcui-slider-tick-marks\"></ul></div>");
  $templateCache.put("ngclarity/directives/input/splitbutton/dlcuiSplitButton.directive.html",
    "<div class=dlcux-split-button><dlcui-fancy-button dlcui-size={{dlcuiSize}} dlcui-type={{dlcuiType}} ng-click=defaultAction() ng-disabled=ngDisabled><dlcui-font-icon icon={{icon}} ng-if=icon></dlcui-font-icon>&#32; {{label}}</dlcui-fancy-button><dlcui-fancy-button class=dlcux-split-button-drop dlcui-size={{dlcuiSize}} dlcui-type={{dlcuiType}} ng-disabled=ngDisabled><dlcui-font-icon icon=caret-down></dlcui-font-icon></dlcui-fancy-button></div>");
  $templateCache.put("ngclarity/directives/input/textArea/dlcuitextArea.directive.html",
    "<textarea class=cux-textarea></textarea>");
  $templateCache.put("ngclarity/directives/input/textBox/dlcuitextBox.directive.html",
    "<input class=cux-textbox>");
  $templateCache.put("ngclarity/directives/input/textBox/dlcuitextBoxSpinner.directive.html",
    "<div class=cux-input-spinner><button class=cux-input-spinner__button ng-click=step(1)><dlcui-font-icon icon=caret-up></button> <button class=cux-input-spinner__button ng-click=step(-1)><dlcui-font-icon icon=caret-down></button></div>");
  $templateCache.put("ngclarity/directives/input/textInput/dlcuiTextInput.directive.html",
    "<div class=dlcui-text-input ng-blur=onBlur() ng-class=\"{'dlcui-disabled': disabled || readonly}\"><input type={{type}} class=dlcui-internal-input placeholder={{placeholder}} ng-model=inputValue ng-disabled=disabled ng-readonly=readonly ng-focus=onFocus() ng-blur=onBlur() tabindex=0> <a class=dlcui-clear-button ng-show=clearButtonVisible ng-click=onClearText() ng-focus=onFocus() tabindex=-1><dlcui-icon icon=#ic_xclearinlinetext type=svg size=12px></dlcui-icon></a></div>");
  $templateCache.put("ngclarity/directives/input/textLabel/dlcuitextLabel.directive.html",
    "<span class=cux-label ng-class=getLabelClasses() ng-transclude></span>");
  $templateCache.put("ngclarity/directives/loginScreen/loginscreen.html",
    "<div class=\"login-screen container-fluid\"><section class=login-screen-container><div class=\"row header text-center\"><h1>{{$ctrl.i18n.labels.productTitle}}</h1></div><div class=\"row error-message\"><div class=\"col-xs-offset-2 col-xs-8 col-sm-offset-3 col-sm-6\"><div class=text-center><i class=\"ci ci-status-critical-core text-danger\"></i>{{$ctrl.i18n.labels.errorMessage}}</div></div></div><div class=row><div class=\"col-xs-offset-2 col-xs-8 col-sm-offset-4 col-sm-4\"><form name=dlCUILoginForm class=form-horizontal ng-submit=$ctrl.onSubmitForm()><div class=form-group><label ng-bind-html=$ctrl.i18n.labels.textUserName></label><input ng-model=$ctrl.user.username name=username class=form-control aria-label={{$ctrl.i18n.labels.textUserName}} placeholder={{$ctrl.i18n.labels.textUserName}} ng-trim=false restrict-field=myValue required></div><div class=form-group><label ng-bind-html=$ctrl.i18n.labels.textUserPass></label><input ng-model=$ctrl.user.password type=password name=password class=form-control aria-label={{$ctrl.i18n.labels.textUserPass}} placeholder={{$ctrl.i18n.labels.textUserPass}} required></div><ul class=\"text-center list-unstyled list-inline\"><li><button type=submit ng-disabled=dlCUILoginForm.$invalid name=login class=\"btn btn-default\">{{$ctrl.i18n.labels.buttonLogin}}</button></li></ul></form></div></div></section></div>");
  $templateCache.put("ngclarity/directives/mastHead/masthead.html",
    "<div class=dell-ngclarity-masthead-container ng-class=\"pinMasthead ? 'dlcui-masthead-open' : data.states.currentMastheadStateClass\" ng-mouseover=actions.openMasthead() ng-mouseleave=actions.closeMasthead()><div class=masthead-inner><a class=logo ng-href={{applicationHref}}><icon ng-if=!applicationLogo icon=#ic_logo></icon><icon ng-if=applicationLogo icon={{applicationLogo}}></icon><span class=dlcui-logo-title>{{applicationName}}</span></a><div class=controls ng-if=showControls><div class=user-actions><drop-down-button ng-if=\"userName.length && userActions.length\" actions=userActions label={{userName}} type=flat></drop-down-button></div><div class=dlcui-toolbar-actions ng-if=toolbarActions.length><toolbar justify=flex-end><toolbar-button ng-repeat=\"action in toolbarActions track by $index\" collapsed-label=\"{{action.collapsedLabel || action.label}}\" tooltip=\"{{action.tooltip || action.label || action.collapsedLabel}}\" ng-click=action.execute() icon-name={{action.icon}} ng-disabled=action.disabled ng-hide=action.hide icon-size=24px></toolbar-button></toolbar></div></div></div></div>");
  $templateCache.put("ngclarity/directives/modal/dlcuiModal.directive.html",
    "<div class=\"cux-modal cux-modal--disabled\"><div class=\"dlcui-modal cux-modal__window\" ng-class=modal.classes ng-include=modal.typeTemplateUrl></div><div class=cux-modal__backdrop ng-hide={{model.visible}} ng-click=!modal.static></div>");
  $templateCache.put("ngclarity/directives/modal/dlcuiModalbare.directive.html",
    "<div ng-include=modal.templateUrl></div><dlcui-template content=modal.template></dlcui-template>");
  $templateCache.put("ngclarity/directives/modal/dlcuiModalconfirm.directive.html",
    "<section class=\"dlcui-dialog dlcui-dialog--confirm cux-dialog\"><header class=\"dlcui-dialog__header cux-dialog__header\"><dlcui-font-icon class=cux-dialog__header-icon icon={{title.icon}} color={{title.iconColor}}></dlcui-font-icon><h1 class=cux-dialog__header-title>{{title.label}}</h1></header><div class=\"dlcui-dialog__content cux-dialog__content\"><div ng-include=modal.templateUrl></div><dlcui-template content=modal.template></dlcui-template></div><footer class=\"dlcui-dialog__footer cux-dialog__footer\"><menu class=cux-button-set><dlcui-button ng-repeat=\"button in buttons\" ng-click=button.action(button.value) dlcui-type={{button.dlcuiType}} dlcui-focus-when={{button.focus}}>{{button.label}}</dlcui-button></menu></footer></section>");
  $templateCache.put("ngclarity/directives/modal/dlcuiModaldismiss.directive.html",
    "<div ng-include=modal.templateUrl></div><dlcui-template content=modal.template></dlcui-template><button class=cux-modal__close-button ng-click=modal.hide()><dlcui-font-icon icon=times></dlcui-font-icon></button>");
  $templateCache.put("ngclarity/directives/modalWindow/modal-backdrop.html",
    "<div class=modal-backdrop dlcui-modal-animation-class=fade modal-in-class=in ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"></div>");
  $templateCache.put("ngclarity/directives/modalWindow/modal-window.html",
    "<div modal-render={{$isRendered}} tabindex=-1 role=dialog class=modal dlcui-modal-animation-class=fade modal-in-class=in ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\"><div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=modal-content dlcui-modal-transclude></div></div></div>");
  $templateCache.put("ngclarity/directives/navbarAccordion/navbaraccordion.html",
    "<div class=\"dell-ngclarity-navbarleft-container container panel-group\" role=tablist><ng-transclude></ng-transclude></div>");
  $templateCache.put("ngclarity/directives/navbarAccordion/navbaraccordiongroup.html",
    "<div class=panel ng-class=\"panelClass || 'panel-default'\"><div role=tab id={{::headingId}} aria-selected={{isOpen}} class=panel-heading ng-keypress=toggleOpen($event)><h4 class=panel-title><a role=button data-toggle=collapse href aria-expanded={{isOpen}} aria-controls={{::panelId}} tabindex=0 class=accordion-toggle ng-click=toggleOpen() navbar-accordion-transclude=heading><span navbar-accordion-header ng-class=\"{'text-muted': isDisabled}\">{{heading}}</span></a></h4></div><div id={{::panelId}} aria-labelledby={{::headingId}} aria-hidden={{!isOpen}} role=tabpanel class=\"panel-collapse collapse\" navbar-collapse=!isOpen><div class=panel-body><ng-transclude></ng-transclude></div></div></div>");
  $templateCache.put("ngclarity/directives/navbarLeft/navbarleft.html",
    "<div class=\"dell-ngclarity-navbarleft-container container\"><div class=row><div class=\"col-md-2 col-xs-4\"><ul class=navlist></ul></div></div></div>");
  $templateCache.put("ngclarity/directives/navbarTop/navbartop.html",
    "<div class=\"dell-ngclarity-navbartop-container container\"><ul class=navlist></ul></div>");
  $templateCache.put("ngclarity/directives/navigation/navigationList/dlcuiNavigationList.directive.html",
    "<div class=dlcui-navigation-list ng-class=\"[data.states.navPinned ? 'dlcui-navigation-list-open' : data.states.currentNavigationListStateClass, data.states.currentMastheadStateClass]\" ng-mouseenter=onMouseEnter() ng-mouseleave=onMouseLeave() ng-swipe-right=onSwipeRight() ng-swipe-left=onSwipeLeft()><dlcui-horizontal-slider slide-open=\"data.states.navPinned || data.states.navOpened\" collapse-to=70px height=\"calc(100% - 24px)\"><div class=dlcui-navigation-header><div class=dlcui-navigation-header-inner><a class=dlcui-logo ng-href={{applicationHref}}><dlcui-icon ng-if=!applicationLogo icon=#ic_logo></dlcui-icon><dlcui-icon ng-if=applicationLogo icon={{applicationLogo}}></dlcui-icon><div class=\"dlcui-logo-title dlcui-collapse-hide\">{{applicationName}}</div></a></div></div><div class=dlcui-actions><div class=dlcui-action-item ng-click=onActionClicked(action) ng-class=\"{'dlcui-contains-subactions': action.children && action.children.length}\" ng-repeat=\"action in actions track by $index\" ng-hide=action.hide><div class=dlcui-action-item-header dlcui-tip=\"\" dlcui-tip-flip=false dlcui-tip-hide={{!data.states.navOpened}} dlcui-tip-type=tooltip dlcui-tip-position=\"right middle\" dlcui-tip-content={{action.tooltip}} dlcui-tip-offset=\"0 -12px\"><a class=dlcui-button-link ng-disabled=action.disabled dlcui-tip=\"\" dlcui-tip-flip=false dlcui-tip-hide={{data.states.navOpened}} dlcui-tip-type=tooltip dlcui-tip-position=\"right middle\" dlcui-tip-content={{action.tooltip}} dlcui-tip-offset=\"0 -10px\"><div class=dlcui-action-icon-wrapper ng-class=\"{'dlcui-action-selected': action.selected}\"><dlcui-icon class=dlcui-action-icon icon={{action.icon}}></dlcui-icon><div class=dlcui-action-circle></div></div></a><span class=\"dlcui-action-label dlcui-collapse-hide\">{{action.label}}</span><dlcui-icon ng-if=\"action.children && action.children.length\" class=\"dlcui-menu-arrow dlcui-collapse-hide\" type=svg icon=#ic_downarrow size=\"9px, 7px\" ng-disabled=action.disabled></dlcui-icon></div><dlcui-vertical-slider ng-if=\"action.children && action.children.length\" class=dlcui-sub-actions-wrapper animate-position=false slide-open=\"action.subActionsOpen && data.states.navOpened\" width=100% ng-click=$event.stopPropagation()><div class=dlcui-sub-actions><div ng-repeat=\"subAction in action.children track by $index\" class=dlcui-sub-action-item ng-class=\"{'dlcui-sub-action-selected': subAction.selected}\" ng-hide=subAction.hide><a class=dlcui-button-link ng-click=\"$event.stopPropagation(); onSubActionClicked(action, subAction);\" ng-disabled=subAction.disabled><span class=dlcui-sub-action-label>{{subAction.label}}</span></a></div></div></dlcui-vertical-slider></div></div></dlcui-horizontal-slider><div class=dlcui-navigation-list-pin dlcui-tip=\"\" dlcui-tip-flip=false dlcui-tip-type=tooltip dlcui-tip-position=\"right middle\" dlcui-tip-content=\"{{'DLCUI_PIN_MENU' | translate}}\" ng-if=!data.states.hideNavPinnedButton><dlcui-icon ng-if=!data.states.navPinned type=svg icon=#ic_menu_open size=24px ng-click=setNavPinned(true)></dlcui-icon><dlcui-icon ng-if=data.states.navPinned type=svg icon=#ic_menu_close size=24px ng-click=setNavPinned(false)></dlcui-icon></div></div>");
  $templateCache.put("ngclarity/directives/navigation/navigationTab/dlcuiNavigationTab.directive.html",
    "<div class=dlcui-navigation-tab><div class=dlcui-navigation-tab-transclude ng-transclude=\"\"></div><div class=dlcui-navigation-tab-wrapper><div class=dlcui-navigation-tab-block ng-class=\"{'dlcui-navigation-selected': uiSelectedTab === action.id}\" ng-repeat=\"action in actions track by $index\" dlcui-tip=\"\" dlcui-tip-type=tooltip dlcui-tip-position=\"bottom center\" dlcui-tip-content={{action.tooltip}}><a class=dlcui-navigation-tab-action ng-click=\"selectActionClick($event, action)\" ng-hide=action.hide ng-disabled=action.disabled><span ng-if=\"action.label && action.label.length\" class=dlcui-action-label>{{action.label}}</span></a></div><div ng-if=closeOptions class=dlcui-navigation-tab-close dlcui-tip=\"\" dlcui-tip-type=tooltip dlcui-tip-position=\"bottom center\" dlcui-tip-content={{closeOptions.tooltip}}><a class=dlcui-navigation-tab-action ng-click=closeClick($event) ng-hide=closeOptions.hide ng-disabled=closeOptions.disabled><dlcui-icon icon=#ic_xclosewindow type=svg></dlcui-icon></a></div></div></div>");
  $templateCache.put("ngclarity/directives/network/leafrack/dlngLeafRack.directive.html",
    "<div class=dlngrack><div class=dlngswitchescontainer><div class=dlngswitchcontainer><div class=dlngswitch ng-repeat=\"switch in options.switches\" ng-if=\"switch.type=='standalone'\">{{switch.model}}</div><div class=dlngvltiswitchcontainer ng-repeat=\"switch in options.switches\" ng-if=\"switch.type=='vlti'\"><div class=\"dlngswitch dlngvltiswitch\" ng-repeat=\"vltiswitch in switch.vltiswitches\">{{vltiswitch.model}}</div></div></div></div><div ng-click=lfc.showItem>show</div><div class=dlngclustercontainer><div class=dlngcluster ng-repeat=\"cluster in options.clusters\"><div class=dlngnodescontainer><div ng-if=\"cluster.cards[0].type == 'E-series'\"><div ng-show=\"(cluster.cards.length)<=4\" ng-repeat=\"card in cluster.cards\" class=\"dlngnodecontainer e-seriescontainer\"><div class=\"dlngnode e-seriesnode\">{{card.type}}</div></div><div ng-show=\"(cluster.cards.length)>4\"><div ng-repeat=\"card in cluster.cards\" class=\"dlngnodecontainer e-seriescontainer\" ng-if=\"$index>=0&& $index<=1\"><div class=\"dlngnode e-seriesnode\">{{card.type}}</div></div><div class=dlngellipsisnode>...</div><div ng-repeat=\"card in cluster.cards\" class=\"dlngnodecontainer e-seriescontainer\" ng-if=\"$index==cluster.cards.length-1\"><div class=\"dlngnode e-seriesnode\">{{card.type}}</div></div></div></div><div ng-if=\"cluster.cards[0].type == 'G-series'\"><div ng-show=\"(cluster.cards.length)<=12\"><div ng-show=\"(cluster.cards.length)>0&&(cluster.cards.length)<=4\" class=\"dlngnodecontainer g-seriescontainer\"><div class=\"dlngnode g-seriesnode\" ng-repeat=\"card in cluster.cards\" ng-if=\"$index>=0&& $index<=3\">{{card.type}}</div></div><div ng-show=\"(cluster.cards.length)>4&&(cluster.cards.length)<=8\" class=\"dlngnodecontainer g-seriescontainer\"><div class=\"dlngnode g-seriesnode\" ng-repeat=\"card in cluster.cards\" ng-if=\"$index>=4&& $index<=7\">{{card.type}}</div></div><div ng-show=\"(cluster.cards.length)>8&&(cluster.cards.length)<=12\" class=\"dlngnodecontainer g-seriescontainer\"><div class=\"dlngnode g-seriesnode\" ng-repeat=\"card in cluster.cards\" ng-if=\"$index>=8&& $index<=11\">{{card.type}}</div></div></div><div ng-show=\"(cluster.cards.length)>12\"><div class=\"dlngnodecontainer g-seriescontainer\"><div class=\"dlngnode g-seriesnode\" ng-repeat=\"card in cluster.cards\" ng-if=\"$index>=0&& $index<=3\">{{card.type}}</div></div><div class=dlngellipsisnode>...</div><div class=\"dlngnodecontainer g-seriescontainer\"><div class=\"dlngnode g-seriesnode\" ng-repeat=\"card in cluster.cards\" ng-if=\"$index>=cluster.cards.length-4&& $index<=cluster.cards.length-1\">{{card.type}}</div></div></div></div></div><div class=dlngclusterlabel>{{cluster.label}}</div></div></div><div class=dlngswitchescontainer><div class=dlngswitchcontainer><div class=dlngswitch>Management switch</div></div></div></div>");
  $templateCache.put("ngclarity/directives/network/spinerack/dlngSpineRack.directive.html",
    "<div class=dlngspinerack><div class=dlngspineswitchescontainer><div class=dlngspineswitchcontainer><div class=dlngspineswitch ng-repeat=\"switch in options.switches\" ng-if=\"switch.type=='standalone'\">{{switch.model}}</div><div class=dlngspinevltiswitchcontainer ng-repeat=\"switch in options.switches\" ng-if=\"switch.type=='vlti'\"><div class=\"dlngspineswitch dlngspinevltiswitch\" ng-repeat=\"vltiswitch in switch.vltiswitches\">{{vltiswitch.model}}</div></div></div></div></div>");
  $templateCache.put("ngclarity/directives/output/badge/dlcuiBadge.directive.html",
    "<span class=dlcui-badge ng-class=\"badge.dlcuiType ? 'dlcui-badge--' + badge.dlcuiType : ''\" ng-transclude></span>");
  $templateCache.put("ngclarity/directives/output/fonticon/dlcuiFontIcon.directive.html",
    "<i class=dlcui-font-icon ng-class=\"color ?'dlcui-font--'+color:''\" ng-style=\"{'font-size': size}\"></i>");
  $templateCache.put("ngclarity/directives/output/icon/dlcuiIcon.directive.html",
    "<div class=dlcui-icon><div class=dlcui-icon-wrapper></div></div>");
  $templateCache.put("ngclarity/directives/output/icon/dlcuiIconFont.template.html",
    "<i class=\"cui-icon cux-icon {{icon}}\"></i>");
  $templateCache.put("ngclarity/directives/output/icon/dlcuiIconImg.template.html",
    "<img src={{icon}} draggable=false>");
  $templateCache.put("ngclarity/directives/output/icon/dlcuiIconSvg.template.html",
    "<svg role=img aria-labelledby=title focusable=false><use xlink:href={{icon}}></use></svg>");
  $templateCache.put("ngclarity/directives/output/icon/higWyseIcons.html",
    "<dlcui-svg-icon-set><svg xmlns=http://www.w3.org/2000/svg><defs><style>.cls-1 {\n" +
    "        fill: currentColor;\n" +
    "        fill-rule: evenodd;\n" +
    "      }</style><linearGradient id=svgstored8612d5f4569fe7fa8461e3a41bd32f2a gradientUnits=userSpaceOnUse x1=7 y1=14 x2=7><stop offset=0 stop-color=#FB4119></stop><stop offset=1 stop-color=#FF6210></stop></linearGradient><linearGradient id=svgstore7362f49d72a88226000d0f9b3624bdeca gradientUnits=userSpaceOnUse x1=7 y1=14 x2=7><stop offset=0 stop-color=#88BD11></stop><stop offset=1 stop-color=#BAD721></stop></linearGradient><linearGradient id=svgstorea25ad21dab16724f0104e5025b4db3c6a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#8BC53F></stop><stop offset=1 stop-color=#95D047></stop></linearGradient><linearGradient id=svgstore399b0c11ecae9ae47e5bfb6aabdcf805a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#E97100></stop><stop offset=1 stop-color=#f70></stop></linearGradient><linearGradient id=svgstore5545d618ec741a40f2d5ffda3d601cfba gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#DC5034></stop><stop offset=1 stop-color=#E7593C></stop></linearGradient><linearGradient id=svgstore319eab1207327ea47a5bedfba504cdb4a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#848484></stop><stop offset=1 stop-color=currentColor></stop></linearGradient><linearGradient id=svgstorea25ad21dab16724f0104e5025b4db3c6a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#8BC53F></stop><stop offset=1 stop-color=#95D047></stop></linearGradient><linearGradient id=svgstore7e446d253b83a241f75c1e3eac689df1a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#DC5034></stop><stop offset=1 stop-color=#E7593C></stop></linearGradient><linearGradient id=svgstore92453a884c32748858e98d3d84707899a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#006FAB></stop><stop offset=1 stop-color=#0085C3></stop></linearGradient><linearGradient id=svgstoreea8dc9bbb888a8bc7bb849bdbfae6c86a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#848484></stop><stop offset=1 stop-color=currentColor></stop></linearGradient><style>.cls-1 {\n" +
    "        fill: #007db8;\n" +
    "        filter: url(#color-overlay-1);\n" +
    "        fill-rule: evenodd;\n" +
    "      }</style><filter id=svgstore279d2392ed7c6958f722e619644c75b0color-overlay-1 filterUnits=userSpaceOnUse><feFlood flood-color=currentColor></feFlood><feComposite operator=in in2=SourceGraphic></feComposite><feBlend in2=SourceGraphic result=solidFill></feBlend></filter></defs><symbol viewBox=\"0 0 16 16\" id=ic_A_01_refresh_device_list><title>ic_A_01_refresh_device_list</title><path fill=currentColor d=\"M14 8c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6c1.4 0 2.7.5 3.7 1.3L10 5h5V0l-1.8 1.8C11.7.7 10 0 8 0 3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8h-2z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_A_02_add_device><title>ic_A_02_add_device</title><path fill=currentColor d=\"M14 6H8V0H6v6H0v2h6v6h2V8h6z\"></path></symbol><symbol viewBox=\"0 0 16 12\" id=ic_A_03_export_device_list><title>ic_A_03_export_device_list</title><g fill=currentColor><path d=\"M0 12v-.2.2zM13 2.5L10 0v3S.2 2.5 0 11.8C.1 10.8 1 7 10 7v3l3-2.5L16 5l-3-2.5z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_A_04_device_detail><title>ic_A_04_device_detail</title><path fill=currentColor d=\"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 13H7V7h2v6zm0-8H7V3h2v2z\"></path></symbol><symbol viewBox=\"0 0 22 16\" id=ic_B_01_refresh_device_info><title>ic_B_01_refresh_device_info</title><g fill=currentColor><path d=\"M5 3c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v3h-2.5l3.5 4 3.5-4H19V3c0-1.7-1.3-3-3-3H6C4.3 0 3 1.3 3 3v1h2V3zM17 13c0 .6-.4 1-1 1H6c-.6 0-1-.4-1-1v-3h2.5L4 6 .5 10H3v3c0 1.7 1.3 3 3 3h10c1.7 0 3-1.3 3-3v-1h-2v1z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_B_02_update_device><title>ic_B_02_update_device</title><g fill=currentColor><path d=\"M13 6l-2.5-3L8 0 5.5 3 3 6h3v5h4V6zM14 10v3c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1v-3H0v3c0 1.7 1.3 3 3 3h10c1.7 0 3-1.3 3-3v-3h-2z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_B_03_reboot><title>ic_B_03_reboot</title><g fill=currentColor><path d=\"M7 0h2v6H7zM5.606 4.176L4.192 5.59 1.646 3.045 3.06 1.63zM10 7h6v2h-6zM0 7h6v2H0zM11.808 5.59l-1.414-1.414L12.94 1.63l1.414 1.415zM7 10h2v6H7zM10.424 11.824l1.415-1.415 2.544 2.545-1.414 1.414zM4.16 10.41l1.416 1.413L3.03 14.37l-1.414-1.415z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_B_04_shutdown><title>ic_B_04_shutdown</title><g fill=currentColor><path d=\"M7 0h2v8H7zM11 .6v2.2c1.8 1 3 3 3 5.2 0 3.3-2.7 6-6 6s-6-2.7-6-6c0-2.2 1.2-4.1 3-5.2V.6C2.1 1.8 0 4.6 0 8c0 4.4 3.6 8 8 8s8-3.6 8-8c0-3.4-2.1-6.2-5-7.4z\"></path></g></symbol><symbol viewBox=\"0 0 20 14\" id=ic_B_05_remote_shadow><title>ic_B_05_remote_shadow</title><g fill=currentColor><path d=\"M10 14C4.7 14 .5 7.8.4 7.6L0 7l.4-.6C.5 6.2 4.7 0 10 0s9.5 6.2 9.6 6.4l.4.6-.4.6c-.1.2-4.3 6.4-9.6 6.4zM2.4 7c1.1 1.4 4.1 5 7.6 5s6.5-3.6 7.6-5c-1.1-1.4-4.1-5-7.6-5S3.5 5.6 2.4 7zM10 10c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z\"></path></g></symbol><symbol viewBox=\"0 0 18 14\" id=ic_B_06_send_message><title>ic_B_06_send_message</title><path fill=currentColor d=\"M16 0H2C.9 0 0 .9 0 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-.1 2L9 7.4 2.1 2h13.8zM2 12V4.5l7 5.4 7-5.4V12H2z\"></path></symbol><symbol viewBox=\"0 0 18 4\" id=ic_B_07_more><title>ic_B_07_more</title><g fill=currentColor><circle cx=9 cy=2 r=2></circle><circle cx=2 cy=2 r=2></circle><circle cx=16 cy=2 r=2></circle></g></symbol><symbol viewBox=\"0 0 24 12\" id=ic_C_01_distribute><title>ic_C_01_distribute</title><path fill=currentColor d=\"M19.5.4l-1.6 1.2L20.6 5H2V2H0v8h2V7h18.6l-2.7 3.4 1.6 1.2L24 6z\"></path></symbol><symbol viewBox=\"0 0 24 12\" id=ic_C_02_disable_distribute><title>ic_C_02_disable_distribute</title><g fill=currentColor><path d=\"M12.8 2.8L11 4.6 9.2 2.8 7.8 4.2 9.6 6 7.8 7.8l1.4 1.4L11 7.4l1.8 1.8 1.4-1.4L12.4 6l1.8-1.8zM19.5.4l-1.6 1.2L20.6 5H15v2h5.6l-2.7 3.4 1.6 1.2L24 6zM6 5H2V2H0v8h2V7h5V5z\"></path></g></symbol><symbol viewBox=\"0 0 24 12\" id=ic_C_03_view_script><title>ic_C_03_view_script</title><g fill=currentColor><path d=\"M4.5 11.6L0 6 4.5.4l1.6 1.2L2.6 6l3.5 4.4zM19.5.4L24 6l-4.5 5.6-1.6-1.2L21.4 6l-3.5-4.4z\"></path><circle cx=12 cy=6.2 r=3></circle></g></symbol><symbol viewBox=\"0 0 13 16\" id=ic_C_04_delete><title>ic_C_04_delete</title><g fill=currentColor><path d=\"M11.9 1H8V0H5v1H1.1C.7 1 0 1.4 0 2v1h13V2c0-.6-.7-1-1.1-1zM10 4v10H9V4H7v10H6V4H4v10H3V4H1v11c0 .7.3 1 1.2 1h8.6c.9 0 1.2-.3 1.2-1V4h-2z\"></path></g></symbol><symbol viewBox=\"0 0 19 16\" id=ic_D_01_history><title>ic_D_01_history</title><g fill=currentColor><path d=\"M10 4v4.5l3.1 3 .9-.9-2.7-2.7V4zM6.8 12.2c2.3 2.3 6.1 2.3 8.4 0s2.3-6.1 0-8.5-6.1-2.3-8.4 0c-1 1-1.5 2.2-1.7 3.5h2.4L4 10.8.5 7.3h2.7c.1-1.8.8-3.6 2.2-5 3.1-3.1 8.1-3.1 11.2 0s3.1 8.2 0 11.3-8.1 3.1-11.2 0l1.4-1.4z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_D_02_edit_config><title>ic_D_02_edit_config</title><path fill=currentColor d=\"M15.7 3.7L13.4 6c-.3.3-.7.3-.9 0L10 3.6c-.3-.3-.3-.7 0-.9L12.3.4V.3c-1.6-.6-3.4-.3-4.5.9-1.4 1.3-1.6 3.4-.7 5.2L.2 12.7c-.3.3-.3.9 0 1.2l1.9 1.9c.3.3.8.3 1.2 0l6.2-6.9c1.8.9 3.9.8 5.2-.6 1.3-1.2 1.6-2.9 1-4.6z\"></path></symbol><symbol viewBox=\"0 0 16 16\" id=ic_D_03_movetoerror><title>ic_D_03_movetoerror</title><path fill=currentColor d=\"M11.3 0H4.7L0 4.7v6.6L4.7 16h6.6l4.7-4.7V4.7L11.3 0zM14 10.5L10.5 14h-5L2 10.5V10h5v3l3-2.5L13 8l-3-2.5L7 3v3H2v-.5L5.5 2h5L14 5.5v5z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_USB><title>ic_USB</title><circle fill=#00447C cx=15 cy=19 r=3></circle><path fill=#00447C d=\"M30 11h6v6h-6zM24 3l-4 6h8zM23 9h2v31h-2z\"></path><circle fill=#00447C cx=24 cy=40 r=4></circle><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 fill=none d=\"M33 13v9l-9 5M15 21v5l9 5\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_add><title>ic_add</title><path fill=currentColor d=\"M14 6H8V0H6v6H0v2h6v6h2V8h6z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_alerts><title>ic_alerts</title><path fill=currentColor d=\"M2 4h4v4H2zM2 16h4v4H2zM2 10h4v4H2zM8 4h14v4H8zM8 16h14v4H8zM8 10h14v4H8z\"></path></symbol><symbol viewBox=\"0 0 16 18\" id=ic_app><title>ic_app</title><path fill=currentColor d=\"M15.4 4.1c-.1 0-.3-.1-.4-.1L8.6.2C8.4.1 8.2 0 7.9 0s-.4.1-.6.2l-6.7 4c-.4.2-.6.6-.6 1v7.1c0 .5.2.9.6 1.1l6.7 4.4c.2.1.4.2.6.2H8c.2 0 .4-.1.6-.2l6.7-4.4c.4-.2.6-.6.6-1.1V5.2c.1-.4-.1-.8-.5-1.1zM7.9 1.8l5.7 3.4L8 8.3 2.3 5.1l5.6-3.3zM1.7 12.1V6.3l5.7 3.1v6.5l-5.7-3.8zm6.9 3.7V9.3l5.7-3.1V12l-5.7 3.8z\"></path></symbol><symbol viewBox=\"0 0 10 16\" id=ic_arrowback><title>ic_arrowback</title><path fill=currentColor d=\"M2 10l6 6 2-2-6-6 6-6-2-2-6 6-2 2z\"></path></symbol><symbol viewBox=\"0 0 10 16\" id=ic_arrownext><title>ic_arrownext</title><path fill=currentColor d=\"M8 6L2 0 0 2l6 6-6 6 2 2 6-6 2-2z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_camera><title>ic_camera</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M7 17v-2c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v2\" fill=none></path><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M7 19v17c0 1.1.9 2 2 2h30c1.1 0 2-.9 2-2V19c0-1.1-.9-2-2-2H7v2z\" fill=none></path><path fill=#fff stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M17 17l2.462-4.5 1.23-1.5h8.616l1.23 1.5L33 17z\"></path><circle stroke=#00447C stroke-width=2 stroke-miterlimit=10 cx=25 cy=27.5 r=7 fill=none></circle></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_Citrix><title>ic_connections_Citrix</title><path class=st0 d=\"M24 43C13.5 43 5 34.5 5 24S13.5 5 24 5s19 8.5 19 19-8.5 19-19 19zm0-36.7c-9.8 0-17.7 8-17.7 17.7 0 9.8 8 17.7 17.7 17.7 9.8 0 17.7-8 17.7-17.7 0-9.8-7.9-17.7-17.7-17.7zm0 33c-8.5 0-15.3-6.9-15.3-15.3S15.5 8.7 24 8.7 39.3 15.5 39.3 24 32.4 39.3 24 39.3zm-6.3-18.8c-.5.4-.9.8-1.4 1.2 1.6 2 1.6 2.9 0 4.8.5.4.9.8 1.4 1.2 2.4-1.9 2.4-5.5 0-7.2zm2.8-2.4c-.5.4-.9.8-1.4 1.2 1.5 1.3 2.4 2.8 2.4 4.7 0 2-.9 3.5-2.4 4.8.5.4 1 .8 1.4 1.2 4.2-3.1 3.9-9.1 0-11.9zm3.1-2.2c-.1-.1-.2-.1-.3-.1-.5.4-.9.7-1.4 1.1 2.3 1.9 3.6 4.2 3.6 7.1s-1.4 5.2-3.6 7.1c.4.4.9.7 1.2 1 .2.2.3.1.5 0 3-2.6 4.4-5.7 3.8-9.7-.2-2.6-1.7-4.8-3.8-6.5zm2.7-2.5c-.5.4-.9.8-1.4 1.2 3 2.5 4.8 5.6 4.8 9.5s-1.8 7-4.8 9.5l1.5 1.2c7.5-5.9 6.9-16.3-.1-21.4z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_connections_Custom><title>ic_connections_Custom</title><path class=st4 d=\"M7 10H3c-.5 0-1 .4-1 1v10c0 .5.5 1 1 1h10c.6 0 1-.5 1-1V10l3-3M17 14h4c.5 0 1-.4 1-1V3c0-.5-.5-1-1-1H11c-.6 0-1 .5-1 1v11l-3 3M6 13v5h5M18 11V6h-5\" fill=none stroke=#919190 stroke-width=1.8 stroke-miterlimit=10></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_Ericom><title>ic_connections_Ericom</title><path class=st0 d=\"M10.7 29s-2-1.8-2-4.8c-.1-3 1.8-4.7 1.8-4.7l3-3 7.6 7.5-7.7 7.8-2.7-2.8zm12.8 12.4c2.4 1.9 5 1.6 5 1.6 2.8-.6 4.3-2.6 4.3-2.6 5.2-4.4 5.9-7.3 5.9-7.3.6-3.6-1.1-5.3-1.1-5.3-3.2 1.6-5.9 1.4-5.9 1.4-3.4.2-6.5-1.9-6.5-1.9l-8 8 6.3 6.1zm14.8-28.1c-.1-.2-1.4-1.8-1.4-1.8 0-.1-5.3-5.2-5.3-5.2-.4-.2-1.3-.8-1.3-.8-2.3-1.1-4.7 0-4.7 0-1.2.6-3.3 2.2-3.3 2.2l-4.9 5.1 8 7.7c.4-.3.9-.5 1.4-.7 1.4-.6 2.5-.7 2.9-.7.7-.1 1.3-.1 1.3-.1h1.6c3.2.3 5.1 1.7 5.1 1.7.7-.9 1.5-3.1 1.5-3.1.6-2.4-.8-4.1-.9-4.3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_Imprivata><title>ic_connections_Imprivata</title><path class=st0 d=\"M8.8 43v-9.4h11.4v5.7h7.6v-5.7h11.4V43H8.8zm29.6-11.7H27.6v-4h10.8v4zm-10.8-8.9h10.8v4H27.6v-4zm-7.5 8.9H9.3v-4h10.8v4zM9.3 22.4h10.8v4H9.3v-4zm18.5-5.8h-7.6v3.8H8.8v-7.6h30.4v7.6H27.8v-3.8zM20 5h7.6v5.8H20V5z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_RDP><title>ic_connections_RDP</title><path class=st0 d=\"M24 43C13.5 43 5 34.5 5 24S13.5 5 24 5s19 8.5 19 19-8.5 19-19 19zm0-35.2C15.1 7.8 7.8 15.1 7.8 24S15.1 40.2 24 40.2 40.2 32.9 40.2 24 32.9 7.8 24 7.8zm6.5 20.6L23.1 21l2.1-2.1 5.3-5.3 2.1 2.1-5.3 5.3 5.3 5.3-2.1 2.1zM22 29.5l-5.3 5.3-2.1-2.1 5.3-5.3-5.3-5.3 2.1-2.1 7.4 7.4-2.1 2.1z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_SSH><title>ic_connections_SSH</title><path class=st0 d=\"M41.7 39.2H6.3c-.7 0-1.3-.6-1.3-1.3V10c0-.7.6-1.3 1.3-1.3h35.5c.7 0 1.3.6 1.3 1.3v27.9c-.1.7-.7 1.3-1.4 1.3zM41.5 14h-35v23.7h35V14zm-17.9 9.7L17 26.6v-1.9l4.6-1.8-4.6-1.8v-1.8l6.6 2.9v1.5zm7.7 6.7h-7.7v-1.2h7.7v1.2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_VMware><title>ic_connections_VMware</title><path class=st0 d=\"M39.2 31.6H39c.3.7.4 1.5.4 2.3 0 3.4-2.8 6.2-6.3 6.2H17.4V40c-3.8-.4-6.7-3.5-6.7-7.3 0-.4.1-.7.1-1.1h-2c-2.1 0-3.8-1.7-3.8-3.9v-16c0-2.1 1.7-3.9 3.8-3.9h30.4c2.1 0 3.8 1.7 3.8 3.9v16c0 2.2-1.7 3.9-3.8 3.9zm1.9-19.8c0-1.1-.9-1.9-1.9-1.9H8.8c-1 0-1.9.9-1.9 1.9v16c0 1.1.9 1.9 1.9 1.9h2.5c1.2-2.6 3.8-4.4 6.8-4.4.8 0 1.6.2 2.4.4 0-.6.2-1.1.4-1.7h-2.2v-4.3h4.2v1.5c1.1-.8 2.4-1.4 3.9-1.4 1.8 0 3.4.7 4.6 1.9v-2h4.2V24h-2.8c.2.6.4 1.3.4 2 0 .5-.1 1.1-.2 1.6h.2c1.8 0 3.5.8 4.7 2h1.4c1 0 1.9-.9 1.9-1.9V11.8zm-9.7 1.5h4.2v4.3h-4.2v-4.3zm-6.3 0h4.2v4.3h-4.2v-4.3zm-6.4 0h4.2v4.3h-4.2v-4.3zm-6.3 6.5h4.2v4.3h-4.2v-4.3zm0-6.5h4.2v4.3h-4.2v-4.3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=\"ic_connections_VNC Viewer\"><title>ic_connections_VNC Viewer</title><path class=st0 d=\"M35.6 37H43v2h-8.1c-5.9 0-5.5-6.8-5.5-6.8 0-7.4 5.8-6.8 5.8-6.8H43v1.9h-7.3c-3 0-3 4.8-3 4.8.2 3.7 2.9 4.9 2.9 4.9zm5.5-21.9c-1.9-3.3-4.7-3.3-4.7-3.3-3.3.2-4.8 3.1-4.8 3.1v8.6h-1.9v-9.3c1.9-6.4 6.6-6 6.6-6 6.6 0 6.6 6.3 6.6 6.3v9H41v-8.4zM17 40s-1.8-.2-2.4-2.1L5 8h5.1l7 22.6L23.9 8H29l-9.9 30.8c.1 0-.4 1-2.1 1.2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_back_arrowback><title>ic_container_back_arrowback</title><path class=st1 d=\"M18.1 13.4H9.7l2.7 2.7c.2.2.2.5 0 .7l-1 1c-.2.2-.5.2-.7 0l-5.6-5.5c-.2-.2-.2-.5 0-.7l5.6-5.5c.2-.2.5-.2.7 0l1 1c.2.2.2.5 0 .7l-2.7 2.7h8.4c.4 0 .9.5.9.9v1.3c0 .2-.4.7-.9.7z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_clear_field><title>ic_container_clear_field</title><path class=st1 d=\"M17.7 16.2L13.4 12l4.3-4.2-1.5-1.5-4.2 4.3-4.2-4.3-1.5 1.5 4.3 4.2-4.3 4.2 1.5 1.5 4.2-4.3 4.2 4.3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_search><title>ic_container_search</title><path class=st1 d=\"M19.2 17.6l-3.4-3.4c.6-.9.9-2 .9-3.2 0-3.3-2.7-6-6-6s-6 2.7-6 6 2.7 6 6 6c1.4 0 2.7-.5 3.8-1.3l3.3 3.3 1.4-1.4zm-8.4-2.3c-2.3 0-4.2-1.9-4.2-4.2s1.9-4.2 4.2-4.2S15 8.7 15 11s-1.9 4.3-4.2 4.3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_switch_admin><title>ic_container_switch_admin</title><path class=st0 d=\"M16.3 7c2.6 0 4.7 2.1 4.7 4.7v.5c0 2.6-2.1 4.7-4.7 4.7H7.7c-2.6.1-4.7-2-4.7-4.6v-.5C3 9.1 5.1 7 7.7 7h8.6m0-1H7.7C4.6 6 2 8.6 2 11.7v.5C2 15.4 4.6 18 7.7 18h8.5c3.2 0 5.7-2.6 5.7-5.7v-.5C22 8.6 19.4 6 16.3 6z\" opacity=0.55 fill=currentColor enable-background=new></path><circle class=st1 cx=16 cy=11.9 r=3.3 fill=currentColor></circle></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_switch_user><title>ic_container_switch_user</title><path class=st0 d=\"M16.3 7c2.6 0 4.7 2.1 4.7 4.7v.5c0 2.6-2.1 4.7-4.7 4.7H7.7c-2.6.1-4.7-2-4.7-4.6v-.5C3 9.1 5.1 7 7.7 7h8.6m0-1H7.7C4.6 6 2 8.6 2 11.7v.5C2 15.4 4.6 18 7.7 18h8.5c3.2 0 5.7-2.6 5.7-5.7v-.5C22 8.6 19.4 6 16.3 6z\" opacity=0.55 fill=currentColor enable-background=new></path><circle class=st1 cx=8 cy=11.9 r=3.3 fill=currentColor></circle></symbol><symbol viewBox=\"0 0 96 24\" id=ic_container_window_controls><title>ic_container_window_controls</title><path class=st1 d=\"M8 16h12v2H8zM52 6H42v12h12V6h-2zm0 10h-8V8h8v8zM88 16.1L83.8 12 88 7.9 86.1 6 82 10.2 77.9 6 76 7.9l4.1 4.1-4.1 4.1 1.9 1.9 4.1-4.1 4.1 4.1 1.9-1.9z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 18 18\" id=ic_critical><title>ic_critical</title><path class=st1 d=\"M12 1H6L1 6v6l5 5h6l5-5V6l-5-5zm1 11l-1 1-3-3-3 3-1-1 3-3-3-3 1-1 3 3 3-3 1 1-3 3 3 3z\" fill=#E7593C></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_connections_blue><title>ic_dashboard_connections_blue</title><path class=st0 d=\"M63.2 17h-26c-3.6 0-5.8 2.2-5.8 5.8v5.8h4.3v-5.8c0-.7.7-1.4 1.4-1.4h26c.7 0 1.4.7 1.4 1.4v26c0 .7-.7 1.4-1.4 1.4h-26c-.7 0-1.4-.7-1.4-1.4V38.7h-4.3v10.1c0 3.6 2.2 5.8 5.8 5.8h26c3.6 0 5.8-2.2 5.8-5.8v-26c0-3.6-2.2-5.8-5.8-5.8zM48.8 31.4h-26c-3.6 0-5.8 2.2-5.8 5.8v26c0 3.6 2.2 5.8 5.8 5.8h26c3.6 0 5.8-2.2 5.8-5.8v-5.8h-4.3v5.8c0 .7-.7 1.4-1.4 1.4h-26c-.7 0-1.4-.7-1.4-1.4v-26c0-.7.7-1.4 1.4-1.4h26c.7 0 1.4.7 1.4 1.4v10.1h4.3V37.2c0-3.6-2.2-5.8-5.8-5.8z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_connections_white><title>ic_dashboard_connections_white</title><path class=st0 d=\"M63.2 17h-26c-3.6 0-5.8 2.2-5.8 5.8v5.8h4.3v-5.8c0-.7.7-1.4 1.4-1.4h26c.7 0 1.4.7 1.4 1.4v26c0 .7-.7 1.4-1.4 1.4h-26c-.7 0-1.4-.7-1.4-1.4V38.7h-4.3v10.1c0 3.6 2.2 5.8 5.8 5.8h26c3.6 0 5.8-2.2 5.8-5.8v-26c0-3.6-2.2-5.8-5.8-5.8zM48.8 31.4h-26c-3.6 0-5.8 2.2-5.8 5.8v26c0 3.6 2.2 5.8 5.8 5.8h26c3.6 0 5.8-2.2 5.8-5.8v-5.8h-4.3v5.8c0 .7-.7 1.4-1.4 1.4h-26c-.7 0-1.4-.7-1.4-1.4v-26c0-.7.7-1.4 1.4-1.4h26c.7 0 1.4.7 1.4 1.4v10.1h4.3V37.2c0-3.6-2.2-5.8-5.8-5.8z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_management_blue><title>ic_dashboard_management_blue</title><path class=st0 d=\"M57 22.6c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6V26H20v5h31v3.4c0 .9.8 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6V31h9v-5h-9v-3.4zM57 51.6c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6V55H20v5h31v3.4c0 .9.8 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6V60h9v-5h-9v-3.4zM29 40.5h-9v5h9v3.4c0 .9.7 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6v-3.4h31v-5H35v-3.4c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6v3.4z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_management_white><title>ic_dashboard_management_white</title><path class=st0 d=\"M57 22.6c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6V26H20v5h31v3.4c0 .9.8 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6V31h9v-5h-9v-3.4zM57 51.6c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6V55H20v5h31v3.4c0 .9.8 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6V60h9v-5h-9v-3.4zM29 40.5h-9v5h9v3.4c0 .9.7 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6v-3.4h31v-5H35v-3.4c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6v3.4z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_network_blue><title>ic_dashboard_network_blue</title><path class=st0 d=\"M43 20c-12.7 0-23 10.3-23 23s10.3 23 23 23 23-10.3 23-23-10.3-23-23-23zm17.2 14.5H52c-.7-4-1.8-7.4-3.2-9.9 4.9 1.7 9 5.4 11.4 9.9zM49.1 43c0 1.7-.1 3.3-.2 4.8H37.2c-.1-1.5-.2-3.1-.2-4.8s.1-3.3.2-4.8h11.6c.2 1.5.3 3.1.3 4.8zM43 62.4c-1.3 0-4-3.8-5.3-10.9h10.7C47 58.6 44.3 62.4 43 62.4zm-5.3-27.9c1.3-7.1 4-10.9 5.3-10.9s4 3.8 5.3 10.9H37.7zm-.5-9.9c-1.4 2.5-2.5 5.9-3.2 9.9h-8.2c2.4-4.5 6.5-8.2 11.4-9.9zM24.3 38.2h9.2c-.1 1.6-.2 3.2-.2 4.8s.1 3.3.2 4.8h-9.2c-.4-1.6-.7-3.2-.7-4.8s.3-3.3.7-4.8zm1.5 13.3H34c.7 4 1.8 7.4 3.2 9.9-4.9-1.7-9-5.4-11.4-9.9zm23 9.9c1.4-2.5 2.5-5.9 3.2-9.9h8.2c-2.4 4.5-6.5 8.2-11.4 9.9zm12.9-13.6h-9.2c.1-1.6.2-3.2.2-4.8s-.1-3.3-.2-4.8h9.2c.4 1.6.7 3.2.7 4.8s-.3 3.3-.7 4.8z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_network_white><title>ic_dashboard_network_white</title><path class=st0 d=\"M43 20c-12.7 0-23 10.3-23 23s10.3 23 23 23 23-10.3 23-23-10.3-23-23-23zm17.2 14.5H52c-.7-4-1.8-7.4-3.2-9.9 4.9 1.7 9 5.4 11.4 9.9zM49.1 43c0 1.7-.1 3.3-.2 4.8H37.2c-.1-1.5-.2-3.1-.2-4.8s.1-3.3.2-4.8h11.6c.2 1.5.3 3.1.3 4.8zM43 62.4c-1.3 0-4-3.8-5.3-10.9h10.7C47 58.6 44.3 62.4 43 62.4zm-5.3-27.9c1.3-7.1 4-10.9 5.3-10.9s4 3.8 5.3 10.9H37.7zm-.5-9.9c-1.4 2.5-2.5 5.9-3.2 9.9h-8.2c2.4-4.5 6.5-8.2 11.4-9.9zM24.3 38.2h9.2c-.1 1.6-.2 3.2-.2 4.8s.1 3.3.2 4.8h-9.2c-.4-1.6-.7-3.2-.7-4.8s.3-3.3.7-4.8zm1.5 13.3H34c.7 4 1.8 7.4 3.2 9.9-4.9-1.7-9-5.4-11.4-9.9zm23 9.9c1.4-2.5 2.5-5.9 3.2-9.9h8.2c-2.4 4.5-6.5 8.2-11.4 9.9zm12.9-13.6h-9.2c.1-1.6.2-3.2.2-4.8s-.1-3.3-.2-4.8h9.2c.4 1.6.7 3.2.7 4.8s-.3 3.3-.7 4.8z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_peripherals_blue><title>ic_dashboard_peripherals_blue</title><path class=st0 d=\"M59.6 35.8c-5.8 0-10.4 4.8-10.4 10.5v10.8c0 5.7 4.7 10.4 10.4 10.4 5.8 0 10.4-4.7 10.4-10.4V46.3c0-5.7-4.7-10.5-10.4-10.5zm6.7 20.7c0 3.7-3 6.7-6.8 6.7s-6.8-3-6.8-6.7v-9.6c0-3.4 2.5-6.3 5.8-6.8v3.6c-.6.3-1 1-1 1.7v2c0 1.1.9 2 2 2s2-.9 2-2v-2c0-.7-.4-1.4-1-1.7v-3.6c3.3.5 5.8 3.4 5.8 6.8v9.6zM23.4 39.4h25.2c-.8 1.2-1.3 2.4-1.7 3.7H23.4v-3.7zM19.7 45V22.6c0-.3.3-.5.6-.5h34.4c.3 0 .6.1.6.5v11.5c1.2-.4 2.4-.6 3.7-.6v-12c0-1.6-1.4-3-3.1-3H19.1c-1.7 0-3.1 1.3-3.1 3v24.8c0 1.6 1.4 3 3.1 3h27.6v-3.7H20.3c-.3-.1-.6-.3-.6-.6zm25.8-15.5h-3.7v-3.7h3.7v3.7zm-6.2-3.6h-3.7v3.7h3.7v-3.7zm2.5 9.8h3.7V32h-3.7v3.7zm6.1 0h3.7V32h-3.7v3.7zm3.7-9.8h-3.7v3.7h3.7v-3.7zm-24.6 0h-3.6v3.7H27v-3.7zm-3.6 9.8H27V32h-3.6v3.7zm12.2 0h3.7V32h-3.7v3.7zm-6.1 0h3.7V32h-3.7v3.7zm3.7-9.8h-3.7v3.7h3.7v-3.7z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_peripherals_white><title>ic_dashboard_peripherals_white</title><path class=st0 d=\"M59.6 35.8c-5.8 0-10.4 4.8-10.4 10.5v10.8c0 5.7 4.7 10.4 10.4 10.4 5.8 0 10.4-4.7 10.4-10.4V46.3c0-5.7-4.7-10.5-10.4-10.5zm6.7 20.7c0 3.7-3 6.7-6.8 6.7s-6.8-3-6.8-6.7v-9.6c0-3.4 2.5-6.3 5.8-6.8v3.6c-.6.3-1 1-1 1.7v2c0 1.1.9 2 2 2s2-.9 2-2v-2c0-.7-.4-1.4-1-1.7v-3.6c3.3.5 5.8 3.4 5.8 6.8v9.6zM23.4 39.4h25.2c-.8 1.2-1.3 2.4-1.7 3.7H23.4v-3.7zM19.7 45V22.6c0-.3.3-.5.6-.5h34.4c.3 0 .6.1.6.5v11.5c1.2-.4 2.4-.6 3.7-.6v-12c0-1.6-1.4-3-3.1-3H19.1c-1.7 0-3.1 1.3-3.1 3v24.8c0 1.6 1.4 3 3.1 3h27.6v-3.7H20.3c-.3-.1-.6-.3-.6-.6zm25.8-15.5h-3.7v-3.7h3.7v3.7zm-6.2-3.6h-3.7v3.7h3.7v-3.7zm2.5 9.8h3.7V32h-3.7v3.7zm6.1 0h3.7V32h-3.7v3.7zm3.7-9.8h-3.7v3.7h3.7v-3.7zm-24.6 0h-3.6v3.7H27v-3.7zm-3.6 9.8H27V32h-3.6v3.7zm12.2 0h3.7V32h-3.7v3.7zm-6.1 0h3.7V32h-3.7v3.7zm3.7-9.8h-3.7v3.7h3.7v-3.7z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_personalization_blue><title>ic_dashboard_personalization_blue</title><path class=st0 d=\"M64.2 34.5h-2.9v3.4H63c.3 0 .6.2.6.5V59c0 .4-.2.6-.6.6H28.6c-.3 0-.4-.2-.4-.6v-2.9h-3.5v4c0 1.6.8 2.8 2.4 2.8h37c1.6 0 2.8-1.3 2.8-2.8V36.8c.1-1.6-1.2-2.3-2.7-2.3zM56.1 23H21.9c-1.6 0-2.9 1.3-2.9 3v25c0 1.6 1.3 2.9 2.9 2.9h34.3c1.6 0 2.9-1.3 2.9-2.9V26c-.1-1.7-1.4-3-3-3zm-6.2 5.1c0 .3-.3.6-.6.6H28.7c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6h20.6c.3 0 .6.3.6.6v1.1zm-24 0c0 .3-.3.6-.6.6H23c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6h2.3c.3 0 .6.3.6.6v1.1zM55.6 50c0 .4-.2.4-.5.4H23c-.3 0-.6-.3-.6-.6V32.1h33.1l.1 17.9zm0-21.9c0 .3-.3.6-.6.6h-2.3c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6H55c.3 0 .6.3.6.6v1.1z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_personalization_white><title>ic_dashboard_personalization_white</title><path class=st0 d=\"M64.2 34.5h-2.9v3.4H63c.3 0 .6.2.6.5V59c0 .4-.2.6-.6.6H28.6c-.3 0-.4-.2-.4-.6v-2.9h-3.5v4c0 1.6.8 2.8 2.4 2.8h37c1.6 0 2.8-1.3 2.8-2.8V36.8c.1-1.6-1.2-2.3-2.7-2.3zM56.1 23H21.9c-1.6 0-2.9 1.3-2.9 3v25c0 1.6 1.3 2.9 2.9 2.9h34.3c1.6 0 2.9-1.3 2.9-2.9V26c-.1-1.7-1.4-3-3-3zm-6.2 5.1c0 .3-.3.6-.6.6H28.7c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6h20.6c.3 0 .6.3.6.6v1.1zm-24 0c0 .3-.3.6-.6.6H23c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6h2.3c.3 0 .6.3.6.6v1.1zM55.6 50c0 .4-.2.4-.5.4H23c-.3 0-.6-.3-.6-.6V32.1h33.1l.1 17.9zm0-21.9c0 .3-.3.6-.6.6h-2.3c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6H55c.3 0 .6.3.6.6v1.1z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_security_blue><title>ic_dashboard_security_blue</title><path class=st0 d=\"M28 38.6h30c1.6 0 3 1.3 3 2.9v21c0 1.6-1.3 2.9-3 2.9H28c-1.6 0-3-1.3-3-2.9v-21c0-1.5 1.3-2.9 3-2.9zM56.9 62c.4.1.6-.2.6-.6V42.8c0-.3-.3-.6-.6-.6H29.1c-.3 0-.6.3-.6.6v18.7c0 .3.3.6.6.6l27.8-.1zM43 20.6c-6.6 0-12 5.4-12 12v7.2h3.6v-7.2c0-4.6 3.8-8.4 8.4-8.4s8.4 3.8 8.4 8.4v7.2H55v-7.2c0-6.6-5.4-12-12-12zM46.6 49.4c0-2-1.6-3.6-3.6-3.6s-3.6 1.6-3.6 3.6c0 1.6 1 2.9 2.4 3.4v5c0 .7.5 1.2 1.2 1.2s1.2-.5 1.2-1.2v-5c1.4-.5 2.4-1.8 2.4-3.4z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_security_white><title>ic_dashboard_security_white</title><path class=st0 d=\"M28 38.6h30c1.6 0 3 1.3 3 2.9v21c0 1.6-1.3 2.9-3 2.9H28c-1.6 0-3-1.3-3-2.9v-21c0-1.5 1.3-2.9 3-2.9zM56.9 62c.4.1.6-.2.6-.6V42.8c0-.3-.3-.6-.6-.6H29.1c-.3 0-.6.3-.6.6v18.7c0 .3.3.6.6.6l27.8-.1zM43 20.6c-6.6 0-12 5.4-12 12v7.2h3.6v-7.2c0-4.6 3.8-8.4 8.4-8.4s8.4 3.8 8.4 8.4v7.2H55v-7.2c0-6.6-5.4-12-12-12zM46.6 49.4c0-2-1.6-3.6-3.6-3.6s-3.6 1.6-3.6 3.6c0 1.6 1 2.9 2.4 3.4v5c0 .7.5 1.2 1.2 1.2s1.2-.5 1.2-1.2v-5c1.4-.5 2.4-1.8 2.4-3.4z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_system_blue><title>ic_dashboard_system_blue</title><path class=st0 d=\"M62.4 58H23.6c-3.5 0-5.6-2.1-5.6-5.6V26.6c0-3.5 2.1-5.6 5.6-5.6h38.9c3.5 0 5.6 2.1 5.6 5.6v25.9c-.2 3.4-2.2 5.5-5.7 5.5zm-39-33c-.7 0-1.4.7-1.4 1.4v26.2c0 .7.7 1.4 1.4 1.4h39.2c.7 0 1.4-.7 1.4-1.4V26.4c0-.7-.7-1.4-1.4-1.4H23.4zM58.2 61H27.8c-1.5 0-2.8 1.3-2.8 2.8V65h36v-1.2c0-1.5-1.3-2.8-2.8-2.8z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_system_white><title>ic_dashboard_system_white</title><path class=st0 d=\"M62.4 58H23.6c-3.5 0-5.6-2.1-5.6-5.6V26.6c0-3.5 2.1-5.6 5.6-5.6h38.9c3.5 0 5.6 2.1 5.6 5.6v25.9c-.2 3.4-2.2 5.5-5.7 5.5zm-39-33c-.7 0-1.4.7-1.4 1.4v26.2c0 .7.7 1.4 1.4 1.4h39.2c.7 0 1.4-.7 1.4-1.4V26.4c0-.7-.7-1.4-1.4-1.4H23.4zM58.2 61H27.8c-1.5 0-2.8 1.3-2.8 2.8V65h36v-1.2c0-1.5-1.3-2.8-2.8-2.8z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_date><title>ic_date</title><path fill=currentColor d=\"M18 22H6c-2.51 0-4-1.49-4-4V8c0-2.51 1.49-4 4-4V3c0-.552.448-1 1-1s1 .448 1 1v1h8V3c0-.552.448-1 1-1s1 .448 1 1v1c2.51 0 4 1.49 4 4v10c0 2.51-1.49 4-4 4zm2-12c0-1.402-.598-2-2-2H6c-1.402 0-2 .598-2 2v8c0 1.402.598 2 2 2h12c1.402 0 2-.598 2-2v-8zm-6.84 4.494c-.232.548-.43 1.106-.595 1.673-.164.567-.298 1.18-.403 1.833h-1.984c.112-.62.26-1.22.445-1.796.184-.577.398-1.135.64-1.677.243-.54.51-1.068.806-1.58.294-.515.606-1.017.934-1.508H9V10h6v1.015c-.385.643-.73 1.247-1.034 1.81-.305.564-.573 1.12-.806 1.67z\"></path></symbol><symbol viewBox=\"0 0 13 16\" id=ic_delete><title>ic_delete</title><path fill=currentColor d=\"M11.9 1H8V0H5v1H1.1C.7 1 0 1.4 0 2v1h13V2c0-.6-.7-1-1.1-1zM10 4v10H9V4H7v10H6V4H4v10H3V4H1v11c0 .7.3 1 1.2 1h8.6c.9 0 1.2-.3 1.2-1V4h-2z\"></path></symbol><symbol viewBox=\"0 0 9 6\" id=ic_downarrow><title>ic_downarrow</title><path fill=currentColor d=\"M4.5 5.914L.12 1.534 1.536.122 4.5 3.087 7.465.12 8.88 1.536z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_editrename><title>ic_editrename</title><path fill=currentColor d=\"M12 5L9 2 10.4.6c.4-.4 1-.4 1.4 0l1.6 1.6c.4.4.4 1 0 1.4L12 5zM8 3l-8 8v3h3l1-1 7-7-3-3\"></path></symbol><symbol viewBox=\"0 0 14 12\" id=ic_filter><title>ic_filter</title><g fill=currentColor><path d=\"M12.8 2L14 0H0l1.2 2zM10.5 6l1.2-2H2.3l1.2 2zM4.7 8L7 12l2.3-4z\"></path></g></symbol><symbol viewBox=\"0 0 48 48\" id=ic_headset><title>ic_headset</title><path stroke=#00447C stroke-width=3 stroke-miterlimit=10 d=\"M8 22c0-8.837 7.163-16 16-16s16 7.163 16 16\" fill=none></path><path fill=#00447C d=\"M9.32 19C6.386 19 4 22.14 4 26s2.386 7 5.32 7c1.182 0 1.652-1.064 1.68-1.8V20.8c0-1.32-1.004-1.8-1.68-1.8zM38.68 19c2.934 0 5.32 3.14 5.32 7s-2.386 7-5.32 7c-1.182 0-1.652-1.064-1.68-1.8V20.8c0-1.32 1.004-1.8 1.68-1.8z\"></path><ellipse fill=#00447C cx=24 cy=41 rx=4.8 ry=3></ellipse><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M40 27s3 15-16 15\" fill=none></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_help><title>ic_help</title><g><path fill=#272525 d=\"M6 10h2v2H6z\"></path><circle fill=#007DB8 cx=7 cy=7 r=7></circle></g><g fill=#fff><path d=\"M6.1 9c0-1.3.1-1.9 1.3-2.7.6-.4.9-.8.9-1.4 0-1.1-.7-1.3-1.3-1.3-1.2 0-1.3.9-1.4 1.6H3.8C3.8 2.8 5.5 2 6.9 2c.8 0 3.4.2 3.4 2.9 0 1.1-.6 1.7-1.6 2.5-.6.4-.8.6-.8 1.6H6.1zM6 10h2v2H6z\"></path></g></symbol><symbol viewBox=\"0 0 18 16\" id=ic_host><title>ic_host</title><path fill=currentColor d=\"M15.5 13h-13C1.1 13 0 11.9 0 10.5v-8C0 1.1 1.1 0 2.5 0h13C16.9 0 18 1.1 18 2.5v8c0 1.4-1.1 2.5-2.5 2.5zM2.5 2c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h13c.3 0 .5-.2.5-.5v-8c0-.3-.2-.5-.5-.5h-13zM14 14H4c-.6 0-1 .5-1 1.1v.9h12v-.9c0-.6-.5-1.1-1-1.1z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_keyboard><title>ic_keyboard</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M43 36H5c-1.1 0-2-.9-2-2V17c0-1.1.9-2 2-2h38c1.1 0 2 .9 2 2v17c0 1.1-.9 2-2 2z\" fill=none></path><path fill=#00447C d=\"M6 19h3v3H6zM11 19h3v3h-3zM16 19h3v3h-3zM21 19h3v3h-3zM26 19h3v3h-3zM31 19h3v3h-3zM34 24h3v3h-3zM39 29h3v3h-3zM6 24h6v3H6zM6 29h3v3H6zM11 29h26v3H11zM14 24h3v3h-3zM19 24h3v3h-3zM24 24h3v3h-3zM29 24h3v3h-3zM39 20.125h3v6.75h-3zM36 19h6v3h-6z\"></path></symbol><symbol viewBox=\"0 0 34 34\" id=ic_logo><title>ic_logo</title><path fill=currentColor d=\"M5.04 5.037 17 0c9.387 0 17 7.61 17 17 0 9.386-7.612 17-17 17-9.387 0-17-7.614-17-17C0 7.61 7.613 0 17 0m11.962 5.037M17 1.837c-4.186 0-7.976 1.697-10.72 4.44C3.534 9.023 1.837 12.813 1.837 17c0 4.185 1.697 7.975 4.44 10.72 2.746 2.743 6.536 4.44 10.722 4.44s7.976-1.697 10.72-4.44c2.745-2.745 4.443-6.535 4.443-10.72 0-4.187-1.697-7.977-4.442-10.722-2.744-2.744-6.534-4.44-10.72-4.44\"></path><path fill=currentColor d=\"M27.42 18.384h2.54v2.14h-5.094v-7.315h2.554v5.174zm-8.327-.403l-4.197 3.303-3.838-3.017c-.553 1.33-1.886 2.255-3.43 2.255h-3.28v-7.31h3.28c1.723 0 2.962 1.09 3.428 2.258l3.84-3.018 1.423 1.12-3.518 2.764.674.53 3.517-2.766 1.423 1.118L14.9 17.98l.674.53 3.52-2.764v-2.538h2.552v5.173h2.54v2.142h-5.092v-2.54zM8.957 16.866c0-.995-.656-1.556-1.585-1.556h-.57v3.11h.555c.862 0 1.6-.47 1.6-1.555z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_administration><title>ic_menu_administration</title><g fill=currentColor><path d=\"M21 5h-3V4c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1V7h3V5zM21 17h-3v-1c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h3v-2zM21 11H9v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1H3v2h3v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v-2z\"></path></g></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_close><title>ic_menu_close</title><g fill=currentColor><path d=\"M10.274 7.564l1.22.87L8.95 12l2.545 3.564-1.22.872L7.104 12zM15.274 7.564l1.22.87L13.95 12l2.545 3.564-1.22.872L12.104 12z\"></path></g></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_dashboard><title>ic_menu_dashboard</title><g fill=currentColor><path d=\"M6 7H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 21H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 14H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1z\"></path></g></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_easysetup><title>ic_menu_easysetup</title><path fill=currentColor d=\"M21.673 6.657c-.005-.016-.062-.04-.118 0L18.69 9.544c-.33.32-.863.32-1.185-.005l-2.98-3.008c-.32-.334-.32-.865.007-1.187 0 0 2.808-2.77 2.854-2.837.046-.068.046-.136.006-.147-2.03-.717-4.23-.37-5.703 1.092-1.676 1.656-1.896 4.278-.785 6.522l-8.6 7.827c-.407.407-.407 1.07 0 1.476l2.413 2.418c.406.407 1.06.407 1.472 0l7.8-8.59c2.24 1.164 4.873.983 6.56-.695 1.49-1.476 1.77-3.717 1.123-5.753zM6 19c-.552 0-1-.448-1-1s.448-1 1-1 1 .448 1 1-.448 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_monitoring><title>ic_menu_monitoring</title><path fill=currentColor d=\"M6 22H3v-4.8c0-.66.54-1.2 1.2-1.2h.6c.66 0 1.2.54 1.2 1.2V22zM11 22H8v-8.8c0-.66.54-1.2 1.2-1.2h.6c.66 0 1.2.54 1.2 1.2V22zM16 22h-3v-6.8c0-.66.54-1.2 1.2-1.2h.6c.66 0 1.2.54 1.2 1.2V22zM21 22h-3V11.2c0-.66.54-1.2 1.2-1.2h.6c.66 0 1.2.54 1.2 1.2V22zM4 13.75c-.18 0-.363-.065-.507-.197-.305-.28-.326-.754-.046-1.06L9.38 6.02l4.432 2.953 4.578-6.408c.24-.337.71-.416 1.046-.175.337.24.415.71.174 1.046l-5.422 7.592-4.57-3.048-5.065 5.526c-.148.162-.35.244-.553.244zM20 7.75c-.383 0-.71-.29-.747-.68l-.372-3.92-3.765.59c-.412.067-.793-.215-.857-.624-.064-.41.216-.793.625-.857l4.553-.714c.206-.033.413.02.576.15.164.125.267.314.287.52l.446 4.713c.04.41-.264.777-.676.816-.023.003-.047.004-.07.004z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_open><title>ic_menu_open</title><g fill=currentColor><path d=\"M13.826 16.436l-1.22-.87L15.15 12l-2.545-3.564 1.22-.872L16.996 12zM8.826 16.436l-1.22-.87L10.15 12 7.606 8.436l1.22-.872L11.996 12z\"></path></g></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_reports><title>ic_menu_reports</title><path fill=currentColor d=\"M19 22H3V2h16c1.103 0 2 .897 2 2v16c0 1.103-.897 2-2 2zm0-2v1-1zM5 20h14V4H5v16zM7 6h10v3H7zM7 11h10v2H7zM7 15h10v2H7zM5 7H2V5h3c.55 0 1 .45 1 1s-.45 1-1 1zM5 11H2V9h3c.55 0 1 .45 1 1s-.45 1-1 1zM5 15H2v-2h3c.55 0 1 .45 1 1s-.45 1-1 1zM5 19H2v-2h3c.55 0 1 .45 1 1s-.45 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_resources><title>ic_menu_resources</title><path fill=currentColor d=\"M20 20H4c-1.103 0-2-.897-2-2V7c0-1.654 1.346-3 3-3h5c1.274 0 2.67 1.71 3.54 3H20c1.103 0 2 .897 2 2v9c0 1.103-.897 2-2 2zM4 9v9h16V9h-7c-.343 0-.66-.175-.845-.464-.77-1.21-1.83-2.424-2.224-2.543L5 6c-.552 0-1 .45-1 1v2z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_microphone><title>ic_microphone</title><path fill=#00447C d=\"M24 27c-2.2 0-4-1.8-4-4V12c0-2.2 1.8-4 4-4s4 1.8 4 4v11c0 2.2-1.8 4-4 4z\"></path><path stroke=#00447C stroke-width=2.25 stroke-miterlimit=10 d=\"M32.5 21v2.2c0 4.86-3.806 8.8-8.5 8.8s-8.5-3.94-8.5-8.8V21\" fill=none></path><path fill=#00447C d=\"M22 32h4v10h-4zM17 40h14v2H17z\"></path></symbol><symbol viewBox=\"0 0 18 4\" id=ic_more><title>ic_more</title><g fill=currentColor><circle cx=9 cy=2 r=2></circle><circle cx=2 cy=2 r=2></circle><circle cx=16 cy=2 r=2></circle></g></symbol><symbol viewBox=\"0 0 48 48\" id=ic_mouse><title>ic_mouse</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M25 39.5h-2c-4.4 0-8-3.6-8-8v-14c0-4.4 3.6-8 8-8h2c4.4 0 8 3.6 8 8v14c0 4.4-3.6 8-8 8z\" fill=none></path><path fill=#00447C d=\"M24 25.5c-.55 0-1-.45-1-1v-15c0-.55.45-1 1-1s1 .45 1 1v15c0 .55-.45 1-1 1zM24 21.5c-1.1 0-2-.9-2-2v-2c0-1.1.9-2 2-2s2 .9 2 2v2c0 1.1-.9 2-2 2z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_Dropdown_arrow><title>ic_pagecontrol_Dropdown_arrow</title><path class=st0 d=\"M12 14.9l-4.4-4.4L9 9.1l3 3 3-3 1.4 1.4z\" fill=currentColor888></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_add><title>ic_pagecontrol_add</title><path class=st0 d=\"M3.5 1.5h17c1.1 0 2 .9 2 2v17c0 1.1-.9 2-2 2h-17c-1.1 0-2-.9-2-2v-17c0-1.1.9-2 2-2z\" fill=#F4F4F4></path><path class=st1 d=\"M20.5 23h-17C2.1 23 1 21.9 1 20.5v-17C1 2.1 2.1 1 3.5 1h17C21.9 1 23 2.1 23 3.5v17c0 1.4-1.1 2.5-2.5 2.5zM3.5 2C2.7 2 2 2.7 2 3.5v17c0 .8.7 1.5 1.5 1.5h17c.8 0 1.5-.7 1.5-1.5v-17c0-.8-.7-1.5-1.5-1.5h-17z\" fill=#AAAAAA></path><path class=st2 d=\"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_back><title>ic_pagecontrol_back</title><path class=st0 d=\"M20.5 11h-13l4-4-2-1-6 6 6 6 2-1-4-4h13v-2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_delete><title>ic_pagecontrol_delete</title><path class=st0 d=\"M17.9 16.5L13.4 12l4.5-4.5-1.4-1.4-4.5 4.5-4.5-4.5-1.4 1.4 4.5 4.5-4.5 4.5 1.4 1.4 4.5-4.5 4.5 4.5 1.4-1.4z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_edit><title>ic_pagecontrol_edit</title><path class=st0 d=\"M18.6 8.4l-1.4 1.4-3-3 1.4-1.4c.4-.4 1-.4 1.4 0L18.6 7c.4.4.4 1 0 1.4zm-9.5 9.5l-1 1h-3v-3l8.1-8.1 3 3-7.1 7.1z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_export><title>ic_pagecontrol_export</title><path class=st0 d=\"M4 18v-.2.2zM17 8.5L14 6v3s-9.8-.5-10 8.8c.1-1 1-4.8 10-4.8v3l3-2.5 3-2.5-3-2.5z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_forward><title>ic_pagecontrol_forward</title><path class=st0 d=\"M3.5 11h13l-4-4 2-1 6 6-6 6-2-1 4-4h-13v-2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_import><title>ic_pagecontrol_import</title><path class=st0 d=\"M6 4h.2H6zM15.5 17l2.5-3h-3s.5-9.8-8.8-10c1 .1 4.8 1 4.8 10H8l2.5 3 2.5 3 2.5-3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_incremental><title>ic_pagecontrol_incremental</title><path class=st0 d=\"M12 8l-3 3-1-1 3-3 1-1 1 1 3 3-1 1-3-3zm0 8l3-3 1 1-3 3-1 1-1-1-3-3 1-1 3 3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_remove><title>ic_pagecontrol_remove</title><path class=st0 d=\"M3.5 1.5h17c1.1 0 2 .9 2 2v17c0 1.1-.9 2-2 2h-17c-1.1 0-2-.9-2-2v-17c0-1.1.9-2 2-2z\" fill=#F4F4F4></path><path class=st1 d=\"M20.5 23h-17C2.1 23 1 21.9 1 20.5v-17C1 2.1 2.1 1 3.5 1h17C21.9 1 23 2.1 23 3.5v17c0 1.4-1.1 2.5-2.5 2.5zM3.5 2C2.7 2 2 2.7 2 3.5v17c0 .8.7 1.5 1.5 1.5h17c.8 0 1.5-.7 1.5-1.5v-17c0-.8-.7-1.5-1.5-1.5h-17z\" fill=#AAAAAA></path><path class=st2 d=\"M19 13v-2H5v2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_reset><title>ic_pagecontrol_reset</title><path class=st0 d=\"M9.1 16.3c2.3 2.4 6 2.4 8.3 0 2.4-2.4 2.3-6.3 0-8.7-2.3-2.5-6-2.4-8.3 0-1 1-1.5 2.3-1.7 3.6h2.4l-3.4 3.6-3.5-3.5h2.7c.2-1.8.9-3.7 2.3-5 3-3.2 8-3.2 11.1 0 3 3.2 3 8.4 0 11.6-3 3.2-8 3.2-11.1 0l1.2-1.6z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_settings><title>ic_pagecontrol_settings</title><path class=st0 d=\"M13.5 21h-3l-.9-2.5-.6-.2-2.3 1.2-2.1-2.1L5.7 15l-.3-.7-2.4-.8v-3l2.5-.9.2-.6-1.1-2.3 2.1-2.1L9 5.7l.7-.3.8-2.4h3l.9 2.5.6.2 2.3-1.2 2.1 2.1L18.3 9l.3.7 2.5.8v3l-2.5.9-.3.6 1.2 2.3-2.1 2.1-2.4-1.1-.7.3-.8 2.4zm-1.9-1.5h.8l.7-2.1 1.9-.8 2 .9.6-.6-1-2 .8-1.9 2.1-.7v-.8l-2.1-.7-.8-1.8.9-2-.5-.6-2 1-1.9-.8-.7-2.1h-.8l-.7 2.1-1.9.8-2-1-.6.6 1 2-.8 1.9-2.1.7v.8l2.1.7.8 1.9-.9 2 .5.6 2-1 1.9.8.7 2.1zm.4-4.1c-1.9 0-3.4-1.5-3.4-3.4s1.5-3.4 3.4-3.4 3.4 1.5 3.4 3.4-1.5 3.4-3.4 3.4zm0-5.3c-1 0-1.9.8-1.9 1.9 0 1 .8 1.9 1.9 1.9s1.9-.8 1.9-1.9c0-1-.9-1.9-1.9-1.9z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_vol_high><title>ic_pagecontrol_vol_high</title><path class=st0 d=\"M14.2 16.6V15l.9-.6c1.3-1.3 1.3-3.3 0-4.5-.3-.3-.6-.5-.9-.6V7.4c.7.2 1.4.6 2 1.2 1.9 1.9 1.9 4.9 0 6.7-.6.6-1.3 1-2 1.3zm-12-1V8.4c0-.6.5-1.1 1.1-1.1h1.6v9.4H3.3c-.6 0-1.1-.5-1.1-1.1zm12 5.2V19c1.4-.3 2.7-.9 3.7-2 2.8-2.8 2.8-7.4 0-10.2-1.1-1.1-2.4-1.7-3.7-2V3.2c1.8.3 3.5 1.1 4.9 2.5 3.5 3.5 3.5 9.1 0 12.6-1.3 1.4-3.1 2.2-4.9 2.5zm-3-.1l-4.5-3.4V6.8l4.5-3.5c.8-.6 1.5-.3 1.5.7v16c0 1-.7 1.3-1.5.7z\" fill-rule=evenodd clip-rule=evenodd fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_vol_low><title>ic_pagecontrol_vol_low</title><path class=st0 d=\"M16.3 16.6V15l.9-.6c1.3-1.3 1.3-3.3 0-4.5-.3-.3-.6-.5-.9-.6V7.4c.7.2 1.4.6 2 1.2 1.9 1.9 1.9 4.9 0 6.7-.6.6-1.3 1-2 1.3zM4.3 15.6V8.4c0-.6.5-1.1 1.1-1.1H7v9.4H5.4c-.6 0-1.1-.5-1.1-1.1zM13.3 20.7l-4.5-3.4V6.8l4.5-3.5c.8-.6 1.5-.3 1.5.7v16c0 1-.7 1.3-1.5.7z\" fill-rule=evenodd clip-rule=evenodd fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_vol_mute><title>ic_pagecontrol_vol_mute</title><path class=st0 d=\"M2.5 18.2v-3.3L6.2 13V8.4c0-.6.5-1.1 1.1-1.1h1.6v4.3l1.9-.9V6.8l4.5-3.5c.7-.6 1.3-.3 1.3.7v3.7l4.8-2.4v3.3L2.5 18.2zm12.7 2.5l-4.5-3.4v-1l5.9-3V20c0 1-.6 1.3-1.4.7z\" fill-rule=evenodd clip-rule=evenodd fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_warning><title>ic_pagecontrol_warning</title><path class=st0 d=\"M21 20H3c-1 0-1.5-1.7-.8-2.7l9-12.9c.2-.3.5-.4.8-.4.3 0 .6.2.8.5l9 12.9c.7.9.2 2.6-.8 2.6zM12 6.7L4 18.1h16L12 6.7zm.9 10h-1.7V15h1.7v1.7zm-1.7-2.9l-.1-3.1c0-.5.4-1 .9-1s1 .4.9.9l-.1 3.1h-1.6z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_printer><title>ic_printer</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M11 38H5c-1.1 0-2-.9-2-2V24c0-1.1.9-2 2-2h38c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2h-6\" fill=none></path><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 fill=none d=\"M11 33h26v10H11z\"></path><path fill=#00447C d=\"M6 15h5v6H6zM37 15h5v6h-5z\"></path><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 fill=none d=\"M11 7h26v15H11zM15 36h18M15 40h18\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_removered><title>ic_removered</title><circle fill=url(#svgstored8612d5f4569fe7fa8461e3a41bd32f2a) cx=7 cy=7 r=7></circle><path fill=#fff d=\"M10.6 9.3L8.4 7l2.3-2.2c.5-.5.5-1.1.1-1.5-.4-.4-1-.3-1.4.1L7 5.6 4.7 3.4c-.4-.5-1.1-.5-1.5-.2-.4.4-.3 1 .1 1.4L5.6 7 3.4 9.2c-.5.5-.5 1.1-.1 1.5.4.4 1 .3 1.4-.1L7 8.4l2.2 2.3c.5.5 1.1.5 1.5.1.4-.4.4-1.1-.1-1.5z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_scanner><title>ic_scanner</title><path fill=#00447C d=\"M38.905 26L6.6 13.545c-.514-.198-.772-.78-.574-1.293l.72-1.866c.197-.513.78-.77 1.292-.573l32.96 12.706L39 22l-.095 4z\"></path><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M5 27H3v9c0 1.1.9 2 2 2h38c1.1 0 2-.9 2-2V25s0-3-3-3h-3v5H5z\" fill=none></path></symbol><symbol viewBox=\"0 0 15 14\" id=ic_search><title>ic_search</title><path fill=currentColor d=\"M14.5 12.6l-3.4-3.4c.6-.9.9-2 .9-3.2 0-3.3-2.7-6-6-6S0 2.7 0 6s2.7 6 6 6c1.4 0 2.7-.5 3.8-1.3l3.3 3.3 1.4-1.4zM6 10.3c-2.3 0-4.3-1.9-4.3-4.3s2-4.2 4.3-4.2 4.3 1.9 4.3 4.3-2 4.2-4.3 4.2z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_security_Accounts><title>ic_security_Accounts</title><circle class=st0 cx=24 cy=16.1 r=7.1 fill=currentColor></circle><path class=st0 d=\"M36.4 33.7c0 3.4-.1 5.3-12.4 5.3-12.4 0-12.4-1.9-12.4-5.3s5.5-8.8 12.4-8.8 12.4 5.4 12.4 8.8z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_security_Certificate><title>ic_security_Certificate</title><g id=svgstore761ed8791beadf2db9b9525d7be9d99cA5857t_1_><path class=st0 d=\"M43 10v21.6s-.1 0-.1.1c-.6 1.9-1.6 2.6-3.5 2.6H19.2v6.3l-4-4-3.9 3.9v-6.2H8.4c-2 0-3.4-1.3-3.4-3.4V10.7c0-1.5.9-2.8 2.3-3.2.2 0 .3-.1.5-.1h32.6c.1 0 .2.1.3.1.9.3 1.6.8 2.1 1.7 0 .3.1.6.2.8zM19.2 32.7h20.3c1.2 0 1.8-.6 1.8-1.8V10.8c0-1.3-.6-1.9-1.8-1.9H8.2c-1 0-1.7.6-1.7 1.6v20.6c0 .9.7 1.6 1.6 1.6H11.3V30c0-.4-.1-.7-.3-1-1.5-1.8-1.7-4.4-.4-6.4 1.2-2 3.6-3 5.8-2.5 4.1.9 5.7 5.8 3.1 9-.1.1-.2.3-.2.5-.1 1.1-.1 2.1-.1 3.1zm-3.9-11.1c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-3.9c0-2.3-1.8-4.1-4-4.1zm-2.4 9v6.1l.1.1c.7-.8 1.5-1.5 2.3-2.4.7.8 1.5 1.5 2.2 2.4v-6.2c-1.4.7-3 .7-4.6 0zM38.2 15.3v1.5H9.8v-1.5h28.4zM38.2 20.1v1.5H24v-1.5h14.2zM38.2 24.8v1.5h-9.4v-1.5h9.4z\" fill=currentColor></path></g></symbol><symbol viewBox=\"0 0 48 48\" id=ic_security_SSH><title>ic_security_SSH</title><path class=st0 d=\"M41.7 39.2H6.3c-.7 0-1.3-.6-1.3-1.3V10c0-.7.6-1.3 1.3-1.3h35.5c.7 0 1.3.6 1.3 1.3v27.9c-.1.7-.7 1.3-1.4 1.3zM41.5 14h-35v23.7h35V14zm-17.9 9.7L17 26.6v-1.9l4.6-1.8-4.6-1.8v-1.8l6.6 2.9v1.5zm7.7 6.7h-7.7v-1.2h7.7v1.2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_security_VNC><title>ic_security_VNC</title><path class=st0 d=\"M35.6 37H43v2h-8.1c-5.9 0-5.5-6.8-5.5-6.8 0-7.4 5.8-6.8 5.8-6.8H43v1.9h-7.3c-3 0-3 4.8-3 4.8.2 3.7 2.9 4.9 2.9 4.9zm5.5-21.9c-1.9-3.3-4.7-3.3-4.7-3.3-3.3.2-4.8 3.1-4.8 3.1v8.6h-1.9v-9.3c1.9-6.4 6.6-6 6.6-6 6.6 0 6.6 6.3 6.6 6.3v9H41v-8.4zM17 40s-1.8-.2-2.4-2.1L5 8h5.1l7 22.6L23.9 8H29l-9.9 30.8c.1 0-.4 1-2.1 1.2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_selectgreen><title>ic_selectgreen</title><circle fill=url(#svgstore7362f49d72a88226000d0f9b3624bdeca) cx=7 cy=7 r=7></circle><path fill=#fff d=\"M12 4c-.4-.4-1-.4-1.4 0L6 8.6 3.4 6c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l3.3 3.3c.2.2.5.3.7.3.3 0 .5-.1.7-.3L12 5.4c.4-.3.4-1 0-1.4z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_unselect><title>ic_unselect</title><circle stroke=currentColor fill=#FFFFFF stroke-width=1 cx=7 cy=7 r=6></circle></symbol><symbol viewBox=\"0 0 16 12\" id=ic_share><title>ic_share</title><g fill=currentColor><path d=\"M0 12v-.2.2zM13 2.5L10 0v3S.2 2.5 0 11.8C.1 10.8 1 7 10 7v3l3-2.5L16 5l-3-2.5z\"></path></g></symbol><symbol viewBox=\"0 0 48 48\" id=ic_speaker><title>ic_speaker</title><path fill=#00447C d=\"M25.804 16.654c-.487-.474-1.278-.474-1.765 0-.488.473-.488 1.24 0 1.713 1.602 1.558 2.4 3.587 2.402 5.628 0 2.045-.797 4.078-2.403 5.638-.488.474-.488 1.24 0 1.714.243.237.563.355.88.355.32 0 .64-.118.884-.355 2.09-2.028 3.135-4.697 3.134-7.352.002-2.655-1.05-5.318-3.134-7.34zM30.68 12.816c-.486-.473-1.276-.473-1.765 0-.487.473-.487 1.24 0 1.715 2.692 2.615 4.04 6.028 4.04 9.45 0 3.44-1.34 6.87-4.04 9.49-.487.475-.487 1.242 0 1.715.244.236.564.355.883.355.32 0 .64-.12.883-.355 3.185-3.092 4.773-7.156 4.77-11.204.002-4.04-1.598-8.085-4.77-11.164zM35.846 8.907c-.487-.474-1.277-.474-1.765 0-.487.473-.487 1.24 0 1.713 3.803 3.695 5.706 8.523 5.707 13.363 0 4.853-1.896 9.695-5.706 13.397-.487.473-.487 1.24 0 1.714.244.237.564.355.883.355.32 0 .64-.12.883-.356 4.295-4.17 6.44-9.648 6.438-15.11.002-5.455-2.153-10.917-6.438-15.077z\"></path><path fill=#007DB8 d=\"M10 20h1v8h-1z\"></path><path fill=#00447C stroke=#00447C stroke-linecap=round stroke-linejoin=round stroke-miterlimit=10 d=\"M13.5 20.222v7.556l7 4.722v-17z\"></path><path fill=#00447C d=\"M10 28H9c-.55 0-1-.45-1-1v-6c0-.55.45-1 1-1h1c.55 0 1 .45 1 1v6c0 .55-.45 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_devices_healthy><title>ic_status_devices_healthy</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstorea25ad21dab16724f0104e5025b4db3c6a) d=\"M4 0c2.21 0 4 1.79 4 4S6.21 8 4 8 0 6.21 0 4s1.79-4 4-4z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_devices_not_healthy><title>ic_status_devices_not_healthy</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore399b0c11ecae9ae47e5bfb6aabdcf805a) d=\"M.566 6.02C.216 5.425 0 4.74 0 4c0-2.21 1.79-4 4-4 .74 0 1.425.215 2.02.566L.566 6.02zm6.868-4.04C7.784 2.575 8 3.26 8 4c0 2.21-1.79 4-4 4-.74 0-1.425-.215-2.02-.566L7.434 1.98z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_devices_offline><title>ic_status_devices_offline</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore5545d618ec741a40f2d5ffda3d601cfba) d=\"M4 0C1.79 0 0 1.79 0 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_devices_sleeping><title>ic_status_devices_sleeping</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore319eab1207327ea47a5bedfba504cdb4a) d=\"M4 0C1.79 0 0 1.79 0 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm1 6c0 .552-.448 1-1 1s-1-.448-1-1V2c0-.552.448-1 1-1s1 .448 1 1v4z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_updates_completed><title>ic_status_updates_completed</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstorea25ad21dab16724f0104e5025b4db3c6a) d=\"M4 0c2.21 0 4 1.79 4 4S6.21 8 4 8 0 6.21 0 4s1.79-4 4-4z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_updates_error><title>ic_status_updates_error</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore7e446d253b83a241f75c1e3eac689df1a) d=\"M.566 6.02C.216 5.425 0 4.74 0 4c0-2.21 1.79-4 4-4 .74 0 1.425.215 2.02.566L.566 6.02zm6.868-4.04C7.784 2.575 8 3.26 8 4c0 2.21-1.79 4-4 4-.74 0-1.425-.215-2.02-.566L7.434 1.98z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_updates_progress><title>ic_status_updates_progress</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore92453a884c32748858e98d3d84707899a) d=\"M4 8C1.79 8 0 6.21 0 4h4V0c2.21 0 4 1.79 4 4S6.21 8 4 8z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_updates_waiting><title>ic_status_updates_waiting</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstoreea8dc9bbb888a8bc7bb849bdbfae6c86a) d=\"M4 0C1.79 0 0 1.79 0 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_time><title>ic_time</title><path fill=currentColor d=\"M19.084 19.07c-1.957 1.954-4.52 2.93-7.086 2.93-2.564 0-5.128-.976-7.085-2.93C1 15.167 1 8.835 4.913 4.93 6.87 2.975 9.433 2 11.998 2c2.565 0 5.13.976 7.086 2.93 3.912 3.904 3.912 10.236 0 14.14zM17.667 6.344C16.153 4.833 14.14 4 11.997 4c-2.14 0-4.153.832-5.667 2.343-3.125 3.12-3.125 8.195 0 11.314C7.844 19.167 9.857 20 11.998 20c2.142 0 4.155-.832 5.67-2.343 3.124-3.12 3.124-8.195 0-11.314zM15.42 16.83L12 13.414l-2.125 2.12c-.71.71-1.095.323-1.42 0-.324-.325-.706-.706.014-1.424l3.53-3.524 4.84 4.83c.325.323.763.893.12 1.534-.708.707-1.212.204-1.536-.12z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_trackpad><title>ic_trackpad</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M39 37H9c-1.1 0-2-.9-2-2V16c0-1.1.9-2 2-2h30c1.1 0 2 .9 2 2v19c0 1.1-.9 2-2 2zM6 29h36M24 29v9\" fill=none></path></symbol><symbol viewBox=\"0 0 14 17\" id=ic_user><title>ic_user</title><g fill=currentColor><circle cx=7 cy=4 r=4></circle><path d=\"M14 14c0 1.9 0 3-7 3s-7-1.1-7-3 3.1-5 7-5 7 3.1 7 5z\"></path></g></symbol><symbol viewBox=\"0 0 20 15\" id=ic_usergroup><title>ic_usergroup</title><g fill=currentColor><circle cx=5.5 cy=3.5 r=3.5></circle><path d=\"M11 12.4c0 1.7 0 2.6-5.5 2.6S0 14.1 0 12.4 2.5 8 5.5 8s5.5 2.7 5.5 4.4z\"></path><circle cx=14.5 cy=3.5 r=3.5></circle><path d=\"M14.6 8c-1.1 0-2.1.4-2.9.9 1.3 1.3 2 2.7 2 3.9 0 .9 0 1.6-.3 2.2h1.2c5.3 0 5.4-.9 5.4-2.6 0-1.7-2.4-4.4-5.4-4.4z\"></path></g></symbol><symbol viewBox=\"0 0 14 14\" id=ic_viewlist><title>ic_viewlist</title><g fill=currentColor><path d=\"M0 1h14v3H0zM0 6h14v3H0zM0 11h14v3H0z\"></path></g></symbol><symbol viewBox=\"0 0 14 14\" id=ic_viewthumbnail><title>ic_viewthumbnail</title><g fill=currentColor><path d=\"M0 0h6v6H0zM8 0h6v6H8zM0 8h6v6H0zM8 8h6v6H8z\"></path></g></symbol><symbol viewBox=\"0 0 18 18\" id=ic_warning><title>ic_warning</title><path class=st0 d=\"M9 2L1 16h16L9 2zm1 12c0 .3-.2.5-.5.5h-1c-.3 0-.5-.2-.5-.5v-1c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5v1zm-.5-3h-1L8 7v-.5c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5V7l-.5 4z\" fill=#F2B01D></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_xclearinlinetext><title>ic_xclearinlinetext</title><circle fill=currentColor cx=7 cy=7 r=7></circle><path stroke=#fff stroke-miterlimit=10 fill=none d=\"M4 4l6 6M10 4l-6 6\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_xclosewindow><title>ic_xclosewindow</title><path fill=currentColor d=\"M14 2l-2-2-5 5-5-5-2 2 5 5-5 5 2 2 5-5 5 5 2-2-5-5z\"></path></symbol><symbol viewBox=\"0 0 12 12\" id=ic_xremovebox><title>ic_xremovebox</title><path stroke=currentColor stroke-width=1.5 stroke-miterlimit=10 fill=none d=\"M2 2l8 8M10 2l-8 8\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_01_dashboard><title>menu_icon_01_dashboard</title><path fill=currentColor d=\"M6 7H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 21H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 14H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_01_dashboard_active><title>menu_icon_01_dashboard_active</title><path fill=currentColor d=\"M6 7H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 21H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 14H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_02_devices><title>menu_icon_02_devices</title><path fill=currentColor d=\"M19.5 18h-15C3.122 18 2 16.88 2 15.5v-10C2 4.122 3.122 3 4.5 3h15C20.88 3 22 4.122 22 5.5v10c0 1.38-1.12 2.5-2.5 2.5zM4.5 5c-.27 0-.5.23-.5.5v10c0 .27.23.5.5.5h15c.27 0 .5-.23.5-.5v-10c0-.27-.23-.5-.5-.5h-15zM17.952 19H6.048C5.472 19 5 19.487 5 20.082V21h14v-.918c0-.595-.472-1.082-1.048-1.082z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_02_devices_active><title>menu_icon_02_devices_active</title><path fill=currentColor d=\"M19.5 18h-15C3.122 18 2 16.88 2 15.5v-10C2 4.122 3.122 3 4.5 3h15C20.88 3 22 4.122 22 5.5v10c0 1.38-1.12 2.5-2.5 2.5zM4.5 5c-.27 0-.5.23-.5.5v10c0 .27.23.5.5.5h15c.27 0 .5-.23.5-.5v-10c0-.27-.23-.5-.5-.5h-15zM17.952 19H6.048C5.472 19 5 19.487 5 20.082V21h14v-.918c0-.595-.472-1.082-1.048-1.082z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_03_applications><title>menu_icon_03_applications</title><path fill=currentColor d=\"M21.57 6.433l-9.14-5.317c-.267-.155-.594-.155-.86 0L2.43 6.433c-.266.154-.43.44-.43.75v10.633c0 .31.164.596.43.75l9.14 5.318c.133.077.28.116.43.116s.297-.04.43-.116l9.14-5.317c.267-.155.43-.44.43-.75V7.182c0-.31-.164-.596-.43-.75zM12 3.193l7.43 4.32L12 11.84 4.57 7.514 12 3.194zM4 8.34l7.5 4.366v8.81L4 17.153V8.34zm8.5 13.176v-8.81L20 8.34v8.814l-7.5 4.362z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_03_applications_active><title>menu_icon_03_applications_active</title><path fill=currentColor d=\"M21.57 6.433l-9.14-5.317c-.267-.155-.594-.155-.86 0L2.43 6.433c-.266.154-.43.44-.43.75v10.633c0 .31.164.596.43.75l9.14 5.318c.133.077.28.116.43.116s.297-.04.43-.116l9.14-5.317c.267-.155.43-.44.43-.75V7.182c0-.31-.164-.596-.43-.75zM12 3.193l7.43 4.32L12 11.84 4.57 7.514 12 3.194zM4 8.34l7.5 4.366v8.81L4 17.153V8.34zm8.5 13.176v-8.81L20 8.34v8.814l-7.5 4.362z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_04_updates><title>menu_icon_04_updates</title><path fill=currentColor d=\"M19.443 6.94c-.338-.24-.808-.16-1.045.178-.24.338-.16.806.178 1.046L20.08 9.23c-.003 0-.004 0-.007.002l-.745.072c-.288.028-.648.117-1.018.185l-.582.118-.598.192-.628.207-.63.294c-.438.175-.835.48-1.254.737-.382.32-.78.628-1.1 1.02-.176.18-.325.38-.463.59-.116.156-.212.322-.304.49V4.19l1.38 1.31c.302.285.775.274 1.062-.026.285-.3.272-.775-.027-1.06l-3.178-3.02-3.15 3.02c-.3.29-.312.764-.025 1.063.147.153.344.23.542.23.187 0 .374-.068.52-.207l1.376-1.32v8.958c-.093-.168-.19-.335-.304-.49-.138-.21-.287-.41-.463-.59-.32-.392-.718-.7-1.1-1.02-.42-.258-.816-.56-1.253-.736l-.63-.294c-.216-.07-.426-.14-.63-.208l-.6-.193-.58-.118c-.37-.07-.73-.158-1.018-.186l-.745-.072H3.92l1.504-1.068c.338-.24.417-.708.178-1.046-.24-.337-.708-.416-1.046-.178L.982 9.476l2.355 3.674c.143.224.385.346.632.346.138 0 .278-.04.403-.12.35-.223.45-.687.227-1.035l-1.073-1.673h.33l.747-.003c.29 0 .568.05.902.077l.513.052.544.12.58.126.577.204c.41.114.77.347 1.168.535.357.247.74.482 1.054.8.174.144.323.31.464.483.15.166.29.34.406.53.17.242.31.5.437.76v3.478c-1.095.325-1.897 1.326-1.897 2.525C9.353 21.815 10.538 23 12 23s2.646-1.185 2.646-2.646c0-1.2-.803-2.2-1.896-2.525V14.35c.126-.262.266-.52.437-.76.116-.19.255-.365.406-.53.14-.175.29-.34.464-.483.313-.32.697-.555 1.054-.802.4-.188.76-.42 1.168-.535l.578-.204.58-.128c.186-.04.368-.08.544-.12l.513-.05c.334-.026.613-.078.902-.077.29 0 .54 0 .748.002h.33l-1.074 1.675c-.224.35-.123.813.227 1.036.125.08.265.12.403.12.247 0 .49-.123.633-.347l2.354-3.673-3.574-2.537z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_04_updates_active><title>menu_icon_04_updates_active</title><path fill=currentColor d=\"M19.443 6.94c-.338-.24-.808-.16-1.045.178-.24.338-.16.806.178 1.046L20.08 9.23c-.003 0-.004 0-.007.002l-.745.072c-.288.028-.648.117-1.018.185l-.582.118-.598.192-.628.207-.63.294c-.438.175-.835.48-1.254.737-.382.32-.78.628-1.1 1.02-.176.18-.325.38-.463.59-.116.156-.212.322-.304.49V4.19l1.38 1.31c.302.285.775.274 1.062-.026.285-.3.272-.775-.027-1.06l-3.178-3.02-3.15 3.02c-.3.29-.312.764-.025 1.063.147.153.344.23.542.23.187 0 .374-.068.52-.207l1.376-1.32v8.958c-.093-.168-.19-.335-.304-.49-.138-.21-.287-.41-.463-.59-.32-.392-.718-.7-1.1-1.02-.42-.258-.816-.56-1.253-.736l-.63-.294c-.216-.07-.426-.14-.63-.208l-.6-.193-.58-.118c-.37-.07-.73-.158-1.018-.186l-.745-.072H3.92l1.504-1.068c.338-.24.417-.708.178-1.046-.24-.337-.708-.416-1.046-.178L.982 9.476l2.355 3.674c.143.224.385.346.632.346.138 0 .278-.04.403-.12.35-.223.45-.687.227-1.035l-1.073-1.673h.33l.747-.003c.29 0 .568.05.902.077l.513.052.544.12.58.126.577.204c.41.114.77.347 1.168.535.357.247.74.482 1.054.8.174.144.323.31.464.483.15.166.29.34.406.53.17.242.31.5.437.76v3.478c-1.095.325-1.897 1.326-1.897 2.525C9.353 21.815 10.538 23 12 23s2.646-1.185 2.646-2.646c0-1.2-.803-2.2-1.896-2.525V14.35c.126-.262.266-.52.437-.76.116-.19.255-.365.406-.53.14-.175.29-.34.464-.483.313-.32.697-.555 1.054-.802.4-.188.76-.42 1.168-.535l.578-.204.58-.128c.186-.04.368-.08.544-.12l.513-.05c.334-.026.613-.078.902-.077.29 0 .54 0 .748.002h.33l-1.074 1.675c-.224.35-.123.813.227 1.036.125.08.265.12.403.12.247 0 .49-.123.633-.347l2.354-3.673-3.574-2.537z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_05_reports><title>menu_icon_05_reports</title><path fill=currentColor d=\"M19.6 9h-.2c-.77 0-1.4.63-1.4 1.4V21h3V10.4c0-.77-.63-1.4-1.4-1.4zM14.6 13h-.2c-.77 0-1.4.63-1.4 1.4V21h3v-6.6c0-.77-.63-1.4-1.4-1.4zM9.6 12h-.2c-.773 0-1.4.627-1.4 1.4V21h3v-7.6c0-.77-.63-1.4-1.4-1.4zM4.6 16h-.2c-.77 0-1.4.63-1.4 1.4V21h3v-3.6c0-.77-.63-1.4-1.4-1.4zM20.682 1.962l-4.653.43c-.412.05-.644.394-.593.805.05.41.37.417.786.373l2.724-.22-5.17 6.31-4.354-3.97-6.085 7.74c-.26.32-.21.583.11.844.14.112.307.097.473.097.22 0 .406-.234.554-.417l5.1-6.565 4.456 3.88 5.674-7.384.216 2.876c.044.382.278.625.654.625.028 0 .048 0 .076-.005.412-.047.617-.38.57-.79l-.538-4.628z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_05_reports_active><title>menu_icon_05_reports_active</title><path fill=currentColor d=\"M19.6 9h-.2c-.77 0-1.4.63-1.4 1.4V21h3V10.4c0-.77-.63-1.4-1.4-1.4zM14.6 13h-.2c-.77 0-1.4.63-1.4 1.4V21h3v-6.6c0-.77-.63-1.4-1.4-1.4zM9.6 12h-.2c-.773 0-1.4.627-1.4 1.4V21h3v-7.6c0-.77-.63-1.4-1.4-1.4zM4.6 16h-.2c-.77 0-1.4.63-1.4 1.4V21h3v-3.6c0-.77-.63-1.4-1.4-1.4zM20.682 1.962l-4.653.43c-.412.05-.644.394-.593.805.05.41.37.417.786.373l2.724-.22-5.17 6.31-4.354-3.97-6.085 7.74c-.26.32-.21.583.11.844.14.112.307.097.473.097.22 0 .406-.234.554-.417l5.1-6.565 4.456 3.88 5.674-7.384.216 2.876c.044.382.278.625.654.625.028 0 .048 0 .076-.005.412-.047.617-.38.57-.79l-.538-4.628z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_06_system><title>menu_icon_06_system</title><path fill=currentColor d=\"M21 5h-3V4c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1V7h3V5zM21 17h-3v-1c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h3v-2zM21 11H9v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1H3v2h3v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v-2z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_06_system_active><title>menu_icon_06_system_active</title><path fill=currentColor d=\"M21 5h-3V4c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1V7h3V5zM21 17h-3v-1c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h3v-2zM21 11H9v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1H3v2h3v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v-2z\"></path></symbol><symbol viewBox=\"0 0 9 6\" id=sorting_arrow_down><path fill=#848484 d=\"M9 1.3L7.8 0 4.5 3.3 1.2 0 0 1.3 4.5 6 9 1.3z\"></path></symbol><symbol viewBox=\"0 0 9 6\" id=sorting_arrow_up><path fill=#848484 d=\"M0 4.7L1.2 6l3.3-3.3L7.8 6 9 4.7 4.5 0 0 4.7z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_checkbox><title>ic_checkbox</title><path fill=currentColor d=\"M13 1v12H1V1h12m1-1H0v14h14V0z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_checkbox_active_checked><title>ic_checkbox_active_checked</title><path fill=#aaa d=\"M13 6.2V13H1V1h7.3l1-1H0v14h14V5.2z\"></path><path fill=currentColor d=\"M13.9 1.9L12.3.3c-.1-.1-.3-.1-.4 0L6.6 5.7 5 4.1c-.1-.1-.2-.1-.3 0L3.1 5.7c-.1.1-.1.2 0 .3l1.8 1.8 1.5 1.5.1.1c.1.1.3.1.4 0L14 2.3c0-.1 0-.3-.1-.4z\"></path></symbol><symbol viewBox=\"0 0 22 22\" id=ic_checkbox_focus><title>ic_checkbox_focus</title><path fill=#aaa d=\"M17 5v12H5V5h12m1-1H4v14h14V4z\"></path><path fill=#999 d=\"M22 0h-1v2h1V0zm-2 0h-1v1h1V0zm-2 0h-1v1h1V0zm-2 0h-1v1h1V0zm-2 0h-1v1h1V0zm-2 0h-1v1h1V0zm-2 0H9v1h1V0zM8 0H7v1h1V0zM6 0H5v1h1V0zM4 0H3v1h1V0zM2 0H0v1h2V0zM1 2H0v1h1V2zm0 2H0v1h1V4zm0 2H0v1h1V6zm0 2H0v1h1V8zm0 2H0v1h1v-1zm0 2H0v1h1v-1zm0 2H0v1h1v-1zm0 2H0v1h1v-1zm0 2H0v1h1v-1zm0 2H0v2h1v-2zm2 1H2v1h1v-1zm2 0H4v1h1v-1zm2 0H6v1h1v-1zm2 0H8v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm1 0h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1V9zm0-2h-1v1h1V7zm0-2h-1v1h1V5zm0-2h-1v1h1V3z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_white_checkbox_checked><title>ic_white_checkbox_checked</title><path fill=currentColor d=\"M13 6.2V13H1V1h7.3l1-1H0v14h14V5.2zM13.9 1.9L12.3.3c-.1-.1-.3-.1-.4 0L6.6 5.7 5 4.1c-.1-.1-.2-.1-.3 0L3.1 5.7c-.1.1-.1.2 0 .3l1.8 1.8 1.5 1.5.1.1c.1.1.3.1.4 0L14 2.3c0-.1 0-.3-.1-.4z\"></path></symbol><symbol viewBox=\"0 0 15 12\" id=row_add><title>row_add</title><image xlink:href=data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAMBAMAAABPbPrXAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEUAAADq6urBwcGXl5fq6uqXl5eYmJinp6fNzc2RkZGXl5cAAAB6RFOTAAAACXRSTlMAMJDwV/7z86XO1v0mAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUCNdjYAADIQjFwGipAGEITxYA0yyRhhAB0alAASYgtgQJaBpCVQhPFrQ0gOhMh2oRmwXVwrFSAGqsIpgEAIdYCB5VaqzpAAAAAElFTkSuQmCC width=15 height=12></image></symbol><symbol viewBox=\"0 0 12 12\" id=row_remove><title>row_remove</title><image xlink:href=\"data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMBAMAAACkW0HUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEUAAADBwcHq6uqXl5eRkZEAAACbnsfoAAAABHRSTlMAkDDwLHsahQAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAA2SURBVAjXY2BUYGBgEmAQMWJgUHZkUHZWYDIxYgBiIAso4gzkAOVNQBwYBRGEKoFqgGqHGAYAWFsIPcEA8KsAAAAASUVORK5CYII=\" width=12 height=12></image></symbol><symbol viewBox=\"0 0 11 9\" id=menu_selected><title>row_remove</title><path fill=currentColor fill-rule=evenodd d=\"M0.093,4.987 L1.276,3.809 C1.276,3.809 1.613,3.442 2.036,3.809 C2.461,4.174 3.354,5.117 3.354,5.117 C3.354,5.117 3.601,5.604 4.053,5.153 C4.510,4.707 8.967,0.134 8.967,0.134 C8.967,0.134 9.350,-0.173 9.656,0.134 C9.963,0.441 10.778,1.263 10.778,1.263 C10.778,1.263 11.236,1.673 10.778,2.128 C10.322,2.592 4.120,8.787 4.120,8.787 C4.120,8.787 3.746,9.290 3.283,8.855 C2.825,8.420 0.171,5.727 0.171,5.727 C0.171,5.727 -0.201,5.435 0.093,4.987 \"></path></symbol><symbol viewBox=\"0 0 6 9\" id=calendar_left_arrow><title>calendar_left_arrow</title><path id=svgstore69778e61700659ea257e1b92ef79a088_ fill=#848484 fill-rule=evenodd d=\"M4.66 0L6 1.2 2.717 4.5 6 7.8 4.66 9 0 4.5z\"></path></symbol><symbol viewBox=\"0 0 11 9\" id=calendar_left_dbl_arrow><title>calendar_left_dbl_arrow</title><path id=svgstore90c485afa42bb6ab98dbbefd061f108e_ fill=#848484 fill-rule=evenodd d=\"M9.66 0L11 1.2 7.717 4.5 11 7.8 9.66 9 5 4.5zm-5 0L6 1.2 2.717 4.5 6 7.8 4.66 9 0 4.5z\"></path></symbol><symbol viewBox=\"0 0 6 9\" id=calendar_right_arrow><title>calendar_right_arrow</title><path id=svgstorec98b7069d150058486a41377fd128cfe_ fill=#848484 fill-rule=evenodd d=\"M1.34 9L0 7.8l3.283-3.3L0 1.2 1.34 0 6 4.5z\"></path></symbol><symbol viewBox=\"0 0 11 9\" id=calendar_right_dbl_arrow><title>calendar_right_dbl_arrow</title><path id=svgstore28d1490a4f1df8a7e24fd960e06c26b9_ fill=#848484 fill-rule=evenodd d=\"M1.34 9L0 7.8l3.283-3.3L0 1.2 1.34 0 6 4.5zm5 0L5 7.8l3.283-3.3L5 1.2 6.34 0 11 4.5z\"></path></symbol></svg></dlcui-svg-icon-set>");
  $templateCache.put("ngclarity/directives/output/icon/higWyseIcons.template.html",
    "<dlcui-svg-icon-set><svg xmlns=http://www.w3.org/2000/svg><defs><style>.cls-1 {\n" +
    "        fill: currentColor;\n" +
    "        fill-rule: evenodd;\n" +
    "      }</style><linearGradient id=svgstored8612d5f4569fe7fa8461e3a41bd32f2a gradientUnits=userSpaceOnUse x1=7 y1=14 x2=7><stop offset=0 stop-color=#FB4119></stop><stop offset=1 stop-color=#FF6210></stop></linearGradient><linearGradient id=svgstore7362f49d72a88226000d0f9b3624bdeca gradientUnits=userSpaceOnUse x1=7 y1=14 x2=7><stop offset=0 stop-color=#88BD11></stop><stop offset=1 stop-color=#BAD721></stop></linearGradient><linearGradient id=svgstorea25ad21dab16724f0104e5025b4db3c6a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#8BC53F></stop><stop offset=1 stop-color=#95D047></stop></linearGradient><linearGradient id=svgstore399b0c11ecae9ae47e5bfb6aabdcf805a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#E97100></stop><stop offset=1 stop-color=#f70></stop></linearGradient><linearGradient id=svgstore5545d618ec741a40f2d5ffda3d601cfba gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#DC5034></stop><stop offset=1 stop-color=#E7593C></stop></linearGradient><linearGradient id=svgstore319eab1207327ea47a5bedfba504cdb4a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#848484></stop><stop offset=1 stop-color=currentColor></stop></linearGradient><linearGradient id=svgstorea25ad21dab16724f0104e5025b4db3c6a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#8BC53F></stop><stop offset=1 stop-color=#95D047></stop></linearGradient><linearGradient id=svgstore7e446d253b83a241f75c1e3eac689df1a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#DC5034></stop><stop offset=1 stop-color=#E7593C></stop></linearGradient><linearGradient id=svgstore92453a884c32748858e98d3d84707899a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#006FAB></stop><stop offset=1 stop-color=#0085C3></stop></linearGradient><linearGradient id=svgstoreea8dc9bbb888a8bc7bb849bdbfae6c86a gradientUnits=userSpaceOnUse x1=4 y1=8 x2=4><stop offset=0 stop-color=#848484></stop><stop offset=1 stop-color=currentColor></stop></linearGradient><style>.cls-1 {\n" +
    "        fill: #007db8;\n" +
    "        filter: url(#color-overlay-1);\n" +
    "        fill-rule: evenodd;\n" +
    "      }</style><filter id=svgstore279d2392ed7c6958f722e619644c75b0color-overlay-1 filterUnits=userSpaceOnUse><feFlood flood-color=currentColor></feFlood><feComposite operator=in in2=SourceGraphic></feComposite><feBlend in2=SourceGraphic result=solidFill></feBlend></filter></defs><symbol viewBox=\"0 0 16 16\" id=ic_A_01_refresh_device_list><title>ic_A_01_refresh_device_list</title><path fill=currentColor d=\"M14 8c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6c1.4 0 2.7.5 3.7 1.3L10 5h5V0l-1.8 1.8C11.7.7 10 0 8 0 3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8h-2z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_A_02_add_device><title>ic_A_02_add_device</title><path fill=currentColor d=\"M14 6H8V0H6v6H0v2h6v6h2V8h6z\"></path></symbol><symbol viewBox=\"0 0 16 12\" id=ic_A_03_export_device_list><title>ic_A_03_export_device_list</title><g fill=currentColor><path d=\"M0 12v-.2.2zM13 2.5L10 0v3S.2 2.5 0 11.8C.1 10.8 1 7 10 7v3l3-2.5L16 5l-3-2.5z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_A_04_device_detail><title>ic_A_04_device_detail</title><path fill=currentColor d=\"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 13H7V7h2v6zm0-8H7V3h2v2z\"></path></symbol><symbol viewBox=\"0 0 22 16\" id=ic_B_01_refresh_device_info><title>ic_B_01_refresh_device_info</title><g fill=currentColor><path d=\"M5 3c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v3h-2.5l3.5 4 3.5-4H19V3c0-1.7-1.3-3-3-3H6C4.3 0 3 1.3 3 3v1h2V3zM17 13c0 .6-.4 1-1 1H6c-.6 0-1-.4-1-1v-3h2.5L4 6 .5 10H3v3c0 1.7 1.3 3 3 3h10c1.7 0 3-1.3 3-3v-1h-2v1z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_B_02_update_device><title>ic_B_02_update_device</title><g fill=currentColor><path d=\"M13 6l-2.5-3L8 0 5.5 3 3 6h3v5h4V6zM14 10v3c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1v-3H0v3c0 1.7 1.3 3 3 3h10c1.7 0 3-1.3 3-3v-3h-2z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_B_03_reboot><title>ic_B_03_reboot</title><g fill=currentColor><path d=\"M7 0h2v6H7zM5.606 4.176L4.192 5.59 1.646 3.045 3.06 1.63zM10 7h6v2h-6zM0 7h6v2H0zM11.808 5.59l-1.414-1.414L12.94 1.63l1.414 1.415zM7 10h2v6H7zM10.424 11.824l1.415-1.415 2.544 2.545-1.414 1.414zM4.16 10.41l1.416 1.413L3.03 14.37l-1.414-1.415z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_B_04_shutdown><title>ic_B_04_shutdown</title><g fill=currentColor><path d=\"M7 0h2v8H7zM11 .6v2.2c1.8 1 3 3 3 5.2 0 3.3-2.7 6-6 6s-6-2.7-6-6c0-2.2 1.2-4.1 3-5.2V.6C2.1 1.8 0 4.6 0 8c0 4.4 3.6 8 8 8s8-3.6 8-8c0-3.4-2.1-6.2-5-7.4z\"></path></g></symbol><symbol viewBox=\"0 0 20 14\" id=ic_B_05_remote_shadow><title>ic_B_05_remote_shadow</title><g fill=currentColor><path d=\"M10 14C4.7 14 .5 7.8.4 7.6L0 7l.4-.6C.5 6.2 4.7 0 10 0s9.5 6.2 9.6 6.4l.4.6-.4.6c-.1.2-4.3 6.4-9.6 6.4zM2.4 7c1.1 1.4 4.1 5 7.6 5s6.5-3.6 7.6-5c-1.1-1.4-4.1-5-7.6-5S3.5 5.6 2.4 7zM10 10c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z\"></path></g></symbol><symbol viewBox=\"0 0 18 14\" id=ic_B_06_send_message><title>ic_B_06_send_message</title><path fill=currentColor d=\"M16 0H2C.9 0 0 .9 0 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-.1 2L9 7.4 2.1 2h13.8zM2 12V4.5l7 5.4 7-5.4V12H2z\"></path></symbol><symbol viewBox=\"0 0 18 4\" id=ic_B_07_more><title>ic_B_07_more</title><g fill=currentColor><circle cx=9 cy=2 r=2></circle><circle cx=2 cy=2 r=2></circle><circle cx=16 cy=2 r=2></circle></g></symbol><symbol viewBox=\"0 0 24 12\" id=ic_C_01_distribute><title>ic_C_01_distribute</title><path fill=currentColor d=\"M19.5.4l-1.6 1.2L20.6 5H2V2H0v8h2V7h18.6l-2.7 3.4 1.6 1.2L24 6z\"></path></symbol><symbol viewBox=\"0 0 24 12\" id=ic_C_02_disable_distribute><title>ic_C_02_disable_distribute</title><g fill=currentColor><path d=\"M12.8 2.8L11 4.6 9.2 2.8 7.8 4.2 9.6 6 7.8 7.8l1.4 1.4L11 7.4l1.8 1.8 1.4-1.4L12.4 6l1.8-1.8zM19.5.4l-1.6 1.2L20.6 5H15v2h5.6l-2.7 3.4 1.6 1.2L24 6zM6 5H2V2H0v8h2V7h5V5z\"></path></g></symbol><symbol viewBox=\"0 0 24 12\" id=ic_C_03_view_script><title>ic_C_03_view_script</title><g fill=currentColor><path d=\"M4.5 11.6L0 6 4.5.4l1.6 1.2L2.6 6l3.5 4.4zM19.5.4L24 6l-4.5 5.6-1.6-1.2L21.4 6l-3.5-4.4z\"></path><circle cx=12 cy=6.2 r=3></circle></g></symbol><symbol viewBox=\"0 0 13 16\" id=ic_C_04_delete><title>ic_C_04_delete</title><g fill=currentColor><path d=\"M11.9 1H8V0H5v1H1.1C.7 1 0 1.4 0 2v1h13V2c0-.6-.7-1-1.1-1zM10 4v10H9V4H7v10H6V4H4v10H3V4H1v11c0 .7.3 1 1.2 1h8.6c.9 0 1.2-.3 1.2-1V4h-2z\"></path></g></symbol><symbol viewBox=\"0 0 19 16\" id=ic_D_01_history><title>ic_D_01_history</title><g fill=currentColor><path d=\"M10 4v4.5l3.1 3 .9-.9-2.7-2.7V4zM6.8 12.2c2.3 2.3 6.1 2.3 8.4 0s2.3-6.1 0-8.5-6.1-2.3-8.4 0c-1 1-1.5 2.2-1.7 3.5h2.4L4 10.8.5 7.3h2.7c.1-1.8.8-3.6 2.2-5 3.1-3.1 8.1-3.1 11.2 0s3.1 8.2 0 11.3-8.1 3.1-11.2 0l1.4-1.4z\"></path></g></symbol><symbol viewBox=\"0 0 16 16\" id=ic_D_02_edit_config><title>ic_D_02_edit_config</title><path fill=currentColor d=\"M15.7 3.7L13.4 6c-.3.3-.7.3-.9 0L10 3.6c-.3-.3-.3-.7 0-.9L12.3.4V.3c-1.6-.6-3.4-.3-4.5.9-1.4 1.3-1.6 3.4-.7 5.2L.2 12.7c-.3.3-.3.9 0 1.2l1.9 1.9c.3.3.8.3 1.2 0l6.2-6.9c1.8.9 3.9.8 5.2-.6 1.3-1.2 1.6-2.9 1-4.6z\"></path></symbol><symbol viewBox=\"0 0 16 16\" id=ic_D_03_movetoerror><title>ic_D_03_movetoerror</title><path fill=currentColor d=\"M11.3 0H4.7L0 4.7v6.6L4.7 16h6.6l4.7-4.7V4.7L11.3 0zM14 10.5L10.5 14h-5L2 10.5V10h5v3l3-2.5L13 8l-3-2.5L7 3v3H2v-.5L5.5 2h5L14 5.5v5z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_USB><title>ic_USB</title><circle fill=#00447C cx=15 cy=19 r=3></circle><path fill=#00447C d=\"M30 11h6v6h-6zM24 3l-4 6h8zM23 9h2v31h-2z\"></path><circle fill=#00447C cx=24 cy=40 r=4></circle><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 fill=none d=\"M33 13v9l-9 5M15 21v5l9 5\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_add><title>ic_add</title><path fill=currentColor d=\"M14 6H8V0H6v6H0v2h6v6h2V8h6z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_alerts><title>ic_alerts</title><path fill=currentColor d=\"M2 4h4v4H2zM2 16h4v4H2zM2 10h4v4H2zM8 4h14v4H8zM8 16h14v4H8zM8 10h14v4H8z\"></path></symbol><symbol viewBox=\"0 0 16 18\" id=ic_app><title>ic_app</title><path fill=currentColor d=\"M15.4 4.1c-.1 0-.3-.1-.4-.1L8.6.2C8.4.1 8.2 0 7.9 0s-.4.1-.6.2l-6.7 4c-.4.2-.6.6-.6 1v7.1c0 .5.2.9.6 1.1l6.7 4.4c.2.1.4.2.6.2H8c.2 0 .4-.1.6-.2l6.7-4.4c.4-.2.6-.6.6-1.1V5.2c.1-.4-.1-.8-.5-1.1zM7.9 1.8l5.7 3.4L8 8.3 2.3 5.1l5.6-3.3zM1.7 12.1V6.3l5.7 3.1v6.5l-5.7-3.8zm6.9 3.7V9.3l5.7-3.1V12l-5.7 3.8z\"></path></symbol><symbol viewBox=\"0 0 10 16\" id=ic_arrowback><title>ic_arrowback</title><path fill=currentColor d=\"M2 10l6 6 2-2-6-6 6-6-2-2-6 6-2 2z\"></path></symbol><symbol viewBox=\"0 0 10 16\" id=ic_arrownext><title>ic_arrownext</title><path fill=currentColor d=\"M8 6L2 0 0 2l6 6-6 6 2 2 6-6 2-2z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_camera><title>ic_camera</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M7 17v-2c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v2\" fill=none></path><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M7 19v17c0 1.1.9 2 2 2h30c1.1 0 2-.9 2-2V19c0-1.1-.9-2-2-2H7v2z\" fill=none></path><path fill=#fff stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M17 17l2.462-4.5 1.23-1.5h8.616l1.23 1.5L33 17z\"></path><circle stroke=#00447C stroke-width=2 stroke-miterlimit=10 cx=25 cy=27.5 r=7 fill=none></circle></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_Citrix><title>ic_connections_Citrix</title><path class=st0 d=\"M24 43C13.5 43 5 34.5 5 24S13.5 5 24 5s19 8.5 19 19-8.5 19-19 19zm0-36.7c-9.8 0-17.7 8-17.7 17.7 0 9.8 8 17.7 17.7 17.7 9.8 0 17.7-8 17.7-17.7 0-9.8-7.9-17.7-17.7-17.7zm0 33c-8.5 0-15.3-6.9-15.3-15.3S15.5 8.7 24 8.7 39.3 15.5 39.3 24 32.4 39.3 24 39.3zm-6.3-18.8c-.5.4-.9.8-1.4 1.2 1.6 2 1.6 2.9 0 4.8.5.4.9.8 1.4 1.2 2.4-1.9 2.4-5.5 0-7.2zm2.8-2.4c-.5.4-.9.8-1.4 1.2 1.5 1.3 2.4 2.8 2.4 4.7 0 2-.9 3.5-2.4 4.8.5.4 1 .8 1.4 1.2 4.2-3.1 3.9-9.1 0-11.9zm3.1-2.2c-.1-.1-.2-.1-.3-.1-.5.4-.9.7-1.4 1.1 2.3 1.9 3.6 4.2 3.6 7.1s-1.4 5.2-3.6 7.1c.4.4.9.7 1.2 1 .2.2.3.1.5 0 3-2.6 4.4-5.7 3.8-9.7-.2-2.6-1.7-4.8-3.8-6.5zm2.7-2.5c-.5.4-.9.8-1.4 1.2 3 2.5 4.8 5.6 4.8 9.5s-1.8 7-4.8 9.5l1.5 1.2c7.5-5.9 6.9-16.3-.1-21.4z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_connections_Custom><title>ic_connections_Custom</title><path class=st4 d=\"M7 10H3c-.5 0-1 .4-1 1v10c0 .5.5 1 1 1h10c.6 0 1-.5 1-1V10l3-3M17 14h4c.5 0 1-.4 1-1V3c0-.5-.5-1-1-1H11c-.6 0-1 .5-1 1v11l-3 3M6 13v5h5M18 11V6h-5\" fill=none stroke=#919190 stroke-width=1.8 stroke-miterlimit=10></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_Ericom><title>ic_connections_Ericom</title><path class=st0 d=\"M10.7 29s-2-1.8-2-4.8c-.1-3 1.8-4.7 1.8-4.7l3-3 7.6 7.5-7.7 7.8-2.7-2.8zm12.8 12.4c2.4 1.9 5 1.6 5 1.6 2.8-.6 4.3-2.6 4.3-2.6 5.2-4.4 5.9-7.3 5.9-7.3.6-3.6-1.1-5.3-1.1-5.3-3.2 1.6-5.9 1.4-5.9 1.4-3.4.2-6.5-1.9-6.5-1.9l-8 8 6.3 6.1zm14.8-28.1c-.1-.2-1.4-1.8-1.4-1.8 0-.1-5.3-5.2-5.3-5.2-.4-.2-1.3-.8-1.3-.8-2.3-1.1-4.7 0-4.7 0-1.2.6-3.3 2.2-3.3 2.2l-4.9 5.1 8 7.7c.4-.3.9-.5 1.4-.7 1.4-.6 2.5-.7 2.9-.7.7-.1 1.3-.1 1.3-.1h1.6c3.2.3 5.1 1.7 5.1 1.7.7-.9 1.5-3.1 1.5-3.1.6-2.4-.8-4.1-.9-4.3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_Imprivata><title>ic_connections_Imprivata</title><path class=st0 d=\"M8.8 43v-9.4h11.4v5.7h7.6v-5.7h11.4V43H8.8zm29.6-11.7H27.6v-4h10.8v4zm-10.8-8.9h10.8v4H27.6v-4zm-7.5 8.9H9.3v-4h10.8v4zM9.3 22.4h10.8v4H9.3v-4zm18.5-5.8h-7.6v3.8H8.8v-7.6h30.4v7.6H27.8v-3.8zM20 5h7.6v5.8H20V5z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_RDP><title>ic_connections_RDP</title><path class=st0 d=\"M24 43C13.5 43 5 34.5 5 24S13.5 5 24 5s19 8.5 19 19-8.5 19-19 19zm0-35.2C15.1 7.8 7.8 15.1 7.8 24S15.1 40.2 24 40.2 40.2 32.9 40.2 24 32.9 7.8 24 7.8zm6.5 20.6L23.1 21l2.1-2.1 5.3-5.3 2.1 2.1-5.3 5.3 5.3 5.3-2.1 2.1zM22 29.5l-5.3 5.3-2.1-2.1 5.3-5.3-5.3-5.3 2.1-2.1 7.4 7.4-2.1 2.1z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_SSH><title>ic_connections_SSH</title><path class=st0 d=\"M41.7 39.2H6.3c-.7 0-1.3-.6-1.3-1.3V10c0-.7.6-1.3 1.3-1.3h35.5c.7 0 1.3.6 1.3 1.3v27.9c-.1.7-.7 1.3-1.4 1.3zM41.5 14h-35v23.7h35V14zm-17.9 9.7L17 26.6v-1.9l4.6-1.8-4.6-1.8v-1.8l6.6 2.9v1.5zm7.7 6.7h-7.7v-1.2h7.7v1.2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_connections_VMware><title>ic_connections_VMware</title><path class=st0 d=\"M39.2 31.6H39c.3.7.4 1.5.4 2.3 0 3.4-2.8 6.2-6.3 6.2H17.4V40c-3.8-.4-6.7-3.5-6.7-7.3 0-.4.1-.7.1-1.1h-2c-2.1 0-3.8-1.7-3.8-3.9v-16c0-2.1 1.7-3.9 3.8-3.9h30.4c2.1 0 3.8 1.7 3.8 3.9v16c0 2.2-1.7 3.9-3.8 3.9zm1.9-19.8c0-1.1-.9-1.9-1.9-1.9H8.8c-1 0-1.9.9-1.9 1.9v16c0 1.1.9 1.9 1.9 1.9h2.5c1.2-2.6 3.8-4.4 6.8-4.4.8 0 1.6.2 2.4.4 0-.6.2-1.1.4-1.7h-2.2v-4.3h4.2v1.5c1.1-.8 2.4-1.4 3.9-1.4 1.8 0 3.4.7 4.6 1.9v-2h4.2V24h-2.8c.2.6.4 1.3.4 2 0 .5-.1 1.1-.2 1.6h.2c1.8 0 3.5.8 4.7 2h1.4c1 0 1.9-.9 1.9-1.9V11.8zm-9.7 1.5h4.2v4.3h-4.2v-4.3zm-6.3 0h4.2v4.3h-4.2v-4.3zm-6.4 0h4.2v4.3h-4.2v-4.3zm-6.3 6.5h4.2v4.3h-4.2v-4.3zm0-6.5h4.2v4.3h-4.2v-4.3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=\"ic_connections_VNC Viewer\"><title>ic_connections_VNC Viewer</title><path class=st0 d=\"M35.6 37H43v2h-8.1c-5.9 0-5.5-6.8-5.5-6.8 0-7.4 5.8-6.8 5.8-6.8H43v1.9h-7.3c-3 0-3 4.8-3 4.8.2 3.7 2.9 4.9 2.9 4.9zm5.5-21.9c-1.9-3.3-4.7-3.3-4.7-3.3-3.3.2-4.8 3.1-4.8 3.1v8.6h-1.9v-9.3c1.9-6.4 6.6-6 6.6-6 6.6 0 6.6 6.3 6.6 6.3v9H41v-8.4zM17 40s-1.8-.2-2.4-2.1L5 8h5.1l7 22.6L23.9 8H29l-9.9 30.8c.1 0-.4 1-2.1 1.2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_back_arrowback><title>ic_container_back_arrowback</title><path class=st1 d=\"M18.1 13.4H9.7l2.7 2.7c.2.2.2.5 0 .7l-1 1c-.2.2-.5.2-.7 0l-5.6-5.5c-.2-.2-.2-.5 0-.7l5.6-5.5c.2-.2.5-.2.7 0l1 1c.2.2.2.5 0 .7l-2.7 2.7h8.4c.4 0 .9.5.9.9v1.3c0 .2-.4.7-.9.7z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_clear_field><title>ic_container_clear_field</title><path class=st1 d=\"M17.7 16.2L13.4 12l4.3-4.2-1.5-1.5-4.2 4.3-4.2-4.3-1.5 1.5 4.3 4.2-4.3 4.2 1.5 1.5 4.2-4.3 4.2 4.3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_search><title>ic_container_search</title><path class=st1 d=\"M19.2 17.6l-3.4-3.4c.6-.9.9-2 .9-3.2 0-3.3-2.7-6-6-6s-6 2.7-6 6 2.7 6 6 6c1.4 0 2.7-.5 3.8-1.3l3.3 3.3 1.4-1.4zm-8.4-2.3c-2.3 0-4.2-1.9-4.2-4.2s1.9-4.2 4.2-4.2S15 8.7 15 11s-1.9 4.3-4.2 4.3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_switch_admin><title>ic_container_switch_admin</title><path class=st0 d=\"M16.3 7c2.6 0 4.7 2.1 4.7 4.7v.5c0 2.6-2.1 4.7-4.7 4.7H7.7c-2.6.1-4.7-2-4.7-4.6v-.5C3 9.1 5.1 7 7.7 7h8.6m0-1H7.7C4.6 6 2 8.6 2 11.7v.5C2 15.4 4.6 18 7.7 18h8.5c3.2 0 5.7-2.6 5.7-5.7v-.5C22 8.6 19.4 6 16.3 6z\" opacity=0.55 fill=currentColor enable-background=new></path><circle class=st1 cx=16 cy=11.9 r=3.3 fill=currentColor></circle></symbol><symbol viewBox=\"0 0 24 24\" id=ic_container_switch_user><title>ic_container_switch_user</title><path class=st0 d=\"M16.3 7c2.6 0 4.7 2.1 4.7 4.7v.5c0 2.6-2.1 4.7-4.7 4.7H7.7c-2.6.1-4.7-2-4.7-4.6v-.5C3 9.1 5.1 7 7.7 7h8.6m0-1H7.7C4.6 6 2 8.6 2 11.7v.5C2 15.4 4.6 18 7.7 18h8.5c3.2 0 5.7-2.6 5.7-5.7v-.5C22 8.6 19.4 6 16.3 6z\" opacity=0.55 fill=currentColor enable-background=new></path><circle class=st1 cx=8 cy=11.9 r=3.3 fill=currentColor></circle></symbol><symbol viewBox=\"0 0 96 24\" id=ic_container_window_controls><title>ic_container_window_controls</title><path class=st1 d=\"M8 16h12v2H8zM52 6H42v12h12V6h-2zm0 10h-8V8h8v8zM88 16.1L83.8 12 88 7.9 86.1 6 82 10.2 77.9 6 76 7.9l4.1 4.1-4.1 4.1 1.9 1.9 4.1-4.1 4.1 4.1 1.9-1.9z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 18 18\" id=ic_critical><title>ic_critical</title><path class=st1 d=\"M12 1H6L1 6v6l5 5h6l5-5V6l-5-5zm1 11l-1 1-3-3-3 3-1-1 3-3-3-3 1-1 3 3 3-3 1 1-3 3 3 3z\" fill=#E7593C></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_connections_blue><title>ic_dashboard_connections_blue</title><path class=st0 d=\"M63.2 17h-26c-3.6 0-5.8 2.2-5.8 5.8v5.8h4.3v-5.8c0-.7.7-1.4 1.4-1.4h26c.7 0 1.4.7 1.4 1.4v26c0 .7-.7 1.4-1.4 1.4h-26c-.7 0-1.4-.7-1.4-1.4V38.7h-4.3v10.1c0 3.6 2.2 5.8 5.8 5.8h26c3.6 0 5.8-2.2 5.8-5.8v-26c0-3.6-2.2-5.8-5.8-5.8zM48.8 31.4h-26c-3.6 0-5.8 2.2-5.8 5.8v26c0 3.6 2.2 5.8 5.8 5.8h26c3.6 0 5.8-2.2 5.8-5.8v-5.8h-4.3v5.8c0 .7-.7 1.4-1.4 1.4h-26c-.7 0-1.4-.7-1.4-1.4v-26c0-.7.7-1.4 1.4-1.4h26c.7 0 1.4.7 1.4 1.4v10.1h4.3V37.2c0-3.6-2.2-5.8-5.8-5.8z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_connections_white><title>ic_dashboard_connections_white</title><path class=st0 d=\"M63.2 17h-26c-3.6 0-5.8 2.2-5.8 5.8v5.8h4.3v-5.8c0-.7.7-1.4 1.4-1.4h26c.7 0 1.4.7 1.4 1.4v26c0 .7-.7 1.4-1.4 1.4h-26c-.7 0-1.4-.7-1.4-1.4V38.7h-4.3v10.1c0 3.6 2.2 5.8 5.8 5.8h26c3.6 0 5.8-2.2 5.8-5.8v-26c0-3.6-2.2-5.8-5.8-5.8zM48.8 31.4h-26c-3.6 0-5.8 2.2-5.8 5.8v26c0 3.6 2.2 5.8 5.8 5.8h26c3.6 0 5.8-2.2 5.8-5.8v-5.8h-4.3v5.8c0 .7-.7 1.4-1.4 1.4h-26c-.7 0-1.4-.7-1.4-1.4v-26c0-.7.7-1.4 1.4-1.4h26c.7 0 1.4.7 1.4 1.4v10.1h4.3V37.2c0-3.6-2.2-5.8-5.8-5.8z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_management_blue><title>ic_dashboard_management_blue</title><path class=st0 d=\"M57 22.6c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6V26H20v5h31v3.4c0 .9.8 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6V31h9v-5h-9v-3.4zM57 51.6c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6V55H20v5h31v3.4c0 .9.8 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6V60h9v-5h-9v-3.4zM29 40.5h-9v5h9v3.4c0 .9.7 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6v-3.4h31v-5H35v-3.4c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6v3.4z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_management_white><title>ic_dashboard_management_white</title><path class=st0 d=\"M57 22.6c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6V26H20v5h31v3.4c0 .9.8 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6V31h9v-5h-9v-3.4zM57 51.6c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6V55H20v5h31v3.4c0 .9.8 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6V60h9v-5h-9v-3.4zM29 40.5h-9v5h9v3.4c0 .9.7 1.6 1.6 1.6h2.8c.9 0 1.6-.7 1.6-1.6v-3.4h31v-5H35v-3.4c0-.9-.7-1.6-1.6-1.6h-2.8c-.9 0-1.6.7-1.6 1.6v3.4z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_network_blue><title>ic_dashboard_network_blue</title><path class=st0 d=\"M43 20c-12.7 0-23 10.3-23 23s10.3 23 23 23 23-10.3 23-23-10.3-23-23-23zm17.2 14.5H52c-.7-4-1.8-7.4-3.2-9.9 4.9 1.7 9 5.4 11.4 9.9zM49.1 43c0 1.7-.1 3.3-.2 4.8H37.2c-.1-1.5-.2-3.1-.2-4.8s.1-3.3.2-4.8h11.6c.2 1.5.3 3.1.3 4.8zM43 62.4c-1.3 0-4-3.8-5.3-10.9h10.7C47 58.6 44.3 62.4 43 62.4zm-5.3-27.9c1.3-7.1 4-10.9 5.3-10.9s4 3.8 5.3 10.9H37.7zm-.5-9.9c-1.4 2.5-2.5 5.9-3.2 9.9h-8.2c2.4-4.5 6.5-8.2 11.4-9.9zM24.3 38.2h9.2c-.1 1.6-.2 3.2-.2 4.8s.1 3.3.2 4.8h-9.2c-.4-1.6-.7-3.2-.7-4.8s.3-3.3.7-4.8zm1.5 13.3H34c.7 4 1.8 7.4 3.2 9.9-4.9-1.7-9-5.4-11.4-9.9zm23 9.9c1.4-2.5 2.5-5.9 3.2-9.9h8.2c-2.4 4.5-6.5 8.2-11.4 9.9zm12.9-13.6h-9.2c.1-1.6.2-3.2.2-4.8s-.1-3.3-.2-4.8h9.2c.4 1.6.7 3.2.7 4.8s-.3 3.3-.7 4.8z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_network_white><title>ic_dashboard_network_white</title><path class=st0 d=\"M43 20c-12.7 0-23 10.3-23 23s10.3 23 23 23 23-10.3 23-23-10.3-23-23-23zm17.2 14.5H52c-.7-4-1.8-7.4-3.2-9.9 4.9 1.7 9 5.4 11.4 9.9zM49.1 43c0 1.7-.1 3.3-.2 4.8H37.2c-.1-1.5-.2-3.1-.2-4.8s.1-3.3.2-4.8h11.6c.2 1.5.3 3.1.3 4.8zM43 62.4c-1.3 0-4-3.8-5.3-10.9h10.7C47 58.6 44.3 62.4 43 62.4zm-5.3-27.9c1.3-7.1 4-10.9 5.3-10.9s4 3.8 5.3 10.9H37.7zm-.5-9.9c-1.4 2.5-2.5 5.9-3.2 9.9h-8.2c2.4-4.5 6.5-8.2 11.4-9.9zM24.3 38.2h9.2c-.1 1.6-.2 3.2-.2 4.8s.1 3.3.2 4.8h-9.2c-.4-1.6-.7-3.2-.7-4.8s.3-3.3.7-4.8zm1.5 13.3H34c.7 4 1.8 7.4 3.2 9.9-4.9-1.7-9-5.4-11.4-9.9zm23 9.9c1.4-2.5 2.5-5.9 3.2-9.9h8.2c-2.4 4.5-6.5 8.2-11.4 9.9zm12.9-13.6h-9.2c.1-1.6.2-3.2.2-4.8s-.1-3.3-.2-4.8h9.2c.4 1.6.7 3.2.7 4.8s-.3 3.3-.7 4.8z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_peripherals_blue><title>ic_dashboard_peripherals_blue</title><path class=st0 d=\"M59.6 35.8c-5.8 0-10.4 4.8-10.4 10.5v10.8c0 5.7 4.7 10.4 10.4 10.4 5.8 0 10.4-4.7 10.4-10.4V46.3c0-5.7-4.7-10.5-10.4-10.5zm6.7 20.7c0 3.7-3 6.7-6.8 6.7s-6.8-3-6.8-6.7v-9.6c0-3.4 2.5-6.3 5.8-6.8v3.6c-.6.3-1 1-1 1.7v2c0 1.1.9 2 2 2s2-.9 2-2v-2c0-.7-.4-1.4-1-1.7v-3.6c3.3.5 5.8 3.4 5.8 6.8v9.6zM23.4 39.4h25.2c-.8 1.2-1.3 2.4-1.7 3.7H23.4v-3.7zM19.7 45V22.6c0-.3.3-.5.6-.5h34.4c.3 0 .6.1.6.5v11.5c1.2-.4 2.4-.6 3.7-.6v-12c0-1.6-1.4-3-3.1-3H19.1c-1.7 0-3.1 1.3-3.1 3v24.8c0 1.6 1.4 3 3.1 3h27.6v-3.7H20.3c-.3-.1-.6-.3-.6-.6zm25.8-15.5h-3.7v-3.7h3.7v3.7zm-6.2-3.6h-3.7v3.7h3.7v-3.7zm2.5 9.8h3.7V32h-3.7v3.7zm6.1 0h3.7V32h-3.7v3.7zm3.7-9.8h-3.7v3.7h3.7v-3.7zm-24.6 0h-3.6v3.7H27v-3.7zm-3.6 9.8H27V32h-3.6v3.7zm12.2 0h3.7V32h-3.7v3.7zm-6.1 0h3.7V32h-3.7v3.7zm3.7-9.8h-3.7v3.7h3.7v-3.7z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_peripherals_white><title>ic_dashboard_peripherals_white</title><path class=st0 d=\"M59.6 35.8c-5.8 0-10.4 4.8-10.4 10.5v10.8c0 5.7 4.7 10.4 10.4 10.4 5.8 0 10.4-4.7 10.4-10.4V46.3c0-5.7-4.7-10.5-10.4-10.5zm6.7 20.7c0 3.7-3 6.7-6.8 6.7s-6.8-3-6.8-6.7v-9.6c0-3.4 2.5-6.3 5.8-6.8v3.6c-.6.3-1 1-1 1.7v2c0 1.1.9 2 2 2s2-.9 2-2v-2c0-.7-.4-1.4-1-1.7v-3.6c3.3.5 5.8 3.4 5.8 6.8v9.6zM23.4 39.4h25.2c-.8 1.2-1.3 2.4-1.7 3.7H23.4v-3.7zM19.7 45V22.6c0-.3.3-.5.6-.5h34.4c.3 0 .6.1.6.5v11.5c1.2-.4 2.4-.6 3.7-.6v-12c0-1.6-1.4-3-3.1-3H19.1c-1.7 0-3.1 1.3-3.1 3v24.8c0 1.6 1.4 3 3.1 3h27.6v-3.7H20.3c-.3-.1-.6-.3-.6-.6zm25.8-15.5h-3.7v-3.7h3.7v3.7zm-6.2-3.6h-3.7v3.7h3.7v-3.7zm2.5 9.8h3.7V32h-3.7v3.7zm6.1 0h3.7V32h-3.7v3.7zm3.7-9.8h-3.7v3.7h3.7v-3.7zm-24.6 0h-3.6v3.7H27v-3.7zm-3.6 9.8H27V32h-3.6v3.7zm12.2 0h3.7V32h-3.7v3.7zm-6.1 0h3.7V32h-3.7v3.7zm3.7-9.8h-3.7v3.7h3.7v-3.7z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_personalization_blue><title>ic_dashboard_personalization_blue</title><path class=st0 d=\"M64.2 34.5h-2.9v3.4H63c.3 0 .6.2.6.5V59c0 .4-.2.6-.6.6H28.6c-.3 0-.4-.2-.4-.6v-2.9h-3.5v4c0 1.6.8 2.8 2.4 2.8h37c1.6 0 2.8-1.3 2.8-2.8V36.8c.1-1.6-1.2-2.3-2.7-2.3zM56.1 23H21.9c-1.6 0-2.9 1.3-2.9 3v25c0 1.6 1.3 2.9 2.9 2.9h34.3c1.6 0 2.9-1.3 2.9-2.9V26c-.1-1.7-1.4-3-3-3zm-6.2 5.1c0 .3-.3.6-.6.6H28.7c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6h20.6c.3 0 .6.3.6.6v1.1zm-24 0c0 .3-.3.6-.6.6H23c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6h2.3c.3 0 .6.3.6.6v1.1zM55.6 50c0 .4-.2.4-.5.4H23c-.3 0-.6-.3-.6-.6V32.1h33.1l.1 17.9zm0-21.9c0 .3-.3.6-.6.6h-2.3c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6H55c.3 0 .6.3.6.6v1.1z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_personalization_white><title>ic_dashboard_personalization_white</title><path class=st0 d=\"M64.2 34.5h-2.9v3.4H63c.3 0 .6.2.6.5V59c0 .4-.2.6-.6.6H28.6c-.3 0-.4-.2-.4-.6v-2.9h-3.5v4c0 1.6.8 2.8 2.4 2.8h37c1.6 0 2.8-1.3 2.8-2.8V36.8c.1-1.6-1.2-2.3-2.7-2.3zM56.1 23H21.9c-1.6 0-2.9 1.3-2.9 3v25c0 1.6 1.3 2.9 2.9 2.9h34.3c1.6 0 2.9-1.3 2.9-2.9V26c-.1-1.7-1.4-3-3-3zm-6.2 5.1c0 .3-.3.6-.6.6H28.7c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6h20.6c.3 0 .6.3.6.6v1.1zm-24 0c0 .3-.3.6-.6.6H23c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6h2.3c.3 0 .6.3.6.6v1.1zM55.6 50c0 .4-.2.4-.5.4H23c-.3 0-.6-.3-.6-.6V32.1h33.1l.1 17.9zm0-21.9c0 .3-.3.6-.6.6h-2.3c-.3 0-.6-.3-.6-.6V27c0-.3.3-.6.6-.6H55c.3 0 .6.3.6.6v1.1z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_security_blue><title>ic_dashboard_security_blue</title><path class=st0 d=\"M28 38.6h30c1.6 0 3 1.3 3 2.9v21c0 1.6-1.3 2.9-3 2.9H28c-1.6 0-3-1.3-3-2.9v-21c0-1.5 1.3-2.9 3-2.9zM56.9 62c.4.1.6-.2.6-.6V42.8c0-.3-.3-.6-.6-.6H29.1c-.3 0-.6.3-.6.6v18.7c0 .3.3.6.6.6l27.8-.1zM43 20.6c-6.6 0-12 5.4-12 12v7.2h3.6v-7.2c0-4.6 3.8-8.4 8.4-8.4s8.4 3.8 8.4 8.4v7.2H55v-7.2c0-6.6-5.4-12-12-12zM46.6 49.4c0-2-1.6-3.6-3.6-3.6s-3.6 1.6-3.6 3.6c0 1.6 1 2.9 2.4 3.4v5c0 .7.5 1.2 1.2 1.2s1.2-.5 1.2-1.2v-5c1.4-.5 2.4-1.8 2.4-3.4z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_security_white><title>ic_dashboard_security_white</title><path class=st0 d=\"M28 38.6h30c1.6 0 3 1.3 3 2.9v21c0 1.6-1.3 2.9-3 2.9H28c-1.6 0-3-1.3-3-2.9v-21c0-1.5 1.3-2.9 3-2.9zM56.9 62c.4.1.6-.2.6-.6V42.8c0-.3-.3-.6-.6-.6H29.1c-.3 0-.6.3-.6.6v18.7c0 .3.3.6.6.6l27.8-.1zM43 20.6c-6.6 0-12 5.4-12 12v7.2h3.6v-7.2c0-4.6 3.8-8.4 8.4-8.4s8.4 3.8 8.4 8.4v7.2H55v-7.2c0-6.6-5.4-12-12-12zM46.6 49.4c0-2-1.6-3.6-3.6-3.6s-3.6 1.6-3.6 3.6c0 1.6 1 2.9 2.4 3.4v5c0 .7.5 1.2 1.2 1.2s1.2-.5 1.2-1.2v-5c1.4-.5 2.4-1.8 2.4-3.4z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_system_blue><title>ic_dashboard_system_blue</title><path class=st0 d=\"M62.4 58H23.6c-3.5 0-5.6-2.1-5.6-5.6V26.6c0-3.5 2.1-5.6 5.6-5.6h38.9c3.5 0 5.6 2.1 5.6 5.6v25.9c-.2 3.4-2.2 5.5-5.7 5.5zm-39-33c-.7 0-1.4.7-1.4 1.4v26.2c0 .7.7 1.4 1.4 1.4h39.2c.7 0 1.4-.7 1.4-1.4V26.4c0-.7-.7-1.4-1.4-1.4H23.4zM58.2 61H27.8c-1.5 0-2.8 1.3-2.8 2.8V65h36v-1.2c0-1.5-1.3-2.8-2.8-2.8z\" fill=#16609E></path></symbol><symbol viewBox=\"0 0 86 86\" id=ic_dashboard_system_white><title>ic_dashboard_system_white</title><path class=st0 d=\"M62.4 58H23.6c-3.5 0-5.6-2.1-5.6-5.6V26.6c0-3.5 2.1-5.6 5.6-5.6h38.9c3.5 0 5.6 2.1 5.6 5.6v25.9c-.2 3.4-2.2 5.5-5.7 5.5zm-39-33c-.7 0-1.4.7-1.4 1.4v26.2c0 .7.7 1.4 1.4 1.4h39.2c.7 0 1.4-.7 1.4-1.4V26.4c0-.7-.7-1.4-1.4-1.4H23.4zM58.2 61H27.8c-1.5 0-2.8 1.3-2.8 2.8V65h36v-1.2c0-1.5-1.3-2.8-2.8-2.8z\" fill=#FFFFFF></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_date><title>ic_date</title><path fill=currentColor d=\"M18 22H6c-2.51 0-4-1.49-4-4V8c0-2.51 1.49-4 4-4V3c0-.552.448-1 1-1s1 .448 1 1v1h8V3c0-.552.448-1 1-1s1 .448 1 1v1c2.51 0 4 1.49 4 4v10c0 2.51-1.49 4-4 4zm2-12c0-1.402-.598-2-2-2H6c-1.402 0-2 .598-2 2v8c0 1.402.598 2 2 2h12c1.402 0 2-.598 2-2v-8zm-6.84 4.494c-.232.548-.43 1.106-.595 1.673-.164.567-.298 1.18-.403 1.833h-1.984c.112-.62.26-1.22.445-1.796.184-.577.398-1.135.64-1.677.243-.54.51-1.068.806-1.58.294-.515.606-1.017.934-1.508H9V10h6v1.015c-.385.643-.73 1.247-1.034 1.81-.305.564-.573 1.12-.806 1.67z\"></path></symbol><symbol viewBox=\"0 0 13 16\" id=ic_delete><title>ic_delete</title><path fill=currentColor d=\"M11.9 1H8V0H5v1H1.1C.7 1 0 1.4 0 2v1h13V2c0-.6-.7-1-1.1-1zM10 4v10H9V4H7v10H6V4H4v10H3V4H1v11c0 .7.3 1 1.2 1h8.6c.9 0 1.2-.3 1.2-1V4h-2z\"></path></symbol><symbol viewBox=\"0 0 9 6\" id=ic_downarrow><title>ic_downarrow</title><path fill=currentColor d=\"M4.5 5.914L.12 1.534 1.536.122 4.5 3.087 7.465.12 8.88 1.536z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_editrename><title>ic_editrename</title><path fill=currentColor d=\"M12 5L9 2 10.4.6c.4-.4 1-.4 1.4 0l1.6 1.6c.4.4.4 1 0 1.4L12 5zM8 3l-8 8v3h3l1-1 7-7-3-3\"></path></symbol><symbol viewBox=\"0 0 14 12\" id=ic_filter><title>ic_filter</title><g fill=currentColor><path d=\"M12.8 2L14 0H0l1.2 2zM10.5 6l1.2-2H2.3l1.2 2zM4.7 8L7 12l2.3-4z\"></path></g></symbol><symbol viewBox=\"0 0 48 48\" id=ic_headset><title>ic_headset</title><path stroke=#00447C stroke-width=3 stroke-miterlimit=10 d=\"M8 22c0-8.837 7.163-16 16-16s16 7.163 16 16\" fill=none></path><path fill=#00447C d=\"M9.32 19C6.386 19 4 22.14 4 26s2.386 7 5.32 7c1.182 0 1.652-1.064 1.68-1.8V20.8c0-1.32-1.004-1.8-1.68-1.8zM38.68 19c2.934 0 5.32 3.14 5.32 7s-2.386 7-5.32 7c-1.182 0-1.652-1.064-1.68-1.8V20.8c0-1.32 1.004-1.8 1.68-1.8z\"></path><ellipse fill=#00447C cx=24 cy=41 rx=4.8 ry=3></ellipse><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M40 27s3 15-16 15\" fill=none></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_help><title>ic_help</title><g><path fill=#272525 d=\"M6 10h2v2H6z\"></path><circle fill=#007DB8 cx=7 cy=7 r=7></circle></g><g fill=#fff><path d=\"M6.1 9c0-1.3.1-1.9 1.3-2.7.6-.4.9-.8.9-1.4 0-1.1-.7-1.3-1.3-1.3-1.2 0-1.3.9-1.4 1.6H3.8C3.8 2.8 5.5 2 6.9 2c.8 0 3.4.2 3.4 2.9 0 1.1-.6 1.7-1.6 2.5-.6.4-.8.6-.8 1.6H6.1zM6 10h2v2H6z\"></path></g></symbol><symbol viewBox=\"0 0 18 16\" id=ic_host><title>ic_host</title><path fill=currentColor d=\"M15.5 13h-13C1.1 13 0 11.9 0 10.5v-8C0 1.1 1.1 0 2.5 0h13C16.9 0 18 1.1 18 2.5v8c0 1.4-1.1 2.5-2.5 2.5zM2.5 2c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h13c.3 0 .5-.2.5-.5v-8c0-.3-.2-.5-.5-.5h-13zM14 14H4c-.6 0-1 .5-1 1.1v.9h12v-.9c0-.6-.5-1.1-1-1.1z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_keyboard><title>ic_keyboard</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M43 36H5c-1.1 0-2-.9-2-2V17c0-1.1.9-2 2-2h38c1.1 0 2 .9 2 2v17c0 1.1-.9 2-2 2z\" fill=none></path><path fill=#00447C d=\"M6 19h3v3H6zM11 19h3v3h-3zM16 19h3v3h-3zM21 19h3v3h-3zM26 19h3v3h-3zM31 19h3v3h-3zM34 24h3v3h-3zM39 29h3v3h-3zM6 24h6v3H6zM6 29h3v3H6zM11 29h26v3H11zM14 24h3v3h-3zM19 24h3v3h-3zM24 24h3v3h-3zM29 24h3v3h-3zM39 20.125h3v6.75h-3zM36 19h6v3h-6z\"></path></symbol><symbol viewBox=\"0 0 34 34\" id=ic_logo><title>ic_logo</title><path fill=currentColor d=\"M5.04 5.037 17 0c9.387 0 17 7.61 17 17 0 9.386-7.612 17-17 17-9.387 0-17-7.614-17-17C0 7.61 7.613 0 17 0m11.962 5.037M17 1.837c-4.186 0-7.976 1.697-10.72 4.44C3.534 9.023 1.837 12.813 1.837 17c0 4.185 1.697 7.975 4.44 10.72 2.746 2.743 6.536 4.44 10.722 4.44s7.976-1.697 10.72-4.44c2.745-2.745 4.443-6.535 4.443-10.72 0-4.187-1.697-7.977-4.442-10.722-2.744-2.744-6.534-4.44-10.72-4.44\"></path><path fill=currentColor d=\"M27.42 18.384h2.54v2.14h-5.094v-7.315h2.554v5.174zm-8.327-.403l-4.197 3.303-3.838-3.017c-.553 1.33-1.886 2.255-3.43 2.255h-3.28v-7.31h3.28c1.723 0 2.962 1.09 3.428 2.258l3.84-3.018 1.423 1.12-3.518 2.764.674.53 3.517-2.766 1.423 1.118L14.9 17.98l.674.53 3.52-2.764v-2.538h2.552v5.173h2.54v2.142h-5.092v-2.54zM8.957 16.866c0-.995-.656-1.556-1.585-1.556h-.57v3.11h.555c.862 0 1.6-.47 1.6-1.555z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_administration><title>ic_menu_administration</title><g fill=currentColor><path d=\"M21 5h-3V4c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1V7h3V5zM21 17h-3v-1c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h3v-2zM21 11H9v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1H3v2h3v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v-2z\"></path></g></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_close><title>ic_menu_close</title><g fill=currentColor><path d=\"M10.274 7.564l1.22.87L8.95 12l2.545 3.564-1.22.872L7.104 12zM15.274 7.564l1.22.87L13.95 12l2.545 3.564-1.22.872L12.104 12z\"></path></g></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_dashboard><title>ic_menu_dashboard</title><g fill=currentColor><path d=\"M6 7H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 21H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 14H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1z\"></path></g></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_easysetup><title>ic_menu_easysetup</title><path fill=currentColor d=\"M21.673 6.657c-.005-.016-.062-.04-.118 0L18.69 9.544c-.33.32-.863.32-1.185-.005l-2.98-3.008c-.32-.334-.32-.865.007-1.187 0 0 2.808-2.77 2.854-2.837.046-.068.046-.136.006-.147-2.03-.717-4.23-.37-5.703 1.092-1.676 1.656-1.896 4.278-.785 6.522l-8.6 7.827c-.407.407-.407 1.07 0 1.476l2.413 2.418c.406.407 1.06.407 1.472 0l7.8-8.59c2.24 1.164 4.873.983 6.56-.695 1.49-1.476 1.77-3.717 1.123-5.753zM6 19c-.552 0-1-.448-1-1s.448-1 1-1 1 .448 1 1-.448 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_monitoring><title>ic_menu_monitoring</title><path fill=currentColor d=\"M6 22H3v-4.8c0-.66.54-1.2 1.2-1.2h.6c.66 0 1.2.54 1.2 1.2V22zM11 22H8v-8.8c0-.66.54-1.2 1.2-1.2h.6c.66 0 1.2.54 1.2 1.2V22zM16 22h-3v-6.8c0-.66.54-1.2 1.2-1.2h.6c.66 0 1.2.54 1.2 1.2V22zM21 22h-3V11.2c0-.66.54-1.2 1.2-1.2h.6c.66 0 1.2.54 1.2 1.2V22zM4 13.75c-.18 0-.363-.065-.507-.197-.305-.28-.326-.754-.046-1.06L9.38 6.02l4.432 2.953 4.578-6.408c.24-.337.71-.416 1.046-.175.337.24.415.71.174 1.046l-5.422 7.592-4.57-3.048-5.065 5.526c-.148.162-.35.244-.553.244zM20 7.75c-.383 0-.71-.29-.747-.68l-.372-3.92-3.765.59c-.412.067-.793-.215-.857-.624-.064-.41.216-.793.625-.857l4.553-.714c.206-.033.413.02.576.15.164.125.267.314.287.52l.446 4.713c.04.41-.264.777-.676.816-.023.003-.047.004-.07.004z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_open><title>ic_menu_open</title><g fill=currentColor><path d=\"M13.826 16.436l-1.22-.87L15.15 12l-2.545-3.564 1.22-.872L16.996 12zM8.826 16.436l-1.22-.87L10.15 12 7.606 8.436l1.22-.872L11.996 12z\"></path></g></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_reports><title>ic_menu_reports</title><path fill=currentColor d=\"M19 22H3V2h16c1.103 0 2 .897 2 2v16c0 1.103-.897 2-2 2zm0-2v1-1zM5 20h14V4H5v16zM7 6h10v3H7zM7 11h10v2H7zM7 15h10v2H7zM5 7H2V5h3c.55 0 1 .45 1 1s-.45 1-1 1zM5 11H2V9h3c.55 0 1 .45 1 1s-.45 1-1 1zM5 15H2v-2h3c.55 0 1 .45 1 1s-.45 1-1 1zM5 19H2v-2h3c.55 0 1 .45 1 1s-.45 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_menu_resources><title>ic_menu_resources</title><path fill=currentColor d=\"M20 20H4c-1.103 0-2-.897-2-2V7c0-1.654 1.346-3 3-3h5c1.274 0 2.67 1.71 3.54 3H20c1.103 0 2 .897 2 2v9c0 1.103-.897 2-2 2zM4 9v9h16V9h-7c-.343 0-.66-.175-.845-.464-.77-1.21-1.83-2.424-2.224-2.543L5 6c-.552 0-1 .45-1 1v2z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_microphone><title>ic_microphone</title><path fill=#00447C d=\"M24 27c-2.2 0-4-1.8-4-4V12c0-2.2 1.8-4 4-4s4 1.8 4 4v11c0 2.2-1.8 4-4 4z\"></path><path stroke=#00447C stroke-width=2.25 stroke-miterlimit=10 d=\"M32.5 21v2.2c0 4.86-3.806 8.8-8.5 8.8s-8.5-3.94-8.5-8.8V21\" fill=none></path><path fill=#00447C d=\"M22 32h4v10h-4zM17 40h14v2H17z\"></path></symbol><symbol viewBox=\"0 0 18 4\" id=ic_more><title>ic_more</title><g fill=currentColor><circle cx=9 cy=2 r=2></circle><circle cx=2 cy=2 r=2></circle><circle cx=16 cy=2 r=2></circle></g></symbol><symbol viewBox=\"0 0 48 48\" id=ic_mouse><title>ic_mouse</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M25 39.5h-2c-4.4 0-8-3.6-8-8v-14c0-4.4 3.6-8 8-8h2c4.4 0 8 3.6 8 8v14c0 4.4-3.6 8-8 8z\" fill=none></path><path fill=#00447C d=\"M24 25.5c-.55 0-1-.45-1-1v-15c0-.55.45-1 1-1s1 .45 1 1v15c0 .55-.45 1-1 1zM24 21.5c-1.1 0-2-.9-2-2v-2c0-1.1.9-2 2-2s2 .9 2 2v2c0 1.1-.9 2-2 2z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_Dropdown_arrow><title>ic_pagecontrol_Dropdown_arrow</title><path class=st0 d=\"M12 14.9l-4.4-4.4L9 9.1l3 3 3-3 1.4 1.4z\" fill=currentColor888></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_add><title>ic_pagecontrol_add</title><path class=st0 d=\"M3.5 1.5h17c1.1 0 2 .9 2 2v17c0 1.1-.9 2-2 2h-17c-1.1 0-2-.9-2-2v-17c0-1.1.9-2 2-2z\" fill=#F4F4F4></path><path class=st1 d=\"M20.5 23h-17C2.1 23 1 21.9 1 20.5v-17C1 2.1 2.1 1 3.5 1h17C21.9 1 23 2.1 23 3.5v17c0 1.4-1.1 2.5-2.5 2.5zM3.5 2C2.7 2 2 2.7 2 3.5v17c0 .8.7 1.5 1.5 1.5h17c.8 0 1.5-.7 1.5-1.5v-17c0-.8-.7-1.5-1.5-1.5h-17z\" fill=#AAAAAA></path><path class=st2 d=\"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_back><title>ic_pagecontrol_back</title><path class=st0 d=\"M20.5 11h-13l4-4-2-1-6 6 6 6 2-1-4-4h13v-2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_delete><title>ic_pagecontrol_delete</title><path class=st0 d=\"M17.9 16.5L13.4 12l4.5-4.5-1.4-1.4-4.5 4.5-4.5-4.5-1.4 1.4 4.5 4.5-4.5 4.5 1.4 1.4 4.5-4.5 4.5 4.5 1.4-1.4z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_edit><title>ic_pagecontrol_edit</title><path class=st0 d=\"M18.6 8.4l-1.4 1.4-3-3 1.4-1.4c.4-.4 1-.4 1.4 0L18.6 7c.4.4.4 1 0 1.4zm-9.5 9.5l-1 1h-3v-3l8.1-8.1 3 3-7.1 7.1z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_export><title>ic_pagecontrol_export</title><path class=st0 d=\"M4 18v-.2.2zM17 8.5L14 6v3s-9.8-.5-10 8.8c.1-1 1-4.8 10-4.8v3l3-2.5 3-2.5-3-2.5z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_forward><title>ic_pagecontrol_forward</title><path class=st0 d=\"M3.5 11h13l-4-4 2-1 6 6-6 6-2-1 4-4h-13v-2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_import><title>ic_pagecontrol_import</title><path class=st0 d=\"M6 4h.2H6zM15.5 17l2.5-3h-3s.5-9.8-8.8-10c1 .1 4.8 1 4.8 10H8l2.5 3 2.5 3 2.5-3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_incremental><title>ic_pagecontrol_incremental</title><path class=st0 d=\"M12 8l-3 3-1-1 3-3 1-1 1 1 3 3-1 1-3-3zm0 8l3-3 1 1-3 3-1 1-1-1-3-3 1-1 3 3z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_remove><title>ic_pagecontrol_remove</title><path class=st0 d=\"M3.5 1.5h17c1.1 0 2 .9 2 2v17c0 1.1-.9 2-2 2h-17c-1.1 0-2-.9-2-2v-17c0-1.1.9-2 2-2z\" fill=#F4F4F4></path><path class=st1 d=\"M20.5 23h-17C2.1 23 1 21.9 1 20.5v-17C1 2.1 2.1 1 3.5 1h17C21.9 1 23 2.1 23 3.5v17c0 1.4-1.1 2.5-2.5 2.5zM3.5 2C2.7 2 2 2.7 2 3.5v17c0 .8.7 1.5 1.5 1.5h17c.8 0 1.5-.7 1.5-1.5v-17c0-.8-.7-1.5-1.5-1.5h-17z\" fill=#AAAAAA></path><path class=st2 d=\"M19 13v-2H5v2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_reset><title>ic_pagecontrol_reset</title><path class=st0 d=\"M9.1 16.3c2.3 2.4 6 2.4 8.3 0 2.4-2.4 2.3-6.3 0-8.7-2.3-2.5-6-2.4-8.3 0-1 1-1.5 2.3-1.7 3.6h2.4l-3.4 3.6-3.5-3.5h2.7c.2-1.8.9-3.7 2.3-5 3-3.2 8-3.2 11.1 0 3 3.2 3 8.4 0 11.6-3 3.2-8 3.2-11.1 0l1.2-1.6z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_settings><title>ic_pagecontrol_settings</title><path class=st0 d=\"M13.5 21h-3l-.9-2.5-.6-.2-2.3 1.2-2.1-2.1L5.7 15l-.3-.7-2.4-.8v-3l2.5-.9.2-.6-1.1-2.3 2.1-2.1L9 5.7l.7-.3.8-2.4h3l.9 2.5.6.2 2.3-1.2 2.1 2.1L18.3 9l.3.7 2.5.8v3l-2.5.9-.3.6 1.2 2.3-2.1 2.1-2.4-1.1-.7.3-.8 2.4zm-1.9-1.5h.8l.7-2.1 1.9-.8 2 .9.6-.6-1-2 .8-1.9 2.1-.7v-.8l-2.1-.7-.8-1.8.9-2-.5-.6-2 1-1.9-.8-.7-2.1h-.8l-.7 2.1-1.9.8-2-1-.6.6 1 2-.8 1.9-2.1.7v.8l2.1.7.8 1.9-.9 2 .5.6 2-1 1.9.8.7 2.1zm.4-4.1c-1.9 0-3.4-1.5-3.4-3.4s1.5-3.4 3.4-3.4 3.4 1.5 3.4 3.4-1.5 3.4-3.4 3.4zm0-5.3c-1 0-1.9.8-1.9 1.9 0 1 .8 1.9 1.9 1.9s1.9-.8 1.9-1.9c0-1-.9-1.9-1.9-1.9z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_vol_high><title>ic_pagecontrol_vol_high</title><path class=st0 d=\"M14.2 16.6V15l.9-.6c1.3-1.3 1.3-3.3 0-4.5-.3-.3-.6-.5-.9-.6V7.4c.7.2 1.4.6 2 1.2 1.9 1.9 1.9 4.9 0 6.7-.6.6-1.3 1-2 1.3zm-12-1V8.4c0-.6.5-1.1 1.1-1.1h1.6v9.4H3.3c-.6 0-1.1-.5-1.1-1.1zm12 5.2V19c1.4-.3 2.7-.9 3.7-2 2.8-2.8 2.8-7.4 0-10.2-1.1-1.1-2.4-1.7-3.7-2V3.2c1.8.3 3.5 1.1 4.9 2.5 3.5 3.5 3.5 9.1 0 12.6-1.3 1.4-3.1 2.2-4.9 2.5zm-3-.1l-4.5-3.4V6.8l4.5-3.5c.8-.6 1.5-.3 1.5.7v16c0 1-.7 1.3-1.5.7z\" fill-rule=evenodd clip-rule=evenodd fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_vol_low><title>ic_pagecontrol_vol_low</title><path class=st0 d=\"M16.3 16.6V15l.9-.6c1.3-1.3 1.3-3.3 0-4.5-.3-.3-.6-.5-.9-.6V7.4c.7.2 1.4.6 2 1.2 1.9 1.9 1.9 4.9 0 6.7-.6.6-1.3 1-2 1.3zM4.3 15.6V8.4c0-.6.5-1.1 1.1-1.1H7v9.4H5.4c-.6 0-1.1-.5-1.1-1.1zM13.3 20.7l-4.5-3.4V6.8l4.5-3.5c.8-.6 1.5-.3 1.5.7v16c0 1-.7 1.3-1.5.7z\" fill-rule=evenodd clip-rule=evenodd fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_vol_mute><title>ic_pagecontrol_vol_mute</title><path class=st0 d=\"M2.5 18.2v-3.3L6.2 13V8.4c0-.6.5-1.1 1.1-1.1h1.6v4.3l1.9-.9V6.8l4.5-3.5c.7-.6 1.3-.3 1.3.7v3.7l4.8-2.4v3.3L2.5 18.2zm12.7 2.5l-4.5-3.4v-1l5.9-3V20c0 1-.6 1.3-1.4.7z\" fill-rule=evenodd clip-rule=evenodd fill=currentColor></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_pagecontrol_warning><title>ic_pagecontrol_warning</title><path class=st0 d=\"M21 20H3c-1 0-1.5-1.7-.8-2.7l9-12.9c.2-.3.5-.4.8-.4.3 0 .6.2.8.5l9 12.9c.7.9.2 2.6-.8 2.6zM12 6.7L4 18.1h16L12 6.7zm.9 10h-1.7V15h1.7v1.7zm-1.7-2.9l-.1-3.1c0-.5.4-1 .9-1s1 .4.9.9l-.1 3.1h-1.6z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_printer><title>ic_printer</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M11 38H5c-1.1 0-2-.9-2-2V24c0-1.1.9-2 2-2h38c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2h-6\" fill=none></path><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 fill=none d=\"M11 33h26v10H11z\"></path><path fill=#00447C d=\"M6 15h5v6H6zM37 15h5v6h-5z\"></path><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 fill=none d=\"M11 7h26v15H11zM15 36h18M15 40h18\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_removered><title>ic_removered</title><circle fill=url(#svgstored8612d5f4569fe7fa8461e3a41bd32f2a) cx=7 cy=7 r=7></circle><path fill=#fff d=\"M10.6 9.3L8.4 7l2.3-2.2c.5-.5.5-1.1.1-1.5-.4-.4-1-.3-1.4.1L7 5.6 4.7 3.4c-.4-.5-1.1-.5-1.5-.2-.4.4-.3 1 .1 1.4L5.6 7 3.4 9.2c-.5.5-.5 1.1-.1 1.5.4.4 1 .3 1.4-.1L7 8.4l2.2 2.3c.5.5 1.1.5 1.5.1.4-.4.4-1.1-.1-1.5z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_scanner><title>ic_scanner</title><path fill=#00447C d=\"M38.905 26L6.6 13.545c-.514-.198-.772-.78-.574-1.293l.72-1.866c.197-.513.78-.77 1.292-.573l32.96 12.706L39 22l-.095 4z\"></path><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M5 27H3v9c0 1.1.9 2 2 2h38c1.1 0 2-.9 2-2V25s0-3-3-3h-3v5H5z\" fill=none></path></symbol><symbol viewBox=\"0 0 15 14\" id=ic_search><title>ic_search</title><path fill=currentColor d=\"M14.5 12.6l-3.4-3.4c.6-.9.9-2 .9-3.2 0-3.3-2.7-6-6-6S0 2.7 0 6s2.7 6 6 6c1.4 0 2.7-.5 3.8-1.3l3.3 3.3 1.4-1.4zM6 10.3c-2.3 0-4.3-1.9-4.3-4.3s2-4.2 4.3-4.2 4.3 1.9 4.3 4.3-2 4.2-4.3 4.2z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_security_Accounts><title>ic_security_Accounts</title><circle class=st0 cx=24 cy=16.1 r=7.1 fill=currentColor></circle><path class=st0 d=\"M36.4 33.7c0 3.4-.1 5.3-12.4 5.3-12.4 0-12.4-1.9-12.4-5.3s5.5-8.8 12.4-8.8 12.4 5.4 12.4 8.8z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_security_Certificate><title>ic_security_Certificate</title><g id=svgstore761ed8791beadf2db9b9525d7be9d99cA5857t_1_><path class=st0 d=\"M43 10v21.6s-.1 0-.1.1c-.6 1.9-1.6 2.6-3.5 2.6H19.2v6.3l-4-4-3.9 3.9v-6.2H8.4c-2 0-3.4-1.3-3.4-3.4V10.7c0-1.5.9-2.8 2.3-3.2.2 0 .3-.1.5-.1h32.6c.1 0 .2.1.3.1.9.3 1.6.8 2.1 1.7 0 .3.1.6.2.8zM19.2 32.7h20.3c1.2 0 1.8-.6 1.8-1.8V10.8c0-1.3-.6-1.9-1.8-1.9H8.2c-1 0-1.7.6-1.7 1.6v20.6c0 .9.7 1.6 1.6 1.6H11.3V30c0-.4-.1-.7-.3-1-1.5-1.8-1.7-4.4-.4-6.4 1.2-2 3.6-3 5.8-2.5 4.1.9 5.7 5.8 3.1 9-.1.1-.2.3-.2.5-.1 1.1-.1 2.1-.1 3.1zm-3.9-11.1c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-3.9c0-2.3-1.8-4.1-4-4.1zm-2.4 9v6.1l.1.1c.7-.8 1.5-1.5 2.3-2.4.7.8 1.5 1.5 2.2 2.4v-6.2c-1.4.7-3 .7-4.6 0zM38.2 15.3v1.5H9.8v-1.5h28.4zM38.2 20.1v1.5H24v-1.5h14.2zM38.2 24.8v1.5h-9.4v-1.5h9.4z\" fill=currentColor></path></g></symbol><symbol viewBox=\"0 0 48 48\" id=ic_security_SSH><title>ic_security_SSH</title><path class=st0 d=\"M41.7 39.2H6.3c-.7 0-1.3-.6-1.3-1.3V10c0-.7.6-1.3 1.3-1.3h35.5c.7 0 1.3.6 1.3 1.3v27.9c-.1.7-.7 1.3-1.4 1.3zM41.5 14h-35v23.7h35V14zm-17.9 9.7L17 26.6v-1.9l4.6-1.8-4.6-1.8v-1.8l6.6 2.9v1.5zm7.7 6.7h-7.7v-1.2h7.7v1.2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_security_VNC><title>ic_security_VNC</title><path class=st0 d=\"M35.6 37H43v2h-8.1c-5.9 0-5.5-6.8-5.5-6.8 0-7.4 5.8-6.8 5.8-6.8H43v1.9h-7.3c-3 0-3 4.8-3 4.8.2 3.7 2.9 4.9 2.9 4.9zm5.5-21.9c-1.9-3.3-4.7-3.3-4.7-3.3-3.3.2-4.8 3.1-4.8 3.1v8.6h-1.9v-9.3c1.9-6.4 6.6-6 6.6-6 6.6 0 6.6 6.3 6.6 6.3v9H41v-8.4zM17 40s-1.8-.2-2.4-2.1L5 8h5.1l7 22.6L23.9 8H29l-9.9 30.8c.1 0-.4 1-2.1 1.2z\" fill=currentColor></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_selectgreen><title>ic_selectgreen</title><circle fill=url(#svgstore7362f49d72a88226000d0f9b3624bdeca) cx=7 cy=7 r=7></circle><path fill=#fff d=\"M12 4c-.4-.4-1-.4-1.4 0L6 8.6 3.4 6c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l3.3 3.3c.2.2.5.3.7.3.3 0 .5-.1.7-.3L12 5.4c.4-.3.4-1 0-1.4z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_unselect><title>ic_unselect</title><circle stroke=currentColor fill=#FFFFFF stroke-width=1 cx=7 cy=7 r=6></circle></symbol><symbol viewBox=\"0 0 16 12\" id=ic_share><title>ic_share</title><g fill=currentColor><path d=\"M0 12v-.2.2zM13 2.5L10 0v3S.2 2.5 0 11.8C.1 10.8 1 7 10 7v3l3-2.5L16 5l-3-2.5z\"></path></g></symbol><symbol viewBox=\"0 0 48 48\" id=ic_speaker><title>ic_speaker</title><path fill=#00447C d=\"M25.804 16.654c-.487-.474-1.278-.474-1.765 0-.488.473-.488 1.24 0 1.713 1.602 1.558 2.4 3.587 2.402 5.628 0 2.045-.797 4.078-2.403 5.638-.488.474-.488 1.24 0 1.714.243.237.563.355.88.355.32 0 .64-.118.884-.355 2.09-2.028 3.135-4.697 3.134-7.352.002-2.655-1.05-5.318-3.134-7.34zM30.68 12.816c-.486-.473-1.276-.473-1.765 0-.487.473-.487 1.24 0 1.715 2.692 2.615 4.04 6.028 4.04 9.45 0 3.44-1.34 6.87-4.04 9.49-.487.475-.487 1.242 0 1.715.244.236.564.355.883.355.32 0 .64-.12.883-.355 3.185-3.092 4.773-7.156 4.77-11.204.002-4.04-1.598-8.085-4.77-11.164zM35.846 8.907c-.487-.474-1.277-.474-1.765 0-.487.473-.487 1.24 0 1.713 3.803 3.695 5.706 8.523 5.707 13.363 0 4.853-1.896 9.695-5.706 13.397-.487.473-.487 1.24 0 1.714.244.237.564.355.883.355.32 0 .64-.12.883-.356 4.295-4.17 6.44-9.648 6.438-15.11.002-5.455-2.153-10.917-6.438-15.077z\"></path><path fill=#007DB8 d=\"M10 20h1v8h-1z\"></path><path fill=#00447C stroke=#00447C stroke-linecap=round stroke-linejoin=round stroke-miterlimit=10 d=\"M13.5 20.222v7.556l7 4.722v-17z\"></path><path fill=#00447C d=\"M10 28H9c-.55 0-1-.45-1-1v-6c0-.55.45-1 1-1h1c.55 0 1 .45 1 1v6c0 .55-.45 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_devices_healthy><title>ic_status_devices_healthy</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstorea25ad21dab16724f0104e5025b4db3c6a) d=\"M4 0c2.21 0 4 1.79 4 4S6.21 8 4 8 0 6.21 0 4s1.79-4 4-4z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_devices_not_healthy><title>ic_status_devices_not_healthy</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore399b0c11ecae9ae47e5bfb6aabdcf805a) d=\"M.566 6.02C.216 5.425 0 4.74 0 4c0-2.21 1.79-4 4-4 .74 0 1.425.215 2.02.566L.566 6.02zm6.868-4.04C7.784 2.575 8 3.26 8 4c0 2.21-1.79 4-4 4-.74 0-1.425-.215-2.02-.566L7.434 1.98z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_devices_offline><title>ic_status_devices_offline</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore5545d618ec741a40f2d5ffda3d601cfba) d=\"M4 0C1.79 0 0 1.79 0 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_devices_sleeping><title>ic_status_devices_sleeping</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore319eab1207327ea47a5bedfba504cdb4a) d=\"M4 0C1.79 0 0 1.79 0 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm1 6c0 .552-.448 1-1 1s-1-.448-1-1V2c0-.552.448-1 1-1s1 .448 1 1v4z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_updates_completed><title>ic_status_updates_completed</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstorea25ad21dab16724f0104e5025b4db3c6a) d=\"M4 0c2.21 0 4 1.79 4 4S6.21 8 4 8 0 6.21 0 4s1.79-4 4-4z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_updates_error><title>ic_status_updates_error</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore7e446d253b83a241f75c1e3eac689df1a) d=\"M.566 6.02C.216 5.425 0 4.74 0 4c0-2.21 1.79-4 4-4 .74 0 1.425.215 2.02.566L.566 6.02zm6.868-4.04C7.784 2.575 8 3.26 8 4c0 2.21-1.79 4-4 4-.74 0-1.425-.215-2.02-.566L7.434 1.98z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_updates_progress><title>ic_status_updates_progress</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstore92453a884c32748858e98d3d84707899a) d=\"M4 8C1.79 8 0 6.21 0 4h4V0c2.21 0 4 1.79 4 4S6.21 8 4 8z\"></path></symbol><symbol viewBox=\"0 0 8 8\" id=ic_status_updates_waiting><title>ic_status_updates_waiting</title><path fill-rule=evenodd clip-rule=evenodd fill=url(#svgstoreea8dc9bbb888a8bc7bb849bdbfae6c86a) d=\"M4 0C1.79 0 0 1.79 0 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=ic_time><title>ic_time</title><path fill=currentColor d=\"M19.084 19.07c-1.957 1.954-4.52 2.93-7.086 2.93-2.564 0-5.128-.976-7.085-2.93C1 15.167 1 8.835 4.913 4.93 6.87 2.975 9.433 2 11.998 2c2.565 0 5.13.976 7.086 2.93 3.912 3.904 3.912 10.236 0 14.14zM17.667 6.344C16.153 4.833 14.14 4 11.997 4c-2.14 0-4.153.832-5.667 2.343-3.125 3.12-3.125 8.195 0 11.314C7.844 19.167 9.857 20 11.998 20c2.142 0 4.155-.832 5.67-2.343 3.124-3.12 3.124-8.195 0-11.314zM15.42 16.83L12 13.414l-2.125 2.12c-.71.71-1.095.323-1.42 0-.324-.325-.706-.706.014-1.424l3.53-3.524 4.84 4.83c.325.323.763.893.12 1.534-.708.707-1.212.204-1.536-.12z\"></path></symbol><symbol viewBox=\"0 0 48 48\" id=ic_trackpad><title>ic_trackpad</title><path stroke=#00447C stroke-width=2 stroke-miterlimit=10 d=\"M39 37H9c-1.1 0-2-.9-2-2V16c0-1.1.9-2 2-2h30c1.1 0 2 .9 2 2v19c0 1.1-.9 2-2 2zM6 29h36M24 29v9\" fill=none></path></symbol><symbol viewBox=\"0 0 14 17\" id=ic_user><title>ic_user</title><g fill=currentColor><circle cx=7 cy=4 r=4></circle><path d=\"M14 14c0 1.9 0 3-7 3s-7-1.1-7-3 3.1-5 7-5 7 3.1 7 5z\"></path></g></symbol><symbol viewBox=\"0 0 20 15\" id=ic_usergroup><title>ic_usergroup</title><g fill=currentColor><circle cx=5.5 cy=3.5 r=3.5></circle><path d=\"M11 12.4c0 1.7 0 2.6-5.5 2.6S0 14.1 0 12.4 2.5 8 5.5 8s5.5 2.7 5.5 4.4z\"></path><circle cx=14.5 cy=3.5 r=3.5></circle><path d=\"M14.6 8c-1.1 0-2.1.4-2.9.9 1.3 1.3 2 2.7 2 3.9 0 .9 0 1.6-.3 2.2h1.2c5.3 0 5.4-.9 5.4-2.6 0-1.7-2.4-4.4-5.4-4.4z\"></path></g></symbol><symbol viewBox=\"0 0 14 14\" id=ic_viewlist><title>ic_viewlist</title><g fill=currentColor><path d=\"M0 1h14v3H0zM0 6h14v3H0zM0 11h14v3H0z\"></path></g></symbol><symbol viewBox=\"0 0 14 14\" id=ic_viewthumbnail><title>ic_viewthumbnail</title><g fill=currentColor><path d=\"M0 0h6v6H0zM8 0h6v6H8zM0 8h6v6H0zM8 8h6v6H8z\"></path></g></symbol><symbol viewBox=\"0 0 18 18\" id=ic_warning><title>ic_warning</title><path class=st0 d=\"M9 2L1 16h16L9 2zm1 12c0 .3-.2.5-.5.5h-1c-.3 0-.5-.2-.5-.5v-1c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5v1zm-.5-3h-1L8 7v-.5c0-.3.2-.5.5-.5h1c.3 0 .5.2.5.5V7l-.5 4z\" fill=#F2B01D></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_xclearinlinetext><title>ic_xclearinlinetext</title><circle fill=currentColor cx=7 cy=7 r=7></circle><path stroke=#fff stroke-miterlimit=10 fill=none d=\"M4 4l6 6M10 4l-6 6\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_xclosewindow><title>ic_xclosewindow</title><path fill=currentColor d=\"M14 2l-2-2-5 5-5-5-2 2 5 5-5 5 2 2 5-5 5 5 2-2-5-5z\"></path></symbol><symbol viewBox=\"0 0 12 12\" id=ic_xremovebox><title>ic_xremovebox</title><path stroke=currentColor stroke-width=1.5 stroke-miterlimit=10 fill=none d=\"M2 2l8 8M10 2l-8 8\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_01_dashboard><title>menu_icon_01_dashboard</title><path fill=currentColor d=\"M6 7H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 21H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 14H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_01_dashboard_active><title>menu_icon_01_dashboard_active</title><path fill=currentColor d=\"M6 7H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 7h-2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 21H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 21h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM6 14H4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM13 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1zM20 14h-2c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2c0 .55-.45 1-1 1z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_02_devices><title>menu_icon_02_devices</title><path fill=currentColor d=\"M19.5 18h-15C3.122 18 2 16.88 2 15.5v-10C2 4.122 3.122 3 4.5 3h15C20.88 3 22 4.122 22 5.5v10c0 1.38-1.12 2.5-2.5 2.5zM4.5 5c-.27 0-.5.23-.5.5v10c0 .27.23.5.5.5h15c.27 0 .5-.23.5-.5v-10c0-.27-.23-.5-.5-.5h-15zM17.952 19H6.048C5.472 19 5 19.487 5 20.082V21h14v-.918c0-.595-.472-1.082-1.048-1.082z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_02_devices_active><title>menu_icon_02_devices_active</title><path fill=currentColor d=\"M19.5 18h-15C3.122 18 2 16.88 2 15.5v-10C2 4.122 3.122 3 4.5 3h15C20.88 3 22 4.122 22 5.5v10c0 1.38-1.12 2.5-2.5 2.5zM4.5 5c-.27 0-.5.23-.5.5v10c0 .27.23.5.5.5h15c.27 0 .5-.23.5-.5v-10c0-.27-.23-.5-.5-.5h-15zM17.952 19H6.048C5.472 19 5 19.487 5 20.082V21h14v-.918c0-.595-.472-1.082-1.048-1.082z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_03_applications><title>menu_icon_03_applications</title><path fill=currentColor d=\"M21.57 6.433l-9.14-5.317c-.267-.155-.594-.155-.86 0L2.43 6.433c-.266.154-.43.44-.43.75v10.633c0 .31.164.596.43.75l9.14 5.318c.133.077.28.116.43.116s.297-.04.43-.116l9.14-5.317c.267-.155.43-.44.43-.75V7.182c0-.31-.164-.596-.43-.75zM12 3.193l7.43 4.32L12 11.84 4.57 7.514 12 3.194zM4 8.34l7.5 4.366v8.81L4 17.153V8.34zm8.5 13.176v-8.81L20 8.34v8.814l-7.5 4.362z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_03_applications_active><title>menu_icon_03_applications_active</title><path fill=currentColor d=\"M21.57 6.433l-9.14-5.317c-.267-.155-.594-.155-.86 0L2.43 6.433c-.266.154-.43.44-.43.75v10.633c0 .31.164.596.43.75l9.14 5.318c.133.077.28.116.43.116s.297-.04.43-.116l9.14-5.317c.267-.155.43-.44.43-.75V7.182c0-.31-.164-.596-.43-.75zM12 3.193l7.43 4.32L12 11.84 4.57 7.514 12 3.194zM4 8.34l7.5 4.366v8.81L4 17.153V8.34zm8.5 13.176v-8.81L20 8.34v8.814l-7.5 4.362z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_04_updates><title>menu_icon_04_updates</title><path fill=currentColor d=\"M19.443 6.94c-.338-.24-.808-.16-1.045.178-.24.338-.16.806.178 1.046L20.08 9.23c-.003 0-.004 0-.007.002l-.745.072c-.288.028-.648.117-1.018.185l-.582.118-.598.192-.628.207-.63.294c-.438.175-.835.48-1.254.737-.382.32-.78.628-1.1 1.02-.176.18-.325.38-.463.59-.116.156-.212.322-.304.49V4.19l1.38 1.31c.302.285.775.274 1.062-.026.285-.3.272-.775-.027-1.06l-3.178-3.02-3.15 3.02c-.3.29-.312.764-.025 1.063.147.153.344.23.542.23.187 0 .374-.068.52-.207l1.376-1.32v8.958c-.093-.168-.19-.335-.304-.49-.138-.21-.287-.41-.463-.59-.32-.392-.718-.7-1.1-1.02-.42-.258-.816-.56-1.253-.736l-.63-.294c-.216-.07-.426-.14-.63-.208l-.6-.193-.58-.118c-.37-.07-.73-.158-1.018-.186l-.745-.072H3.92l1.504-1.068c.338-.24.417-.708.178-1.046-.24-.337-.708-.416-1.046-.178L.982 9.476l2.355 3.674c.143.224.385.346.632.346.138 0 .278-.04.403-.12.35-.223.45-.687.227-1.035l-1.073-1.673h.33l.747-.003c.29 0 .568.05.902.077l.513.052.544.12.58.126.577.204c.41.114.77.347 1.168.535.357.247.74.482 1.054.8.174.144.323.31.464.483.15.166.29.34.406.53.17.242.31.5.437.76v3.478c-1.095.325-1.897 1.326-1.897 2.525C9.353 21.815 10.538 23 12 23s2.646-1.185 2.646-2.646c0-1.2-.803-2.2-1.896-2.525V14.35c.126-.262.266-.52.437-.76.116-.19.255-.365.406-.53.14-.175.29-.34.464-.483.313-.32.697-.555 1.054-.802.4-.188.76-.42 1.168-.535l.578-.204.58-.128c.186-.04.368-.08.544-.12l.513-.05c.334-.026.613-.078.902-.077.29 0 .54 0 .748.002h.33l-1.074 1.675c-.224.35-.123.813.227 1.036.125.08.265.12.403.12.247 0 .49-.123.633-.347l2.354-3.673-3.574-2.537z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_04_updates_active><title>menu_icon_04_updates_active</title><path fill=currentColor d=\"M19.443 6.94c-.338-.24-.808-.16-1.045.178-.24.338-.16.806.178 1.046L20.08 9.23c-.003 0-.004 0-.007.002l-.745.072c-.288.028-.648.117-1.018.185l-.582.118-.598.192-.628.207-.63.294c-.438.175-.835.48-1.254.737-.382.32-.78.628-1.1 1.02-.176.18-.325.38-.463.59-.116.156-.212.322-.304.49V4.19l1.38 1.31c.302.285.775.274 1.062-.026.285-.3.272-.775-.027-1.06l-3.178-3.02-3.15 3.02c-.3.29-.312.764-.025 1.063.147.153.344.23.542.23.187 0 .374-.068.52-.207l1.376-1.32v8.958c-.093-.168-.19-.335-.304-.49-.138-.21-.287-.41-.463-.59-.32-.392-.718-.7-1.1-1.02-.42-.258-.816-.56-1.253-.736l-.63-.294c-.216-.07-.426-.14-.63-.208l-.6-.193-.58-.118c-.37-.07-.73-.158-1.018-.186l-.745-.072H3.92l1.504-1.068c.338-.24.417-.708.178-1.046-.24-.337-.708-.416-1.046-.178L.982 9.476l2.355 3.674c.143.224.385.346.632.346.138 0 .278-.04.403-.12.35-.223.45-.687.227-1.035l-1.073-1.673h.33l.747-.003c.29 0 .568.05.902.077l.513.052.544.12.58.126.577.204c.41.114.77.347 1.168.535.357.247.74.482 1.054.8.174.144.323.31.464.483.15.166.29.34.406.53.17.242.31.5.437.76v3.478c-1.095.325-1.897 1.326-1.897 2.525C9.353 21.815 10.538 23 12 23s2.646-1.185 2.646-2.646c0-1.2-.803-2.2-1.896-2.525V14.35c.126-.262.266-.52.437-.76.116-.19.255-.365.406-.53.14-.175.29-.34.464-.483.313-.32.697-.555 1.054-.802.4-.188.76-.42 1.168-.535l.578-.204.58-.128c.186-.04.368-.08.544-.12l.513-.05c.334-.026.613-.078.902-.077.29 0 .54 0 .748.002h.33l-1.074 1.675c-.224.35-.123.813.227 1.036.125.08.265.12.403.12.247 0 .49-.123.633-.347l2.354-3.673-3.574-2.537z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_05_reports><title>menu_icon_05_reports</title><path fill=currentColor d=\"M19.6 9h-.2c-.77 0-1.4.63-1.4 1.4V21h3V10.4c0-.77-.63-1.4-1.4-1.4zM14.6 13h-.2c-.77 0-1.4.63-1.4 1.4V21h3v-6.6c0-.77-.63-1.4-1.4-1.4zM9.6 12h-.2c-.773 0-1.4.627-1.4 1.4V21h3v-7.6c0-.77-.63-1.4-1.4-1.4zM4.6 16h-.2c-.77 0-1.4.63-1.4 1.4V21h3v-3.6c0-.77-.63-1.4-1.4-1.4zM20.682 1.962l-4.653.43c-.412.05-.644.394-.593.805.05.41.37.417.786.373l2.724-.22-5.17 6.31-4.354-3.97-6.085 7.74c-.26.32-.21.583.11.844.14.112.307.097.473.097.22 0 .406-.234.554-.417l5.1-6.565 4.456 3.88 5.674-7.384.216 2.876c.044.382.278.625.654.625.028 0 .048 0 .076-.005.412-.047.617-.38.57-.79l-.538-4.628z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_05_reports_active><title>menu_icon_05_reports_active</title><path fill=currentColor d=\"M19.6 9h-.2c-.77 0-1.4.63-1.4 1.4V21h3V10.4c0-.77-.63-1.4-1.4-1.4zM14.6 13h-.2c-.77 0-1.4.63-1.4 1.4V21h3v-6.6c0-.77-.63-1.4-1.4-1.4zM9.6 12h-.2c-.773 0-1.4.627-1.4 1.4V21h3v-7.6c0-.77-.63-1.4-1.4-1.4zM4.6 16h-.2c-.77 0-1.4.63-1.4 1.4V21h3v-3.6c0-.77-.63-1.4-1.4-1.4zM20.682 1.962l-4.653.43c-.412.05-.644.394-.593.805.05.41.37.417.786.373l2.724-.22-5.17 6.31-4.354-3.97-6.085 7.74c-.26.32-.21.583.11.844.14.112.307.097.473.097.22 0 .406-.234.554-.417l5.1-6.565 4.456 3.88 5.674-7.384.216 2.876c.044.382.278.625.654.625.028 0 .048 0 .076-.005.412-.047.617-.38.57-.79l-.538-4.628z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_06_system><title>menu_icon_06_system</title><path fill=currentColor d=\"M21 5h-3V4c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1V7h3V5zM21 17h-3v-1c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h3v-2zM21 11H9v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1H3v2h3v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v-2z\"></path></symbol><symbol viewBox=\"0 0 24 24\" id=menu_icon_06_system_active><title>menu_icon_06_system_active</title><path fill=currentColor d=\"M21 5h-3V4c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1V7h3V5zM21 17h-3v-1c0-.55-.45-1-1-1h-1c-.55 0-1 .45-1 1v1H3v2h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h3v-2zM21 11H9v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1H3v2h3v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v-2z\"></path></symbol><symbol viewBox=\"0 0 9 6\" id=sorting_arrow_down><path fill=#848484 d=\"M9 1.3L7.8 0 4.5 3.3 1.2 0 0 1.3 4.5 6 9 1.3z\"></path></symbol><symbol viewBox=\"0 0 9 6\" id=sorting_arrow_up><path fill=#848484 d=\"M0 4.7L1.2 6l3.3-3.3L7.8 6 9 4.7 4.5 0 0 4.7z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_checkbox><title>ic_checkbox</title><path fill=currentColor d=\"M13 1v12H1V1h12m1-1H0v14h14V0z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_checkbox_active_checked><title>ic_checkbox_active_checked</title><path fill=#aaa d=\"M13 6.2V13H1V1h7.3l1-1H0v14h14V5.2z\"></path><path fill=currentColor d=\"M13.9 1.9L12.3.3c-.1-.1-.3-.1-.4 0L6.6 5.7 5 4.1c-.1-.1-.2-.1-.3 0L3.1 5.7c-.1.1-.1.2 0 .3l1.8 1.8 1.5 1.5.1.1c.1.1.3.1.4 0L14 2.3c0-.1 0-.3-.1-.4z\"></path></symbol><symbol viewBox=\"0 0 22 22\" id=ic_checkbox_focus><title>ic_checkbox_focus</title><path fill=#aaa d=\"M17 5v12H5V5h12m1-1H4v14h14V4z\"></path><path fill=#999 d=\"M22 0h-1v2h1V0zm-2 0h-1v1h1V0zm-2 0h-1v1h1V0zm-2 0h-1v1h1V0zm-2 0h-1v1h1V0zm-2 0h-1v1h1V0zm-2 0H9v1h1V0zM8 0H7v1h1V0zM6 0H5v1h1V0zM4 0H3v1h1V0zM2 0H0v1h2V0zM1 2H0v1h1V2zm0 2H0v1h1V4zm0 2H0v1h1V6zm0 2H0v1h1V8zm0 2H0v1h1v-1zm0 2H0v1h1v-1zm0 2H0v1h1v-1zm0 2H0v1h1v-1zm0 2H0v1h1v-1zm0 2H0v2h1v-2zm2 1H2v1h1v-1zm2 0H4v1h1v-1zm2 0H6v1h1v-1zm2 0H8v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm2 0h-1v1h1v-1zm1 0h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1v-1zm0-2h-1v1h1V9zm0-2h-1v1h1V7zm0-2h-1v1h1V5zm0-2h-1v1h1V3z\"></path></symbol><symbol viewBox=\"0 0 14 14\" id=ic_white_checkbox_checked><title>ic_white_checkbox_checked</title><path fill=currentColor d=\"M13 6.2V13H1V1h7.3l1-1H0v14h14V5.2zM13.9 1.9L12.3.3c-.1-.1-.3-.1-.4 0L6.6 5.7 5 4.1c-.1-.1-.2-.1-.3 0L3.1 5.7c-.1.1-.1.2 0 .3l1.8 1.8 1.5 1.5.1.1c.1.1.3.1.4 0L14 2.3c0-.1 0-.3-.1-.4z\"></path></symbol><symbol viewBox=\"0 0 15 12\" id=row_add><title>row_add</title><image xlink:href=data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAMBAMAAABPbPrXAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEUAAADq6urBwcGXl5fq6uqXl5eYmJinp6fNzc2RkZGXl5cAAAB6RFOTAAAACXRSTlMAMJDwV/7z86XO1v0mAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAEFJREFUCNdjYAADIQjFwGipAGEITxYA0yyRhhAB0alAASYgtgQJaBpCVQhPFrQ0gOhMh2oRmwXVwrFSAGqsIpgEAIdYCB5VaqzpAAAAAElFTkSuQmCC width=15 height=12></image></symbol><symbol viewBox=\"0 0 12 12\" id=row_remove><title>row_remove</title><image xlink:href=\"data:img/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMBAMAAACkW0HUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEUAAADBwcHq6uqXl5eRkZEAAACbnsfoAAAABHRSTlMAkDDwLHsahQAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAA2SURBVAjXY2BUYGBgEmAQMWJgUHZkUHZWYDIxYgBiIAso4gzkAOVNQBwYBRGEKoFqgGqHGAYAWFsIPcEA8KsAAAAASUVORK5CYII=\" width=12 height=12></image></symbol><symbol viewBox=\"0 0 11 9\" id=menu_selected><title>row_remove</title><path fill=currentColor fill-rule=evenodd d=\"M0.093,4.987 L1.276,3.809 C1.276,3.809 1.613,3.442 2.036,3.809 C2.461,4.174 3.354,5.117 3.354,5.117 C3.354,5.117 3.601,5.604 4.053,5.153 C4.510,4.707 8.967,0.134 8.967,0.134 C8.967,0.134 9.350,-0.173 9.656,0.134 C9.963,0.441 10.778,1.263 10.778,1.263 C10.778,1.263 11.236,1.673 10.778,2.128 C10.322,2.592 4.120,8.787 4.120,8.787 C4.120,8.787 3.746,9.290 3.283,8.855 C2.825,8.420 0.171,5.727 0.171,5.727 C0.171,5.727 -0.201,5.435 0.093,4.987 \"></path></symbol><symbol viewBox=\"0 0 6 9\" id=calendar_left_arrow><title>calendar_left_arrow</title><path id=svgstore69778e61700659ea257e1b92ef79a088_ fill=#848484 fill-rule=evenodd d=\"M4.66 0L6 1.2 2.717 4.5 6 7.8 4.66 9 0 4.5z\"></path></symbol><symbol viewBox=\"0 0 11 9\" id=calendar_left_dbl_arrow><title>calendar_left_dbl_arrow</title><path id=svgstore90c485afa42bb6ab98dbbefd061f108e_ fill=#848484 fill-rule=evenodd d=\"M9.66 0L11 1.2 7.717 4.5 11 7.8 9.66 9 5 4.5zm-5 0L6 1.2 2.717 4.5 6 7.8 4.66 9 0 4.5z\"></path></symbol><symbol viewBox=\"0 0 6 9\" id=calendar_right_arrow><title>calendar_right_arrow</title><path id=svgstorec98b7069d150058486a41377fd128cfe_ fill=#848484 fill-rule=evenodd d=\"M1.34 9L0 7.8l3.283-3.3L0 1.2 1.34 0 6 4.5z\"></path></symbol><symbol viewBox=\"0 0 11 9\" id=calendar_right_dbl_arrow><title>calendar_right_dbl_arrow</title><path id=svgstore28d1490a4f1df8a7e24fd960e06c26b9_ fill=#848484 fill-rule=evenodd d=\"M1.34 9L0 7.8l3.283-3.3L0 1.2 1.34 0 6 4.5zm5 0L5 7.8l3.283-3.3L5 1.2 6.34 0 11 4.5z\"></path></symbol></svg></dlcui-svg-icon-set>");
  $templateCache.put("ngclarity/directives/output/icon/svgIconSet.directive.html",
    "<div class=dlcui-svg-icon-set><dlcui-transclude-replace></dlcui-transclude-replace></div>");
  $templateCache.put("ngclarity/directives/output/label/dlcuiLabel.directive.html",
    "<label class=dlcui-label ng-class=\"{'dlcui-label-truncate': isTruncated(), 'dlcui-disabled': disabled}\" dlcui-tip=\"\" dlcui-tip-type=tooltip dlcui-tip-hide={{tooltipHide}} dlcui-tip-position={{::tooltipPosition}} dlcui-tip-content={{tooltipContent}} ng-mouseenter=onMouseEnter() ng-bind=label></label>");
  $templateCache.put("ngclarity/directives/output/loadingbar/dlcuiLoadingBar.directive.html",
    "<progress max=100 title=\"{{'DLCUI_LOADINGBAR_TEXT' | translate:loadingBar}}\" ng-attr-value={{loadingBar.value}} class=dlcux-loading-bar ng-class=\"loadingBar.dlcuiType ? 'dlcux-loading-bar--' + loadingBar.dlcuiType : ''\"><div class=dlcux-loading-bar__fallback><span class=dlcux-loading-bar__value ng-class=\"loadingBar.dlcuiType ? 'dlcux-loading-bar--' + loadingBar.dlcuiType : ''\" ng-style=\"{'width': loadingBar.value + '%'}\" translate=DLCUI_LOADINGBAR_TEXT translate-values=loadingBar></span></div></progress>");
  $templateCache.put("ngclarity/directives/output/menu/dlcuiMenuItem.directive.html",
    "<div class=dlcui-menu-item ng-transclude></div>");
  $templateCache.put("ngclarity/directives/output/notifications/dlcuiNotificationMessage.html",
    "<div class=dlcui-notification-message ng-class=displayTypeClasses ng-click=closeMessageMain()><div class=dlcui-message-type-icon ng-if=displayTypeIcon><dlcui-icon icon={{displayTypeIconName}} size=18px></dlcui-icon></div><div ng-if=message.url.length class=\"dlcui-message-text dlcui-message-text-url\"><a ng-href={{message.url}} target={{message.target}}>{{message.text}}</a></div><div ng-if=!message.url.length class=dlcui-message-text>{{message.text}}</div><div ng-if=!notificationsCtrl.isHideCloseButton() class=dlcui-message-close ng-click=closeMessage()><dlcui-icon icon=#ic_xclosewindow size=12px></dlcui-icon></div></div>");
  $templateCache.put("ngclarity/directives/output/notifications/dlcuiNotifications.html",
    "<div class=dlcui-notifications ng-class=notificationClass><div class=dlcui-notifications-item ng-repeat=\"message in notificationMessages.messages track by message.id\" ng-class=\"{'dlcui-disable-animation': disableAnimation === 'true'}\"><dlcui-notification-message message=message></dlcui-notification-message></div></div>");
  $templateCache.put("ngclarity/directives/output/progressbar/dlcuiProgressbar.directive.html",
    "<div class=dlcui-progressbar ng-class=\"{'dlcui-animate-indicator': isAnimated()}\"><div class=dlcui-progress-indicator ng-style=getIndicatorStyle()></div><div class=dlcui-progress-label ng-if=\"label && label.length\" ng-bind=label></div></div>");
  $templateCache.put("ngclarity/directives/output/selection/dlcuiSelection.directive.html",
    "<div class=dlcui-selection ng-class=\"{'dlcui-unselected': selectionState !== 'true', 'dlcui-selected': selectionState === 'true', 'dlcui-multiple-selection': selectionType === '2', 'dlcui-single-selection': selectionType !== '2', 'dlcui-disabled': disabled, 'dlcui-hover': hover}\" ng-mousedown=onMouseDown() ng-focus=onFocus() ng-blur=onBlur()><dlcui-icon type=svg size={{getIconSize()}} icon={{getIconName()}}></dlcui-icon></div>");
  $templateCache.put("ngclarity/directives/output/tip/dlcuiTip.directive.html",
    "<div class=dlcui-tip><div ng-include=templateUrl></div></div>");
  $templateCache.put("ngclarity/directives/output/toolbar/dlcuiToolbar.directive.html",
    "<div class=dlcui-toolbar ng-style=toolbarStyles ng-transclude></div>");
  $templateCache.put("ngclarity/directives/output/toolbar/dlcuiToolbarButton.directive.html",
    "<div class=\"dlcui-toolbar-item dlcui-toolbar-button\" ng-class=\"{'dlcui-toolbar-button-link' : !icon, 'dlcui-toolbar-button-icon': icon}\" dlcui-tip=\"\" dlcui-tip-type=tooltip dlcui-tip-hide={{disabled}} dlcui-tip-position=\"bottom center\" dlcui-tip-content={{tooltip}}><a ng-if=!icon class=dlcui-toolbar-url ng-click=onToolbarClick($event)>{{label}} </a><a ng-if=icon class=dlcui-toolbar-url ng-click=onToolbarClick($event)><dlcui-icon icon={{iconName}} type={{iconType}} color={{iconColor}}></dlcui-icon></a></div>");
  $templateCache.put("ngclarity/directives/output/toolbar/dlcuiToolbarCollapsibleGroup.directive.html",
    "<div class=dlcui-toolbar-collapsible-group><dlcui-transclude-replace></dlcui-transclude-replace><dlcui-toolbar-menu-button class=dlcui-collapse-menu-button icon-name=#ic_more actions=actions ng-hide=hideExpansionButton></dlcui-toolbar-menu-button></div>");
  $templateCache.put("ngclarity/directives/output/toolbar/dlcuiToolbarGroup.directive.html",
    "<div class=\"dlcui-toolbar-group dlcui-justify-flex-start\" ng-transclude></div>");
  $templateCache.put("ngclarity/directives/output/toolbar/dlcuiToolbarLabel.directive.html",
    "<div class=\"dlcui-toolbar-item dlcui-toolbar-label\">{{label}}</div>");
  $templateCache.put("ngclarity/directives/output/toolbar/dlcuiToolbarMenuButton.directive.html",
    "<div class=\"dlcui-toolbar-item dlcui-toolbar-button dlcui-toolbar-menu-button dlcui-toolbar-button-icon\"><dlcui-drop-down-button type=flat actions=actions anchor={{anchor}} hide-drop-down-icon=true icon-name={{iconName}} icon-type={{iconType}} icon-size={{iconSize}} icon-color={{iconColor}} label={{label}}></dlcui-drop-down-button></div>");
  $templateCache.put("ngclarity/directives/output/toolbar/dlcuiToolbarSeparator.directive.html",
    "<div class=\"dlcui-toolbar-item dlcui-toolbar-separator\"></div>");
  $templateCache.put("ngclarity/directives/output/tooltip/dlcuiTooltip.directive.html",
    "<div><div ng-include=templateUrl></div></div>");
  $templateCache.put("ngclarity/directives/picker/dlcuiCalendarDate.directive.html",
    "<dlcui-calendar class=dlcui-date-picker-calendar ng-model=model></dlcui-calendar>");
  $templateCache.put("ngclarity/directives/picker/dlcuiCalendarTime.directive.html",
    "<dlcui-time ng-model=model></dlcui-time>");
  $templateCache.put("ngclarity/directives/splashScreen/splashscreen.html",
    "<div class=\"dell-ngclarity-splashscreen-container container\"><div class=row><div class=\"col-md-3 col-md-offset-5 col-xs-2 col-xs-offset-4\"><company-logo></company-logo></div></div><div class=row><div class=\"col-md-6 col-md-offset-4 col-xs-3 col-xs-offset-2\"><h2>{{modelOptions.labels.productTitle}}</h2></div></div><div class=row><div class=\"col-xs-6 col-xs-offset-4\"><span class=copyright-footer ng-bind-html=modelOptions.labels.copyright></span></div></div></div>");
  $templateCache.put("ngclarity/directives/superTable/pagination.html",
    "<nav ng-if=\"pages.length >= 2\"><ul class=pagination><li><a ng-click=selectPage(1)>First</a></li><li><a ng-click=\"selectPage(currentPage - 1)\">&lt;</a></li><li><a><page-select></page-select>of {{numPages}}</a></li><li><a ng-click=\"selectPage(currentPage + 1)\">&gt;</a></li><li><a ng-click=selectPage(numPages)>Last</a></li></ul></nav>");
  $templateCache.put("ngclarity/directives/tabular/applicationCardContainer/dlcuiApplicationCardContainer.directive.html",
    "<div class=dlcui-application-card-container ng-hide=options.hidden ng-style=style><dlcui-drag-and-drop-container ng-if=useSourceAttribute id=\"{{id | dlcuiElementId:'DragAndDrop'}}\" on-selection-changed=\"onSelectionChanged({data: data})\" source=\"source({startIndex:startIndex, pageSize:pageSize, sortBy:sortBy, filter:filter})\" on-sub-view-open=\"onSubViewOpen({data: data})\" options=options></dlcui-drag-and-drop-container><dlcui-drag-and-drop-container ng-if=!useSourceAttribute id=\"{{id | dlcuiElementId:'DragAndDrop'}}\" on-selection-changed=\"onSelectionChanged({data: data})\" on-sub-view-open=\"onSubViewOpen({data: data})\" options=options></dlcui-drag-and-drop-container></div>");
  $templateCache.put("ngclarity/directives/tabular/applicationCardContainer/dlcuiApplicationContainerCard.template.html",
    "<div class=\"dlcui-drag-source-card dlcui-drag-source-icon-card\" tabindex=-1 dlcui-drag-source={{isDragEnabled()}} dlcui-create-drag-image=createDragImage(id) dlcui-drag-data=::card dlcui-on-drag-start=\"onDragStart(id, data)\" dlcui-on-drag-end=onDragEnd() dlcui-lasso-selectable=onLassoSelected(selected) dlcui-lasso-allow-selection=false ng-click=toggleSelection()><div class=dlcui-card-header><dlcui-selection class=dlcui-select-icon selection-type=1 selection-state={{isSelected()}} container-selector=.dlcui-drag-source-icon-card icon-size=12px,10px></dlcui-selection><div class=dlcui-information-icon ng-if=\"::isTooltip() || isSubViewEnabled()\"><dlcui-icon type=svg icon=#ic_A_04_device_detail size=16px dlcui-tip=\"\" dlcui-tip-type=tooltip dlcui-tip-position=\"right middle\" dlcui-tip-content={{::getTooltip(card)}} ng-click=$event.stopPropagation();activateSubView(card);></dlcui-icon></div></div><div class=dlcui-card-contents><dlcui-icon icon={{::card.icon.name}} type={{::card.icon.type}} size=\"{{::card.icon.size || '36px'}}\" color={{::card.icon.color}}></dlcui-icon><div class=dlcui-card-label>{{::card.label}}</div></div></div>");
  $templateCache.put("ngclarity/directives/tabular/applicationCardContainer/dlcuiApplicationContainerCardRemove.template.html",
    "<div class=\"dlcui-drop-target-card dlcui-drop-target-icon-card\" tabindex=-1 dlcui-drag-source=true dlcui-create-drag-image=createDragImage(id) dlcui-drag-data=card dlcui-on-drag-start=\"onDragStart(id, data)\"><dlcui-icon icon={{card.icon.name}} type={{card.icon.type}} size=\"{{card.icon.size || '36px'}}\" color={{card.icon.color}}></dlcui-icon><div class=dlcui-remove-icon ng-click=toggleSelection()><dlcui-icon type=svg icon=#ic_xclosewindow size=12px></dlcui-icon></div></div>");
  $templateCache.put("ngclarity/directives/tabular/cardContainer/dlcuiCardContainer.directive.html",
    "<div class=\"dlcui-card-container ng-cloak\" ng-class=\"{'dlcui-enable-highlights': !options.disableCardDecoration}\" ng-style=getStyle() dlcui-lazy-loading=\"\"><dlcui-disabled-overlay ng-disabled=disabled></dlcui-disabled-overlay><div ng-hide=isEmpty() class=dlcui-card-container-contents dlcui-lazy-loading-scroll={{scrollDirection}}><dlcui-card-item ng-repeat=\"card in getData() track by $index\" card=card></dlcui-card-item></div><div ng-show=\"!isLoadingData() && isEmpty()\" class=dlcui-card-container-empty ng-include=::getEmptyTemplateUrl()></div><dlcui-lazy-loading-footer></dlcui-lazy-loading-footer></div>");
  $templateCache.put("ngclarity/directives/tabular/cardContainer/dlcuiCardContainerEmpty.template.html",
    "<div class=dlcui-no-contents-template><span translate=DLCUI_EMPTY_RESULTS></span></div>");
  $templateCache.put("ngclarity/directives/tabular/cardContainer/dlcuiCardContainerSubView.directive.html",
    "<div class=dlcui-card-sub-view><div class=dlcui-remove-icon ng-click=dismissSubView()><dlcui-icon type=svg icon=#ic_xclosewindow size=12px></dlcui-icon></div><div class=dlcui-card-sub-view-template></div></div>");
  $templateCache.put("ngclarity/directives/tabular/cardContainer/dlcuiCardContainerSubView.template.html",
    "<dlcui-card-container-sub-view class=dlcui-card-container-sub-view card=card fix={{fix}} sub-view-data=subViewData card-container=cardContainerCtrl template-url={{templateUrl}} tether=tetherElement></dlcui-card-container-sub-view>");
  $templateCache.put("ngclarity/directives/tabular/cardContainer/dlcuiCardItem.directive.html",
    "<div class=dlcui-card-item></div>");
  $templateCache.put("ngclarity/directives/tabular/cardContainer/dlcuiCardItemContents.template.html",
    "<div class=dlcui-card-item-contents ng-class=\"{'ng-hide': card && card.hidden}\">{{contents}}</div>");
  $templateCache.put("ngclarity/directives/tabular/cardContainer/dlcuiCardItemEmpty.template.html",
    "<div style=\"height: {{height}}px; width: {{width}}px\"></div>");
  $templateCache.put("ngclarity/directives/tabular/dragAndDropContainer/dlcuiDragAndDropContainer.directive.html",
    "<div class=dlcui-drag-and-drop-container ng-class=\"{'dlcui-drag-and-drop-full': options.target.hidden}\" ng-style=getStyle()><div class=dlcui-drag-and-drop-left><dlcui-drag-source-container id=\"{{id | dlcuiElementId:'Source'}}\" on-selection-changed=\"onSourceSelectionChanged(length, data)\" on-sub-view-open=onSourceSubViewOpen(data) source=\"loadSourceData(startIndex, pageSize, sortBy, filter)\" options=options.source></dlcui-drag-source-container></div><div class=dlcui-drag-and-drop-right ng-if=!options.target.hidden><dlcui-drop-target-container id=\"{{id | dlcuiElementId:'Target'}}\" on-selection-changed=onTargetSelectionChanged(data) options=options.target></dlcui-drop-target-container></div></div>");
  $templateCache.put("ngclarity/directives/tabular/dragSourceContainer/dlcuiDragSourceContainer.directive.html",
    "<div class=dlcui-drag-source-container ng-hide=options.hidden ng-style=getStyle()><div class=dlcui-component-header><dlcui-toolbar justify=space-between align=center><dlcui-toolbar-group justify=flex-start><dlcui-toolbar-label label={{getHeaderLabel()}}></dlcui-toolbar-label><dlcui-toolbar-separator ng-if=\"::options.selectAllVisible || options.clearAllVisible\"></dlcui-toolbar-separator><dlcui-toolbar-button ng-if=::options.selectAllVisible label={{::options.selectAllLabel}} ng-disabled=!data.length ng-click=selectAll()></dlcui-toolbar-button><dlcui-toolbar-button ng-if=::options.clearAllVisible label={{::options.clearAllLabel}} ng-click=clearAll() ng-disabled=!isItemsSelected()></dlcui-toolbar-button></dlcui-toolbar-group><dlcui-toolbar-group justify=flex-end><dlcui-toolbar-button icon_name=#ic_add ng-disabled=\"loadingNextBlock || reachedEnd\" ng-click=addMore()></dlcui-toolbar-button><dlcui-toolbar-button icon-name=#ic_filter icon-type=svg ng-click=filter()></dlcui-toolbar-button><dlcui-toolbar-button icon-name=#ic_search icon-type=svg ng-click=search()></dlcui-toolbar-button></dlcui-toolbar-group></dlcui-toolbar></div><div class=dlcui-component-contents dlcui-drop-target=true dlcui-on-drop=\"onDrop(sourceId, targetId, data)\" dlcui-drag-allow-selector=.dlcui-drop-target-card><dlcui-card-container id=\"{{id | dlcuiElementId:'CardContainer'}}\" source=\"loadData(startIndex, pageSize, sortBy, filter)\" options=options on-sub-view-open=\"onSubViewOpen({data: data})\" on-selection-changed=\"onInnerSelectionChanged(length, data)\" dlcui-lasso=true></dlcui-card-container></div></div>");
  $templateCache.put("ngclarity/directives/tabular/dropTargetContainer/dlcuiDropTargetContainer.directive.html",
    "<div class=dlcui-drop-target-container ng-hide=options.hidden ng-style=getStyle()><div class=dlcui-component-header><dlcui-toolbar justify=flex-start><dlcui-toolbar-label label={{getHeaderLabel()}}></dlcui-toolbar-label><dlcui-toolbar-separator></dlcui-toolbar-separator><dlcui-toolbar-button label={{::options.clearAllLabel}} ng-click=clearAll() ng-disabled=!totalLoaded></dlcui-toolbar-button></dlcui-toolbar></div><div class=dlcui-component-contents><div ng-if=!totalLoaded class=dlcui-component-contents-empty dlcui-drop-target=true dlcui-on-drop=\"onDrop(options.defaultGroupId, sourceId, targetId, data)\" dlcui-drag-allow-selector=.dlcui-drag-source-card ng-include=::options.emptyTemplateUrl></div><div ng-if=\"totalLoaded > 0\" class=dlcui-component-contents-inner ng-repeat=\"group in options.groups track by group.id\" ng-class=\"{'dlcui-group-selected': options.defaultGroupId === group.id}\" ng-click=setSelectedGroup(group.id) dlcui-drop-target=true dlcui-on-drop=\"onDrop(group.id, sourceId, targetId, data)\" dlcui-drag-allow-selector=.dlcui-drag-source-card,.dlcui-drop-target-card><div class=\"dlcui-label dlcui-component-contents-inner-label\">{{group.label}}</div><dlcui-card-container id=\"{{id | dlcuiElementId:group.id:'CardContainer'}}\" on-selection-changed=onCardContainerSelectionChanged() options=cardContainerOptions[group.id]></dlcui-card-container></div></div></div>");
  $templateCache.put("ngclarity/directives/tabular/dropTargetContainer/dlcuiDropTargetContainerEmpty.template.html",
    "<div class=dlcui-no-contents-template><span translate=DLCUI_SELECT_ITEMS_OR_DRAG></span></div>");
  $templateCache.put("ngclarity/directives/tabular/gridCardContainer/dlcuiGridCardContainer.directive.html",
    "<div class=dlcui-grid-card-container ng-hide=options.hidden ng-style=style><dlcui-drag-and-drop-container ng-if=useSourceAttribute id=\"{{id | dlcuiElementId:'DragAndDrop'}}\" on-selection-changed=\"onSelectionChanged({data: data})\" on-sub-view-open=\"onSubViewOpen({data: data})\" source=\"source({startIndex:startIndex, pageSize:pageSize, sortBy:sortBy, filter:filter})\" options=options></dlcui-drag-and-drop-container><dlcui-drag-and-drop-container ng-if=!useSourceAttribute id=\"{{id | dlcuiElementId:'DragAndDrop'}}\" on-selection-changed=\"onSelectionChanged({data: data})\" on-sub-view-open=\"onSubViewOpen({data: data})\" options=options></dlcui-drag-and-drop-container></div>");
  $templateCache.put("ngclarity/directives/tabular/gridCardContainer/dlcuiGridContainerCard.template.html",
    "<div class=\"dlcui-drag-source-card dlcui-drag-source-text-card dlcui-lasso-selectable\" tabindex=-1 dlcui-drag-source={{isDragEnabled()}} dlcui-create-drag-image=createDragImage(id) dlcui-drag-data=card dlcui-on-drag-start=\"onDragStart(id, data)\" dlcui-on-drag-end=onDragEnd() dlcui-lasso-selectable=onLassoSelected(selected) dlcui-lasso-allow-selection=false ng-click=toggleSelection()><div class=dlcui-header-left><dlcui-selection class=dlcui-select-icon selection-type=1 selection-state={{isSelected()}} container-selector=.dlcui-drag-source-text-card icon-size=12px,10px></dlcui-selection><div class=dlcui-card-label>{{::card.label}}</div></div><div class=dlcui-information-icon ng-if=\"::isTooltip() || isSubViewEnabled()\"><dlcui-icon type=svg icon=#ic_A_04_device_detail size=16px dlcui-tip=\"\" dlcui-tip-type=tooltip dlcui-tip-position=\"right middle\" dlcui-tip-content={{::getTooltip(card)}} ng-click=$event.stopPropagation();activateSubView(card);></dlcui-icon></div></div>");
  $templateCache.put("ngclarity/directives/tabular/gridCardContainer/dlcuiGridContainerCardRemove.template.html",
    "<div class=\"dlcui-drop-target-card dlcui-drop-target-text-card\" tabindex=-1 dlcui-drag-source=true dlcui-create-drag-image=createDragImage(id) dlcui-drag-data=card dlcui-on-drag-start=\"onDragStart(id, data)\"><div class=dlcui-label>{{card.label}}</div><div class=dlcui-remove-icon ng-click=toggleSelection()><dlcui-icon type=svg icon=#ic_xclosewindow size=12px></dlcui-icon></div></div>");
  $templateCache.put("ngclarity/directives/tabular/infoCardContainer/dlcuiInfoCardContainer.directive.html",
    "<div class=\"ng-cloak dlcui-info-card-container\" ng-hide=options.hide ng-style=style ng-cloak=\"\"><dlcui-card-container class=dlcui-columns-container options=innerOptions><dlcui-transclude-replace></dlcui-transclude-replace></dlcui-card-container></div>");
  $templateCache.put("ngclarity/directives/tabular/infoCardContainer/dlcuiInfoCardItem.directive.html",
    "<div class=\"dlcui-card-item dlcui-info-card-item\"><dlcui-toolbar ng-if=\"::headerLabel.length || actionLabel.length\" justify=space-between><dlcui-toolbar-group justify=flex-start><dlcui-toolbar-label class=dlcui-header-label ng-if=::headerLabel.length label={{::headerLabel}}></dlcui-toolbar-label></dlcui-toolbar-group><dlcui-toolbar-group justify=flex-end><dlcui-toolbar-button class=dlcui-action-label ng-if=::actionLabel.length ng-click=actionClicked($event) label={{::actionLabel}}></dlcui-toolbar-button></dlcui-toolbar-group></dlcui-toolbar><div class=dlcui-contents-label ng-if=::contentsLabel.length>{{::contentsLabel}}</div><div class=dlcui-info-card-item-contents ng-transclude=\"\"></div></div>");
  $templateCache.put("ngclarity/directives/tabular/table/dlcuiTable.directive.template.html",
    "<div class=dlcui-table><div class=dlcui-table-container><div class=dlcui-table-header><div class=dlcui-table-header-row><div class=dlcui-table-inner-header><div ng-if=\"table.type === TableType.MultiSelect\" class=dlcui-table-checkbox><input type=checkbox ng-model=thead.checked ng-change=click().onAll()></div><div ng-if=\"table.type !== TableType.MultiSelect\" class=dlcui-table-checkbox>&nbsp;</div><div ng-repeat=\"column in ::table.columns\" ng-style=column.style class=dlcui-table-cell><div id={{::column.uid}} ng-click=\"click().onHeader(column, $event)\" class=dlcui-table-cell-header>{{column.label}}<div ng-if=column.sortable class=ascending-descending-icon><dlcui-icon ng-show=column.sort.isDescending() icon=angle-down size=16px></dlcui-icon><dlcui-icon ng-show=column.sort.isAscending() icon=angle-up size=16px></dlcui-icon></div></div></div></div></div></div><div class=dlcui-table-body ng-show=table.visible><div id=tr_{{::$index}} class=dlcui-table-row ng-repeat=\"row in table.dataSource.data | limitTo : pagination.start + pagination.end + 1 : pagination.start\" ng-click=\"click().onActive(row, $index, $event)\"><div class=dlcui-table-inner-row><div class=\"dlcui-table-checkbox outline-none\"><input type=checkbox ng-model=row.checked ng-click=\"click().onCheck(row, $index, $event)\"></div><div ng-repeat=\"column in ::table.columns\" ng-style=column.style class=\"dlcui-table-cell outline-none\"><div ng-if=row.data[column.field] ng-bind=row.data[column.field]></div><div ng-if=column.template ng-bind-html=column.template></div><div ng-if=column.templateUrl ng-include=column.templateUrl></div></div></div></div></div></div><div class=dlcui-table-card-container></div><div class=dlcui-table-footer><div class=dlcui-table-status>{{footer.label}}</div><div ng-show=options.pagination.visible class=dlcui-table-pagination><dlcui-navigation-page ng-model=pagination.id options=options.pagination sets=table.dataSource.pageSet.sets() ng-disabled=disabled></dlcui-navigation-page></div></div></div>");
  $templateCache.put("ngclarity/directives/time/dlcuiTime.directive.html",
    "<div class=dlcui-time><div class=dlcui-time-hour><div class=dlcui-time-angle-up ng-attr-title=\"Increment {{hourIncrement}} hours\" ng-click=timeCtrl.changeHour(timeCtrl.options.hourIncrement)><dlcui-font-icon icon=angle-up/ ></dlcui-font-icon></div><div class=dlcui-time-hour-text ng-if=showMeridian>{{model || lastValidDate | date:'h'}}</div><div class=dlcui-time-hour-text ng-if=!showMeridian>{{model || lastValidDate | date:'H'}}</div><div class=dlcui-time-angle-down ng-attr-title=\"Decrement -{{hourIncrement}} hours\" ng-click=timeCtrl.changeHour(-timeCtrl.options.hourIncrement)><dlcui-font-icon icon=angle-down/ ></dlcui-font-icon></div></div><div class=dlcui-time-colon><spam>:</spam></div><div class=dlcui-time-minute><div class=dlcui-time-angle-up ng-attr-title=\"Increment {{minuteIncrement}} minutes\" ng-click=timeCtrl.changeMinute(timeCtrl.options.minuteIncrement)><dlcui-font-icon icon=angle-up></div><div class=dlcui-time-minute-text>{{model || lastValidDate | date:'mm'}}</div><div class=dlcui-time-angle-down ng-attr-title=\"Decrement -{{minuteIncrement}} minutes\" ng-click=timeCtrl.changeMinute(-timeCtrl.options.minuteIncrement)><dlcui-font-icon icon=angle-down></div></div><div class=dlcui-time-show-seconds ng-if=showSeconds><div class=dlcui-time-colon><spam>:</spam></div><div class=dlcui-time-second><div class=dlcui-time-angle-up ng-attr-title=\"Increment {{secondIncrement}} seconds\" ng-click=timeCtrl.changeSecond(timeCtrl.options.secondIncrement)><dlcui-font-icon icon=angle-up></div><div class=dlcui-time-second-text>{{model || lastValidDate | date:'ss'}}</div><div class=dlcui-time-angle-down ng-attr-title=\"Decrement -{{secondIncrement}} seconds\" ng-click=timeCtrl.changeSecond(-timeCtrl.options.secondIncrement)><dlcui-font-icon icon=angle-down></div></div></div><div class=dlcui-time-meridian ng-if=showMeridian ng-attr-title=\"Toggle AM/PM\"><span ng-click=timeCtrl.toggleMeridian()>{{meridian}}</span></div></div>");
}]);
;/**
 * @ngdoc service
 * @name dataSourceService
 * @src services/dataSource/dataSource.js
 * @controlType tabular
 *
 * @deprecated 2.9.0
 * @useInstead Please contact the CUI team if you depend on CUI DataSource Service and consider using ngResource.
 *
 * @description
 * The DataSourceService is a thin wrapper around Angular's {@nglink api/ng/service/$http ng.$http service}. It provides a function which takes as it's first parameter an API endpoint upon which queries can be executed.
 *
 * ```js
 * AppController = function($scope, dlcuiDataSourceService) {
 *   Server = dlcuiDataSourceService('/api/server');
 *
 *   Server.all().then(function(servers) {
 *     // Do something with your servers
 *     $scope.servers = servers;
 *   }, function(err) {
 *     // An error occured
 *     $scope.errorMessage = err.message;
 *   })
 * }
 * ```
 *
 *   @example
 *   <h3>Button enabled/disabled</h3>
 * <example name='buttonDisabled'>
 *   <file name='index.html'>
 *   <dlcui-button ng-click='query("test.json")'>Call endpoint</dlcui-button>
 *   <dlcui-button ng-click='query("404File.json")'>Call incorrect endpoint</dlcui-button>
 *   <p>Response:</p>
 *   <code>{{response}}</code>
 *   </file>
 *   <file name='test.json'>
 *     {
 *       "hello": "world"
 *     }
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($scope, dlcuiDataSourceService) {
 *         $scope.query = function(endpoint) {
 *           dlcuiDataSourceService(endpoint).all().then(function success(data) {
 *             $scope.response = data;
 *           }, function error(err) {
 *             $scope.response = 'An error occurred.';
 *           });
 *         }
 *       })
 *   </file>
 * </example>
*/

/**
 * @ngdoc method
 * @name dataSourceService#
 *
 * @param {string} endpoint The endpoint through which the Data Source Service should communicate.
 * @param {object=} config This object allows you to set default query parameters, headers for the request, and the `id` field of single object.
 * Setting the `id` will ensure that any call to `save` on an object returned from your server (via `.get(id)`) will perform an HTTP PUT instead of a POST. Only use this if the unique identifier for the object is **not** `id`. Objects returned from the server need to have an id field.
 *
 * ```js
 * {
 *   headers: {
 *     "x-dell-authentication-key": "94b2fff3e7fd9b9c391a2306"
 *   },
 *   params: {
 *     limit: 20
 *   },
 *   id: '_id'
 * }
 * ```
 *
 * @returns {DataSource}
 *
 * The DataSource is an object that represents the API endpoint. It exposes methods for you to perform CRUD operations on your REST API.
 *
 * <h2>Methods available on a DataSource object</h2>
 * <hr>
 *
 * > All of the methods below except <b>create</b> return a <a href='http://www.html5rocks.com/en/tutorials/es6/promises/'>Promise</a>. Check out {@nglink api/ng/service/$q ng.$q} for more information on promises.
 *
 * <h3>All</h3>
 *
 * Retrieve all records from the endpoint.
 *
 *     Server.all().then(function(servers) {
 *       // Use the servers
 *     })
 *     // HTTP GET /api/servers
 *
 * <h3>Create</h3>
 *
 * Create a record which is later saved.
 *
 * <blockquote class='alert'>The create method does not return a promise.</blockquote>
 *
 *     var server = Server.create({
 *       name: 'PowerEdge 331x',
 *       location: 'AMER.US.WI.MADISON'
 *     })
 *
 *     server.save()
 *     // HTTP POST /api/servers
 *
 * <h3>Get</h3>
 *
 * Get a single item from your API by it's ID.
 *
 *     Server.get(123).then(function(server) {
 *       // Do something with the server
 *       server.location = 'EMEA.RU.MOSCOW'
 *       server.save() // HTTP PUT /api/servers/123
 *     })
 *     // HTTP GET /api/servers/123
 *
 * Retrieving a single item via the get method provides a `save` and `delete` method on the returned object.
 *
 * <h3>Query</h3>
 *
 * Provide query parameters on the request to your API.
 *
 *     Server.query({
 *       limit: 20,
 *       offset: 100
 *     }).then(function(servers) {
 *       // Use the servers
 *     })
 *     // HTTP GET /api/servers?limit=20&offset=100
 *
 * <h2>Methods on single record objects</h2>
 * <hr>
 *
 * Items retrieved using the `get` method have a `save` and `delete` method on them.
 *
 * <h3>Delete</h3>
 *
 * The delete method sends an `HTTP DELETE` request to the API Endpoint.
 *
 *     Server.get(123).then(function(server) {
 *       server.delete().then(function(success) { // HTTP DELETE /api/servers/123
 *         // The server return a successfully deleted.
 *       }, function(err) {
 *         // The server had an error.
 *       })
 *     })
 *
 * <h3>Save</h3>
 *
 * The save method either sends an `HTTP PUT` or `HTTP POST` depending on if the item object has an id set. (Remember: this id field is configurable by the base `dlcuiDataSourceService` method).
 *
 *     Server.get(123).then(function(server) {
 *       server.location = 'AMER.US.TX.RR2'
 *       server.save().then(function(success) { // HTTP PUT /api/servers/123
 *         // The server data was saved.
 *       })
 *     })
 *
 * <br/>
 *
 *     server = Server.create({
 *       name: 'PowerEdge 33x',
 *       location: 'EMEA.UK.IR.DUBLIN'
 *     })
 *
 *     server.save()
 *     //  HTTP POST /api/servers
 *     //    {
 *     //      "name": "PowerEdge 33x",
 *     //      "location": "EMEA.UK.IR.DUBLIN"
 *     //    }
 *     //
*/

'use strict';

angular.module('dell.ngclarity.directives').factory('dlcuiDataSourceService', ['$http', '$injector', '$q', function($http, $injector, $q) {
  return function (url, config) {
    if (config == null) {
      config = {};
    }

    var object = { endpoint: url, options: {} };
    var options = { headers: {} };

    if (config.headers) {
      angular.extend(options.headers, config.headers);
      delete config.headers;
    }

    object.options = angular.extend(options, config);

    function performHTTP(request) {
      // TODO: Fix these linter errors if we keep this component
      var deferred = $q.defer(); // eslint-disable-line angular/deferred
      $http(request).then(function (data) {
        // eslint-disable-line angular/no-http-callback
        deferred.resolve(data);
      },function (err) {
        deferred.reject(err);
      });
      return deferred.promise;
    }

    var individualMethods = {
      save: function save() {
        var key = null,
            method = null;
        if (this[this.$dataSource.options.id || 'id']) {
          method = 'PUT';
        } else {
          method = 'POST';
        }
        var request = {
          method: method,
          url: this.$dataSource.endpoint,
          data: {},
          headers: this.$dataSource.options.headers
        };

        for (key in this.$dataSource._originalData) {
          // eslint-disable-line guard-for-in
          request.data[key] = this[key];
        }

        return performHTTP(request);
      },
      'delete': function _delete() {
        return performHTTP({
          method: 'DELETE',
          url: this.$dataSource.endpoint,
          headers: this.$dataSource.options.headers
        });
      }
    };
    var collectionMethods = {
      create: function create(data) {
        return angular.extend({}, data, individualMethods, {
          $dataSource: {
            _originalData: data,
            options: this.options,
            endpoint: this.endpoint
          }
        });
      },
      get: function get(id) {
        // TODO: Fix this linter error if we keep this component
        var deferred = $q.defer(); // eslint-disable-line angular/deferred
        var dataSourceService = $injector.get('dlcuiDataSourceService');
        var Item = dataSourceService(this.endpoint + '/' + id, this.options);
        Item.all().then(function (data) {
          return deferred.resolve(angular.extend({}, data, individualMethods, {
            $dataSource: {
              _originalData: data,
              options: Item.options,
              endpoint: Item.endpoint
            }
          }));
        }, function (err) {
          return deferred.reject(err);
        });
        return deferred.promise;
      },
      query: function query(params, headers) {
        var request = {
          method: 'GET',
          url: this.endpoint
        };
        if (params || this.options.params) {
          request.params = angular.extend({}, this.options.params, params);
        }
        if (headers || this.options.headers) {
          request.headers = angular.extend({}, this.options.headers, headers);
        }
        return performHTTP(request);
      },
      all: function all() {
        return this.query();
      }
    };
    return angular.extend({}, object, collectionMethods);
  };
}]);;;/**
 * @ngdoc service
 * @name aboutBox
 * @module dlcui.controls
 * @src directives/core/aboutBox/aboutBox.js
 * @controlType foundational
 *
 * @description The About Box displays general information about the application, including legal notices and support
 * contact information.
 *
 * @example
 * <example name="aboutBox">
 *   <file name="index.html">
 *     <dlcui-button ng-click="showAboutBox()" dlcui-type="primary">Show About Box</dlcui-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module("app", ["dlcui"])
 *       .controller("AppCtrl", function(dlcuiAboutBox) {
 *         var vm = this;
 *         var aboutBox = dlcuiAboutBox({
 *           applicationName: "Change Auditor",
 *           licenses: "licenses.json",
 *           thirdParty: "thirdParty.json",
 *           version: "2.0.0",
 *           tabs: [{
 *             label: "About",
 *             active: true,
 *             template: "aboutBox.about"
 *           }]
 *         });
 *
 *         aboutBox.modal.show();
 *         vm.showAboutBox = aboutBox.modal.show;
 *       })
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 800px;
 *     }
 *   </file>
 *   <file name="licenses.json">
 *     [
 *       {
 *         "name": "ChangeAuditor for Exchange",
 *         "number": "CAE00010222304",
 *         "type": "Ongoing",
 *         "expires": "2015-04-12T05:00:00.000Z",
 *         "seatsLicensed": 10,
 *         "seatsUsed": 11,
 *         "invalid": true,
 *         "errorMessage": "Too many seats used."
 *       },
 *       {
 *         "name": "ChangeAuditor Express Support",
 *         "number": "CAES-998-6765",
 *         "type": "Ongoing",
 *         "expires": "2019-12-20T06:00:00.000Z",
 *         "seatsLicensed": 1,
 *         "seatsUsed": 1
 *       },
 *       {
 *         "name": "ChangeAuditor for Abacus",
 *         "number": "CAABQRSHK42",
 *         "type": "Ongoing",
 *         "expires": "1592-03-14T05:00:00.000Z",
 *         "seatsLicensed": 3,
 *         "seatsUsed": 2,
 *         "invalid": true,
 *         "errorMessage": "License is expired. Please contact sales for support."
 *       }
 *     ]
 *   </file>
 *   <file name="thirdParty.json">
 *     [
 *       {
 *         "name": "ABC Component",
 *         "version": "v4.0",
 *         "license": {
 *           "name": "Apache v2.0"
 *         }
 *       }, {
 *         "name": "EDDraw Office Viewer",
 *         "version": "5.3",
 *         "license": {
 *           "notice": "Copyright 2006 EDDraw. All rights reserved."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }, {
 *         "name": "Filler third party components",
 *         "version": "41",
 *         "license": {
 *           "notice": "To demonstrate overflow. Nothing to see here."
 *         }
 *       }
 *     ]
 *   </file>
 * </example>
 */

/**
 * @ngdoc method
 * @name aboutBox#
 * @param {object} config An object with the following properties:
 *
 * ```js
 * {
 *   applicationName: 'Change Auditor',
 *   licenses: 'api/licenses.json', // String for url, or object
 *   thirdParty: 'api/thirdParty.json', // String for url, or object
 *   patentString: '',
 *   visible: false, // Boolean, default false. If true, the about box will be shown once created
 *   tabs: [{
 *     label: 'About',
 *     active: true,
 *     template: 'aboutBox.about'
 *   }]
 * }
 * ```
 *
 * - `applicationName`: The name of the application. Shown on the "About" page of the About Box.
 * - `version`: The version of the application. This is displayed below the `applicationName`.
 * - `licenses`: An array of objects describing the licenses for the application.
 *
 * Can be passed a JSON endpoint of the form `'"/api/licenses.json"'` (notice the ' followed by ", similar to the syntax
 * for `ng-include`).
 *
 * If a string is passed the data source service will be used to fetch the JSON from the specified endpoint.
 *
 * The default template for the licenses tab expects objects in the array to have the following structure:
 *
 * ```js
 * {
 *  "name": "Change Auditor",
 *  "number": "CA-429304-4494BQW"
 *  "type": "Ongoing",
 *  "expires": "2015-04-12",
 *  "seatsLicensed": 10,
 *  "seatsUsed": 11,
 *  "invalid": true // Optional, adds 'error' class to row and adds a title attribute to the row containing the `errorMessage`.
 *  "errorMessage": "Too many seats used, please contact sales for further help."
 * }
 * ```
 *
 * - `thirdParty`: An array of objects describing the licenses for the Third Party components or libraries that the
 *   application uses.
 *
 * Can be passed a JSON endpoint of the form `'"/api/thirdParty.json"'` (notice the ' followed by ", similar to the
 * syntax for `ng-include`).
 *
 * If a string is passed, $dlcui.services.dataSource will be used to fetch the JSON from the specified endpoint.
 *
 * The default template for the Third Party tab expects objects in the array to have the following structure:
 *
 * ```js
 * {
 *  "name": "Bootstrap",
 *  "version": "3.0.3",
 *  "license": {
 *    "name": "Apache v2.0",
 *    "notice": "Custom notice" // Optional, only used if author of library requires a notice be placed in your application.
 *  }
 * }
 * ```
 *
 * - `patentString`: The list of patents that apply to the application. If this is not included, the "Patents" line on
 *   the "About" tab will not be shown.
 */

'use strict';


angular.module('dell.ngclarity.directives').service('dlcuiAboutBox', ['dlcuiBaseTemplatePath', 'dlcuiDataSourceService', 'dlcuiModal', function(dlcuiBaseTemplatePath, dlcuiDataSourceService, dlcuiModal) {
  return function () {
    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    var gtp = function gtp(path) {
      //return '' + baseTemplatePath + path + '.html';
      return [dlcuiBaseTemplatePath, 'directives/aboutBox/dlcuiAboutBox-'+ path +'.directive.html'].join('');
    };

    var scope = dlcuiModal({
      type: 'dismiss',
      templateUrl: [dlcuiBaseTemplatePath, 'directives/aboutBox/dlcuiAboutBox.directive.html'].join(''),
      visible: options.visible,
      applicationName: options.applicationName,
      version: options.version,
      patentString: options.patentString,
      className: 'dlcui-about-box'
    });

    if (angular.isString(options.licenses)) {
      dlcuiDataSourceService(options.licenses).all().then(function (licenses) {
        scope.licensesArray = licenses;
      });
    } else {
      scope.licensesArray = options.licenses;
    }

    if (angular.isString(options.thirdParty)) {
      dlcuiDataSourceService(options.thirdParty).all().then(function (thirdParty) {
        scope.thirdPartyArray = thirdParty;
      });
    } else {
      scope.thirdPartyArray = options.thirdParty;
    }

    scope.today = new Date();

    scope.tabs = [{
      label: 'About',
      active: null,
      template: options.aboutTmpl || gtp('about')
    }];

    scope.$on('hide', function () {
      // Select first tab after hiding
      scope.tabs.forEach(function (tab, index) {
        if (index === '0') {
          tab.active = true;
        } else {
          tab.active = null;
        }
      });
    });

    if (options.licenses) {
      scope.tabs.push({
        label: 'Licenses',
        active: null,
        template: options.licensesTmpl || gtp('licenses')
      });
    }

    if (options.thirdParty) {
      scope.tabs.push({
        label: 'Third Party',
        active: null,
        template: options.thirdPartyTmpl || gtp('thirdParty')
      });
    }

    scope.tabs.push({
      label: 'Contact',
      active: null,
      template: options.contact || gtp('contact')
    });

    return scope;
  };
}]);;/**
 * @ngdoc directive
 * @name alert
 *
 * @description Alert messages are displayed in a modeless pane at the top of the page. They are triggered by a system
 * event or in response to a user action. Alerts are not explicitly requested by the user.
 *
 * Messages and links for additional information should be displayed on the left. Action buttons should be displayed on
 * the right.
 *
 * <h3>Events</h3>
 *
 * - `dlcui:alert:dismiss`: listened for to close the alert nicely (with animation).
 * - `dlcui:alert:dismissed`: emitted after the alert is dismissed (after animation, right before `$destroy`ed and
 * removed from the DOM).
 *
 * @module dlcui.controls
 * @src directives/output/alert/alert.js
 * @controlType presentational
 *
 * @restrict E
 * @transclude Alert message
 *
 * @param {boolean=} dismissable Whether to show the button to manually close the alert. Defaults to `true`. If `false`,
 * the alert can still be dismissed programatically (via `dlcui:alert:dismiss`).
 *
 * @param {string=} label The bold text providing the alert type preceding the further transcluded information.
 *
 * Default labels for each `dlcui-type`:
 *
 * - `danger`: "Critical Error"
 * - `warning`: "Warning"
 * - `unknown`: "There are multiple errors"
 * - `success`: "Success"
 * - Other: "Note"
 *
 * @param {string=} icon What icon you want to show, see {@link ../icon}
 *
 * Default icons for each type:
 *
 * - `danger`: `exclamation-sign`
 * - `warning`: `warning-sign`
 * - `unknown`: No icon
 * - `success`: `ok-sign`
 * - Other: `ok-sign`
 *
 * @param {string=} dlcuiType Either `unknown`, `warning`, `success`, or `critical`.  Defaults to `note` version.
 *
 * @param {number=} destroyAfter The time, in milliseconds, to wait before destroying the alert. (If not specified, the
 * alert will exist until manually destroyed.)
 *
 * @example
 * <h3>Basic alert</h3>
 * <example name="alert">
 *   <file name="index.html">
 *     <dlcui-alert>This is a basic alert</dlcui-alert>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Basic nondismissable alert</h3>
 * <example name="alert">
 *   <file name="index.html">
 *     <dlcui-alert dismissable="false">This is a basic, nondismissable alert</dlcui-alert>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Alert with custom label</h3>
 * <example name="alertLabel">
 *   <file name="index.html">
 *     <dlcui-alert label="Achtung">Das Label wird angepasst.</dlcui-alert>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Alert types</h3>
 * <example name="alertTypes">
 *   <file name="index.html">
 *     <dlcui-alert dlcui-type="danger">Maryvi is currently offline! Try the following possible solutions:
 *       <ul>
 *         <li>Try turning it off and on again</li>
 *         <li>Upgrade your memory to at least 16 gigabytes. <a href="">Order here</a></li>
 *       </ul>
 *     </dlcui-alert>
 *     <dlcui-alert dlcui-type="warning">The server is running near full capacity. Please upgrade soon. <a href="">More
 * information</a></dlcui-alert>
 *     <dlcui-alert dlcui-type="unknown">There were multiple problems with the servers:
 *       <ol>
 *         <li><dlcui-icon icon="warning" color="yellow"></dlcui-icon> Try turning it off and on again</li>
 *         <li><dlcui-icon icon="exclamation-circle" color="red"></dlcui-icon> Upgrade your memory to at least 16 gigabytes.
 * <a href="">Order here</a></li>
 *       </ol>
 *     </dlcui-alert>
 *     <dlcui-alert>Please wait while we submit your information. This may take a minute...</dlcui-alert>
 *     <dlcui-alert dlcui-type="success">Your information was successfully processed. Thank you for choosing DLCUI!</dlcui-alert>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 */

'use strict';





angular.module('dell.ngclarity.directives').directive('dlcuiAlert', ['$q', '$timeout', '$translate', 'dlcuiBaseTemplatePath', function($q, $timeout, $translate, dlcuiBaseTemplatePath) {
	var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();
  function getDefaults(type) {
    switch (type) {
      case 'danger':
        return ['exclamation-sign', "Critical Error"];
      case 'warning':
        return ['warning-sign', "Warning"];
      case 'unknown':
        return [null, "There are multiple issues"];
      case 'success':
        return ['ok-sign', "Success"];
      default:
        return ['info-sign', "Note"];
    }
  }

  function link(scope, element) {
    scope.close = function () {
      return $q(function (resolve) {
        scope.$on('dlcui:collapse:collapsed', function (e) {
          e.stopPropagation();
          scope.$emit('dlcui:alert:dismissed');
          element.remove();
          resolve();
        });
        scope.isClosed = true;
      });
    };

    scope.isClosed = false;

    if (scope.dismissable == null) {
      scope.dismissable = true;
    }

    scope._icon = scope.icon;
    scope._label = scope.label;

    var _getDefaults = getDefaults(scope.dlcuiType);

    var _getDefaults2 = _slicedToArray(_getDefaults, 2);

    var icon = _getDefaults2[0];
    var label = _getDefaults2[1];

    if ((scope.icon == null || scope.icon === '') && icon != null) {
      element.attr('icon', '');
      scope._icon = icon;
    }

    if (scope.label == null || scope.label === '') {
      scope._label = label;
    }

    var destroyAfter = parseInt(scope.destroyAfter, 10);
    if (destroyAfter > 0) {
      $timeout(function () {
        return scope.close();
      }, scope.destroyAfter);
    }

    scope.$on('dlcui:collapse:expanded', function (e) {
      return e.stopPropagation();
    });
    scope.$on('dlcui:alert:dismiss', function () {
      return scope.close();
    });
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/alert/dlcuiAlert.directive.html'].join(''),
    restrict: 'EA',
    transclude: true,
    // No replace! It messes up addClass and other things...
    scope: {
      dlcuiType: '@',
      destroyAfter: '@',
      dismissable: '=?',
      icon: '@',
      label: '@'
    },
    link: link
  };
}]);;
angular.module('dell.ngclarity.directives').service('dlcuiCalendarUtils', function() {
  var _this = this;

  this.datesAreEqualToMonth = function (d1, d2) {
    return d1 && d2 && d1.getYear() === d2.getYear() && d1.getMonth() === d2.getMonth();
  };

  this.datesAreEqualToDay = function (d1, d2) {
    return d1 && d2 && d1.getYear() === d2.getYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();
  };

  this.generateMonth = function (date, selectedDate) {
    var startingDay = (function () {
      var year = date.getFullYear();
      var month = date.getMonth();
      var firstDayOfMonth = new Date(year, month, 1);
      var ret = new Date(firstDayOfMonth);
      // We have the first day of the month, but we need to get the first Saturday of that
      var offset = firstDayOfMonth.getDay();
      // Add a week if month starts on a Sunday
      if (offset === 0) {
        offset = 7;
      }

      ret.setDate(ret.getDate() - offset); // First day of 'blocked' calendar

      return ret;
    })();

    var today = new Date();

    var dateIterator = new Date(startingDay); // Reallocate date
    var month = [];

    for (var i = 0; i <= 5; i++) {
      var week = [];
      for (var j = 0; j <= 6; j++) {
        var d = new Date(dateIterator);
        week.push({
          date: d,
          isSelected: _this.datesAreEqualToDay(d, selectedDate),
          isInMonth: _this.datesAreEqualToMonth(d, date),
          today: _this.datesAreEqualToDay(d, today)
        });
        dateIterator.setDate(dateIterator.getDate() + 1);
      }
      month.push(week);
    }

    return month;
  };

  this.nextMonth = function (date) {
    // Edge case for last month of year
    if (date.getMonth() === 11) {
      return new Date(date.getFullYear() + 1, 0); // Date format is year, month we have to specify the month to be January aka 0
    }

    return new Date(date.getFullYear(), date.getMonth() + 1); // Date format year, month
  };

  this.previousMonth = function (date) {
    // Edge case for first month of year
    if (date.getMonth() === 0) {
      return new Date(date.getFullYear() - 1, 11); // Date format is year, month we have to specify the month to be December aka 11
    }

    return new Date(date.getFullYear(), date.getMonth() - 1); // Date format year, month
  };

  this.nextYear = function (date) {
    var d = new Date(date);
    d.setFullYear(d.getFullYear() + 1);
    return d;
  };

  this.previousYear = function (date) {
    var d = new Date(date);
    d.setFullYear(d.getFullYear() - 1);
    return d;
  };

  return this;
});;/**
 * @ngdoc directive
 * @module dlcui.controls
 * @name calendar
 * @description The Calendar lets users choose a specific date. It is particularly useful for navigation (as in Outlook, for example).
 *
 * > The Calendar is primarily used with the Date Picker.
 *
 * @controlType input
 * @restrict E
 * @param {date|string} ngModel This accepts a JavaScript `date` object, or a string that can be parsed to a date.
 *
 * @example
 * <h3>Calendar</h3>
 * <example>
 *   <file name='index.html'>
 *     <dlcui-calendar ng-model="vm.selectedDate"></dlcui-calendar>
 *     <br><br>
 *     <dlcui-button ng-click='vm.selectedDate = "1/1/2014"'>selectedDate = "1/1/2014"</dlcui-button>
 *     <dlcui-button ng-click="vm.setDate()">selectedDate = new Date('1/2/2013')</dlcui-button>
 *     <dlcui-button ng-click="vm.selectedDate = null">selectedDate = null</dlcui-button>
 *     <br><br>
 *     <span ng-if="vm.selectedDate">
 *       <code>selectedDate: {{vm.selectedDate}}</code> ({{vm.readableDate}})
 *     </span>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($scope, $filter) {
 *         var vm = this;
 *         vm.setDate = function() {
 *           vm.selectedDate = new Date('1/2/2013');
 *         }
 *
 *         $scope.$watch('vm.selectedDate', function(d) {
 *           vm.readableDate = $filter('date')(new Date(d), 'fullDate');
 *         });
 *       });
 *   </file>
 * </example>
 * <blockquote class="danger">If your `ngModel` is set to a string value, it will be passed to the built-in `Date`
 * constructor. Browsers may parse date strings differently. For example, older versions of IE will
 * interpret "1/1/14" as January 1, 1914, but newer versions interpret it as January 1, 2014.</blockquote>
 */

'use strict';

angular.module('dell.ngclarity.directives').directive('dlcuiCalendar', ['dlcuiBaseTemplatePath', 'dlcuiCalendarUtils', function(dlcuiBaseTemplatePath, dlcuiCalendarUtils) {
  controller.$inject = ['$scope'];
  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();
  
  function controller($scope) {
    var _this = this;

    this.refreshView = function () {
      $scope.month = dlcuiCalendarUtils.generateMonth($scope.monthDate, $scope.viewValueDate);
    };

    this.nextMonth = function () {
      $scope.monthDate = dlcuiCalendarUtils.nextMonth($scope.monthDate);
      _this.refreshView();
    };

    this.previousMonth = function () {
      $scope.monthDate = dlcuiCalendarUtils.previousMonth($scope.monthDate);
      _this.refreshView();
    };

    this.nextYear = function () {
      $scope.monthDate = dlcuiCalendarUtils.nextYear($scope.monthDate);
      _this.refreshView();
    };

    this.previousYear = function () {
      $scope.monthDate = dlcuiCalendarUtils.previousYear($scope.monthDate);
      _this.refreshView();
    };

    return this;
  }

  function link(scope, element, attrs, _ref) {
    var _ref2 = _slicedToArray(_ref, 2);

    var calendarCtrl = _ref2[0];
    var modelCtrl = _ref2[1];

    scope.today = new Date();

    var getViewValueDate = function getViewValueDate() {
      return modelCtrl && modelCtrl.$viewValue ? new Date(modelCtrl.$viewValue) : null;
    };

    // Internal clicking
    scope.setDate = function (date) {
      var currentDate = getViewValueDate();

      if (angular.isDate(currentDate)) {
        date.setHours(currentDate.getHours(), currentDate.getMinutes(), currentDate.getSeconds(), currentDate.getMilliseconds());
      }

      modelCtrl.$setViewValue(date);
      scope.viewValueDate = getViewValueDate();
      scope.monthDate = scope.viewValueDate;
      calendarCtrl.refreshView();
    };

    modelCtrl.$render = function () {
      // setMonthDate() unless scope.monthDate and not modelCtrl.$viewValue
      scope.viewValueDate = getViewValueDate();

      if (scope.viewValueDate || !scope.monthDate) {
        // If null, don't change our location
        scope.monthDate = scope.viewValueDate || scope.today;
      }

      calendarCtrl.refreshView();
    };
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/calendar/dlcuiCalendar.directive.html'].join(''),
    restrict: 'EA',
    require: ['dlcuiCalendar', '^ngModel'],
    scope: {
      dateFilter: '=?',
      modelCtrl: '=?' // internal
    },
    controllerAs: 'calendarCtrl',
    controller: controller,
    link: link
  };
}]);;
angular.module('dell.ngclarity.directives').service('dlcuiCalendarUtils', function() {
  var _this = this;

  this.datesAreEqualToMonth = function (d1, d2) {
    return d1 && d2 && d1.getYear() === d2.getYear() && d1.getMonth() === d2.getMonth();
  };

  this.datesAreEqualToDay = function (d1, d2) {
    return d1 && d2 && d1.getYear() === d2.getYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();
  };

  this.generateMonth = function (date, selectedDate) {
    var startingDay = (function () {
      var year = date.getFullYear();
      var month = date.getMonth();
      var firstDayOfMonth = new Date(year, month, 1);
      var ret = new Date(firstDayOfMonth);
      // We have the first day of the month, but we need to get the first Saturday of that
      var offset = firstDayOfMonth.getDay();
      // Add a week if month starts on a Sunday
      if (offset === 0) {
        offset = 7;
      }

      ret.setDate(ret.getDate() - offset); // First day of 'blocked' calendar

      return ret;
    })();

    var today = new Date();

    var dateIterator = new Date(startingDay); // Reallocate date
    var month = [];

    for (var i = 0; i <= 5; i++) {
      var week = [];
      for (var j = 0; j <= 6; j++) {
        var d = new Date(dateIterator);
        week.push({
          date: d,
          isSelected: _this.datesAreEqualToDay(d, selectedDate),
          isInMonth: _this.datesAreEqualToMonth(d, date),
          today: _this.datesAreEqualToDay(d, today)
        });
        dateIterator.setDate(dateIterator.getDate() + 1);
      }
      month.push(week);
    }

    return month;
  };

  this.nextMonth = function (date) {
    // Edge case for last month of year
    if (date.getMonth() === 11) {
      return new Date(date.getFullYear() + 1, 0); // Date format is year, month we have to specify the month to be January aka 0
    }

    return new Date(date.getFullYear(), date.getMonth() + 1); // Date format year, month
  };

  this.previousMonth = function (date) {
    // Edge case for first month of year
    if (date.getMonth() === 0) {
      return new Date(date.getFullYear() - 1, 11); // Date format is year, month we have to specify the month to be December aka 11
    }

    return new Date(date.getFullYear(), date.getMonth() - 1); // Date format year, month
  };

  this.nextYear = function (date) {
    var d = new Date(date);
    d.setFullYear(d.getFullYear() + 1);
    return d;
  };

  this.previousYear = function (date) {
    var d = new Date(date);
    d.setFullYear(d.getFullYear() - 1);
    return d;
  };

  return this;
});;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives:companyLogo
 * @restrict E
 * @scope
 *
 * @description
 * A directive to handle an easy display of the Dell company logo.
 * 
 */
angular.module('dell.ngclarity.directives')
  .directive('companyLogo',['$templateCache',
    function ($templateCache, $compile) {
    return {
     //templateUrl: [clarityTemplates, 'ngclarity/directives/companyLogo/companylogo.html'].join(''),
     template: function() {
       return $templateCache.get('ngclarity/directives/companyLogo/companylogo.html');
     },
     restrict: 'E',
     replace: true,
     transclude: 'element',
     scope: {},
     link: function(scope, element) {


     }
    };
  }]);
;/* eslint angular/document-service: 0 */
/* eslint max-nested-callbacks: 0 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiCard',
    ['dlcuiBaseTemplatePath',
      '$timeout',
      function (dlcuiBaseTemplatePath) {
        return {
          restrict: 'E',
          replace: true,
          require: '^dlcuiCardTemplateContainer',
          templateUrl: [dlcuiBaseTemplatePath, 'dlcuiCard.directive.template.html'].join(''),
          scope: {
            card: '=ngModel',
            options: '=',
            template: '@',
            onActive: '&onActive',
            onCheck: '&onCheck',
            onDelete: '&onDelete',
            disabled: '=ngDisabled'
          },
          link: function(scope, element, attrs, dlcuiCardTemplateController) {
            //
            // Set parent level scope
            //
            scope.$container = dlcuiCardTemplateController.parentScope();
            //
            // Event: onMouseOver
            //
            $(element).bind('mouseover', function () {
              $(this).find('.dlcui-card-checkbox-inner').css('opacity', '1');
              $(this).find('.dlcui-card-delete-inner').css('opacity', '1');
            });
            //
            // Event: onMouseleve
            //
            $(element).bind('mouseleave', function () {
              //
              // If this item has not been checked
              //
              if (!scope.card.checked) {
                $(this).find('.dlcui-card-checkbox-inner').css('opacity', '0');
                $(this).find('.dlcui-card-delete-inner').css('opacity', '0');
              }
            });
            //
            // Set Initial Card Size
            //
            if (scope.options.width !== 'auto') {
              var h = parseFloat(scope.options.height, 10) + 4 + 'px',
                  w = parseFloat(scope.options.width, 10) + 4 + 'px';
              angular.element(element).find('.dlcui-card-item-container').each(function() {
                $(this).css('height', h);
                $(this).css('width', w);
              });
            }
            //
            // Set Initial State of Card
            //
            if (dlcui.isObject(scope.card)) {
              //
              // Hide/Show Card CheckBox Icon
              //
              if (!scope.card.canCheck) {
                angular.element(element).find('.dlcui-card-checkbox').hide();
              }
              //
              // Hide/Show Card Delete Icon
              //
              if (!scope.card.canDelete) {
                angular.element(element).find('.dlcui-card-delete').hide();
              }
            }
            //
            // Function: onSet()
            //
            scope.onSet = function () {
              return {
                //
                // Function: Check
                //
                check: function (card, $event) {
                  $event.stopPropagation();
                  if (card.canCheck) {
                    //
                    // Indicate card selected
                    //
                    if (card.checked) {
                      angular.element(element).addClass('checkbox-selected');
                    } else {
                      angular.element(element).removeClass('checkbox-selected');
                    }
                    //
                    // onCheck
                    //
                    dlcuiCardTemplateController.onCheck(card);
                  }
                },
                //
                // Function: Remove
                //
                remove: function (card, $event) {
                  $event.stopPropagation();
                  if (card.canDelete) {
                    //
                    // onDelete
                    //
                    dlcuiCardTemplateController.onDelete(card);
                  }
                },
                //
                // Function: Active
                //
                active: function (card, $event) {
                  $event.stopPropagation();
                  if (card.canActivate) {
                    //
                    // onActive
                    //
                    var state = dlcuiCardTemplateController.onActive(card);

                    if (dlcui.isTrue(state)) {
                      angular.element(element).addClass('active');
                    } else {
                      angular.element(element).removeClass('active');
                    }
                  }
                }
              };
            };
          }
        };
      }]);

;/* eslint angular/document-service: 0 */
/* eslint max-nested-callbacks: 0 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiCardTemplateContainer', [
    '$compile',
    '$document',
    '$timeout',
    '$filter',
    'dlcuiBaseTemplatePath',
    function ($compile,
              $document,
              $timeout,
              $filter,
              dlcuiBaseTemplatePath) {
      return {
        restrict: 'E',
        replace: true,
        templateUrl: [dlcuiBaseTemplatePath, 'dlcuiCardTemplateContainer.directive.template.html'].join(''),
        scope: {
          onLoad: '&onLoad',
          onActive: '&onActive',
          onCheck: '&onCheck',
          onDelete: '&onDelete',
          options: '=',
          template: '@'
        },
        controller: 'dlcuiCardTemplateController',
        controllerAs: 'cardTemplateController',
        link: function(scope, element) {
          //
          // Set the scope for the container
          //
          scope.$container = scope.options.containerScope || scope.$parent;
          //
          // Disable the template-container border if requested
          //
          if (dlcui.hasOwnProperty(scope.options, 'border')) {
            $(element).css('border-width', parseInt(scope.options.border, 10));
          }
        }
      };
    }]);
;/* eslint-disable angular/controller-as-vm, consistent-this, max-statements */
angular.module('dell.ngclarity.directives')
  .controller('dlcuiCardTemplateController',
    ['dlcuiTemplate', 'dlcuiCallback', '$scope', '$element', '$timeout', function (dlcuiTemplate, dlcuiCallback, $scope, $element, $timeout) {
      //
      // Reserve Controller Reference
      //
      $scope.vm = this;
      //
      // Setup Options
      //
      $scope.options = $.extend(true, {}, {
        height: 'auto',
        width: 'auto'
      }, $scope.options);
      //
      // Define Model
      //
      $scope.model = {
        visible: false,
        items: []
      };
      //
      // Message: msgCardTemplateContainerSync
      //
      // Description:
      //
      $scope.$on('msgCardTemplateContainerSync', function (elem, activate) {
        //
        // Initialize Mouse Events
        //
        $scope.onInit(activate);
      });
      //
      // Message: msgCardTemplateContainerAppend
      //
      // Description:
      //
      $scope.$on('msgCardTemplateContainerAppend', function (elem, card) {
        //
        // If the card exist then add it!
        //
        if (dlcui.isObject(card)) {
          if (card instanceof DLCUI.UI.Card) {
            $scope.model.items.push(card);
          } else {
            $scope.model.items.push(new DLCUI.UI.Card({
              data: card,
              canDelete: $scope.options.canDelete,
              canCheck: $scope.options.canCheck,
              canActivate: $scope.options.canActivate
            }));
          }
          //
          // Event: Begin Synchronization
          //
          $timeout(function () {
            //
            // Initialize Mouse Events
            //
            $scope.onInit(dlcui.isDefined($scope.card));
          }, 10);
        }
      });
      //
      // Message: msgCardTemplateContainerRefresh
      //
      // Description:
      //
      $scope.$on('msgCardTemplateContainerRefresh', function () {
        //
        // Refresh Data
        //
        $scope.onRefresh($scope.options);
        //
        // Event: Begin Synchronization
        //
        $timeout(function () {
          //
          // Initialize Mouse Events
          //
          $scope.onInit(dlcui.isDefined($scope.card));
        }, 10);
      });
      //
      // Function: onInit()
      //
      $scope.onInit = function(activate) {
        //
        // UnBind Mouse Events
        //
        $($element).unbind('mouseover mouseleave');
        //
        // Activate
        //
        if (activate) {
          //
          // If this item has not been checked
          //
          if ($scope.card.checked) {
            $($element).find('.dlcui-card-checkbox-inner').css('opacity', '1');
            $($element).find('.dlcui-card-delete-inner').css('opacity', '1');
          }
          //
          // Event: Begin Synchronization
          //
          $timeout(function () {
            //
            // Event: onMouseOver
            //
            $($element).bind('mouseover', function () {
              $(this).find('.dlcui-card-checkbox-inner').css('opacity', '1');
              $(this).find('.dlcui-card-delete-inner').css('opacity', '1');
            });
            //
            // Event: onMouseleve
            //
            $($element).bind('mouseleave', function () {
              //
              // If this item has not been checked
              //
              if (!$scope.card.checked) {
                $(this).find('.dlcui-card-checkbox-inner').css('opacity', '0');
                $(this).find('.dlcui-card-delete-inner').css('opacity', '0');
              }
            });
          }, 2);
        }
      };
      //
      // Function: OnRefresh
      //
      $scope.onRefresh = function(options) {
        if (dlcui.isFunction($scope.onLoad)) {
          $scope.onLoad({ index: $scope.model.items.length }).then(function (items) {
            var list = [];
            //
            // Convert the items to a DLCUI.UI.Card object
            //
            _.each(items, function(item) {
              list.push(new DLCUI.UI.Card({
                data: item,
                canDelete: options.canDelete,
                canCheck: options.canCheck,
                canActivate: options.canActivate
              }));
            });

            $scope.model.items = list;

            $timeout(function () {
              $scope.model.visible = true;
            }, 10);
          });
        }
      };
      //
      // After rendering cards
      //
      $scope.onComplete = function () {
        if ($scope.options.width !== 'auto') {
          var h = parseFloat($scope.options.height, 10) + 6 + 'px',
              w = parseFloat($scope.options.width, 10) + 6 + 'px';
          angular.element($element).find('.card-template').each(function () {
            $(this).removeClass('flex');
            $(this).css('height', h);
            $(this).css('width', w);
          });
        }
      };
      //
      // Get the template Url
      //
      this.templateUrl = function (card) {
        if (dlcui.isDefined(card)) {
          if (dlcuiTemplate.convertTemplateToUrl(card, 'templateUrl', 'template', $scope)) {
            return card.templateUrl;
          }
        }
        return dlcuiTemplate.convertTemplateToUrl($scope.options, 'templateUrl', 'template', $scope);
      };
      //
      // Get the parent scope
      //
      this.parentScope = function () {
        return $scope.$container;
      };
      //
      // Function: onCheck()
      //
      this.onCheck = function(card) {
        //
        // Call Parent Container
        //
        if (dlcui.isFunction($scope.onCheck)) {
          $scope.onCheck({ card: card });
        }
      };
      //
      // Function: onDelete()
      //
      this.onDelete = function(card) {
        //
        // If caller wants callback then call them..
        //
        $scope.model.items.splice(_.findIndex($scope.model.items, function (i) {
          return _.isEqual(i, card);
        }), 1);
        //
        // Mark card as deleted
        //
        card.deleted = true;
        //
        // Call Parent Container
        //
        if (dlcui.isFunction($scope.onDelete)) {
          $scope.onDelete({ card: card });
        }
      };
      //
      // Function: onActive()
      //
      this.onActive = function(card) {
        //
        // Toggle Active Card
        //
        card.active = !card.active;
        //
        // Call Parent Container
        //
        if (dlcui.isFunction($scope.onActive)) {
          $scope.onActive({ card: card });
        }
        return card.active;
      };
      //
      // Refresh Grid
      //
      $scope.$emit('msgCardTemplateContainerRefresh');
    }]);
;  
/**
 *   @ngdoc directive
 *   @name pane
 *   @description The Pane groups related content on a page in an area on the page. Panes have a title, an optional icon, and are optionally collapsible.
 *
 *   @module cui.controls
 *   @src directives/output/pane.js
 *   @controlType presentational
 *
 *   @restrict E
 *
 *   @transclude The content of the Pane. Can include HTML and other CUI Components.
 *
 *   @param {(boolean|expression)=} collapsed The collapsed state of the Pane.
 *   @param {boolean=} collapsible Sets whether the Pane's collapsed state can be toggled by the user.
 *   @param {string=} icon An [Icon](../icon) which is displayed next to the `cui-title`.
 *   @param {string} cuiTitle The title for the Pane.
 *
 *   @example
 *   <h3>Set of Panes in a CUI CSS Grid</h3>
 * <example>
 *   <file name='index.html'>
 *     <div class='cui-grid'>
 *       <dlcui-content-pane class="cui-unit cui-two-thirds" cui-title="Profile" icon="user">
 *         <div ng-include="'form.html'"></div>
 *       </dlcui-content-pane>
 *       <div class="cui-unit cui-one-third">
 *         <dlcui-content-pane cui-title="Help" class="help-pane" collapsible="false" collapsed="false">
 *           <p class="light">This pane is styled by applying a class on the &lt;dlcui-content-pane&gt;. Background-color is inherited from the parent element.</p>
 *         </dlcui-content-pane>
 *         <dlcui-content-pane cui-title="New Features" icon="lightbulb-o" collapsed=true>
 *           <img src="http://lorempixel.com/g/800/600/technics" width="100%">
 *
 *           <p class="light">Lorem ipsum Cillum consequat sit quis dolore consequat et eiusmod magna sed in Duis ullamco magna aute occaecat in dolore et laborum laboris ut est sint reprehenderit qui in cillum.</p>
 *         </dlcui-content-pane>
 *       </div>
 *     </div>
 *   </file>
 *
 *   <file name='form.html'>
 *     <form name="userdetails" class="cui-form-stacked" novalidate>
 *         <div class="cui-form-group">
 *           <label for="firstname">First Name</label>
 *           <cui-textbox type="text" id="firstname" name="firstname"
 *             ng-model="vm.firstname"
 *             required></cui-textbox>
 *         </div>
 *
 *         <div class="cui-form-group">
 *           <label for="lastname">Last Name</label>
 *           <cui-textbox type="text" id="lastname" name="lastname"
 *             ng-model="vm.lastname"
 *             required></cui-textbox>
 *         </div>
 *
 *         <div class="cui-form-group">
 *           <label for="age">Age</label>
 *           <cui-textbox type="number" id="age" name="age"
 *             step="1" min="0" max="120"
 *             ng-model="vm.age"
 *             required></cui-textbox>
 *         </div>
 *
 *         <div class="cui-form-group">
 *           <label for="gender">Gender</label>
 *           <select class="cui-drop-down-list" id="gender" name="gender"
 *             ng-model="vm.gender"
 *             required>
 *               <option value="male">Male</option>
 *               <option value="female">Female</option>
 *           </select>
 *         </div>
 *
 *         <div class="cui-form-group">
 *           <label for="relationship">Marital Status</label>
 *           <select class="cui-drop-down-list" id="relationship" name="relationship"
 *             ng-model="vm.relationship"
 *             required>
 *             <option value="single">Single</option>
 *             <option value="married">Married</option>
 *           </select>
 *         </div>
 *
 *         <div class="cui-form-group">
 *           <label for="usercomment">Comments</label>
 *           <cui-textarea id="usercomment" name="usercomment"
 *             ng-model="vm.comment"
 *             maxlength=1000
 *             required></cui-textarea>
 *         </div>
 *
 *         <cui-button ng-disabled="userdetails.$pristine" ng-click="vm.reset()">Reset</cui-button>
 *         <cui-button type="primary" ng-disabled="userdetails.$invalid">Submit</cui-button>
 *       </form>
 *
 *     </file>
 *
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope) {
 *         var vm = this;
 *         $scope.$on('cui:pane:collapsed', function(e, s) {
 *           console.log('collapsed', s)
 *         });
 *
 *         $scope.$on('cui:pane:expanded', function(e, s) {
 *           console.log('expanded', s)
 *         });
 *
 *         vm.reset = function(user) {
 *           $scope.stackedform.user = {}
 *         };
 *       })
 *   </file>
 *
 *   <file name='styles.css'>
 *     .light {
 *       color: #888;
 *     }
 *
 *     .help-pane {
 *       background: #eee;
 *       color: #0085c3;
 *       border-color: #ce1126;
 *     }
 *
 *   </file>
 *
 * </example>
 *
 * <example>
 *   <file name='index.html'>
 *     <cui-button ng-click="vm.pane1 = !vm.pane1">Toggle Pane 1</cui-button>
 *     <cui-button ng-click="vm.pane2 = !vm.pane2">Toggle Pane 2</cui-button>
 *     <cui-button ng-click="vm.pane3 = !vm.pane3">Toggle Pane 3</cui-button>
 *     <cui-button ng-click="vm.pane4 = !vm.pane4">Toggle Pane 4</cui-button>
 *     <dlcui-content-pane cui-title="Pane 1" collapsed="vm.pane1">
 *       Lorem ipsum Amet mollit labore qui nostrud laborum deserunt et dolore ut nostrud dolore in in id irure dolor ad cillum exercitation commodo adipisicing minim Ut laborum fugiat est deserunt fugiat ut est voluptate dolore velit aute commodo laboris dolore eiusmod pariatur aliquip id in laborum laboris cupidatat est occaecat Ut irure dolor aute nisi laborum ullamco ea incididunt ea fugiat nulla reprehenderit et nostrud minim eu reprehenderit pariatur minim aliqua Excepteur culpa incididunt enim magna qui quis deserunt dolor laborum labore qui in in commodo culpa cupidatat fugiat cillum eu irure mollit et reprehenderit in mollit id incididunt est anim fugiat in aliqua mollit tempor cillum commodo Ut veniam dolor aute dolor ullamco dolor ullamco dolore ex amet Excepteur magna veniam aliqua veniam labore sunt reprehenderit magna ad nulla irure dolor aliquip esse deserunt irure et proident ex ad deserunt laborum.
 *     </dlcui-content-pane>
 *     <dlcui-content-pane cui-title="Pane 2" collapsed="vm.pane2">
 *       Lorem ipsum Minim id non ullamco ad ullamco dolore officia ut dolore voluptate sit id consectetur aute elit aute aliqua veniam non sed sed deserunt veniam ullamco tempor id enim cillum minim occaecat proident id laboris magna occaecat laboris velit irure quis Ut Excepteur non incididunt reprehenderit ut in incididunt cillum pariatur ex sit proident reprehenderit dolore fugiat veniam nostrud id nulla non magna culpa sunt irure dolore eiusmod in veniam velit Duis magna proident aliqua ut reprehenderit cillum adipisicing amet culpa reprehenderit mollit irure Duis Duis est dolore dolore laboris esse incididunt in adipisicing esse sint minim amet aute Ut sunt pariatur ut elit ea voluptate ex sunt adipisicing aliqua laboris non sunt officia nisi tempor sed cillum quis ex commodo tempor elit aute non aliqua nisi Excepteur dolore deserunt et nulla labore veniam Duis ut fugiat sint mollit aliqua sed pariatur id enim sunt ea in adipisicing dolor do ut ut qui commodo eiusmod proident ea pariatur eiusmod proident nostrud officia est dolore irure labore qui do ut id quis ut minim elit quis sed esse ea et pariatur magna elit velit proident culpa nostrud consectetur labore quis eiusmod id consectetur incididunt fugiat qui ex consectetur do anim Excepteur minim mollit Excepteur consectetur proident id sint ullamco nulla occaecat dolor commodo ut do anim in velit dolor incididunt nostrud dolor qui eu pariatur et sunt in eiusmod ex dolor laboris esse est commodo dolore nostrud.
 *     </dlcui-content-pane>
 *     <dlcui-content-pane cui-title="Pane 3" collapsed="vm.pane3">
 *       Lorem ipsum Mollit pariatur est proident aliqua quis sunt ut proident quis magna magna in consectetur culpa exercitation minim ex sint magna minim do magna sed Ut nulla qui aute veniam ullamco nisi aute Duis nulla nostrud ea aliquip id dolore id incididunt sed laboris reprehenderit veniam laborum eu do ut reprehenderit incididunt occaecat minim Excepteur magna occaecat consequat irure magna dolor sint in aliqua magna consectetur nisi pariatur quis cillum ea consequat ad cupidatat magna cupidatat ad consectetur Excepteur nulla labore adipisicing sed est dolore occaecat dolor nostrud in consequat dolore sint in dolor proident nostrud fugiat deserunt dolore commodo in officia ad est aliquip qui veniam cupidatat in nostrud reprehenderit et dolore ullamco labore dolore in in aute labore incididunt anim anim dolore incididunt ullamco nostrud sint reprehenderit ea laboris consectetur elit pariatur irure officia nulla sit Duis incididunt aliquip aute eu qui dolore nisi ad eiusmod elit culpa dolor dolore do anim ullamco reprehenderit in quis irure cillum do Duis Duis in elit sit Duis irure dolor minim adipisicing in Excepteur fugiat aliqua Duis elit veniam tempor minim sint ea sint amet fugiat fugiat aliquip adipisicing occaecat Duis eu Duis eiusmod ea exercitation veniam officia non cillum laborum esse dolore ut ea occaecat ea aute officia tempor consequat ex id.
 *     </dlcui-content-pane>
 *     <dlcui-content-pane cui-title="Pane 4" collapsed="vm.pane4">
 *       Lorem ipsum Ea exercitation minim incididunt ullamco cillum dolore sint cupidatat fugiat dolore ex et pariatur id sint incididunt velit Excepteur labore officia Excepteur Duis in id incididunt et laborum laboris nulla mollit ex dolore eiusmod consequat cillum occaecat et commodo dolore est aute ea sed proident quis aute non anim in dolore et culpa adipisicing nisi cillum nulla incididunt esse voluptate nisi ex velit ullamco proident exercitation tempor aliqua sint enim mollit commodo magna in deserunt Duis do dolore exercitation proident Excepteur officia dolor Ut proident ullamco veniam Excepteur irure officia nostrud qui culpa in non non laborum dolore ullamco laborum non dolore sunt ex in proident velit eiusmod fugiat irure quis et ut laboris ex ullamco irure irure ad irure minim commodo eiusmod in anim dolor ex magna dolor aute cillum ut aliquip incididunt esse adipisicing aliquip cillum veniam et est ea eiusmod est irure eu aliqua eu cupidatat eiusmod fugiat deserunt reprehenderit aute in labore mollit officia est irure elit commodo ut dolor amet Duis consectetur quis irure enim adipisicing proident in fugiat id officia eiusmod dolor id adipisicing adipisicing Excepteur nostrud nostrud dolor fugiat deserunt sed ad magna officia do proident Ut anim nulla cillum ullamco quis sint pariatur Duis do nostrud magna minim tempor in ullamco nisi aute occaecat dolore minim consequat eiusmod officia mollit quis occaecat culpa occaecat in anim eiusmod labore.
 *     </dlcui-content-pane>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.pane1 = false;
 *         vm.pane2 = false;
 *         vm.pane3 = false;
 *         vm.pane4 = false;
 *       });
 *   </file>
 * </example>
*/

'use strict';



angular.module('dell.ngclarity.directives').directive('dlcuiContentPane', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  function link(scope, element, attributes) {
    var collapsedIsAssignable = function collapsedIsAssignable() {
      return attributes.collapsed !== 'true' && attributes.collapsed !== 'false';
    };

    scope._collapsed = scope.collapsed != null ? scope.collapsed : false;
    scope._collapsible = scope.collapsible != null ? scope.collapsible : true;
    scope.icon = attributes.icon || '';

    var collapse = function collapse(emit) {
      scope._collapsed = true;
      if (collapsedIsAssignable()) {
        scope.collapsed = true;
      }
      if (emit) {
        scope.$emit('dlcui:contentpane:collapsed', scope);
      }
    };

    var expand = function expand(emit) {
      scope._collapsed = false;
      if (collapsedIsAssignable()) {
        scope.collapsed = false;
      }
      if (emit) {
        scope.$emit('dlcui:contentpane:expanded', scope);
      }
    };

    var toggle = function toggle(currentlyCollapsed, emit) {
      if (emit == null) {
        emit = true;
      }
      switch (currentlyCollapsed) {
        case true:
          return collapse(emit);
        case false:
          return expand(emit);
      }
    };

    scope.toggleCollapse = function () {
      if (!scope._collapsible) {
        return;
      }
      toggle(!scope._collapsed);
    };

    scope.$watch('collapsed', function (collapsed) {
      toggle(collapsed, collapsed !== scope._collapsed);
    });
  }
  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/contentpane/dlcuiContentPane.directive.html'].join(''),
    restrict: 'EA',
    transclude: true,
    scope: {
      dlcuiTitle: '@',
      collapsible: '=?',
      collapsed: '=?'
    },
    link: link
  };
}]);

;angular.module('dell.ngclarity.directives')
  .controller('dlcuiLayoutController', ['$scope', 'dlcuiBaseTemplatePath', 'dlcuiApplicationFrameStates', 'dlcuiLayoutStates', function ($scope,
                                               dlcuiBaseTemplatePath,
                                               dlcuiApplicationFrameStates,
                                               dlcuiLayoutStates) {
    /* eslint-disable */
    // reason: eslint is odd this is supposed to fix the issue reported but still complains on this line
    var vm = this;
    /* eslint-enable */

    $scope.data = {
      frameStates: dlcuiApplicationFrameStates,
      layoutStates: dlcuiLayoutStates
    };

    vm.$scope = $scope;

    vm.multiTranscludeEl = null;

    return vm;
  }]);
;/**
 * @ngdoc directive
 * @module dlcui
 * @src directives/containers/layouts/dlcuiLayoutDetail.directive.js
 * @name layoutDetail
 * @controlType foundational
 *
 * @description Transcludes a section for displaying details and works with selection directive
 * to show details based on selection.
 *
 * This directive will add a <b>getSelectedData()</b> to the current scope through which the currently
 * selected data can be obtained.
 *
 * <b>Note:</b> This component is not completed yet and layout is not perfect
 *
 * @example
 * <h3>Layout Detail used with a dlcui-layout-selection area</h3>
 *  <example>
 *
 *  <file name='index.html'>
 *  <dlcui-application-frame application-name="Test">
 *    <div dlcui-content>
 *      <dlcui-layout-selection expanded="false">
 *        <dlcui-button dlcui-type="primary" ng-click="setSelectedData(market.options[0])">
 *          {{market.options[0].product}}
 *        </dlcui-button>
 *        <dlcui-button dlcui-type="primary" ng-click="setSelectedData(market.options[1])">
 *          {{market.options[1].product}}
 *        </dlcui-button>
 *      </dlcui-layout-selection>
 *      <dlcui-layout-detail>
 *        <br>
 *        <b>Selected Product:</b> {{getSelectedData().product}}
 *        <br><br>
 *        <b>Selected Price:</b>   ${{getSelectedData().price}}
 *      </dlcui-layout-detail>
 *    </div>
 *  </dlcui-application-frame>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function($scope) {
 *
 *			$scope.market = {
 *				options:  [
 *			  	{
 *			   	  product: 'Apple',
 *			   	  price: 14.96
 *			   	},
 *  			  {
 *  			    product: 'Banana',
 *  			    price: 2.23
 *  			  }
 *  			]
 *			};
 *		});
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *	  	height: 350px;
 *		}
 *  </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiLayoutDetail', ['dlcuiBaseTemplatePath', 'dlcuiLayoutStates', function (dlcuiBaseTemplatePath, dlcuiLayoutStates) {
    return {
      restrict: 'E',
      replace: true,
      transclude: true,
      controller: 'dlcuiLayoutController',
      scope: {},
      templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/layouts/dlcuiLayoutDetail.directive.html'].join(''),
      link: function (scope, element, attrs, ctrl, transcludefn) {
        scope.state = dlcuiLayoutStates;

        dlcuiLayoutStates.detailsAreaPresent = true;

        scope.$on('$destroy', function () {
          dlcuiLayoutStates.detailsAreaPresent = false;
        });

        // Decorate the transcluded element scope with methods to get/set the selected data
        transcludefn(function(clone, innerScope) {
          /**
           * Returns the currently selected data
           * @returns {*} The selected data.
           */
          innerScope.getSelectedData = function () {
            return dlcuiLayoutStates.selectedData;
          };

          element.append(clone);
        });
      }
    };
  }]);
;/**
 *  @ngdoc directive
 *  @module dlcui
 *  @src directives/containers/layouts/dlcuiLayoutFooter.directive.js
 *  @name layoutFooter
 *  @controlType foundational
 *
 *  @description Used within the contents area to represent a footer.
 *
 *  @example
 *  <h3>Simple content with footer</h3>
 *  <example>
 *  <file name='index.html'>
 *  <dlcui-application-frame application-name="Test">
 *    <div dlcui-content>
 *      <dlcui-layout-main>
 *        <h1>Home</h1>
 *        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras dignissim leo ipsum, sit amet auctor
 *        neque pretium sed. Integer placerat diam quis diam aliquet posuere. Sed in mauris tellus. Maecenas et
 *        est sit amet justo iaculis ornare. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse
 *        euismod neque eget turpis tristique porttitor. Vestibulum et sem id nibh efficitur venenatis nec consequat
 *        nunc. Mauris lacinia tempus mauris, vel suscipit lectus lacinia quis.</p>
 *      </dlcui-layout-main>
 *      <dlcui-layout-footer>
 *        <p>Copyright Label Here<p>
 *      </dlcui-layoutfooter>
 *    </div>
 *  </dlcui-application-frame>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function($scope) {
 *
 *		});
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *		  height: 350px;
 *		}
 *
 *  </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiLayoutFooter', ['dlcuiBaseTemplatePath', 'dlcuiLayoutStates', function (dlcuiBaseTemplatePath, dlcuiLayoutStates) {
    return {
      restrict: 'E',
      replace: true,
      transclude: true,
      controller: 'dlcuiLayoutController',
      scope: {},
      templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/layouts/dlcuiLayoutFooter.directive.html'].join(''),
      link: function (scope) {
        dlcuiLayoutStates.footerAreaPresent = true;

        scope.$on('$destroy', function () {
          dlcuiLayoutStates.footerAreaPresent = false;
        });
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @module dlcui
 * @src directives/containers/layouts/dlcuiLayoutMain.directive.js
 * @name layoutMain
 * @controlType foundational
 *
 * @description Trancludes the main content (which takes 100% width of the content inside an application
 * frame directive) to be displayed in a page
 *
 * @example
 * <h3>Simple content area</h3>
 * <example>
 * <file name='index.html'>
 * <dlcui-application-frame application-name="Test">
 *   <div dlcui-content>
 *     <dlcui-layout-main>
 *       <h1>Home</h1>
 *       <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras dignissim leo ipsum, sit amet auctor neque
 *       pretium sed. Integer placerat diam quis diam aliquet posuere. Sed in mauris tellus. Maecenas et est sit
 *       amet justo iaculis ornare. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse euismod
 *       neque eget turpis tristique porttitor. Vestibulum et sem id nibh efficitur venenatis nec consequat nunc.
 *       Mauris lacinia tempus mauris, vel suscipit lectus lacinia quis.</p>
 *     </dlcui-layout-main>
 *   </div>
 * </dlcui-application-frame>
 * </file>
 * <file name='app.js'>
 *   angular.module('app', ['dlcui'])
 *   .controller('AppCtrl', function($scope) {
 *
 *   });
 * </file>
 * <file name='styles.css'>
 *   body {
 *  		height: 350px;
 *  		}
 * </file>
 * </example>
 */

angular.module('dell.ngclarity.directives')
  .directive('dlcuiLayoutMain', ['$timeout', 'dlcuiBaseTemplatePath', function ($timeout,
                                        dlcuiBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      transclude: true,
      controller: 'dlcuiLayoutController',
      scope: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/layouts/dlcuiLayoutMain.directive.html'].join(''),
      link: function () {
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @module dlcui
 * @name layoutSelection
 * @src directives/containers/layouts/dlcuiLayoutSelection.directive.js
 * @controlType foundational
 *
 * @description Transcludes a section for displaying selection and works with details directive to show details based
 * on selection
 *
 * This directive will add a <b>setSelectedData()</b> to the current scope through which the currently
 * selected data can be set. A <b>getSelectedData()</b> is also added to allow the selection to be obtained.
 *
 * <b>Note:</b> This component is not completed yet and layout is not perfect
 *
 * @example
 * <h3>Layout Detail used with a dlcui-layout-selection area</h3>
 *  <example>
 *
 *  <file name='index.html'>
 *  <dlcui-application-frame application-name="Test">
 *    <div dlcui-content>
 *      <dlcui-layout-selection expanded="false">
 *        <dlcui-button dlcui-type="primary" ng-click="setSelectedData(market.options[0])">
 *          {{market.options[0].product}}
 *        </dlcui-button>
 *        <dlcui-button dlcui-type="primary" ng-click="setSelectedData(market.options[1])">
 *          {{market.options[1].product}}
 *        </dlcui-button>
 *      </dlcui-layout-selection>
 *      <dlcui-layout-detail>
 *        <br>
 *        <b>Selected Product:</b> {{getSelectedData().product}}
 *        <br><br>
 *        <b>Selected Price:</b>   ${{getSelectedData().price}}
 *      </dlcui-layout-detail>
 *    </div>
 *  </dlcui-application-frame>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function($scope) {
 *
 *			$scope.market = {
 *				options:  [
 *			  	{
 *			   	  product: 'Apple',
 *			   	  price: 14.96
 *			   	},
 *  			  {
 *  			    product: 'Banana',
 *  			    price: 2.23
 *  			  }
 *  			]
 *			};
 *		});
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *	  	height: 350px;
 *		}
 *  </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiLayoutSelection', ['dlcuiBaseTemplatePath', 'dlcuiLayoutStates', function (dlcuiBaseTemplatePath, dlcuiLayoutStates) {
    return {
      restrict: 'E',
      replace: true,
      transclude: true,
      controller: 'dlcuiLayoutController',
      scope: {
        expanded: '='
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/layouts/dlcuiLayoutSelection.directive.html'].join(''),
      link: function (scope, element, attrs, ctrl, transcludefn) {
        dlcuiLayoutStates.selectionExpanded = dlcui.isBoolean(scope.expanded) ? scope.expanded : true;

        scope.state = dlcuiLayoutStates;

        dlcuiLayoutStates.selectionAreaPresent = true;

        scope.$on('$destroy', function () {
          dlcuiLayoutStates.selectionAreaPresent = false;
        });

        // Decorate the transcluded element scope with methods to get/set the selected data
        transcludefn(function(clone, innerScope) {
          /**
           * Returns the currently selected data
           * @returns {*} The selected data
           */
          innerScope.getSelectedData = function () {
            return dlcuiLayoutStates.selectedData;
          };

          /**
           * Set the currently selected data.
           * @param {*} data Sets the selected data
           */
          innerScope.setSelectedData = function (data) {
            dlcuiLayoutStates.selectedData = data;
          };

          element.append(clone);
        });

        scope.$watch('expanded', function(newValue) {
          dlcuiLayoutStates.selectionExpanded = dlcui.isBoolean(newValue) ? newValue : true;
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiLayoutStates', ['$window', '$rootScope', function ($window,
                                        $rootScope) {
    var $windowEl = angular.element($window);

    var states = {
      toolbarAreaPresent: false,
      detailsAreaPresent: false,
      footerPresent: false,
      selectionAreaPresent: false,
      windowSize: '',
      selectionExpanded: true,
      detailsExpanded: false
    };

    states.updateWindowStates = function () {
      var windowWidth = $window.innerWidth;
      if (windowWidth >= 1200) {
        states.windowSize = 'large';
      } else if (windowWidth >= 992) {
        states.windowSize = 'medium';
      } else if (windowWidth >= 768) {
        states.windowSize = 'small';
      } else {
        states.windowSize = 'xsmall';
      }
    };

    $windowEl.bind('resize', function () {
      states.updateWindowStates();
      $rootScope.$apply();
    });

    states.updateWindowStates();

    return states;
  }]);
;/*
 * @ngdoc directive
 * @module dlcui
 * @src directives/containers/layouts/dlcuiLayoutTable.directive.js
 * @name layoutTable
 * @controlType foundational
 *
 * @description Combines styles for 'dlcui-layout-selection' and 'dlcui-layout-detail' to create an interactive display
  * of data in a table form.
 *
 * <h3>See 'dlcui-table' for table specific options</h3>
 *
 * @param {boolean=} expanded Whether the selection area should take 100% width or only part of the page when
 * initially loaded.
 * if extended is set to true, the detail area will hide.
 * Defaults to true
 *
 * @example
 * <h3>Slection table sample</h3>
 *	<example>
 *	<file name='index.html'>
 *	<dlcui-application-frame application-name="Test">
 *		<div dlcui-content>
 *			<dlcui-layout-table table-selected-model="data.selectedRow">
 *				<div dlcui-layout-selection>
 *					<dlcui-table dlcui-table-data="data.systems"
 *				             config="data.tableConfig"
 *				             dlcui-selected-model="data.selectedRow">
 *					</dlcui-table>
 *				</div>
 *				<div dlcui-layout-detail>
 *					<dlcui-layout-main>
 *						<h1>DETAIL</h1>
 *						<ul>
 *							<li><strong>ID:</strong> {{data.selectedRow.id}}</li>
 *							<li><strong>Name:</strong> {{data.selectedRow.name}}</li>
 *							<li><strong>IP Address:</strong> {{data.selectedRow.ipaddress}}</li>
 *							<li><strong>Description:</strong> {{data.selectedRow.description}}</li>
 *							<li><strong>Online:</strong> {{data.selectedRow.online}}</li>
 *						</ul>
 *					</dlcui-layout-main>
 *				</div>
 *			</dlcui-layout-table>
 *		</div>
 *	</dlcui-application-frame>
 *	</file>
 *	<file name='app.js'>
 *		angular.module('app', ['dlcui'])
 *		.controller('AppCtrl', function($scope) {
 *				$scope.data = {
 *				systems: [],
 *				lastServer: 0,
 *				pageSize: 9999,
 *				selectedRow: {},
 *				tableConfig: {
 *					columnCollection: ['ID', 'Name', 'IP Address', 'Description', 'Online']
 *				},
 *				$scope.data.systems = [
 *					{id: 001, name: "Name 1", ipaddress: "192.168.1.3", description: "A Test", online: true },
 *					{id: 002, name: "Name 2", ipaddress: "192.168.1.2", description: "Another Test", online: true }
 *					{id: 003, name: "Name 3", ipaddress: "192.168.1.1", description: "Yes one more", online: false }
 *				]
 *			};
 *		});
 *	</file>
 *	<file name='styles.css'>
 *		body {
 *		height: 350px;
 *		}
 *	</file>
 *	</example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiLayoutTable', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      transclude: true,
      controller: 'dlcuiLayoutController',
      scope: {
        tableSelectedModel: '='
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/layouts/dlcuiLayoutTable.directive.html'].join(''),
      link: function (scope) {
        scope.data = {
          rowIsSelected: false
        };

        scope.$watch('tableSelectedModel', function (newVal) {
          if (!newVal || Object.keys(newVal).length === 0) {
            scope.data.rowIsSelected = false;
          } else {
            scope.data.rowIsSelected = true;
          }
        });
      }
    };
  }]);
;/**
 *  @ngdoc directive
 *  @module dlcui
 *  @src directives/containers/layouts/dlcuiLayoutToolbar.directive.js
 *  @name layoutToolbar
 *  @controlType foundational
 *  @description Trancludes the content inside a 'dlcui-layout-toolbar' element.
 *  See 'dlcui-toolbar' for toolbar options
 *
 *  @example
 *  <h3>Simplecontent area</h3>
 *  <example>
 *  <file name='index.html'>
 *  <dlcui-application-frame application-name="Test">
 *    <div dlcui-content>
 *      <dlcui-layout-toolbar label="Example">
 *        <dlcui-toolbar-button ng-click="actions.click('refresh')" icon-name="#ic_A_01_refresh_device_list">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="actions.click('search')" icon-name="#ic_search">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="actions.click('alerts')" icon-name="#ic_alerts">
 *        </dlcui-toolbar-button>
 *      </dlcui-layout-toolbar>
 *      <dlcui-layout-main>
 *        <h1>Home</h1>
 *        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras dignissim leo ipsum, sit amet auctor
 *        neque pretium sed. Integer placerat diam quis diam aliquet posuere. Sed in mauris tellus. Maecenas et est
 *        sit amet justo iaculis ornare. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse
 *        euismod neque eget turpis tristique porttitor. Vestibulum et sem id nibh efficitur venenatis nec consequat
 *        nunc. Mauris lacinia tempus mauris, vel suscipit lectus lacinia quis.</p>
 *      </dlcui-layout-main>
 *    </div>
 *  </dlcui-application-frame>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function($scope) {
 *			//place action code here
 *		});
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *		height: 350px;
 *		}
 *  </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiLayoutToolbar', ['dlcuiBaseTemplatePath', 'dlcuiLayoutStates', function (dlcuiBaseTemplatePath, dlcuiLayoutStates) {
    return {
      restrict: 'E',
      replace: true,
      controller: 'dlcuiLayoutController',
      scope: {
        label: '@'
      },
      transclude: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/layouts/dlcuiLayoutToolbar.directive.html'].join(''),
      link: function (scope) {
        dlcuiLayoutStates.toolbarAreaPresent = true;

        scope.$on('$destroy', function () {
          dlcuiLayoutStates.toolbarAreaPresent = false;
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiPane',
    ['dlcuiBaseTemplatePath',
      function (dlcuiBaseTemplatePath) {
        return {
          restrict: 'E',
          replace: true,
          transclude: true,
          templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/panecontainer/dlcuiPane.directive.html'].join(''),
          scope: {
            model: '=ngModel',
            options: '=',
            disabled: '=ngDisabled'
          },
          link: function(scope, element, attr) {
            if (dlcui.isDefined(scope)) {
              //
              // Get Pane Type
              //
              scope.element.type = DLCUI.Convert.toPaneType(attr.type);
              scope.element.name = DLCUI.Convert.toStringPaneType(scope.element.type);
              scope.element.class = attr.class;
            }
          },
          controller: ['$scope', '$element', function ($scope, $element) {
            //
            // Set Fixed Type
            //
            $scope.FixedType = DLCUI.Constant.FixedType;
            //
            // Define Pane
            //
            $scope.element = new DLCUI.UI.Pane({
              size: dlcui.init($scope.options, 'size', 50),
              minSize: dlcui.init($scope.options, 'minSize', 50),
              element: $element
            });
            //
            // Get the Parent Scope
            //
            if (dlcui.isObject($scope.$parent)) {
              if (dlcui.isObject($scope.$parent.$parent)) {
                if (dlcui.isObject($scope.$parent.$parent.element)) {
                  //
                  // Add this pane to the parent scope's split panel.
                  //
                  $scope.$parent.$parent.element.add($scope.element);
                }
              }
            }
          }]
        };
      }]);

;/* eslint max-nested-callbacks: 0 */
/**
 *  @ngdoc directive
 *  @name paneContainer
 *  @module dlcui
 *  @src directives/containers/paneContainer/paneContainer.directive.js
 *  @controlType foundational
 *  @restrict E
 *
 *  @description PaneContainer that accomidates a panel slide bar.
 *
 *  @param {object=}
 *  options represent a set of options for the control.
 *  ```javascript
 *  {
 *    divider: {
 *      size: <number>       // width of the divider in pixels. Default is set to 3 pixels.
 *    },
 *    pane: {
 *      left: {
 *        size: 50          // width of the left pane in percentages. Default is 50%.
 *      },
 *      right: {
 *        size: 50          // width of the left pane in percentages. Default is 50%.
 *      }
 *    }
 *  }
 *  ```
 *  @example
 *  <h3>Pane Example</h3>
 *  <example name='paneContainer'>
 *  <file name='index.html'>
 *    <div class="container-fluid">
 *      <div class="global-settings">
 *        <h2>General Settings</h2>
 *        <p><label class="label">Enabled:<input type="checkbox" ng-model="model.enabled"></label></p>
 *      </div>
 *      <div class="component-container">
 *      <p>
 *        <label class="label">Table View:
 *          <select ng-model="table.options.viewType" ng-options="item.id as item.name for item in table.items">
 *          </select>
 *        </label>
 *      </p>
 *      <div>
 *        <dlcui-toolbar justify="flex-end">
 *          <dlcui-toolbar-group>
 *            <dlcui-toolbar-button ng-click="click('Edit Device')"
 *              icon-name="#ic_editrename"
 *              tooltip="Edit Device"
 *              collapsed-label="Edit Device">
 *            </dlcui-toolbar-button>
 *            <dlcui-toolbar-button ng-click="click('Delete Device')"
 *              icon-name="#ic_delete"
 *              tooltip="Delete Device"
 *              collapsed-label="Delete Device">
 *            </dlcui-toolbar-button>
 *          </dlcui-toolbar-group>
 *          <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *          <dlcui-toolbar-group>
 *            <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *            </dlcui-toolbar-button>
 *            <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *            </dlcui-toolbar-button>
 *            <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *            </dlcui-toolbar-button>
 *          </dlcui-toolbar-group>
 *        </dlcui-toolbar>
 *        <dlcui-pane-container options="model.options" ng-disabled="!model.enabled">
 *          <dlcui-pane type="left">
 *            <dlcui-table
 *              ng-model="table.data"
 *              columns="table.columns"
 *              options="table.options"
 *              on-callback="table.onCallback(item)"
 *              on-load="table.onLoad(items)"
 *              on-all-checked="table.onAll(checked)"
 *              on-active="table.onActive(row)"
 *              on-check="table.onCheck(row)"
 *              on-delete="table.onDelete(row)"
 *              ng-disabled="model.enabled === false"></dlcui-table>
 *          </dlcui-pane>
 *          <dlcui-pane type="right">
 *            <dlcui-navigation-tab actions="navigationTab.items">
 *            </dlcui-navigation-tab>
 *          </dlcui-pane>
 *        </dlcui-pane-container>
 *      </div>
 *     </div>
 *   </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, $q, $timeout) {
 *      var simulator = new DLCUI.Data.Simulator({
 *        type: DLCUI.Constant.ObjectType.Raw
 *      });
 *      //
 *      // Create a Standard Model
 *      //
 *      $scope.model = new DLCUI.Demo.Model({
 *        visible: true,
 *        component: 'Pane',
 *        items: [
 *          {
 *            id: DLCUI.Constant.Layout.Vertical,
 *            name: 'Vertical'
 *          },
 *          {
 *            id: DLCUI.Constant.Layout.Horizontal,
 *            name: 'Horizontal'
 *          }
 *        ],
 *        item: {
 *          id: DLCUI.Constant.Layout.Horizontal,
 *          name: 'Horizontal'
 *        },
 *        options: {
 *          layout: DLCUI.Constant.Layout.Horizontal,
 *          size: 300,
 *          divider: {
 *            size: 4
 *          },
 *          pane: {
 *            left: {
 *              size: 50
 *            },
 *            right: {
 *              size: 50
 *            }
 *          }
 *        }
 *      });
 *      //
 *      // Create Standard Table
 *      //
 *      $scope.table = new DLCUI.Demo.Table({
 *        enabled: true,
 *        component: 'Table',
 *        items: [
 *          {
 *            id: DLCUI.Constant.ViewType.Table,
 *            name: 'Table'
 *          },
 *          {
 *            id: DLCUI.Constant.ViewType.Card,
 *            name: 'Card'
 *          }
 *        ],
 *        item: {
 *          id: DLCUI.Constant.ViewType.Card,
 *          name: 'Card'
 *        },
 *        options: {
 *          viewType: DLCUI.Constant.ViewType.Table,
 *          type: DLCUI.Constant.TableType.MultiSelect,
 *          column: {
 *            forceCollapse: false,
 *            autoCollapse: true,
 *            autoCollapseTimeoutInterval: 250
 *          },
 *          card: {
 *            template: 'cardItem.template.html',
 *            height: 'auto',
 *            width: 'auto'
 *          },
 *          footer: {
 *            label: '',
 *            visible: true
 *          },
 *          pagination: {
 *            pageSize: 5,
 *            visible: true
 *          },
 *          width: '100%'
 *        },
 *        columns: [
 *          {
 *            type: 'checkbox',
 *            fixed: true
 *          },
 *          {
 *            type: 'icon',
 *            field: 'id',
 *            fixed: true
 *          },
 *          {
 *           type: 'int',
 *            label: 'Id',
 *            field: 'id',
 *            width: '65px',
 *            template: '# DLCUI.formatGeneral("00", id) #',
 *            sortable: true
 *          },
 *          {
 *            label: 'Name',
 *            field: 'name',
 *            width: '100px',
 *            fixed: true,
 *            sortable: true
 *          },
 *          {
 *            type: 'int',
 *            label: 'Age',
 *            field: 'age',
 *            template: '# DLCUI.formatGeneral("00", age) #',
 *            sortable: true
 *          }
 *        ],
 *        data: simulator.data(0, 3),
 *        onLoad: function (items) {
 *          var deferred = $q.defer();
 *
 *          $timeout(function () {
 *            var data = [];
 *            //
 *            // Simulated Data
 *           //
 *            for (var nI = items; nI < items + 10; nI++) {
 *              data.push({
 *                id: nI,
 *                name: "<i>Name X</i>".replace(/X/g, nI),
 *                age: Math.floor(Math.random() * 10) + 1
 *              });
 *            }
 *
 *            deferred.resolve(data);
 *          }, 50);
 *
 *          return deferred.promise;
 *        },
 *        onCallback: function (row) {
 *          if (dlcui.isObject(row)) {
 *            switch (row.value) {
 *              case 1:
 *                return '#ic_status_devices_healthy';
 *                break;
 *              case 2:
 *                return '#ic_status_devices_offline';
 *                break;
 *              case 3:
 *                return '#ic_status_updates_completed';
 *                break;
 *              case 4:
 *                return '#ic_status_updates_progress';
 *                break;
 *              default:
 *                return '#ic_critical';
 *                break;
 *            }
 *          }
 *        },
 *        onAll: function (row) {
 *          console.log('onAll(): ', row);
 *        },
 *        onCheck: function (row) {
 *          console.log('onCheck(): ', row);
 *        },
 *        onActive: function (row) {
 *          console.log('onActive(): ', row);
 *        },
 *        onDelete: function (row) {
 *          console.log('onDelete(): ', row);
 *        }
 *      });
 *      //
 *      //  Create Standard Navigation Tab
 *      //
 *      $scope.navigationTab = new DLCUI.Demo.Model({
 *        component: 'Navigation Tab',
 *        items: [
 *          {
 *            id: 'desktops',
 *            label: 'Desktops',
 *            execute: function() {
 *            }
 *          },
 *          {
 *            id: 'hosts',
 *            label: 'Hosts',
 *            execute: function() {
 *            }
 *          },
 *          {
 *            id: 'sessions',
 *            label: 'Sessions',
 *            execute: function() {
 *            }
 *          }
 *        ],
 *        options: {
 *         size: 300,
 *          divider: {
 *            size: 4
 *          },
 *          pane: {
 *            left: {
 *              size: 50
 *            },
 *            right: {
 *              size: 50
 *            }
 *          }
 *        }
 *      });
 *    });
 *  </file>
 *  <file name="cardItem.template.html">
 *   <div class="card-item">
 *     <dlcui-icon type="svg" icon="#ic_user" size="30px"></dlcui-icon>
 *     <div class="card-detail">
 *        <h3>
 *          <div ng-bind="card.data.name"></div>
 *        </h3>
 *        <div class="card-group">
 *          <div class="card-label">Balance:&nbsp;</div>
 *          <div class="card-control">{{ card.data.balance | currency }}</div>
 *        </div>
 *        <div class="card-group">
 *          <div class="card-label">Address:&nbsp;</div>
 *          <div class="card-control" ng-bind="card.data.address"></div>
 *        </div>
 *     </div>
 *   </div>
 *  </file>
 *  <file name='styles.css'>
 *
 *    body {
 *      height: 1000px;
 *    }
 *     table {
 *      width: 200px;
 *      border: 1px solid grey; }
 *     table thead {
 *        font-weight: bold; }
 *     table thead th {
 *          padding: 3px; }
 *     table tr {
 *        height: 25px; }
 *     table tr td {
 *          padding: 5px; }
 *
 *     .container-fluid {
 *      background-color: transparent; }
 *     .container-fluid .global-settings {
 *       border-radius: 5px;
 *        border: 1px solid #ededed;
 *        min-height: 75px;
 *        padding: 10px;
 *        text-align: left;
 *        margin-bottom: 10px;
 *        width: 80%; }
 *     .container-fluid .global-settings h2 {
 *          font-weight: 200;
 *          text-transform: uppercase;
 *          border-bottom: 2px double #ededed;
 *          line-height: 30px; }
 *     .container-fluid .component-container {
 *        border-radius: 5px;
 *        border: 1px solid #6b6b6b;
 *        padding: 10px;
 *        text-align: left;
 *        width: 80%; }
 *     .container-fluid .component-container label {
 *          display: inline-block; }
 *     .container-fluid .component-container h2 {
 *          font-weight: 200;
 *          text-transform: uppercase;
 *          border-bottom: 2px double #ededed;
 *          line-height: 30px; }
 *     .container-fluid .component-container .checkbox-state {
 *          height: 25px;
 *          padding: 5px; }
 *     .container-fluid .component-container .checkbox-state.inverse {
 *            background-color: #007db8; }
 *     .container-fluid .component-container .well {
 *         border-top-left-radius: 2px;
 *          border-top-right-radius: 2px;
 *          border-bottom-right-radius: 2px;
 *          border-top-right-radius: 2px;
 *          border-bottom-left-radius: 2px;
 *          border-bottom-right-radius: 2px;
 *          border-bottom-left-radius: 2px;
 *          border-top-left-radius: 2px;
 *          background-color: #F1F1F1;
 *          border: 1px solid #6b6b6b; }
 *     .container-fluid .component-container .drop-down-list {
 *          margin-bottom: 10px; }
 *
 *     .card-item {
 *      padding: 5px; }
 *     .card-item .card-detail .card-group {
 *        padding: 3px;
 *        margin-bottom: 5px; }
 *     .card-item .card-detail .card-group .card-label {
 *          font-size: 10px;
 *          margin-right: 10px;
 *          text-align: left; }
 *     .card-item .card-detail .card-group .card-control {
 *          text-align: left; }
 *     .card-item .card-detail .card-group:after {
 *          clear: both; }
 *
 *  </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiPaneContainer',
    ['dlcuiBaseTemplatePath',
      '$timeout',
      function (dlcuiBaseTemplatePath,
                $timeout) {
        return {
          restrict: 'E',
          replace: true,
          transclude: true,
          templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/paneContainer/dlcuiPaneContainer.directive.html'].join(''),
          scope: {
            model: '=ngModel',
            options: '=',
            disabled: '=ngDisabled'
          },
          link: function(scope, element, attr) {
            if (dlcui.isDefined(scope)) {
              //
              // Get Pane Type
              //
              scope.element.class = attr.class;
            }
          },
          controller: ['$scope', '$element', function ($scope, $element) {
            //
            // Create a Container Model that will link to the
            // .dlcui-pane-container div tag
            //
            $scope.element = new DLCUI.UI.PaneContainer({
              size: dlcui.init($scope.options, 'size', 100),
              type: 'container',
              element: $element
            });
            //
            // Create a Pane Model that will link to the
            // .dlcui-divider div tag
            //
            $scope.divider = new DLCUI.UI.Pane({
              size: dlcui.init($scope.options.divider, 'size', 3),
              class: 'dlcui-divider',
              type: 'divider',
              element: angular.element($element).find('.dlcui-divider')[0]
            });
            //
            // Add Divider Element
            //
            $scope.element.add($scope.divider);
            //
            // Give time for the children to register
            //
            $timeout(function() {
              var container = angular.element($element).find('.dlcui-pane-container-horizontal'),
                  leftPane = angular.element(container).find(".dlcui-pane[type='left']"),
                  rightPane = angular.element(container).find(".dlcui-pane[type='right']"),
                  divider = angular.element($element).find('.dlcui-divider')[0];

              //
              // Align Items' Using Flex Order
              //
              $(leftPane).css('order', 1);
              $(divider).css('order', 2);
              $(rightPane).css('order', 3);
              //
              // Function: onReady()
              //
              $scope.element.onReady();
            }, 50);
          }]
        };
      }]);

;
'use strict';



angular.module('dell.ngclarity.directives').directive('dlcuiRowContainer', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
    controller.$inject = ['$scope'];
  function controller($scope){
	  var vm=this;	  
	  vm.column=$scope.columnset;
	  vm.gridwidth=$scope.gridcount;
	  vm.getColumnSet = function() {
       return vm.column;
	  }
	  vm.getGridCount = function() {
       return 'col-md-'+vm.gridwidth;
	  }
	  vm.getRange = function() {
        return new Array(vm.column);
      }
    }
  return {
	templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/rowContainer/dlcuiRowContainer.directive.html'].join(''),
    restrict: 'E',
	transclude: true,
    scope: {
      columnset: '=',
	  gridcount:'='
    },
	controller:controller,
	controllerAs:'vm'
  };
}]);

angular.module('dell.ngclarity.directives').directive('dlcuiRow', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
    controller.$inject = ['$scope'];
function controller($scope){
	  var vm1=this;	  
	   
    }
  return {
	
    restrict: 'E',
	require:'^dlcuiRowContainer',
	templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/rowContainer/dlcuiRow.directive.html'].join(''),
	transclude: true,
	controller:controller,
	controllerAs:'vm1',
	link:function(scope,element,attrs,parentCtrl){
    scope.column = parentCtrl.getColumnSet();
	scope.range=parentCtrl.getRange();
},
	
  };
}]);
angular.module('dell.ngclarity.directives').directive('dlcuiColumn', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  return {
	
    restrict: 'E',
	require:'^dlcuiRowContainer',
	templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/rowContainer/dlcuiColumn.directive.html'].join(''),
	transclude: true,
	scope: {
	  gridcount:'='
    },
	link:function(scope,element,attrs,parentCtrl){
    scope.column = parentCtrl.getColumnSet();
	scope.getGridCount = function() {
	   if(scope.gridcount){
       return 'col-md-'+scope.gridcount;
	   }else{
		   if(scope.column==1) return 'col-md-12';
		   if(scope.column==2) return 'col-md-6';
		   if(scope.column==3) return 'col-md-4'
	   }
	  }
	  scope.width=scope.getGridCount();
	
},
	
  };
}]);;  /**
 * @ngdoc directive
 * @name wizard
 * @module dlng.modules
 * @src directives/core/wizard/wizard.js
 * @controlType navigation
 * @restrict E
 *
 * @description A wizard accomplishes a single task with multiple steps that must be performed sequentially. It is
 * recommended to display it within a modal.
 *
 * ### Design considerations
 *
 * The dlng Wizard can make development of process-based user interaction very easy. However, we recommend that you
 * consider the following:
 *
 * - Asynchronous operations (submitting data to the server) should be saved for the end, when the user clicks 'finish'.
 *   This makes it easier to show the user what steps are valid. If really needed, you can use the step's `onNext`
 *   property for server-side validation.
 * - Client-side validation should be used in-between steps, and each step's `invalid` property should be used where
 *   appropriate.
 * - Adding and removing steps to the DOM with `ng-if`, `ng-repeat`, `ng-switch`, etc is completely fine to allow
 *   'forking' directions the wizard could go.
 *
 * ### Events
 *
 * #### Emits:
 *
 * - `'dlng:wizard:stepChanged'` when a step is changed.
 *
 * The event provides two objects, the first being the step the wizard is on now and the second being to step the wizard
 * used to be on. Each object has the properties `index` for the position of the step in the wizard, and `title` for the
 * step title.
 *
 * Please note that both the old and new indices can be the same (in the case that the current step is removed from the
 * DOM, in which the next step replaces that one).
 *
 * ```js
 * // 1st arg
 * {
 *   title: 'Now on this step',
 *   index: 1
 * }
 * // 2nd arg
 * {
 *   title: 'Came from this step',
 *   index: 0
 * }
 * ```
 *
 * - `'dlng:wizard:finished'` when the wizard is finished.
 * - `'dlng:wizard:cancelled'` when the wizard is cancelled.
 *
 * #### Listens for:
 *
 * Please note that while these will throw if out-of-bounds or the title of the step isn't found, they **will** allow
 * selecting steps that are invalid.
 *
 * - `'dlng:wizard:next'`: Goes to the next step.
 * - `'dlng:wizard:previous'`: Goes to the previous step.
 * - `'dlng:wizard:first'`: Goes to the first step.
 * - `'dlng:wizard:last'`: Goes to the last step.
 * - `'dlng:wizard:goto'`: Accepts an index or step title to navigate to.
 * - `'dlng:wizard:cancel'`: Cancels (emits `'dlng:wizard:cancelled'`).
 * - `'dlng:wizard:finish'`: Finishes (emits `'dlng:wizard:finished'`).
 *
 * ### Localization
 *
 * The following `$translate` properties are available to localize the wizard:
 *
 * - `'dlng_WIZARD_BACK'`: Text for the back button. English default: `'Back'`.
 * - `'dlng_WIZARD_NEXT'`: Text for the next button. English default: `'Next'`.
 * - `'dlng_WIZARD_SAVE_AND_NEXT'`: Text for the next button when `onNext` is set on the current `dlng-wizard-step`.
 *   English default: `'Save & Next'`.
 * - `'dlng_WIZARD_FINISH'`: Text for the finish button. English default: `'Finish'`.
 * - `'dlng_WIZARD_CANCEL'`: Text for the cancel button. English default: `'Cancel'`.
 * - `'dlng_WIZARD_STEP'`: Description for the current step location. Takes the variables `current` and `total`. English
 *   default: `'Step {{current}} of {{total}}'`.
 *
 * @transclude <dlng-wizard-step
 *               dlng-title=""
 *               [invalid="false"]
 *               [on-next]
 *               [on-enter]>
 *             </dlng-wizard-step>
 *             [..]
 *
 * @param {boolean=} editMode Default `false`.
 *
 * If `false`, this will force the user to visit every step, even if all following steps are valid. Additionally, the
 * user can only click 'finish' when on the last step (and it is valid).
 *
 * If `true`, the user can jump around unrestricted, providing all steps are valid. Additionally, if all steps up to the
 * last are valid, the user can click 'finish' at any time.
 *
 * @param {expression=} onFinish Called (with `$event` if the button is clicked) when the wizard is finished.
 * @param {expression=} onCancel Called (with `$event` if the button is clicked) when the wizard is cancelled.
 * @param {string=} currentStep The title of the current step.
 * @param {number=} currentStepIndex The index of the current step. (This should only be used in specific situations, or
 *   when debugging.)
 *
 * @example
 * <h3>Basic wizard</h3>
 *
 * > The Wizard will expand vertically to fill its direct parent container. Set a height on that element to ensure the
 * > wizard height does not change based on the size of its content.
 *
 * <example name="wizard">
 *   <file name="index.html">
 *     <dlng-button ng-click="vm.previous()">Previous step</dlng-button>
 *     <dlng-button ng-click="vm.next()">Next step</dlng-button>
 *     <dlng-button ng-click="vm.cancel()">Cancel</dlng-button>
 *     <dlng-button ng-click="vm.finish()">Finish</dlng-button>
 *     <dlng-button ng-click="vm.goto(0)">1</dlng-button>
 *     <dlng-button ng-click="vm.goto(1)">2</dlng-button>
 *     <dlng-button ng-click="vm.goto(2)">3</dlng-button>
 *     <div style="height: 400px">
 *       <dlng-wizard edit-mode="vm.editMode">
 *         <dlng-wizard-step dlng-title="Welcome!" invalid="!vm.choices.branch">
 *           <h1>Start the interactive wizard</h1>
 *           <p>Click below to switch between methods of dynamically adding steps to the wizard.</p>
 *           <dlng-button ng-click="vm.choices.branch = 'repeat'" ng-disabled="vm.choices.branch === 'repeat'" dlng-type="primary">
 *             Steps with ngRepeat, ngInclude</dlng-button>
 *           <dlng-button ng-click="vm.choices.branch = 'static'" ng-disabled="vm.choices.branch === 'static'" dlng-type="primary">
 *             Normal steps added conditionally</dlng-button>
 *         </dlng-wizard-step>
 *         <dlng-wizard-step ng-repeat="step in vm.steps" dlng-title="{{step.title}}" ng-if="vm.choices.branch === 'repeat'">
 *           <div ng-include="step.src"></div>
 *         </dlng-wizard-step>
 *         <div ng-if="vm.choices.branch === 'static'">
 *           <dlng-wizard-step dlng-title="Steps added conditionally">
 *             <p>This is an example of adding steps conditionally.</p>
 *           </dlng-wizard-step>
 *           <dlng-wizard-step dlng-title="More info">
 *             <p>This is an example of adding steps conditionally, with some more information.</p>
 *           </dlng-wizard-step>
 *         </div>
 *         <dlng-wizard-step dlng-title="Finish">
 *           Finish your wizard.
 *         </dlng-wizard-step>
 *       </dlng-wizard>
 *     </div>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlng'])
 *       .controller('AppCtrl', function($scope) {
 *         var vm = this;
 *         vm.next = function() { $scope.$broadcast('dlng:wizard:next') };
 *         vm.previous = function() { $scope.$broadcast('dlng:wizard:previous') };
 *         vm.finish = function() { $scope.$broadcast('dlng:wizard:finish') };
 *         vm.cancel = function() { $scope.$broadcast('dlng:wizard:cancel') };
 *         vm.goto = function(i) { $scope.$broadcast('dlng:wizard:goto', i) };
 *
 *         $scope.$on('dlng:wizard:finished', function() { vm.editMode = true; });
 *
 *         vm.choices = {
 *           branch: ''
 *         };
 *         $scope.$on('dlng:wizard:cancelled', function() {
 *           $scope.$broadcast('dlng:wizard:first');
 *           vm.choices.branch = '';
 *           vm.editMode = false;
 *         });
 *
 *         vm.steps = [{
 *           title: 'ngRepeat',
 *           src: 'step-0.html'
 *         }, {
 *           title: 'ngRepeat 2',
 *           src: 'step-1.html'
 *         }, {
 *           title: 'ngRepeat 3',
 *           src: 'step-2.html'
 *         }];
 *       });
 *   </file>
 *   <file name="step-0.html">
 *     <h2>Dynamic steps</h2>
 *     <p>This is the zeroth step. I am demonstrating the ability to <strong>dynamically</strong> add steps to your wizard.</p>
 *   </file>
 *   <file name="step-1.html">
 *     <h2>ng-repeat, and more</h2>
 *     <p>While this example uses ng-repeat, the same functionality can be achieved with ng-if, ng-switch, and other Angular DOM modifiers.</p>
 *   </file>
 *   <file name="step-2.html">
 *     <h2>Needs to modify DOM</h2>
 *     <p>Please note that something like ng-show/ng-hide would not work, since it doesn't actually remove the step from the DOM.</p>
 *   </file>
 * </example>
 *
 * @example
 * <h3>Wizard with asynchronous requests each step</h3>
 *
 * > You can also set the height of the Wizard directly on the `<dlng-wizard>` element.
 *
 * <example name="wizard">
 *   <file name="index.html">
 *     <dlng-wizard style="height: 300px">
 *       <dlng-wizard-step dlng-title="Introduction">
 *         <h1>Start the interactive wizard</h1>
 *         <p>Here we will demonstrate the onNext function.</p>
 *         <p><strong>We strongly recommend that you DO NOT use this pattern if at all possible; it's much more
 *           difficult to show if the step is valid or not to the user!</strong></p>
 *       </dlng-wizard-step>
 *       <dlng-wizard-step dlng-title="First" on-next="vm.first.fn()">
 *         <p>A function that returns a Promise</p>
 *         <dlng-radio name="first" ng-model="vm.first.value" value="resolve">Resolve</dlng-radio>
 *         <dlng-radio name="first" ng-model="vm.first.value" value="reject">Reject</dlng-radio>
 *       </dlng-wizard-step>
 *       <dlng-wizard-step dlng-title="Second" on-next="vm.second.fn()" on-enter="vm.stepEntered('Second')">
 *         <p>A function that returns a Promise</p>
 *         <dlng-radio name="second" ng-model="vm.second.value" value="resolve">Resolve</dlng-radio>
 *         <dlng-radio name="second" ng-model="vm.second.value" value="reject">Reject</dlng-radio>
 *       </dlng-wizard-step>
 *       <dlng-wizard-step dlng-title="Third" on-next="vm.third.fn()">
 *         <p>A function that returns a Promise</p>
 *         <dlng-radio name="third" ng-model="vm.third.value" value="resolve">Resolve</dlng-radio>
 *         <dlng-radio name="third" ng-model="vm.third.value" value="reject">Reject</dlng-radio>
 *       </dlng-wizard-step>
 *       <dlng-wizard-step dlng-title="Finish">
 *         Finish your wizard.
 *       </dlng-wizard-step>
 *     </dlng-wizard>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlng'])
 *       .controller('AppCtrl', function($scope, $q, $timeout) {
 *         var vm = this;
 *         vm.first = { value: 'resolve' };
 *         vm.second = { value: 'resolve' };
 *         vm.third = { value: 'resolve' };
 *
 *         var timeoutFn = function(number, ms) {
 *           return function() {
 *             var deferred = $q.defer();
 *             $timeout(function() {
 *               deferred[vm[number].value]();
 *             }, ms);
 *             return deferred.promise;
 *           };
 *         };
 *         $scope.$on('dlng:wizard:stepChanged', function(e, old, ne) {
 *           console.log(old, ne);
 *         });
 *
 *         vm.first.fn = timeoutFn('first', 1000);
 *         vm.second.fn = timeoutFn('second', 2000);
 *         vm.third.fn = timeoutFn('third', 3000);
 *
 *         vm.stepEntered = function(step) {
 *           console.log('Entered step ' + step);
 *         };
 *       });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Wizard in a modal</h3>
 *
 * > A Wizard in a modal window is automatically set to a height of `500px`. You can override that on the `<dlng-wizard>`
 * > element, or you can add a `<div>` to contain the `<dlng-wizard>` and then style the `<div>`.
 *
 * <example name="wizardInModal">
 *   <file name="index.html">
 *     <dlng-button ng-click="vm.open()" dlng-type="primary">Open wizard in modal</dlng-button>
 *   </file>
 *   <file name="wizard.html">
 *     <dlng-wizard edit-mode="vm.editMode">
 *       <dlng-wizard-step dlng-title="Welcome, this is a really long title for a wizard step.">
 *         <h1>Getting Started</h1>
 *         <p>The purpose of this wizard is the configure the basic settings required to begin using Active System Manager.</p>
 *         <h2>Before you begin, please gather the following information:</h2>
 *         <ul>
 *           <li>Time zone where the virtual appliance that hosts Active System Manager is installed</li>
 *           <li>(Optional) IP addresses of up to two NTP servers</li>
 *           <li>(Optional): IP address, port, and credentials of a proxy server</li>
 *           <li>Local network share where the Active Ststem Manager license is stored</li>
 *         </ul>
 *         <p>After starting the wizard, you can leave and come back at any time, until you complete the wizard by
 *           clicking Finish on the final page. Clicking Finish restarts the Active System Manager virtual appliance and
 *           applies time zone settings.</p>
 *         <p>To change basic settings after initial setup is complete, click Settings in the left menu.</p>
 *       </dlng-wizard-step>
 *       <dlng-wizard-step dlng-title="ToS" invalid="!vm.wiz.acceptedTerms">
 *         <h1>Terms of Service</h1>
 *         <p><strong>You must accept the following terms before continuing.</strong></p>
 *         <div class="cux--scrollable" style="height: 270px; margin-bottom: 10px" ng-include="'terms.html'"></div>
 *         <dlng-checkbox name="agreement" ng-model="vm.wiz.acceptedTerms">I agree to the terms in this document</dlng-checkbox>
 *       </dlng-wizard-step>
 *       <form name="form" ng-submit="vm.next(vm.form.$invalid)">
 *         <dlng-wizard-step dlng-title="Register an account" invalid="vm.form.$invalid">
 *           <h1>Continuing</h1>
 *           <p>Email: <dlng-textbox ng-model="vm.user.email" type="email" name="email" placeholder="you@example.com"
 *             ng-required="true"></dlng-textbox></p>
 *           <p>Password: <dlng-textbox ng-model="vm.user.password" type="password" name="password" ng-minlength="8"
 *             ng-required="true"></dlng-textbox></p>
 *           <p>Press enter when done, or click next.</p>
 *           <input type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;">
 *         </dlng-wizard-step>
 *       </form>
 *       <dlng-wizard-step dlng-title="More steps 2">
 *         <p>Even more steps!!</p>
 *       </dlng-wizard-step>
 *       <dlng-wizard-step dlng-title="More steps 3">
 *         <p>Even more steps!!</p>
 *       </dlng-wizard-step>
 *     </dlng-wizard>
 *   </file>
 *   <file name="terms.html">
 *     <p class="para">These terms and conditions ("Terms") apply to all Products, Software and/or Services purchased by
 *       or on behalf of customer (the legal person who agrees to buy the Products, Software and/or Services from Dell
 *       and is also identified in Dell's quotation or invoice) ("Customer") direct from Dell India Private Limited
 *       having its registered office at DivyaShree Greens, Ground Floor, S.No 12/1, 12/2A, 13/1A, Chalangatta Village,
 *       VarthurHobli, Bangalore South - 560071, Karnataka, India ("Dell") for its internal use only , not for resale
 *       purposes and to the exclusion of all other terms and conditions. It is clarified that these Terms do not apply
 *       to Products, Software and Services purchased for resale by the Customer, and the terms set out on Dell's
 *       website at <a href="http://www.dell.com\ap">www.dell.com\ap</a> [select: Terms and Conditions for India Resellers]
 *       are applicable for such purchases.</p>
 *     <p class="para">These Terms together with Dell's Order Documents and Service Documents (as defined below) form a
 *       legally binding contract between Customer and Dell for the purchase of Products, Software and Services
 *       <b>("the Agreement")</b> . </p><p class="para">If Customer and Dell have a separate agreement in place for the
 *       purchase of Products, Software or Services, that agreement, along with relevant Order Documents and Service
 *       Documents (if any) shall apply instead of these Terms.  The Customer acknowledges that it is aware of the
 *       contents of and agrees to be bound by these Terms. Neither Dell's acknowledgment of a purchase order nor it's
 *       failure to object to conflicting, different, or additional terms and conditions in a purchase order shall be
 *       deemed an acceptance of such terms and conditions or a waiver of the provisions hereof. The Agreement shall not
 *       be deemed to have come into existence until the Customer's order has been accepted by Dell either by way of the
 *       order confirmation and/or the invoice sent by Dell to Customer which describes the Products, Software and/or
 *       Services purchased by Customer under the Agreement. The Products / Software sold and/or Services rendered are
 *       subject to the Agreement to the exclusion of any other terms and conditions stipulated or referred to by
 *       Customer, unless expressly agreed and accepted by Dell in writing. The Agreement documents will apply in
 *       following order of priority: (1) Order Documents; (2) Service Documents and (3) these Terms.</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlng'])
 *       .controller('AppCtrl', function($scope, dlngModal) {
 *         var vm = this;
 *         var wizardModal = dlngModal({
 *           type: 'bare',
 *           templateUrl: 'wizard.html',
 *           controller: 'WizardCtrl',
 *           visible: true,
 *           static: true,
 *           scope: $scope
 *         });
 *         vm.modal = wizardModal.modal;
 *         vm.open = wizardModal.modal.show;
 *       })
 *       .controller('WizardCtrl', function($scope, dlngLoadingService, dlngDialog, $q, $timeout) {
 *         var vm = this;
 *         vm.wiz = {
 *           acceptedTerms: false
 *         };
 *         vm.editMode = false;
 *
 *         $scope.$on('dlng:wizard:finished', function() {
 *           var deferred = $q.defer();
 *           deferred.promise.then(function() {
 *             dlngDialog({
 *               title: 'Success',
 *               message: 'Done mock submitting data'
 *             })();
 *             vm.editMode = true;
 *           });
 *
 *           dlngLoadingService(deferred.promise);
 *
 *           $timeout(function() {
 *             deferred.resolve();
 *           }, 1000);
 *         });
 *
 *         vm.next = function(invalid) {
 *           if (!invalid) {
 *             $scope.$broadcast('dlng:wizard:next');
 *           }
 *         };
 *
 *         $scope.$on('dlng:wizard:cancelled', function() {
 *           $scope.modal.hide().then(function() {
 *             $scope.$broadcast('dlng:wizard:first');
 *           });
 *         });
 *       });
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 800px;
 *     }
 *   </file>
 * </example>
 */

'use strict';

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();



angular.module('dell.ngclarity.directives').directive('dlngWizard', ['$q', 'dlcuiBaseTemplatePath', 'dlcuiLoadingService', function dlngWizard($q, dlcuiBaseTemplatePath, dlcuiLoadingService) {
  controller.$inject = ['$scope', '$element'];
  function controller($scope, $element) {
    var _this = this;

    if (this.editMode == null) {
      this.editMode = false;
    }

    this.currentStepIndex = 0;

    var steps = this.steps = [];
	
	_this.addSlide = function() {
		_this.moveSlide=true;
	};

    // This function is invoked through wizard steps when DOM manipulation occurs (step created or destroyed).
    this.updateSteps = function () {
      var oldStep = steps[_this.currentStepIndex];
      // This is so inefficient it hurts. Unfortunately, it's the only way to guarantee order
      var stepElements = $element[0].querySelectorAll('dlng-wizard-step');
      steps = _this.steps = _this.steps = [];

      for (var i = 0, len = stepElements.length; i < len; i++) {
        var step = stepElements[i];
        var scope = angular.element(step).isolateScope();
        if (scope) {
          steps.push(scope);
        }
      }

      if (_this.currentStepIndex >= steps.length) {
        // select the last
        _this.currentStepIndex = steps.length - 1;
        // Don't allow selecting -1
        if (_this.currentStepIndex === -1) {
          _this.currentStepIndex = 0;
        }
      }

      var newStep = steps[_this.currentStepIndex];

      if (oldStep !== newStep) {
        _this.updateStepShown(newStep, oldStep, _this.currentStepIndex);
      }
    };

    // This function will run code after any wizard step has been changed. It is invoked through
    // next, previous, first, last, as well as DOM manipulations (via @updateSteps fn).
    this.updateStepShown = function (newStep, oldStep, oldStepIndex) {
      if (newStep === undefined) newStep = {};
      if (oldStep === undefined) oldStep = {};

      newStep.touched = true;

      _this.currentStep = newStep.dlngTitle;

      // Run onEnter function
      if (newStep.onEnter) {
        newStep.onEnter();
      }

      $scope.$emit('dlng:wizard:stepChanged', {
        index: _this.currentStepIndex,
        title: newStep.dlngTitle
      }, {
        index: oldStepIndex,
        title: oldStep.dlngTitle
      });
    };

    this.onStep = function (step) {
      return steps[_this.currentStepIndex] === step;
    };

    // The step after the next one (and beyond) aren't navigable if editMode is false
    var canJumpToStep = function canJumpToStep(index) {
      return _this.editMode || index <= _this.currentStepIndex + 1;
    };

    // relies on $watch of each step's invalid and currentStepIndex
    this.updateForwards = function () {
      var invalidStep = -1;

      for (var i = 0; i < steps.length; i++) {
        var step = steps[i];
        if (step.invalid && invalidStep === -1) {
          invalidStep = i;
        }

        if (i < _this.currentStepIndex) {
          step.forward = true;
        } else if (invalidStep !== -1 && invalidStep !== i) {
          step.forward = false;
        } else {
          step.forward = true;
        }
      }
    };

    var runOnNext = function runOnNext(cb) {
      var onNext = steps[_this.currentStepIndex].onNext;
      steps[_this.currentStepIndex].onNextFailed = false;

      if (steps[_this.currentStepIndex].onNextExists()) {
        onNext = onNext();
        dlcuiLoadingService(onNext);
        $q.when(onNext).then(function () {
          cb();
        }, function () {
          steps[_this.currentStepIndex].onNextFailed = true;
        });
      } else {
        return cb();
      }
    };

    // The step after the next one (and beyond) aren't navigable if editMode is false
    this.isStepDisabled = function (index) {
      return !canJumpToStep(index) || !steps[index].forward;
    };

    this.canFinish = function () {
      if (_this.editMode) {
        if (steps[steps.length - 1]) {
          return steps[steps.length - 1].forward && !steps[steps.length - 1].invalid;
        }

        return false;
      }

      return !(steps[_this.currentStepIndex] || {}).invalid && _this.currentStepIndex === steps.length - 1;
    };

    this.selectStepIndex = function (index) {
      if (canJumpToStep(index) && steps[index].forward) {
        if (index > _this.currentStepIndex) {
          // going forward
          runOnNext(function () {
            _this.goto(index);
          });
        } else {
          _this.goto(index);
        }
      }
    };

    this.goto = function (identifier) {
      var old = _this.currentStepIndex;
      if (angular.isString(identifier)) {
        for (var i = 0; i < steps.length; i++) {
          var step = steps[i];
          if (step.dlngTitle === identifier) {
            _this.currentStepIndex = i;
            return;
          }
        }
        throw new Error('dlngWizard: Couldn\'t find step \'' + identifier + '\'');
      } else if (angular.isNumber(identifier)) {
        if (identifier < 0 || identifier >= steps.length) {
          throw new Error('dlngWizard: Step ' + identifier + ' not in index range 0-' + (steps.length - 1));
        }
        _this.currentStepIndex = identifier;
      } else {
        throw new Error('dlngWizard: Identifier not valid');
      }

      _this.updateStepShown(steps[_this.currentStepIndex], steps[old], old);
    };

    this.previous = function () {
      if (_this.currentStepIndex <= 0) {
        throw new Error('dlngWizard: At beginning of wizard steps');
      }

      _this.currentStepIndex--;
      _this.updateStepShown(steps[_this.currentStepIndex], steps[_this.currentStepIndex + 1], _this.currentStepIndex + 1);
    };

    this.next = function () {
      if (_this.currentStepIndex >= steps.length - 1) {
        // At the end
        throw new Error('dlngWizard: At end of wizard steps');
      }

      var n = function n() {
        _this.currentStepIndex++;
        _this.updateStepShown(steps[_this.currentStepIndex], steps[_this.currentStepIndex - 1], _this.currentStepIndex - 1);
      };
      runOnNext(n);
    };

    this.first = function () {
      var old = _this.currentStepIndex;
      _this.currentStepIndex = 0;
      _this.updateStepShown(steps[_this.currentStepIndex], steps[old], old);
    };

    this.last = function () {
      var old = _this.currentStepIndex;
      _this.currentStepIndex = steps.length - 1;
      _this.updateStepShown(steps[_this.currentStepIndex], steps[old], old);
    };

    this.cancel = function (e) {
      _this.onCancel({ $event: e });
      $scope.$emit('dlng:wizard:cancelled', e);
    };

    this.finish = function (e) {
      _this.onFinish({ $event: e });
      $scope.$emit('dlng:wizard:finished', e);
    };

    return this;
  }

  function link(scope, element, attrs, _ref) {
    var _ref2 = _slicedToArray(_ref, 2);

    var wizardCtrl = _ref2[0];
    var modalCtrl = _ref2[1];

    if (modalCtrl) {
      modalCtrl.addClass('dlng-wizard-modal-wrapper');
    }

    scope.$watch('wizard.currentStepIndex', wizardCtrl.updateForwards);

    scope.$on('dlng:wizard:goto', function (e, identifier) {
      wizardCtrl.goto(identifier);
    });
    scope.$on('dlng:wizard:previous', wizardCtrl.previous);
    scope.$on('dlng:wizard:next', wizardCtrl.next);
    scope.$on('dlng:wizard:first', wizardCtrl.first);
    scope.$on('dlng:wizard:last', wizardCtrl.last);
    scope.$on('dlng:wizard:cancel', wizardCtrl.cancel);
    scope.$on('dlng:wizard:finish', wizardCtrl.finish);
	scope.$on('dlng:wizard:slide', wizardCtrl.addSlide);
  }

  return {
	templateUrl: [dlcuiBaseTemplatePath,'directives/containers/stepwizard/dlcuiStepWizard.directive.html'].join(''),
    restrict: 'E',
    require: ['dlngWizard', '^?dlngModal'],
    transclude: true,
    scope: {
		display: '@',
		wizardTitle:'@'
	},
    bindToController: {
      editMode: '=?',
      onFinish: '&',
      onCancel: '&',
      currentStep: '=?',
      currentStepIndex: '=?'
    },
    link: link,
    controller: controller,
    controllerAs: 'wizard'
  };
}]);

;/**
  @ngdoc directive
  @name wizardStep

  @description The wizard steps are transcluded by the wizard.

  @module dlng
  @src modules/wizard/wizard.coffee
  @directive dlng-wizard-step
  @controlType navigation
  @restrict E

  @transclude The content of the step

  @param {string} dlngTitle The title of the step (to be displayed on the left hand side of the wizard).

  @param {string} dlngIcon The icon of the step (to be displayed on the left hand side of the wizard).

  @param {boolean=} invalid Default `false`. If `true`, the user will not be allowed to continue past this step.
  For use cases with the wizard, check out the wizard examples.

  @param {expression=} onNext A function that will return a promise. It should resolve to allow the user to continue
  to the next step.

__The `onNext` property should be used sparingly!__ Only use it where you must have an asynchronous request before
 allowing the user to continue to the next step. When you must use `onNext`, we recommend you use it with `invalid`
 for client-side validation before allowing the user to attempt to send data to the server.

  @param {expression=} onEnter A function to execute when the step is entered.
 */

angular.module('dell.ngclarity.directives').directive('dlngWizardStep',
  ['dlcuiBaseTemplatePath', '$timeout', function (dlcuiBaseTemplatePath, $timeout) {
    return {
     // templateUrl: dlcuiBaseTemplatePath + 'dlngWizardStep.directive.html',
	  templateUrl: [dlcuiBaseTemplatePath,'directives/containers/stepwizard/dlcuiStepWizardPane.directive.html'].join(''),
      restrict: 'E',
      transclude: true,
      require: '^dlngWizard',
      scope: {
        dlngTitle: '@',
        dlngIcon: '@',
        invalid: '=?',
        onNext: '&',
        onEnter: '&'
      },
      link: function (scope, element, attrs, dlngWizard) {
        if (scope.dlngIcon == null) {
          scope.dlngIcon = '';
        }
        if (scope.invalid == null) {
          scope.invalid = false;
        }
        scope.touched = false;
        scope.onNextExists = function () {
          return angular.isDefined(attrs.onNext);
        };
        scope.isCurrentStep = function () {
          return dlngWizard.onStep(scope);
        };
        dlngWizard.updateSteps();
        scope.$on('$destroy', function () {
          return $timeout(function () {
            return dlngWizard.updateSteps();
          });
        });
        return scope.$watch('invalid', function () {
          return dlngWizard.updateForwards();
        });
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name tab
 *
 * @description A single tab (with content). Can only be used inside of a Tabset.
 *
 * @module dlcui.controls
 * @src directives/input/tab.js
 * @controlType actionable
 *
 * @restrict E
 * @transclude The tab content area.
 *
 * @param {string} label The label for the tab.
 *
 * @param {boolean=} active The active state of the tab. It is watched: When `true`, the tab will be selected and other tabs' `active` properties will become `false`.
 *
 * @param {expression=} tabShown Called when the tab is clicked, or shown.
 *
 * @param {string=} icon The icon is prepended to the tab label.
 *
 * @param {object=} badge The badge is appended to the tab label. An object with the following form:
 *
 * ```js
 * {
 *   type: 'danger', // Any dlcuiType -- 'danger', 'primary', 'warning', etc.
 *   label: '3' // Contents of the badge
 * }
 * ```
 */

'use strict';



angular.module('dell.ngclarity.directives').directive('dlcuiTab', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  function link(scope, element, attributes, dlcuiTabSetController) {
    // set a property on the tab scope that the tab content wrapper can access in order to bind aria attributes
    scope.contentId = scope.$id;


    dlcuiTabSetController.addTab(scope);

    scope.getName = function(){
      return scope.name || '';
    }
    
    scope.$watch('active', function (newActive, oldActive) {
      if (oldActive !== newActive && newActive) {
        dlcuiTabSetController.select(scope);
      }
    });

    scope.showTab = function () {
      dlcuiTabSetController.select(scope);
      scope.tabShown();
    };
  }

  return {
	templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/tab/dlcuiTab.directive.html'].join(''),
    restrict: 'EA',
    require: '^dlcuiTabset',
    // TODO: Remove `replace: true` - issue #944
    replace: true, // eslint-disable-line angular/no-directive-replace
    transclude: true,
    scope: {
      label: '@',
      active: '=?',
      tabShown: '&',
      icon: '@',
      badge: '=',
      name:'@'
    },
    link: link
  };
}]);

; /**
 * @ngdoc directive
 * @name tabset
 *
 * @description A Tabset presents tabbed data.
 *              See the documentation for {@link ../tab Tab} for individual tab parameters.
 *
 * @module dlcui.controls
 * @src directives/input/tabset.js
 * @controlType navigation
 * @restrict E
 *
 * @transclude A set of Tabs
 *
 * @example
 * <h3>A static tabset</h3>
 * <example name="staticTabset">
 *   <file name="index.html">
 *     <dlcui-tabset>
 *       <dlcui-tab label="Accounts" icon="user">
 *         <h1>My Account</h1>
 *         <dlcui-textbox ng-model="vm.username"></dlcui-textbox>
 *         User entered: {{vm.username}}
 *        </dlcui-tab>
 *        <dlcui-tab label="Optional Settings" icon="user">
 *          <h1>Optional Settings</h1>
 *          <dlcui-textbox ng-model="vm.optional"></dlcui-textbox>
 *          User entered: {{vm.optional}}
 *        </dlcui-tab>
 *        <dlcui-tab label="Error Console" icon="bug" badge="{type: 'danger', label: 3}">
 *          <h1>Error Console</h1>
 *        </dlcui-tab>
 *        <dlcui-tab label="Additional Info">
 *          <h1>Additional Information</h1>
 *        </dlcui-tab>
 *     </dlcui-tabset>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *     .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 * @example
 * <h3>A dynamic tabset</h3>
 * <example name="dynamicTabset">
 *   <file name="index.html">
 *     <dlcui-button ng-click="vm.tabs[1].active = true">Make second tab active</dlcui-button>
 *
 *     <dlcui-tabset>
 *       <dlcui-tab label="{{vm.tabs[0].label}}" icon="{{vm.tabs[0].icon}}" active="vm.tabs[0].active">
 *         <h1>Manage Account Settings</h1>
 *         <dlcui-textbox ng-model="data"></dlcui-textbox>
 *         User entered: {{data}}
 *       </dlcui-tab>
 *       <dlcui-tab label="{{vm.tabs[1].label}}" icon="{{vm.tabs[1].icon}}" badge="vm.tabs[1].badge" active="vm.tabs[1].active">
 *         <h1>Optional Settings</h1>
 *         <dlcui-textbox ng-model="data2"></dlcui-textbox>
 *         User entered: {{data2}}
 *       </dlcui-tab>
 *       <dlcui-tab label="{{vm.tabs[2].label}}" icon="{{vm.tabs[2].icon}}" badge="vm.tabs[2].badge" active="vm.tabs[2].active" tab-shown="click()">
 *         <h1>Error Console</h1>
 *       </dlcui-tab>
 *     </dlcui-tabset>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *     .controller('AppCtrl', function() {
 *       var vm = this;
 *
 *       vm.tabs = [{
 *           label: 'Accounts',
 *           icon: 'user',
 *           content: 'Manage User Settings'
 *         },
 *         {
 *           label: 'Optional Settings',
 *           icon: 'user',
 *           content: 'Non User Settings'
 *         },
 *         {
 *           label: 'Error Console',
 *           icon: 'bug',
 *           badge: {
 *             type: 'danger',
 *             label: '3'
 *           },
 *           content: 'Error content'
 *         }];
 *
 *         vm.click = function() {
 *           alert('see!');
 *         };
 *       })
 *   </file>
 * </example>
 */

'use strict';


angular.module('dell.ngclarity.directives').directive('dlcuiTabset',['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  function controller() {
    var vm = this;
    var tabs = vm.tabs = [];
    vm.addTab = function (tab) {
      if (tabs.length === 0 || tab.active === true) {
        vm.select(tab);
      }
      // use property on tab to bind the tab and tab content aria attributes
      vm.contentId = tab.contentId;
      tabs.push(tab);
    };

    vm.select = function (tab) {
      angular.forEach(tabs, function (t) {
        t.active = false;
      });
      tab.active = true;
    };
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/containers/tab/dlcuiTabSet.directive.html'].join(''),
    restrict: 'EA',
    transclude: true,
    scope: {},
    controllerAs: 'vm',
    bindToController: true,
    controller: controller
  };
}]);

;angular.module('dell.ngclarity.directives')
  .directive('dlcuiWizard', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      templateUrl: dlcuiBaseTemplatePath + 'dlcuiWizard.directive.html',
      restrict: 'E',
      require: '^?dlcuiModal',
      transclude: true,
      scope: {
        editMode: '=?',
        onFinish: '&',
        onCancel: '&',
        currentStep: '=?',
        currentStepIndex: '=?',
        orientation: '=?'
      },
      link: function (scope, element, attrs, modalCtrl) {
        if (dlcui.isNullOrUndefined(modalCtrl)) {
          modalCtrl.addClass('dlcui-wizard-modal-wrapper');
        }
      },
      controller: function () {
      }
    };
  }]);

;/**
  @ngdoc directive
  @name wizardStep

  @description The wizard steps are transcluded by the wizard.

  @module dlcui
  @src modules/wizard/wizard.coffee
  @directive dlcui-wizard-step
  @controlType navigation
  @restrict E

  @transclude The content of the step

  @param {string} dlcuiTitle The title of the step (to be displayed on the left hand side of the wizard).

  @param {string} dlcuiIcon The icon of the step (to be displayed on the left hand side of the wizard).

  @param {boolean=} invalid Default `false`. If `true`, the user will not be allowed to continue past this step.
  For use cases with the wizard, check out the wizard examples.

  @param {expression=} onNext A function that will return a promise. It should resolve to allow the user to continue
  to the next step.

__The `onNext` property should be used sparingly!__ Only use it where you must have an asynchronous request before
 allowing the user to continue to the next step. When you must use `onNext`, we recommend you use it with `invalid`
 for client-side validation before allowing the user to attempt to send data to the server.

  @param {expression=} onEnter A function to execute when the step is entered.
 */

angular.module('dell.ngclarity.directives').directive('dlcuiWizardStep',
  ['dlcuiBaseTemplatePath', '$timeout', function (dlcuiBaseTemplatePath, $timeout) {
    return {
      templateUrl: dlcuiBaseTemplatePath + 'dlcuiWizardStep.directive.html',
      restrict: 'E',
      transclude: true,
      require: '^dlcuiWizard',
      scope: {
        dlcuiTitle: '@',
        dlcuiIcon: '@',
        invalid: '=?',
        onNext: '&',
        onEnter: '&'
      },
      link: function (scope, element, attrs, dlcuiWizard) {
        if (scope.dlcuiIcon == null) {
          scope.dlcuiIcon = '';
        }
        if (scope.invalid == null) {
          scope.invalid = false;
        }
        scope.touched = false;
        scope.onNextExists = function () {
          return angular.isDefined(attrs.onNext);
        };
        scope.isCurrentStep = function () {
          return dlcuiWizard.onStep(scope);
        };
        dlcuiWizard.updateSteps();
        scope.$on('$destroy', function () {
          return $timeout(function () {
            return dlcuiWizard.updateSteps();
          });
        });
        return scope.$watch('invalid', function () {
          return dlcuiWizard.updateForwards();
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiWizardCardContainer', ['dlcuiBaseTemplatePath', 'DLCUI_FLEXBOX_LAYOUT', 'DLCUI_FLEXBOX_ALIGN', 'DLCUI_FLEXBOX_JUSTIFY', function (dlcuiBaseTemplatePath,
                                               DLCUI_FLEXBOX_LAYOUT,
                                               DLCUI_FLEXBOX_ALIGN,
                                               DLCUI_FLEXBOX_JUSTIFY) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        source: '&',
        options: '=',
        onStepCompleted: '&',
        onStepSelected: '&'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'dlcuiWizardCardContainer.directive.html'].join(''),
      link: function (scope) {
        // Verify the options.
        dlcui.assertObject(scope.options, 'Options must be defined as it is used only once.');

        if (dlcui.isStringWithLength(scope.options.width) && scope.options.width.toLowerCase() === 'auto') {
          scope.options.width = '100%';
        }
        scope.options.labels = scope.options.labels || {};
        scope.options.labels.done = scope.options.labels.done || 'Done';
        scope.options.labels.step = scope.options.labels.step || 'Step';

        /**
         * The style used to decorate the main info card container. The defaults
         * are defined in CSS so developer can use CSS or these options.
         * @type {!Object}
         */
        scope.style = {
          height: scope.options.height,
          width: scope.options.width
        };

        /**
         * Defines the parent container as this component
         */
        scope.$container = scope;

        /**
         * The current index at which point the user can work.
         * @type {number}
         */
        scope.currentIndex = 0;

        /**
         * The currently selected index,
         * @type {number}
         */
        scope.selectedCardIndex = -1;

        /**
         * The options for the card container directive used internal to this directive.
         * @type {!Object}
         */
        scope.innerOptions = {
          data: scope.options.data,
          pageSize: 0,
          startIndex: 0,
          disableCardTemplates: true,
          layout: DLCUI_FLEXBOX_LAYOUT.vertical,
          align: DLCUI_FLEXBOX_ALIGN.stretch,
          justify: DLCUI_FLEXBOX_JUSTIFY.flexStart,
          containerScope: scope.$container,
          templateUrl: [dlcuiBaseTemplatePath, 'dlcuiWizardCard.template.html'].join(''),
          emptyTemplateUrl: scope.options.emptyTemplateUrl
        };

        /**
         * Called when the user clicks on a card.
         * @param {Event} event The associated event.
         * @param {!Number} index The current card index
         * @param {!Object} card The associated card.
         */
        scope.onCardClick = function(event, index, card) {
          dlcui.assertObject(card);
          dlcui.assertNumber(index);

          if (scope.currentIndex >= index && scope.selectedCardIndex < 0) {
            scope.selectedCardIndex = index;

            scope.onStepSelected({
              step: card
            });
          }
        };

        /**
         * Called when the user clicks done.
         * @param {Event} event The associated event.
         * @param {!Number} index The current card index
         * @param {!Object} card The associated card.
         */
        scope.onDoneClick = function(event, index, card) {
          dlcui.assertObject(card);
          dlcui.assertNumber(index);
          event.stopPropagation();

          card.completed = true;
          scope.selectedCardIndex = -1;
          if (scope.currentIndex <= index) {
            scope.currentIndex = index + 1;
          }

          scope.onStepCompleted({
            step: card
          });
        };

        /**
         * Create the main step label
         * @param {!Number} index The current card index
         * @param {!Object} card The associated card.
         * @returns {!String} The label
         */
        scope.getStepLabel = function(index, card) {
          dlcui.assertObject(card);
          dlcui.assertNumber(index);
          dlcui.assertStringWithLength(card.label);

          return dlcui.formatString('{{step}} {{index}}: {{label}}', {
            step: scope.options.labels.step,
            index: index + 1,
            label: card.label
          });
        };
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name applicationFrame
 * @module dlcui
 * @src directives/core/applicatonFrame/dlcuiApplicationFrame.directive.js
 * @controlType actionable
 * @restrict E
 *
 * @param {string} applicationName The name of the application.
 * @param {string} applicationHref The application root path
 * @param {string} applicationLogo The application logo and can be an svg name such as <i>#ic_logo</b> or the class
 * of the icon itself.
 * @param {string} userName The user currently logged in to the system.
 * @param {Object} masthead The masthead options and the following example represents highlights the options,
 *
 * ```javascript
 * {
 *    pin: false,               // set this to true to force the mast head to be open at all times
 *    hide: false,              // Optional property that allows the developer to hide the masthead
 *    showControls: true,       // set this to false to hide the user actions and the toolbar actions
 *    userActions: [            // array of actions included within the username
 *      {
 *        label: 'logout',            // A visual label
 *        execute: function() {       // The function to execute when the user click on a action
 *          $scope.userName = '';
 *        }
 *      }
 *    ],
 *    toolbarActions: [
 *      {
 *        name: '#ic_search',         // The name of the icon to dsiplay
 *        collapsedLabel: 'Search',   // The collapsed label to display in the drop down menu
 *        execute: function() {       // The handler to execute when the user click on this toolbar button
 *          alert('You clicked search');
 *        }
 *      },
 *      {
 *        name: '#ic_alerts',
 *        collapsedLabel: 'List Items',
 *        execute: function() {
 *          alert('You clicked list items');
 *        }
 *      }
 *    ]
 * }
 * ```
 *
 * @param {Object} navigation The navigation options and the following example highlights the options,
 *
 * ```javascript
 *  {
 *    pin: true,
 *    hide: false,
 *    actions: [
 *      {
 *        id: 'home',
 *        label: 'Home',
 *        icon: 'home',
 *        execute: function() {
 *            $scope.pageHeader = 'Home';
 *            return true;
 *          }
 *        },
 *        {
 *          id: 'applications',
 *          label: 'Applications',
 *          icon: '#menu_icon_03_applications',
 *          children: [
 *            {
 *              id: 'formatHardDrive',
 *              label: 'Format Hard Drive',
 *              execute: function() {
 *                  $scope.pageHeader = 'Format System';
 *                  return true;
 *                }
 *            },
 *            {
 *              id: 'restoreHardDrive',
 *              label: 'Restore Hard Drive',
 *              execute: function() {
 *                  $scope.pageHeader = 'Restore System';
 *                  return true;
 *                }
 *              },
 *              {
 *                id: 'restartSystem',
 *                label: 'Restart System',
 *                execute: function() {
 *                    $scope.pageHeader = 'Restart System';
 *                    return true;
 *                 }
 *                }
 *              ]
 *        },
 *        {
 *          id: 'updates',
 *          label: 'Updates',
 *          icon: '#menu_icon_04_updates',
 *          children: [
 *            {
 *              id: 'updateAll',
 *              label: 'Update All',
 *              execute: function() {
 *                  $scope.pageHeader = 'Update All';
 *                  return true;
 *                }
 *              },
 *              {
 *                id: 'updateWindows',
 *                label: 'Update Windows',
 *                execute: function() {
 *                    $scope.pageHeader = 'Update Windows';
 *                    return true;
 *                  }
 *                }
 *              ]
 *           }
 *    ]
 *  };
 * ```
 * @param {string} persistAs
 *
 * @description
 * The Application Frame acts as the main container for the entire page and contains the masthead,
 * navigation and contents.
 *
 * @example
 * <h3>
 *     Application Frame with Masthead, Navigation List, Collapisble Toolbar Group and Contents using Layout Directives
 * </h3>
 * <example>
 *  <file name="index.html">
 *      <dlcui-application-frame application-name="DLCUI Sample Application"
 *                             application-logo="#ic_logo"
 *                             navigation="navigationOptions"
 *                             masthead="mastheadOptions"
 *                             persit-as="{{data.DLCUISample.appInfo().productName}}"
 *                             user-name="{{userName}}">
 *            <dlcui-layout-toolbar label="{{pageHeader}}">
 *                <dlcui-toolbar-collapsible-group>
 *                  <dlcui-toolbar-button ng-click="click('Edit Device')"
 *                                      icon-name="#ic_editrename"
 *                                      tooltip="Edit Device"
 *                                      collapsed-label="Edit Device">
 *                  </dlcui-toolbar-button>
 *                  <dlcui-toolbar-button ng-click="click('Delete Device')"
 *                                      icon-name="#ic_delete"
 *                                      tooltip="Delete Device"
 *                                      collapsed-label="Delete Device">
 *                  </dlcui-toolbar-button>
 *                </dlcui-toolbar-collapsible-group>
 *                <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *                <dlcui-toolbar-group>
 *                  <dlcui-toolbar-button ng-click="actions.click('refresh')"
 *                                      icon-name="#ic_A_01_refresh_device_list"
 *                                      tooltip="Refresh Devices">
 *                  </dlcui-toolbar-button>
 *                  <dlcui-toolbar-button ng-click="actions.click('search')"
 *                                      icon-name="#ic_search"
 *                                      tooltip="Search">
 *                 </dlcui-toolbar-button>
 *                 <dlcui-toolbar-button ng-show="showAlerts"
 *                                     ng-click="actions.click('alerts')"
 *                                     icon-name="#ic_alerts"
 *                                      tooltip="Show Alerts">
 *                  </dlcui-toolbar-button>
 *                </dlcui-toolbar-group>
 *            </dlcui-layout-toolbar>
 *            <dlcui-layout-main>
 *              <p><b>Resize this window to see the toolbar collapse some of the buttons.</b></p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <br><br><br><br><br><br><br><br><br><br>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *            </dlcui-layout-main>
 *            <dlcui-layout-footer>
 *               <b>© 2015 Dell</b>
 *            </dlcui-layoutfooter>
 *    </dlcui-application-frame>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_MASTHEAD_EVENTS) {
 *
 *          $scope.pageHeader = 'Main';
 *
 *          $scope.userName = 'Administrator';
 *
 *          $scope.showAlerts = false;
 *
 *          $scope.$on(DLCUI_MASTHEAD_EVENTS.expanded, function() {
 *            $scope.$apply(function() {
 *                $scope.showAlerts = false;
 *            });
 *          });
 *
 *          $scope.$on(DLCUI_MASTHEAD_EVENTS.collapsed, function() {
 *            $scope.$apply(function() {
 *                $scope.showAlerts = true;
 *            });
 *          });
 *
 *          $scope.mastheadOptions = {
 *            showControls: true,
 *            pin: false,
 *            hide: false,
 *            userActions: [
 *              {
 *                label: 'Logout',
 *                execute: function() {
 *                  $scope.userName = '';
 *                }
 *              },
 *              {
 *                label: 'Adlcuiount Settings',
 *                execute: function() {
 *                  alert('You clicked Account Settings');
 *                }
 *              }
 *             ],
 *             toolbarActions: [
 *              {
 *                icon: '#ic_search',
 *                collapsedLabel: 'Search',
 *                execute: function() {
 *                  alert('You clicked search');
 *                }
 *              },
 *              {
 *                icon: '#ic_alerts',
 *                collapsedLabel: 'List Items',
 *                execute: function() {
 *                  alert('You clicked list items');
 *                }
 *              }
 *            ]};
 *
 *          $scope.navigationOptions = {
 *            pin: true,
 *            hide: false,
 *            actions: [
 *              {
 *                id: 'home',
 *                label: 'Home',
 *                icon: 'home',
 *                tooltip: 'Open Home Page',
 *                execute: function() {
 *                  $scope.pageHeader = 'Home';
 *                  return true;
 *                }
 *              },
 *              {
 *                id: 'devices',
 *                label: 'Devices',
 *                icon: '#menu_icon_02_devices',
 *                tooltip: 'Open Devices',
 *                execute: function() {
 *                  $scope.pageHeader = 'Devices';
 *                  return true;
 *                }
 *              },
 *              {
 *                id: 'applications',
 *                label: 'Applications',
 *                icon: '#menu_icon_03_applications',
 *                tooltip: 'Applications',
 *                children: [
 *                  {
 *                    id: 'formatHardDrive',
 *                    label: 'Format Hard Drive',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Format System';
 *                      return true;
 *                    }
 *                  },
 *                  {
 *                    id: 'restoreHardDrive',
 *                    label: 'Restore Hard Drive',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Restore System';
 *                      return true;
 *                    }
 *                  }
 *                  ,
 *                  {
 *                    id: 'restartSystem',
 *                    label: 'Restart System',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Restart System';
 *                      return true;
 *                    }
 *                  }
 *                ]
 *              },
 *              {
 *                id: 'updates',
 *                label: 'Updates',
 *                icon: '#menu_icon_04_updates',
 *                tooltip: 'Updates',
 *                children: [
 *                  {
 *                    id: 'updateAll',
 *                    label: 'Update All',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Update All';
 *                      return true;
 *                    }
 *                  },
 *                  {
 *                    id: 'updateWindows',
 *                    label: 'Update Windows',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Update Windows';
 *                      return true;
 *                    }
 *                  }
 *                ]
 *              }
 *            ]
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *      padding: 0 !important;
 *      margin: 0;
 *    }
 *
 *    .masthead-container {
 *      height: 100px;
 *      left: 0;
 *      position: absolute;
 *      top: 0;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Application Frame with Masthead, Navigation List and Basic Contents</h3>
 * <example>
 *  <file name="index.html">
 *      <dlcui-application-frame application-name="DLCUI Sample Application"
 *                             application-logo="#ic_logo"
 *                             navigation="navigationOptions"
 *                             masthead="mastheadOptions"
 *                             persit-as="{{data.DLCUISample.appInfo().productName}}"
 *                             user-name="{{userName}}">
 *              <h1>{{pageHeader}}</h1>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <br><br><br><br><br><br><br><br><br><br>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    </dlcui-application-frame>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_MASTHEAD_EVENTS) {
 *
 *          $scope.pageHeader = 'Main';
 *
 *          $scope.userName = 'Administrator';
 *
 *          $scope.mastheadOptions = {
 *            showControls: true,
 *            pin: false,
 *            hide: false,
 *            userActions: [
 *              {
 *                label: 'Logout',
 *                execute: function() {
 *                  $scope.userName = '';
 *                }
 *              },
 *              {
 *                label: 'Adlcuiount Settings',
 *                execute: function() {
 *                  alert('You clicked Account Settings');
 *                }
 *              }
 *             ],
 *             toolbarActions: [
 *              {
 *                icon: '#ic_search',
 *                collapsedLabel: 'Search',
 *                execute: function() {
 *                  alert('You clicked search');
 *                }
 *              },
 *              {
 *                icon: '#ic_alerts',
 *                collapsedLabel: 'List Items',
 *                execute: function() {
 *                  alert('You clicked list items');
 *                }
 *              }
 *            ]};
 *
 *          $scope.navigationOptions = {
 *            pin: true,
 *            hide: false,
 *            actions: [
 *              {
 *                id: 'home',
 *                label: 'Home',
 *                icon: 'home',
 *                execute: function() {
 *                  $scope.pageHeader = 'Home';
 *                  return true;
 *                }
 *              },
 *              {
 *                id: 'devices',
 *                label: 'Devices',
 *                icon: '#menu_icon_02_devices',
 *                execute: function() {
 *                  $scope.pageHeader = 'Devices';
 *                  return true;
 *                }
 *              },
 *              {
 *                id: 'applications',
 *                label: 'Applications',
 *                icon: '#menu_icon_03_applications',
 *                children: [
 *                  {
 *                    id: 'formatHardDrive',
 *                    label: 'Format Hard Drive',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Format System';
 *                      return true;
 *                    }
 *                  },
 *                  {
 *                    id: 'restoreHardDrive',
 *                    label: 'Restore Hard Drive',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Restore System';
 *                      return true;
 *                    }
 *                  }
 *                  ,
 *                  {
 *                    id: 'restartSystem',
 *                    label: 'Restart System',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Restart System';
 *                      return true;
 *                    }
 *                  }
 *                ]
 *              },
 *              {
 *                id: 'updates',
 *                label: 'Updates',
 *                icon: '#menu_icon_04_updates',
 *                children: [
 *                  {
 *                    id: 'updateAll',
 *                    label: 'Update All',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Update All';
 *                      return true;
 *                    }
 *                  },
 *                  {
 *                    id: 'updateWindows',
 *                    label: 'Update Windows',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Update Windows';
 *                      return true;
 *                    }
 *                  }
 *                ]
 *              }
 *            ]
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *      padding: 0 !important;
 *      margin: 0;
 *    }
 *
 *    .masthead-container {
 *      height: 100px;
 *      left: 0;
 *      position: absolute;
 *      top: 0;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Application Frame with Masthead and Basic Contents</h3>
 * <example>
 *  <file name="index.html">
 *      <dlcui-application-frame application-name="DLCUI Sample Application"
 *                             application-logo="#ic_logo"
 *                             navigation="navigationOptions"
 *                             masthead="mastheadOptions"
 *                             persit-as="{{data.DLCUISample.appInfo().productName}}"
 *                             user-name="{{userName}}">
 *              <h1>{{pageHeader}}</h1>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <br><br><br><br><br><br><br><br><br><br>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    </dlcui-application-frame>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_MASTHEAD_EVENTS) {
 *
 *          $scope.pageHeader = 'Main';
 *
 *          $scope.userName = 'Administrator';
 *
 *          $scope.mastheadOptions = {
 *            showControls: true,
 *            pin: false,
 *            hide: false,
 *            userActions: [
 *              {
 *                label: 'Logout',
 *                execute: function() {
 *                  $scope.userName = '';
 *                }
 *              },
 *              {
 *                label: 'Adlcuiount Settings',
 *                execute: function() {
 *                  alert('You clicked Account Settings');
 *                }
 *              }
 *             ],
 *             toolbarActions: [
 *              {
 *                icon: '#ic_search',
 *                collapsedLabel: 'Search',
 *                execute: function() {
 *                  alert('You clicked search');
 *                }
 *              },
 *              {
 *                icon: '#ic_alerts',
 *                collapsedLabel: 'List Items',
 *                execute: function() {
 *                  alert('You clicked list items');
 *                }
 *              }
 *            ]};
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *      padding: 0 !important;
 *      margin: 0;
 *    }
 *
 *    .masthead-container {
 *      height: 100px;
 *      left: 0;
 *      position: absolute;
 *      top: 0;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Application Frame with Masthead, Navigation List and Contents Where Developer Controls scrolling</h3>
 * <example>
 *  <file name="index.html">
 *      <dlcui-application-frame application-name="DLCUI Sample Application"
 *                             application-logo="#ic_logo"
 *                             navigation="navigationOptions"
 *                             masthead="mastheadOptions"
 *                             persit-as="{{data.DLCUISample.appInfo().productName}}"
 *                             user-name="{{userName}}">
 *          <div class="vw-content" dlcui-masthead-scroll="">
 *              <h1>{{pageHeader}}</h1>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <br><br><br><br><br><br><br><br><br><br>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *              in alcatra
 *              drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia
 *              quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *              <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *              Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *              meatloaf nisi.
 *              Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *              Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *              officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *          </div>
 *    </dlcui-application-frame>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_MASTHEAD_EVENTS) {
 *
 *          $scope.pageHeader = 'Main';
 *
 *          $scope.userName = 'Administrator';
 *
 *          $scope.mastheadOptions = {
 *            showControls: true,
 *            pin: false,
 *            hide: false,
 *            userActions: [
 *              {
 *                label: 'Logout',
 *                execute: function() {
 *                  $scope.userName = '';
 *                }
 *              },
 *              {
 *                label: 'Account Settings',
 *                execute: function() {
 *                  alert('You clicked Account Settings');
 *                }
 *              }
 *             ],
 *             toolbarActions: [
 *              {
 *                icon: '#ic_search',
 *                collapsedLabel: 'Search',
 *                execute: function() {
 *                  alert('You clicked search');
 *                }
 *              },
 *              {
 *                icon: '#ic_alerts',
 *                collapsedLabel: 'List Items',
 *                execute: function() {
 *                  alert('You clicked list items');
 *                }
 *              }
 *            ]};
 *
 *          $scope.navigationOptions = {
 *            pin: true,
 *            hide: false,
 *            actions: [
 *              {
 *                id: 'home',
 *                label: 'Home',
 *                icon: 'home',
 *                execute: function() {
 *                  $scope.pageHeader = 'Home';
 *                  return true;
 *                }
 *              },
 *              {
 *                id: 'devices',
 *                label: 'Devices',
 *                icon: '#menu_icon_02_devices',
 *                execute: function() {
 *                  $scope.pageHeader = 'Devices';
 *                  return true;
 *                }
 *              },
 *              {
 *                id: 'applications',
 *                label: 'Applications',
 *                icon: '#menu_icon_03_applications',
 *                children: [
 *                  {
 *                    id: 'formatHardDrive',
 *                    label: 'Format Hard Drive',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Format System';
 *                      return true;
 *                    }
 *                  },
 *                  {
 *                    id: 'restoreHardDrive',
 *                    label: 'Restore Hard Drive',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Restore System';
 *                      return true;
 *                    }
 *                  }
 *                  ,
 *                  {
 *                    id: 'restartSystem',
 *                    label: 'Restart System',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Restart System';
 *                      return true;
 *                    }
 *                  }
 *                ]
 *              },
 *              {
 *                id: 'updates',
 *                label: 'Updates',
 *                icon: '#menu_icon_04_updates',
 *                children: [
 *                  {
 *                    id: 'updateAll',
 *                    label: 'Update All',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Update All';
 *                      return true;
 *                    }
 *                  },
 *                  {
 *                    id: 'updateWindows',
 *                    label: 'Update Windows',
 *                    execute: function() {
 *                      $scope.pageHeader = 'Update Windows';
 *                      return true;
 *                    }
 *                  }
 *                ]
 *              }
 *            ]
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *      padding: 0 !important;
 *      margin: 0;
 *    }
 *
 *    .masthead-container {
 *      height: 100px;
 *      left: 0;
 *      position: absolute;
 *      top: 0;
 *      width: 100%;
 *    }
 *
 *    .vw-content {
 *        height: 100%;
 *        overflow: auto;
 *        padding: 0 5px;
 *        width: 100%;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiApplicationFrame', ['dlcuiBaseTemplatePath', '$templateCache', function (dlcuiBaseTemplatePath, $templateCache) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        applicationName: '@',
        applicationLogo: '@',
        persistAs: '@',
        masthead: '=',
        navigation: '=',
        userName: '@'
      },
      transclude: true,
      //templateUrl: [dlcuiBaseTemplatePath, 'dlcuiApplicationFrame.directive.html'].join(''),
	  template: function() {
			return $templateCache.get('ngclarity/directives/core/applicationFrame/dlcuiApplicationFrame.directive.html');
		},
      controller: ['$scope', 'dlcuiApplicationFrameStates', function ($scope, dlcuiApplicationFrameStates) {
        $scope.data = {
          states: dlcuiApplicationFrameStates
        };

        return this;
      }],
      link: function (scope) {
        // Close the masthead if not specified
        if (!scope.masthead) {
          scope.data.states.currentMastheadStateClass = 'dlcui-masthead-collapsed';
        }
        // Close the navigation if not specified
        if (!scope.navigation) {
          scope.data.states.currentNavigationListStateClass = 'dlcui-navigation-collapsed';
        }
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiApplicationFrameStates', function () {
    var states = {
      mastheadClosed: false,
      currentMastheadStateClass: 'dlcui-masthead-open',
      currentNavigationListStateClass: 'dlcui-navigation-list-open',
      scrolledToTop: true,
      navigationListClosed: false
    };

    return states;
  });
;  /**
 * @ngdoc directive
 * @name breadcrumb
 *
 * @module dlcui.controls
 * @src directives/output/breadcrumb/breadcrumb.js
 * @controlType navigation
 *
 * @description Breadcrumb navigation allows users to keep track of their location within a program or document.
 *
 * A depth of 6 "crumbs" is probably enough, however, use your own judgement for your specific use case.
 * Consider the horizontal space that the breadcrumb will fill and length of crumb labels when choosing a limit.
 *
 * @restrict EA
 *
 * @param {array} items An array of objects where each object correlates to an individual crumb.
 * The array has the following structure:
 *
 * Management of the array is not built-in. You will need to update the array as the user navigates
 * the application.
 *
 * ```js
 * {
 *   label: 'string', // required -- will be displayed as the text of the crumb
 *   url: 'string'    // the location the user will go to if the crumb is clicked
 * }
 * ```
 *
 * @example
 * <h3>Basic breadcrumb</h3>
 * <example name="breadcrumb">
 *   <file name="index.html">
 *     <dlcui-breadcrumb items="vm.items"></dlcui-breadcrumb>
 *
 *     <p>Current path: <span ng-bind="vm.location.path() || '/'"></span></p>
 *     <p>Push new crumb <dlcui-button dlcui-size="small" ng-click="vm.pushCrumb()">Push Crumb</dlcui-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($location) {
 *         var vm = this;
 *         vm.location = $location;
 *         vm.items = [
 *           {
 *             url: './'    // Home; no label - icon provided by default
 *           },{
 *             label: 'Resource',
 *             url: '#resource'
 *           },{
 *             label: 'Pools',
 *             url: '#pools'
 *           },{
 *             label: 'Amaranth',
 *             url: '#amaranth'
 *           },{
 *             label: '192.168.32.1' // current location
 *           }
 *         ];
 *
 *         vm.pushCrumb = function() {
 *           vm.items.push({ label: 'Directory', url: '#directory' }); // add new
 *           // Control the breadcrumb length
 *           if (vm.items.length > 6) {
 *                vm.items.splice(1, 1);
 *           }
 *         }
 *       });
 *   </file>
 * </example>
 */

'use strict';

angular.module('dell.ngclarity.directives').directive('dlcuiBreadcrumb', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  return {
	templateUrl: [dlcuiBaseTemplatePath, 'directives/core/breadcrumb/dlcuiBreadcrumb.directive.html'].join(''),
    restrict: 'EA',
    transclude: false,
    scope: {
      items: '='
    }
  };
}]
);
;
/**
 * @ngdoc directive
 * @name tree
 * @description The tree is used for navigation in filesystems and general nested items.
 * @module cui.controls
 *
 * @src directives/output/tree/tree.js
 * @controlType navigation
 *
 * @restrict E
 *
 * @param {array} items An array containing node objects, each of which can contain a 'children' property of an array of nodes.
 * ```js
 * [
 *   {
 *     label: 'Home', // This
 *     id: 'home',    // and/or this required for each node
 *     icon: 'house',
 *     children: [
 *       {
 *         label: 'A child',
 *         id: 'child'
 *       }
 *     ]
 *   }, {
 *     label: 'Logout'
 *   }
 * ]
 * ```
 *
 * @param {string=} selectedName The selected id, or, if the node doesn't have an id, the label. This property can be set: If the value is invalid or empty, nothing in the tree is selected. If the object has no children (null/undefined property or empty array), it can be selected.
 * @param {object=} selectedNode The selected node. Its use is accessing properties on the node that you may want when it changes (such as a function to call). It can only be read.
 *
 * @example
 * <h3>Static tree</h3>
 *
 * <example name='staticTree'>
 *   <file name='index.html'>
 *     <cui-tree items="items"></cui-tree>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope) {
 *         $scope.items = [
 *           {
 *             label: 'Home', // This
 *             id: 'home',    // and/or this required for each node
 *             icon: 'house',
 *             children: [
 *               {
 *                 label: 'A child',
 *                 id: 'child'
 *               }
 *             ]
 *           }, {
 *             label: 'Logout'
 *           }
 *         ];
 *       });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Interactive tree</h3>
 *
 * <example name='staticTree'>
 *   <file name='index.html'>
 *     <!-- The selectedName value can be set (case sensitive) -->
 *     <cui-textbox ng-model="selectedItem" placeholder="Node indentifier"></cui-textbox>
 *
 *     <!-- The selectedNode value cannot -->
 *     The label: {{ node.label }}
 *
 *
 *     <br><br>
 *     <cui-tree items="items" selected-name="selectedItem" selected-node="node"></cui-tree>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope) {
 *         // Two different ways to execute a command when clicked...
 *
 *         // This one watches for when a value is something
 *         $scope.$watch('selectedItem', function() {
 *           if($scope.selectedItem == 'childId2')
 *             alert("Clicked childId2!")
 *         })
 *
 *         // This one is more general -- looks for a specific function on the node
 *         $scope.$watch('node', function() {
 *           if($scope.node && $scope.node.doSomething) $scope.node.doSomething()
 *         })
 *
 *
 *         $scope.items = [{
 *           label: 'label1',
 *           id: 'id1',
 *           children: [{
 *             label: 'childLabel1 ( doSomething() ) (no id)', // No id, fallback to label
 *             doSomething: function() {
 *               alert('Woah! Something!');
 *             },
 *             icon: 'file'
 *           },{
 *             label: 'childLabel2 (do something else)',
 *             id: 'childId2',
 *             icon: 'flag'
 *           },{
 *             label: 'childLabel3',
 *             id: 'childId3',
 *             icon: 'file'
 *           }]
 *         },{
 *           label: 'label2',
 *           id: 'id2'
 *         },{
 *           label: 'label3 (Open by default)',
 *           visible: true,
 *           id: 'id3',
 *           children: [{
 *             label: 'child1 (no id)',
 *             icon: 'file'
 *           },{
 *             label: 'child2 (no id)',
 *             icon: 'file'
 *           }]
 *         }];
 *       });
 *   </file>
 * </example>
 */

  
  'use strict';


angular.module('dell.ngclarity.directives').directive('dlcuiCollapsibleTree', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
  controller.$inject = ['$scope'];
  function controller($scope) {
    var nodes = $scope.nodes = [];
    this.addNode = function (node) {
      nodes.push(node);
    };

    this.selectNode = function (node) {
      $scope.selectedName = node.items.id || node.items.label;
    };

    return this;
  }

  function link(scope) {
    scope.$watch('selectedName', function () {
      // Go through each in order to be sure only one is selected
      scope.selectedNode = null;
      // TODO: User accidentally has duplicate id/labels?
      angular.forEach(scope.nodes, function (n) {
        if (n.items.id && scope.selectedName === n.items.id || n.items.label && !n.items.id && scope.selectedName === n.items.label) {
          n.items.active = true;
          scope.selectedNode = n.items;
        } else {
          n.items.active = false;
        }
      });
    });
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/core/collapsibleTree/dlcuiCollapsibleTree.directive.html'].join(''),
    restrict: 'E',
    scope: {
      items: '=',
      selectedName: '=?',
      selectedNode: '=?'
    },
    link: link,
    controller: controller
  };
}]);
;angular.module('dell.ngclarity.directives').directive('dlcuiCollapsibleTreeItem',['$compile', 'dlcuiBaseTemplatePath', function($compile, dlcuiBaseTemplatePath) {
  function compile(tElement) {
    // Recursive compilation until no children are remaining (leaf)
    // This is a generic recursive angular implementation (TODO: extract?)
    var contents = tElement.contents().remove();
    var compiledContents = null; // important
    return function (scope, iElement, iAttr, dlcuiCollapsibleTreeController) {
      if (!compiledContents) {
        compiledContents = $compile(contents);
      }

      compiledContents(scope, function (clone) {
        iElement.append(clone);
      });
      dlcuiCollapsibleTreeController.addNode(scope);

      scope.toggleVisible = function () {
        scope.items.visible = !scope.items.visible;
      };
      scope.toggleActive = function () {
        dlcuiCollapsibleTreeController.selectNode(scope);
      };
    };
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/core/collapsibleTree/dlcuiCollapsibleTreeItem.directive.html'].join(''),
    restrict: 'E',
    require: '^dlcuiCollapsibleTree',
    scope: {
      items: '='
    },
    compile: compile
  };
}]);
;/**
 * @ngdoc directive
 * @name dragSource
 * @module dlcui
 * @src directives/core/dragSource/dlcuiDragSource.directive.js
 * @controlType actionable
 * @restrict A
 * @param {boolean} dlcuiDragSource This accepts 'true' or 'false' to enable or disable the drag source.
 * @param {string|object|array|number=} dlcuiDragData This accepts the name of the scope variable that contains
 * the data associated with the item been dragged.
 * @param {function=} dlcuiOnDragStart This accepts the name of the callback function defined on the scope and is called
 * when the user starts dragging the element.
 * @param {function=} dlcuiOnDragEnd This accepts the name of the callback function defined on the scope and is called
 * when the user stops dragging the element.
 * @param {function=} dlcuiCreateDragImage Allows the developer to create a different drag element/image. The element id
 * been dragged is passed in which the developer can clone and modify. This function must return a valid html string.
 *
 * @description
 * Attribute based directive that is added to any element to enable it as a drag source.
 *
 * The following rules apply,
 * * The id of the element will be updated with a generated UUID value if not defined.
 * * The element is decorated with the class 'dlcui-drag-source'.
 * * The element is decorated with the class 'dlcui-drag-source-active' as soon as the user starts to drag the element.
 *
 * The item been dragged will have the class <i>dlcui-drag-item</i> attached to it and can allow for additional
 * css targeting that item.
 *
 * @example
 * <h3>Drop Source</h3>
 * <example>
 *  <file name='index.html'>
 *    <div id="drag-source" class="source" dlcui-drag-source="true" dlcui-on-drag-start="onDragStart(id, data)"
 *        dlcui-on-drag-end="onDragEnd(id)" dlcui-drag-data="dataToDrag">Drag Me</div>
 *    <div id="drop-target" class="target" dlcui-drop-target="true" dlcui-on-drop="onDrop(sourceId, targetId, data)"
 *        dlcui-on-drag-enter="onDragEnter(targetId)" dlcui-on-drag-leave="onDragLeave(targetId)">Drop Here</div>
 *    <br><br><br>
 *    <b ng-bind="dragMessage"></b>
 *    <br>
 *    <b ng-show="dragMessageTwo" ng-bind="dragMessageTwo"></b>
 *    <div ng-show="dataBeenDragged">
 *      <b>Data Been Dragged:</b> <span ng-bind="dataBeenDragged"></span>
 *    </div>
 *    <div ng-show="dataBeenDropped">
 *      <b>Data Dropped:</b> <span ng-bind="dataBeenDropped"></span>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, $filter) {
 *             $scope.dataBeenDragged = null;
 *             $scope.dataBeenDropped = null;
 *             $scope.dataToDrag = '"I can be anything, even an object, but here I am a string."';
 *
 *             $scope.dragMessage = 'Try dragging the "Drag Me" block around....';
 *
 *             $scope.onDragStart = function(id, data) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes ' +
 *                        'its border when you started dragging "' + id + '".';
 *                    $scope.dragMessageTwo = 'These styles are driven by the ' +
 *                        'developer by using class "dlcui-drop-target-active"';
 *                    $scope.dataBeenDragged = data;
 *                    $scope.dataBeenDropped = null;
 *                });
 *             };
 *
 *             $scope.onDragEnd = function(id) {
 *                $scope.$apply(function() {
 *                    $scope.dataBeenDragged = null;
 *                    $scope.dragMessageTwo = null;
 *                });
 *             };
 *
 *             $scope.onDragEnter = function(targetId) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes its background ' +
 *                        'color when you started dragging over "' + targetId + '".';
 *                    $scope.dragMessageTwo = 'These styles are driven by the ' +
 *                        'developer by using class "dlcui-drag-over"';
 *                });
 *             };
 *
 *             $scope.onDragLeave = function(targetId) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes its background ' +
 *                        'color when you dragged away from "' + targetId + '".';
 *                });
 *             };
 *
 *             $scope.onDrop = function(sourceId, targetId, data) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'You dropped element "' + sourceId +
 *                        '" on target "' + targetId + '".';
 *                    $scope.dragMessageTwo = null;
 *                    $scope.dataBeenDropped = data;
 *                });
 *             };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 250px;
 *    }
 *
 *    .source, .target {
 *      display: inline-block;
 *      border: 1px solid black;
 *      height: 100px;
 *      line-height: 100px;
 *      margin: 5px 10px;
 *      text-align: center;
 *      vertical-align: middle;
 *      width: 100px;
 *    }
 *
 *    .target {
 *      margin-left: 500px;
 *    }
 *
 *    .dlcui-drop-target-active {
 *      box-shadow: 2px 2px 5px #888888;
 *    }
 *
 *    .dlcui-drag-source-active {
 *      opacity: 0.5;
 *    }
 *
 *    .dlcui-drag-over {
 *      background-color: #cce5f1;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Create Drag Element</h3>
 * <example>
 *  <file name='index.html'>
 *    <div id="drag-source" class="source" dlcui-drag-source="true" dlcui-on-drag-start="onDragStart(id, data)"
 *        dlcui-on-drag-end="onDragEnd(id)" dlcui-drag-data="dataToDrag" dlcui-create-drag-image="createDragImage(id)">
 *        Drag Me
 *    </div>
 *    <div id="drop-target" class="target" dlcui-drop-target="true" dlcui-on-drop="onDrop(sourceId, targetId, data)"
 *        dlcui-on-drag-enter="onDragEnter(targetId)" dlcui-on-drag-leave="onDragLeave(targetId)">
 *        Drop Here
 *    </div>
 *    <br><br><br>
 *    <b ng-bind="dragMessage"></b>
 *    <br>
 *    <b ng-show="dragMessageTwo" ng-bind="dragMessageTwo"></b>
 *    <div ng-show="dataBeenDragged">
 *      <b>Data Been Dragged:</b> <span ng-bind="dataBeenDragged"></span>
 *    </div>
 *    <div ng-show="dataBeenDropped">
 *      <b>Data Dropped:</b> <span ng-bind="dataBeenDropped"></span>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, $filter) {
 *             $scope.dataBeenDragged = null;
 *             $scope.dataBeenDropped = null;
 *             $scope.dataToDrag = '"I can be anything, even an object, but here I am a string."';
 *
 *             $scope.dragMessage = 'Try dragging the "Drag Me" block around....';
 *
 *             $scope.onDragStart = function(id, data) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes ' +
 *                        'its border when you started dragging "' + id + '".';
 *                    $scope.dragMessageTwo = 'These styles are driven by the ' +
 *                        'developer by using class "dlcui-drop-target-active"';
 *                    $scope.dataBeenDragged = data;
 *                    $scope.dataBeenDropped = null;
 *                });
 *             };
 *
 *             $scope.onDragEnd = function(id) {
 *                $scope.$apply(function() {
 *                    $scope.dataBeenDragged = null;
 *                    $scope.dragMessageTwo = null;
 *                });
 *             };
 *
 *             $scope.onDragEnter = function(targetId) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes its background ' +
 *                        'color when you started dragging over "' + targetId + '".';
 *                    $scope.dragMessageTwo = 'These styles are driven by the ' +
 *                        'developer by using class "dlcui-drag-over"';
 *                });
 *             };
 *
 *             $scope.onDragLeave = function(targetId) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes its background ' +
 *                        'color when you dragged away from "' + targetId + '".';
 *                });
 *             };
 *
 *             $scope.onDrop = function(sourceId, targetId, data) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'You dropped element "' + sourceId +
 *                        '" on target "' + targetId + '".';
 *                    $scope.dragMessageTwo = null;
 *                    $scope.dataBeenDropped = data;
 *                });
 *             };
 *
 *             $scope.createDragImage = function(sourceId) {
 *                var cloneEl = $('#' + sourceId).clone();
 *                $(cloneEl).css({
 *                    'background-color': 'yellow',
 *                    'border-color': 'red',
 *                    'box-shadow': '2px 2px 5px #888888'
 *                }).addClass('dlcui-drag-source-active');
 *                $(cloneEl).wrap('<div></div>');
 *
 *                return $(cloneEl).parent().html();
 *             };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 250px;
 *    }
 *
 *    .source, .target {
 *      display: inline-block;
 *      border: 1px solid black;
 *      height: 100px;
 *      line-height: 100px;
 *      margin: 5px 10px;
 *      text-align: center;
 *      vertical-align: middle;
 *      width: 100px;
 *    }
 *
 *    .target {
 *      margin-left: 500px;
 *    }
 *
 *    .dlcui-drop-target-active {
 *      box-shadow: 2px 2px 5px #888888;
 *    }
 *
 *    .dlcui-drag-source-active {
 *      opacity: 0.5;
 *    }
 *
 *    .dlcui-drag-over {
 *      background-color: #cce5f1;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDragSource', ['dlcuiGuid', 'dlcuiDragAndDrop', '$rootScope', '$parse', 'dlcuiElementId', 'DLCUI_DRAG_AND_DROP_EVENTS', 'DLCUI_DRAG_AND_DROP_CLASSES', function (dlcuiGuid,
                                        dlcuiDragAndDrop,
                                        $rootScope,
                                        $parse,
                                        dlcuiElementId,
                                        DLCUI_DRAG_AND_DROP_EVENTS,
                                        DLCUI_DRAG_AND_DROP_CLASSES) {
    return {
      restrict: 'A',
      replace: false,
      link: function (scope, element, attrs) {
        /**
         * the data associated with the drag item
         * @type {null|object}
         * @private
         */
        var _dlcuiDragData = null;
        scope.$watch(attrs.dlcuiDragData, function (data) {
          _dlcuiDragData = data;
        });

        /**
         * The on drag start callback function.
         */
        var _dlcuiOnDragStartFn = $parse(attrs.dlcuiOnDragStart);

        /**
         * The on drag end callback function.
         */
        var _dlcuiOnDragEndFn = $parse(attrs.dlcuiOnDragEnd);

        /**
         * The create drag image callback function
         */
        var _dlcuiCreateDragImageFn = $parse(attrs.dlcuiCreateDragImage);

        /**
         * The element id associated with this element
         */
        var _elementId = dlcuiElementId.update(element);

        /**
         * Called when the user initiates dragging.
         * @param {!Event} event The mouse event associated with the drag.
         * @param {!Object} ui The helper object associated with the drag event.
           * @private
           */
        function _dragStart(event, ui) {
          angular.element(element).addClass(DLCUI_DRAG_AND_DROP_CLASSES.dragSourceActive);
          dlcuiDragAndDrop.setDragData(_dlcuiDragData);
          if (ui && ui.helper) {
            $(ui.helper).addClass('dlcui-drag-item');
          }
          var data = {
            id: _elementId,
            data: _dlcuiDragData
          };

          $rootScope.$emit(DLCUI_DRAG_AND_DROP_EVENTS.dragStart, element);
          if (dlcui.isFunction(_dlcuiOnDragStartFn)) {
            _dlcuiOnDragStartFn(scope, {
              id: _elementId,
              data: data.data
            });
          }
        }

        /**
         * Called when the user stops the dragging
         */
        function _dragStop() {
          $rootScope.$emit(DLCUI_DRAG_AND_DROP_EVENTS.dragEnd, element);
          angular.element(element).removeClass(DLCUI_DRAG_AND_DROP_CLASSES.dragSourceActive);

          if (dlcui.isFunction(_dlcuiOnDragEndFn)) {
            _dlcuiOnDragEndFn(scope, {
              id: _elementId,
              data: _dlcuiDragData
            });
          }
        }

        /**
         * Enable to disable the draggable attribute on the element.
         * @param {!boolean} enabled Enable this element as a draggable element.
         */
        function _enableDraggable(enabled) {
          scope.enabled = enabled;
          if (scope.enabled) {
            angular.element(element).addClass(DLCUI_DRAG_AND_DROP_CLASSES.dragSource);
            $(element).draggable('enable');
          } else {
            angular.element(element).removeClass(DLCUI_DRAG_AND_DROP_CLASSES.dragSource);
            $(element).draggable('disable');
          }
        }

        /**
         * Called by the hierarchy design to create a drag image.
         * @param {!string} id The id of the current element on which dragging is started
         * @returns {string} The html or undefined.
         */
        function createDragImageDefault (id) {
          var $dragEl = $(['#', id].join(''));
          var height = $dragEl.outerHeight();
          var width = $dragEl.outerWidth();
          var $containerEl = $dragEl.clone();
          $containerEl.addClass('dlcui-drag-defaults');
          $containerEl.css({
            height: height,
            width: width
          });
          $containerEl.wrap('<div></div>');

          return $($containerEl).parent().html();
        }

        $(element).draggable({
          addClasses: false,
          appendTo: 'body',
          cursor: 'pointer',
          delay: 150,
          helper: function () {
            var clonedEl = _dlcuiCreateDragImageFn(scope, {
              id: _elementId
            });
            if (angular.isUndefined(clonedEl)) {
              clonedEl = createDragImageDefault(_elementId);
            }

            return clonedEl;
          },
          start: _dragStart,
          stop: _dragStop
        });

        attrs.$observe('dlcuiDragSource', function (newValue, oldValue) {
          if (newValue !== oldValue) {
            _enableDraggable(!dlcui.isStringWithLength(attrs.dlcuiDragSource) ||
              $parse(attrs.dlcuiDragSource)(scope));
          }
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiDropDownKeyboard', ['dlcuiDropDownList', '$parse', function (dlcuiDropDownList,
                                              $parse) {
    return {
      restrict: 'A',
      replace: false,
      link: function (scope, element, attrs) {
        /**
         * The name of the items array on the parent scope
         * @type {*|string}
         */
        var _itemsName = attrs.dlcuiDropDownKeyboard || 'items';

        /**
         * The name of the currently highlighted item on the parent scope.
         * @type {*|string}
         */
        var _highlightItem = attrs.dlcuiHighlightItem || 'highlightItem';

        /**
         * The name of the variable that tracks whether the drop down is visible
         * @type {*|string}
         */
        var _dropDownVisible = attrs.dlcuiDropDownVisible || 'dropDownVisible';

        /**
         * The name of the variable that contains the selected item on the parent container
         * @type {*|string}
         */
        var _selectedItem = attrs.dlcuiSelectedItem || 'selectedItem';

        /**
         * Function that is called when selection changes
         * @type {function(context, locals)}
         */
        var _dlcuiOnDropDownSelectedFn = $parse(attrs.dlcuiOnDropDownSelected);

        /**
         * Select the next item in the filtered list and is called when the user presses the down arrow.
         * @private
         */
        function _highlightNext () {
          if (dlcui.isArrayWithLength(scope[_itemsName])) {
            if (!scope[_highlightItem]) {
              scope[_highlightItem] = scope[_itemsName][0];
            } else {
              var originalItem = scope[_highlightItem];
              var currentItem = null;
              var index = scope[_itemsName].indexOf(originalItem);
              do {
                index++;
                if (index >= 0 && index < scope[_itemsName].length) {
                  currentItem = scope[_itemsName][index];
                } else {
                  currentItem = scope[_itemsName][0];
                }
              } while (dlcuiDropDownList.isItemSpecial(currentItem) && currentItem !== originalItem);
              scope[_highlightItem] = currentItem;
            }
          }
        }

        /**
         * Select the previous item in the filtered list and is called when the user presses the up arrow.
         * @private
         */
        function _highlightPrevious () {
          if (dlcui.isArrayWithLength(scope[_itemsName])) {
            if (!scope[_highlightItem]) {
              scope[_highlightItem] = scope[_itemsName][0];
            } else {
              var originalItem = scope[_highlightItem];
              var currentItem = null;
              var index = scope[_itemsName].indexOf(originalItem);
              do {
                index--;
                if (index >= 0 && index < scope[_itemsName].length) {
                  currentItem = scope[_itemsName][index];
                } else {
                  currentItem = scope[_itemsName][scope[_itemsName].length - 1];
                }
              } while (dlcuiDropDownList.isItemSpecial(currentItem) && currentItem !== originalItem);
              scope[_highlightItem] = currentItem;
            }
          }
        }

        /**
         * Called when the UI detects a key up on the button.
         * @param {!Event} event The event object.
         */
        function _handleKeyDown (event) {
          if (event.keyCode === 40) {
            // Keydown so lets open the menu
            event.stopPropagation();
            event.preventDefault();
            scope.$apply(function() {
              scope[_dropDownVisible] = true;
              _highlightNext();
            });
          } else if (event.keyCode === 27) {
            // Key escape so lets close the menu
            event.stopPropagation();
            event.preventDefault();
            scope.$apply(function() {
              scope[_dropDownVisible] = false;
            });
          } else if (event.keyCode === 38) {
            // Key up arrow
            event.stopPropagation();
            event.preventDefault();
            scope.$apply(function() {
              scope[_dropDownVisible] = true;
              _highlightPrevious();
            });
          } else if (event.keyCode === 13 && scope[_highlightItem]) {
            // Key enter
            event.stopPropagation();
            event.preventDefault();
            scope.$apply(function() {
              scope[_selectedItem] = scope[_highlightItem];
              scope[_dropDownVisible] = false;
              if (dlcui.isFunction(_dlcuiOnDropDownSelectedFn)) {
                _dlcuiOnDropDownSelectedFn(scope, {
                  item: scope[_selectedItem]
                });
              }
            });
          } else if (event.keyCode === 9 || event.keyCode === 11 || event.keyCode === 16 ||
            event.keyCode === 17 || event.keyCode === 18) {
            // Ignore these keys and do not change the drop down visible state
            return;
          }else if (!scope[_dropDownVisible]) {
            scope.$apply(function() {
              scope[_dropDownVisible] = true;
            });
          }
        }

        element.on('keydown', _handleKeyDown);
      }
    };
  }]);
;/* eslint-disable max-statements */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDropDownList', ['dlcuiBaseTemplatePath', 'dlcuiDropDownList', 'dlcuiSelection', '$templateCache', 'DLCUI_SELECTION_TYPE', function (dlcuiBaseTemplatePath,
                                          dlcuiDropDownList,
                                          dlcuiSelection,
                                          $templateCache,
                                          //$translate,
                                          DLCUI_SELECTION_TYPE) {
    /**
     * Supplemental template
     */
    //var _supplementalTemplate = $templateCache.get([dlcuiBaseTemplatePath, 'dlcuiSupplementalItem.template.html'].join(''));
	  var _supplementalTemplate = $templateCache.get('ngclarity/directives/core/dropDownList/dlcuiSupplementalItem.template.html');

    /**
     * Main label template
     */
    //var _labelTemplate = $templateCache.get([dlcuiBaseTemplatePath, 'dlcuiLabelItem.template.html'].join(''));
    var _labelTemplate = $templateCache.get('ngclarity/directives/core/dropDownList/dlcuiLabelItem.template.html');
	

    return {
      restrict: 'E',
      replace: true,
     // templateUrl: [dlcuiBaseTemplatePath, 'dlcuiDropDownList.directive.html'].join(''),
      template: function() { 
		return $templateCache.get('ngclarity/directives/core/dropDownList/dlcuiDropDownList.directive.html') 
		},
      scope: {
        anchor: '@',
        collision: '@',
        deselectAllLabel: '@',
        height: '@',
        items: '=',
        highlightItem: '=?',
        selectionType: '@',
        target: '=?',
        listOpen: '@',
        onItemClicked: '&',
        onDeselectAll: '&'
      },
      link: function (scope, element) {
        /**
         * Returns the collision value and defaults to 'none'
         * @returns {!string} The collision value
         * @private
         */
        function _getCollision () {
          if (dlcui.isStringWithLength(scope.collision)) {
            return scope.collision;
          }

          return 'none';
        }

        /**
         * Verifies the position of the popup and moves it if clipped.
         * @private
         */
        function _checkPosition () {
          var anchorRight = scope.anchor === 'right';

          if (!anchorRight) {
            element.position({
              collision: _getCollision(),
              my: 'left top',
              at: 'left bottom',
              of: $(scope.target)[0]
            });
          } else {
            element.position({
              collision: _getCollision(),
              my: 'right top',
              at: 'right bottom',
              of: $(scope.target)[0]
            });
          }
        }

        /**
         * Determines if the drop down is visible
         * @type {boolean}
         */
        scope.dropDownVisible = false;

        /**
         * Called to hide the popup menu.
         */
        scope.hidePopup = function() {
          if (scope.dropDownVisible) {
            scope.dropDownVisible = false;
            element.removeClass('dlcui-drop-down-list-open').addClass('dlcui-drop-down-list-closed');
          }
        };

        /**
         * Called to hide the popup menu.
         */
        scope.showPopup = function() {
          if (!scope.disabled && !scope.dropDownVisible) {
            element.removeClass('dlcui-drop-down-list-closed').addClass('dlcui-drop-down-list-open');
            _checkPosition();
            scope.dropDownVisible = true;
          }
        };

        /**
         * Obtaisn the selection type
         * @returns {!Number} the selection type
         */
        scope.getSelectionType = function () {
          if (dlcui.isStringWithLength(scope.selectionType)) {
            return parseInt(scope.selectionType, 10);
          }

          return DLCUI_SELECTION_TYPE.none;
        };

        /**
         * Returns the item label
         * @param {!Object} item The item object
         * @returns {!string} the item label
         */
        scope.getItemHtml = function (item) {
          var options = dlcui.optionsWrap(item);
          if (!dlcui.isDefined(item.html)) {
            var value = options.getFirst('label', 'name','id');
            var supplementalLabel = options.get('supplementalLabel', '');
            if (dlcui.isStringWithLength(supplementalLabel)) {
              return dlcui.formatString(_supplementalTemplate, {
                label: value,
                supplementalLabel: supplementalLabel
              });
            }
            return dlcui.formatString(_labelTemplate, {
                label: value
              });
          }
          // TODO-sscott: I should rather rely on the $compile here so we can support one way binding and so on.
          return dlcui.formatString(options.get('html'), item);
        };

        /**
         * Determines if the item is hidden
         * @param {!Object} item The item object
         * @returns {!boolean} True if the item is hidden
         */
        scope.isItemHidden = function (item) {
          if (dlcui.isFunction(item.hide)) {
            return item.hide();
          }

          return item.hide;
        };

        /**
         * Determines if the item is disabled
         * @param {!Object} item The item object
         * @returns {!boolean} True if the item is disabled
         */
        scope.isItemDisabled = function (item) {
          if (dlcui.isFunction(item.disabled)) {
            return item.disabled();
          }

          return item.disabled;
        };

        /**
         * Called by the template when the user click on an item.
         * @param {$Event} event The click event.
         * @param {!Object} item The associated item object.
         */
        scope.onListItemClicked = function (event, item) {
          event.stopPropagation();

          if (scope.isSelectionAllowed()) {
            dlcuiSelection.toggleItemSelection(scope.getSelectionType(), item, scope.items);
          }

          if (!scope.isItemDisabled(item)) {
            scope.onItemClicked({
              item: item
            });
          }

          if (scope.getSelectionType() !== DLCUI_SELECTION_TYPE.multiple) {
            scope.hidePopup();
          }
        };

        /**
         * Change the current highlighted item
         * @param {!Object} item The item to highlight.
         */
        scope.setHighlightedItem = function (item) {
          scope.highlightItem = item;
        };

        /**
         * Returns true if selection is allowed
         * @returns {boolean} True if single or multiple selection is allowed
         */
        scope.isSelectionAllowed = function () {
          return scope.getSelectionType() === DLCUI_SELECTION_TYPE.single ||
            scope.getSelectionType() === DLCUI_SELECTION_TYPE.multiple;
        };

        /**
         * Returned if selection is disabled for the specified item.
         * @param {!Object} item The item to test
         * @returns {!boolean} True if disabled.
         */
        scope.isItemSelectionDisabled = function (item) {
          return scope.isItemDisabled(item);
        };

        /**
         * Determines if the specified item is selected
         * @param {!Object} item The item to test
         * @returns {!boolean} True if selected otherwise false.
         */
        scope.isItemSelected = function (item) {
          return dlcuiSelection.isItemSelected(item);
        };

        /**
         * Returns true if the specified item is highlighted.
         * @param {!Object} item The item to test.
         * @returns {boolean} True if highlighted
         */
        scope.isItemHighlighted = function (item) {
          return scope.highlightItem === item;
        };

        /**
         * Returns true if the deselect all option is visible or not.
         * @returns {!boolean} True if visible
         */
        scope.isDeselectAllVisible = function () {
          return dlcui.isArrayWithLength(_.filter(scope.items, function (item) {
            return dlcuiSelection.isItemSelected(item);
          }));
        };

        /**
         * Returns the de select all label
         * @returns {!string} The label for the deselect all action
         */
        scope.getDeselectAllLabel = function () {
          return scope.deselectAllLabel || 'DLCUI_DESELECT_ALL';
          //return scope.deselectAllLabel || $translate.instant('DLCUI_DESELECT_ALL');
        };

        /**
         * Called when the user clicks on the Deselect All action
         * @param {Event} event the associated click event.
         */
        scope.onDeselectAllClick = function (event) {
          event.stopPropagation();

          dlcuiSelection.unSelectAll(scope.items);

          scope.onDeselectAll();
        };

        /**
         * Returns true if the item is a separator.
         * @param {!Object} item The item to test.
         * @returns {!boolean} True if a separator
         */
        scope.isItemSeparator = function (item) {
          return item && item.separator;
        };

        /**
         * Returns true if the item is a display only type.
         * @param {!Object} item The item to test.
         * @returns {!boolean} True if a display only type
         */
        scope.isItemDisplayOnly = function (item) {
          return item && item.displayOnly;
        };

        /**
         * Returns true if the item is an action within a selectable drop down.
         * @param {!Object} item The item to test.
         * @returns {!boolean} True if a link
         */
        scope.isItemLink = function (item) {
          return item && scope.isSelectionAllowed() && dlcui.isFunction(item.execute);
        };

        /**
         * Returns true if the item is an action within a selectable drop down.
         * @param {!Object} item The item to test.
         * @returns {!boolean} True if a link
         */
        scope.isItemHighlightLink = function (item) {
          return item && !scope.isItemSeparator(item) && !scope.isItemDisplayOnly(item) && !scope.isItemLink(item);
        };

        scope.$watch('listOpen', function () {
          if (scope.listOpen === 'true' && dlcui.isArrayWithLength(scope.items)) {
            scope.showPopup();
          } else {
            scope.hidePopup();
          }
        });

        // Make sure the target is set correctly
        if (!scope.target) {
          scope.target = element.parents('div:first');
        }

        scope.style = {
          maxHeight: scope.height
        };
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiDropDownList', ['dlcuiSelection', '$filter', function (dlcuiSelection,
                                        //$translate,
                                        $filter) {
    /**
     * A item used to represent a seperator.
     * @type {!Object}
     * @private
     */
    var _seperatorItem = {
      separator: true
    };

    /**
     * Helper method to obtain the value
     * @param {!Object} item The item to check
     * @returns {*} The value and can be anything defined by the developer
     * @private
     */
    function _getItemValue (item) {
      dlcui.assertOptionalObject(item);

      if (item) {
        var itemValue = null;
        if (angular.isDefined(item.value)) {
          itemValue = item.value;
        } else if (angular.isDefined(item.id)) {
          itemValue = item.id;
        } else if (angular.isDefined(item.name)) {
          itemValue = item.name;
        } else {
          itemValue = item.label;
        }

        if (dlcui.isFunction(itemValue)) {
          return itemValue();
        }

        return itemValue;
      }

      return null;
    }

    /**
     * Helper method to obtain the value
     * @param {?Array} optItems The item to check
     * @returns {*} The value and can be anything defined by the developer
     * @private
     */
    function _getItemValues (optItems) {
      dlcui.assertOptionalArray(optItems);

      var values = [];

      if (dlcui.isArrayWithLength(optItems)) {
        angular.forEach(optItems, function (item) {
          values.push(_getItemValue(item));
        });
      }

      return values;
    }

    /**
     * Called to filter the data based on the current filter model.
     * @param {string=} filter A string value to filter on.
     * @param {!Array} items The items to filter based on the specified filter
     * @param {?string=} opNoMatchesLabel The no matches label and a default will be used if not defined.
     * @returns {*} The filtered data and includes the no matched item if no data is left.
     * @private
     */
    function _filterData (filter, items, opNoMatchesLabel) {
      dlcui.assertOptionalString(filter);
      dlcui.assertOptionalArray(items);
      dlcui.assertOptionalString(opNoMatchesLabel);

      /**
       * The card item that represent the no matches found
       * @type {{disableFilter: boolean, noMatches: boolean, label: (boolean|string)}}
       * @private
       */
      var _noMatches = {
        displayOnly: true,
        hidden: false,
        label: opNoMatchesLabel || 'NO_MATCHES_FOUND'
        //label: opNoMatchesLabel || $translate.instant('DLCUI_NO_MATCHES_FOUND')
      };

      var exactMatch = false;
      var filteredItems = [];
      if (dlcui.isStringWithLength(filter) && dlcui.isArrayWithLength(items)) {
        filteredItems = $filter('filter')(items, filter,
          function (actual, expected) {
            if (actual) {
              if (!expected || !dlcui.isStringWithLength(expected)) {
                return true;
              } else if (dlcui.isStringWithLength(actual.label) && actual.label.indexOf(expected) >= 0) {
                if (!exactMatch && actual.label === expected) {
                  exactMatch = true;
                }
                return true;
              }
            }

            return false;
          });
      } else {
        filteredItems = items;
      }

      if (!dlcui.isArrayWithLength(filteredItems)) {
        filteredItems = [_noMatches];
      }

      return filteredItems;
    }

    /**
     * Helper method to obtain the label
     * @param {!Object} item The item to check
     * @returns {*} The value and can be anything defined by the developer
     * @private
     */
    function _getItemLabel (item) {
      dlcui.assertOptionalObject(item);

      if (item) {
        var itemLabel = null;

        if (angular.isDefined(item.label)) {
          itemLabel = item.label;
        } else if (angular.isDefined(item.name)) {
          itemLabel = item.name;
        } else if (angular.isDefined(item.id)) {
          itemLabel = item.id;
        } else {
          itemLabel = item.value;
        }

        if (dlcui.isFunction(itemLabel)) {
          return itemLabel();
        }

        return itemLabel;
      }

      return null;
    }

    /**
     * Helper method to find the item that matches the value
     * @param {*} value The value part of the item
     * @param {?Array} optItems The items to search.
     * @returns {Object|null} The item if found.
     * @private
     */
    function _findItemForValue (value, optItems) {
      dlcui.assertOptionalArray(optItems);

      var foundItem = null;
      if (dlcui.isDefined(value) && dlcui.isArrayWithLength(optItems)) {
        angular.forEach(optItems, function (item) {
          if (_getItemValue(item) === value) {
            foundItem = item;
          }
        });
      }
      return foundItem;
    }

    /**
     * Helper method to find the items that matches the values
     * @param {?Array} optValues The value part of the item
     * @param {?Array} optItems The items to search.
     * @returns {Object|null} The item if found.
     * @private
     */
    function _findItemsForValue (optValues, optItems) {
      dlcui.assertOptionalArray(optValues);
      dlcui.assertOptionalArray(optItems);

      var foundItems = [];
      if (dlcui.isArrayWithLength(optValues) && dlcui.isArrayWithLength(optItems)) {
        angular.forEach(optValues, function (value) {
          foundItems.push(_findItemForValue(value, optItems));
        });
      }
      return foundItems;
    }

    /**
     * Returns true if the item is a special display only type or separator.
     * @param {!Object} item the item to valodate
     * @returns {!boolean} True if the item is special
     * @private
     */
    function _isItemSpecial (item) {
      if (item) {
        return item.separator || item.displayOnly;
      }

      return false;
    }

    /**
     * Used for selection supported where selected items are place first.
     * @param {!Array} items The items to build the new array
     * @returns {!Array} The sorted array with separator if required.
     * @private
     */
    function _buildSelectedItems (items) {
      dlcui.assertArray(items);

      var selectedItems = [];
      var unselectedItems = [];

      angular.forEach(items, function (item) {
        if (dlcuiSelection.isItemSelected(item)) {
          selectedItems.push(item);
        } else {
          unselectedItems.push(item);
        }
      });

      if (dlcui.isArrayWithLength(selectedItems) && dlcui.isArrayWithLength(unselectedItems)) {
        return selectedItems.concat([_seperatorItem].concat(unselectedItems));
      } else if (dlcui.isArrayWithLength(selectedItems)) {
        return selectedItems;
      }

      return unselectedItems;
    }

    return {
      buildSelectedItems: _buildSelectedItems,
      getItemValue: _getItemValue,
      getItemValues: _getItemValues,
      getItemLabel: _getItemLabel,
      findItemForValue: _findItemForValue,
      findItemsForValue: _findItemsForValue,
      filterData: _filterData,
      isItemSpecial: _isItemSpecial
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .filter('dlcuiDropDownListItems', ['dlcuiDropDownList', function (dlcuiDropDownList) {
    return function (items, allowSelection) {
      if (allowSelection) {
        return dlcuiDropDownList.buildSelectedItems(items);
      }

      return items;
    };
  }]);
;/**
 * @ngdoc directive
 * @name dropTarget
 * @module dlcui
 * @src directives/core/dropTarget/dlcuiDropTarget.directive.js
 * @controlType actionable
 * @restrict A
 * @param {boolean} dlcuiDropTarget This accepts 'true' or 'false' to enable or disable the drop target.
 * @param {function} dlcuiOnDrop This accepts the name of the callback function defined on the scope and is called
 * when the user drops the source on the target.
 * @param {function} dlcuiOnDragEnter This accepts the name of the callback function defined on the scope and is called
 * when the user starts dragging over the target element.
 * @param {function} dlcuiOnDragLeave This accepts the name of the callback function defined on the scope and is called
 * when the user stops drags out of the target element without dropping the source.
 * @param {string} dlcuiDragAllowSelector An optional string value that defines the selector of source elements that
 * are allowed to be dropped on the target. This selector is any standard CSS selector.
 *
 * @description
 * Attribute based directive that is added to any element to enable it as a drop target
 *
 * The following rules apply,
 * * The id of the element will be updated with a generated UUID value if not defined.
 * * The element is decorated with the class 'dlcui-drop-target'.
 * * The element is decorated with the class 'dlcui-drop-target-active' as soon as the user starts dragging a
 *   source element and where that source element can be dropped on the specified target based on configuration.
 * * The element is decorated with the class 'dlcui-drag-over' as soon as the user drags the source over the target.
 *
 * @example
 * <h3>Drop Source</h3>
 * <example>
 *  <file name='index.html'>
 *    <div id="drag-source-apple" class="source fruit" dlcui-drag-source="true" dlcui-on-drag-start="onDragStart(id, data)"
 *        dlcui-on-drag-end="onDragEnd(id)" dlcui-drag-data="dataToDrag">
 *        Drag this Apple
 *    </div>
 *    <div id="drop-target-fruit" class="target" dlcui-drop-target="true" dlcui-on-drop="onDrop(sourceId, targetId, data)"
 *        dlcui-on-drag-enter="onDragEnter(id)" dlcui-on-drag-leave="onDragLeave(id)"
 *        dlcui-drag-allow-selector=".fruit">
 *        Drop Fruit Here
 *    </div>
 *    <br>
 *    <div id="drag-source-potato" class="source vegetable" dlcui-drag-source="true"
 *        dlcui-on-drag-start="onDragStart(id, data)" dlcui-on-drag-end="onDragEnd(id)" dlcui-drag-data="dataToDrag">
 *        Drag this Potato
 *    </div>
 *    <div id="drop-target-veggies" class="target" dlcui-drop-target="true"
 *        dlcui-on-drop="onDrop(sourceId, targetId, data)" dlcui-on-drag-enter="onDragEnter(id)"
 *        dlcui-on-drag-leave="onDragLeave(id)" dlcui-drag-allow-selector=".vegetable">
 *        Drop Veggies Here
 *    </div>
 *    <br><br><br>
 *    <b ng-bind="dragMessage"></b>
 *    <br>
 *    <i ng-show="dragMessageTwo">-----'{{dragMessageTwo}}'</i>
 *    <div ng-show="dataBeenDragged">
 *      <b>Data Been Dragged:</b> <span ng-bind="dataBeenDragged"></span>
 *    </div>
 *    <div ng-show="dataBeenDropped">
 *      <b>Data Dropped:</b> <span ng-bind="dataBeenDropped"></span>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, $filter) {
 *             $scope.dataBeenDragged = null;
 *             $scope.dataBeenDropped = null;
 *             $scope.dataToDrag = '"I can be anything, even an object, but here I am a string."';
 *
 *             $scope.dragMessage = 'Try dragging the "Drag Me" block around....';
 *
 *             $scope.onDragStart = function(id, data) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the correct target element changes ' +
 *                        'its border when you started dragging "' + id + '".';
 *                    $scope.dragMessageTwo = 'These styles are driven by the ' +
 *                        'developer by using class "dlcui-drop-target-active"';
 *                    $scope.dataBeenDragged = data;
 *                    $scope.dataBeenDropped = null;
 *                });
 *             };
 *
 *             $scope.onDragEnd = function(id) {
 *                $scope.$apply(function() {
 *                    $scope.dataBeenDragged = null;
 *                    $scope.dragMessageTwo = null;
 *                });
 *             };
 *
 *             $scope.onDragEnter = function(targetId) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes its background ' +
 *                        'color when you started dragging over "' + targetId + '".';
 *                    $scope.dragMessageTwo = 'These styles are driven by the ' +
 *                        'developer by using class "dlcui-drag-over"';
 *                });
 *             };
 *
 *             $scope.onDragLeave = function(targetId) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes its background ' +
 *                        'color when you dragged away from "' + targetId + '".';
 *                });
 *             };
 *
 *             $scope.onDrop = function(sourceId, targetId, data) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'You dropped element "' + sourceId +
 *                        '" on target "' + targetId + '".';
 *                    $scope.dragMessageTwo = null;
 *                    $scope.dataBeenDropped = data;
 *                });
 *             };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 400px;
 *    }
 *
 *    .source, .target {
 *      display: inline-block;
 *      border: 1px solid black;
 *      height: 100px;
 *      line-height: 2em;
 *      margin: 5px 10px;
 *      text-align: center;
 *      vertical-align: middle;
 *      width: 100px;
 *    }
 *
 *    .target {
 *      margin-left: 500px;
 *    }
 *
 *    .dlcui-drop-target-active {
 *      box-shadow: 2px 2px 5px #888888;
 *    }
 *
 *    .dlcui-drag-source-active {
 *      opacity: 0.5;
 *    }
 *
 *    .dlcui-drag-over {
 *      background-color: #cce5f1;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDropTarget', ['dlcuiBaseTemplatePath', 'dlcuiDragAndDrop', 'dlcuiElementId', '$rootScope', '$parse', 'dlcuiGuid', 'DLCUI_DRAG_AND_DROP_EVENTS', 'DLCUI_DRAG_AND_DROP_CLASSES', function (dlcuiBaseTemplatePath,
                                        dlcuiDragAndDrop,
                                        dlcuiElementId,
                                        $rootScope,
                                        $parse,
                                        dlcuiGuid,
                                        DLCUI_DRAG_AND_DROP_EVENTS,
                                        DLCUI_DRAG_AND_DROP_CLASSES) {
    return {
      restrict: 'A',
      replace: false,
      link: function (scope, element, attrs) {
        /**
         * The On Drop Callback Function
         */
        var _dlcuiOnDropFn = $parse(attrs.dlcuiOnDrop);

        /**
         * The on drag enter callback function
         */
        var _dlcuiOnDragEnterFn = $parse(attrs.dlcuiOnDragEnter);

        /**
         * The on drag leave call back function.
         */
        var _dlcuiOnDragLeaveFn = $parse(attrs.dlcuiOnDragLeave);

        /**
         * The allow selector
         */
        var _dlcuiDragAllowSelector = attrs.dlcuiDragAllowSelector;

        /**
         * Id of the current element this attribute is defined on
         */
        var _elementId = dlcuiElementId.update(element);

        /**
         * Enable to disable the draggable attribute on the element.
         * @param {!boolean} enabled Enable this element as a draggable element.
         */
        function _enableAsTarget(enabled) {
          scope.enabled = enabled;
          if (!scope.enabled) {
            angular.element(element).removeClass(DLCUI_DRAG_AND_DROP_CLASSES.dropTarget);
            angular.element(element).removeClass(DLCUI_DRAG_AND_DROP_CLASSES.dropTargetActive);
            angular.element(element).removeClass(DLCUI_DRAG_AND_DROP_CLASSES.dragOver);
            $(element).droppable('disable');
          } else {
            angular.element(element).addClass(DLCUI_DRAG_AND_DROP_CLASSES.dropTarget);
            $(element).droppable('enable');
          }
        }

        attrs.$observe('dlcuiDropTarget', function () {
          _enableAsTarget(!dlcui.isStringWithLength(attrs.dlcuiDropTarget) ||
            $parse(attrs.dlcuiDropTarget)(scope));
        });

        /**
         * Called when the user drags an item into this element.
         * @param {Event} event The event tied to this handler.
         * @param {Element} ui The draggable element.
         * @private
         */
        function _dragEnter(event, ui) {
          var sourceId = $(ui.draggable).attr('id');
          if (dlcui.isFunction(_dlcuiOnDragEnterFn)) {
            _dlcuiOnDragEnterFn(scope, {
              sourceId: sourceId,
              targetId: _elementId
            });
          }
        }

        /**
         * Called when the user drags out of the element
         * @param {Event} event The event tied to this handler.
         * @param {Element} ui The draggable element.
         */
        function _dragLeave(event, ui) {
          var sourceId = $(ui.draggable).attr('id');
          if (dlcui.isFunction(_dlcuiOnDragLeaveFn)) {
            _dlcuiOnDragLeaveFn(scope, {
              sourceId: sourceId,
              targetId: _elementId
            });
          }
        }

        /**
         * Called when the user drops an item on the specified element.
         * @param {Event} event The event tied to this handler.
         * @param {Element} ui The draggable element.
         * @private
         */
        function _drop(event, ui) {
          var sourceId = $(ui.draggable).attr('id');
          var data = dlcuiDragAndDrop.getDragData(scope.dlcuiDragData);
          if (dlcui.isFunction(_dlcuiOnDropFn)) {
            _dlcuiOnDropFn(scope, {
              sourceId: sourceId,
              targetId: _elementId,
              data: data
            });
          }
        }

        $(element).droppable({
          accept: dlcui.isStringWithLength(_dlcuiDragAllowSelector) ? _dlcuiDragAllowSelector : '*',
          activeClass: DLCUI_DRAG_AND_DROP_CLASSES.dropTargetActive,
          addClasses: false,
          hoverClass: DLCUI_DRAG_AND_DROP_CLASSES.dragOver,
          drop: _drop,
          out: _dragLeave,
          over: _dragEnter
        });
      }
    };
  }]);
;  /**
* @ngdoc directive
* @name mainheader
*
* @description The MainHeader is the primary branding element in a web application.
*
* > CUI recommends using {@link ../applicationframe Application Frame} instead of MainHeader to access more features.
*
* You can programmatically close the controls by broadcasting a `'dlcui:mainheader:controls:close'` event.
*
* @module dlcui.controls
* @src directives/core/mainheader/mainheader.js
* @controlType foundational
*
* @restrict E
* @transclude
*   <dlcui-button></dlcui-button>
*     [...]
*
* @param {string=} applicationHref Url for the applicationName or applicationLogo.
*
* @param {string=} applicationLogo When applicationLogo is used, applicationName is overridden.
*
* @param {string} applicationName The label for the MainHeader.
*
* @param {string=} applicationSubname The secondary label for the MainHeader.
*
* @param {boolean=} showControls True or false to show controls.
*
* @example
* <example name="mainheader">
*  <file name="index.html">
*    <dlcui-mainheader application-name="Active System Manager" application-subname="Admin panel"
*      show-controls=true application-logo="http://plnkr.co/img/plunker.png">
*      <!-- MainHeader controls -->
*     <dlcui-drop-down-button dlcui-type="transparent" label="Drop Down Button" dlcui-menu-type="list"
*         dlcui-menu-style="menu" menu-anchor="right">
*       <ul dlcui-list-view="vertical">
*         <li ng-click="vm.click('Example 1 - Item 1')">Item 1</li>
*         <li ng-click="vm.click('Example 1 - Item 2')">Item 2</li>
*         <li ng-click="vm.click('Example 1 - Item 3')">Item 3</li>
*       </ul>
*     </dlcui-drop-down-button>
*
*      <dlcui-button dlcui-type="transparent" ng-click="vm.showSettings()">
*        <dlcui-icon icon="cog"></dlcui-icon> Settings
*      </dlcui-button>
*
*      <dlcui-button dlcui-type="transparent" ng-click="vm.showAboutBox()">
*        <dlcui-icon icon="question-sign"></dlcui-icon> About Box
*      </dlcui-button>
*    </dlcui-mainheader>
*
*    <br>
*    <dlcui-text-box ng-model="vm.username"></dlcui-text-box>
*  </file>
*  <file name="app.js">
*    angular.module('app', ['dlcui'])
*      .controller('AppCtrl', function($scope) {
*        var vm = this;
*        function closeControls() {
*          $scope.$broadcast('dlcui:mainheader:controls:close');
*        }
*
*        vm.manageAccount = function() {
*          alert("manage your users account");
*          closeControls();
*        }
*
*        vm.showSettings = function() {
*          alert('Show application settings');
*          closeControls();
*        }
*
*        vm.showAboutBox = function() {
*          alert('Show the About Box');
*          closeControls();
*        }
*
*        vm.click = function(msg) {
*          console.log(msg);
*        }
*
*        vm.username = 'PROD\\jsmith';
*      })
*  </file>
*  <file name='style.css'>
*    body {
*      height: 400px;
*    }
*  </file>
*</example>
*/

'use strict';


angular.module('dell.ngclarity.directives').directive('dlcuiMainHeader', ['$document', '$timeout', 'dlcuiBaseTemplatePath', function($document, $timeout, dlcuiBaseTemplatePath) {
  controller.$inject = ['$scope'];
  var FIXED_CLASS = 'dlcui-mainheader--fixed';

  function controller($scope) {
    $scope.drawerShowing = false;

    $scope.$on('dlcui:mainheader:controls:close', function () {
      $scope.drawerShowing = false;
    });
  }

  function link(scope) {
    function handleClick() {
      scope.drawerShowing = false;
      $document.unbind('click', handleClick);
      scope.$apply();
    }

    scope.toggleDrawer = function () {
      // first, close nav list (if open)
      angular.element($document[0].body).removeClass('dlcui-side-navigation--open');
      scope.drawerShowing = !scope.drawerShowing;

      $timeout(function () {
        if (scope.drawerShowing) {
          $document.bind('click', handleClick);
        } else {
          $document.unbind('click', handleClick);
        }
      });
    };

    scope.$watch('drawerShowing', function (drawerShowing) {
      if (drawerShowing === true) {
        angular.element($document[0].body).addClass('dlcui-mainheader__navigation--open');
      } else if (drawerShowing === false) {
        angular.element($document[0].body).removeClass('dlcui-mainheader__navigation--open');
      }
    });

    scope.$watch('fixed', function (fixed) {
      var el = document.getElementsByTagName('body')[0]; // eslint-disable-line angular/document-service
      angular.element(el).removeClass(FIXED_CLASS);
      if (fixed) {
        angular.element(el).addClass(FIXED_CLASS);
      }
    });
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/core/header/dlcuiMainHeader.directive.html'].join(''),
    restrinct: 'EA',
    transclude: true,
    scope: {
      fixed: '@',
      showNavigationDrawer: '@',
      name: '@applicationName',
      subname: '@applicationSubname',
      showControls: '=',
      applicationHref: '@',
      applicationLogo: '@'
    },
    link: link,
    controller: controller
  };
}]
);
;/**
 * @ngdoc directive
 * @name lasso
 * @module dlcui
 * @src directives/core/lasso/lasso.directive.js
 * @controlType actionable
 * @restrict E
 * @param {boolean=} lasso This accepts 'true' or 'false' to enable or disable the lasso.
 *
 * @description
 * Element based directive that is added to allow the user to select multiple elements that have the attribute
 * <i>dlcui-lasso-selectable</i>. The lasso is activated on mouse down and moves as the user moves the mouse
 * across the selectable items.
 *
 * The lasso will add <i>dlcui-lasso-highlighted</i> as the lasso expands over an element with
 * <i>dlcui-lasso-selectable</i>. On mouse up the lasso will add <i>dlcui-lasso-selected</i> to each of these elements
 * contained within the lasso area.
 *
 * @example
 * <h3>Select Items</h3>
 * <example>
 *  <file name='index.html'>
 *    <i>Initiate the lasso by clicking within this example and while holding the mouse down move the mouse....</i>
 *    <div class="example-container">
 *       <div class="dlcui-flex-container-horizontal dlcui-justify-space-around" dlcui-lasso="true">
 *            <div class="dlcui-lasso-selectable example-item" dlcui-lasso-selectable="">One</div>
 *            <div class="dlcui-lasso-selectable example-item" dlcui-lasso-selectable="">Two</div>
 *            <div class="dlcui-lasso-selectable example-item" dlcui-lasso-selectable="">Three</div>
 *       </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, $filter) {
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *      -webkit-touch-callout: none;
 *      -webkit-user-select: none;
 *      -khtml-user-select: none;
 *      -moz-user-select: none;
 *      -ms-user-select: none;
 *      user-select: none;
 *    }
 *
 *    .example-container {
 *      padding: 20px;
 *    }
 *
 *    .example-container,
 *    .dlcui-flex-container-horizontal {
 *        height: 500px;
 *        width: 100%;
 *    }
 *
 *    .example-item {
 *        border: 1px solid black;
 *        height: 100px;
 *        line-height: 100px;
 *        text-align: center;
 *        vertical-align: middle;
 *        width: 100px;
 *    }
 *
 *    .dlcui-lasso-selected {
 *        border: 1px solid #007db8;
 *        background-color: #f9f9f9;
 *    }
 *
 *    .dlcui-lasso-highlighted {
 *        border: 1px dashed #919191;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Select Items but enforce selection on container.</h3>
 * <example>
 *  <file name='index.html'>
 *    <i>Initiate the lasso by clicking within this example and while holding the mouse down move the mouse....</i>
 *    <div class="example-container">
 *       <div class="dlcui-flex-container-horizontal dlcui-justify-space-around" dlcui-lasso="true">
 *            <div class="dlcui-lasso-selectable example-item"
 *                 dlcui-lasso-selectable=""
 *                 dlcui-lasso-allow-selection="false">
 *              One
 *            </div>
 *            <div class="dlcui-lasso-selectable example-item"
 *                 dlcui-lasso-selectable=""
 *                 dlcui-lasso-allow-selection="false">
 *              Two
 *            </div>
 *            <div class="dlcui-lasso-selectable example-item"
 *                 dlcui-lasso-selectable=""
 *                 dlcui-lasso-allow-selection="false">
 *              Three
 *            </div>
 *       </div>
 *    </div>
 *    <dlcui-lasso enabled="true" selector="#selectionExample" mouse-down-anywhere="false"></dlcui-lasso>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, $filter) {
 *             $scope.dataBeenDragged = null;
 *             $scope.dataBeenDropped = null;
 *             $scope.dataToDrag = '"I can be anything, even an object, but here I am a string."';
 *
 *             $scope.dragMessage = 'Try dragging the "Drag Me" block around....';
 *
 *             $scope.onDragStart = function(id, data) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes ' +
 *                        'its border when you started dragging "' + id + '".';
 *                    $scope.dragMessageTwo = 'These styles are driven by the ' +
 *                        'developer by using class "dlcui-drop-target-active"';
 *                    $scope.dataBeenDragged = data;
 *                    $scope.dataBeenDropped = null;
 *                });
 *             };
 *
 *             $scope.onDragEnd = function(id) {
 *                $scope.$apply(function() {
 *                    $scope.dataBeenDragged = null;
 *                    $scope.dragMessageTwo = null;
 *                });
 *             };
 *
 *             $scope.onDragEnter = function(targetId) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes its background ' +
 *                        'color when you started dragging over "' + targetId + '".';
 *                    $scope.dragMessageTwo = 'These styles are driven by the ' +
 *                        'developer by using class "dlcui-drag-over"';
 *                });
 *             };
 *
 *             $scope.onDragLeave = function(targetId) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'Note how the target element changes its background ' +
 *                        'color when you dragged away from "' + targetId + '".';
 *                });
 *             };
 *
 *             $scope.onDrop = function(sourceId, targetId, data) {
 *                $scope.$apply(function() {
 *                    $scope.dragMessage = 'You dropped element "' + sourceId +
 *                        '" on target "' + targetId + '".';
 *                    $scope.dragMessageTwo = null;
 *                    $scope.dataBeenDropped = data;
 *                });
 *             };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *      -webkit-touch-callout: none;
 *      -webkit-user-select: none;
 *      -khtml-user-select: none;
 *      -moz-user-select: none;
 *      -ms-user-select: none;
 *      user-select: none;
 *    }
 *
 *    .example-container {
 *      padding: 20px;
 *    }
 *
 *    .example-container,
 *    .dlcui-flex-container-horizontal {
 *        height: 500px;
 *        width: 100%;
 *    }
 *
 *    .example-item {
 *        border: 1px solid black;
 *        height: 100px;
 *        line-height: 100px;
 *        text-align: center;
 *        vertical-align: middle;
 *        width: 100px;
 *    }
 *
 *    .dlcui-lasso-selected {
 *        border: 1px solid #007db8;
 *        background-color: #f9f9f9;
 *    }
 *  </file>
 * </example>
 *
 */

/* eslint-disable no-use-before-define, max-statements*/
angular.module('dell.ngclarity.directives')
  .directive('dlcuiLasso', ['dlcuiElementId', '$rootScope', '$parse', '$document', 'DLCUI_LASSO_CLASSES', 'DLCUI_LASSO_EVENTS', function (dlcuiElementId,
                                   $rootScope,
                                   $parse,
                                   $document,
                                   DLCUI_LASSO_CLASSES,
                                   DLCUI_LASSO_EVENTS) {
    return {
      restrict: 'A',
      link: function (scope, element, attrs) {
        // Make sure we move this element out to the main body so we can track mouse movements properly.
        $(element).addClass(DLCUI_LASSO_CLASSES.container);

        /**
         * The id of the lasso container.
         */
        dlcuiElementId.update(element);

        /**
         * The lasso element
         * @type {*|jQuery|HTMLElement}
         * @private
         */
        var _$lasso = $('.dlcui-lasso');
        if (_$lasso.length === 0) {
          $('body').append('<div class="dlcui-lasso"></div>');
          _$lasso = $('.dlcui-lasso');
        }

        /**
         * Top position of lasso
         * @type {number}
         * @private
         */
        var _top = 0;

        /**
         * Left position of lasso
         * @type {number}
         * @private
         */
        var _left = 0;

        /**
         * Width of lasso
         * @type {number}
         * @private
         */
        var _width = 0;

        /**
         * Height of lasso
         * @type {number}
         * @private
         */
        var _height = 0;

        /**
         * Position to start at left of lasso
         * @type {number}
         * @private
         */
        var _startLeft = 0;

        /**
         * Position to start at top of of lasso
         * @type {number}
         * @private
         */
        var _startTop = 0;

        /**
         * Shows or hides the lasso
         * @type {boolean}
         * @private
         */
        var _active = false;

        /**
         * Update the lasso style.
         */
        function _updateLassoStyle() {
          var _display = _active ? 'block' : 'none;';

          $(_$lasso).css({
            display: _display,
            left: _left,
            top: _top,
            width: _width,
            height: _height
          });
        }

        /**
         * Tracks the mouse movement and allows us to draw a block.
         * @param {Event} event The mouse event
         */
        function _trackMouseMovement(event) {
          _width = Math.abs(_startLeft - event.pageX);
          _height = Math.abs(_startTop - event.pageY);

          if (event.pageX <= _startLeft && event.pageY >= _startTop) {
            _left = event.pageX;
          } else if (event.pageY <= _startTop && event.pageX >= _startLeft) {
            _top = event.pageY;
          } else if (event.pageY < _startTop && event.pageX < _startLeft) {
            _left = event.pageX;
            _top = event.pageY;
          }
          _updateLassoStyle();
          _highlightElements();
        }

        /**
         * Called to select elements when the lasso is done.
         */
        function _mouseUpHandler() {
          $document.unbind('mousemove', _trackMouseMovement);
          $document.unbind('mouseup', _mouseUpHandler);
          $(element).find(['.', DLCUI_LASSO_CLASSES.highlighted].join(''))
            .removeClass(DLCUI_LASSO_CLASSES.highlighted);
          _selectElements();
          _active = false;
          _top = 0;
          _left = 0;
          _width = 0;
          _height = 0;
          _updateLassoStyle();
        }

        /**
         * Called when the mouse down event occurs.
         * @param {Event} event The mouse event
         */
        function _mouseDownHandler(event) {
          _left = event ? event.pageX : 0;
          _top = event ? event.pageY : 0;
          var elementOffset = element.offset();
          if (_left >= elementOffset.left + element.width() - 20) {
            return;
          } else if (_top >= elementOffset.top + element.height() - 20) {
            return;
          }
          _startLeft = event ? event.pageX : 0;
          _startTop = event ? event.pageY : 0;
          _height = 0;
          _width = 0;

          $document.unbind('mousemove', _trackMouseMovement);
          $document.unbind('mouseup', _mouseUpHandler);

          if (!dlcui.isStringWithLength(attrs.dlcuiLasso) || $parse(attrs.dlcuiLasso)(scope)) {
            $(element).find(['.', DLCUI_LASSO_CLASSES.selected].join('')).each(function () {
              try {
                $rootScope.$emit(DLCUI_LASSO_EVENTS.unselected, $(this).attr('id'));
              } catch (error) {
              }
              $(this).removeClass(DLCUI_LASSO_CLASSES.selected);
            });
            _active = true;

            if (event) {
              $document.bind('mouseup', _mouseUpHandler);
              $document.bind('mousemove', _trackMouseMovement);
            }
          }
          _updateLassoStyle();
        }

        /**
         * Called to select elements when the lasso is done.
         */
        function _selectElements() {
          _updateElements(DLCUI_LASSO_CLASSES.selected);
        }

        /**
         * Called to highlight elements when the lasso is done.
         */
        function _highlightElements() {
          _updateElements(DLCUI_LASSO_CLASSES.highlighted);
        }

        /**
         * Helper functon that updates all the elements with the specified class based on whether they overlap.
         * @param {!string} className The class to add/remove
         */
        function _updateElements(className) {
          var lassoDimensions = _getElementDimension(_$lasso);

          $(element).find(['.', DLCUI_LASSO_CLASSES.selectable].join('')).each(function () {
            var $selectableEl = $(this);

            if (_doElementsOverlap(lassoDimensions, _getElementDimension($selectableEl))) {
              if (className === DLCUI_LASSO_CLASSES.selected && !$selectableEl.is(['.', className].join(''))) {
                try {
                  $rootScope.$emit(DLCUI_LASSO_EVENTS.selected, $selectableEl.attr('id'));
                } catch (error) {
                }
              }
              $selectableEl.addClass(className);
            } else {
              if (className === DLCUI_LASSO_CLASSES.selected && $selectableEl.is(['.', className].join(''))) {
                try {
                  $rootScope.$emit(DLCUI_LASSO_EVENTS.unselected, $selectableEl.attr('id'));
                } catch (error) {
                }
              }
              $selectableEl.removeClass(className);
            }
          });
        }

        /**
         * Obtain just the position and size
         * @param {Element} element The element to obtain the dimensios for
         * @returns {!Object} the dimensions.
         * @private
         */
        function _getElementDimension(element) {
          return {
            offset: $(element).offset(),
            height: $(element).outerHeight(true),
            width: $(element).outerWidth(true)
          };
        }

        /**
         * Called to determine if two elements overlap
         * @param {!object} elementOneDimension The first element dimensions
         * @param {!object} elementTwoDimension The second element dimensions
         * @returns {boolean} True if both elements overlap in any way.
         */
        function _doElementsOverlap(elementOneDimension, elementTwoDimension) {
          // TODO-sscott: I need to investigate some more for performance on ie
          var leftOne = elementOneDimension.offset.left;
          var topOne = elementOneDimension.offset.top;
          var heightOne = elementOneDimension.height;
          var widthOne = elementOneDimension.width;
          var bottomOne = topOne + heightOne;
          var rightOne = leftOne + widthOne;
          var leftTwo = elementTwoDimension.offset.left;
          var topTwo = elementTwoDimension.offset.top;
          var heightTwo = elementTwoDimension.height;
          var widthTwo = elementTwoDimension.width;
          var bottomTwo = topTwo + heightTwo;
          var rightTwo = leftTwo + widthTwo;

          return !(bottomOne < topTwo || topOne > bottomTwo || rightOne < leftTwo || leftOne > rightTwo);
        }

        /**
         * Collection of Event handlers
         * @type {Array}
         * @private
         */
        var _eventListeners = [];
        var onClear = $rootScope.$on(DLCUI_LASSO_EVENTS.clear, function () {
          _mouseDownHandler();
        });
        _eventListeners.push(onClear);

        scope.$on('$destroy', function () {
          angular.forEach(_eventListeners, function (listener) {
            listener();
          });
          _eventListeners = [];
        });

        angular.element(element).bind('mousedown', _mouseDownHandler);
      }
    };
  }]);

;angular.module('dell.ngclarity.directives').constant('DLCUI_LASSO_CLASSES', {
  selected: 'dlcui-lasso-selected',   // An item that is selectable is now selected
  selectable: 'dlcui-lasso-selectable',   // An item is selectable by the lasso
  highlighted: 'dlcui-lasso-highlighted',   // An item is been dragged over by the lasso
  container: 'dlcui-lasso-container'   // The container of the selectable items
});
;angular.module('dell.ngclarity.directives').constant('DLCUI_LASSO_EVENTS', {
  selected: 'dlcui:lasso:selected',
  unselected: 'dlcui:lasso:unselected',
  clear: 'dlcui:lasso:clear'
});
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiLassoSelectable', ['dlcuiElementId', '$rootScope', '$parse', 'DLCUI_LASSO_CLASSES', 'DLCUI_LASSO_EVENTS', function (dlcuiElementId,
                                             $rootScope,
                                             $parse,
                                             DLCUI_LASSO_CLASSES,
                                             DLCUI_LASSO_EVENTS) {
    return {
      restrict: 'A',
      link: function (scope, element, attrs) {
        // Make sure we move this element out to the main body so we can track mouse movements properly.
        $(element).addClass(DLCUI_LASSO_CLASSES.selectable);

        /**
         * Calls the registered callback function.
         * @param {!boolean} selected True if the item is been selected
         * @private
         */
        function _notifySelected(selected) {
          // $parse returns a getter function to be executed against an object
          var fn = $parse(attrs.dlcuiLassoSelectable);
          if (dlcui.isFunction(fn)) {
            fn(scope, {
              selected: selected
            });
          }
        }

        /**
         * The element id.
         */
        var _id = dlcuiElementId.update(element);

        angular.element(element).bind('mousedown', function (event) {
          if (dlcui.isStringWithLength(attrs.dlcuiLassoAllowSelection) &&
            !$parse(attrs.dlcuiLassoAllowSelection)(scope)) {
            event.stopPropagation();
          }
        });

        var _eventListeners = [];
        var onSelected = $rootScope.$on(DLCUI_LASSO_EVENTS.selected, function (lassoEvent, id) {
          if (id === _id) {
            _notifySelected(true);
          }
        });
        _eventListeners.push(onSelected);

        var onUnselected = $rootScope.$on(DLCUI_LASSO_EVENTS.unselected, function (lassoEvent, id) {
          if (id === _id) {
            _notifySelected(false);
          }
        });
        _eventListeners.push(onUnselected);

        scope.$on('$destroy', function () {
          angular.forEach(_eventListeners, function (listener) {
            listener();
          });
          _eventListeners = [];
        });
      }
    };
  }]);

;angular.module('dell.ngclarity.directives').constant('DLCUI_LAZY_LOAD_EVENTS', {
  reload: 'dlcui:lazyload:reload',
  loadNext: 'dlcui:lazyload:load:next',
  clear: 'dlcui:lazyload:clear'
});
;/**
 * @name lazyLoadingController
 * @module dlcui
 * @src directives/core/lazyLoading/dlcuiLazyLoadingCtrl.controller.js
 * @controlType foundational
 *
 * @description
 * Controller that adds properties to the scope to handle lazy loading of data. Developer must specify the following
 * options on the parent scope or within the directive scope,
 * * $scope.pageSize - <b>Optional</b> the integer value that defines how many items to load at once and default is 100
 * * $scope.startIndex - <b>Optional</b> the integer value to start initial loading and default is 0
 * * $scope.source - <b>Required</b> the function that is called by this controller to load more data
 *
 */

/* eslint-disable no-use-before-define, max-statements*/
angular.module('dell.ngclarity.directives')
  .controller('dlcuiLazyLoadingController', ['dlcuiElementScroll', '$scope', '$element', '$translate', '$timeout', 'DLCUI_LAZY_LOAD_EVENTS', function (dlcuiElementScroll,
                                                    $scope,
                                                    $element,
                                                    $translate,
                                                    $timeout,
                                                    DLCUI_LAZY_LOAD_EVENTS) {
    /* eslint-disable */
    // reason: eslint is odd this is supposed to fix the issue reported but still complains on this line
    /**
     * Pointer to this.
     * @type {exports|module.exports|module:dlcui}
     */
    var vm = this;
    /* eslint-enable */

    /**
     * All the event listeners been added to this component.
     * @type {Array}
     * @private
     */
    var _eventListeners = [];

    /**
     * Page Size in integer format.
     * @type {number}
     * @private
     */
    var _pageSize = -1;

    /**
     * Start Index in integer format.
     * @type {number}
     * @private
     */
    var _startIndex = parseInt(vm.startIndex, 10) || 0;

    /**
     * Controls whether the initial data load is disabled.
     * @type {boolean}
     * @private
     */
    var _disableInitialLoad = false;

    /**
     * The current position
     * @type {number}
     * @private
     */
    var _currentIndex = _startIndex;

    /**
     * True if we have reached the end of the data.
     * @type {boolean}
     */
    var _reachedEndOfDataLoading = false;

    /**
     * The source Function to load from.
     * @type {Function|null}
     * @private
     */
    var _sourceFn = null;

    /**
     * Set to true if the controller has been initialized
     * @type {boolean}
     * @private
     */
    var _initialized = false;

    /**
     * The element on which the scroll action is monitored.
     * @type {null|Element}
     * @private
     */
    var _scrollElement = null;

    /**
     * Called to clean out the component and reload the data.
     */
    function _reloadData() {
      _clearAll();
      _loadData();
    }

    /**
     * Called to verify if enough data has been loaded to enable scrolling
     * @private
     */
    function _checkScrollData () {
      if (_scrollElement && !dlcui.TESTING) {
        $timeout(function () {
          if (_initialized && !vm.busyLoadingData && !_reachedEndOfDataLoading &&
            !dlcuiElementScroll.containsScrollBar(_scrollElement)) {
            _loadData();
          }
        });
      }
    }

    /**
     * Clears the data and resets the counters but does not load any data.
     */
    function _clearAll() {
      _pageSize = parseInt(vm.pageSize, 10);
      _startIndex = parseInt(vm.startIndex, 10) || 0;
      _reachedEndOfDataLoading = false;
      _currentIndex = _startIndex;
      vm.data = [];
    }

    /**
     * Called after the data has been loaded without issue.
     * @param {Array=} data The data loaded and can be an Array or NULL
     * @private
     */
    function _handleDataLoaded(data) {
      if (dlcui.isArrayWithLength(data)) {
        _currentIndex += _pageSize;
        vm.data = vm.data.concat(data);
        _reachedEndOfDataLoading = _pageSize <= 0 || data.length < _pageSize;
      } else {
        _reachedEndOfDataLoading = true;
      }
      vm.busyLoadingData = false;
      vm.showFooter = false;

      $timeout(_checkScrollData);
    }

    /**
     * Loads the data using _sourceFn and the current index position as well as the page size.
     * @private
     */
    function _loadData() {
      dlcui.assert(_initialized,
        'The lazy loading controller must be initialized first by calling' +
        ' the initialize(source, pageSize, startIndex) method.');
      dlcui.assertNumber(_currentIndex);
      dlcui.assertNumber(_pageSize);
      dlcui.assertFunction(_sourceFn);

      if (!_reachedEndOfDataLoading && !vm.busyLoadingData) {
        vm.busyLoadingData = true;
        vm.showFooter = _pageSize > 0;
        vm.data = vm.data || [];

        $timeout(function () {
          var results = _sourceFn({
            startIndex: _currentIndex,
            pageSize: _pageSize,
            sortBy: null,
            filter: null
          });

          if (dlcui.isObject(results) && dlcui.isFunction(results.then)) {
            results.then(function (data) {
              _handleDataLoaded(data);
            }).finally(function () {
              vm.busyLoadingData = false;
              vm.showFooter = false;
            });
          } else if (dlcui.isArray(results)) {
            _handleDataLoaded(results);
          } else {
            _handleDataLoaded([]);
          }
        });
      }
    }

    _eventListeners.push($scope.$on(DLCUI_LAZY_LOAD_EVENTS.reload, _reloadData));
    _eventListeners.push($scope.$on(DLCUI_LAZY_LOAD_EVENTS.clear, _clearAll));
    _eventListeners.push($scope.$on(DLCUI_LAZY_LOAD_EVENTS.loadNext, _loadData));

    $scope.$on('$destroy', function () {
      angular.forEach(_eventListeners, function (listener) {
        listener();
      });
      _eventListeners = [];
    });

    /**
     * Used to determine if the data is been loaded
     * @type {boolean}
     */
    vm.busyLoadingData = false;

    /**
     * Used by the footer to activate and show itself
     * @type {boolean}
     */
    vm.showFooter = false;

    /**
     * The currently loaded data
     * @type {Array}
     */
    vm.data = [];

    /**
     * Helper method that clears the data and resets the counters.
     */
    vm.clearAllData = _clearAll;

    /**
     * Helper method that clears all the data and loads the first block.
     */
    vm.reloadAllData = _reloadData;

    /**
     * Helper method that loads the next page if there is more data.
     */
    vm.loadNextPage = _loadData;

    /**
     * The label displayed in the associated footer if enabled.
     * @type {string}
     */
    vm.label = 'Loading';

    vm.registerScrollElement = function (element) {
      dlcui.assertObject(element);

      _scrollElement = element;

      if (!_disableInitialLoad) {
        _checkScrollData();
      }
    };

    /**
     * Called to initialize the controller and must be called first.
     * @param {!Function} sourceFn The function that will be used to load the data.
     * @param {?number=} optPageSize The optional page size and should be greater than 0
     * @param {?number=} opStartIndex The index to start at and should be greater than 0
     * @param {?boolean=} optDisableInitialLoad Default is false
     */
    vm.initialize = function (sourceFn, optPageSize, opStartIndex, optDisableInitialLoad) {
      dlcui.assertFunction(sourceFn);
      dlcui.assertOptionalNumber(opStartIndex);
      dlcui.assertOptionalNumber(optPageSize);
      dlcui.assertOptionalBoolean(optDisableInitialLoad);

      _initialized = true;
      _sourceFn = sourceFn;
      _pageSize = dlcui.isNumber (optPageSize) ? optPageSize : -1;
      _startIndex = opStartIndex || 0;
      _currentIndex = _startIndex;
      _disableInitialLoad = optDisableInitialLoad;
      vm.pageSize = _pageSize;
      vm.startIndex = _startIndex;

      $translate('DLCUI_LOADING_NEXT', {
        count: vm.pageSize
      }).then(function (label) {
        vm.label = label;
      });

      if (!optDisableInitialLoad) {
        _loadData();
      }
    };
  }]);

;/**
 * @ngdoc directive
 * @name lazyLoading
 * @module dlcui
 * @src directives/core/lazyLoading/dlcuiLazyLoading.directive.js
 * @controlType actionable
 * @restrict EA
 *
 * @description
 * Attribute or Element based directive that is used as to enable Lazy Loading on a container type component.
 * It is currently been used by the following components,
 * * Application Card Container
 * * Grid Card Container
 * * List
 *
 * This directive is applied to the root element of a container type component and adds the lazy loading controller
 * to the scrope of the container.
 *
 * Lazy loading allows the component to load data in a lazy fashion in configured blocks called Page Sizes. The
 * loading can be initiated manually by callin an API method or it is automatically called as the user
 * scrolls down to the bottom of a container.
 *
 * This design consists of three angular services that are used togethor to enable true lazy loading.
 * * dlcuiLazyLoadingFooter A directive that can be placed inside of the container and usually pops up when more
 * data is lazy loaded.
 * * dlcuiLazyLoadingScroll A directive that must be added to the element that will handle the scrolling, either
 * vertical or horizontal is supported but not both. This would be the contents element whose overflow-x or
 * overflow-y is set to auto.
 * * dlcuiLazyLoading A directive that adds a controller to the components scope and contains the actualy api used
 * to manage data loading. This directive is usually appled to the root element of the container/directive element.
 *
 * The dlcuiLazyLoadingFooter and dlcuiLazyLoadingScroll will work with the api that dlcuiLazyLoading applies to the
 * scope to manage the data loading. The api itself is added to the scope using the <i>lazyCtrl</i> name and
 * must be initialized in the link or controller function of your component directive as follows,
 *
 * ```javascript
 * $scope.$watch('lazyCtrl', function(lazyController) {
 *    if (lazyController) {
 *      lazyController.initialize(scope.sourceFn, pageSize, startIndex);
 *    }
 * });
 * ```
 *
 * The sourceFn above is usually tied to some callback method that can be registered through a attribute.
 *
 * The Lazy Loading Controller exposes the following properties and methods,
 * * lazyCtrl.busyLoadingData - A boolean value that is set to true when data is loaded and can be used to
 * display informaton visually. The footer directive uses this property to display iteself.
 * * lazyCtrl.data - Array that contains the current loaded data as it is been loaded. New data is appended to
 * this array.
 * * lazyCtrl.clearAllData() - A function that can be called to clear the data and also reset the start pointer.
 * * lazyCtrl.reloadAllData() - A function that can be called to clear all data and reload the first page.
 * * lazyCtrl.loadNextPage() - A function that can be called to manually load the next page and can be used if the
 * scroll directive is not used.
 * * lazyCtrl.label - A string value that defines the label to display in the footer when more data is been loaded
 *
 * The following highlights how the template of a container type component could utilize these directive.
 * ```html
 * <div class="dlcui-example-container" dlcui-lazy-loading="">
 *   <div class="dlcui-example-contents" dlcui-lazy-loading-scroll="vertical">
 *     <div ng-repeat="dataItem in lazyCtrl.data track by $index">
 *     </div>
 *   </div>
 *   <dlcui-lazy-loading-footer>
 *   </dlcui-lazy-loading-footer>
 * </div>
 * ```
 *
 * You can support an option json where data is a property but you need to be careful about the call the
 * lazy controller makes. The controller assumes it is called a angular directive scope function, i.e. a
 * scope attributed defined with the '&' and with angular these functons are called with a json object that contains
 * the parameters of the method.
 *
 * The lazy load controller calls the function you register through the initialize method with a single object
 * as follows,
 * ```javascript
 * {
 *    startIndex: 0,  // The current position of the lazy loading and increased with each load by pageSize
 *    pageSize: 40,   // The page size that was specified in the initialize method.
 *    sortBy: null,   // Not currently used but is a place holder for future sorting
 *    filter: null    // Not currently used but is a place holder for future filtering support
 * }
 *```
 *
 * @example
 * <h3>Lazy Loading</h3>
 * <example name="basicExampleIcons">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container">
 *      <example-container source="source(startIndex, pageSize)"
 *                         page-size="40"
 *                         start-index="0">
 *      </example-container>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator) {
 *          $scope.source = function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *          };
 *      });
 *  </file>
 *  <file name='exampleContainer.directive.template.js'>
 *    angular.module('app')
 *      .directive('exampleContainer', function (dlcuiBaseTemplatePath) {
 *         return {
 *          restrict: 'E',
 *          replace: true,
 *          templateUrl: 'exampleContainer.directive.template.html',
 *          scope: {
 *            source: '&',
 *            pageSize: '@',
 *            startIndex: '@'
 *          },
 *          link: function (scope) {
 *            // Add component code here
 *            // We must initialize the control otherwise it does not know where to load the data from
 *            scope.$watch('lazyCtrl', function(lazyController) {
 *              if (lazyController) {
 *                lazyController.initialize(scope.source, parseInt(scope.pageSize, 10),
 *                   parseInt(scope.startIndex, 10));
 *              }
 *            });
 *          }
 *        };
 *      });
 *  </file>
 *  <file name='exampleContainer.directive.template.html'>
 *    <div class="dlcui-example-container" dlcui-lazy-loading="">
 *       <div class="dlcui-example-contents" dlcui-lazy-loading-scroll="vertical">
 *         <div class="dlcui-example-content-item" ng-repeat="dataItem in lazyCtrl.data track by $index">
 *             <b>Very Basic Lazy Loading Example for {{dataItem.id}}</b>
 *             <br>
 *             {{dataItem.details}}
 *             <br>
 *         </div>
 *       </div>
 *       <dlcui-lazy-loading-footer>
 *       </dlcui-lazy-loading-footer>
 *   </div>
 *  </file>
 *  <file name='exampleContainer.directive.template.css'>
 *    .dlcui-example-container {
 *      height: 300px;
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-container .dlcui-example-contents {
 *      height: 100%;
 *      overflow-x: hidden;
 *      overflow-y: auto;
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-container .dlcui-example-contents .dlcui-example-content-item {
 *      margin: 5px 0;
 *    }
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 543;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          // Emulate an asynchronous call to the server.
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      overflow-y: auto;
 *      height: 310px;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiLazyLoading', function () {
    return {
      restrict: 'EA',
      replace: false,
      controller: 'dlcuiLazyLoadingController',
      controllerAs: 'lazyCtrl',
      link: function (scope, element) {
        var currentPosition = element.css('position');
        if (!dlcui.isStringWithLength(currentPosition) ||
          (currentPosition !== 'relative' && currentPosition !== 'absolute' && currentPosition !== 'fixed')) {
          element.css('position', 'relative');
        }
      }
    };
  });
;/**
 * @ngdoc directive
 * @name lazyLoadingFooter
 * @module dlcui
 * @src directives/core/lazyLoading/cccLazyLoadingFooter.directive.js
 * @controlType actionable
 * @restrict E
 *
 * @description
 * Element based directive that is used as to enable Lazy Loading on a container type component. It is currently
 * been used by the following components,
 * * Application Card Container
 * * Grid Card Container
 * * List
 *
 * This directive is usually added to the contents are of the container component and displays a footer when
 * data is been loaded in a lazy fashion and hidden otherwise. The width of this footer will always be 100% of the
 * container it is placed in.
 *
 * Lazy loading allows the component to load data in a lazy fashion in configured blocks called Page Sizes. The
 * loading can be initiated manually by callin an API method or it is automatically called as the user
 * scrolls down to the bottom of a container.
 *
 * This design consists of three angular services that are used togethor to enable true lazy loading.
 * * cccLazyLoadingFooter A directive that can be placed inside of the container and usually pops up when more
 * data is lazy loaded.
 * * cccLazyLoadingScroll A directive that must be added to the element that will handle the scrolling, either
 * vertical or horizontal is supported but not both. This would be the contents element whose overflow-x or
 * overflow-y is set to auto.
 * * cccLazyLoading A directive that adds a controller to the components scope and contains the actualy api used
 * to manage data loading. This directive is usually appled to the root element of the container/directive element.
 *
 * The cccLazyLoadingFooter and cccLazyLoadingScroll will work with the api that cccLazyLoading applies to the
 * scope to manage the data loading. The api itself is added to the scope using the <i>lazyCtrl</i> name and
 * must be initialized in the link or controller function of your component directive as follows,
 *
 * ```javascript
 * $scope.$watch('lazyCtrl', function(lazyController) {
 *    if (lazyController) {
 *      lazyController.initialize(scope.sourceFn, pageSize, startIndex);
 *    }
 * });
 * ```
 *
 * The sourceFn above is usually tied to some callback method that can be registered through a attribute.
 *
 * The Lazy Loading Controller exposes the following properties and methods,
 * * lazyCtrl.busyLoadingData - A boolean value that is set to true when data is loaded and can be used to
 * display informaton visually. The footer directive uses this property to display iteself.
 * * lazyCtrl.data - Array that contains the current loaded data as it is been loaded. New data is appended to
 * this array.
 * * lazyCtrl.clearAllData() - A function that can be called to clear the data and also reset the start pointer.
 * * lazyCtrl.reloadAllData() - A function that can be called to clear all data and reload the first page.
 * * lazyCtrl.loadNextPage() - A function that can be called to manually load the next page and can be used if the
 * scroll directive is not used.
 * * lazyCtrl.label - A string value that defines the label to display in the footer when more data is been loaded
 *
 * The following highlights how the template of a container type component could utilize these directive.
 * ```html
 * <div class="dlcui-example-container" dlcui-lazy-loading="">
 *   <div class="dlcui-example-contents" dlcui-lazy-loading-scroll="vertical">
 *     <div ng-repeat="dataItem in lazyCtrl.data track by $index">
 *     </div>
 *   </div>
 *   <dlcui-lazy-loading-footer>
 *   </dlcui-lazy-loading-footer>
 * </div>
 * ```
 *
 * You can support an option json where data is a property but you need to be careful about the call the
 * lazy controller makes. The controller assumes it is called a angular directive scope function, i.e. a
 * scope attributed defined with the '&' and with angular these functons are called with a json object that contains
 * the parameters of the method.
 *
 * The lazy load controller calls the function you register through the initialize method with a single object
 * as follows,
 * ```javascript
 * {
 *    startIndex: 0,  // The current position of the lazy loading and increased with each load by pageSize
 *    pageSize: 40,   // The page size that was specified in the initialize method.
 *    sortBy: null,   // Not currently used but is a place holder for future sorting
 *    filter: null    // Not currently used but is a place holder for future filtering support
 * }
 *```
 *
 * @example
 * <h3>Lazy Loading</h3>
 * <example name="basicExampleIcons">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container">
 *      <example-container source="source(startIndex, pageSize)"
 *                         page-size="40"
 *                         start-index="0">
 *      </example-container>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator) {
 *          $scope.source = function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *          };
 *      });
 *  </file>
 *  <file name='exampleContainer.directive.template.js'>
 *    angular.module('app')
 *      .directive('exampleContainer', function (cccBaseTemplatePath) {
 *         return {
 *          restrict: 'E',
 *          replace: true,
 *          templateUrl: 'exampleContainer.directive.template.html',
 *          scope: {
 *            source: '&',
 *            pageSize: '@',
 *            startIndex: '@'
 *          },
 *          link: function (scope) {
 *            // Add component code here
 *            // We must initialize the control otherwise it does not know where to load the data from
 *            scope.$watch('lazyCtrl', function(lazyController) {
 *              if (lazyController) {
 *                lazyController.initialize(scope.source, parseInt(scope.pageSize, 10),
 *                   parseInt(scope.startIndex, 10));
 *              }
 *            });
 *          }
 *        };
 *      });
 *  </file>
 *  <file name='exampleContainer.directive.template.html'>
 *    <div class="dlcui-example-container" dlcui-lazy-loading="">
 *       <div class="dlcui-example-contents" dlcui-lazy-loading-scroll="vertical">
 *         <div class="dlcui-example-content-item" ng-repeat="dataItem in lazyCtrl.data track by $index">
 *             <b>Very Basic Lazy Loading Example for {{dataItem.id}}</b>
 *             <br>
 *             {{dataItem.details}}
 *             <br>
 *         </div>
 *       </div>
 *       <dlcui-lazy-loading-footer>
 *       </dlcui-lazy-loading-footer>
 *   </div>
 *  </file>
 *  <file name='exampleContainer.directive.template.css'>
 *    .dlcui-example-container {
 *      height: 300px;
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-container .dlcui-example-contents {
 *      height: 100%;
 *      overflow-x: hidden;
 *      overflow-y: auto;
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-container .dlcui-example-contents .dlcui-example-content-item {
 *      margin: 5px 0;
 *    }
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 543;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          // Emulate an asynchronous call to the server.
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      overflow-y: auto;
 *      height: 310px;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('cccLazyLoadingFooter', ['cccBaseTemplatePath', function (cccBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      templateUrl: [cccBaseTemplatePath, 'cccLazyLoadingFooter.directive.html'].join(''),
      link: function (scope) {
        scope.$watch('lazyCtrl', function (newController) {
          scope.lazyLoadingController = newController;
        });
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name lazyLoadingScroll
 * @module dlcui
 * @src directives/core/lazyLoading/cccLazyLoadingScroll.directive.js
 * @controlType actionable
 * @restrict A
 *
 * @description
 * Attribute based directive that is used as to enable Lazy Loading on a container type component. It is currently
 * been used by the following components,
 * * Application Card Container
 * * Grid Card Container
 * * List
 *
 * This directive is applied to the contents area where scrolling is enabled and monitors the scroll event to
 * determine if more data should be loaded in a lazy fashion.
 *
 * Lazy loading allows the component to load data in a lazy fashion in configured blocks called Page Sizes. The
 * loading can be initiated manually by callin an API method or it is automatically called as the user
 * scrolls down to the bottom of a container.
 *
 * This design consists of three angular services that are used togethor to enable true lazy loading.
 * * cccLazyLoadingFooter A directive that can be placed inside of the container and usually pops up when more
 * data is lazy loaded.
 * * cccLazyLoadingScroll A directive that must be added to the element that will handle the scrolling, either
 * vertical or horizontal is supported but not both. This would be the contents element whose overflow-x or
 * overflow-y is set to auto.
 * * cccLazyLoading A directive that adds a controller to the components scope and contains the actualy api used
 * to manage data loading. This directive is usually appled to the root element of the container/directive element.
 *
 * The cccLazyLoadingFooter and cccLazyLoadingScroll will work with the api that cccLazyLoading applies to the
 * scope to manage the data loading. The api itself is added to the scope using the <i>lazyCtrl</i> name and
 * must be initialized in the link or controller function of your component directive as follows,
 *
 * ```javascript
 * $scope.$watch('lazyCtrl', function(lazyController) {
 *    if (lazyController) {
 *      lazyController.initialize(scope.sourceFn, pageSize, startIndex);
 *    }
 * });
 * ```
 *
 * The sourceFn above is usually tied to some callback method that can be registered through a attribute.
 *
 * The Lazy Loading Controller exposes the following properties and methods,
 * * lazyCtrl.busyLoadingData - A boolean value that is set to true when data is loaded and can be used to
 * display informaton visually. The footer directive uses this property to display iteself.
 * * lazyCtrl.data - Array that contains the current loaded data as it is been loaded. New data is appended to
 * this array.
 * * lazyCtrl.clearAllData() - A function that can be called to clear the data and also reset the start pointer.
 * * lazyCtrl.reloadAllData() - A function that can be called to clear all data and reload the first page.
 * * lazyCtrl.loadNextPage() - A function that can be called to manually load the next page and can be used if the
 * scroll directive is not used.
 * * lazyCtrl.label - A string value that defines the label to display in the footer when more data is been loaded
 *
 * The following highlights how the template of a container type component could utilize these directive.
 * ```html
 * <div class="dlcui-example-container" dlcui-lazy-loading="">
 *   <div class="dlcui-example-contents" dlcui-lazy-loading-scroll="vertical">
 *     <div ng-repeat="dataItem in lazyCtrl.data track by $index">
 *     </div>
 *   </div>
 *   <dlcui-lazy-loading-footer>
 *   </dlcui-lazy-loading-footer>
 * </div>
 * ```
 *
 * You can support an option json where data is a property but you need to be careful about the call the
 * lazy controller makes. The controller assumes it is called a angular directive scope function, i.e. a
 * scope attributed defined with the '&' and with angular these functons are called with a json object that contains
 * the parameters of the method.
 *
 * The lazy load controller calls the function you register through the initialize method with a single object
 * as follows,
 * ```javascript
 * {
 *    startIndex: 0,  // The current position of the lazy loading and increased with each load by pageSize
 *    pageSize: 40,   // The page size that was specified in the initialize method.
 *    sortBy: null,   // Not currently used but is a place holder for future sorting
 *    filter: null    // Not currently used but is a place holder for future filtering support
 * }
 *```
 *
 * @example
 * <h3>Lazy Loading</h3>
 * <example name="basicExampleIcons">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container">
 *      <example-container source="source(startIndex, pageSize)"
 *                         page-size="40"
 *                         start-index="0">
 *      </example-container>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator) {
 *          $scope.source = function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *          };
 *      });
 *  </file>
 *  <file name='exampleContainer.directive.template.js'>
 *    angular.module('app')
 *      .directive('exampleContainer', function (cccBaseTemplatePath) {
 *         return {
 *          restrict: 'E',
 *          replace: true,
 *          templateUrl: 'exampleContainer.directive.template.html',
 *          scope: {
 *            source: '&',
 *            pageSize: '@',
 *            startIndex: '@'
 *          },
 *          link: function (scope) {
 *            // Add component code here
 *            // We must initialize the control otherwise it does not know where to load the data from
 *            scope.$watch('lazyCtrl', function(lazyController) {
 *              if (lazyController) {
 *                lazyController.initialize(scope.source, parseInt(scope.pageSize, 10),
 *                   parseInt(scope.startIndex, 10));
 *              }
 *            });
 *          }
 *        };
 *      });
 *  </file>
 *  <file name='exampleContainer.directive.template.html'>
 *    <div class="dlcui-example-container" dlcui-lazy-loading="">
 *       <div class="dlcui-example-contents" dlcui-lazy-loading-scroll="vertical">
 *         <div class="dlcui-example-content-item" ng-repeat="dataItem in lazyCtrl.data track by $index">
 *             <b>Very Basic Lazy Loading Example for {{dataItem.id}}</b>
 *             <br>
 *             {{dataItem.details}}
 *             <br>
 *         </div>
 *       </div>
 *       <dlcui-lazy-loading-footer>
 *       </dlcui-lazy-loading-footer>
 *   </div>
 *  </file>
 *  <file name='exampleContainer.directive.template.css'>
 *    .dlcui-example-container {
 *      height: 300px;
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-container .dlcui-example-contents {
 *      height: 100%;
 *      overflow-x: hidden;
 *      overflow-y: auto;
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-container .dlcui-example-contents .dlcui-example-content-item {
 *      margin: 5px 0;
 *    }
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 543;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          // Emulate an asynchronous call to the server.
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      overflow-y: auto;
 *      height: 310px;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('cccLazyLoadingScroll', function () {
    return {
      restrict: 'A',
      replace: false,
      link: function (scope, element, attrs) {
        /**
         * The margin of error.
         * @type {number}
         */
        var ERROR_MARGIN = 25;

        /**
         * The scroll direction that is monitored to lazy load and by default is vertical.
         * @type {*|string}
         */
        var _scrollDirection = attrs.cccLazyLoadingScroll || 'vertical';


        /**
         * The lazy load controller.
         * @type {null|Object}
         */
        var _lazyController = null;

        /**
         * Scroll handler for the grid control.
         * @param {!Event} event The associated event
         * @returns {boolean|undefined} false if the event is blocked.
         * @private
         */
        function _scroll(event) {
          var loadMore = false;
          if (_scrollDirection === 'horizontal') {
            loadMore = (this.scrollLeft + this.offsetWidth + ERROR_MARGIN) >= this.scrollWidth;
          } else {
            loadMore = (this.scrollTop + this.offsetHeight + ERROR_MARGIN) >= this.scrollHeight;
          }
          // Now load the data if required
          if (loadMore && _lazyController && !_lazyController.busyLoadingData) {
            event.preventDefault();
            _lazyController.loadNextPage();

            return false;
          }
        }

        // Need to calculate the scroll direction
        attrs.$observe('cccLazyLoadingScroll', function (newValue, oldValue) {
          if (newValue !== oldValue && dlcui.isStringWithLength(newValue)) {
            _scrollDirection = newValue;
          }
        });

        element.on('scroll', _scroll);

        scope.$watch('lazyCtrl', function (newController) {
          _lazyController = newController;
          _lazyController.registerScrollElement(element);
        });

        scope.$on('$destroy', function () {
          element.off('scroll', _scroll);
        });
      }
    };
  });
;/**
 * @ngdoc directive
 * @name list
 * @module dlcui
 * @src directives/core/list/dlcuiList.directive.js
 * @restrict E
 * @controlType tabular
 *
 * @description
 * Element based directive that is used to display a list of items.
 *
 * <b>Under Construction: This component is not ready for consumption and was added to support hierarchy component.</b>
 *
 * @example
 * <h3>List Component With Search And Selection</h3>
 *
 * <example name="listBasic">
 *  <file name="index.html">
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-list options="options"
 *                selected-items="selectedItems"
 *                on-item-double-click="onItemDoubleClick($event, item)"
 *                on-selection-changed="onSelectionChanged(item)"
 *                on-match-found="onMatchFound(exact, items)">
 *      </dlcui-list>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_SELECTION_TYPE) {
 *
 *        $scope.onMatchFound = function (exact, items) {
 *          $scope.message = [items.length, exact ? 'exact' : 'similar', 'matches found.'].join(' ');
 *        };
 *
 *        $scope.onSelectionChanged = function (item) {
 *          $scope.message = [
 *            'Selection changed for Item',
 *            item.label,
 *            'and is',
 *            item.selected ? 'selected' : 'un-selected'
 *          ].join(' ');
 *        };
 *
 *        $scope.onItemDoubleClick = function($event, item) {
 *          $scope.message = [
 *            'You double clicked Item',
 *            item.label,
 *            ', which is',
 *            item.selected ? 'selected' : 'un-selected'
 *          ].join(' ');
 *        };
 *
 *        $scope.options = {
 *          selection: DLCUI_SELECTION_TYPE.single,
 *          data: [
 *            {
 *              id: 0,
 *              label: 'Image'
 *            },
 *            {
 *              id: 1,
 *              label: 'Location'
 *            },
 *            {
 *              id: 2,
 *              label: 'Operating System'
 *            },
 *            {
 *              id: 3,
 *              label: 'Platform'
 *            },
 *            {
 *              id: 4,
 *              separator: true
 *            },
 *            {
 *              id: 5,
 *              label: 'Subnet'
 *            },
 *            {
 *              id: 6,
 *              label: 'Time Zone'
 *            },
 *            {
 *              id: 7,
 *              label: 'Vendor ID'
 *            }
 *          ],
 *          search: {
 *            enabled: true,
 *            placeholder: 'Search for items'
 *          },
 *          height: '400px',
 *          width: '400px'
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>List Component With No Search and Selection</h3>
 *
 * <example name="listNoSelectBasic">
 *  <file name="index.html">
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-list options="options"
 *                selected-items="selectedItems"
 *                on-item-double-click="onItemDoubleClick($event, item)"
 *                on-selection-changed="onSelectionChanged(item)"
 *                on-match-found="onMatchFound(exact, items)">
 *      </dlcui-list>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_SELECTION_TYPE) {
 *
 *        $scope.onMatchFound = function (exact, items) {
 *          $scope.message = [items.length, exact ? 'exact' : 'similar', 'matches found.'].join(' ');
 *        };
 *
 *        $scope.onSelectionChanged = function (item) {
 *          $scope.message = [
 *            'Selection changed for Item',
 *            item.label,
 *            'and is',
 *            item.selected ? 'selected' : 'un-selected'
 *          ].join(' ');
 *        };
 *
 *        $scope.onItemDoubleClick = function($event, item) {
 *          $scope.message = [
 *            'You double clicked Item',
 *            item.label,
 *            ', which is',
 *            item.selected ? 'selected' : 'un-selected'
 *          ].join(' ');
 *        };
 *
 *        $scope.options = {
 *          selection: DLCUI_SELECTION_TYPE.single,
 *          data: [
 *            {
 *              id: 0,
 *              label: 'Image'
 *            },
 *            {
 *              id: 1,
 *              label: 'Location'
 *            },
 *            {
 *              id: 2,
 *              label: 'Operating System'
 *            },
 *            {
 *              id: 3,
 *              label: 'Platform'
 *            },
 *            {
 *              id: 4,
 *              separator: true
 *            },
 *            {
 *              id: 5,
 *              label: 'Subnet'
 *            },
 *            {
 *              id: 6,
 *              label: 'Time Zone'
 *            },
 *            {
 *              id: 7,
 *              label: 'Vendor ID'
 *            }
 *          ],
 *          search: {
 *            enabled: false,
 *            placeholder: 'Search for items'
 *          },
 *          height: '400px',
 *          width: '400px'
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>List Component With Add Group</h3>
 *
 * <example name="listAddGroup">
 *  <file name="index.html">
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-list options="options"
 *                selected-items="selectedItems"
 *                on-item-double-click="onItemDoubleClick($event, item)"
 *                on-selection-changed="onSelectionChanged(item)"
 *                on-match-found="onMatchFound(exact, items)">
 *      </dlcui-list>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_SELECTION_TYPE) {
 *
 *        $scope.onMatchFound = function (exact, items) {
 *          $scope.message = [items.length, exact ? 'exact' : 'similar', 'matches found.'].join(' ');
 *        };
 *
 *        $scope.onSelectionChanged = function (item) {
 *          $scope.message = [
 *            'Selection changed for Item',
 *            item.label,
 *            'and is',
 *            item.selected ? 'selected' : 'un-selected'
 *          ].join(' ');
 *        };
 *
 *        $scope.onItemDoubleClick = function($event, item) {
 *          $scope.message = [
 *            'You double clicked Item',
 *            item.label,
 *            ', which is',
 *            item.selected ? 'selected' : 'un-selected'
 *          ].join(' ');
 *        };
 *
 *        $scope.options = {
 *          selection: DLCUI_SELECTION_TYPE.single,
 *          addGroup: {
 *            enabled: true,
 *            label: 'Add "{{group}}" as group'
 *          },
 *          data: [
 *            {
 *              id: 0,
 *              label: 'Image'
 *            },
 *            {
 *              id: 1,
 *              label: 'Location'
 *            },
 *            {
 *              id: 2,
 *              label: 'Operating System'
 *            },
 *            {
 *              id: 3,
 *              label: 'Platform'
 *            },
 *            {
 *              id: 4,
 *              label: 'Subnet'
 *            },
 *            {
 *              id: 5,
 *              label: 'Time Zone'
 *            },
 *            {
 *              id: 6,
 *              label: 'Vendor ID'
 *            }
 *          ],
 *          search: {
 *            enabled: true,
 *            placeholder: 'Search or add groups',
 *            noMatches: '0 matches found'
 *          },
 *          height: '400px',
 *          width: '400px'
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiList', ['dlcuiBaseTemplatePath', 'dlcuiListCardComponent', 'dlcuiListTextComponent', 'DLCUI_LIST_ITEM_TYPE', '$templateCache', function (dlcuiBaseTemplatePath,
                                  dlcuiListCardComponent,
                                  dlcuiListTextComponent,
                                  DLCUI_LIST_ITEM_TYPE,
								  $templateCache) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        disabled: '=?ngDisabled',
        options: '=',
        selectedItems: '=?',
        onItemDoubleClick: '&',
        onItemClick: '&',
        onFilterChanged: '&',
        onSelectionChanged: '&',
        onMatchFound: '&',
        onAddNewItem: '&',
        onChangeItem: '&',
        onDeleteItem: '&'
      },
	  templateUrl: [dlcuiBaseTemplatePath, 'directives/core/list/dlcuiList.directive.html'].join(''),	
      link: function (scope) {
        dlcui.assertObject(scope.options, 'Options must be defined for this component');

        // TODO-sscott: I need to create a list item wrapper template to use for default list
        // template or a user provided one.

        /**
         * Initialise the text input
         */
        function initialiseTextInput() {
          if (scope.options.search && scope.options.search.enabled) {
            scope.search = dlcuiListTextComponent.new(scope);
          }
        }

        /**
         * Configure the card container component
         */
        function initialiseCardComponent() {
          /**
           * The card container options
           * @type {!Object}
           */
          scope.listContainer = dlcuiListCardComponent.new(scope);
          scope.listContainer.filterData('');
        }

        /**
         * Main component stryle object
         * @type {{height: *, width: *}}
         */
        scope.style = {
          height: scope.options.height,
          width: scope.options.width
        };

        /**
         * Can be used by the item templates to access the parent.
         */
        scope.$container = scope.$parent;

        scope.options.search = scope.options.search || {};

        initialiseTextInput();
        initialiseCardComponent();

        scope.$watch('search.model', function(newValue) {
          if (dlcui.isString(newValue)) {
            scope.listContainer.filterData(newValue);
            scope.onFilterChanged({
              filter: newValue
            });
          }
        });

        /**
         * Called by the hierarchy design to create a drag image.
         * @param {!string} id The id of the current element on which dragging is started
         * @returns {string} The html or undefined.
         */
        scope.createDragImage = function (id) {
          var $dragEl = $(['#', id].join(''));
          var height = $dragEl.outerHeight();
          var $containerEl = $dragEl.clone();
          $containerEl.addClass('dlcui-single-item-dragged');
          $containerEl.css({
            height: height + 10,    // TODO-sscott: This is a hack I need to fix
            width: 'auto'
          });
          $containerEl.wrap('<div></div>');

          return $($containerEl).parent().html();
        };

        scope.$watch('options.data', function () {
          angular.forEach(scope.options.data, function (value) {
            // Also fix the action type for separator
            if (angular.isUndefined(value.type)) {
              value.type = value.separator ? DLCUI_LIST_ITEM_TYPE.separator : DLCUI_LIST_ITEM_TYPE.normal;
            }
          });
          var filterData = '';
          if (scope.search && dlcui.isStringWithLength(scope.search.model)) {
            filterData = scope.search.model;
          }
          scope.listContainer.filterData(filterData);
        }, true);
      }
    };
  }]);
;/* eslint-disable max-statements */
angular.module('dell.ngclarity.directives')
  .factory('dlcuiListCardComponent', ['dlcuiBaseTemplatePath', 'dlcuiCallback', 'dlcuiGuid', 'DLCUI_SELECTION_TYPE', 'DLCUI_FLEXBOX_ALIGN', 'DLCUI_FLEXBOX_JUSTIFY', 'DLCUI_FLEXBOX_LAYOUT', 'DLCUI_LIST_ITEM_TYPE', '$filter', '$translate', function (dlcuiBaseTemplatePath,
                                             dlcuiCallback,
                                             dlcuiGuid,
                                             DLCUI_SELECTION_TYPE,
                                             DLCUI_FLEXBOX_ALIGN,
                                             DLCUI_FLEXBOX_JUSTIFY,
                                             DLCUI_FLEXBOX_LAYOUT,
                                             DLCUI_LIST_ITEM_TYPE,
                                             $filter,
                                             $translate) {
    /**
     * Used to manage the Card Component Contained within the List component.
     * @param {$scope} scope The associated list component scope.
     * @class
     */
    var CardComponent = function (scope) {
      dlcui.assertObject(scope);

      /**
       * The current filter.
       * @type {string}
       * @private
       */
      var _currentFilterModel = '';

      /**
       * The card currently been edited.
       * @type {null|Object}
       * @private
       */
      var _currentCardEdit = null;

      /**
       * The current card label been edited.
       * @type {null|string}
       * @private
       */
      var _currentLabel = null;

      /**
       * The current item that is been added.
       * @type {null|Object}
       * @private
       */
      var _currentNewItem = null;

      /**
       * The card item that represents the add group when no matches are found
       * @type {!Object}
       * @private
       */
      var _addNoMatchesCard = {
        id: dlcuiGuid.new(),
        type: DLCUI_LIST_ITEM_TYPE.addGroupNoMatches,
        disableFilter: true,
        label: '',
        hidden: false,
        templateUrl: [dlcuiBaseTemplatePath, 'directives/core/list/addGroupItem.template.html'].join('')	   
      };

      /**
       * The card item that represents the add group when no data is filtered
       * @type {!Object}
       * @private
       */
      var _addCard = {
        id: dlcuiGuid.new(),
        type: DLCUI_LIST_ITEM_TYPE.addGroup,
        disableFilter: true,
        label: '',
        hidden: false
      };

      /**
       * The card item that represent the no matches found
       * @type {{disableFilter: boolean, noMatches: boolean, label: (boolean|string)}}
       * @private
       */
      var _noMatches = {
        disableFilter: true,
        type: DLCUI_LIST_ITEM_TYPE.noMatches,
        hidden: true,
        label: scope.options.search.noMatches || $translate.instant('DLCUI_NO_MATCHES_FOUND')
      };

      /**
       * The main options for the card component.
       * @type {!Object}
       */
      this.options = {
        align: DLCUI_FLEXBOX_ALIGN.stretch,
        containerScope: scope,
        data: [],
        disableCardDecoration: true,
        enableLazyRendering: scope.options.enableLazyRendering,
        emptyTemplateUrl: scope.options.emptyTemplateUrl,
        pageSize: -1,
        startIndex: 0,
        justify: DLCUI_FLEXBOX_JUSTIFY.flexStart,
        layout: DLCUI_FLEXBOX_LAYOUT.vertical,
        templateUrl: scope.options.templateUrl || [dlcuiBaseTemplatePath, 'directives/core/list/dlcuiListItem.template.html'].join('')
	   
      };

      /**
       * Returns true if the item is a Add Group Card Item.
       * @param {!Object} item The item to check
       * @returns {!boolean} True if this is an add group item
       */
      this.isItemAddGroup = function (item) {
        return item &&
          (item.type === DLCUI_LIST_ITEM_TYPE.addGroupNoMatches || item.type === DLCUI_LIST_ITEM_TYPE.addGroup);
      };

      /**
       * Returns true if the item is a separator
       * @param {!Object} item The item to check
       * @returns {!boolean} True if the item is a separator
       */
      this.isItemSeperator = function (item) {
        return item && item.type === DLCUI_LIST_ITEM_TYPE.separator;
      };

      /**
       * Returns true if the item is the no matches item
       * @param {!Object} item The item to check
       * @returns {!boolean} True if the item is a no matches ite,
       */
      this.isItemNoMatches = function (item) {
        return item && item.type === DLCUI_LIST_ITEM_TYPE.noMatches;
      };

      /**
       * Returns true if the item displays a just a label with no toolbar
       * @param {!Object} item The item to check
       * @returns {!boolean} True if the item is a separator
       */
      this.isItemLabel = function (item) {
        return this.isItemAddGroup(item) || this.isItemNoMatches(item);
      };

      /**
       * Returns true if the item is currently selected
       * @param {!Object} item The item to check
       * @returns {!boolean} True if selected
       */
      this.isItemSelected = function (item) {
        return this.isItemNormal(item) && item.selected;
      };

      /**
       * Returns true if selection is not allowed on the specified item.
       * @param {!Object} item The item to check
       * @returns {!boolean} True if selection is disabled
       */
      this.isItemSelectionDisabled = function (item) {
        return !item || this.isItemSpecial(item) ||
          item.disableSelection || scope.options.disableSelection;
      };

      /**
       * Returns true if selection is not allowed on the specified item.
       * @param {!Object} item The item to check
       * @returns {!boolean} True if selection is disabled
       */
      this.isItemSpecial = function (item) {
        return !item || !this.isItemNormal(item);
      };

      /**
       * Tests to see if the specified item is normal
       * @param {!Object} item The item to check
       * @returns {!boolean} True if the item is normal.
       */
      this.isItemNormal = function (item) {
        return item && (!dlcui.isDefined(item.type) || item.type === DLCUI_LIST_ITEM_TYPE.normal);
      };

      /**
       * Called to select the specified item
       * @param {!Object} item The item associated with the selection.
       */
      this.selectItem = function (item) {
        if (scope.options.selection === DLCUI_SELECTION_TYPE.single && !item.selected) {
          // Clear existing selection
          angular.forEach(this.options.data, function (value) {
            if (value.selected) {
              value.selected = false;
              scope.onSelectionChanged({
                item: value
              });
            }
          });
          item.selected = true;
          if (item.selected) {
            scope.selectedItems = [item];
          } else {
            scope.selectedIems = [];
          }
          scope.onSelectionChanged({
            item: item
          });
        } else if (scope.options.selection === DLCUI_SELECTION_TYPE.multiple) {
          item.selected = !item.selected;
          // We must allow a user to unselect an item
          scope.selectedItems = _.filter(scope.options.data, function (value) {
            return value.selected;
          });

          scope.onSelectionChanged({
            item: item
          });
        }
      };

      /**
       * Called when the user clicks on the item in the card component.
       * @param {Event} event The click event
       * @param {!Object} item The item that was clicked
       */
      this.onItemClicked = function (event, item) {
        if (!this.isEditingItem()) {
          if (!this.isItemSelectionDisabled(item)) {
            this.selectItem(item);
          } else if (this.isItemAddGroup(item) && dlcui.isStringWithLength(_currentFilterModel)) {
            // Automatically add the filter model as a new item
            var newItem = {
              id: null,
              label: _currentFilterModel
            };
            var self = this;
            dlcuiCallback.handleResult(scope.onAddNewItem({
              item: newItem
            })).then(function () {
              self.addNewItem(newItem);
            });
            scope.search.model = '';
          } else if (this.isItemAddGroup(item) && !dlcui.isStringWithLength(_currentFilterModel)) {
            // Create a new item that will be edited by the user.
            _currentNewItem = {
              id: null,
              label: '',
              type: DLCUI_LIST_ITEM_TYPE.normal
            };

            this.options.data[0] = _currentNewItem;
            _currentCardEdit = _currentNewItem;
          }

          if (!this.isItemSpecial(item)) {
            scope.onItemClick({
              $event: event,
              item: item
            });
          }
        }
      };

      /**
       * Called when the user double clicks on a item
       * @param {Event} event The click event
       * @param {!Object} item The item that was clicked
       */
      this.onItemDoubleClicked = function (event, item) {
        if (!this.isItemSpecial(item)) {
          scope.onItemDoubleClick({
            $event: event,
            item: item
          });
        }
      };

      /**
       * Called when the user click on the Add Group item.
       * @param {!Object} item The new item to add.
       */
      this.addNewItem = function (item) {
        dlcui.assertObject(item);
        scope.options.data.push(item);
        var sortedData = $filter('orderBy')(scope.options.data, 'label');
        scope.options.data = sortedData;
      };

      /**
       * Returns true if the drag is enabled for the specified item.
       * @param {!Object} item The item been checked
       * @returns {!boolean} True if drag is enabled.
       */
      this.isDragEnabled = function (item) {
        return scope.options.dragEnabled && !item.disabled && !item.selected && this.isItemNormal(item);
      };

      /**
       * Called by the hierarchy design to create a drag image.
       * @param {!string} id The id of the current element on which dragging is started
       * @returns {string} The html or undefined.
       */
      this.createDragImage = function(id) {
        var $dragEl = $(['#', id].join(''));
        var $containerEl = $dragEl.clone();
        $containerEl.addClass('dlcui-drag-defaults dlcui-list-item-dragging');
        $containerEl.css({
          height: 'auto',
          width: 'auto'
        });
        $containerEl.wrap('<div></div>');

        return $($containerEl).parent().html();
      };

      /**
       * Called to filter the data based on the current filter model.
       * @param {String=} filterModel A string value to filter on.
       */
      this.filterData = function (filterModel) {
        dlcui.assertString(filterModel);

        _currentFilterModel = filterModel;

        var exactMatch = false;
        var self = this;

        if (dlcui.isStringWithLength(filterModel)) {
          this.options.data = $filter('filter')(scope.options.data, filterModel,
            function (actual, expected) {
              if (actual) {
                if (!expected || !dlcui.isStringWithLength(expected)) {
                  return true;
                } else if (actual.disableFilter || self.isItemSpecial(actual) ||
                  (dlcui.isStringWithLength(actual.label) && actual.label.indexOf(expected) >= 0)) {
                  if (!exactMatch && actual.label === expected) {
                    exactMatch = true;
                  }
                  return true;
                }
              }

              return false;
            });

          // Notify the listener that matches were located.
          scope.onMatchFound({
            exact: exactMatch,
            items: this.options.data
          });
        } else if (dlcui.isArray(scope.options.data)) {
          this.options.data = scope.options.data.slice();
        }
        this.options.data = this.options.data || [];

        // First add the no matches found label if required.
        if (scope.options.search && scope.options.search.enabled &&
          dlcui.isStringWithLength(filterModel)) {
          _noMatches.hidden = dlcui.isArrayWithLength(this.options.data);
          this.options.data.push(
            _noMatches
          );
        }

        // Push the add group
        if (scope.options.addGroup && scope.options.addGroup.enabled) {
          // Should we display the add group link at the bottom
          if (!exactMatch && dlcui.isStringWithLength(filterModel)) {
            var label = [
              '+',
              scope.options.addGroup.noMatchesLabel || $translate.instant('DLCUI_ADD_GROUP_AS_GROUP', {
                group: '{{group}}'
              })
            ].join(' ');
            _addNoMatchesCard.label = dlcui.formatString(label, {
              group: filterModel
            });
            this.options.data.push(
              _addNoMatchesCard
            );
          } else if (!dlcui.isStringWithLength(filterModel) && !dlcui.isObject(_currentNewItem)) {
            _addCard.label = [
              '+',
              scope.options.addGroup.addLabel || $translate.instant('DLCUI_ADD_CUSTOM_GROUP')
            ].join(' ');
            this.options.data.splice(0, 0, _addCard);
          }
        }
      };

      /**
       * Builds the class array for the card component part.
       * @param {!Object} item The item the class needs to be calculated for.
       * @returns {!Array} Array of class names.
       */
      this.getClasses = function (item) {
        var classes = [];
        // Check for type and only one type is allowed.
        if (item.type === DLCUI_LIST_ITEM_TYPE.noMatches) {
          classes.push('dlcui-no-matches-item');
        } else if (item.type === DLCUI_LIST_ITEM_TYPE.addGroup) {
          classes.push('dlcui-add-group-item');
        } else if (item.type === DLCUI_LIST_ITEM_TYPE.addGroupNoMatches) {
          classes.push('dlcui-add-group-no-matches-item');
        } else if (item.type === DLCUI_LIST_ITEM_TYPE.separator) {
          classes.push('dlcui-item-separator');
        } else {
          classes.push('dlcui-item-normal');
        }
        // Now check for selection
        if (item.selected) {
          classes.push('dlcui-list-item-selected');
        }

        if (this.isEditingItem()) {
          classes.push('dlcui-list-item-editing');
        }

        return classes;
      };

      /**
       * Returns true if editing is allowed on the specified item
       * @param {!Object} card The card to test.
       * @returns {!boolean} True if editing is enabled.
       */
      this.isEditingEnabled = function (card) {
        return card && card.type === DLCUI_LIST_ITEM_TYPE.normal && !card.disableEdit;
      };

      /**
       * Returns true if the card is been currently edited
       * @param {!Object} card The card to test.
       * @returns {!boolean} True if the card is been edited
       */
      this.isEditMode = function (card) {
        return dlcui.isObject(_currentCardEdit) && _currentCardEdit === card && this.isEditingEnabled(card);
      };

      /**
       * Returns true if the card is not been currently edited
       * @param {!Object} card The card to test.
       * @returns {!boolean} True if the card is not been edited
       */
      this.isDisplayMode = function (card) {
        return !this.isEditMode(card) && !this.isEditingItem() && this.isEditingEnabled(card);
      };

      /**
       * Returns true if an item is been edited.
       * @returns {!boolean} True if a item is currently been edited.
       */
      this.isEditingItem = function () {
        return dlcui.isObject(_currentCardEdit);
      };

      /**
       * Called when the user selects to edit an item
       * @param {!Event} event the associated click event
       * @param {!Object} card The card to edit.
       */
      this.onEditItem = function (event, card) {
        event.stopPropagation();
        _currentCardEdit = null;
        _currentLabel = null;
        if (card && !card.disableEdit) {
          _currentCardEdit = card;
          _currentLabel = card.label;
        }
      };

      /**
       * Called to cancel editing of the current item
       * @param {!Event} event the associated click event
       * @param {!Object} card The card to edit.
       */
      this.onCancelEdit = function (event, card) {
        event.stopPropagation();
        if (dlcui.isObject(_currentNewItem)) {
          this.filterData('');
        } else {
          card.label = _currentLabel;
        }
        _currentCardEdit = null;
        _currentLabel = null;
        _currentNewItem = null;
        this.filterData('');
      };

      /**
       * Called when the user has modified the group and accepted it
       * @param {!Event} event the associated click event
       * @param {!Object} card The modified card item.
       */
      this.onAcceptItem = function (event, card) {
        event.stopPropagation();
        if ($(event.target).closest('.dlcui-list-item-edit').find('.dlcui-list-item-input').is('.ng-valid')) {
          if (dlcui.isObject(_currentNewItem)) {
            // Create as a new item
            var self = this;
            dlcuiCallback.handleResult(scope.onAddNewItem({
              item: _currentNewItem
            })).then(function () {
              self.addNewItem(_currentNewItem);
              _currentNewItem = null;
              _currentCardEdit = null;
            });
          } else if (dlcui.isObject(_currentCardEdit)) {
            if (_currentLabel === card.label) {
              _currentLabel = null;
              _currentCardEdit = null;
              return;
            }
            var oldCard = angular.copy(card);
            oldCard.label = _currentLabel;
            // Save an existing item
            dlcuiCallback.handleResult(scope.onChangeItem({
              newItem: card,
              oldItem: oldCard
            })).then(function () {
              _currentLabel = null;
              _currentCardEdit = null;
            }, function () {
              card.label = _currentLabel;
            });
          }
        }
      };

      /**
       * Called when the user has deleted the group.
       * @param {!Event} event the associated click event
       * @param {!Object} card The deleted card item.
       */
      this.onDeleteItem = function (event, card) {
        event.stopPropagation();
        _currentCardEdit = null;
        _currentLabel = null;
        dlcuiCallback.handleResult(scope.onDeleteItem({
          item: card
        })).then(function () {
          scope.options.data = _.filter(scope.options.data, function (data) {
            return data !== card;
          });
        });
      };

      /**
       * Returns the current list of names
       * @returns {!Array} Array of names.
       */
      this.getUniqueNames = function () {
        var names = [];
        var self = this;
        angular.forEach(this.options.data, function (item) {
          if (self.isItemNormal(item) && dlcui.isStringWithLength(item.label)) {
            names.push(item.label);
          }
        });

        return names;
      };
    };

    return {
      new: function (scope) {
        return new CardComponent(scope);
      }
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_LIST_ITEM_TYPE', {
  normal: 'normal',         // Used to denote a normal list item type that can be filtered
  addGroup: 'addGroup',     // The add group menu link that works with filtering
  addGroupNoMatches: 'addGroupNoMatches', // The add group when no matches are found during filtering.
  separator: 'separator',   // A separator type
  noMatches: 'noMatches'    // The no matches type where if no filtered item match then this message is displayed
});
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiListTextComponent', function () {
    /**
     * Used to manage the Text Component Contained within the List component.
     * @param {$scope} scope The associated list component scope.
     * @class
     */
    var TextComponent = function (scope) {
      dlcui.assertObject(scope);

      // TODO-sscott: I need to complete this design in the future and for now it fully supports hierachical builder
      this.model = '';

      this.valid = true;

      this.options = {
        placeholder: scope.options.search.placeholder
      };

      this.onEnter = function () {
      };
    };

    return {
      new: function (scope) {
        return new TextComponent(scope);
      }
    };
  });
;/**
 * @ngdoc service
 * @name dataSourceService
 * @src services/dataSource/dataSource.js
 * @controlType tabular
 *
 * @deprecated 2.9.0
 * @useInstead Please contact the CUI team if you depend on CUI DataSource Service and consider using ngResource.
 *
 * @description
 * The DataSourceService is a thin wrapper around Angular's {@nglink api/ng/service/$http ng.$http service}. It provides a function which takes as it's first parameter an API endpoint upon which queries can be executed.
 *
 * ```js
 * AppController = function($scope, dlcuiDataSourceService) {
 *   Server = dlcuiDataSourceService('/api/server');
 *
 *   Server.all().then(function(servers) {
 *     // Do something with your servers
 *     $scope.servers = servers;
 *   }, function(err) {
 *     // An error occured
 *     $scope.errorMessage = err.message;
 *   })
 * }
 * ```
 *
 *   @example
 *   <h3>Button enabled/disabled</h3>
 * <example name='buttonDisabled'>
 *   <file name='index.html'>
 *   <cui-button ng-click='query("test.json")'>Call endpoint</cui-button>
 *   <cui-button ng-click='query("404File.json")'>Call incorrect endpoint</cui-button>
 *   <p>Response:</p>
 *   <code>{{response}}</code>
 *   </file>
 *   <file name='test.json'>
 *     {
 *       "hello": "world"
 *     }
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope, dlcuiDataSourceService) {
 *         $scope.query = function(endpoint) {
 *           dlcuiDataSourceService(endpoint).all().then(function success(data) {
 *             $scope.response = data;
 *           }, function error(err) {
 *             $scope.response = 'An error occurred.';
 *           });
 *         }
 *       })
 *   </file>
 * </example>
*/

/**
 * @ngdoc method
 * @name dataSourceService#
 *
 * @param {string} endpoint The endpoint through which the Data Source Service should communicate.
 * @param {object=} config This object allows you to set default query parameters, headers for the request, and the `id` field of single object.
 * Setting the `id` will ensure that any call to `save` on an object returned from your server (via `.get(id)`) will perform an HTTP PUT instead of a POST. Only use this if the unique identifier for the object is **not** `id`. Objects returned from the server need to have an id field.
 *
 * ```js
 * {
 *   headers: {
 *     "x-dell-authentication-key": "94b2fff3e7fd9b9c391a2306"
 *   },
 *   params: {
 *     limit: 20
 *   },
 *   id: '_id'
 * }
 * ```
 *
 * @returns {DataSource}
 *
 * The DataSource is an object that represents the API endpoint. It exposes methods for you to perform CRUD operations on your REST API.
 *
 * <h2>Methods available on a DataSource object</h2>
 * <hr>
 *
 * > All of the methods below except <b>create</b> return a <a href='http://www.html5rocks.com/en/tutorials/es6/promises/'>Promise</a>. Check out {@nglink api/ng/service/$q ng.$q} for more information on promises.
 *
 * <h3>All</h3>
 *
 * Retrieve all records from the endpoint.
 *
 *     Server.all().then(function(servers) {
 *       // Use the servers
 *     })
 *     // HTTP GET /api/servers
 *
 * <h3>Create</h3>
 *
 * Create a record which is later saved.
 *
 * <blockquote class='alert'>The create method does not return a promise.</blockquote>
 *
 *     var server = Server.create({
 *       name: 'PowerEdge 331x',
 *       location: 'AMER.US.WI.MADISON'
 *     })
 *
 *     server.save()
 *     // HTTP POST /api/servers
 *
 * <h3>Get</h3>
 *
 * Get a single item from your API by it's ID.
 *
 *     Server.get(123).then(function(server) {
 *       // Do something with the server
 *       server.location = 'EMEA.RU.MOSCOW'
 *       server.save() // HTTP PUT /api/servers/123
 *     })
 *     // HTTP GET /api/servers/123
 *
 * Retrieving a single item via the get method provides a `save` and `delete` method on the returned object.
 *
 * <h3>Query</h3>
 *
 * Provide query parameters on the request to your API.
 *
 *     Server.query({
 *       limit: 20,
 *       offset: 100
 *     }).then(function(servers) {
 *       // Use the servers
 *     })
 *     // HTTP GET /api/servers?limit=20&offset=100
 *
 * <h2>Methods on single record objects</h2>
 * <hr>
 *
 * Items retrieved using the `get` method have a `save` and `delete` method on them.
 *
 * <h3>Delete</h3>
 *
 * The delete method sends an `HTTP DELETE` request to the API Endpoint.
 *
 *     Server.get(123).then(function(server) {
 *       server.delete().then(function(success) { // HTTP DELETE /api/servers/123
 *         // The server return a successfully deleted.
 *       }, function(err) {
 *         // The server had an error.
 *       })
 *     })
 *
 * <h3>Save</h3>
 *
 * The save method either sends an `HTTP PUT` or `HTTP POST` depending on if the item object has an id set. (Remember: this id field is configurable by the base `cuiDataSourceService` method).
 *
 *     Server.get(123).then(function(server) {
 *       server.location = 'AMER.US.TX.RR2'
 *       server.save().then(function(success) { // HTTP PUT /api/servers/123
 *         // The server data was saved.
 *       })
 *     })
 *
 * <br/>
 *
 *     server = Server.create({
 *       name: 'PowerEdge 33x',
 *       location: 'EMEA.UK.IR.DUBLIN'
 *     })
 *
 *     server.save()
 *     //  HTTP POST /api/servers
 *     //    {
 *     //      "name": "PowerEdge 33x",
 *     //      "location": "EMEA.UK.IR.DUBLIN"
 *     //    }
 *     //
*/

'use strict';



angular.module('dell.ngclarity.directives').factory('dlcuiDataSourceService', ['$http', '$injector', '$q', function($http, $injector, $q) {
  return function (url, config) {
    if (config == null) {
      config = {};
    }

    var object = { endpoint: url, options: {} };
    var options = { headers: {} };

    if (config.headers) {
      angular.extend(options.headers, config.headers);
      delete config.headers;
    }

    object.options = angular.extend(options, config);

    function performHTTP(request) {
      // TODO: Fix these linter errors if we keep this component
      var deferred = $q.defer(); // eslint-disable-line angular/deferred
      $http(request).then(function (data) {
        // eslint-disable-line angular/no-http-callback
        deferred.resolve(data);
      },function (err) {
        deferred.reject(err);
      });
      return deferred.promise;
    }

    var individualMethods = {
      save: function save() {
        var key = null,
            method = null;
        if (this[this.$dataSource.options.id || 'id']) {
          method = 'PUT';
        } else {
          method = 'POST';
        }
        var request = {
          method: method,
          url: this.$dataSource.endpoint,
          data: {},
          headers: this.$dataSource.options.headers
        };

        for (key in this.$dataSource._originalData) {
          // eslint-disable-line guard-for-in
          request.data[key] = this[key];
        }

        return performHTTP(request);
      },
      'delete': function _delete() {
        return performHTTP({
          method: 'DELETE',
          url: this.$dataSource.endpoint,
          headers: this.$dataSource.options.headers
        });
      }
    };
    var collectionMethods = {
      create: function create(data) {
        return angular.extend({}, data, individualMethods, {
          $dataSource: {
            _originalData: data,
            options: this.options,
            endpoint: this.endpoint
          }
        });
      },
      get: function get(id) {
        // TODO: Fix this linter error if we keep this component
        var deferred = $q.defer(); // eslint-disable-line angular/deferred
        var dataSourceService = $injector.get('dlcuiDataSourceService');
        var Item = dataSourceService(this.endpoint + '/' + id, this.options);
        Item.all().then(function (data) {
          return deferred.resolve(angular.extend({}, data, individualMethods, {
            $dataSource: {
              _originalData: data,
              options: Item.options,
              endpoint: Item.endpoint
            }
          }));
        }, function (err) {
          return deferred.reject(err);
        });
        return deferred.promise;
      },
      query: function query(params, headers) {
        var request = {
          method: 'GET',
          url: this.endpoint
        };
        if (params || this.options.params) {
          request.params = angular.extend({}, this.options.params, params);
        }
        if (headers || this.options.headers) {
          request.headers = angular.extend({}, this.options.headers, headers);
        }
        return performHTTP(request);
      },
      all: function all() {
        return this.query();
      }
    };
    return angular.extend({}, object, collectionMethods);
  };
}]);
; /**
 * @ngdoc service
 * @name loadingService
 *
 * @module dlcui.controls
 * @src services/loading/loading.js
 * @controlType presentational
 *
 * @description The Loading Service allows for an easy way to let the user know when promises are deferred.
 *
 * When a promise is pushed to the Loading Service, the loading modal appears over content on the webpage.
 *
 * Once **all** promises are either resolved or rejected, the loading modal is hidden.
 *
 * The `cuiLoadingService` wraps an object that might be a value or a (3rd party) then-able promise, so you can provide it promises from outside of Angular.
 *
 * <h3>What if I don't have a promise?</h3>
 *
 * You can always wrap anything with a promise. For example:
 *
 * ```js
 * AppController = function(dlcuiLoadingService, $q) {
 *   var deferred = $q.defer()
 *
 *   dlcuiLoadingService(deferred.promise);
 *
 *   someAsyncTask(function callback(data) {
 *     // Doing something in the callback...
 *
 *     // Resolve the promise (doesn't matter if it resolves or rejects for cuiLoadingService's sake)
 *     deferred.resolve();
 *   })
 *
 * }
 * ```
 *
 * <h3>Spinner Colors</h3>
 *
 * By injecting the `dlcuiLoadingProvider` into a config block, you can configure the Loading Service Spinner color. For example:
 *
 * ```js
 * angular.module('app', ['cui'])
 *   .config(function(dlcuiLoadingProvider) {
 *     cuiLoadingProvider.spinnerColor = 'dark';
 *   });
 * ```
 *
 * See the [Spinner documentation](../../directive/spinner) for available color names.
 *
 * > Note: This will change the Spinner color for ALL calls to the Loading Service.
 *
 *   @example
 *   <h3>Timeout promises with dlcuiLoadingService (for demonstration):</h3>
 * <example name='loading'>
 *   <file name='index.html'>
 *     <cui-textbox ng-model='time' placeholder='Time (in ms)'></cui-textbox>
 *     <cui-button cui-type='primary' ng-click='vm.newTimeout(time)'>Push new timeout</cui-button>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope, $timeout, dlcuiLoadingService) {
 *         var vm = this;
 *         var timeouts = [];
 *
 *         vm.newTimeout = function(time) {
 *           var t = $timeout(angular.noop, time);
 *           timeouts.push(t);
 *           dlcuiLoadingService(t);
 *         }
 *       });
 *   </file>
 *   <file name='styles.css'>
 *     body {
 *       height: 400px;
 *     }
 *   </file>
 * </example>
 *
 * @example
 *   <h3>Dark Spinner:</h3>
 * <example name='loading'>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .config(function(dlcuiLoadingServiceProvider) {
 *         cuiLoadingServiceProvider.spinnerColor = 'dark'
 *       })
 *       .controller('AppCtrl', function($scope, $q, cuiLoadingService) {
 *         var deferred = $q.defer();
 *         dlcuiLoadingService(deferred.promise);
 *       });
 *   </file>
 *   <file name='styles.css'>
 *     body {
 *       height: 400px;
 *     }
 *   </file>
 * </example>
 */

/**
 * @ngdoc method
 * @name loadingService#
 * @param {promise|array} obj A promise or array of promises to push to the Loading Service.
 *
 * The following is a basic use case using the `cuiDataSourceService`:
 *
 * ```js
 * AppController = function(dlcuiLoading, dlcuiDataSourceService) {
 *   var endpoint = dlcuiDataSourceService('/api/servers')
 *   dlcuiLoading(endpoint.all().then(function(data) {
 *     // Display data to user
 *   }));
 * }
 * ```
*/

'use strict';




angular.module('dell.ngclarity.directives').provider('dlcuiLoadingService', function() {
  var _this = this;

  this.spinnerColor = 'primary';

  this.$get = ['$q', '$timeout', 'dlcuiBaseTemplatePath', 'dlcuiLoadingPromise', 'dlcuiModal', function ($q, $timeout, dlcuiBaseTemplatePath, dlcuiLoadingPromise, dlcuiModal) {
    var loadingScope = null,
        pushPromise = null;
    loadingScope = dlcuiModal({
      type: 'bare',
	  templateUrl: [dlcuiBaseTemplatePath, 'directives/core/loading/dlcuiloading.directive.html'].join(''),  
      className: 'dlcui-loading',
      backdrop: true,
      'static': true,
      keyboard: false
    });
    loadingScope.translationId = _this.translationId;
    loadingScope.spinnerColor = _this.spinnerColor;
    pushPromise = dlcuiLoadingPromise(function () {
      loadingScope.modal.hide();
    });
    return function (obj) {
      var timeoutPromise = null;
      pushPromise(obj);
      timeoutPromise = $timeout(function () {
        loadingScope.modal.show();
      });
      return $q.all(angular.isArray(obj) ? obj : [obj])['finally'](function () {
        $timeout.cancel(timeoutPromise);
      });
    };
  }];
});
;'use strict';
angular.module('dell.ngclarity.directives').factory('dlcuiLoadingPromise', ['$q', function($q) {
  var promises = [];

  return function (done) {
    var promiseUpdated = null,
        pushPromise = null;
    promiseUpdated = function (promise) {
      promises.splice(promises.indexOf(promise), 1);
      if (promises.length === 0) {
        done();
      }
    };
    pushPromise = function (promise) {
      promise = $q.when(promise).then(function () {
        promiseUpdated(promise);
      }, function () {
        promiseUpdated(promise);
      });
      promises.push(promise);
    };
    return function (obj) {
      if (angular.isArray(obj)) {
        angular.forEach(obj, function (promise) {
          pushPromise(promise);
        });
      } else {
        pushPromise(obj);
      }
    };
  };
}]);

;/**
 * @ngdoc directive
 * @name masthead
 * @module dlcui
 * @src directives/core/masthead/dlcuiMasthead.directive.js
 * @controlType actionable
 * @restrict E
 *
 * @param {string} applicationName The name of the application
 * @param {string} applicationHref Application href
 * @param {string} applicationLogo The application logo which can be an svg or font based icon name.
 * @param {boolean} pinMasthead True if the mast head is always pinned in the open state.
 * @param {boolean} showControls True to show the toolbar buttons and the user name with user actions.
 * @param {string} userName The name of the user that is currently logged in.
 * @param {Array=} userActions An array of user actions that are displayed under the user name.
 *
 * The following is an example of these user actions.
 *
 * ````javascript
 * $scope.userActions = [
 *    {
 *      label: 'Modify',    // The label to display
 *      execute: function() {   // The function to execute when the user clicks on the menu item
 *        alert('You clicked on Modify');     // An example and can be any required action or code.
 *      }
 *    },
 *    {
 *      label: 'Logout',
 *      execute: function() {
 *        $scope.userName = '';
 *      }
 *    }
 *  ];
 * ````
 *
 * @param {Array=} toolbarActions An array of actions that are displayed as toolbar actions within the toolbar area.
 *
 * The following example highlights the design,
 * ````javascript
 * $scope.toolbarActions = [
 *  {
 *    icon: '#ic_search',
 *    collapsedLabel: 'Search',
 *    execute: function() {
 *        alert('You clicked search');
 *      }
 *  },
 *  {
 *    icon: '#ic_alerts',
 *    collapsedLabel: 'List Items',
 *    execute: function() {
 *     alert('You clicked list items');
 *      }
 *  }
 *  ];
 * ````
 *
 * @description
 * The masthead is suitible for displaying a banner at the top of the page or appropriate container. It contains the
 * company logo as well as the name of the application and any and all addition top menu options.
 *
 * @example
 * <h3>Masthead With Application Frame</h3>
 * <example>
 *  <file name="index.html">
 *    <dlcui-masthead application-name="DLCUI Sample Application"
 *                  application-logo="#ic_logo"
 *                  application-href=""
 *                  pin-masthead="false"
 *                  show-controls="true"
 *                  user-name="userName"
 *                  user-actions="userActions"
 *                  toolbar-actions="toolbarActions">
 *    </dlcui-masthead>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *          $scope.click = function() {
 *              alert('You clicked a toolbar button!');
 *          };
 *
 *          $scope.userName = 'Administrator';
 *
 *          $scope.userActions = [
 *            {
 *              label: 'Modify',
 *              execute: function() {
 *                alert('You clicked on Modify');
 *              }
 *            },
 *            {
 *              label: 'Logout',
 *              execute: function() {
 *                $scope.userName = '';
 *              }
 *            }
 *          ];
 *
 *          $scope.toolbarActions = [
 *            {
 *              icon: '#ic_search',
 *              collapsedLabel: 'Search',
 *              execute: function() {
 *                alert('You clicked search');
 *              }
 *            },
 *            {
 *              icon: '#ic_alerts',
 *              collapsedLabel: 'List Items',
 *              execute: function() {
 *                alert('You clicked list items');
 *              }
 *            }
 *          ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *      padding: 0 !important;
 *      margin: 0;
 *    }
 *
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiMasthead', ['$window', '$templateCache', '$compile', 'dlcuiBaseTemplatePath', 'dlcuiApplicationFrameStates', 'DLCUI_MASTHEAD_EVENTS', function ($window,
                                      $templateCache,
                                      $compile,
                                      dlcuiBaseTemplatePath,
                                      dlcuiApplicationFrameStates,
                                      DLCUI_MASTHEAD_EVENTS) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        applicationName: '@',
        applicationHref: '@',
        applicationLogo: '@',
        pinMasthead: '=',
        showControls: '=',
        userName: '=',
        userActions: '=',
        toolbarActions: '='
      },
      templateUrl: [dlcuiBaseTemplatePath, 'dlcuiMasthead.directive.html'].join(''),
      link: function (scope) {
        scope.data = {
          states: dlcuiApplicationFrameStates
        };

        scope.actions = {
          openMasthead: function toggleMasthead() {
            scope.data.states.mastheadClosed = false;
            scope.data.states.currentMastheadStateClass = 'dlcui-masthead-open';
          },
          closeMasthead: function toggleMasthead() {
            if (!scope.data.states.scrolledToTop) {
              scope.data.states.mastheadClosed = true;
              scope.data.states.currentMastheadStateClass = 'dlcui-masthead-closed';
            }
          }
        };

        scope.$on(DLCUI_MASTHEAD_EVENTS.collapse, function (event, args) {
          if (!scope.data.states.mastheadClosed) {
            scope.$apply(function () {
              scope.data.states.mastheadClosed = true;
              scope.data.states.currentMastheadStateClass = 'dlcui-masthead-closed';
              if (args) {
                scope.data.states.scrolledToTop = args.scrolledToTop;
              }
            });
            scope.$emit(DLCUI_MASTHEAD_EVENTS.collapsed);
          }
        });
        scope.$on(DLCUI_MASTHEAD_EVENTS.expand, function (event, args) {
          if (scope.data.states.mastheadClosed) {
            scope.$apply(function () {
              scope.data.states.mastheadClosed = false;
              scope.data.states.currentMastheadStateClass = 'dlcui-masthead-open';
              if (args) {
                scope.data.states.scrolledToTop = args.scrolledToTop;
              }
            });
            scope.$emit(DLCUI_MASTHEAD_EVENTS.expanded);
          }
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_MASTHEAD_EVENTS', {
  collapse: 'dlcui:masthead:collapse',  // Send this event to collapse the masthead
  expand: 'dlcui:masthead:expand',      // Send this event to expand the masthead
  collapsed: 'dlcui:masthead:collapsed',  // Sent by the component when the masthead is collapsed
  expanded: 'dlcui:masthead:expanded'   // Sent by the component when the mast head is expanded
});
;/**
 * @ngdoc directive
 * @name mastheadScroll
 * @module ccc
 * @src directives/core/mastHead/cccMastheadScroll.directive.js
 * @restrict A
 *
 * @description
 * Attribute based directive that is added to any element to enable the system to monitor the scroll action and thus
 * open or close the masthead.
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('cccMastheadScroll', ['DLCUI_MASTHEAD_EVENTS', '$rootScope', function (DLCUI_MASTHEAD_EVENTS, $rootScope) {
    return {
      restrict: 'A',
      replace: false,
      link: function (scope, element) {
        // Bind the scroll event
        element.bind('scroll', function () {
          if (element[0].scrollTop >= 100) {
            $rootScope.$broadcast(DLCUI_MASTHEAD_EVENTS.collapse, {
              scrolledToTop: false
            });
          } else if (element[0].scrollTop <= 300) {
            $rootScope.$broadcast(DLCUI_MASTHEAD_EVENTS.expand, {
              scrolledToTop: true
            });
          }
        });
      }
    };
  }]);
; /**
 * @ngdoc directive
 * @name navigationList
 *
 * @description The Navigation List is used for primary navigation on the
 * page. It can have infinite levels, but only tabs up to five. We recommend
 * only up to two levels as a best practice.
 *
 * @module dlcui.controls
 * @src directives/helper/navigationList/navigationList.js
 * @controlType navigation
 *
 * @clarity The navigation list or side navigation defined in the Clarity 4 guidelines introduces a new state that is
 * not fully detailed. The CUI team made an attempt to update to the navigation list based on the available
 * guidelines, but it left more questions than answers. We will be meeting with the C4 team to gather more details on
 * how best to implement this component.
 *
 * Track the progress in [JIRA issue CUI2-1141](https://jira.labs.dell.com/browse/CUI2-1141).
 *
 * Track notes taken in the [meeting](https://wiki.labs.dell.com/pages/viewpage.action?pageId=99785455).
 *
 * @restrict E
 *
 * @param {array} items An array of node objects. Each node must
 * have a 'label' property, and optionally an array of nodes as the 'children'
 * property. Additionally, each node can have an 'href' and an 'icon'
 * (see dlcui.controls.icon) (we only recommend an icon on the toplevel nodes).
 *
 * [
 *   {
 *     label: 'Home',
 *     icon: 'house'
 *     children: [
 *       {
 *         label: 'A child'
 *       }
 *     ]
 *   }, {
 *     label: 'Logout',
 *     href: 'logout.php'
 *   }
 * ]
 *
 * @param {string=} persistAs A label of the navigation list to keep in sessionStorage. Only the expanded/collapsed state is saved. If the name or ordering of the nodes significantly changes between the cache and new list, the state(s) are not kept.
 *
 * If persistAs is falsy, the state is not kept upon refreshing.
 *
 * @param {boolean=} watchLocation If true, the navigation list will watch for an Angular $locationChangeStart and update the selected item if it finds a matching href. It will also check and select the appropriate node on page population (load)
 *
 * @example
 * <h3>Basic navigation list</h3>
 * <p>Close 'settings', open 'jobs', select something, and finally refresh the page to see persistance of 'jobs' open state and 'kernel' reselected (as well as menus containing being opened). This is due to location-change-start looking on page load and seeing the current page url match the href of 'kernel'.</p>
 * <example name='navigationList'>
 *   <file name='index.html'>
 *     <dlcui-navigation-list items="treeFamily" persist-as="my-example" watch-location=true></dlcui-navigation-list>
 *   </file>
 *
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($scope) {
 *         $scope.treeFamily = [{
 *           label: "Home",
 *           icon: "home"
 *         },{
 *           label: "Services and tasks to do for this step",
 *           icon: "tasks"
 *         },{
 *           label: "Profiles",
 *           icon: "user"
 *         },{
 *           label: "Templates",
 *           icon: "tags"
 *         },{
 *           label: "Devices",
 *           icon: "laptop"
 *         },{
 *           label: "Jobs",
 *           icon: "refresh",
 *           children: [{
 *             label: "Defrag"
 *           },{
 *             label: "Convert"
 *           }]
 *         },{
 *           label: "Settings",
 *           icon: "cog",
 *           children: [{
 *             label: "Users"
 *           },{
 *             label: "Appliance Management for the user portal"
 *           },{
 *             label: "Advanced",
 *             children: [{
 *               label: "Console"
 *             },{
 *               label: "Logs"
 *             },{
 *               label: "Kernel",
 *               href: "about:blank" // Since we're in an iframe, this is the url...
 *             }]
 *           }]
 *         }]
 *       })
 *   </file>
 *   <file name='styles.css'>
 *     .dlcui-navigation-list {
 *       width: 200px
 *     }
 *   </file>
 * </example>
 */

// The start of the list -- passed an array, which is different than the recursive directive (dlcuiNavigationListItem)
'use strict';



angular.module('dell.ngclarity.directives').directive('dlcuiNavigationMenuList', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  controller.$inject = ['$scope', '$location'];
  function controller($scope, $location) {
    var nodes = $scope.nodes = []; /* eslint prefer-const:0 */

    var selectNode = function selectNode(node) {
      // Go through each in order to be sure only one is selected
      if (node.items.href || !node.items.children || node.items.children.length === 0) {
        angular.forEach(nodes, function (n) {
          n.items.active = false;
        });
        node.items.active = true;
        // Bubble up expanding menus
        var parentScope = node;
        while (!angular.isArray(parentScope.items)) {
          parentScope = parentScope.$parent.$parent;
          parentScope.items.visible = true;
        }
      }
    };

    if ($scope.watchLocation) {
      $scope.$on('$locationChangeStart', function (o, next) {
        for (var i = 0; i < nodes.length; i++) {
          if (nodes[i].items.href && next.indexOf(nodes[i].items.href) !== -1) {
            selectNode(nodes[i]);
          }
        }
      });
    }

    this.addNode = function (node) {
      nodes.push(node);

      // When adding (usually loading page), check if should be selected
      if ($scope.watchLocation) {
        if (node.items.href && decodeURIComponent($location.absUrl()).indexOf(node.items.href) !== -1) {
          selectNode(node);
        }
      }
    };

    // Expose to the world
    this.selectNode = selectNode;

    this.saveStates = function () {
      if ($scope.persistAs) {
        sessionStorage.setItem('dlcui-' + $scope.persistAs, angular.toJson($scope.items));
      }
    };

    var mergeItems = function mergeItems(dest, src) {
      // The labels of the cached entry are the same before overwriting
      if (dest.label && src.label && dest.label === src.label) {
        // Do not overwrite a preset visible property with the cached one
        if (!dest.visible && src.visible) {
          dest.visible = src.visible;
        }

        if (dest.children && src.children) {
          for (var i = 0; i < dest.children.length; i++) {
            if (src.children[i]) {
              // Make sure exists
              mergeItems(dest.children[i], src.children[i]);
            }
          }
        }
      }
    };

    var loadStates = function loadStates() {
      var itemsOld = angular.fromJson(sessionStorage.getItem('dlcui-' + $scope.persistAs));

      if ($scope.items && itemsOld) {
        for (var i = 0; i < $scope.items.length; i++) {
          if (itemsOld[i]) {
            mergeItems($scope.items[i], itemsOld[i]);
          }
        }
      }
    };

    if ($scope.persistAs) {
      loadStates();
    }

    return this;
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/core/navigationMenuList/dlcuiNavigationMenuList.directive.html'].join(''),
    restrict: 'E',
    scope: {
      items: '=',
      persistAs: '@',
      watchLocation: '@'
    },
    controller: controller
  };
}]);
;angular.module('dell.ngclarity.directives').directive('dlcuiNavigationMenuListItem',['$compile', 'dlcuiBaseTemplatePath', function ($compile,dlcuiBaseTemplatePath) {
  function compile(tElement) {
    // Recursive compilation until no children are remaining (leaf)
    // This is a generic recursive angular implementation (TODO: extract?)
    var contents = tElement.contents().remove();
    var compiledContents = null;

    return function (scope, iElement, iAttr, dlcuiNavigationMenuListController) {
      if (!compiledContents) {
        compiledContents = $compile(contents);
      }

      compiledContents(scope, function (clone) {
        iElement.append(clone);
      });
      dlcuiNavigationMenuListController.addNode(scope);

      scope.collapsed = !scope.items.visible;
      scope.$watch('items.visible', function (v) {
        if (v) {
          scope.collapsed = false;
        }
        dlcuiNavigationMenuListController.saveStates();
      });
      scope.$on('dlcui:collapse:collapsed', function (e) {
        e.stopPropagation();
		e.preventDefault();
        scope.collapsed = true;
      });
      scope.$on('dlcui:collapse:expanded', function (e) {
        e.stopPropagation();
		e.preventDefault();
      });

      scope.showTab = function () {
		  
        if (scope.items.children && scope.items.children.length > 0) {
          scope.items.visible = !scope.items.visible;
        } else {
          scope.$emit('dlcui:navigationList:itemClick', scope.items);
        }
        dlcuiNavigationMenuListController.selectNode(scope);
      };
    };
  }

  return {
     templateUrl: [dlcuiBaseTemplatePath, 'directives/core/navigationMenuList/dlcuiNavigationMenuListItem.directive.html'].join(''),
    restrict: 'E',
    require: '^dlcuiNavigationMenuList',
    scope: {
      items: '=',
      toplevel: '@' // Internally used to do custom styling on topmost stuff
    },
    compile: compile
  };
}] );
;/**
 *  @ngdoc directive
 *  @name navigationPage
 *
 *  @description The Navigation Page is used for primary navigation any list...
 *
 *  @module dlcui
 *  @src core/navigationPage/navigationPage.directive.js
 *  @controlType navigation
 *
 *  @restrict E
 *
 * ```javascript
 *  ```
 *
 *  @example
 *  <h3>Basic navigation page</h3>
 *  <example name='navigationPage'>
 *  <file name='index.html'>
 *      <label class="btn-label">Enabled:&nbsp;<input type="checkbox" ng-model="model.enabled"></label>
 *      <dlcui-navigation-page
 *        ng-model="model.value"
 *        options="model.options"
 *        sets="model.sets"
 *        on-forward="onForward(page)"
 *        on-backward="onBackward(page)"
 *        ng-disabled="!model.enabled">
 *      </dlcui-navigation-page>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope) {
 *
 *      $scope.model = {
 *       enabled: true,
 *       value: 1,
 *        sets: 2,
 *        options: {
 *         placeholder: 'Page',
 *         width: '200px'
 *        }
 *      };
 *      $scope.onForward = function (page) {
 *       console.log('onForward():', page);
 *      };
 *      $scope.onBackward = function (page) {
 *        console.log('onBackward():', page);
 *      };
 *
 *    });
 *  </file>
 *  <file name='styles.css'>
 *
 *    body {
 *      height: 200px;
 *    }
 *    .btn-label {
 *      display: block;
 *      padding-bottom: 20px;
 *    }
 *
 *    .btn-label::after {
 *      clear: both;
 *    }
 *  </file>
 *</example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiNavigationPage',
    ['$timeout',
      '$templateCache',
      '$compile',
      function ($timeout,
                $templateCache,
                $compile) {
        return {
          restrict: 'E',
          replace: true,
          scope: {
            model: '=ngModel',
            options: '=',
            sets: '=',
            onForward: '&onForward',
            onBackward: '&onBackward',
            disabled: '=ngDisabled'
          },
          link: function (scope, element) {
            //
            // Load the template into this directive/element
            //
            angular.element(element).html($templateCache.get('ngclarity/directives/core/core/navigationPage/dlcuiNavigationPage.directive.html'));
            //
            // Compile the contents
            //
            $compile(angular.element(element).contents())(scope);
            //
            // Bind Event Handlers
            //
            $timeout(function() {
              scope.pagination.back.getElementById(element).on('click', function() {
                $timeout(function() {
                  scope.click().onPage().onBack();
                }, 5);
              });
              scope.pagination.forward.getElementById(element).on('click', function() {
                scope.click().onPage().onForward();
              });
            }, 10);
          },
          controller: ['$scope', function($scope) {
            //
            // Set Default Options
            //
            $scope.options = $.extend(true, {}, {
              width: '100%',
              visible: true
            }, $scope.options);
            //
            // Set Default Options
            //
            $scope.inputOptions = {
              placeholder: 'Pg',
              width: '45px',
              type: 'numeric',
              hide: true
            };
            //
            // Model Element
            //
            $scope.navigation = new DLCUI.Model.Html.Base({
              style: {
                width: $scope.options.width
              },
              visible: $scope.options.visible
            });
            $scope.pagination = new DLCUI.Model.Html.Pagination({
              enabled: $scope.sets === 1
            });
            //
            // Watch: disabled
            //
            $scope.$watch('disabled', function (value) {
              $timeout(function() {
                if (dlcui.isDefined(value)) {
                  $scope.navigation.enabled = !value;
                  $scope.pagination.enabled = !value;
                }
              }, 2);
            });
            //
            // Function: validatePage()
            //
            $scope.validatePage = function(value) {
              if (dlcui.isNumeric(value)) {
                return (parseInt(value, 10) >= 1 && parseInt(value, 10) <= $scope.sets);
              }
              return false;
            };
            //
            // Function: onClick()
            //
            $scope.click = function() {
              return {
                onPage: function() {
                  return {
                    onBack: function() {
                      $timeout(function() {
                        var id = (parseInt($scope.model, 10) - 1).toString();
                        if ($scope.validatePage(id)) {
                          $scope.model = (parseInt($scope.model, 10) - 1).toString();
                        } else {
                          $scope.model = $scope.sets.toString();
                        }
                        if (dlcui.isFunction($scope.onBackward)) {
                          $scope.onBackward({ value: $scope.model });
                        }
                      }, 2);
                    },
                    onForward: function() {
                      $timeout(function() {
                        var id = (parseInt($scope.model, 10) + 1).toString();
                        if ($scope.validatePage(id)) {
                          $scope.model = (parseInt($scope.model, 10) + 1).toString();
                        } else {
                          $scope.model = '1';
                        }

                        if (dlcui.isFunction($scope.onForward)) {
                          $scope.onForward({ value: $scope.model });
                        }
                      }, 2);
                    }
                  };
                }
              };
            };
          }]
        };
      }]);
;/**
*   @ngdoc directive
*   @name spinner
*
*   @description The Spinner loads a loading spinner based on size and color specifications.
*
*   @module dlcui.controls
*   @src directives/output/spinner/spinner.js
*   @controlType presentational
*
*   @restrict E
*
*   @param {string=} size CSS property for height and width. Can be in terms of `px`, `%`, `em`, etc.
*   @param {string=} color Sets the color for the spinner. Default is Dell blue.
*
*   Options:
*   * `light`
*   * `dark`
*
*   @example
*   <h3>Inline Spinner</h3>
* <example name='inlineSpinner'>
*   <file name='index.html'>
*     <h2>
*       ♪
*       <em>Like a record, baby, right round round round</em>
*       ♫
*       <dlcui-spinner></dlcui-spinner>
*     </h2>
*   </file>
*   <file name='app.js'>
*     angular.module('app', ['cui'])
*       .controller('AppCtrl', function() {})
*  </file>
* </example>
*
*   @example
*   <h3>Other spinners on different backgrounds</h3>
* <example name='otherSpinners'>
*   <file name='index.html'>
*     <div class='blue'>
*       <dldlcui-spinner size='32px' color='light'></dldlcui-spinner>
*     </div>
*     <dldlcui-spinner size='32px' color='dark'></dldlcui-spinner>
*   </file>
*   <file name='app.js'>
*     angular.module('app', ['cui'])
*       .controller('AppCtrl', function() {})
*   </file>
*   <file name='styles.css'>
*     .blue {
*       background-color: #0085c3;
*       padding: 25px;
*       margin-right: 25px;
*       display: inline-block;
*     }
*   </file>
* </example>
*/

'use strict';



angular.module('dell.ngclarity.directives').directive('dlcuiSpinner', function() {
  function link(scope, element) {
    element.addClass('dlcux-spinner');

    if (scope.color !== null) {
      element.addClass('dlcux-spinner--' + scope.color);
    }

    if (scope.size != null) {
      element.css({
        height: scope.size,
        width: scope.size
      });
    }
  }
  return {
    restrict: 'EA',
    scope: {
      size: '@',
      color: '@'
    },
    link: link
  };
});;/**
 * @ngdoc directive
 * @name tree
 * @module dlcui
 * @src directives/core/tree/dlcuiTree.directive.js
 * @restrict E
 * @controlType navigation
 *
 * @description
 * Element based directive that is used to represent a tree.
 *
 * <b>Under Construction: This component is not ready for consumption and was added to support hierarchy component.</b>
 *
 * @example
 * <h3>Tree Component</h3>
 *
 * <example name="treeBasic">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-tree options="options" on-node-selected="onNodeSelected(id, label)">
 *      </dlcui-tree>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.onNodeSelected = function(id, label) {
 *          $scope.message = 'Node \'' + label + '\' was selected.';
 *        };
 *
 *        $scope.options = {
 *          data: [
 *            {
 *              id: 0,
 *              label: 'Root Node',
 *              children: [
 *                {
 *                  id: 2,
 *                  label: 'First Leaf',
 *                  children: [
 *                    {
 *                      id: 3,
 *                      label: 'Second Leaf'
 *                    }
 *                  ]
 *                }
 *              ]
 *            },
 *            {
 *              id: 4,
 *              label: 'Root Node Level 2',
 *              children: [
 *                {
 *                  id: 5,
 *                  label: 'First Leaf'
 *                }
 *              ]
 *            }
 *          ]
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Tree Component With Template</h3>
 *
 * <example name="treeBasicWithTemplate">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-tree options="options">
 *      </dlcui-tree>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          data: [
 *            {
 *              id: 0,
 *              label: 'Root Node',
 *              children: [
 *                {
 *                  id: 1,
 *                  label: 'First Leaf',
 *                  children: [
 *                    {
 *                      id: 2,
 *                      text: 'Second Leaf as a Template',
 *                      templateUrl: 'nodeItem.template.html'
 *                    }
 *                  ]
 *                }
 *              ]
 *            },
 *            {
 *              id: 3,
 *              label: 'Root Node Level 2',
 *              children: [
 *                {
 *                  id: 4,
 *                  text: 'This is a template',
 *                  templateUrl: 'nodeItem.template.html'
 *                }
 *              ]
 *            }
 *          ]
 *        };
 *      });
 *  </file>
 *  <file name="nodeItem.template.html">
 *    <div class="dlcui-test-example-item-one">
 *        <b>Level {{node.$level}}, Index {{node.$index}}:</b> <i>{{node.text}}</i>
 *    </div>
 *  </file>
 *  <file name="nodeItem.css">
 *    .dlcui-test-example-item-one {
 *      box-shadow: 0 2px 3px 0 rgba(0, 0, 0, .5);
 *      border: 1px solid #222222;
 *      padding: 5px;
 *    }
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Tree Component With Empty Template</h3>
 *
 * <example name="treeBasicWithEmptyTemplate">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-tree options="options">
 *      </dlcui-tree>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          data: null,
 *          emptyTemplateUrl: 'empty.template.html'
 *        };
 *      });
 *  </file>
 *  <file name="empty.template.html">
 *    <h1>I am empty</h1>
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiTree', ['$templateCache', 'dlcuiTemplate', '$window', function ($templateCache, dlcuiTemplate, $window) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        disabled: '=?ngDisabled',
        options: '=',
        selectedNode: '=?',
        onNodeSelected: '&'
      },
	  template: function() {
		return $templateCache.get('ngclarity/directives/core/tree/dlcuiTree.directive.html');
		},
      controller: ['$scope', function($scope) {
        // TODO Add the expand/collapse icons but make icon configurable for hierachical chart
        // TODO Add the ability to disable expand/collapse to it is is always expanded but we could still show icons
        // TODO Add support for the node.execute like I did with navigation tabs but should I make it look similar
        /**
         * Called by a leaf node when a user clicks on it.
         * @param {!Object} node The associated node data object.
         */
        this.onNodeClicked = function (node) {
          dlcui.assertObject(node);

          $scope.selectNodeAndExecute(node);
        };

        /**
         * Returns true if the node is selected
         * @param {!Object} node The node to validate.
         * @returns {boolean} True if selected.
         */
        this.isNodeSelected = function (node) {
          dlcui.assertObject(node);

          return $scope.uiSelectedNode && node && node.$level === $scope.uiSelectedNode.$level &&
            node.$index === $scope.uiSelectedNode.$index;
        };

        /**
         * Returns the main options
         * @returns {!Object} Main tree options object.
         */
        this.getOptions = function () {
          return $scope.options;
        };

        /**
         * Returns the container scope value.
         * @returns {!$scope} The container scope.
         */
        this.getContainerScope = function () {
          return $scope.$container;
        };
      }],
      link: function (scope) {
        /**
         * Assigns the level and index properties to each node for identification
         * @param {!Array} nodes Collection of node objects
         * @param {?Number=} optRootIndex The current root index
         * @param {?Number=} optLevel The current level for recursive calling
         */
        function assignLevelIdentifiers(nodes, optRootIndex, optLevel) {
          var level = optLevel || 0;
          var index = 0;
          var increaseRootIndex = !dlcui.isNumber(optRootIndex);
          var rootIndex = optRootIndex || 0;

          angular.forEach(nodes, function(node) {
            node.$level = level;
            node.$index = index;
            node.$rootIndex = rootIndex;
            index++;
            if (increaseRootIndex) {
              rootIndex++;
            }
            if (dlcui.isArrayWithLength(node.children)) {
              assignLevelIdentifiers(node.children, node.$rootIndex, level + 1);
            }
          });
        }

        /**
         * Selects the specified node and un-selects all the other nodes
         * @param {!Object} node The node to select
         * @private
         */
        function selectNode(node) {
          if (dlcui.isStringWithLength(node.href)) {
            $window.location.href = node.href;
          }
          scope.uiSelectedNode = node;
          scope.options.selectedNode = node.id;
        }

        /**
         * Determines the result type and uses that to call the specified callback with true or false.
         * @param {*} result The result of the function execution.
         * @param {!Function} handlerFn The function to call with the result.
         * @private
         */
        function handleResult(result, handlerFn) {
          if (dlcui.isObject(result) && dlcui.isFunction(result.then)) {
            result.then(function () {
              handlerFn(true);
            }, function () {
              handlerFn(false);
            });
          } else {
            handlerFn(result);
          }
        }

        /**
         * Can be used by the item templates to access the parent.
         */
        scope.$container = scope.options.containerScope || scope.$parent;

        /**
         * Called to select a specific node and execute the associated call-backs.
         * @param {!Object} node The associated node been selected.
         * @returns {!Boolean} True if the node execution returned a positive value.
         */
        scope.selectNodeAndExecute = function (node) {
          if (node) {
            if (scope.uiSelectedNode && node.$level === scope.uiSelectedNode.$level &&
              node.$index === scope.uiSelectedNode.$index && node.$rootIndex === scope.uiSelectedNode.$rootIndex) {
              return false;
            }

            var results = true;
            handleResult(scope.onNodeSelected({
              id: node.id,
              label: node.label
            }), function (result) {
              if (dlcui.isBoolean(result) && !result) {
                results = false;
              } else if (dlcui.isFunction(node.execute)) {
                handleResult(node.execute(), function (result) {
                  if (result) {
                    selectNode(node);
                  } else {
                    results = false;
                  }
                });
              } else {
                selectNode(node);
              }
            });

            return results;
          }

          return false;
        };

        /**
         * Finds the nodes based on its id and selects the id
         * @param {!String} id The id to locate.
         * @private
         */
        function selectNodeUsingId(id) {
          if (id) {
            angular.forEach(scope.options.data, function (node) {
              if (node.id === id) {
                scope.selectNodeAndExecute(node);
              }
            });
          }
        }

        /**
         * Returns the template to use if there is no data.
         * @returns {String|null} The template url to use.
         */
        scope.getEmptyTemplateUrl = function() {
          return dlcuiTemplate.convertTemplateToUrl(scope.options, 'emptyTemplateUrl', 'emptyTemplate', scope);
        };

        scope.$watch('options.data', function(newValue) {
          if (dlcui.isArrayWithLength(newValue)) {
            assignLevelIdentifiers(scope.options.data);
            selectNodeUsingId(scope.options.selectedNode);
          }
        });
      }
    };
  }]);

;angular.module('dell.ngclarity.directives')
  .directive('dlcuiTreeNode', ['$templateCache', 'dlcuiTemplate', 'dlcuiBaseTemplatePath', function ($templateCache, dlcuiTemplate,dlcuiBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      require: '^dlcuiTree',
      scope: {
        node: '='
      },
	  template: function() {
		return $templateCache.get('ngclarity/directives/core/tree/dlcuiTreeNode.directive.html');
		},
      link: function (scope, element, attrs, dlcuiTreeCtrl) {
        /**
         * Template to be used for the children.
         * @type {string}
         */
        //scope.childrenTemplate = $templateCache.get('ngclarity/directives/core/tree/dlcuiTreeNodeChildren.template.html');
		scope.childrenTemplate = [dlcuiBaseTemplatePath, 'directives/core/tree/dlcuiTreeNodeChildren.template.html'].join('');
        /**
         * Used within the template to access the container scope.
         * @type {!$scope}
         */
        scope.$container = dlcuiTreeCtrl.getContainerScope();

        /**
         * Returns true if the node is using a template
         * @returns {boolean} True if this is a template node.
         */
        scope.isTemplate = function () {
          return dlcui.isStringWithLength(scope.getTemplateUrl());
        };

        /**
         * Returns the correct template url to use for the specified card.
         * @returns {!String} The template url.
         */
        scope.getTemplateUrl = function() {
          var templateUrl = dlcuiTemplate.convertTemplateToUrl(dlcuiTreeCtrl.getOptions(),
            'templateUrl', 'template', scope);
          if (!dlcui.isStringWithLength(templateUrl)) {
            templateUrl = dlcuiTemplate.convertTemplateToUrl(scope.node, 'templateUrl', 'template', scope);
          }
          return templateUrl;
        };

        /**
         * Called When the user clicks on a node.
         */
        scope.onNodeClicked = function () {
          dlcuiTreeCtrl.onNodeClicked(scope.node);
        };

        /**
         * Returns true if the node is selected
         * @returns {boolean} true if selected.
         */
        scope.isNodeSelected = function () {
          return dlcuiTreeCtrl.isNodeSelected(scope.node);
        };

        scope.getClasses = function () {
          var classes = [
            dlcui.formatString('dlcui-tree-level-{{level}}', {
              level: scope.node.$level
            }),
            dlcui.formatString('dlcui-tree-index-{{index}}', {
              level: scope.node.$index
            })
          ];
          if (dlcui.isArrayWithLength(scope.node.children)) {
            classes.push('dlcui-parent-node');
          } else {
            classes.push('dlcui-leaf-node');
          }

          return classes;
        };
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiTreeNodeContainer', ['$templateCache', function ($templateCache) {
    return {
      restrict: 'E',
      replace: true,
      require: '^dlcuiTree',
      scope: {
        nodes: '='
      },
	  template: function() {
		return $templateCache.get('ngclarity/directives/core/tree/dlcuiTreeNodeContainer.directive.html');
		},
      link: function () {
      }
    };
  }]);

;/**
 * @ngdoc directive
 * @name graph
 *
 * @description Graphs are primary used for dispaying topoliges.
 *
 * Network Topology Graphs are to be shown using only specific input JSONs
 *
 * <h3>Graphs</h3>
 *
 * - `dlcui:alert:dismiss`: listened for to close the alert nicely (with animation).
 * - `dlcui:alert:dismissed`: emitted after the alert is dismissed (after animation, right before `$destroy`ed and
 * removed from the DOM).
 *
 * @module dlcui.graphs
 * @src directives/output/graphs/graphs.js
 * @controlType presentational
 *
 * @restrict E
 * @transclude Graph
 *
 * @param {object=} Input JSON for data.
 *
 * @example
 * <h3>Basic Graph</h3>
 * <example name="graph">
 *   <file name="index.html">
 *     <dlcui-graph></dlcui-graph>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 */

'use strict';





angular.module('dell.ngclarity.directives').directive('dlcuiGraph', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
	var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();
  
  function link(scope, element) {
    var treeData = scope.treedata;

   /* {
          "name": "flare",
          "children": [{
              "name": "analytics",
              "coupling_id": 1
          }, {
              "name": "animate",
              "children": []
          }, {
              "name": "data",
              "children": []
          }, {
              "name": "display",
              "children": []
          }, {
              "name": "flex",
              "children": []
          }, {
              "name": "physics",
              "children": []
          }, {
              "name": "query",
              "children": []
          }, {
              "name": "scale",
              "children": []
          }, {
              "name": "util",
              "children": []
          }, {
              "name": "vis",
              "children": []
          }]
      };*/

      // set the dimensions and margins of the diagram
      var margin = {top: 40, right: 90, bottom: 50, left: 90},
          width = 1024 - margin.left - margin.right,
          height = 500 - margin.top - margin.bottom;

      // declares a tree layout and assigns the size
      var treemap = d3.tree()
          .size([width, height]);

      //  assigns the data to a hierarchy using parent-child relationships
      var nodes = d3.hierarchy(treeData);

      // maps the node data to the tree layout
      nodes = treemap(nodes);

      // append the svg obgect to the body of the page
      // appends a 'group' element to 'svg'
      // moves the 'group' element to the top left margin
      var svg = d3.select(element[0]).append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom),
          g = svg.append("g")
            .attr("transform",
                  "translate(" + margin.left + "," + margin.top + ")");

      // adds the links between the nodes
      var link = g.selectAll(".link")
          .data( nodes.descendants().slice(1))
        .enter().append("path")
          .attr("class", "link")
          .attr("d", function(d) {
             return "M" + d.x + "," + d.y
               + "C" + d.x + "," + (d.y + d.parent.y) / 2
               + " " + d.parent.x + "," +  (d.y + d.parent.y) / 2
               + " " + d.parent.x + "," + d.parent.y;
             });

      // adds each node as a group
      var node = g.selectAll(".node")
          .data(nodes.descendants())
        .enter().append("g")
          .attr("class", function(d) { 
            return "node" + 
              (d.children ? " node--internal" : " node--leaf"); })
          .attr("transform", function(d) { 
            var x = parseInt(d.x) - 45, y = parseInt(d.y) - 45;
            return "translate(" + x + "," +   y + ")"; });
      var image = {
        'type1':'images/osa_server_database.png',
        'type2':'images/osa_server_application.png',
        'type3':'images/osa_server_distribution.png',
        'node':'images/osa_server.png'
      }
      // adds the circle to the node
      node.append("image")
       .attr('xlink:href',function(d){ 
          if(!d.data.type)
            d.data.type = 'node';
          return image[d.data.type]
        })
       .attr("width", 90)
       .attr("height", 90)
       .on("contextmenu",function() {
        alert( "Handler for .contextmenu() called." );
      })

      scope.drag = false;
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/graphs/dlcuiGraph.directive.html'].join(''),
    restrict: 'EA',
    transclude: true,
    // No replace! It messes up addClass and other things...
    scope: {
      dlcuiType: '@',
      destroyAfter: '@',
      icon: '@',
      label: '@'
    },
    link: link
  };
}]);;
angular.module('dell.ngclarity.directives').service('dlcuiGraphUtils', function() {
  var _this = this;

  this.dummyFunction = function(){
    return "I DO NOTHING";
  }
  
  return this;
});;/**
 * @ngdoc directive
 * @name horizontalSlider
 * @module dlcui
 * @src directives/helper/animation/dlcuiHorizontalSlider.directive.js
 * @controlType foundational
 * @restrict E
 *
 * @param {boolean} open This accepts 'true' or 'false' to open or close the drag source and uses two way binding.
 * @param {boolean=} animatePosition Animate the position of the contents so it appears to slide in and out as the
 * width changes.
 * @param {number=} collapseTo The minimum height that the slider collapses too and is a integer measured in px.
 * @param {string|number=} height The height to fix the container at and the default is auto-size based on contents.
 * @param {string|number=} width The width to fix the container at and the default is auto-size based on contents.
 *
 * @description
 * Element based directive that allows the contents to be animated.
 *
 * @example
 * <h3>Horizontal Slider</h3>
 * <example>
 *  <file name='index.html'>
 *    <p>
 *      Open: <input type="checkbox" name="disabled" ng-model="open">
 *    </p>
 *    <dlcui-horizontal-slider slide-open="open">
 *      <div class="block">
 *        <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *        in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *        Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *        Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *        quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *      </div>
 *    </dlcui-horizontal-slider>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope) {
 *        $scope.open = false;
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 450px;
 *    }
 *    .block {
 *      border: 1px solid grey;
 *      padding: 5px;
 *      display: inline-block;
 *      height: 200px;
 *      width: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Horizontal Slider Animate Position</h3>
 * <example>
 *  <file name='index.html'>
 *    <p>
 *      Open: <input type="checkbox" name="disabled" ng-model="open">
 *    </p>
 *    <dlcui-horizontal-slider slide-open="open" animate-position="true">
 *      <div class="block">
 *        <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *        in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *        Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *        Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *        quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *      </div>
 *    </dlcui-horizontal-slider>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope) {
 *        $scope.open = false;
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 450px;
 *    }
 *    .block {
 *      border: 1px solid grey;
 *      padding: 5px;
 *      display: inline-block;
 *      height: 200px;
 *      width: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Horizontal slider collapses to 50</h3>
 * <example>
 *  <file name='index.html'>
 *    <p>
 *      Open: <input type="checkbox" name="disabled" ng-model="open">
 *    </p>
 *    <dlcui-horizontal-slider slide-open="open" collapse-to="50" animate-position="true">
 *      <div class="block">
 *        <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *        in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *        Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *        Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *        quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *      </div>
 *    </dlcui-horizontal-slider>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope) {
 *        $scope.open = false;
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 450px;
 *    }
 *    .block {
 *      border: 1px solid grey;
 *      padding: 5px;
 *      display: inline-block;
 *      height: 200px;
 *      width: 500px;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiHorizontalSlider', ['$templateCache', function ($templateCache) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        slideOpen: '=',
        animatePosition: '@',
        collapseTo: '@',
        height: '@',
        width: '@'
      },
      //templateUrl: [dlcuiBaseTemplatePath, 'dlcuiHorizontalSlider.directive.html'].join(''),
      template: function() {
		 return $templateCache.get('ngclarity/directives/helper/animation/dlcuiHorizontalSlider.directive.html')
	  },
      transclude: true,
      link: function (scope, element) {
        /**
         * Width of the contents area
         */
        var _width = scope.width ? element.width() : element.find('.dlcui-slider-contents').width();

        /**
         * Opens the horizontal slider.
         * @private
         */
        function _openSlider() {
          element.css({
            height: scope.height || 'auto',
            maxWidth: _width + 100,
            width: scope.width || 'auto'
          });
          element.find('.dlcui-slider-contents').css({
            height: scope.height ? '100%' : 'auto',
            left: '0',
            width: scope.width ? '100%' : 'auto'
          });
        }

        /**
         * Closes the horizontal slider
         * @private
         */
        function _closeSlider() {
          _width = scope.width ? element.width() : element.find('.dlcui-slider-contents').width();
          var collapseTo = parseInt(scope.collapseTo, 10) || 0;
          var left = 0;
          element.css({
            height: scope.height,
            maxWidth: collapseTo,
            width: scope.width
          });
          if (scope.animatePosition === 'true') {
            left = collapseTo - _width;
          }
          element.find('.dlcui-slider-contents').css({
            height: 'auto',
            left: left,
            width: 'auto'
          });
        }

        // Check to see of the item is open or closed
        scope.$watch('slideOpen', function (newValue) {
          if (newValue) {
            _openSlider();
          } else {
            _closeSlider();
          }
        });
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name verticalSlider
 * @module dlcui
 * @src directives/helper/animation/dlcuiVerticalSlider.directive.js
 * @controlType foundational
 * @restrict E
 *
 * @param {boolean} open This accepts 'true' or 'false' to open or close the drag source and uses two way binding.
 * @param {boolean=} animatePosition Animate the position of the contents so it appears to slide in and out as the
 * height changes.
 * @param {number=} collapseTo The minimum height that the slider collapses too and is a integer measured in px.
 * @param {string|number=} height The height to fix the container at and the default is auto-size based on contents.
 * @param {string|number=} width The width to fix the container at and the default is auto-size based on contents.
 *
 * @description
 * Elemeent based directive that allows the contents to be animated.
 *
 * @example
 * <h3>Vertical Slider Collapses to 0</h3>
 * <example>
 *  <file name='index.html'>
 *    <p>
 *      Open: <input type="checkbox" name="disabled" ng-model="open">
 *    </p>
 *    <dlcui-vertical-slider slide-open="open">
 *      <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *      in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *      Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *      Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *      quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *      <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *      Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *      meatloaf nisi.
 *      Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *      Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *      officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    </dlcui-vertical-slider>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope) {
 *        $scope.open = false;
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 450px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Vertical Slider Collapses to 0 with position animation</h3>
 * <example>
 *  <file name='index.html'>
 *    <p>
 *      Open: <input type="checkbox" name="disabled" ng-model="open">
 *    </p>
 *    <dlcui-vertical-slider slide-open="open" animate-position="true">
 *      <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *      in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *      Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *      Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *      quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *      <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *      Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *      meatloaf nisi.
 *      Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *      Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *      officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    </dlcui-vertical-slider>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope) {
 *        $scope.open = false;
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 450px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Vertical Slider Collapses to 50px and animate position</h3>
 * <example>
 *  <file name='index.html'>
 *    <p>
 *      Open: <input type="checkbox" name="disabled" ng-model="open">
 *    </p>
 *    <dlcui-vertical-slider slide-open="open" collapse-to="50" animate-position="true">
 *      <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam
 *      in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *      Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *      Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *      quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *      <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *      Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon
 *      meatloaf nisi.
 *      Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *      Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *      officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    </dlcui-vertical-slider>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope) {
 *        $scope.open = false;
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 450px;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiVerticalSlider', ['dlcuiBaseTemplatePath', '$templateCache', function (dlcuiBaseTemplatePath,$templateCache) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        slideOpen: '=',
        animatePosition: '@',
        collapseTo: '@',
        height: '@',
        width: '@'
      },
      //templateUrl: [dlcuiBaseTemplatePath, 'dlcuiVerticalSlider.directive.html'].join(''),
	  template: function() { 
			return $templateCache.get('ngclarity/directives/helper/animation/dlcuiVerticalSlider.directive.html') 
	 },
      transclude: true,
      link: function (scope, element) {
        /**
         * Height of the contents area
         */
        var _height = scope.height ? element.height() : element.find('.dlcui-slider-contents').height();

        /**
         * Opens the vertical slider.
         * @private
         */
        function _openSlider() {
          element.css({
            height: scope.height,
            maxHeight: _height + 100,
            width: scope.width
          });
          element.find('.dlcui-slider-contents').css({
            height: scope.height ? '100%' : 'auto',
            top: 0,
            width: scope.width ? '100%' : 'auto'
          });
        }

        /**
         * Closes the veritical slider
         * @private
         */
        function _closeSlider() {
          _height = scope.height ? element.height() : element.find('.dlcui-slider-contents').height();
          var collapseTo = parseInt(scope.collapseTo, 10) || 0;
          element.css({
            height: scope.height,
            maxHeight: collapseTo,
            width: scope.width
          });
          var top = 0;
          if (scope.animatePosition === 'true') {
            if (_height === 0) {
              top = collapseTo - 100;
            } else {
              top = collapseTo - _height;
            }
          }

          element.find('.dlcui-slider-contents').css({
            top: top
          });
        }

        // Check to see of the item is open or closed
        scope.$watch('slideOpen', function (newValue) {
          if (newValue) {
            _openSlider();
          } else {
            _closeSlider();
          }
        });
      }
    };
  }]);
;/**
 * Internal directive --
 *
 * When dlcuiCollapse is 'true', the element will expand. False, it will collapse.
 * If dlcuiCollapseSkipInitial is 'true', the element will not expand/collapse initially.
 *
 * Emits `dlcui:collapse:collapsed` when done collapsing, and `dlcui:collapse:expanded` when done expanding.
 * (The events should be caught and `e.stopPropagation()` to keep it efficient-ish.)
 *
 * Elements using dlcuiCollapse should not have any border/padding/margin!
 */

'use strict';

angular.module('dell.ngclarity.directives').directive('dlcuiCollapse', ['dlcuiTransition', function (dlcuiTransition) {
  function link(scope, element, attributes) {
    var initialAnimSkip = attributes.dlcuiCollapseSkipInitial === 'true';
    var currentTransition = null;

    var doTransition = function doTransition(change) {
      var newTransition = null,
          newTransitionDone = null;

      newTransitionDone = function () {
        if (currentTransition === newTransition) {
          currentTransition = undefined;
        }
      };
      newTransition = dlcuiTransition(element, change);
      if (currentTransition) {
        currentTransition.cancel();
      }
      currentTransition = newTransition;
      newTransition.then(newTransitionDone, newTransitionDone);
      return newTransition;
    };

    var collapseDone = function collapseDone() {
      element.removeClass('dldlcui-collapsing');
      element.addClass('dlcui-collapse');
      scope.$emit('dlcui:collapse:collapsed');
    };

    var expandDone = function expandDone() {
      element.removeClass('dlcui-collapsing');
      element.addClass('dlcui-collapse dlcui-in');
      element.css({ height: 'auto' });
      scope.$emit('dlcui:collapse:expanded');
    };

    var expand = function expand() {
      if (initialAnimSkip) {
        initialAnimSkip = false;
        expandDone();
      } else {
        element.removeClass('dlcui-collapse').addClass('dlcui-collapsing');
        var scrollHeight = element[0].scrollHeight;

        if (scrollHeight === 0) {
          return expandDone();
        }

        doTransition({ height: scrollHeight + 'px' }).then(expandDone);
      }
    };

    var collapse = function collapse() {
      if (initialAnimSkip) {
        initialAnimSkip = false;
        collapseDone();
        element.css({ height: '0px' });
      } else {
        // CSS transitions don't work with height: auto, so we have to manually change the height to a specific value
        element.css({ height: element[0].scrollHeight + 'px' });

        // trigger reflow so a browser realizes that height was updated from auto to a specific value
        var x = element[0].offsetWidth; // eslint-disable-line no-unused-vars
        element.removeClass('dlcui-collapse dlcui-in').addClass('dlcui-collapsing');
        doTransition({ height: '0px' }).then(collapseDone);
      }
    };

    scope.$watch(attributes.dlcuiCollapse, function (shouldCollapse) {
      if (shouldCollapse) {
        collapse();
      } else {
        expand();
      }
    });
  }

  return {
    restrict: 'A',
    link: link
  };
}]);;/**
 * dlcuiTransition service provides a consistent interface to trigger CSS 3 transitions and to be informed when they complete.
 * @param  {DOMElement} element  The DOMElement that will be animated.
 * @param  {string|object|function} trigger  The thing that will cause the transition to start:
 * - As a string, it represents the css class to be added to the element.
 * - As an object, it represents a hash of style attributes to be applied to the element.
 * - As a function, it represents a function to be called that will cause the transition to occur.
 * @return {Promise}  A promise that is resolved when the transition finishes.
*/

'use strict';
angular.module('dell.ngclarity.directives').factory('dlcuiTransition', ['$document', '$q', '$rootScope', '$timeout', function ($document, $q, $rootScope, $timeout) {
  var dlcuiTransition = function dlcuiTransition(element, trigger, options) {
    options = options || {};
    var deferred = $q.defer(); // eslint-disable-line angular/deferred
    var endEventName = dlcuiTransition[options.animation ? 'animationEndEventName' : 'transitionEndEventName'];

    var transitionEndHandler = function transitionEndHandler(ev) {
      if (ev.target !== element[0]) {
        // Do not allow child events to bubble up and trigger this handler early
        return;
      }

      $rootScope.$apply(function () {
        element.unbind(endEventName, transitionEndHandler);
        deferred.resolve(element);
      });
    };

    if (endEventName) {
      element.bind(endEventName, transitionEndHandler);
    }

    // Wrap in a timeout to allow the browser time to update the DOM before the transition is to occur
    $timeout(function () {
      if (angular.isString(trigger)) {
        element.addClass(trigger);
      } else if (angular.isFunction(trigger)) {
        trigger(element);
      } else if (angular.isObject(trigger)) {
        element.css(trigger);
      }

      if (!endEventName) {
        deferred.resolve(element);
      }
    });
    // Add our custom cancel function to the promise that is returned
    // We can call this if we are about to run a new transition, which we know will prevent this transition from ending,
    // i.e. it will therefore never raise a transitionEnd event for that transition
    deferred.promise.cancel = function () {
      if (endEventName) {
        element.unbind(endEventName, transitionEndHandler);
        deferred.reject('Transition cancelled');
      }
    };
    return deferred.promise;
  };

  // Work out the name of the transitionEnd event
  var transElement = $document[0].createElement('trans');
  var transitionEndEventNames = {
    WebkitTransition: 'webkitTransitionEnd',
    MozTransition: 'transitionend',
    OTransition: 'oTransitionEnd',
    transition: 'transitionend'
  };

  var animationEndEventNames = {
    WebkitTransition: 'webkitAnimationEnd',
    MozTransition: 'animationend',
    OTransition: 'oAnimationEnd',
    transition: 'animationend'
  };

  var findEndEventName = function findEndEventName(endEventNames) {
    var eventName = null;
    for (eventName in endEventNames) {
      if (angular.isDefined(transElement.style[eventName])) {
        return endEventNames[eventName];
      }
    }
  };

  dlcuiTransition.transitionEndEventName = findEndEventName(transitionEndEventNames);
  dlcuiTransition.animationEndEventName = findEndEventName(animationEndEventNames);

  return dlcuiTransition;
}]);;angular.module('dell.ngclarity.directives')
  .directive('dlcuiDisabledOverlay', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/helper/disabledOverlay/dlcuiDisabledOverlay.directive.html'].join(''),
      scope: {
        disabled: '=ngDisabled'
      }
    };
  }]);
;// Helper method that can be used to track focus on an element, even when children gain focus

// NOTE if a sub template is generated dynamically especially after a click on an element within that dynamic area
// then focus is place back on the body. This occured with the date picker so ensure focus is placed on an inner
// element first like an input to ensure this directive works correctly.
angular.module('dell.ngclarity.directives')
  .directive('dlcuiFocus', ['$document', '$parse', '$timeout', function ($document,
                                   $parse,
                                   $timeout) {
    return {
      restrict: 'A',
      link: function (scope, element, attrs) {
        /**
         * The callback function to call when focus changes for the entire element.
         * @type {function}
         */
        var _callbackFn = $parse(attrs.dlcuiFocus);

        /**
         * Current focus state of the element on which this directive is applied.
         * @type {boolean}
         * @private
         */
        var _hasFocus = false;

        /**
         * Focus has changed and will call the registered callback.
         * @private
         */
        function _focusChanged () {
          if (dlcui.isFunction(_callbackFn)) {
            _callbackFn(scope, {
              hasFocus: _hasFocus
            });
          }
        }

        /**
         * The focus in handler
         * @private
         */
        function _focusInHandler () {
          $timeout(function () {
            if (!_hasFocus &&
              (element.is($document[0].activeElement) || $.contains(element[0], $document[0].activeElement))) {
              _hasFocus = true;
              _focusChanged();
            }
          });
        }

        /**
         * The focus out handler
         * @private
         */
        function _focusOutHandler () {
          $timeout(function () {
            if (_hasFocus &&
              !(element.is($document[0].activeElement) || $.contains(element[0], $document[0].activeElement))) {
              _hasFocus = false;
              _focusChanged();
            }
          });
        }

        // Add the event listeners
        element.on('focusin', _focusInHandler);
        element.on('focusout', _focusOutHandler);

        scope.$on('$destroy', function () {
          // Remove the event listeners
          element.off('focusin', _focusInHandler);
          element.off('focusout', _focusOutHandler);
        });
      }
    };
  }]);
;// Helper directive that can place focus on a specified class/element when the item is shown
angular.module('dell.ngclarity.directives')
  .directive('dlcuiFocusOnShow', ['$timeout', function ($timeout) {
    return {
      restrict: 'A',
      link: function (scope, element, attrs) {
        /**
         * Called to focus on a specific element
         * @private
         */
        function _focusOnElement () {
          $timeout(function () {
            if (dlcui.isStringWithLength(attrs.dlcuiFocusOnShow)) {
              element.find(attrs.dlcuiFocusOnShow).focus();
            } else {
              element.focus();
            }
          });
        }
        // Watch the ng-show or ng-if
        var watchItem = attrs.ngShow || attrs.ngIf || attrs.ngHide;
        if (watchItem) {
          scope.$watch(watchItem, function (newValue) {
            if (newValue || attrs.ngHide) {
              _focusOnElement();
            }
          });
        }
      }
    };
  }]);
;/* eslint-disable indent */
// TODO-sscott: I need to remove/replace this with a better solution if required.
angular.module('dell.ngclarity.directives')
  .directive('dlcuiFormat', ['$compile', '$timeout', '$filter', 'dlcuiInputFormat', function ($compile,
                                    $timeout,
                                    $filter,
                                    dlcuiInputFormat) {
    return {
      require: '^ngModel',
      restrict: 'A',
      scope: {
        options: '='
      },
      link: function (scope, elm, attrs, ngModel) {
        var format = attrs.dataformat,
          type = attrs.datatype;
        attrs.$observe('data-format', function (value) {
          if (dlcui.isDefined(ngModel.$modelValue)) {
            format = value;
          }
          ngModel.$modelValue = ngModel.$setViewValue;
        });
        //
        // On Lost Focus of Control
        //
        ngModel.$formatters.unshift(function (modelValue) {
          if (dlcui.isDefined(modelValue)) {
            switch (type) {
              case 'datetime':
              case 'date':
                return $filter('date')(new Date(modelValue), format);
              case 'time':
                return $filter('date')(new Date(dlcuiInputFormat.format().time(modelValue)), scope.timeFormat());
            }
          }
          return '';
        });
        //
        // On Focus of Control
        //
        ngModel.$parsers.unshift(function (viewValue) {
          if (dlcui.isDefined(viewValue)) {
            switch (type) {
              case 'datetime':
                if (dlcui.isValidDateTime(viewValue)) {
                  return $filter('date')(new Date(viewValue), format);
                }
                break;
              case 'date':
                if (dlcui.isValidDate(viewValue)) {
                  return $filter('date')(new Date(viewValue), format);
                }
                break;
              case 'time':
                if (dlcui.isTime(viewValue)) {
                  return $filter('date')(new Date(dlcuiInputFormat.format().time(viewValue)), scope.timeFormat());
                }
                break;
            }
          }
          return '';
        });
      },
      controller: ['$scope', function ($scope) {
        //
        // Function: timeFormat()
        //
        $scope.timeFormat = function () {
          var format = '_HOUR_:mm',
            replace = ($scope.options.military) ? 'HH' : 'hh';
          if ($scope.options.meridian && $scope.options.second.visible) {
            format += ':ss a';
          } else if ($scope.options.meridian && !$scope.options.second.visible) {
            format += ' a';
          } else if (!$scope.options.meridian && $scope.options.second.visible) {
            format += ':ss';
          }
          format = format.replace(/_HOUR_/, replace);
          return format;
        };
      }]
    };
  }]);
;/* eslint-disable indent */
// TODO-sscott: I need to remove/replace this with a better solution if required but keep the is calls below??
angular.module('dell.ngclarity.directives')
  .factory('dlcuiInputFormat', ['$filter', '$document', function ($filter, $document) {
    return {
      format: function() {
        var self = this;
        return {
          number: function(value) {
            if (dlcui.isDefined(value)) {
              value = value.toString();

              var decimals = self.pluck().decimals(value),
                cardinal = self.pluck().cardinal(value),
                number = self.apply().comma(cardinal);

              value = String(number + decimals);
            }
            return value;
          },
          phone: function(tel) {
            if (dlcui.isDefined(tel)) {
              var value = tel.toString().trim().replace(/^\+/, '');
              if (value.match(/[^0-9]/)) {
                return tel;
              }

              var country = '', city = '', number = '';
              switch (value.length) {
                case 10: // +1PPP####### -> C (PPP) ###-####
                  country = 1;
                  city = value.slice(0, 3);
                  number = value.slice(3);
                  break;
                case 11: // +CPPP####### -> dlcui (PP) ###-####
                  country = value[0];
                  city = value.slice(1, 4);
                  number = value.slice(4);
                  break;
                case 12: // +dlcuiPP####### -> dlcui (PP) ###-####
                  country = value.slice(0, 3);
                  city = value.slice(3, 5);
                  number = value.slice(5);
                  break;
                default:
                  return tel;
              }

              if (country === 1) {
                country = String('');
              }

              number = number.slice(0, 3) + '-' + number.slice(3);

              return (country + ' (' + city + ')' + number).trim();
            }

            return String('');
          },
          date: function(value, format) {
            return $filter('date')(value, format);
          },
          time: function(value) {
            if (dlcui.isString(value)) {
              var exp = 'MONTH/DAY/YEAR HOUR:MIN:SEC AP',
                time = value.split(/[- :]/),
                now = new Date();

              if (dlcui.isDefined(time)) {
                if (time.length === 4) {
                  exp = exp.replace(/MONTH/g, now.getMonth() + 1).replace(/DAY/g, now.getDay());
                  exp = exp.replace(/YEAR/g, now.getFullYear());
                  exp = exp.replace(/HOUR/g, time[0]);
                  exp = exp.replace(/MIN/g, time[1]);
                  exp = exp.replace(/SEC/g, time[2]);
                  exp = exp.replace(/AP/g, time[3]);

                  return exp;
                }
              }
            }

            return value;
          }
        };
      },
      key: function() {
        var controlChar = [0, 8, 13],
          navigationChar = [35, 36, 37, 38, 39, 40, 127];
        return {
          isNumber: function (which) {
            return (!this.isNotNumber(which));
          },
          isBackspace: function (which) {
            return which === 8;
          },
          isEnter: function (which) {
            return (this.isCarriageReturn(which));
          },
          isEscape: function (which) {
            return which === 27;
          },
          isCarriageReturn: function (which) {
            return which === 13;
          },
          isNavigation: function (which) {
            return navigationChar.indexOf(which) !== -1;
          },
          isUpArrow: function (which) {
            return which === 38;
          },
          isDownArrow: function (which) {
            return which === 40;
          },
          isUpOrDownArrow: function (which) {
            return (which === 38 || which === 40);
          },
          isNull: function (which) {
            return which === 0;
          },
          isTab: function (which) {
            return which === 9;
          },
          isNotNumber: function (which) {
            return which < 44 || which > 57 || which === 47;
          },
          isControlChar: function (which) {
            return controlChar.indexOf(which) !== -1;
          },
          isNotControlChar: function (which) {
            return controlChar.indexOf(which) === -1;
          },
          isAlpha: function(value) {
            return (value === 32 || String.fromCharCode(value).match(/^[a-zA-Z]*$/));
          },
          isAlphaNumeric: function(value) {
            return (value === 32 || value === 35 || String.fromCharCode(value).match(/^[a-zA-Z0-9_]*$/));
          }
        };
      },
      caret: function() {
        return {
          get: function (element) {
            if ($document.selection) {
              var oSel = $document.selection.createRange ();
              oSel.moveStart ('character', -element.value.length);
              return 0;
            }
            if (dlcui.isDefined(element)) {
              return element.selectionStart;
            }
            return String('');
          },
          set: function (element, pos) {
            if (element != null) {
              if (element.createTextRange) {
                var range = element.createTextRange();
                range.move('character', pos);
                range.select();
              } else if (element.selectionStart) {
                element.focus();
                element.setSelectionRange(pos, pos);
              } else {
                element.focus();
              }
            }
          }
        };
      },
      text: function() {
        return {
          select: function () {
            return {
              get: function(field) {
                return (field.value.substring(field.selectionStart, field.selectionEnd));
              },
              partial: function(field, start, end) {
                if (field.createTextRange) {
                  var selRange = field.createTextRange();
                  selRange.collapse(true);
                  selRange.moveStart('character', start);
                  selRange.moveEnd('character', end);
                  selRange.select();
                  field.focus();
                } else if (field.setSelectionRange) {
                  field.focus();
                  field.setSelectionRange(start, end);
                } else if (typeof field.selectionStart !== 'undefined') {
                  field.selectionStart = start;
                  field.selectionEnd = end;
                  field.focus();
                }
              }
            };
          }
        };
      },
      pluck: function() {
        return {
          number: function(value) {
            return value.replace(/[^0-9]/g, '');
          },
          alphaNumeric: function(value) {
            return value.replace(/[^a-zA-Z0-9 -]/g, '');
          },
          alpha: function(value) {
            return value.replace(/[^a-zA-Z]/g, '');
          },
          decimals: function(value) {
            return value.indexOf('.') === -1 ? '' : value.replace(/^-?\d+(?=\.)/, '');
          },
          cardinal: function(value) {
            return value.replace(/(\.\d+)$/, '');
          }
        };
      },
      apply: function() {
        return {
          comma: function(value) {
            return value.replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
          }
        };
      },
      create: function() {
        return {
          decimal: function(value, decimals) {
            if (dlcui.isDefined(value)) {
              var expression = '^-?\\d*$',
                regExp = new RegExp(expression);
              if (dlcui.isDefined(decimals) && decimals > 0) {
                expression = '^-?\\d*\\.?\\d{0,' + decimals + '}$';
              }
              regExp = new RegExp(expression);
              return regExp.test(value);
            }
            return value;
          }
        };
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiEnter', ['$parse', 'dlcuiInputFormat', function ($parse,
                                   dlcuiInputFormat) {
    return {
      restrict: 'A',
      link: function (scope, element, attrs) {
        /**
         * The callback function to call when focus changes for the entire element.
         * @type {function}
         */
        var _callbackFn = $parse(attrs.dlcuiEnter);

        element.bind('keydown keypress', function (event) {
          if (dlcuiInputFormat.key().isCarriageReturn(event.which)) {
            event.preventDefault();
            if (dlcui.isFunction(_callbackFn)) {
              event.target = element;
              scope.$apply(function() {
                _callbackFn(scope, {
                  $event: event
                });
              });
            }
          }
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiEscape', ['$parse', 'dlcuiInputFormat', function ($parse,
                                    dlcuiInputFormat) {
    return {
      restrict: 'A',
      link: function (scope, element, attrs) {
        /**
         * The callback function to call when focus changes for the entire element.
         * @type {function}
         */
        var _callbackFn = $parse(attrs.cccEscape);

        element.bind('keydown keypress', function (event) {
          if (dlcuiInputFormat.key().isEscape(event.which)) {
            event.preventDefault();
            if (dlcui.isFunction(_callbackFn)) {
              event.target = element;
              scope.$apply(function() {
                _callbackFn(scope, {
                  $event: event
                });
              });
            }
          }
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiDocumentClick', ['$document', '$parse', function ($document, $parse) {
    return {
      restrict: 'A',
      link: function (scope, element, attrs) {
        /**
         * Method to call when the user clicks on the document.
         */
        var _callBackFn = $parse(attrs.cccDocumentClick);

        /**
         * The click handler method
         * @param {!Event} event The event associated with the click
         * @private
         */
        function _clickHandler (event) {
          scope.$apply(function () {
            _callBackFn(scope, {
              $event: event,
              inside: element.is(event.target) || $.contains(element[0], event.target)
            });
          });
        }

        $document.on('click', _clickHandler);
        //
        // $on: $destroy
        //
        scope.$on('$destroy', function () {
          $document.off('click', _clickHandler);   // Note: This is the correct way to remove the handler
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiNgRepeatComplete', function () {
    return function (scope, element, attrs) {
      if (scope.$last) {
        scope.$eval(attrs.cccComplete);
      }
    };
  });
;/*
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiTranscludeReplace', function () {
    return {
      terminal: true,
      restrict: 'E',

      link: function (scope, element, attrs, ctrl, transclude) {
        //dlcui.assertFunction(transclude, 'Parent directive must include transclusion');

        transclude(function (clone) {
          if (clone.length) {
            element.replaceWith(clone);
          } else {
            element.remove();
          }
        });
      }
    };
  });
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiTranscludeSelector', function () {
    return {
      restrict: 'A',
      terminal: true,
      link: function link(scope, element, attrs, controller, transclude) {
        /**
         * Finds the element to extract and transclude into this specified element.
         * @param {Element} clone The element containing the element to clone
         * @private
         */
        function _extractAndAppendPart(clone) {
          var selector = attrs.dlcuiTranscludeSelector;
          if (selector) {
            var $partEl = angular.element(clone).find(selector);
            element.html('');
            element.append($partEl);
          } else {
            element.html('');
            element.append(clone);
          }
        }

        transclude(function (clone) {
          var wrap = angular.element('<span></span>');
          wrap.append(clone);
          _extractAndAppendPart(wrap);
        });
      }
    };
  });
;angular.module('dell.ngclarity.directives')
  .directive('dlcuinique', ['$parse', function ($parse) {
    return {
      restrict: 'A',
      require: 'ngModel',
      terminal: true,
      link: function (scope, element, attrs, ngModelCtrl) {
        /**
         * The original value so we can ignore unique checks on it.
         * @type {null}
         * @private
         */
        var _originalViewValue = null;

        // Add the unique validator
        ngModelCtrl.$validators.uniqueValue = function(modelValue, viewValue) {
          var uniqueValues = $parse(attrs.dlcuiUnique)();

          if (!dlcui.isDefined(_originalViewValue) && dlcui.isDefined(viewValue)) {
            _originalViewValue = viewValue;
          } else if (dlcui.isDefined(viewValue) && _originalViewValue !== viewValue &&
            dlcui.isArrayWithLength(uniqueValues)) {
            var count = 0;
            angular.forEach(uniqueValues, function (item) {
              if (item === viewValue) {
                count++;
              }
            });

            return count === 0;
          }

          return true;
        };
      }
    };
  }]);
;/**
 *  @ngdoc directive
 *  @name button
 *  @module dlcui
 *  @src directives/input/dropDown/dlcuiButton.directive.js
 *  @controlType actionable
 *  @restrict E
 *
 *  @description
 *  Buttons allow for basic user interaction via click event handlers defined with the angular `ng-click` directive.

 *  @param {string=} type The type (appearance) of the button. One of:
 *  'default' - White
 *  'primary' - Blue
 *  'secondary' - Grey
 *  'link' - link as a button style
 *
 *  The color of a button in a disabled state, which can result from adding an 'ng-disabled' expression will
 *  change depending on the type.
 *
 * The default type is `'default'`.
 *
 *  @example
 *  <h3>Button label</h3>
 *  <example name="button">
 *    <file name="index.html">
 *       <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *       </dlcui-checkbox>
 *       <br><br>
 *       <dlcui-button ng-click="click($event)"
 *                   ng-disabled="!options.enabled">
 *                   Default
 *       </dlcui-button>
 *    </file>
 *    <file name="app.js">
 *      angular.module('app', ['dlcui']).controller('AppCtrl', function ($scope) {
 *        //
 *        // Options
 *        //
 *        $scope.options = {
 *          enabled : true
 *        };
 *        //
 *        // Event: click()
 *        //
 *        $scope.click = function() {
 *         alert('clicked');
 *        }
 *      });
 *    </file>
 *    <file name="styles.css">
 *      .btn-label {
 *        display: block;
 *        padding-bottom: 20px;
 *      }
 *
 *      .btn-label::after {
 *        clear: both;
 *      }
 *    </file>
 *  </example>
 *
 *  @example
 *  <h3>Button types</h3>
 *  <example name="buttonTypes">
 *    <file name="index.html">
 *      <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <dlcui-button ng-click="click($event)"
 *                  ng-disabled="!options.enabled">
 *                  Default
 *      </dlcui-button>
 *      <dlcui-button type='primary'
 *                  ng-click="click($event)"
 *                  ng-disabled="!options.enabled">
 *                  Primary
 *      </dlcui-button>
 *      <dlcui-button type='secondary'
 *                 ng-click="click($event)"
 *                 ng-disabled="!options.enabled">
 *                 Secondary
 *      </dlcui-button>
 *    </file>
 *    <file name="app.js">
 *      angular.module('app', ['dlcui']).controller('AppCtrl', function ($scope) {
 *        //
 *        // Options
 *        //
 *        $scope.options = {
 *           enabled : true
 *        };
 *        //
 *        // Event: click()
 *        //
 *        $scope.click = function() {
 *          alert('clicked');
 *        }
 *        });
 *    </file>
 *    <file name="styles.css">
 *      .btn-label {
 *        display: block;
 *        padding-bottom: 20px;
 *      }
 *
 *      .btn-label::after {
 *        clear: both;
 *      }
 *
 *      .dlcui-button {
 *        margin-right: 5px;
 *      }
 *    </file>
 *  </example>
 *
 *  @example
 *  <h3>Link button</h3>
 *  <example name="linkButton">
 *    <file name="index.html">
 *      <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <dlcui-button type="link"
 *                  ng-click="click($event)"
 *                  ng-disabled="!options.enabled">
 *        Link
 *      </dlcui-button>
 *    </file>
 *    <file name="app.js">
 *      angular.module('app', ['dlcui']).controller('AppCtrl', function ($scope) {
 *        //
 *        // Options
 *        //
 *        $scope.options = {
 *            enabled : true
 *        };
 *        //
 *        // Event: click()
 *        //
 *        $scope.click = function() {
 *          alert('clicked');
 *        }
 *        });
 *    </file>
 *    <file name="styles.css">
 *      .btn-label {
 *        display: block;
 *        padding-bottom: 20px;
 *      }
 *
 *      .btn-label::after {
 *        clear: both;
 *      }
 *    </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiButton', ['$compile', '$timeout', '$templateCache', function ($compile,
                                    $timeout,
                                    $templateCache) {
    return {
		template: function() {
		return $templateCache.get('ngclarity/directives/input/button/button.html');
		},
      restrict: 'E',
      transclude: true,
      scope: {
        type: '@',
        dlcuiType: '@',
        disabledBtn: '=?ngDisabled',
        name:'@'
      },
      link: function (scope) {
        /**
         * Called by the template to obtain the class details.
         * @returns {Array} The button classes to append.
         */
        scope.getButtonClasses = function () {
          var classes = [];
          if (scope.disabledBtn) {
            classes.push('dlcui-disabled');
          }

          // Set the type
          scope.type = scope.type || scope.dlcuiType || '';
          var lowercaseType = scope.type.toLowerCase();

          if (lowercaseType === 'primary') {
            classes.push('dlcui-primary');
          } else if (lowercaseType === 'secondary') {
            classes.push('dlcui-secondary');
          } else if (lowercaseType === 'link') {
            classes.push('dlcui-link');
          } else {
            classes.push('dlcui-default');
          }
          return classes;
        };
      }
    };
  }]);

;/**
 *  @ngdoc directive
 *  @name checkBox
 *  @module dlcui
 *  @src input/checkbox/dlcuiCheckBox.directive.js
 *  @controlType input
 *  @restrict E
 *
 *  @description Custom Checkbox replaces the standard checkbox
 *
 *  @param {ngModel} ng-model Angular model that represents the checkbox state for this directive (i.e. true/false)
 *  @param {string=}  label represents checkbox label attribute and this does not use two way binding.
 *  @param {boolean=} inverse Set this to true to reverse the color schema and is a boolean attribute value
 *  that does not use two way binding.
 *  @param {ngDisabled=} ng-disabled boolean representing the state of the directive (i.e. enabled/disabled) and
 *  uses the angular directive ng-disabled.
 *
 *  @example
 *  <h3>CheckBox Example</h3>
 *  <example name='checkbox'>
 *  <file name='index.html'>
 *    <div class="container-fluid">
 *      <div class="component-container">
 *        <h2>Settings</h2>
 *        <p>
 *          <label class="label">Enabled:<input type="checkbox" ng-model="options.enabled"></label>
 *        </p>
 *        <p>
 *          <label class="label">Inverse:&nbsp;<input type="checkbox" ng-model="options.inverse"></label>
 *        </p>
 *        <p>
 *          <label class="label">Label:<dlcui-text-input ng-model="options.label"></dlcui-text-input></label>
 *        </p>
 *        <p>
 *          <table>
 *            <thead>
 *              <th>Checked</th>
 *              <th>Inverse</th>
 *              <th>Enabled</th>
 *            </thead>
 *            <tbody>
 *              <tr>
 *                <td>{{model.checked}}</td>
 *                <td>{{options.inverse}}</td>
 *                <td>{{options.enabled}}</td>
 *              </tr>
 *            </tbody>
 *          </table>
 *        </p>
 *        <h2>Checkbox Component</h2>
 *        <div ng-class="{ 'checkbox-state': !options.inverse, 'checkbox-state inverse': options.inverse }">
 *          <dlcui-checkbox label="{{options.label}}"
 *                        ng-model="model.checked"
 *                        inverse="{{options.inverse}}"
 *                        ng-click="options.onClick()"
 *                        ng-disabled="!options.enabled">
 *          </dlcui-checkbox>
 *        </div>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *      //
 *      // Setup Default Demo Model
 *      //
 *      $scope.model = {
 *        checked: false
 *      };
 *      //
 *      // Setup Default Demo Options
 *      //
 *      $scope.options = {
 *        label: 'Sample CheckBox',
 *        checked: false,
 *        enabled: true,
 *        inverse: false,
 *        options: {
 *          width: 'auto'
 *        },
 *        onClick: function(item) {
 *          console.log('Checkbox State:', item);
 *        }
 *      };
 *    });
 *  </file>
 *  <file name='styles.css'>
 *
 *    body {
 *      height: 500px;
 *    }
 *     table {
 *      width: 200px;
 *      border: 1px solid grey; }
 *     table thead {
 *        font-weight: bold; }
 *     table thead th {
 *          padding: 3px; }
 *     table tr {
 *        height: 25px; }
 *     table tr td {
 *          padding: 5px; }
 *
 *     .container-fluid {
 *      background-color: transparent; }
 *     .container-fluid .global-settings {
 *       border-radius: 5px;
 *        border: 1px solid #ededed;
 *        min-height: 75px;
 *        padding: 10px;
 *        text-align: left;
 *        margin-bottom: 10px;
 *        width: 80%; }
 *     .container-fluid .global-settings h2 {
 *          font-weight: 200;
 *          text-transform: uppercase;
 *          border-bottom: 2px double #ededed;
 *          line-height: 30px; }
 *     .container-fluid .component-container {
 *        border-radius: 5px;
 *        border: 1px solid #6b6b6b;
 *        padding: 10px;
 *        text-align: left;
 *        width: 80%; }
 *     .container-fluid .component-container label {
 *          display: inline-block; }
 *     .container-fluid .component-container h2 {
 *          font-weight: 200;
 *          text-transform: uppercase;
 *          border-bottom: 2px double #ededed;
 *          line-height: 30px; }
 *     .container-fluid .component-container .checkbox-state {
 *          padding: 5px; }
 *     .container-fluid .component-container .checkbox-state.inverse {
 *            background-color: #007db8; }
 *     .container-fluid .component-container .well {
 *         border-top-left-radius: 2px;
 *          border-top-right-radius: 2px;
 *          border-bottom-right-radius: 2px;
 *          border-top-right-radius: 2px;
 *          border-bottom-left-radius: 2px;
 *          border-bottom-right-radius: 2px;
 *          border-bottom-left-radius: 2px;
 *          border-top-left-radius: 2px;
 *          background-color: #F1F1F1;
 *          border: 1px solid #6b6b6b; }
 *     .container-fluid .component-container .drop-down-list {
 *          margin-bottom: 10px; }
 *
 *     .card-item {
 *      padding: 5px; }
 *     .card-item .card-detail .card-group {
 *        padding: 3px;
 *        margin-bottom: 5px; }
 *     .card-item .card-detail .card-group .card-label {
 *          font-size: 10px;
 *          margin-right: 10px;
 *          text-align: left; }
 *     .card-item .card-detail .card-group .card-control {
 *          text-align: left; }
 *     .card-item .card-detail .card-group:after {
 *          clear: both; }
 *
 *  </file>
 *  </example>
 *
 *  @example
 *  <h3>Form with CheckBox Example</h3>
 *  <example name='checkboxForm'>
 *  <file name='index.html'>
 *    <p>
 *        <b>Note: </b><i>Changing the model will place the form in dirty state and change the border, which is
 *    managed through the css within styles.css above.</i>
 *    </p>
 *    <form class="dlcui-example-form">
 *        <dlcui-checkbox label="Enable Downloads"
 *                      name="enableDownloads"
 *                      ng-model="model.enableDownloads">
 *        </dlcui-checkbox>
 *        <br>
 *        <dlcui-checkbox label="Enforce Password Change"
 *                      name="passwordChange"
 *                      ng-model="model.passwordChange">
 *        </dlcui-checkbox>
 *    </form>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *      //
 *      // Setup Default Demo Model
 *      //
 *      $scope.model = {
 *        enableDownloads: false,
 *        passwordChange: true
 *      };
 *      //
 *      // Setup Default Demo Options
 *      //
 *      $scope.options = {
 *        label: 'Sample CheckBox',
 *        checked: false,
 *        enabled: true,
 *        inverse: false,
 *        options: {
 *          width: 'auto'
 *        },
 *        onClick: function(item) {
 *          console.log('Checkbox State:', item);
 *        }
 *      };
 *    });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .dlcui-example-form {
 *      padding: 10px;
 *    }
 *
 *    .dlcui-example-form {
 *      border: 1px dotted transparent;
 *    }
 *
 *    .dlcui-example-form.ng-dirty {
 *      border: 1px dotted #1f9dfa;
 *    }
 *  </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiCheckbox', ['$templateCache', function ($templateCache) {
    return {
      restrict: 'E',
      replace: true,
      require: 'ngModel',
      scope: {
        label: '@',
        inverse: '@',
        ngDisabled: '=?'
      },
      template: function() {
		return $templateCache.get('ngclarity/directives/input/checkbox/checkBox.html');
		},
      link: function (scope, element, attrs, ngModelCtrl) {
        /**
         * Does the component have focus
         * @type {boolean}
         * @private
         */
        var _hasFocus = false;

        /**
         * Called when the user clicks on the item
         */
        function _onMouseDownHandler () {
          if (!_hasFocus) {
            element.addClass('dlcui-mouse-focus');
          }
        }

        /**
         * Called when the user moves away from the component.
         */
        function _onFocusHandler () {
          if (_hasFocus) {
            element.removeClass('dlcui-mouse-focus');
          }
          _hasFocus = true;
        }

        /**
         * Called when the user moves away from the component.
         */
        function _onBlurHandler () {
          element.removeClass('dlcui-mouse-focus');
          _hasFocus = false;
        }

        /**
         * Called when the model value is toggled.
         * @private
         */
        function _toggleModel () {
          if (!scope.ngDisabled) {
            scope.checked = !scope.checked;
            ngModelCtrl.$setViewValue(scope.checked);
          }
        }

        /**
         *  Called when the user click on the widget
         * @private
         */
        function _onClickHandler () {
          _toggleModel();
        }

        /**
         * Called when the user presses a key
         * @param {Event} event The associated event object
         * @private
         */
        function _onKeypressHandler (event) {
          element.removeClass('dlcui-mouse-focus');
          if (event && (event.which === 13 || event.which === 32)) {
            _toggleModel();
          }
        }

        /**
         * Returns the icon name to use based on current state
         * @returns {!string} The icon name to use for display
         */
        scope.getIconName = function() {
          if (scope.checked) {
            if (!scope.checked) {
              return '#ic_checkbox';
            } else if (scope.inverse && scope.inverse === 'true') {
              return '#ic_white_checkbox_checked';
            }

            return '#ic_checkbox_active_checked';
          }

          return '#ic_checkbox';
        };

        // Copy the view value to the internal model value
        ngModelCtrl.$render = function () {
          scope.checked = ngModelCtrl.$viewValue;
        };

        element.on('click', _onClickHandler);
        element.on('keypress', _onKeypressHandler);
        element.on('mousedown', _onMouseDownHandler);
        element.on('focus', _onFocusHandler);
        element.on('blur', _onBlurHandler);

        scope.$on('$destroy', function () {
          element.off('click', _onClickHandler);
          element.off('keypress', _onKeypressHandler);
        });

        
      }
    };
  }]);

;/* eslint no-shadow:0 */
/* eslint no-undef:0 */
/* eslint angular/angularelement:0 */
/**
 * @ngdoc directive
 * @name comboBox
 * @module dlcui
 * @src input/comboBox/dlcuiComboBox.directive.js
 * @restrict E
 * @controlType input
 *
 * @param {ngModel} ng-model Angular ng-model directive that binds to a model value
 * @param {Array} items Array of items that are displayed within the drop down.
 * The following highlights the design
 * ```javascript
 * items: [
 *          {
 *            id: 0,
 *            label: 'Ford, Harrison',  // Displayed visually within the selection area
 *            value: 0  // Used as the model value
 *          },
 *          {
 *            id: 1,
 *            label: 'Connery, Sean',
 *            value: 1
 *          },
 *          {
 *            id: 2,
 *            label: 'Phifer, Michelle',
 *            value: 2
 *          }
 *        ]
 * ```
 *
 * To display supplemental labels below the main label you can use the supplementalLabel property as follows,
 * ```javascript
 * items: [
 *          {
 *            id: 0,
 *            label: 'Ford, Harrison',  // Displayed visually within the selection area
 *            supplementalLabel: 'Blade Runner',
 *            value: 0  // Used as the model value
 *          },
 *          {
 *            id: 1,
 *            label: 'Connery, Sean',
 *            supplementalLabel: 'Goldfinger',
 *            value: 1
 *          },
 *          {
 *            id: 2,
 *            label: 'Phifer, Michelle',
 *            supplementalLabel: 'Batman Returns',
 *            value: 2
 *          }
 *        ]
 * ```
 *
 * Each item must contain at least the <i>label</i> property which is used in the visual display within the drop
 * down list and within the dropdown component. The <i>value</i> property defines the value to be used for the
 * actual model and the developer can use any Javascript Primitive type such as String or Integer or even Date.
 *
 * If <i>value</i> property is not defined then the component will attempt to use the following properties
 * in the following order,
 * * id
 * * label
 * * name
 *
 * The visual label will also default to <i>name</i> for backward compatibility if <i>label</i> is not used.
 *
 * The idea is the <i>label</i> is used for display and the <i>value</i> is used to represent the model value.
 *
 * The <i>selectedItem</i> below represent an entire item object with all its properties.
 *
 * The <i>value</i> and <i>label</i> can also be a function that returns the true value, but angular promises is
 * not supported at this time.
 * @param {Object=} selectedItem Uses two way binding and sets the currently selected item object. The currently
 * selected value can be changed by changing this on the parent scope. This value contains the entire item object
 * while the ng-model value contains the value, or label if value is not defined, of the selected item object.
 * @param {Function=} onSelectionChanged A callback function that is called when the selected changes and the
 * parameter includes the newly selected item.
 * @param {string=} placeholder The string to display if no data is currently selected, which can happen if the
 * user sets the model value to null or a value that does not exist within the items. This defaults to
 * <i>Slect or Search item</i>.
 * @param {string=} noMatches The string to display in the list when filtering data and where no data is found. This
 * defaults to <i>0 matches found</i>
 * @param {string=} maxHeight The maximum height for the drop down when opened. The default is 'auto'.
 * @param {ngDisabled=} ng-disabled boolean representing the state of the directive (i.e. enabled/disabled) and
 * uses the angular directive ng-disabled.
 *
 * @description
 * Element based directive that is used as a combo box control.
 *
 * @example
 * <h3>Combo Box</h3>
 * <example name="comboBoxBasic">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Selected Value (ng-model): ({{model.value}})</h3>
 *      <h3>Selected Item (selected-item): ({{model.selectedItem}})</h3>
 *      <br><br>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-combo-box ng-model="model.value"
 *                          items="options.items"
 *                          on-selection-changed="onSelectionChanged(item)"
 *                          on-filter-changed="onFilterChanged(filter)"
 *                          selected-item="model.selectedItem"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-combo-box>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart' }
 *          ],
 *          style: {
 *            width: '180px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItem: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.selectedItem', function (selectedItem) {
 *            if (dlcui.isDefined(selectedItem)) {
 *              console.log('selected item', selectedItem);
 *            }
 *        });

 *        //
 *        // Event: onChange()
 *        //
 *        $scope.onSelectionChanged = function(item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged()', item);
 *            }
 *        };
 *
 *        $scope.onFilterChanged = function(filter) {
 *            if (dlcui.isDefined(filter)) {
 *              console.log('onFilterChanged()', filter);
 *            }
 *        }
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 400px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Combo Box with Supplemental Labels</h3>
 * <example name="comboBoxBasicSupplemental">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Selected Value (ng-model): ({{model.value}})</h3>
 *      <h3>Selected Item (selected-item): ({{model.selectedItem}})</h3>
 *      <br><br>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-combo-box ng-model="model.value"
 *                          items="options.items"
 *                          on-selection-changed="onSelectionChanged(item)"
 *                          on-filter-changed="onFilterChanged(filter)"
 *                          selected-item="model.selectedItem"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-combo-box>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison', supplementalLabel: 'Acted in Star Wars' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery', supplementalLabel: 'Acted in James Bond' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer', supplementalLabel: 'Acted in Batman Returns' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton', supplementalLabel: 'Acted in Batman' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour', supplementalLabel: 'Acted in Live and Let Die' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart', supplementalLabel: 'Acted in Star Trek' }
 *          ],
 *          style: {
 *            width: '180px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItem: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.selectedItem', function (selectedItem) {
 *            if (dlcui.isDefined(selectedItem)) {
 *              console.log('selected item', selectedItem);
 *            }
 *        });

 *        //
 *        // Event: onChange()
 *        //
 *        $scope.onSelectionChanged = function(item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged()', item);
 *            }
 *        };
 *
 *        $scope.onFilterChanged = function(filter) {
 *            if (dlcui.isDefined(filter)) {
 *              console.log('onFilterChanged()', filter);
 *            }
 *        }
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 500px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Combo Box with defined placeholder</h3>
 * <example name="comboBoxBasicPlacehoder">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Selected Value (ng-model): ({{model.value}})</h3>
 *      <h3>Selected Item (selected-item): ({{model.selectedItem}})</h3>
 *      <br><br>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-combo-box ng-model="model.value"
 *                          items="options.items"
 *                          on-selection-changed="onSelectionChanged(item)"
 *                          on-filter-changed="onFilterChanged(filter)"
 *                          placeholder="Select a value..."
 *                          selected-item="model.selectedItem"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-combo-box>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart' }
 *          ],
 *          style: {
 *            width: '180px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItem: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.selectedItem', function (selectedItem) {
 *            if (dlcui.isDefined(selectedItem)) {
 *              console.log('selected item', selectedItem);
 *            }
 *        });

 *        //
 *        // Event: onChange()
 *        //
 *        $scope.onSelectionChanged = function(item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged()', item);
 *            }
 *        };
 *
 *        $scope.onFilterChanged = function(filter) {
 *            if (dlcui.isDefined(filter)) {
 *              console.log('onFilterChanged()', filter);
 *            }
 *        }
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 400px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Combo Box with Max Height</h3>
 * <example name="comboBoxBasicMaxHeight">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Selected Value (ng-model): ({{model.value}})</h3>
 *      <h3>Selected Item (selected-item): ({{model.selectedItem}})</h3>
 *      <br><br>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-combo-box ng-model="model.value"
 *                          items="options.items"
 *                          max-height="100px"
 *                          on-selection-changed="onSelectionChanged(item)"
 *                          on-filter-changed="onFilterChanged(filter)"
 *                          selected-item="model.selectedItem"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-combo-box>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *        enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart' }
 *          ],
 *          style: {
 *            width: '180px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItem: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.selectedItem', function (selectedItem) {
 *            if (dlcui.isDefined(selectedItem)) {
 *              console.log('selected item', selectedItem);
 *            }
 *        });

 *        //
 *        // Event: onChange()
 *        //
 *        $scope.onSelectionChanged = function(item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged()', item);
 *            }
 *        };
 *
 *        $scope.onFilterChanged = function(filter) {
 *            if (dlcui.isDefined(filter)) {
 *              console.log('onFilterChanged()', filter);
 *            }
 *        }
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 350px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Form with Combo Box and Validation</h3>
 * <example name="comboBoxValidation">
 *  <file name='index.html'>
 *    <p>
 *        <b>Note: </b><i>Changing the model will change the forms dirty and error states and thus the border
 *        color, which is managed through the css within styles.css above, so watch closely.</i>
 *    </p>
 *    <form class="dlcui-example-form">
 *      <br><br>
 *      <div class="dlcui-flex-container-horizontal dlcui-align-center dlcui-justify-flex-start">
 *        <label class="dlcui-label">User Name: </label>
 *        <!-- The width is set using angular ng-style for the user -->
 *        <dlcui-combo-box ng-model="model.user.value"
 *                       ng-required="'true'"
 *                       items="options.user.items"
 *                       on-selection-changed="onSelectionChanged('User', item)"
 *                       placeholder="Select a Name"
 *                       selected-item="model.user.selectedItem">
 *        </dlcui-combo-box>
 *      </div>
 *      <br><br>
 *      <div class="dlcui-flex-container-horizontal dlcui-align-center dlcui-justify-flex-start">
 *        <label class="dlcui-label">Permission: </label>
 *        <!-- The width is set using angular ng-style for the user -->
 *        <dlcui-combo-box ng-model="model.permission.value"
 *                       ng-required="'true'"
 *                       items="options.permission.items"
 *                       on-selection-changed="onSelectionChanged('Permission', item)"
 *                       placeholder="Select a Name"
 *                       selected-item="model.permission.selectedItem">
 *        </dlcui-combo-box>
 *      </div>
 *      <br><br>
 *    </form>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          user: {
 *            items: [
 *                { id: 0, label: 'Ford, Harrison', value: 0 },
 *                { id: 1, label: 'Connery, Sean', value: 1 },
 *                { id: 2, label: 'Phifer, Michelle', value: 2 },
 *                { id: 3, label: 'Keaton, Michael', value: 3 },
 *                { id: 4, label: 'Seymour, Jane', value: 4 },
 *                { id: 5, label: 'Stewart, Patrick', value: 5 }
 *           ],
 *            style: {
 *              width: '150px'
 *            }
 *          },
 *          permission: {
 *            items: [
 *                { id: 0, label: 'none', value: '00' },
 *                { id: 1, label: 'read', value: '01' },
 *                { id: 2, label: 'write', value: '10' },
 *                { id: 3, label: 'admin', value: '11' }
 *           ],
 *            style: {
 *              width: '150px'
 *            }
 *          }
 *        };
 *
 *        $scope.model = {
 *          user: {
 *            selectedItem: null,
 *            value: null
 *          },
 *          permission: {
 *            value: '11'
 *          }
 *        };
 *
 *        $scope.onSelectionChanged = function(name, item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged(' + name + ')', item);
 *            }
 *        };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .dlcui-label {
 *      display: inline-block;
 *      width: 80px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *    .dlcui-combo-box {
 *      width: 150px;
 *    }
 *
 *    .dlcui-example-form {
 *      border: 1px dotted transparent;
 *      height: 300px;
 *      padding: 10px;
 *    }
 *
 *    .dlcui-example-form.ng-dirty {
 *      border: 1px dotted #1f9dfa;
 *    }
 *
 *    .dlcui-example-form.ng-invalid {
 *      border: 1px dotted #ce1126;
 *    }
 *
 *    .dlcui-example-form.ng-valid {
 *      border: 1px dotted #6ea204;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiComboBox', ['dlcuiBaseTemplatePath', 'dlcuiDropDownList', '$translate', '$templateCache', '$timeout', function (dlcuiBaseTemplatePath,
                                      dlcuiDropDownList,
                                      $translate,
									  $templateCache,
                                      $timeout) {
    return {
      replace: true,
      restrict: 'E',
      require: 'ngModel',
      scope: {
        items: '=?',
        selectedItem: '=?',
        disabled: '=?ngDisabled',
        onSelectionChanged: '&',
        onFilterChanged: '&',
        maxHeight: '@',
        placeholder: '@',
        noMatches: '@'
      },
      //templateUrl: [dlcuiBaseTemplatePath, 'dlcuiComboBox.directive.html'].join(''),
	  template: function() {
		return $templateCache.get('ngclarity/directives/input/comboBox/dlcuiComboBox.directive.html');
		},
      link: function (scope, element, attrs, ngModelCtrl) {
        // Set some defaults
        dlcui.setDefaults(scope, {
          items: [],
          placeholder: $translate.instant('DLCUI_SELECT_OR_SEARCH_ITEM'),
          noMatches: $translate.instant('DLCUI_NO_MATCHES_FOUND')
        });

        /**
         * Called when the selected item changes so that the text input is in sync
         * @private
         */
        function _updateInputModel () {
          if (scope.selectedItem) {
            scope.filterModel.filter = dlcuiDropDownList.getItemLabel(scope.selectedItem);
            scope.filterModel.filteredItems = dlcuiDropDownList.filterData('', scope.items, scope.noMatches);
          } else {
            scope.filterModel.filter = '';
          }
        }

        /**
         * the item to highlight but not select.
         * @type {null|Object}
         */
        scope.highlightItem = null;

        /**
         * Controls the visibility of the drop down list
         * @type {boolean}
         */
        scope.dropDownVisible = false;

        /**
         * Defines whether the input has focus.
         * @type {boolean}
         */
        scope.inputActive = false;

        /**
         * Defines whether the component has focus.
         * @type {boolean}
         */
        scope.active = false;

        /**
         * The filter model used to manage the filtered items and the currnt filter string.
         * @type {Object}
         */
        scope.filterModel = {
          filteredItems: scope.items,
          filter: ''
        };

        /**
         * Returns true if the drop down is visible.
         * @returns {!boolean} True if visible.
         */
        scope.isDropDownVisible = function () {
          return scope.dropDownVisible && !scope.disabled;
        };

        /**
         * Called when the user clicks on the drop down
         * @param {!Event} event The associated dom event.
         */
        scope.onDropDownClick = function (event) {
          event.stopPropagation();
          if (!scope.disabled && !scope.dropDownVisible) {
            scope.dropDownVisible = true;
          } else {
            scope.dropDownVisible = false;
          }
        };

        /**
         * Inner input focus handler
         * @private
         */
        scope.onFocus = function () {
          scope.active = true;
        };

        /**
         * Called when the input gains focus.
         */
        scope.onInputFocus = function () {
          scope.inputActive = true;
          scope.dropDownVisible = true;
        };

        /**
         * Called when the input loses focus.
         */
        scope.onInputBlur = function () {
          scope.inputActive = false;
        };

        /**
         * Called when the user clicks outside of the component
         */
        scope.onDocumentClick = function() {
          scope.dropDownVisible = scope.inputActive;
          scope.active = scope.inputActive;
        };

        /**
         * Called when the user clicks on an item.
         * @param {!Object} item The associated item.
         */
        scope.onDropDownItemClicked = function (item) {
          scope.selectedItem = item;
          scope.dropDownVisible = false;
          scope.highlightItem = item;
        };

        // Watch the view value of the model
        ngModelCtrl.$render = function () {
          scope.selectedItem = dlcuiDropDownList.findItemForValue(ngModelCtrl.$viewValue, scope.items);
        };

        // Only call on selection change when the view value changes
        ngModelCtrl.$viewChangeListeners.push(function () {
          if (scope.selectedItem) {
            $timeout(function() { // Work around the filtering if input has focus.
              scope.filterModel.filteredItems = scope.items;
            });
            scope.onSelectionChanged({
              item: scope.selectedItem
            });
          }
        });

        scope.$watchCollection('items', function () {
          scope.filterModel.filteredItems = dlcuiDropDownList.filterData(scope.filterModel.filter,
            scope.items, scope.noMatches);
        });

        // Watch the selected value so we can sync the data
        scope.$watch('selectedItem', function () {
          if (scope.selectedItem) {
            ngModelCtrl.$setViewValue(dlcuiDropDownList.getItemValue(scope.selectedItem));
          } else {
            ngModelCtrl.$setViewValue(null);
          }
          _updateInputModel();
        });

        // Watch the input value so we can filter the data
        scope.$watch('filterModel.filter', function(newValue, oldValue) {
          if (scope.inputActive && dlcui.isString(newValue) && newValue !== oldValue) {
            scope.filterModel.filteredItems = dlcuiDropDownList.filterData(newValue, scope.items, scope.noMatches);
            if (dlcui.isArrayWithLength(scope.filterModel.filteredItems)) {
              scope.highlightItem = scope.filterModel.filteredItems[0];
            }
            scope.onFilterChanged({
              filter: newValue
            });
          }
        });
      }
    };
  }]);

;angular.module('dell.ngclarity.directives')
  .factory('dlcuiDateTime', ['DLCUI_DATE_TIME_PICKER_TYPE', function (DLCUI_DATE_TIME_PICKER_TYPE) {
    /**
     * Default local data used for formatting
     * @type {{!Object}
     * @private
     */
    var _defaultLocaleData = {
      L: 'MM/DD/YYYY',
      LT: 'h:mm A',
      LTS: 'h:mm:ss A'
    };

    /**
     * Clears the date part of the value by setting it to the 1 January 1971.
     * @param {!Date} value The value to reset and update the date instance itself
     * @returns {!Date} The same updated date instance
     * @private
     */
    function _clearDate (value) {
      dlcui.assertDate(value);

      value.setYear(1970);
      value.setMonth(0);
      value.setDate(1);

      return value;
    }

    /**
     * Clears the time part of the value by setting the time to 00:00:00.
     * @param {!Date} value The value to reset and update the date instance itself
     * @returns {!Date} The same updated date instance
     * @private
     */
    function _clearTime (value) {
      dlcui.assertDate(value);

      value.setHours(0);
      value.setMinutes(0);
      value.setSeconds(0);
      value.setMilliseconds(0);

      return value;
    }

    /**
     * Coverts the value to a valid date object and returns null if the input is not valid.
     * @param {!string|number|Date} value The date in string, milliseconds or Date object
     * @returns {Date|null} The Date if valid or null.
     * @private
     */
    function _convertToDate (value) {
      return moment(value).toDate();
    }

    /**
     * Extracts the meridiem from the date.
     * @param {!string|number|Date} date The date in string, milliseconds or Date object
     * @returns {!string} Meridium localized.
     * @private
     */
    function _meridiem (date) {
      dlcui.assert(dlcui.isDate(date) || dlcui.isStringWithLength(date) || dlcui.isNumber(date));

      return moment(date).format('A');
    }

    /**
     * Returns the placeholder text
     * @param {!string} type The type of component and see DLCUI_DATE_TIME_PICKER_TYPE
     * @param {!boolean} secondsVisible Whether the seconds is visible
     * @returns {!string} the placeholder
     * @private
     */
    function _getPlaceholder (type, secondsVisible) {
      dlcui.assertStringWithLength(type);

      var longDateFormat = moment.localeData()._longDateFormat || _defaultLocaleData;
      var placeholder = null;

      if (type === DLCUI_DATE_TIME_PICKER_TYPE.date) {
        placeholder = longDateFormat.L;
      } else if (type === DLCUI_DATE_TIME_PICKER_TYPE.time && !secondsVisible) {
        placeholder = longDateFormat.LT;
      } else if (type === DLCUI_DATE_TIME_PICKER_TYPE.time && secondsVisible) {
        placeholder = longDateFormat.LTS;
      } else if (type === DLCUI_DATE_TIME_PICKER_TYPE.dateAndTime && !secondsVisible) {
        placeholder = [longDateFormat.L, longDateFormat.LT].join(' ');
      } else {
        placeholder = [longDateFormat.L, longDateFormat.LTS].join(' ');
      }

      return placeholder.replace(' h:', ' hh:');
    }

    /**
     * Convert the date/time into a formatted string
     * @param {!string|number|Date} date The date in string, milliseconds or Date object
     * @param {!string} format The date/time format string to use
     * @returns {string} The formatted date/Tiem
     * @private
     */
    function _format(date, format) {
      dlcui.assert(dlcui.isDate(date) || dlcui.isStringWithLength(date) || dlcui.isNumber(date));
      dlcui.assertStringWithLength(format);

      return moment(date).format(format);
    }

    /**
     * Returns the default formatting to use for time.
     * @param {!boolean} military Militry time is used
     * @param {!boolean} includeMeridiem Include Meridiem
     * @param {!boolean} includeSeconds Include Seconds
     * @returns {string} The format string.
     * @private
     */
    function _getDefaultTimeFormat (military, includeMeridiem, includeSeconds) {
      dlcui.assertBoolean(military);
      dlcui.assertBoolean(includeMeridiem);
      dlcui.assertBoolean(includeSeconds);

      var timeFormat = '';

      if (!military && includeMeridiem) {
        if (includeSeconds) {
          timeFormat = 'LTS';
        } else {
          timeFormat = 'LT';
        }
      } else {
        if (military) {
          timeFormat += 'HH:mm';
        } else {
          timeFormat += 'hh:mm';
        }
        if (includeSeconds) {
          timeFormat += ':ss';
        }
        if (!military && includeMeridiem) {
          timeFormat += ' a';
        }
      }

      return timeFormat;
    }

    /**
     * Returns the localized default format date string
     * @returns {string} The default Date Format String
     * @private
     */
    function _getDefaultDateFormat () {
      return 'L';
    }

    /**
     * Returns the default formatting to use for time.
     * @param {!boolean} military Militry time is used
     * @param {!boolean} includeMeridiem Include Meridiem
     * @param {!boolean} includeSeconds Include Seconds
     * @returns {string} The format string.
     * @private
     */
    function _getDefaultDateAndTimeFormat (military, includeMeridiem, includeSeconds) {
      return [_getDefaultDateFormat(), _getDefaultTimeFormat(military, includeMeridiem, includeSeconds)].join(' ');
    }

    /**
     * Add the specified optSize or 1 to the specified date
     * @param {!string|number|Date} date The date to add too
     * @param {!string} type The type such as 'years', 'months', 'hours' etc.
     * @param {?number=} optSize The optional size and defaults to 1
     * @returns {Date} The updated date.
     * @private
     */
    function _next (date, type, optSize) {
      dlcui.assert(dlcui.isDate(date) || dlcui.isStringWithLength(date) || dlcui.isNumber(date));
      dlcui.assertStringWithLength(type);
      dlcui.assertOptionalNumber(optSize);

      if (!dlcui.isNumber(optSize) || optSize <= 0) {
        optSize = 1;
      }

      return moment(date).add(optSize, type).toDate();
    }

    /**
     * Subtract the specified optSize or 1 from the specified date
     * @param {!string|number|Date} date The date to add too
     * @param {!string} type The type such as 'years', 'months', 'hours' etc.
     * @param {?number=} optSize The optional size and defaults to 1
     * @returns {Date} The updated date.
     * @private
     */
    function _previous (date, type, optSize) {
      dlcui.assert(dlcui.isDate(date) || dlcui.isStringWithLength(date) || dlcui.isNumber(date));
      dlcui.assertStringWithLength(type);
      dlcui.assertOptionalNumber(optSize);
      if (!dlcui.isNumber(optSize) || optSize <= 0) {
        optSize = 1;
      }

      return moment(date).subtract(optSize, type).toDate();
    }

    /**
     * Used to comapre two date instances
     * @class
     */
    function CompareDate() {
      /**
       * Compares the month and year
       * @param {!Date|string|number} date1 The date to compare
       * @param {!Date|string|number} date2 The date to compare with
       * @returns {boolean} True if they have the same year and month
       */
      this.month = function (date1, date2) {
        date1 = _convertToDate(date1);
        date2 = _convertToDate(date2);

        return ((date1.getFullYear() === date2.getFullYear()) && (date1.getMonth() === date2.getMonth()));
      };

      /**
       * Compares the day, month and year
       * @param {!Date|string|number} date1 The date to compare
       * @param {!Date|string|number} date2 The date to compare with
       * @returns {boolean} True if they have the same year, month and day
       */
      this.day = function (date1, date2) {
        date1 = _convertToDate(date1);
        date2 = _convertToDate(date2);

        return (date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() &&
        date1.getDate() === date2.getDate());
      };
    }

    return {
      clearDate: _clearDate,
      clearTime: _clearTime,
      compare: new CompareDate(),
      convertToDate: _convertToDate,
      format: _format,
      getDefaultTimeFormat: _getDefaultTimeFormat,
      getDefaultDateFormat: _getDefaultDateFormat,
      getDefaultDateAndTimeFormat: _getDefaultDateAndTimeFormat,
      getPlaceholder: _getPlaceholder,
      previous: _previous,
      next: _next,
      meridiem: _meridiem,
      merge: function(date, time) {
        dlcui.assertDate(date);
        dlcui.assertDate(time);
        return new Date(date.getFullYear(), date.getMonth(), date.getDate(), time.getHours(),
          time.getMinutes(), time.getSeconds(), time.getMilliseconds());
      }
    };
  }]);
;/* eslint max-statements: 0 */
/**
 * @ngdoc directive
 * @name dateTimePicker
 * @module dlcui
 * @src src/directives/input/dateTimePicker/dlcuiDateTimePicker.directive.js
 * @controlType input
 * @restrict E
 *
 * @param {ngModel} ng-model Angular model that represents the checkbox state for this directive (i.e. true/false)
 * @param {string=} format The date, time or date and time format string. The default is to use the browser locale.
 * @param {boolean=} hideSeconds Set this to 'true' to hide the seconds and the default is 'false'
 * @param {number=} incrementHour The amount by which the hour is incremented and default is '1'
 * @param {number=} incrementMinute The amount by which the minutes are incremented and default is '1'
 * @param {number=} incrementSecond The amount by which the seconds are incremented and default is '1'
 * @param {boolean=} military Display the time in military format and default is 'false'
 * @param {string=} placeholder The string to display if the value is empty and default to the format option
 * above or the locale formatting string, i.e. the first one that is defined.
 * @param {boolean=} strict Set this to 'true' to ensure the user is forced to input the data exactly the same
 * as the current locale format or the specified format property above if defined. The default is 'true'.
 * @param {string=} type The picker type and allowed values include,
 * * 'date' or DLCUI_DATE_TIME_PICKER_TYPE.date - Date Only Picker
 * * 'time' or DLCUI_DATE_TIME_PICKER_TYPE.time - Time Only Picker
 * * 'dateAndTime' or DLCUI_DATE_TIME_PICKER_TYPE.dateAndTime - Date and Time Picker.
 *
 * The default value is the 'dateAndTime' type.
 * @param {ngDisabled=} ng-disabled boolean representing the state of the directive (i.e. enabled/disabled) and
 *  uses the angular directive ng-disabled.
 *
 * @description
 * Element based directive that allows the user to enter either,
 * * Date and Time value at the same time
 * * Date Only value
 * * Time Only value.
 *
 * The default model type that this component works with is a javascript <b>Date</b> instance type, which can be
 * changed by using one of the following pre-defined formatters (directives),
 * * <i>dlcui-epoch-format</i> Epoch or Unix time number format, which is the number of milli-seconds since
 * 1 January 1971.
 * * <i>dlcui-iso-format</i> ISO time format, which is a string based value that is now commonly
 * used in Rest calls to represent a date value.
 * * <i>dlcui-universal-format</i> Universal or UTC time format.
 * One of these directives can be applied directly to the component as follows,
 * ```html
 * <dlcui-date-time-picker ng-model="model.value"
 *                       ng-disabled="!options.enabled"
 *                       dlcui-epoch-format
 *                       hide-seconds="{{!options.showSeconds}}">
 * </dlcui-date-time-picker>
 * ```
 * Using one of these formatters saves the developer time in having to convert from and to a JavaScript Date type.
 *
 * The Date Time Picker will automatically set the date to <i>1 January 1971</i> when the <i>type</i> is set to 'time'.
 * It will automatically set the time to <i>00:00:00</i> if the <i>type</i> is set to 'date'. These adjustments are
 * made since JavaScript does not support the concept of a Date Only or a Time Only value. This component will not
 * make any extra adjustments if the <i>type</i> is set to 'dateAndTime'.
 *
 * The Date and Time picker will validate the data the user enters into the input box by verifying that it matches
 * the specified <i>format</i> property or the default locale if not defined. A red border is added if the validation
 * fails. It is possible to configure the component to be less strict and to attempty to parse the data/time value
 * to the best of its ability and this can be achieved by setting the <i>strict</i> property to 'false' as follows,
 * ```html
 * <dlcui-date-time-picker ng-model="model.value"
 *                       ng-disabled="!options.enabled"
 *                       strict="false"
 *                       hide-seconds="{{!options.showSeconds}}">
 * </dlcui-date-time-picker>
 * ```
 *
 * @example
 * <h3>Time Picker</h3>
 * <example name="timePickerBasic">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Model: ({{model.value | date : 'mediumTime'}})</h3>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled"></dlcui-checkbox>
 *           <dlcui-checkbox label="Show Seconds" ng-model="options.showSeconds"></dlcui-checkbox>
 *           <dlcui-checkbox label="Show Military Time" ng-model="options.military"></dlcui-checkbox>
 *           <dlcui-checkbox label="Strict Parsing" ng-model="options.strict"></dlcui-checkbox>
 *           <br><br>
 *           <dlcui-date-time-picker ng-model="model.value"
 *                                 ng-disabled="!options.enabled"
 *                                 hide-seconds="{{!options.showSeconds}}"
 *                                 military="{{options.military}}"
 *                                 strict="{{options.strict}}"
 *                                 type="{{options.type}}">
 *           </dlcui-date-time-picker>
 *      </div>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_DATE_TIME_PICKER_TYPE) {
 *
 *        $scope.model = {
 *          value: new Date()
 *        };
 *
 *        $scope.options = {
 *          enabled: true,
 *          military: false,
 *          showSeconds: false,
 *          strict: true,
 *          type: DLCUI_DATE_TIME_PICKER_TYPE.time
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 450px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Date Picker</h3>
 * <example name="datePickerBasic">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Model: ({{model.value | date : 'longDate'}})</h3>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled"></dlcui-checkbox>
 *           <dlcui-checkbox label="Strict Parsing" ng-model="options.strict"></dlcui-checkbox>
 *           <br><br>
 *           <dlcui-date-time-picker ng-model="model.value"
 *                                 ng-disabled="!options.enabled"
 *                                 strict="{{options.strict}}"
 *                                 type="{{options.type}}">
 *           </dlcui-date-time-picker>
 *      </div>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_DATE_TIME_PICKER_TYPE) {
 *
 *        $scope.model = {
 *          value: new Date()
 *        };
 *
 *        $scope.options = {
 *          enabled: true,
 *          strict: true,
 *          type: DLCUI_DATE_TIME_PICKER_TYPE.date
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 500px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Date & Time Picker</h3>
 * <example name="dateTimePickerBasic">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Model: ({{model.value | date : 'medium'}})</h3>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled"></dlcui-checkbox>
 *           <dlcui-checkbox label="Show Seconds" ng-model="options.showSeconds"></dlcui-checkbox>
 *           <dlcui-checkbox label="Show Military Time" ng-model="options.military"></dlcui-checkbox>
 *           <dlcui-checkbox label="Strict Parsing" ng-model="options.strict"></dlcui-checkbox>
 *           <br><br>
 *           <dlcui-date-time-picker ng-model="model.value"
 *                                 ng-disabled="!options.enabled"
 *                                 hide-seconds="{{!options.showSeconds}}"
 *                                 military="{{options.military}}"
 *                                 strict="{{options.strict}}"
 *                                 type="{{options.type}}">
 *           </dlcui-date-time-picker>
 *      </div>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_DATE_TIME_PICKER_TYPE) {
 *
 *        $scope.model = {
 *          value: new Date()
 *        };
 *
 *        $scope.options = {
 *          enabled: true,
 *          military: false,
 *          showSeconds: false,
 *          strict: true,
 *          type: DLCUI_DATE_TIME_PICKER_TYPE.dateAndTime
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 600px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Date & Time Picker Placeholder</h3>
 * <example name="dateTimePickerBasicPlaceholder">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Model: ({{model.value | date : 'medium'}})</h3>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled"></dlcui-checkbox>
 *           <dlcui-checkbox label="Show Seconds" ng-model="options.showSeconds"></dlcui-checkbox>
 *           <dlcui-checkbox label="Show Military Time" ng-model="options.military"></dlcui-checkbox>
 *           <dlcui-checkbox label="Strict Parsing" ng-model="options.strict"></dlcui-checkbox>
 *           <br><br>
 *           <dlcui-date-time-picker ng-model="model.value"
 *                                 ng-disabled="!options.enabled"
 *                                 hide-seconds="{{!options.showSeconds}}"
 *                                 military="{{options.military}}"
 *                                 strict="{{options.strict}}"
 *                                 type="{{options.type}}">
 *           </dlcui-date-time-picker>
 *      </div>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_DATE_TIME_PICKER_TYPE) {
 *
 *        $scope.model = {
 *          value: null
 *        };
 *
 *        $scope.options = {
 *          enabled: true,
 *          military: false,
 *          showSeconds: false,
 *          strict: true,
 *          type: DLCUI_DATE_TIME_PICKER_TYPE.dateAndTime
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 600px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Date and Time Picker with Epoch Formatter</h3>
 * <example name="timePickerEpoch">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Raw Epoch Model: ({{model.value}})</h3>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled"></dlcui-checkbox>
 *           <br><br>
 *           <dlcui-date-time-picker ng-model="model.value"
 *                                 dlcui-epoch-format
 *                                 ng-disabled="!options.enabled"
 *                                 type="{{options.type}}">
 *           </dlcui-date-time-picker>
 *      </div>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_DATE_TIME_PICKER_TYPE) {
 *
 *        $scope.model = {
 *          value: new Date().getTime()
 *        };
 *
 *        $scope.options = {
 *          enabled: true,
 *          type: DLCUI_DATE_TIME_PICKER_TYPE.dateAndTime
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 500px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Date and Time Picker with ISO Formatter</h3>
 * <example name="timePickerEpoch">
 *  <file name="index.html">
 *    <div class="container">
 *      <h3>Raw ISO Model: ({{model.value}})</h3>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled"></dlcui-checkbox>
 *           <br><br>
 *           <dlcui-date-time-picker ng-model="model.value"
 *                                 dlcui-iso-format
 *                                 ng-disabled="!options.enabled"
 *                                 type="{{options.type}}">
 *           </dlcui-date-time-picker>
 *      </div>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_DATE_TIME_PICKER_TYPE) {
 *
 *        $scope.model = {
 *          value: new Date().getTime()
 *        };
 *
 *        $scope.options = {
 *          enabled: true,
 *          type: DLCUI_DATE_TIME_PICKER_TYPE.dateAndTime
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 500px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 *  <h3>Form with Date/Time Example</h3>
 *  <example name="dateTimeForm">
 *  <file name="index.html">
 *    <p>
 *        <b>Note: </b><i>Changing the model will place the form in dirty state and change the border, which is
 *    managed through the css within styles.css above.</i>
 *    </p>
 *    <form class="dlcui-example-form">
 *        <dlcui-label label="Appointment:"></dlcui-label>
 *        <br>
 *        <dlcui-date-time-picker ng-model="model.appointement"
 *                                 dlcui-epoch-format>
 *        </dlcui-date-time-picker>
 *        <br><br>
 *        <dlcui-label label="Birthdate:"></dlcui-label>
 *        <br>
 *        <dlcui-date-time-picker ng-model="model.birthdate"
 *                              type="date">
 *        </dlcui-date-time-picker>
 *        <br>
 *    </form>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *      //
 *      // Setup Default Demo Model
 *      //
 *      $scope.model = {
 *        appointement: new Date().getTime(),
 *        birthdate: null
 *      };
 *    });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *    }
 *
 *    .dlcui-example-form {
 *      padding: 10px;
 *    }
 *
 *    .dlcui-example-form {
 *      border: 1px dotted transparent;
 *    }
 *
 *    .dlcui-example-form.ng-dirty {
 *      border: 1px dotted #1f9dfa;
 *    }
 *  </file>
 *  </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDateTimePicker', ['$templateCache', 'dlcuiDateTime', function ($templateCache,
                                            dlcuiDateTime) {
    return {
      restrict: 'E',
      require: 'ngModel',
      replace: true,
      controller: 'dlcuiDateTimePickerController',
      controllerAs: 'dateTimeCtrl',
      scope: {
        format: '@',
        hideSeconds: '@',
        incrementHour: '@',
        incrementMinute: '@',
        incrementSecond: '@',
        military: '@',
        placeholder: '@',
        strict: '@',
        type: '@',
        disabled: '=?ngDisabled'
      },
      template: function() {
		return $templateCache.get('ngclarity/directives/input/dateTimePicker/dlcuiDateTimePicker.directive.html');
		},
      link: function (scope, element, attrs, ngModelCtrl) {
        /**
         * The drop down element
         */
        var _dropdownElement = element.find('.dlcui-date-time-drop-down');

        /**
         * The input element
         */
        var inputElement = element.find('.dlcui-datetime-picker-input');

        /**
         * Determines if the month or year has changed
         * @param {Date|null} newValue The new value
         * @param {Date|null} oldValue The old value
         * @returns {boolean} True if year or month has changed
         * @private
         */
        function _isYearMonthChanged (newValue, oldValue) {
          if (!dlcui.isDefined(newValue) || !dlcui.isDefined(oldValue)) {
            return true;
          } else if (newValue.getFullYear() !== oldValue.getFullYear() ||
            newValue.getMonth() !== oldValue.getMonth()) {
            return true;
          }

          return false;
        }

        /**
         * Verifies the position of the popup and moves it if clipped.
         * @private
         */
        function _checkDropdownPosition () {
          _dropdownElement.position({
            collision: 'none',
            my: 'left top',
            at: 'left bottom',
            of: $(inputElement)[0]
          });
        }

        /**
         * Reads the value from the input and parses it for the model.
         * @private
         */
        function _readInputModel() {
          var inputModelMoment = moment(scope.inputModel, scope.dateTimeCtrl.getFormat(),
            scope.dateTimeCtrl.isStrict());
          if (inputModelMoment.isValid()) {
            scope.model = inputModelMoment.toDate();
          } else {
            scope.model = null;
          }
        }

        /**
         * Generates the options for the calendar
         * @param {!Date} date The date value to generate the value for
         * @returns {!Array} The calendar options
         * @private
         */
        function _createCalendar (date) {
          var month = [];
          var start = function () {
            var value = new Date(date.getFullYear(), date.getMonth(), 1);
            var day = value.getDay();

            day = (day === 0) ? 7 : day;
            value.setDate(value.getDate() - day);

            return value;
          };

          if (dlcui.isDate(date)) {
            date = new Date(date);
            var iterator = new Date(start());
            var week = [];

            for (var loopWeek = 0; loopWeek < 6; loopWeek++) {
              week = [];
              for (var loopDay = 0; loopDay < 7; loopDay++) {
                var tempDate = new Date(iterator);
                week.push({
                  date: tempDate,
                  selected: dlcuiDateTime.compare.day(tempDate, date),
                  month: dlcuiDateTime.compare.month(tempDate, date),
                  today: dlcuiDateTime.compare.day(tempDate, scope.today)
                });

                iterator.setDate(iterator.getDate() + 1);
              }
              month.push(week);
            }
          }

          return month;
        }

        /**
         * Called to update the calendar options.
         */
        function _updateCalendarOptions () {
          if (scope.hasFocus) {
            inputElement.focus();
          }
          scope.calendar = _createCalendar(scope.model || scope.today);
        }

        /**
         * Current date/time
         * @type {Date}
         */
        scope.today = new Date();

        /**
         * The model associated with this component
         * @type {null}
         */
        scope.model = null;

        /**
         * The meridiem value
         * @type {null}
         */
        scope.meridiem = null;

        /**
         * The internal input model associated with the input compoment.
         * @type {null}
         */
        scope.inputModel = null;

        /**
         * The Date Time Factory
         * @type {dlcuiDateTime|any}
         */
        scope.dlcuiDateTime = dlcuiDateTime;

        /**
         * The calendar option
         * @type {Array}
         */
        scope.calendar = [];

        /**
         * Dtermines if the drop is visible
         * @type {boolean}
         */
        scope.dropDownVisible = false;

        /**
         * Determines if the calendar is visible or the time and is used for date and time type.
         * @type {boolean}
         */
        scope.calendarVisible = true;

        /**
         * Defines whether the input has focus.
         * @type {boolean}
         */
        scope.inputActive = false;

        /**
         * Determines if the drop down is visible
         * @type {boolean}
         */
        scope.dropDownVisible = false;

        /**
         * Retrieves the increment size for the hour option.
         * @returns {!Number} The size of the increment.
         */
        scope.getIncrementHour = function () {
          if (dlcui.isStringWithLength(scope.incrementHour)) {
            return parseInt(scope.incrementHour, 10) || 1;
          }

          return 1;
        };

        /**
         * Retrieves the increment size for the minute option.
         * @returns {!Number} The size of the increment.
         */
        scope.getIncrementMinute = function () {
          if (dlcui.isStringWithLength(scope.incrementMinute)) {
            return parseInt(scope.incrementMinute, 10) || 1;
          }

          return 1;
        };

        /**
         * Retrieves the increment size for the second option.
         * @returns {!Number} The size of the increment.
         */
        scope.getIncrementSecond = function () {
          if (dlcui.isStringWithLength(scope.incrementSecond)) {
            return parseInt(scope.incrementSecond, 10) || 1;
          }

          return 1;
        };

        /**
         * Called to change the internal model
         * @param {Date|string|number|null} value The date to set it to
         */
        scope.setModel = function (value) {
          scope.model = value;
        };

        /**
         * Called by the calender so we update just the date part.
         * @param {Date|string|number|null} value The date to set it to
         */
        scope.mergeDateModel = function (value) {
          if (!dlcui.isDate(scope.model)) {
            scope.model = value;
          } else {
            scope.model = dlcuiDateTime.merge(value, scope.model);
          }
        };

        /**
         * Returns true if the meridiem is visible
         * @returns {boolean} True if visible
         */
        scope.isMeridiemVisible = function () {
          return !scope.dateTimeCtrl.isMilitary();
        };

        /**
         * Called to hide the popup menu.
         */
        scope.hidePopup = function() {
          if (scope.dropDownVisible) {
            scope.dropDownVisible = false;
            _dropdownElement.removeClass('dlcui-date-time-drop-down-open').addClass('dlcui-date-time-drop-down-closed');
          }
        };

        /**
         * Called when the input gains focus.
         */
        scope.onInputFocus = function () {
          scope.inputActive = true;
        };

        /**
         * Called when the input loses focus.
         */
        scope.onInputBlur = function () {
          scope.inputActive = false;
        };

        /**
         * Called to hide the popup menu.
         */
        scope.showPopup = function() {
          if (!scope.disabled && !scope.dropDownVisible) {
            _dropdownElement.removeClass('dlcui-date-time-drop-down-closed').addClass('dlcui-date-time-drop-down-open');
            _checkDropdownPosition();
            scope.dropDownVisible = true;
          }
        };

        /**
         * Returns the template to use for the calendar part of the popup
         * @returns {string} The template URL
         */
        scope.getCalenderTemplateUrl = function() {
          return 'ngclarity/directives/input/dateTimePicker/dlcuiCalendarContainer.template.html';
        };

        /**
         * Returns the template to use for the time part of the drop down.
         * @returns {string} The template URL
         */
        scope.getTimeTemplateUrl = function() {
          return 'ngclarity/directives/input/dateTimePicker/dlcuiTimeContainer.template.html';
        };

        /**
         * Calculates the template to use based on the specified scope.type
         * @returns {string} The template URL.
         */
        scope.getDropdownTemplateUrl = function () {
          if (scope.dateTimeCtrl.isDatePicker()) {
            return scope.getCalenderTemplateUrl();
          } else if (scope.dateTimeCtrl.isTimePicker()) {
            return scope.getTimeTemplateUrl();
          }

          return 'ngclarity/directives/input/dateTimePicker/dlcuiCalendarAndTimeContainer.template.html';
        };

        /**
         * Returns the place holder string if configured.
         * @returns {!string} The place holder string.
         */
        scope.getPlaceholder = function () {
          if (dlcui.isStringWithLength(scope.placeholder)) {
            return scope.placeholder;
          } else if (dlcui.isStringWithLength(scope.format)) {
            return scope.format;
          }

          return dlcuiDateTime.getPlaceholder(scope.dateTimeCtrl.getType(), scope.dateTimeCtrl.isSecondVisible());
        };

        /**
         * Is the calendar visible
         * @returns {boolean} True if visible
         */
        scope.isCalenderVisible = function () {
          return scope.calendarVisible;
        };

        /**
         * Called to display the calendar part in the date and time picker.
         */
        scope.showCalendar = function () {
          scope.calendarVisible = true;
        };

        /**
         * Called to hide the calendar part in the date and time picker.
         */
        scope.hideCalendar = function () {
          scope.calendarVisible = false;
        };

        /**
         * Called when the component gains or loses input focus
         * @param {!boolean} hasFocus True if the component has input focus.
         */
        scope.onFocusComponent = function (hasFocus) {
          scope.hasFocus = hasFocus;

          if (hasFocus) {
            scope.showPopup();
          } else {
            scope.hidePopup();
          }
        };

        /**
         * Called when the user click on a day within the canvas
         * @param {!Object} day The day object generated by the _createCalendar method.
         */
        scope.onSelectDay = function(day) {
          angular.forEach(scope.calendar, function (week) {
            angular.forEach(week, function (weekDay) {
              weekDay.selected = false;
            });
          });
          day.selected = true;
          scope.mergeDateModel(day.date);
        };

        // Validate that all the date is valid
        ngModelCtrl.$validators.format = function (modelValue, viewValue) {
          return dlcui.isDefined(modelValue) && dlcui.isDefined(viewValue);
        };

        // Convert the internal model for the view
        ngModelCtrl.$render = function () {
          scope.today = new Date();
          scope.model = ngModelCtrl.$viewValue;
        };

        attrs.$observe('hideSeconds', function (newValue, oldValue) {
          if (dlcui.isDefined(scope.model) && newValue !== oldValue) {
            scope.inputModel = dlcuiDateTime.format(scope.model, scope.dateTimeCtrl.getFormat());
          }
        });

        attrs.$observe('military', function (newValue, oldValue) {
          if (dlcui.isDefined(scope.model) && newValue !== oldValue) {
            scope.inputModel = dlcuiDateTime.format(scope.model, scope.dateTimeCtrl.getFormat());
          }
        });

        attrs.$observe('strict', function (newValue, oldValue) {
          if (dlcui.isDefined(scope.inputModel) && newValue !== oldValue) {
            _readInputModel();
          }
        });

        scope.$watch('model', function (newValue, oldValue) {
          var viewValue = scope.model;

          if (viewValue) {
            viewValue = dlcuiDateTime.convertToDate(viewValue);
            if (scope.dateTimeCtrl.isDatePicker()) {
              dlcuiDateTime.clearTime(viewValue);
            } else if (scope.dateTimeCtrl.isTimePicker()) {
              dlcuiDateTime.clearDate(viewValue);
            }
          }
          scope.meridiem = dlcuiDateTime.meridiem(scope.model || scope.today);
          if (!scope.inputActive) {
            scope.inputModel = null;
            if (dlcui.isDefined(scope.model)) {
              scope.inputModel = dlcuiDateTime.format(scope.model, scope.dateTimeCtrl.getFormat());
            }
          }
          if ((scope.dateTimeCtrl.isDatePicker() || scope.dateTimeCtrl.isDateAndTimePicker()) &&
            (!dlcui.isArrayWithLength(scope.calendar) || _isYearMonthChanged(newValue, oldValue))) {
            _updateCalendarOptions();
          }

          if (newValue !== oldValue) {
            ngModelCtrl.$setViewValue(viewValue);
          }
        });

        scope.$watch('inputModel', function () {
          if (scope.inputActive) {
            _readInputModel();
          }
        });
      }
    };
  }]);
;/* eslint-disable angular/controller-as-vm, consistent-this, max-statements */
angular.module('dell.ngclarity.directives')
  .controller('dlcuiDateTimePickerController', ['dlcuiDateTime', '$scope', 'DLCUI_DATE_TIME_PICKER_TYPE', function (dlcuiDateTime,
                                                       $scope,
                                                       DLCUI_DATE_TIME_PICKER_TYPE) {
    /**
     * Returns the format string used to format the date into a String.
     * @returns {!string} The format string.
     */
    this.getFormat = function () {
      if (dlcui.isStringWithLength($scope.format)) {
        return $scope.format;
      }

      var type = this.getType();

      if (type === DLCUI_DATE_TIME_PICKER_TYPE.date) {
        return dlcuiDateTime.getDefaultDateFormat();
      } else if (type === DLCUI_DATE_TIME_PICKER_TYPE.time) {
        return dlcuiDateTime.getDefaultTimeFormat(this.isMilitary(), $scope.isMeridiemVisible(),
          this.isSecondVisible());
      }

      return dlcuiDateTime.getDefaultDateAndTimeFormat(this.isMilitary(), $scope.isMeridiemVisible(),
        this.isSecondVisible());
    };

    /**
     * Returns the component date time type.
     * @returns {!string} The type as defined within DLCUI_DATE_TIME_PICKER_TYPE
     */
    this.getType = function () {
      if (!dlcui.isStringWithLength($scope.type)) {
        return DLCUI_DATE_TIME_PICKER_TYPE.dateAndTime;
      }
      dlcui.assert($scope.type in DLCUI_DATE_TIME_PICKER_TYPE, 'Invalid date time picker type.');
      return $scope.type;
    };

    /**
     * Returns true if this is a Time Picker component
     * @returns {boolean} true or false
     */
    this.isTimePicker = function () {
      return this.getType() === DLCUI_DATE_TIME_PICKER_TYPE.time;
    };

    /**
     * Returns true if this is a Date Picker component
     * @returns {boolean} true or false
     */
    this.isDatePicker = function () {
      return this.getType() === DLCUI_DATE_TIME_PICKER_TYPE.date;
    };

    /**
     * Returns true if this is a Date and Time Picker component
     * @returns {boolean} true or false
     */
    this.isDateAndTimePicker = function () {
      return this.getType() === DLCUI_DATE_TIME_PICKER_TYPE.dateAndTime;
    };

    /**
     * Returns true if military date/time is been used
     * @returns {boolean} True if enabled
     */
    this.isMilitary = function () {
      if (dlcui.isStringWithLength($scope.military)) {
        return $scope.military === 'true';
      }

      return false;
    };

    /**
     * Returns true if the date parsing of the user entered data is strict
     * @returns {boolean} True if strict
     */
    this.isStrict = function () {
      if (dlcui.isStringWithLength($scope.strict)) {
        return $scope.strict === 'true';
      }

      return true;
    };

    /**
     * Returns true if the seconds design is visible
     * @returns {boolean} True if the second option is visible.
     */
    this.isSecondVisible = function () {
      if (dlcui.isStringWithLength($scope.hideSeconds)) {
        return $scope.hideSeconds !== 'true';
      }

      return true;
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_DATE_TIME_PICKER_TYPE', {
  date: 'date',
  time: 'time',
  dateAndTime: 'dateAndTime'
});
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiEpochFormat', ['dlcuiDateTime', function (dlcuiDateTime) {
    return {
      restrict: 'A',
      require: 'ngModel',
      terminal: true,
      link: function (scope, element, attrs, ngModelCtrl) {
        // Format the model value for the view
        ngModelCtrl.$formatters.push(function (modelValue) {
          return dlcuiDateTime.convertToDate(modelValue);
        });

        // Format the view value by converting it to the epoch timestamp
        ngModelCtrl.$parsers.push(function (viewValue) {
          return dlcuiDateTime.convertToDate(viewValue).getTime();
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiIsoFormat', ['dlcuiDateTime', function (dlcuiDateTime) {
    return {
      restrict: 'A',
      require: 'ngModel',
      terminal: true,
      link: function (scope, element, attrs, ngModelCtrl) {
        // Format the model value for the view
        ngModelCtrl.$formatters.push(function (modelValue) {
          return dlcuiDateTime.convertToDate(modelValue);
        });

        // Format the view value by converting it to the epoch timestamp
        ngModelCtrl.$parsers.push(function (viewValue) {
          return dlcuiDateTime.convertToDate(viewValue).toISOString();
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiUniversalFormat', ['dlcuiDateTime', function (dlcuiDateTime) {
    return {
      restrict: 'A',
      require: 'ngModel',
      terminal: true,
      link: function (scope, element, attrs, ngModelCtrl) {
        // Format the model value for the view
        ngModelCtrl.$formatters.push(function (modelValue) {
          return dlcuiDateTime.convertToDate(modelValue);
        });

        // Format the view value by converting it to the epoch timestamp
        ngModelCtrl.$parsers.push(function (viewValue) {
          return dlcuiDateTime.convertToDate(viewValue).toUTCString();
        });
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name dropDown
 * @module dlcui
 * @src directives/input/dropDown/dlcuiDropDown.directive.js
 * @controlType input
 * @restrict E
 *
 * @param {ngModel} ng-model object represents the selected value for the drop down and makes use of the
 * angular ng-model directive.
 * @param {Array} items Array of items that are displayed within the drop down.
 * The following highlights the design
 * ```javascript
 * items: [
 *          {
 *            id: 0,
 *            label: 'Ford, Harrison',  // Displayed visually within the selection area
 *            value: 0  // Used as the model value
 *          },
 *          {
 *            id: 1,
 *            label: 'Connery, Sean',
 *            value: 1
 *          },
 *          {
 *            id: 2,
 *            label: 'Phifer, Michelle',
 *            value: 2
 *          }
 *        ]
 * ```
 *
 * Each item must contain at least the <i>label</i> property which is used in the visual display within the drop
 * down list and within the dropdown component. The <i>value</i> property defines the value to be used for the
 * actual model and the developer can use any Javascript Primitive type such as String or Integer or even Date.
 *
 * If <i>value</i> property is not defined then the component will attempt to use the following properties
 * in the following order,
 * * id
 * * label
 * * name
 *
 * The visual label will also default to <i>name</i> for backward compatibility if <i>label</i> is not used.
 *
 * The idea is the <i>label</i> is used for display and the <i>value</i> is used to represent the model value.
 *
 * The <i>selectedItem</i> below represent an entire item object with all its properties.
 *
 * The <i>value</i> and <i>label</i> can also be a function that returns the true value, but angular promises is
 * not supported at this time.
 * @param {Object=} selectedItem Uses two way binding and sets the currently selected item object. The currently
 * selected value can be changed by changing this on the parent scope. This value contains the entire item object
 * whole the ng-model value contains the value or label of the selected item object.
 * @param {Function=} onSelectionChanged A callback function that is called when the selected changes and the
 * parameter includes the newly selected item.
 * @param {string=} maxHeight The maximum height for the drop down when opened. The default is 'auto'.
 * @param {string=} placeholder The string to display if no data is currently selected, which can happen if the
 * user sets the model value to null or a value that does not exist within the items.
 * @param {ngDisabled=} ng-disabled boolean representing the state of the directive (i.e. enabled/disabled) and
 * uses the angular directive ng-disabled.
 *
 * @description
 * Element based directive that is used as a dropdown control.
 *
 * @example
 * <h3>DropDown</h3>
 * <example name="dropDown">
 *  <file name='index.html'>
 *    <div class="container">
 *      <h3>Selected Value: ({{model.value}})</h3>
 *      <h3>Selected Item: ({{model.selectedItem}})</h3>
 *      <br><br>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-drop-down ng-model="model.value"
 *                          items="options.items"
 *                          on-selection-changed="onSelectionChanged(item)"
 *                          placeholder="Example Placeholder"
 *                          selected-item="model.selectedItem"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-drop-down>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 0 },
 *              { id: 1, label: 'Connery, Sean', value: 1 },
 *              { id: 2, label: 'Phifer, Michelle', value: 2 },
 *              { id: 3, label: 'Keaton, Michael', value: 3 },
 *              { id: 4, label: 'Seymour, Jane', value: 4 },
 *              { id: 5, label: 'Stewart, Patrick', value: 5 }
 *          ],
 *          style: {
 *            width: '180px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItem: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.item', function (item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('item', item);
 *            }
 *        });

 *        //
 *        // Event: onSelectionChanged()
 *        //
 *        $scope.onSelectionChanged = function(item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged()', item);
 *            }
 *        };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>DropDown with String Model Value</h3>
 * <example name="dropDownStringValue">
 *  <file name='index.html'>
 *    <div class="container">
 *      <h3>Selected Value: ({{model.value}})</h3>
 *      <h3>Selected Item: ({{model.selectedItem}})</h3>
 *      <br><br>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-drop-down ng-model="model.value"
 *                          items="options.items"
 *                          on-selection-changed="onSelectionChanged(item)"
 *                          placeholder="Select a value..."
 *                          selected-item="model.selectedItem"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-drop-down>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart' }
 *          ],
 *          style: {
 *            width: '150px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItem: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.item', function (item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('item', item);
 *            }
 *        });

 *        //
 *        // Event: onSelectionChanged()
 *        //
 *        $scope.onSelectionChanged = function(item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged()', item);
 *            }
 *        };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>DropDown with Max Height set</h3>
 * <example name="dropDownMaxHeight">
 *  <file name='index.html'>
 *    <div class="container">
 *      <h3>Selected Value: ({{model.value}})</h3>
 *      <h3>Selected Item: ({{model.selectedItem}})</h3>
 *      <br><br>
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-drop-down ng-model="model.value"
 *                          items="options.items"
 *                          max-height="110px"
 *                          on-selection-changed="onSelectionChanged(item)"
 *                          placeholder="Select a value..."
 *                          selected-item="model.selectedItem"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-drop-down>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart' }
 *          ],
 *          style: {
 *            width: '150px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItem: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.item', function (item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('item', item);
 *            }
 *        });

 *        //
 *        // Event: onSelectionChanged()
 *        //
 *        $scope.onSelectionChanged = function(item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged()', item);
 *            }
 *        };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Form with Drop Down and Validation</h3>
 * <example name="dropDownValidation">
 *  <file name='index.html'>
 *    <p>
 *        <b>Note: </b><i>Changing the model will change the forms dirty and error states and thus the border
 *        color, which is managed through the css within styles.css above, so watch closely.</i>
 *    </p>
 *    <form class="dlcui-example-form">
 *      <br><br>
 *      <div class="dlcui-flex-container-horizontal dlcui-align-center dlcui-justify-flex-start">
 *        <label class="dlcui-label">User Name: </label>
 *        <!-- The width is set using angular ng-style for the user -->
 *        <dlcui-drop-down ng-model="model.user.value"
 *                       ng-required="'true'"
 *                       items="options.user.items"
 *                       on-selection-changed="onSelectionChanged('User', item)"
 *                       placeholder="Select a Name"
 *                       selected-item="model.user.selectedItem">
 *        </dlcui-drop-down>
 *      </div>
 *      <br><br>
 *      <div class="dlcui-flex-container-horizontal dlcui-align-center dlcui-justify-flex-start">
 *        <label class="dlcui-label">Permission: </label>
 *        <!-- The width is set using angular ng-style for the user -->
 *        <dlcui-drop-down ng-model="model.permission.value"
 *                       ng-required="'true'"
 *                       items="options.permission.items"
 *                       on-selection-changed="onSelectionChanged('Permission', item)"
 *                       placeholder="Select a Name"
 *                       selected-item="model.permission.selectedItem">
 *        </dlcui-drop-down>
 *      </div>
 *      <br><br>
 *    </form>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          user: {
 *            items: [
 *                { id: 0, label: 'Ford, Harrison', value: 0 },
 *                { id: 1, label: 'Connery, Sean', value: 1 },
 *                { id: 2, label: 'Phifer, Michelle', value: 2 },
 *                { id: 3, label: 'Keaton, Michael', value: 3 },
 *                { id: 4, label: 'Seymour, Jane', value: 4 },
 *                { id: 5, label: 'Stewart, Patrick', value: 5 }
 *           ],
 *            style: {
 *              width: '150px'
 *            }
 *          },
 *          permission: {
 *            items: [
 *                { id: 0, label: 'none', value: '00' },
 *                { id: 1, label: 'read', value: '01' },
 *                { id: 2, label: 'write', value: '10' },
 *                { id: 3, label: 'admin', value: '11' }
 *           ],
 *            style: {
 *              width: '150px'
 *            }
 *          }
 *        };
 *
 *        $scope.model = {
 *          user: {
 *            selectedItem: null,
 *            value: null
 *          },
 *          permission: {
 *            value: '11'
 *          }
 *        };
 *
 *        $scope.onSelectionChanged = function(name, item) {
 *            if (dlcui.isDefined(item)) {
 *              console.log('onSelectionChanged(' + name + ')', item);
 *            }
 *        };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .dlcui-label {
 *      display: inline-block;
 *      width: 80px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *    .dlcui-drop-down {
 *      width: 150px;
 *    }
 *
 *    .dlcui-example-form {
 *      border: 1px dotted transparent;
 *      height: 300px;
 *      padding: 10px;
 *    }
 *
 *    .dlcui-example-form.ng-dirty {
 *      border: 1px dotted #1f9dfa;
 *    }
 *
 *    .dlcui-example-form.ng-invalid {
 *      border: 1px dotted #ce1126;
 *    }
 *
 *    .dlcui-example-form.ng-valid {
 *      border: 1px dotted #6ea204;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDropDown', ['$templateCache', 'dlcuiElementTabIndex', 'dlcuiDropDownList', function ($templateCache,
                                      dlcuiElementTabIndex,
                                      dlcuiDropDownList) {
    return {
      replace: true,
      restrict: 'E',
      require: 'ngModel',
      scope: {
        items: '=?',
        selectedItem: '=?',
        disabled: '=?ngDisabled',
        onSelectionChanged: '&',
        maxHeight: '@',
        placeholder: '@'
      },
	  template: function() {
		return $templateCache.get('ngclarity/directives/input/dropDown/dlcuiDropDown.directive.html');
		},
      link: function (scope, element, attrs, ngModelCtrl) {
        /**
         * Controls the visibility of the drop down list
         * @type {boolean}
         */
        scope.dropDownVisible = false;

        /**
         * Called when the user clicks on the drop down
         * @param {!Event} event The associated dom event.
         */
        scope.onDropDownClick = function (event) {
          event.stopPropagation();
          if (!scope.disabled && !scope.dropDownVisible) {
            scope.dropDownVisible = true;
          } else {
            scope.dropDownVisible = false;
          }
        };

        /**
         * Called when the user clicks outside of the component
         */
        scope.onDocumentClick = function() {
          scope.dropDownVisible = false;
        };

        /**
         * Called when the user clicks on an item.
         * @param {!Object} item The associated item.
         */
        scope.onDropDownItemClicked = function (item) {
          scope.selectedItem = item;
          scope.dropDownVisible = false;
        };

        /**
         * Returns true if the drop down is visible.
         * @returns {!boolean} True if visible.
         */
        scope.isDropDownVisible = function () {
          return scope.dropDownVisible;
        };

        // Watch the view value of the model
        ngModelCtrl.$render = function () {
          scope.selectedItem = dlcuiDropDownList.findItemForValue(ngModelCtrl.$viewValue, scope.items);
        };

        // Only call on selection change when the view vlaue changes
        ngModelCtrl.$viewChangeListeners.push(function () {
          if (scope.selectedItem) {
            scope.onSelectionChanged({
              item: scope.selectedItem
            });
          }
        });

        // Watch the input value so we can sync the data
        scope.$watch('selectedItem', function () {
          if (scope.selectedItem) {
            scope.highlightItem = scope.selectedItem;
            ngModelCtrl.$setViewValue(dlcuiDropDownList.getItemValue(scope.selectedItem));
          } else {
            ngModelCtrl.$setViewValue(null);
          }
        });

        // Enable tabbing to this element if not enabled yet.
        dlcuiElementTabIndex.enable(element);
      }
    };
  }]);

;/**
 * @ngdoc directive
 * @name dropDownButton
 * @module dlcui
 * @src directives/input/dropDownButton/dlcuiDropDownButton.directive.js
 * @controlType input
 * @restrict E
 *
 * @param {array} actions An array of tab objects. Each tab must have the following properties
 *  * <b>id (Required) -</b> The id of the action item
 *  * <b>label -</b> The text label to display with the item
 *  * <b>execute or href -</b> Either a execute method can be provided or an href string value or both.
 *  The execute method can return a boolean or a promise to control whether an href is executed. This return value
 *  has no affect if there is no href. The execute method can be used to change change through $state.go() if the
 *  ui route plugin is used.
 *  * <b>tooltip -</b> The tooltip to display when user hovers over an action item.
 *  * <b>hide -</b> Set this to true to hide the item and is not required.
 *  * <b>disabled -</b> Set this to true to disable the item and is not required.
 *
 *  ```javascript
 *  actions = [{
 *      id: 'Overview',
 *      label: 'Overview',
 *      tooltip: 'Display the Overview for the specified item',
 *      disabled: false,
 *      hide: false,
 *      href: '/overview'
 *    },
 *    {
 *      id: 'Status',
 *      label: 'Status',
 *      execute: function() {
 *         $scope.renderStatusContents();   // Developer could render contents manually or change the route state.
 *         return true;           // A angular promise can also be returned at this point
 *      },
 *      disabled: true
 *    }];
 *  ```
 *
 *  To add a separator to the list the following action json can be used,
 *  ```javascript
 *  {
 *      separator: true
 *  }
 *  ```
 *  <b>Note:</b> The id property is not required for this action type.
 * @param {string=} anchor The side of the button to anchor the menu to on the bottom. The allowed values are
 * * 'left' - Default - Bottom left of the button.
 * * 'right' - Bottom Righ of the button.
 * The anchor will be overridden by the design if the button is to close to the edit of the view and where
 * the menu will be clipped.
 * @param {boolean=} hide-drop-down-icon: '@' Set this to true to hide the drop down icon that is usually
 * displayed on the right and as an example can be used if this button is been displayed in the toolbar.
 * @param {string=} icon-name Name of an icon to display and is optional
 * @param {string=} icon-type The icon type such as 'image', 'svg' or 'font' the default will calculated
 * @param {string=} icon-color Color of an icon to display and is optional, current font color is used by default
 * if the color of the icon can be changed. This has not affect if the color can't be modified.
 * @param {string=} icon-size The size of the icon in standard css and the default is to use the current font size.
 * @param {string=} label A label to display for the button and is optional
 * @param {string=} maxHeight The maximum height for the drop down when opened. The default is 'auto'.
 * @param {string=} type The type (appearance) of the button. One of:
 * * 'default' - White
 * * 'primary' - Blue
 * * 'secondary' - Grey
 * * 'link'` - link as a button style
 * * 'flat' - flat look with no border and a transparent background
 *
 *  The color of a button in a disabled state, which can result from adding an 'ng-disabled' expression will
 *  change depending on the type.
 *
 * The default type is `'default'`.
 *
 *
 * @description
 * Element based directive that is used as a drop down button control that displays a menu when activated.
 *
 * This button allows the developer to specify a combination of the following contents
 * * A Icon where the name, size and color can be specified
 * * A Textual label
 * * A Drop down icon diplayed on the right.
 *
 *
 * @example
 * <h3>Basic Dropdown Button With Icon</h3>
 * <example name="basicExampleIcons">
 *  <file name='index.html'>
 *    <div class="container">
 *      <div class="container-bar dlcui-flex-container-horizontal dlcui-justify-space-around">
 *        <dlcui-drop-down-button actions="actions"
 *                              label="Reports"
 *                              ng-disabled="disabled">
 *        </dlcui-drop-down-button>
 *      </div>
 *      <br><br>
 *      <p>
 *        You selected <b>{{activatedText}}</b>
 *      </p>
 *      <p>
 *        <dlcui-checkbox label="Disabled" ng-model="disabled">
 *        </dlcui-checkbox>
 *      </p>
 *      <br>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.actions = [
 *          {
 *            id: 'generateIcome',
 *            label: 'Generate Income Results',
 *            execute: function () {
 *              $scope.activatedText = 'Generating Income Results'
 *            }
 *          },
 *          {
 *            id: 'generateUsage',
 *            label: 'Generate System Usage',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Usage'
 *            }
 *          },
 *          {
 *            separator: true
 *          },
 *          {
 *            id: 'generateSystemDown',
 *            label: 'Generate System Down',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Shutdown'
 *            }
 *          },
 *          {
 *            id: 'generateSearch',
 *            label: 'Search',
 *            execute: function () {
 *              $scope.activatedText = 'Searching for data';
 *            }
 *          }
 *        ];
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *    .btn-label {
 *      display:block;
 *      padding-bottom: 20px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      overflow-y: auto;
 *      height: 300px;
 *    }
 *    .container-bar {
 *      height: auto;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Basic Dropdown Button With Dropdown Anchored Right</h3>
 * <example name="basicExampleIcons">
 *  <file name='index.html'>
 *    <div class="container">
 *      <div class="container-bar dlcui-flex-container-horizontal dlcui-justify-space-around">
 *        <dlcui-drop-down-button actions="actions"
 *                              anchor="right"
 *                              label="Reports"
 *                              ng-disabled="disabled">
 *        </dlcui-drop-down-button>
 *      </div>
 *      <br><br>
 *      <p>
 *        You selected <b>{{activatedText}}</b>
 *      </p>
 *      <p>
 *        <dlcui-checkbox label="Disabled" ng-model="disabled">
 *        </dlcui-checkbox>
 *      </p>
 *      <br>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.actions = [
 *          {
 *            id: 'generateIcome',
 *            label: 'Generate Income Results',
 *            execute: function () {
 *              $scope.activatedText = 'Generating Income Results'
 *            }
 *          },
 *          {
 *            id: 'generateUsage',
 *            label: 'Generate System Usage',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Usage'
 *            }
 *          },
 *          {
 *            separator: true
 *          },
 *          {
 *            id: 'generateSystemDown',
 *            label: 'Generate System Down',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Shutdown'
 *            }
 *          },
 *          {
 *            id: 'generateSearch',
 *            label: 'Search',
 *            execute: function () {
 *              $scope.activatedText = 'Searching for data';
 *            }
 *          }
 *        ];
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *    .btn-label {
 *      display:block;
 *      padding-bottom: 20px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: 300px;
 *    }
 *    .container-bar {
 *      height: auto;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Basic Dropdown Button With No Icon</h3>
 * <example name="basicExampleNoIcons">
 *  <file name='index.html'>
 *    <div class="container">
 *      <div class="container-bar dlcui-flex-container-horizontal dlcui-justify-space-around">
 *        <dlcui-drop-down-button actions="actions"
 *                              label="Reports"
 *                              ng-disabled="disabled">
 *        </dlcui-drop-down-button>
 *      </div>
 *      <br><br>
 *      <p>
 *        You selected <b>{{activatedText}}</b>
 *      </p>
 *      <p>
 *        <dlcui-checkbox label="Disabled" ng-model="disabled">
 *        </dlcui-checkbox>
 *      </p>
 *      <br>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.actions = [
 *          {
 *            id: 'generateIcome',
 *            label: 'Generate Income Results',
 *            execute: function () {
 *              $scope.activatedText = 'Generating Income Results'
 *            }
 *          },
 *          {
 *            id: 'generateUsage',
 *            label: 'Generate System Usage',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Usage'
 *            }
 *          },
 *          {
 *            separator: true
 *          },
 *          {
 *            id: 'generateSystemDown',
 *            label: 'Generate System Down',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Shutdown'
 *            }
 *          },
 *          {
 *            id: 'generateSearch',
 *            label: 'Search',
 *            execute: function () {
 *              $scope.activatedText = 'Searching for data';
 *            }
 *          }
 *        ];
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *    .btn-label {
 *      display:block;
 *      padding-bottom: 20px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: 300px;
 *    }
 *    .container-bar {
 *      height: auto;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Basic Drop Down With Icons Clipped on Left</h3>
 * <example name="basicExampleIconsClippedLeft">
 *  <file name='index.html'>
 *    <div class="container">
 *      <div class="container-bar dlcui-flex-container-horizontal dlcui-justify-flex-start">
 *        <dlcui-drop-down-button actions="actions"
 *                              label="Reports"
 *                              ng-disabled="disabled">
 *        </dlcui-drop-down-button>
 *      </div>
 *      <br><br>
 *      <p>
 *        You selected <b>{{activatedText}}</b>
 *      </p>
 *      <p>
 *        <dlcui-checkbox label="Disabled" ng-model="disabled">
 *        </dlcui-checkbox>
 *      </p>
 *      <br>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.actions = [
 *          {
 *            id: 'generateIcome',
 *            label: 'Generate Income Results',
 *            execute: function () {
 *              $scope.activatedText = 'Generating Income Results'
 *            }
 *          },
 *          {
 *            id: 'generateUsage',
 *            label: 'Generate System Usage',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Usage'
 *            }
 *          },
 *          {
 *            separator: true
 *          },
 *          {
 *            id: 'generateSystemDown',
 *            label: 'Generate System Down',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Shutdown'
 *            }
 *          },
 *          {
 *            id: 'generateSearch',
 *            label: 'Search',
 *            execute: function () {
 *              $scope.activatedText = 'Searching for data';
 *            }
 *          }
 *        ];
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *    .btn-label {
 *      display:block;
 *      padding-bottom: 20px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: 300px;
 *      overflow-y: auto;
 *    }
 *    .container-bar {
 *      height: auto;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Basic Drop Down With Icons Clipped on Right</h3>
 * <example name="basicExampleIconsClippedRight">
 *  <file name='index.html'>
 *    <div class="container">
 *      <div class="container-bar dlcui-flex-container-horizontal dlcui-justify-flex-end">
 *        <dlcui-drop-down-button actions="actions"
 *                              label="Reports"
 *                              ng-disabled="disabled">
 *        </dlcui-drop-down-button>
 *      </div>
 *      <br><br>
 *      <p>
 *        You selected <b>{{activatedText}}</b>
 *      </p>
 *      <p>
 *        <dlcui-checkbox label="Disabled" ng-model="disabled">
 *        </dlcui-checkbox>
 *      </p>
 *      <br>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.actions = [
 *          {
 *            id: 'generateIcome',
 *            label: 'Generate Income Results',
 *            execute: function () {
 *              $scope.activatedText = 'Generating Income Results'
 *            }
 *          },
 *          {
 *            id: 'generateUsage',
 *            label: 'Generate System Usage',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Usage'
 *            }
 *          },
 *          {
 *            separator: true
 *          },
 *          {
 *            id: 'generateSystemDown',
 *            label: 'Generate System Down',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Shutdown'
 *            }
 *          },
 *          {
 *            id: 'generateSearch',
 *            label: 'Search',
 *            execute: function () {
 *              $scope.activatedText = 'Searching for data';
 *            }
 *          }
 *        ];
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *    .btn-label {
 *      display:block;
 *      padding-bottom: 20px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: 300px;
 *    }
 *    .container-bar {
 *      height: auto;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Flat Type Dropdown Button, used in Masthead</h3>
 * <example name="primarytypeDropDownButton">
 *  <file name='index.html'>
 *    <div class="container">
 *      <div class="container-bar dlcui-flex-container-horizontal dlcui-justify-space-around">
 *        <dlcui-drop-down-button actions="actions"
 *                              type="flat"
 *                              label="Reports"
 *                              ng-disabled="disabled">
 *        </dlcui-drop-down-button>
 *      </div>
 *      <br><br>
 *      <p>
 *        You selected <b>{{activatedText}}</b>
 *      </p>
 *      <p>
 *        <dlcui-checkbox label="Disabled" ng-model="disabled">
 *        </dlcui-checkbox>
 *      </p>
 *      <br>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.actions = [
 *          {
 *            id: 'generateIcome',
 *            label: 'Generate Income Results',
 *            execute: function () {
 *              $scope.activatedText = 'Generating Income Results'
 *            }
 *          },
 *          {
 *            id: 'generateUsage',
 *            label: 'Generate System Usage',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Usage'
 *            }
 *          },
 *          {
 *            separator: true
 *          },
 *          {
 *            id: 'generateSystemDown',
 *            label: 'Generate System Down',
 *            execute: function () {
 *              $scope.activatedText = 'Generating System Shutdown'
 *            }
 *          },
 *          {
 *            id: 'generateSearch',
 *            label: 'Search',
 *            execute: function () {
 *              $scope.activatedText = 'Searching for data';
 *            }
 *          }
 *        ];
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 200px;
 *    }
 *    .btn-label {
 *      display:block;
 *      padding-bottom: 20px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: 300px;
 *    }
 *    .container-bar {
 *      background-color: #007db8;
 *      height: 50px;
 *      width: 100%;
 *    }
 *    .container-bar .dlcui-drop-down-button .dlcui-button-wrapper {
 *      color: #ffffff;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDropDownButton', ['$templateCache', '$window', function ($templateCache, $window) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        actions: '=',
        anchor: '@',
        disabled: '=?ngDisabled',
        hideDropDownIcon: '@',
        iconName: '@',
        iconType: '@',
        iconColor: '@',
        iconSize: '@',
        label: '@',
        maxHeight: '@',
        type: '@'
      },
      template: function() {
		  return $templateCache.get('ngclarity/directives/input/dropDownButton/dlcuiDropDownButton.directive.html')
	  },
      link: function (scope, element) {
        /**
         * Determines the result type and uses that to call the specified callback with true or false.
         * @param {*} result The result of the function execution.
         * @param {!Function} handlerFn The function to call with the result.
         * @private
         */
        function _handleResult(result, handlerFn) {
          if (dlcui.isObject(result) && dlcui.isFunction(result.then)) {
            result.then(function () {
              handlerFn(true);
            }, function () {
              handlerFn(false);
            });
          } else if (dlcui.isBoolean(result)) {
            handlerFn(result);
          } else {
            handlerFn(true);
          }
        }

        /**
         * Determines if the drop down is visible
         * @type {boolean}
         */
        scope.dropDownVisible = false;

        /**
         * The type used by the inner dlcuiButton component.
         */
        scope.buttonFlatType = scope.type === 'flat';

        /**
         * Called by the click handler when user click the main button.
         * @param {Event} event The associated event.
         */
        scope.onDropDownClick = function (event) {
          if (!scope.disabled) {
            event.stopPropagation();
            scope.dropDownVisible = !scope.dropDownVisible;
          }
        };

        /**
         * Returns true if the drop down is visible.
         * @returns {!boolean} True if visible.
         */
        scope.isDropDownVisible = function () {
          return scope.dropDownVisible;
        };

        /**
         * Called by the template when the user click on an item.
         * @param {!Object} action The associated action object.
         */
        scope.onActionClicked = function (action) {
          if (dlcui.isFunction(action.execute)) {
            var results = action.execute();
            _handleResult(results, function (results) {
              if (results && dlcui.isStringWithLength(action.href)) {
                $window.location.href = action.href;
              }
            });
          } else if (dlcui.isStringWithLength(action.href)) {
            $window.location.href = action.href;
          }
          scope.dropDownVisible = false;
        };

        scope.$watch('disabled', function (newValue, oldValue) {
          if (newValue !== oldValue) {
            if (newValue) {
              element.addClass('disabled');
              scope.dropDownVisible = false;
            } else {
              element.removeClass('disabled');
            }
          }
        });
      }
    };
  }]);
;
/**
 * @ngdoc directive
 * @name button
 *
 * @module dlcui.controls
 * @src directives/input/button/button.js
 * @controlType actionable
 *
 * @description Buttons allow for basic user interaction via click event handlers defined with `ng-click`.
 *
 * @clarity
 * ### Intentional differences
 *
 * *Button text is larger than specified in the Clarity 4 toolkit PSD.*
 *
 * Reason: larger text is more legible, especially on small buttons, and the current size matches the size of text in
 * other components like textboxes and textareas, allowing them to line up nicely next to buttons.
 *
 * @restrict EA
 * @transclude ... [inline content] ...
 *
 * @param {string=} dlcuiType The type (appearance) of the button. One of:
 * - `(undefined|invalid)` - Gray
 * - `"primary"` - Blue
 * - `"success"` - Green
 * - `"warning"` - Yellow
 * - `"danger"` - Red
 * - `"transparent"` - Slightly opaque, the background color comes through the button when interacted upon.
 * - `"link"` - A standard link style with a button sized click target.
 *
 * The color of a button in a disabled state is predefined and the `dlcui-type` is ignored. When the button is reenabled,
 * the `dlcui-type` is respected.
 *
 * `dlcuiType` is bound both ways; meaning it can change dynamically.
 *
 * @param {string=} dlcuiSize The size of the button. One of:
 * - `"small"`
 * - `"medium"` - default
 * - `"large"`
 *
 * `dlcuiSize` is not bound to the scope; meaning it cannot be changed dynamically.
 *
 * > In previous versions of dlcui this was referred to as `size`, for consistency it should be `dlcui-size` from now on.
 *
 * @param {string=} type The type of the button. Possible values are:
 * - `"submit"` - The button submits the form data to the server. This is the default if the attribute is not specified,
 * or if the attribute is dynamically changed to an empty or invalid value.
 * - `"reset"` - The button resets all the controls to their initial values.
 * - `"button"` - The button has no default behavior. It can have client-side scripts associated with the element's
 * events, which are triggered when the events occur.
 *
 * The default type is `"button"`.
 *
 * @param {expression=} ngClick The action to call from the `$scope`. {@nglink api/ng/directive/ngClick}
 *
 * @param {expression=} ngDisabled Set to true to disable a button. {@nglink api/ng/directive/ngDisabled}
 *
 * @example
 * <h3>Button label</h3>
 * <example name="button">
 *   <file name="index.html">
 *     <dlcui-fancy-button>Button Label</dlcui-fancy-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Button types</h3>
 * <example name="buttonType">
 *   <file name="index.html">
 *     <dlcui-fancy-button>Default</dlcui-fancy-button>
 *     <dlcui-fancy-button dlcui-type="primary">Primary</dlcui-fancy-button>
 *     <dlcui-fancy-button dlcui-type="success">Success</dlcui-fancy-button>
 *     <dlcui-fancy-button dlcui-type="warning">Warning</dlcui-fancy-button>
 *     <dlcui-fancy-button dlcui-type="danger">Danger</dlcui-fancy-button>
 *     <dlcui-fancy-button dlcui-type="link">Link</dlcui-fancy-button>
 *     <p>
 *       <dlcui-fancy-button dlcui-type="{{vm.model.type}}">Dynamic Button Type</dlcui-fancy-button>
 *       <select dlcui-drop-down-list ng-model="vm.model.type">
 *         <option value="">-- Select Button Type --</option>
 *         <option value="primary">Primary</option>
 *         <option value="success">Success</option>
 *         <option value="warning">Warning</option>
 *         <option value="danger">Danger</option>
 *         <option value="link">Link</option>
 *       </select>
 *     </p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.model = {};
 *       });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Transparent buttons</h3>
 * <p>Transparent examples currently work on dark backgrounds only. Other options coming in future releases.</p>
 * <example name="buttonTransparent">
 *   <file name="index.html">
 *     <div class="docs-block blue">
 *       <dlcui-fancy-button dlcui-type="transparent">Transparent</dlcui-fancy-button>
 *     </div>
 *     <div class="docs-block black">
 *       <dlcui-fancy-button dlcui-type="transparent">Transparent</dlcui-fancy-button>
 *     </div>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 *   <file name="style.css">
 *     .docs-block { padding: 10px; }
 *     .blue { background-color: #007db8; margin-bottom: 10px; }
 *     .black { background-color: #333; }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Button sizes</h3>
 * <example name="buttonSize">
 *   <file name="index.html">
 *     <dlcui-fancy-button dlcui-size="small">Small</dlcui-fancy-button>
 *     <dlcui-fancy-button>Medium (Default)</dlcui-fancy-button>
 *     <dlcui-fancy-button dlcui-size="large">Large</dlcui-fancy-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Button enabled/disabled</h3>
 * <example name="buttonDisabled">
 *   <file name="index.html">
 *     <dlcui-fancy-button dlcui-type="primary" ng-click="vm.clicked($event)">Primary, enabled</dlcui-fancy-button>
 *     <dlcui-fancy-button dlcui-type="primary" ng-click="vm.clicked($event)" ng-disabled="true">Primary, disabled</dlcui-fancy-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.clicked = function(e) {
 *           alert('You clicked a button - see console for details');
 *           console.log(e);
 *         };
 *       });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Buttons with icons</h3>
 * <example name="buttonIcon">
 *   <file name="index.html">
 *     <dlcui-fancy-button dlcui-type="primary">
 *       <dlcui-icon icon="plus"></dlcui-icon> Increment
 *     </dlcui-fancy-button>
 *     <dlcui-fancy-button dlcui-type="danger">
 *       <dlcui-icon icon="times-circle"></dlcui-icon> Delete Databases
 *     </dlcui-fancy-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Buttons with click handlers</h3>
 * <example name="buttonClick">
 *   <file name="index.html">
 *     <dlcui-fancy-button ng-click="vm.click()">Default</dlcui-fancy-button>
 *     <dlcui-fancy-button ng-click="vm.click('primary')" dlcui-type="primary">Primary</dlcui-fancy-button>
 *     <dlcui-fancy-button ng-click="vm.click('success')" dlcui-type="success">Success</dlcui-fancy-button>
 *     <dlcui-fancy-button type="submit" ng-click="vm.click('warning')" dlcui-type="warning">Warning</dlcui-fancy-button>
 *     <dlcui-fancy-button type="button" ng-click="vm.click('danger')" dlcui-type="danger">Danger</dlcui-fancy-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.click = function(type) {
 *           type = type || 'default';
 *           alert('Hello! You clicked ' + type + '.');
 *         };
 *       });
 *   </file>
 * </example>
 */

'use strict';



angular.module('dell.ngclarity.directives').directive('dlcuiFancyButton', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  function getModifierClass(modifier) {
    return 'dlcux-button--' + modifier;
  }

  function handleTypeChange(element, newType, oldType) {
    if (oldType) {
      element.removeClass(getModifierClass(oldType));
    }

    if (newType) {
      element.addClass(getModifierClass(newType));
    }
  }

  function controller() {}

  function link(scope, element, attributes) {
    // set default button type if not set; required by legacy browsers
    if (!attributes.type) {
      element.attr('type', 'button');
    }

    // set default size if size attribute is set; does not require two-way binding
    if (attributes.dlcuiSize || attributes.size) {
      var size = attributes.dlcuiSize || attributes.size;
      element.addClass(getModifierClass(size));
    }

    // browsers tend to hold the focus state after a click event occurs; remove it manually
    element.on('mouseup', function () {
      element[0].blur();
    });

    scope.$watch('buttonCtrl.dlcuiType', function (newType, oldType) {
      return handleTypeChange(element, newType, oldType);
    });
  }

  return {
	templateUrl: [dlcuiBaseTemplatePath, 'directives/input/fancybutton/dlcuiFancyButton.directive.html'].join(''),
    restrict: 'EA',
    transclude: true,
    // TODO: Remove `replace: true` - issue #943
    replace: true, // eslint-disable-line angular/no-directive-replace
    scope: {
      dlcuiType: '@'
    },
    bindToController: true,
    controllerAs: 'buttonCtrl',
    controller: controller,
    link: link
  };
}]);

;/**
 * @ngdoc directive
 * @name hierarchyBuilder
 * @module dlcui
 * @src directives/input/hierarchyBuilder/dlcuiHierarchyBuilder.directive.js
 * @restrict E
 * @controlType input
 *
 * @param {Object} options The required options and includes the list of items to display within the list component.
 * The options contains the following properties
 * ```javascript
 *  {
 *    data: [                    // Collection of labels to display in the list.
 *      {
 *        id: <number|string>,   // The unique id
 *        label: <string>        // The label to display
 *      },
 *      .....
 *    ],
 *    labels: {
 *      addGroupNoMatches: <string>,      // The label for the add item menu and should include the macro {{group}}.
 *      addGroup: <string>,      // The label for the main add custom group link.
 *      placeholder: <string>     // The label for the search box if no data is entered
 *      empty: <string>          // The label to use for the empty template when the model is empty
 *      noMatches: <string>      // The label to display when no filtered items match in the list
 *    },
 *    height: <number|string>,   //  Height and can be any valid CSS value
 *    width: <number|string>     //  Width and can be any valid CSS value
 * }
 * ```
 * @param {ngModel} ngModel Angular <i>ng-model</i> that references the hierarchy model stored on the parent scope.
 * The model is structured as follows,
 * ```javascript
 *  {
 *    id: <number|string>,       // The unique id and is null for newly added data
 *    label: <string>,           // The label to display and usually corresponds to the label found in options.data
 *    child: {
 *      id: <number|string>,     // The unique id and is null for newly added data
 *      label: <string>,         // The label to display and usually corresponds to the label found in options.data
 *      child: {...}             // The next level if there is one
 *    }
 * }
 * ```
 * @param {ngDisabled=} ngDisabled Disable option that matches angular ng-disabled.
 * @param {Function=} onItemAdded Called when a new item is added and passed the <i>item</i> instance. The signature
 * for this function is,
 * ```javascript
 * function (item) {};
 * ```
 * @param {Function=} onItemChanged Called when the label of an existing item is modified. The
 * signature for this function is,
 * ```javascript
 * function (newItem, oldItem) {};
 * ```
 * @param {Function=} onItemRemoved Called when a new item is removed and passed the <i>item</i> instance. The
 * signature for this function is,
 * ```javascript
 * function (item) {};
 * ```
 * @param {Function=} onItemMoved Called when a existing item is moved and passed the <i>item</i> instance. The
 * signature for this function is,
 * ```javascript
 * function (item) {};
 * ```
 *
 * @description
 * Element based directive that is used to construct a hierarchy.
 *
 * This element uses a ng-model and can be used within a form element.
 *
 * @example
 * <h3>Hierarchy Component</h3>
 *
 * <example name="hierarchyBasic">
 *  <file name="index.html">
 *    <div>
 *      <dlcui-checkbox label="Enabled"
 *                    ng-model="enableHierarchicalBuilder">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-hierarchy-builder options="options"
 *                             on-item-added="onItemAdded(item)"
 *                             on-item-removed="onItemRemoved(item)"
 *                             on-item-changed="onItemChanged(newItem, oldItem)"
 *                             ng-model="model.hierarchy"
 *                             ng-disabled="!enableHierarchicalBuilder">
 *      </dlcui-hierachical>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_SELECTION_TYPE) {
 *
 *        $scope.enableHierarchicalBuilder = true;
 *
 *        $scope.message = 'Add Items on the left by clicking on them.';
 *
 *        $scope.onItemAdded = function (item) {
 *          $scope.message = ['Item "', item.label, '" added to Model'].join(' ');
 *        };
 *
 *        $scope.onItemChanged = function (newItem, oldItem) {
 *          $scope.message = ['Item "', oldItem.label, '" modified to "', newItem.label, '"'].join(' ');
 *        };
 *
 *        $scope.onItemRemoved = function (item) {
 *          $scope.message = ['Item "', item.label, '" removed from Model'].join(' ');
 *        };
 *
 *        $scope.model = {
 *          hierarchy: null
 *        };
 *
 *        $scope.getModelAsString = function () {
 *          return JSON.stringify($scope.model.hierarchy);
 *        };
 *
 *        $scope.options = {
 *          data: [
 *            {
 *              id: 0,
 *              label: 'Image'
 *            },
 *            {
 *              id: 1,
 *              label: 'Location'
 *            },
 *            {
 *              id: 2,
 *              label: 'Operating System'
 *            },
 *            {
 *              id: 3,
 *              label: 'Platform'
 *            },
 *            {
 *              id: 4,
 *              label: 'Subnet'
 *            },
 *            {
 *              id: 5,
 *              label: 'Time Zone'
 *            },
 *            {
 *              id: 6,
 *              label: 'Vendor ID'
 *            }
 *          ],
 *          height: '400px',
 *          width: '100%'
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Hierarchy Component With Pre-populated model</h3>
 *
 * <example name="hierarchyBasic">
 *  <file name="index.html">
 *    <div>
 *      <dlcui-checkbox label="Enabled"
 *                    ng-model="enableHierarchicalBuilder">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-hierarchy-builder options="options"
 *                             on-item-added="onItemAdded(item)"
 *                             on-item-removed="onItemRemoved(item)"
 *                             on-item-changed="onItemChanged(newItem, oldItem)"
 *                             ng-model="model.hierarchy"
 *                             ng-disabled="!enableHierarchicalBuilder">
 *      </dlcui-hierachical>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_SELECTION_TYPE) {
 *
 *        $scope.enableHierarchicalBuilder = true;
 *
 *        $scope.message = 'Add Items on the left by clicking on them.';
 *
 *        $scope.onItemAdded = function (item) {
 *          $scope.message = ['Item "', item.label, '" added to Model'].join(' ');
 *        };
 *
 *        $scope.onItemRemoved = function (item) {
 *          $scope.message = ['Item "', item.label, '" removed from Model'].join(' ');
 *        };
 *
 *        $scope.onItemChanged = function (newItem, oldItem) {
 *          $scope.message = ['Item "', oldItem.label, '" modified to "', newItem.label, '"'].join(' ');
 *        };
 *
 *        $scope.model = {
 *          hierarchy: {
 *            id: 0,
 *            label: 'Operating System',
 *            child: {
 *              id: 1,
 *              label: 'Location'
 *            }
 *          }
 *        };
 *
 *        $scope.getModelAsString = function () {
 *          return JSON.stringify($scope.model.hierarchy);
 *        };
 *
 *        $scope.options = {
 *          data: [
 *            {
 *              id: 0,
 *              label: 'Image'
 *            },
 *            {
 *              id: 1,
 *              label: 'Location'
 *            },
 *            {
 *              id: 2,
 *              label: 'Operating System'
 *            },
 *            {
 *              id: 3,
 *              label: 'Platform'
 *            },
 *            {
 *              id: 4,
 *              label: 'Subnet'
 *            },
 *            {
 *              id: 5,
 *              label: 'Time Zone'
 *            },
 *            {
 *              id: 6,
 *              label: 'Vendor ID'
 *            }
 *          ],
 *          labels: {
 *            addGroupNoMatches: 'Add "{{group}}" as group',
 *            empty: 'Select groups in order of hierarchy',
 *            placeholder: 'Search or add groups',
 *            noMatches: '0 matches found'
 *          },
 *          height: '400px',
 *          width: '100%'
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Hierarchy Component with items with disabled editing</h3>
 *
 * <example name="hierarchyBasic">
 *  <file name="index.html">
 *    <div>
 *      <dlcui-checkbox label="Enabled"
 *                    ng-model="enableHierarchicalBuilder">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-hierarchy-builder options="options"
 *                             on-item-added="onItemAdded(item)"
 *                             on-item-removed="onItemRemoved(item)"
 *                             on-item-changed="onItemChanged(newItem, oldItem)"
 *                             ng-model="model.hierarchy"
 *                             ng-disabled="!enableHierarchicalBuilder">
 *      </dlcui-hierachical>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_SELECTION_TYPE) {
 *
 *        $scope.enableHierarchicalBuilder = true;
 *
 *        $scope.message = 'Only new custom groups can be edited or deleted.';
 *
 *        $scope.onItemAdded = function (item) {
 *          $scope.message = ['Item "', item.label, '" added to Model'].join(' ');
 *        };
 *
 *        $scope.onItemChanged = function (newItem, oldItem) {
 *          $scope.message = ['Item "', oldItem.label, '" modified to "', newItem.label, '"'].join(' ');
 *        };
 *
 *        $scope.onItemRemoved = function (item) {
 *          $scope.message = ['Item "', item.label, '" removed from Model'].join(' ');
 *        };
 *
 *        $scope.model = {
 *          hierarchy: null
 *        };
 *
 *        $scope.getModelAsString = function () {
 *          return JSON.stringify($scope.model.hierarchy);
 *        };
 *
 *        $scope.options = {
 *          data: [
 *            {
 *              id: 0,
 *              label: 'Image',
 *              disableEdit: true
 *            },
 *            {
 *              id: 1,
 *              label: 'Location',
 *              disableEdit: true
 *            },
 *            {
 *              id: 2,
 *              label: 'Operating System',
 *              disableEdit: true
 *            },
 *            {
 *              id: 3,
 *              label: 'Platform',
 *              disableEdit: true
 *            },
 *            {
 *              id: 4,
 *              label: 'Subnet',
 *              disableEdit: true
 *            },
 *            {
 *              id: 5,
 *              label: 'Time Zone',
 *              disableEdit: true
 *            },
 *            {
 *              id: 6,
 *              label: 'Vendor ID',
 *              disableEdit: true
 *            }
 *          ],
 *          height: '400px',
 *          width: '100%'
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 */
/* eslint-disable max-statements*/
angular.module('dell.ngclarity.directives')
  .directive('dlcuiHierarchyBuilder', ['$templateCache', 'dlcuiCallback', 'dlcuiHierarchyBuilderTree', 'dlcuiHierarchyBuilderList', 'dlcuiHierarchyTreeConverter', '$translate', function ($templateCache,
                                              dlcuiCallback,
                                              dlcuiHierarchyBuilderTree,
                                              dlcuiHierarchyBuilderList,
                                              dlcuiHierarchyTreeConverter,
                                              $translate) {
    return {
      restrict: 'E',
      replace: true,
      require: 'ngModel',
      scope: {
        options: '=',
        disabled: '=ngDisabled',
        onItemAdded: '&',
        onItemChanged: '&',
        onItemRemoved: '&',
        onItemMoved: '&'
      },
      template: function() {
		return $templateCache.get('ngclarity/directives/input/hierarchyBuilder/dlcuiHierarchyBuilder.directive.html');
		},
      link: function (scope, element, attrs, ngModelCtrl) {
        /**
         * Initialise the options with default data if required.
         * @type {!Object}
         */
        scope.options.labels = angular.extend({
          addGroup: $translate.instant('DLCUI_ADD_CUSTOM_GROUP'),
          addGroupNoMatches: $translate.instant('DLCUI_ADD_GROUP_AS_GROUP', {
            group: '{{group}}'
          }),
          empty: 'Select groups in order of hierarchy',
          placeholder: 'Search or add groups'
        }, scope.options.labels);
        scope.options.data = scope.options.data || [];

        /**
         * Initialise the list component
         */
        function _initialiseListComponent() {
          scope.list = dlcuiHierarchyBuilderList.new(scope);
        }

        /**
         * Configure the card container component
         */
        function _initialiseTreeComponent() {
          scope.tree = dlcuiHierarchyBuilderTree.new(scope);
        }

        /**
         * Useing the root item find the last child in the tree.
         * @param {!Object} item The item to start searching from.
         * @returns {!Object} The last child item
         */
        function _findLastChild (item) {
          var lastChild = null;
          if (item) {
            if (dlcui.isArrayWithLength(item.children)) {
              lastChild = _findLastChild(item.children[0]);
            }
          }

          return lastChild || item;
        }

        /**
         * Searches the tree for the first item that matches the specified label
         * @param {!Object} item The item to start searching from.
         * @param {!String} label The label
         * @returns {Object|null} The item with the specified label
         */
        function _findFirstChildWithLabel (item, label) {
          if (dlcui.isArrayWithLength(item)) {
            item = item[0];
          }
          if (item) {
            if (item.label === label) {
              return item;
            } else if (dlcui.isArrayWithLength(item.children)) {
              return _findFirstChildWithLabel(item.children, label);
            }
          }

          return null;
        }

        /**
         * Searches the tree for the first item whose child matches the labe;
         * @param {!Object} item The item to start searching from.
         * @param {!String} label The label
         * @returns {Object|null} The item with the specified label
         */
        function _findFirstParentWithChildWithLabel (item, label) {
          if (item && item.label !== label && dlcui.isArrayWithLength(item.children)) {
            if (item.children[0].label === label) {
              return item;
            } else if (dlcui.isArrayWithLength(item.children)) {
              return _findFirstParentWithChildWithLabel(item.children[0], label);
            }
          }

          return null;
        }

        /**
         * Finds the first item that matches the specified label and removed it from the mode.
         * @param {!Array} model The item to start searching from.
         * @param {!String} label The label.
         * @param {?Object=} optParent The parent of the current model item been searched.
         * @returns {Object|null} The item if located.
         */
        function _removeFirstMatchingModelItem(model, label, optParent) {
          if (dlcui.isArrayWithLength(model)) {
            var item = model[0];
            if (item.label === label) {
              if (dlcui.isObject(optParent)) {
                optParent.children = item.children;
              } else if (dlcui.isArrayWithLength(item.children)) {
                var childItem = item.children[0];
                model.length = 0;
                model.push(childItem);
              } else {
                model.length = 0;
              }
            } else {
              item = _removeFirstMatchingModelItem(item.children, label, item);
            }

            return item;
          }

          return null;
        }

        /**
         * Resets the selected data on the list control
         * @param {!Array} model The hierarchy model.
         */
        function _updateSelections(model) {
          // No sync the selections with current tree structure
          if (dlcui.isArrayWithLength(model) && dlcui.isObject(model[0])) {
            angular.forEach(scope.list.options.data, function (value) {
              value.selected = dlcui.isObject(_findFirstChildWithLabel(model[0], value.label));
            });
          } else {
            angular.forEach(scope.list.options.data, function (value) {
              value.selected = false;
            });
          }
        }

        /**
         * Called to initialize the model controller
         */
        function _initialiseNgModel() {
          ngModelCtrl.$formatters.push(function (modelValue) {
            return dlcuiHierarchyTreeConverter.convertToTree(modelValue);
          });

          ngModelCtrl.$parsers.push(function (viewValue) {
            return dlcuiHierarchyTreeConverter.convertToHierarchy(viewValue);
          });

          ngModelCtrl.$render = function () {
            scope.tree.setData(ngModelCtrl.$viewValue);
            _updateSelections(ngModelCtrl.$viewValue);
          };

          // Validate that all the objects have an appropriate label string which is required.
          ngModelCtrl.$validators.labels = function (modelValue, viewValue) {
            if (modelValue) {
              return dlcuiHierarchyTreeConverter.validateHierarchyLabels(modelValue);
            } else if (viewValue) {
              return dlcuiHierarchyTreeConverter.validateTreeLabels(viewValue);
            }

            return true;
          };

          // Validate that the model is a valid hierarchical model object and not an array|string|number etc.
          ngModelCtrl.$validators.structure = function (modelValue) {
            if (modelValue) {
              return dlcuiHierarchyTreeConverter.validateHierarchyStructure(modelValue);
            }

            return true;
          };
        }

        /**
         * Called by the list component to add a new item.
         * @param {!Object} item The item to start searching from.
         * @returns {!Promise} The angular promise.
         */
        scope.addNewItem = function(item) {
          var newItem = {
            id: item.id,
            label: item.label,
            children: []
          };

          var data = [].concat(ngModelCtrl.$viewValue);
          data = data || [];

          return dlcuiCallback.handleResult(scope.onItemAdded({
            item: newItem
          })).then(function (updatedData) {
            if (dlcui.isObject(updatedData)) {
              dlcui.setDefaults(item, updatedData);
            }
            if (dlcui.isArrayWithLength(data)) {
              // TODO-sscott: We probably will change this to allow a cool tree creation in the future
              var lastChild = _findLastChild(data[0]);
              lastChild.children = lastChild.children || [];
              lastChild.children.push(newItem);
            } else {
              data.push(newItem);
            }
            scope.options.data = scope.list.options.data || [];
            ngModelCtrl.$setViewValue(data);
            scope.tree.setData(ngModelCtrl.$viewValue);
            item.selected = true;
          });
        };

        /**
         * Called by the list component when the label is modified.
         * @param {!Object} newItem The updated/changed item
         * @param {!Object} oldItem The original un-modified item
         * @returns {!Promise|boolean} The angular promise.
         */
        scope.changeExistingItem = function(newItem, oldItem) {
          // Find out if it is currently used
          var existingItem = _findFirstChildWithLabel(ngModelCtrl.$viewValue, oldItem.label);
          if (!dlcui.isObject(existingItem)) {
            existingItem = {
              id: oldItem.id,
              label: newItem.label,
              children: []
            };
          }

          var modifiedItem = angular.copy(existingItem);
          modifiedItem.label = newItem.label;

          return dlcuiCallback.handleResult(scope.onItemChanged({
            newItem: modifiedItem,
            oldItem: existingItem
          })).then(function (updatedData) {
            if (dlcui.isObject(updatedData)) {
              dlcui.setDefaults(newItem, updatedData);
            }
            existingItem.label = newItem.label;
            scope.options.data = scope.list.options.data || [];
          });

          return true;
        };

        /**
         * Inserts the specified item before or after the target item.
         * @param {!Object} item The item to move.
         * @param {!boolean} before True if it is placed before targetItem.
         * @param {!Object} targetItem The item that is targeted.
         * @returns {!boolean} true if the item was inserted.
         */
        scope.insertItem = function (item, before, targetItem) {
          if (item && targetItem && item.label !== targetItem.label) {
            var data = [].concat(ngModelCtrl.$viewValue);
            var rootItem = data[0];
            var addToItem = null;
            var itemParent = _findFirstParentWithChildWithLabel(rootItem, item.label);
            var itemChildren = item.children;
            if (before) {
              addToItem = _findFirstParentWithChildWithLabel(rootItem, targetItem.label);
            } else {
              addToItem = targetItem;
              if (addToItem && itemParent && addToItem.label === itemParent.label) {
                return false;
              }
            }
            if (addToItem) {
              // Swap the children around
              item.children = addToItem.children;
              addToItem.children = [item];
            } else {
              // This is a root item
              data = [item];
              item.children = [rootItem];
            }
            if (itemParent) {
              itemParent.children = itemChildren;
            } else {
              // This is a root item
              data = itemChildren;
            }

            dlcuiCallback.handleResult(scope.onItemMoved({
              item: item
            })).then (function () {
              // TODO sscott I need to undo the changes to the items if this was rejected
              ngModelCtrl.$setViewValue(data);
              scope.tree.setData(ngModelCtrl.$viewValue);
            });
          }

          return true;
        };

        /**
         * Deletes the specified item from the array and removes it from the hierarchy
         * @param {!Object} item The item to start searching from.
         * @returns {!boolean|Promise} True if the item was removed.
         */
        scope.deleteItem = function (item) {
          dlcui.assertObject(item);

          scope.options.data = _.filter(scope.options.data, function (filterItem) {
            return filterItem && filterItem.label !== item.label;
          });

          return scope.removeItem(item);
        };

        /**
         * Called by the tree or list component to remove the item from the model.
         * @param {!Object} item The item to start searching from.
         * @returns {!boolean|Promise} True if the item was removed.
         */
        scope.removeItem = function(item) {
          var data = [].concat(ngModelCtrl.$viewValue);
          data = data;

          if (dlcui.isArrayWithLength(data)) {
            var itemRemoved = _removeFirstMatchingModelItem(data, item.label);

            if (itemRemoved) {
              return dlcuiCallback.handleResult(scope.onItemRemoved({
                item: itemRemoved
              })).then(function () {
                _updateSelections(data);
                ngModelCtrl.$setViewValue(data);
                scope.tree.setData(ngModelCtrl.$viewValue);
              });
            }
          }

          return true;
        };

        /**
         * Main component style object
         * @type {{height: *, width: *}}
         */
        scope.style = {
          height: scope.options.height,
          width: scope.options.width
        };

        _initialiseListComponent();
        _initialiseTreeComponent();
        _initialiseNgModel();

        scope.$watch('options.data', function (newValue) {
          scope.list.options.data = newValue || [];
        }, true);
        scope.list.options.data = scope.options.data || [];
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiHierarchyBuilderList', ['DLCUI_SELECTION_TYPE', function (DLCUI_SELECTION_TYPE) {
    /**
     * Options for the List Component.
     * @param {!$scope} scope The scope.
     * @class
     */
    var ListOptions = function (scope) {
      dlcui.assertObject(scope);

      /**
       * The options required by the list component.
       * @type {!Object}
       */
      this.options = {
        selection: DLCUI_SELECTION_TYPE.single,
        data: [],
        disableSelection: true,
        enableLazyRendering: false,
        enableDrag: true,
        addGroup: {
          enabled: true,
          noMatchesLabel: scope.options.labels.addGroupNoMatches,
          addLabel: scope.options.labels.addGroup
        },
        search: {
          enabled: true,
          placeholder: scope.options.labels.placeholder,
          noMatches: scope.options.labels.noMatches
        }
      };

      /**
       * Currently selected items
       * @type {Array}
       */
      this.selectedItems = [];

      /**
       * Called when the user clicks on an item.
       * @param {!Object} item The item.
       */
      this.onItemClick = function (item) {
        // Only allow the item to be added once
        if (item) {
          if (!item.selected) {
            scope.addNewItem(item);
          } else {
            scope.removeItem(item);
          }
        }
      };

      /**
       * Called by the add item callback.
       * @param {!Object} item The item.
       * @returns {boolean} false to disable the default design.
       */
      this.onAddNewItem = function (item) {
        return scope.addNewItem(item);
      };

      /**
       * Called by the chnage item callback.
       * @param {!Object} newItem The updated/changed item
       * @param {!Object} oldItem The original un-modified item
       * @returns {boolean} false to disable the default design.
       */
      this.onChangeItem = function (newItem, oldItem) {
        return scope.changeExistingItem(newItem, oldItem);
      };

      /**
       * Called by the delete item callback.
       * @param {!Object} item The item that was deleted.
       * @returns {boolean} false to disable the default design.
       */
      this.onDeleteItem = function (item) {
        return scope.deleteItem(item);
      };

      /**
       * Called when the user drops a list item on the tree component.
       * @param {!string} sourceId The source id
       * @param {!string} targetId The target id
       * @param {!Object} data The associated data
       */
      this.onDrop = function(sourceId, targetId, data) {
        if (data) {
          scope.removeItem(data);
        }
      };
    };

    return {
      new: function (scope) {
        return new ListOptions(scope);
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiHierarchyBuilderTree', ['dlcuiBaseTemplatePath', '$templateCache', '$timeout', function (dlcuiBaseTemplatePath, $templateCache,  $timeout) {
    /**
     * Tree Options Class used within the Hierarchy component.
     * @param {!$scope} scope The Hierarchy Component scope.
     * @class
     */
    var TreeOptions = function (scope) {
      dlcui.assertObject(scope);

      /**
       * The current item been dragged over
       * @type {null|string}
       * @private
       */
      var _currentTargetDropId = null;

      /**
       * The last node that a drag enter was registered for.
       * @type {nul;|Object}
       * @private
       */
      var _currentTargetNode = null;

      /**
       * The node been dragged.
       * @type {!Object}
       * @private
       */
      var _$dragSource = null;

      /**
       * The target element been dragged over.
       * @type {!Object}
       * @private
       */
      var _$dropTargets = {};

      /**
       * Used while dragging a node.
       * @param {!Event} event The mouse event.
       * @private
       */
      function _mouseMoveEventHandler (event) {
        if (_$dragSource && dlcui.isStringWithLength(_currentTargetDropId) &&
          _$dropTargets[_currentTargetDropId] && _$dropTargets[_currentTargetDropId].element &&
          _$dropTargets[_currentTargetDropId].top >= 0) {
          if (event.pageY > _$dropTargets[_currentTargetDropId].top + 15) {
            _$dropTargets[_currentTargetDropId].element.parents('.dlcui-tree-node-template:first')
              .addClass('dlcui-drag-border-bottom').removeClass('dlcui-drag-border-top');
            _$dropTargets[_currentTargetDropId].dragTop = false;
          } else {
            _$dropTargets[_currentTargetDropId].element.parents('.dlcui-tree-node-template:first')
              .addClass('dlcui-drag-border-top').removeClass('dlcui-drag-border-bottom');
            _$dropTargets[_currentTargetDropId].dragTop = true;
          }
        }
      }

      /**
       * The options for the tree component.
       * @type {!Object}
       */
      this.options = {
        data: [],
        containerScope: scope,
        templateUrl: 'ngclarity/directives/input/hierarchyBuilder/dlcuiHierarchyTextCard.template.html',
        emptyTemplateUrl: 'ngclarity/directives/input/hierarchyBuilder/dlcuiHierarchyBuilderEmpty.template.html'
      };

      /**
       * Called when the user selects a tree node.
       */
      this.onNodeSelected = function () {
        // TODO-sscott: Do we need this?
      };

      /**
       * Called to modify the tree data.
       * @param {Array} data The tree data.
       */
      this.setData = function (data) {
        dlcui.assertArray(data);

        _$dropTargets = {};
        _currentTargetDropId = null;
        _currentTargetNode = null;

        this.options.data = data;
      };

      /**
       * Called when the user drops a list item on the tree component.
       * @param {!string} sourceId The source id
       * @param {!string} targetId The target id
       * @param {!Object} data The associated data
       */
      this.onDropListItem = function (sourceId, targetId, data) {
        dlcui.assertStringWithLength(sourceId);
        dlcui.assertStringWithLength(targetId);
        dlcui.assertObject(data);

        if (data && !data.selected) {
          $timeout(function () {
            scope.addNewItem(data);
          });
        }
      };

      /**
       * Called when a tree item is dropped on another tree item
       * @param {!string} sourceId The source id
       * @param {!string} targetId The target id
       * @param {!Object} data The associated data
       * @param {!Object} node The node that will be shifted down.
       */
      this.onDropNode = function (sourceId, targetId, data, node) {
        dlcui.assertStringWithLength(sourceId);
        dlcui.assertStringWithLength(targetId);
        dlcui.assertObject(data);
        dlcui.assertObject(node);

        if (_$dropTargets[targetId] && _$dropTargets[targetId].element) {
          var before = _$dropTargets[targetId].dragTop;
          this.removeDropBorders();
          if (data && node && data.label !== node.label) {
            $timeout(function () {
              scope.insertItem(data, before, node);
            });
          }
        }
        _currentTargetNode = null;
      };

      /**
       * Called when the drag event starts
       */
      this.onDragStart = function () {
        _$dragSource = $('.dlcui-drag-defaults');
        _$dragSource.on('mousemove', _mouseMoveEventHandler);
      };

      /**
       * Called when the dragging stops for what ever reason.
       * @param {!Object} data The associated data
       */
      this.onDragEnd = function (data) {
        _$dragSource.off('mousemove', _mouseMoveEventHandler);
        if (dlcui.isStringWithLength(_currentTargetDropId) &&
          _$dropTargets[_currentTargetDropId] && _$dropTargets[_currentTargetDropId].element) {
          var before = _$dropTargets[_currentTargetDropId].dragTop;
          if (data && _currentTargetNode && data.label !== _currentTargetNode.label) {
            $timeout(function () {
              scope.insertItem(data, before, _currentTargetNode);
            });
          }
        }
        _$dragSource = null;
        this.removeDropBorders();
        _currentTargetDropId = null;
      };

      /**
       * Called when dragging enters a target area.
       * @param {!string} sourceId The source element id.
       * @param {!string} targetId The target element id.
       * @param {!Object} node The target node.
       */
      this.onDragEnterNode = function (sourceId, targetId, node) {
        dlcui.assertStringWithLength(sourceId);
        dlcui.assertStringWithLength(targetId);

        this.removeDropBorders(_currentTargetDropId);
        _currentTargetDropId = targetId;
        if (angular.isUndefined(_$dropTargets[targetId])) {
          _$dropTargets[targetId] = {
            element: $(['#', targetId].join(''))
          };
        }
        _$dropTargets[targetId].top = _$dropTargets[targetId].element.offset().top;
        _currentTargetNode = node;
      };

      /**
       * Called when dragging out of a target drop area.
       * @param {!string} sourceId The source element id.
       * @param {!string} targetId The target element id.
       */
      this.onDragLeaveNode = function (sourceId, targetId) {
        dlcui.assertStringWithLength(sourceId);
        dlcui.assertStringWithLength(targetId);
        this.removeDropBorders(targetId);
      };

      /**
       * Remove the drag/drop borders from the target area or all areas if optTargetId is not specified.
       * @param {?string=} optTargetId The optional target element id.
       */
      this.removeDropBorders = function (optTargetId) {
        if (!dlcui.isStringWithLength(optTargetId)) {
          angular.forEach(_$dropTargets, function (value) {
            if (value.element) {
              value.element.parents('.dlcui-tree-node-template:first')
                .removeClass('dlcui-drag-border-top dlcui-drag-border-bottom');
            }
          });
        } else if (_$dropTargets[optTargetId] && _$dropTargets[optTargetId].element) {
          _$dropTargets[optTargetId].element.parents('.dlcui-tree-node-template:first')
            .removeClass('dlcui-drag-border-top dlcui-drag-border-bottom');
        }
      };
    };

    return {
      new: function (scope) {
        return new TreeOptions(scope);
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiHierarchyTreeConverter', function () {
    /**
     * Converts the Hierarchy object to a Tree object
     * @param {!Object} hierarchyObject The hierarchy object to convert
     * @returns {!Object} Tree Object.
     */
    function createTreeObject(hierarchyObject) {
      dlcui.assertObject(hierarchyObject);

      var treeObject = {
        id: hierarchyObject.id,
        label: hierarchyObject.label
      };

      if (dlcui.isObject(hierarchyObject.child)) {
        treeObject.children = [
          createTreeObject(hierarchyObject.child)
        ];
      }

      return treeObject;
    }

    /**
     * Converts the entire hierarchy model to a tree model
     * @param {!Object} hierarchyModel The hierarchy model.
     * @returns {Array} The Tree Model
     */
    function convertToTree(hierarchyModel) {
      var tree = [];
      if (dlcui.isObject(hierarchyModel) && !dlcui.isArray(hierarchyModel)) {
        tree.push(createTreeObject(hierarchyModel));
      }

      return tree;
    }

    /**
     * Converts the Tree Object to a Hierarchy Object
     * @param {!Object} treeObject The tree object to convert.
     * @returns {!Object} Hierarchy Object.
     */
    function createHierarchyObject(treeObject) {
      dlcui.assertObject(treeObject);

      var hierarchyObject = {
        id: treeObject.id,
        label: treeObject.label
      };

      if (dlcui.isArrayWithLength(treeObject.children)) {
        hierarchyObject.child = createHierarchyObject(treeObject.children[0]);
      }

      return hierarchyObject;
    }

    /**
     * Converts the Tree Model to a Hierarchy Model Object.
     * @param {Array} treeModel The tree model.
     * @returns {Object|null} The converted Hierarchy Model Object.
     */
    function convertToHierarchy(treeModel) {
      var tree = null;

      if (dlcui.isArrayWithLength(treeModel)) {
        tree = createHierarchyObject(treeModel[0]);
      }

      return tree;
    }

    /**
     * Validates that the labels have been defined correctly.
     * @param {!Object} hierarchyModel The hierarchy model.
     * @returns {!boolean} True if there are no issues.
     */
    function validateHierarchyLabels(hierarchyModel) {
      if (dlcui.isObject(hierarchyModel)) {
        if (!dlcui.isStringWithLength(hierarchyModel.label)) {
          return false;
        } else if (dlcui.isObject(hierarchyModel.child)) {
          return validateHierarchyLabels(hierarchyModel.child);
        }
      }

      return true;
    }

    /**
     * Validates that the labels have been defined correctly.
     * @param {!Object} treeModel The tree model.
     * @returns {!boolean} True if there are no issues.
     */
    function validateTreeLabels(treeModel) {
      if (dlcui.isArrayWithLength(treeModel)) {
        if (!dlcui.isStringWithLength(treeModel[0].label)) {
          return false;
        } else if (dlcui.isArrayWithLength(treeModel[0].children)) {
          return validateTreeLabels(treeModel[0].children);
        }
      }

      return true;
    }

    /**
     * Validates that the over hierarchical structure is correct.
     * @param {!Object} hierarchyModel The hierarchy model.
     * @returns {!boolean} True if there are no issues.
     */
    function validateHierarchyStructure(hierarchyModel) {
      if (!dlcui.isObject(hierarchyModel) || dlcui.isArray(hierarchyModel)) {
        return false;
      } else if (dlcui.isDefined(hierarchyModel.child)) {
        return validateHierarchyStructure(hierarchyModel.child);
      }

      return true;
    }

    return {
      convertToTree: convertToTree,
      convertToHierarchy: convertToHierarchy,
      validateHierarchyLabels: validateHierarchyLabels,
      validateTreeLabels: validateTreeLabels,
      validateHierarchyStructure: validateHierarchyStructure
    };
  });
;/* eslint-disable angular/controller-as-vm, no-bitwise, consistent-this, max-statements */
angular.module('dell.ngclarity.directives')
  .controller('dlcuiInlineAddRowController', ['$scope', 'dlcuiCallback', 'dlcuiSelection', 'DLCUI_INLINE_ADD_ROW_STATES', 'DLCUI_SELECTION_TYPE', function ($scope,
                                                     dlcuiCallback,
                                                     dlcuiSelection,
                                                     DLCUI_INLINE_ADD_ROW_STATES,
                                                     DLCUI_SELECTION_TYPE) {
    /**
     * Pointer to self
     */
    var vm = this;

    /**
     * The current state and allowed numbers are 0 for display, 1 for add new and 2 for editing
     * @type {number}
     */
    vm.state = DLCUI_INLINE_ADD_ROW_STATES.display;

    /**
     * The item index currently been edited.
     * @type {null|number}
     */
    vm.currentItemIndex = null;

    /**
     * The current error if any
     * @type {string|null}
     */
    vm.currentError = null;

    /**
     * The items currently been edited.
     * @type {null|Object}
     */
    vm.currentItem = null;

    /**
     * The parent scope
     */
    vm.$container = $scope.$parent;

    /**
     * Resets the state and current item.
     * @private
     */
    vm._resetState = function() {
      vm.currentItem = null;
      vm.currentItemIndex = null;
      vm.state = DLCUI_INLINE_ADD_ROW_STATES.display;
    };

    /**
     * Called to sync the model data with what the view currently displays.
     */
    vm._updateModel = function() {
      $scope.ngModelCtrl.$setViewValue(vm.items);
      vm._resetState();
    };

    /**
     * Called to delete the current item.
     * @private
     */
    vm._deleteCurrentItem = function() {
      if (dlcui.isNumber(vm.currentItemIndex) && vm.currentItemIndex >= 0) {
        var currentItem = vm.items[vm.currentItemIndex];
        vm.items.splice(vm.currentItemIndex, 1);
        vm._updateModel();
        $scope.onItemDeleted({
          item: currentItem
        });
      } else {
        vm._resetState();
      }
    };

    /**
     * Sets the current error state
     * @param {?string=} opError The optional error message.
     * @private
     */
    vm._setErrorState = function(opError) {
      vm.state |= DLCUI_INLINE_ADD_ROW_STATES.error;

      if (dlcui.isStringWithLength(opError)) {
        vm.currentError = opError;
      } else {
        vm.currentError = $scope.options.defaultErrorMessage;
      }
    };

    /**
     * Returns true if this component is in the process of adding a new item.
     * @returns {boolean} True if in add state.
     */
    vm.isAddState = function () {
      return (vm.state & DLCUI_INLINE_ADD_ROW_STATES.add) > 0;
    };

    /**
     * Returns true if this component is busy and usally everythign is disabled at this point.
     * @returns {boolean} True if in busy state.
     */
    vm.isBusyState = function () {
      return (vm.state & DLCUI_INLINE_ADD_ROW_STATES.busy) > 0;
    };

    /**
     * Returns true if this component is in the display state.
     * @returns {boolean} True if in display state.
     */
    vm.isDisplayState = function () {
      return vm.state === DLCUI_INLINE_ADD_ROW_STATES.display;
    };

    /**
     * Returns true if this component is in the process of editing an existing item.
     * @param {?number=} optItemIndex The index of the item that is been edited.
     * @returns {boolean} True if in edit state.
     */
    vm.isEditState = function (optItemIndex) {
      if (vm.isDisplayOnlyMode()) {
        return false;
      } else if (dlcui.isNumber(optItemIndex)) {
        return (vm.state & DLCUI_INLINE_ADD_ROW_STATES.edit) > 0 && vm.currentItemIndex === optItemIndex;
      }
      return (vm.state & DLCUI_INLINE_ADD_ROW_STATES.edit) > 0;
    };

    /**
     * Returns true if this component is in the process of validating an existing item.
     * @param {?number=} optItemIndex The index of the item that is been edited.
     * @returns {boolean} True if in edit state.
     */
    vm.isValidatingState = function (optItemIndex) {
      if (dlcui.isNumber(optItemIndex)) {
        return (vm.state & DLCUI_INLINE_ADD_ROW_STATES.validating) > 0 && vm.currentItemIndex === optItemIndex;
      }

      return (vm.state & DLCUI_INLINE_ADD_ROW_STATES.validating) > 0;
    };

    /**
     * Returns true if the component is in error state.
     * @returns {boolean} True if the component is in an error state
     */
    vm.isErrorState = function () {
      return (vm.state & DLCUI_INLINE_ADD_ROW_STATES.error) > 0;
    };

    /**
     * Returns the current error message if there is one
     * @returns {string|null} The current error message.
     */
    vm.getCurrentError = function () {
      return vm.currentError;
    };

    /**
     * Returns the container scope.
     * @returns {$scope} the container scope
     */
    vm.getContainerScope = function () {
      return $scope.options.containerScope || vm.$container;
    };

    /**
     * Called to clear the error state
     */
    vm.clearErrorState = function () {
      vm.state &= ~DLCUI_INLINE_ADD_ROW_STATES.error;
    };

    /**
     * The validating label to display
     * @returns {!string} validating label
     */
    vm.getValidatingLabel = function () {
      return $scope.options.validatingLabel;
    };

    /**
     * Returns true if the component is used in display only mode
     * @returns {boolean} True if the display only mode for this component is enabled.
     */
    vm.isDisplayOnlyMode = function () {
      return $scope.options.displayOnlyMode || !dlcui.isStringWithLength($scope.options.editItemTemplateUrl);
    };

    /**
     * Returns true if the editors should be disabled.
     * @returns {boolean} True if they should be disabled.
     */
    vm.isEditingDisabled = function () {
      return $scope.disabled || vm.isValidatingState() || vm.isBusyState();
    };

    /**
     * Called when the user clicks the add item and will generate a new object and use that as the new item.
     */
    vm.onItemAddClick = function () {
      vm.state = DLCUI_INLINE_ADD_ROW_STATES.busy;

      // Allow the developer to generate the correct object
      dlcuiCallback.handleResult($scope.onItemAdd()).then(function (newItem) {
        if (newItem) {
          vm.currentItem = newItem || {};
          vm.state = DLCUI_INLINE_ADD_ROW_STATES.add;
        } else {
          vm._resetState();
        }
      }, function () {
        vm._resetState();
      });
    };

    /**
     * Called when the user is editing an existing item
     * @param {!number} index The index of the item been edited.
     * @param {!Object} item The item been edited
     */
    vm.onItemEditClick = function (index, item) {
      dlcui.assertNumber(index);
      dlcui.assertObject(item);

      vm.state = DLCUI_INLINE_ADD_ROW_STATES.busy | DLCUI_INLINE_ADD_ROW_STATES.edit;
      // Allow the developer to block the edit
      dlcuiCallback.handleResult($scope.onItemEdit({
        item: item
      })).then(function () {
        vm.currentItemIndex = index;
        vm.currentItem = angular.copy(item);
        vm.state = DLCUI_INLINE_ADD_ROW_STATES.edit;
      }, function () {
        vm._resetState();
      });
    };

    /**
     * Called when the user is deleting an existing item
     * @param {!number} index The index of the item.
     * @param {!Object} item The item been deleted
     */
    vm.onItemDeleteClick = function (index, item) {
      dlcui.assertNumber(index);
      dlcui.assertObject(item);

      vm.state = DLCUI_INLINE_ADD_ROW_STATES.busy;
      // Allow the developer to block the edit
      dlcuiCallback.handleResult($scope.onItemDelete({
        item: item
      })).then(function () {
        vm.currentItemIndex = index;
        vm.currentItem = item;
        vm._deleteCurrentItem();
      }, function () {
        vm._resetState();
      });
    };

    /**
     * Called when the user cancels the current edit
     */
    vm.onItemCancelClick = function () {
      // TODO should we have a callback for cancelling??
      vm._resetState();
    };

    /**
     * Called to determine if the add button is visible.
     * @returns {boolean} True if the button is shown.
     */
    vm.isAddButtonVisible = function () {
      if (vm.isDisplayOnlyMode()) {
        return false;
      } else if (!$scope.options || $scope.options.disableAddItem ||
        !dlcui.isStringWithLength($scope.options.addItemTemplateUrl)) {
        return false;
      }
      return vm.isDisplayState() || vm.isEditState();
    };

    /**
     * Returns true if the add button is disabled.
     * @returns {boolean} True if the add button is disabled.
     */
    vm.isAddButtonDisabled = function () {
      return $scope.disabled || vm.isBusyState() || vm.isEditState();
    };

    /**
     * Called when the user clicks save/accept when adding or editing.
     */
    vm.onItemSaveClick = function () {
      var currentItem = vm.currentItem;
      var currentState = vm.state;

      if (currentItem) {
        // First validate the item before we change the state
        vm.state |= DLCUI_INLINE_ADD_ROW_STATES.validating;
        dlcuiCallback.handleResult($scope.onItemValidate({
          newItem: currentState === DLCUI_INLINE_ADD_ROW_STATES.add,
          item: currentItem
        })).then(function (result) {
          if (!dlcui.isBoolean(result) || result) {
            if ((currentState & DLCUI_INLINE_ADD_ROW_STATES.edit) > 0 && dlcui.isNumber(vm.currentItemIndex)) {
              angular.merge(vm.items[vm.currentItemIndex], currentItem);
              vm._updateModel();
              $scope.onItemEdited({
                item: currentItem
              });
            } else if ((currentState & DLCUI_INLINE_ADD_ROW_STATES.add) > 0) {
              vm.items = vm.items || [];
              vm.items.unshift(currentItem);
              vm._updateModel();
              $scope.onItemAdded({
                item: currentItem
              });
            }
          } else {
            // Do nothing and leave the editor open
            vm.state = currentState;
            vm._setErrorState();
          }
        }, function (error) {
          // Do nothing and leave the editor open
          vm.state = currentState;
          vm._setErrorState(error);
        });
      }
    };

    /**
     * Returns true if selection is allowed/enabled.
     * @returns {boolean} True if allowed.
     */
    vm.isSelectionAllowed = function () {
      return $scope.options.selectionType === DLCUI_SELECTION_TYPE.single ||
        $scope.options.selectionType === DLCUI_SELECTION_TYPE.multiple;
    };

    /**
     * Returns the current selection type
     * @returns {!number} The selection type.
     */
    vm.getSelectionType = function () {
      return $scope.options.selectionType;
    };

    /**
     * Called to select the specified item.
     * @param {!Object} item The item to select
     * @returns {!promise} Angular promise.
     */
    vm.toggleItemSelection = function (item) {
      return dlcuiCallback.handleResult($scope.onItemToggleSelection({
        item: item
      })).then(function() {
        dlcuiSelection.toggleItemSelection($scope.options.selectionType, item, vm.items);

        $scope.onSelectionChanged({
          items: dlcuiSelection.extractSelectedItems(vm.items)
        });
      });
    };
  }]);

;/**
 * @ngdoc directive
 * @name inlineAddRow
 * @module dlcui
 * @src directives/input/inlineAddRow/dlcuiInlineAddRow.directive.js
 * @restrict E
 * @controlType input
 *
 * @param {Object} options The required options and includes the list of items to display within the list component.
 * The options contains the following properties
 * ```javascript
 *  {
 *    disableAddItem: <?boolean=>,  // Optional boolean to disable and hide the add button.
 *    displayOnlyMode: <?boolean=>, // Optional boolean to disable all editing and place the component into display.
 *    addLabel: <string>, // The label to display within the add button
 *    validatingLabel: <string>,  // The label to display while an item is been validated
 *    addItemTemplateUrl: <string>, // The template to use when the user adds a new item
 *    addItemTemplate: <string>, // The template to use when the user adds a new item
 *    editItemTemplateUrl: <string>, // The template to use when the user edits an existing item
 *    editItemTemplate: <string>, // The template to use when the user edits an existing item
 *    displayItemTemplateUrl: <string>, // The template to use to display the item in the component in read mode
 *    displayItemTemplate: <string>, // The template to use to display the item in the component in read mode
 *    addItemToolbarVerticalLocation: <string>, // See DLCUI_FLEXBOX_ALIGN used for the edit mode
 *    displayItemToolbarVerticalLocation: <string>, // See DLCUI_FLEXBOX_ALIGN used for the display mode
 *    editItemToolbarVerticalLocation: <string>, // See DLCUI_FLEXBOX_ALIGN used for the edit mode
 *    selectionType: <number> // The selection type and the angular constant DLCUI_SELECTION_TYPE
 * }
 * ```
 *
 * The selectionType above can be used with,
 *   * 0 or DLCUI_SELECTION_TYPE.none (Default)
 *   * 1 or DLCUI_SELECTION_TYPE.single
 *   * 2 or DLCUI_SELECTION_TYPE.multiple
 *
 * The addItemToolbarVerticalLocation, displayItemToolbarVerticalLocation and editItemToolbarVerticalLocation above
 * can have any of the following values,
 *   * 'flex-start' or DLCUI_FLEXBOX_ALIGN.flexStart
 *   * 'flex-end' or DLCUI_FLEXBOX_ALIGN.flexEnd
 *   * 'center' or DLCUI_FLEXBOX_ALIGN.center
 *
 * Internally the design will try to use the same addItemTemplateUrl for the editItemTemplateUrl, if
 * editItemTemplateUrl is not defined and vice versa. The internal design will also convert addItemTemplate to
 * addItemTemplateUrl so either can be used.
 *
 * The component will enter a Display Only Mode if neither the add nor edit templates are provided. This is the same
 * as setting the option <i>displayOnlyMode</i> to true.
 * @param {ngModel} ngModel Angular <i>ng-model</i> that references the array of items displayed witin the component.
 *
 * The json of each of these items can contain any properties that is required by the templates defined by the
 * developer. The following properties are used internally by the component to control whether individal items
 * can be selected, edited or deleted.
 * ``` javascript
 * {
 *    selected: <boolean>, // Optional boolean value that defines whether an item is selected, see options.selectionType
 *    disabledDelete: <boolean>, // Optional boolean that defines whether deletion is allowed on a row item
 *    disabledEdit: <boolean>, // Optional boolean that defines whether editing is allowed on a row item
 *    disableSelect: <boolean>, // Optional boolean that defined whether a rows selection can be changed
 * }
 * ```
 * @param {ngDisabled=} ngDisabled Disable option that matches angular ng-disabled.
 * @param {Function=} onItemAdd Called when the user selects to add a new item. This method can return the new raw
 * json object directly or through an Angular Promise. The add action iteself can be blocked by returning nothing,
 * false or by rejecting the promise.
 * The signature for this function is,
 * ```javascript
 * function () {};
 * ```
 * @param {Function=} onItemAdded Called after the item has been added without any issues. The default handler will
 * simply use an empty json object.
 * The signature for this function is,
 * ```javascript
 * function (item) {};
 * ```
 * @param {Function=} onItemEdit Called when the user selects to edit an existing item. This edit can be blocked by
 * returning false or by rejecting the returned promise.
 * The signature for this function is,
 * ```javascript
 * function (item) {};
 * ```
 * @param {Function=} onItemEdited Called after the item has been edited without any issues.
 * The signature
 * for this function is,
 * ```javascript
 * function (item) {};
 * ```
 * @param {Function=} onItemDelete Called when the user selects to delete an existing item. This deletion can be
 * blocked by returning false or by rejecting the returned promise.
 * The signature for this function is,
 * ```javascript
 * function (item) {};
 * ```
 * @param {Function=} onItemDeleted Called after the item has been deleted without any issues.
 * The signature
 * for this function is,
 * ```javascript
 * function (item) {};
 * ```
 * @param {Function=} onItemValidate Called when the user selects the save after adding or editing an item. This
 * call-back can return a boolean or use a promise to accept or reject the validation, which blocks the model from
 * been modified. The UI will also display the <i>options.validatingLabel</i> while the validation is been called
 * asynchronously.
 * The signature for this function is,
 * ```javascript
 * function (item) {};
 * ```
 * The inline add row can diplay error messages if the promise design is used and the results is rejected with an
 * error message as follows,
 * ```javascript
 * function (item) {
 *    var defer = $q.defer();
 *
 *    if (!item.user) {
 *      defer.reject('Missing user name');
 *    } else {
 *      defer.resolve();
 *    }
 *
 *    return defer.promise;
 * };
 * ```
 *
 * @param {Function=} onItemToggleSelection Called when a rows selection is going to be changed. This function
 * has the following signature,
 * ``` javascript
 * function (item) {
 *    return true; // can also return an angular promise that controls if selection is allowed
 * }
 * ```
 *
 * This method can block a selection by return false, or by return a promise that is rejected.
 *
 * @param {Function=} onSelectionChanged Called when selection changes. This function has the following signature,
 * ``` javascript
 * function (items) {
 *    // items is an array
 * }
 * ```
 * This function can not be used to block the selection but the array contains all the currently selected items.
 *
 * @description
 * Element based directive that is used to generate or configue a list of items.
 *
 * This element uses a ng-model and can be used within a form element.
 *
 * The Add, Edit and Display edit can access the <i>item</i> variable directly to obtain data stored on the item
 * and defined by the developer. The template can also access variables and functions defined on the scope that
 * wraps the component using the <i>$container</i> variable. The edit template also has access to the function
 * <i>isDisabled()</i> which returns true if the editing is currently disabled, which can occur if the component
 * is busy validing the data on save.
 *
 * @example
 * <h3>Inline Add Row with Path Template</h3>
 *
 * <example name="inlineAddRowPathDLCUI">
 *  <file name="index.html">
 *    <div class="dlcui-options">
 *      <h2>Debug Options</h2>
 *      <div class="dlcui-flex-container-horizontal">
 *        <label class="dlcui-label">Selection Type:&nbsp;</label>
 *        <dlcui-drop-down ng-model="inlineAddRowOptions.selectionType"
 *                       items="selectionTypeOptions.items"
 *                       placeholder="{{selectionTypeOptions.placeholder}}"
 *                       ng-style="selectionTypeOptions.style">
 *        </dlcui-drop-down>
 *      </div>
 *      <br>
 *      <div class="dlcui-flex-container-horizontal">
 *        <div class="dlcui-flex-container-horizontal dlcui-field-group">
 *         <label class="dlcui-label">Disable Editing:&nbsp;</label>
 *          <dlcui-drop-down ng-model="disableEditOptions.model"
 *                         items="disableEditOptions.items"
 *                         on-selection-changed="disableEditOptions.onSelectionChanged(item)"
 *                         placeholder="{{disableEditOptions.placeholder}}"
 *                         ng-style="disableEditOptions.style">
 *         </dlcui-drop-down>
 *        </div>
 *        <div class="dlcui-flex-container-horizontal dlcui-field-group">
 *          <label class="dlcui-label">Disable Delete:&nbsp;</label>
 *          <dlcui-drop-down ng-model="disableDeleteOptions.model"
 *                         items="disableDeleteOptions.items"
 *                         on-selection-changed="disableDeleteOptions.onSelectionChanged(item)"
 *                         placeholder="{{disableDeleteOptions.placeholder}}"
 *                         ng-style="disableDeleteOptions.style">
 *          </dlcui-drop-down>
 *        </div>
 *        <div class="dlcui-flex-container-horizontal dlcui-field-group">
 *          <label class="dlcui-label">Disable Selection:&nbsp;</label>
 *          <dlcui-drop-down ng-model="disableSelectOptions.model"
 *                         items="disableSelectOptions.items"
 *                         on-selection-changed="disableSelectOptions.onSelectionChanged(item)"
 *                         placeholder="{{disableSelectOptions.placeholder}}"
 *                         ng-style="disableSelectOptions.style">
 *          </dlcui-drop-down>
 *        </div>
 *      </div>
 *      <br>
 *      <dlcui-checkbox label="Enabled" ng-model="enabledInlineAddRow"></dlcui-checkbox>
 *      <br>
 *      <dlcui-checkbox label="Display Only Mode" ng-model="inlineAddRowOptions.displayOnlyMode"></dlcui-checkbox>
 *      <br>
 *      <dlcui-checkbox label="Hide Add" ng-model="inlineAddRowOptions.disableAddItem"></dlcui-checkbox>
 *      <br>
 *      <dlcui-checkbox label="100% Width" ng-model="fullWidth"></dlcui-checkbox>
 *      <br>
 *      <br>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-inline-add-row options="inlineAddRowOptions"
 *                          ng-model="model.items"
 *                          on-item-add="onItemAdd()"
 *                          on-item-added="onItemAdded(item)"
 *                          on-item-edit="onItemEdit(item)"
 *                          on-item-edited="onItemEdited(item)"
 *                          on-item-validate="onItemValidate(newItem, item)"
 *                          on-item-delete="onItemDelete(item)"
 *                          on-item-deleted="onItemDeleted(item)"
 *                          ng-disabled="!enabledInlineAddRow"
 *                          ng-style="getStyle()">
 *      </dlcui-inline-add-row>
 *    </div>
 *  </file>
 *  <file name="addEditStorage.template.html">
 *    <div class="dlcui-example-edit dlcui-flex-container-horizontal dlcui-justify-flex-start dlcui-align-center">
 *        <dlcui-text-input class="dlcui-example-path dlcui-flex-item-auto-size"
 *                        ng-model="item.path"
 *                        ng-required="'true'"
 *                        placeholder="{{$container.pathOptions.placeholder}}"
 *                        ng-disabled="isDisabled()">
 *        </dlcui-text-input>
 *        <dlcui-drop-down class="dlcui-flex-item-fixed-size"
 *                       ng-model="item.type"
 *                       items="$container.typeOptions.items"
 *                       placeholder="{{$container.typeOptions.placeholder}}"
 *                       ng-disabled="isDisabled()">
 *        </dlcui-drop-down>
 *    </div>
 *  </file>
 *  <file name="addEditStorage.template.css">
 *    .dlcui-example-edit {
 *      min-width: 100%;
 *    }
 *
 *    .dlcui-example-edit .dlcui-example-path {
 *      margin-right: 12px;
 *      width: 290px;
 *    }
 *
 *    .dlcui-example-display .dlcui-example-type {
 *      line-height: 1em;
 *      width: 80px;
 *    }
 *  </file>
 *  <file name="displayStorage.template.html">
 *    <div class="dlcui-example-display dlcui-flex-container-horizontal dlcui-justify-flex-start dlcui-align-center">
 *      <div class="dlcui-example-path dlcui-example-label dlcui-label-truncate dlcui-flex-item-auto-size">
 *          {{item.path}}
 *      </div>
 *      <div class="dlcui-example-type dlcui-example-label dlcui-label-truncate">
 *          {{item.type | pathTypeFilter}}
 *      </div>
 *    </div>
 *  </file>
 *  <file name="displayStorage.template.css">
 *    .dlcui-example-display {
 *      height: 40px;
 *      min-width: 100%;
 *      padding-left: 15px;
 *    }
 *
 *    .dlcui-example-display .dlcui-example-path {
 *      line-height: 1em;
 *      margin-right: 12px;
 *      min-width: 290px;
 *    }
 *
 *    .dlcui-example-display .dlcui-example-type {
 *      line-height: 1em;
 *      width: 80px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       testSelectionGenerator,
 *                                       $q,
 *                                       $timeout,
 *                                       DLCUI_SELECTION_TYPE) {
 *
 *        var ROW_COUNT = 7;
 *
 *        $scope.message = 'Add new items by clicking add or edit existing items.';
 *
 *        $scope.enabledInlineAddRow = true;
 *
 *        $scope.model = {
 *          items: testDataGenerator.generate(ROW_COUNT)
 *        };
 *
 *        // Demonstrate how we can fix the width of the component
 *        $scope.getStyle = function () {
 *          if ($scope.fullWidth) {
 *            return {
 *              minWidth: '200px',
 *              width: '100%'
 *            };
 *          } else {
 *            return {
 *              minWidth: '200px',
 *              width: '500px'
 *            };
 *          }
 *        };
 *
 *        $scope.getModelAsString = function () {
 *          return JSON.stringify($scope.model.items);
 *        };
 *
 *        // Options for the main inline add row component
 *        $scope.inlineAddRowOptions = {
 *          enableAdd: true,
 *          addLabel: '+ Add Storage',
 *          validatingLabel: 'Testing...',
 *          addItemTemplateUrl: 'addEditStorage.template.html',
 *          editItemTemplateUrl: 'addEditStorage.template.html',  // Use the same template for both edit and add
 *          displayItemTemplateUrl: 'displayStorage.template.html'
 *        };
 *
 *        $scope.selectionTypeOptions = {
 *          placeholder: 'Change Selection Type...',
 *          items: [
 *            {
 *              label: 'None',
 *              value: DLCUI_SELECTION_TYPE.none
 *            },
 *            {
 *              label: 'Single',
 *              value: DLCUI_SELECTION_TYPE.single
 *            },
 *            {
 *              label: 'Multiple',
 *              value: DLCUI_SELECTION_TYPE.multiple
 *            }
 *          ],
 *          style: {
 *            width: '110px'
 *          }
 *        };
 *
 *        $scope.disableEditOptions = {
 *          placeholder: 'Select Row',
 *          items: testSelectionGenerator.generate(ROW_COUNT),
 *          onSelectionChanged: function (item) {
 *            angular.forEach($scope.model.items, function(modelItem) {
 *              if (modelItem) {
 *                modelItem.disableEdit = modelItem.id === item.value;
 *              }
 *            });
 *          }
 *        };
 *
 *        $scope.disableDeleteOptions = {
 *          placeholder: 'Select Row',
 *          items: testSelectionGenerator.generate(ROW_COUNT),
 *          onSelectionChanged: function (item) {
 *            angular.forEach($scope.model.items, function(modelItem) {
 *              if (modelItem) {
 *                modelItem.disableDelete = modelItem.id === item.value;
 *              }
 *            });
 *          }
 *        };
 *
 *        $scope.disableSelectOptions = {
 *          placeholder: 'Select Row',
 *          items: testSelectionGenerator.generate(ROW_COUNT),
 *          onSelectionChanged: function (item) {
 *            angular.forEach($scope.model.items, function(modelItem) {
 *              if (modelItem) {
 *                modelItem.disableSelect = modelItem.id === item.value;
 *              }
 *            });
 *          }
 *        };
 *
 *        $scope.pathOptions = {
 *          placeholder: 'Enter path'
 *        };
 *
 *        $scope.typeOptions = {
 *          placeholder: 'Select type',
 *          items: [
 *              {
 *                id: 0,
 *                name: 'Network'
 *              },
 *              {
 *                id: 1,
 *                name: 'Local'
 *              }
 *          ]
 *        };
 *
 *        // Called when the user clicks the add button and creates a new instance and must be defined
 *        $scope.onItemAdd = function () {
 *         $scope.message = 'Component requested a new item. Try an empty path name to see the error message.';
 *          // Emulate a server call to generate a new item data, we could also generate it inline but using
 *          // a promise is the best way to deliver the new data
 *          var defer = $q.defer();
 *          $timeout(function() {
 *            defer.resolve({
 *              id: null,
 *              path: '',
 *              type: 1
 *            })
 *          }, 1000);
 *          return defer.promise;
 *        };
 *
 *        // Called after the user selected save and is optional
 *        $scope.onItemAdded = function (item) {
 *          $scope.message = 'New Item added with path \'' + item.path + '\' and model has length '
 *            + $scope.model.items.length;
 *        };
 *
 *        // Called when the user attempts to edit an item and is optional
 *        $scope.onItemEdit = function (item) {
 *          $scope.message = 'Attempting to edit the selected item. Try an empty path name to see the error message.';
 *          // This is just an example and we could also return an Angular Promise
 *          return item && !item.editLocked;
 *        };
 *
 *        // Called after an item was edited and saved and is optional
 *        $scope.onItemEdited = function (item) {
 *          $scope.message = 'Item edited and the model length remains unchanged at ' +
  *           $scope.model.items.length;
 *        };
 *
 *        // Called by the component to validate the specified item and is optional
 *        $scope.onItemValidate = function (newItem, item) {
 *          $scope.message = 'Validating ' + (newItem ? 'new' : 'existing') + ' item.';
 *          // Emulate a server call to generate a new item data, we could also generate it inline but using
 *          // a promise is the best way to deliver the new data
 *          var defer = $q.defer();
 *          $timeout(function() {
 *            if (!item) {
 *              defer.resolve(false);   // Same as calling defer.reject()
 *            } else if (!item.path || !item.path.length) {
 *              // Same as calling defer.resolve(false) but we can send an error
 *              defer.reject('Path is required.');
 *            } else if (item.type !== 0 && item.type !== 1) {
 *              // Same as calling defer.resolve(false) but we can send an error
 *              defer.reject('Network Type required.');
 *            }
 *            defer.resolve(true);
 *          }, 1000);
 *          return defer.promise;
 *        };
 *
 *        // Called when the user attempts to delete an item and is optional
 *        $scope.onItemDelete = function (item) {
 *          $scope.message = 'Attempting to delete the selected item.';
 *          // Always require one item. Developer can do anything here and even return a promise to handle
 *          // deletion in an Asynchronous Fashion.
 *          return $scope.model.items.length > 1;
 *        };
 *
 *        // Called when the user attempts to delete an item and is optional
 *        $scope.onItemDeleted = function (item) {
 *          $scope.message = 'Item deleted from the model and the new length is ' + $scope.model.items.length;
 *        };
 *
 *        $scope.onItemToggleSelection= function (item) {
 *          $scope.message = 'Item ' + item.id + ' is been selected';
 *          return true;
 *        };
 *
 *        $scope.onSelectionChanged= function (items) {
 *          $scope.message = 'There are currently ' + items.length + ' selected items';
 *        };
 *      });
 *  </file>
 *  <file name="pathTypeFilter.js">
 *    angular.module('app')
 *      .filter('pathTypeFilter', function ($q, $timeout) {
 *        return function(input) {
 *          var out = '';
 *          switch (input) {
 *            case 0:
 *              out = 'Network';
 *              break;
 *            case 1:
 *              out = 'Local'
 *              break;
 *          }
 *          return out;
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: auto;
 *    }
 *
 *    .dlcui-field-group {
 *      margin-right: 10px;
 *    }
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function () {
 *
 *       function _generateData(count) {
 *          var data = [];
 *          for (var loop = 0; loop < count; loop++) {
 *            data.push({
 *              id: loop,
 *              path: ['\\\\server', loop, '\\path'].join(''),
 *              type: 0
 *            });
 *          }
 *
 *          return data;
 *       }
 *
 *       return {
 *          generate: _generateData
 *       };
 *    });
 *  </file>
 *  <file name="testSelectionGenerator.js">
 *    angular.module('app')
 *      .factory('testSelectionGenerator', function () {
 *
 *       function _generateData(count) {
 *          var data = [];
 *          for (var loop = 0; loop < count; loop++) {
 *            data.push({
 *              label: 'Item ' + loop,
 *              value: loop
 *            });
 *          }
 *
 *          return data;
 *       }
 *
 *       return {
 *          generate: _generateData
 *       };
 *    });
 *  </file>
 * </example>
 *
 * @example
 * <h3>Inline Add Row with Network Template</h3>
 *
 * <example name="inlineAddRowNetwork">
 *  <file name="index.html">
 *    <div class="dlcui-options">
 *      <h2>Debug Options</h2>
 *      <div class="dlcui-flex-container-horizontal">
 *        <label class="dlcui-label">Selection Type:&nbsp;</label>
 *        <dlcui-drop-down ng-model="inlineAddRowOptions.selectionType"
 *                       items="selectionTypeOptions.items"
 *                       placeholder="{{selectionTypeOptions.placeholder}}"
 *                       ng-style="selectionTypeOptions.style">
 *        </dlcui-drop-down>
 *      </div>
 *      <br>
 *      <div class="dlcui-flex-container-horizontal">
 *        <div class="dlcui-flex-container-horizontal dlcui-field-group">
 *         <label class="dlcui-label">Disable Editing:&nbsp;</label>
 *          <dlcui-drop-down ng-model="disableEditOptions.model"
 *                         items="disableEditOptions.items"
 *                         on-selection-changed="disableEditOptions.onSelectionChanged(item)"
 *                         placeholder="{{disableEditOptions.placeholder}}"
 *                         ng-style="disableEditOptions.style">
 *         </dlcui-drop-down>
 *        </div>
 *        <div class="dlcui-flex-container-horizontal dlcui-field-group">
 *          <label class="dlcui-label">Disable Delete:&nbsp;</label>
 *          <dlcui-drop-down ng-model="disableDeleteOptions.model"
 *                         items="disableDeleteOptions.items"
 *                         on-selection-changed="disableDeleteOptions.onSelectionChanged(item)"
 *                         placeholder="{{disableDeleteOptions.placeholder}}"
 *                         ng-style="disableDeleteOptions.style">
 *          </dlcui-drop-down>
 *        </div>
 *        <div class="dlcui-flex-container-horizontal dlcui-field-group">
 *          <label class="dlcui-label">Disable Selection:&nbsp;</label>
 *          <dlcui-drop-down ng-model="disableSelectOptions.model"
 *                         items="disableSelectOptions.items"
 *                         on-selection-changed="disableSelectOptions.onSelectionChanged(item)"
 *                         placeholder="{{disableSelectOptions.placeholder}}"
 *                         ng-style="disableSelectOptions.style">
 *          </dlcui-drop-down>
 *        </div>
 *      </div>
 *      <br>
 *      <dlcui-checkbox label="Enabled" ng-model="enabledInlineAddRow"></dlcui-checkbox>
 *      <br>
 *      <dlcui-checkbox label="Display Only Mode" ng-model="inlineAddRowOptions.displayOnlyMode"></dlcui-checkbox>
 *      <br>
 *      <dlcui-checkbox label="Hide Add" ng-model="inlineAddRowOptions.disableAddItem"></dlcui-checkbox>
 *      <br>
 *      <dlcui-checkbox label="100% Width" ng-model="fullWidth"></dlcui-checkbox>
 *      <br>
 *      <br>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-inline-add-row options="inlineAddRowOptions"
 *                          ng-model="model.items"
 *                          on-item-add="onItemAdd()"
 *                          on-item-added="onItemAdded(item)"
 *                          on-item-edit="onItemEdit(item)"
 *                          on-item-edited="onItemEdited(item)"
 *                          on-item-validate="onItemValidate(newItem, item)"
 *                          on-item-delete="onItemDelete(item)"
 *                          on-item-deleted="onItemDeleted(item)"
 *                          ng-disabled="!enabledInlineAddRow"
 *                          ng-style="getStyle()">
 *      </dlcui-inline-add-row>
 *    </div>
 *  </file>
 *  <file name="addEditNetwork.template.html">
 *    <div class="dlcui-example-edit dlcui-flex-container-horizontal dlcui-justify-flex-start dlcui-align-center">
 *      <div class="dlcui-example-group dlcui-flex-item-auto-size">
 *        <div class="dlcui-example-ip dlcui-flex-container-vertical dlcui-justify-center dlcui-align-flex-start">
 *          <div class="dlcui-example-label dlcui-label">
 *              IP Address
 *          </div>
 *          <dlcui-text-input ng-model="item.ip"
 *                          ng-pattern="$container.ipOptions.pattern"
 *                          placeholder="{{$container.ipOptions.placeholder}}"
 *                          ng-disabled="isDisabled()">
 *          </dlcui-text-input>
 *        </div>
 *      </div>
 *      <div class="dlcui-example-group dlcui-flex-item-auto-size">
 *        <div class="dlcui-example-hostname dlcui-flex-container-vertical dlcui-justify-center dlcui-align-flex-start">
 *          <div class="dlcui-example-label dlcui-label">
 *             Hostname
 *          </div>
 *          <dlcui-text-input ng-model="item.hostname"
 *                          ng-required="'true'"
 *                          placeholder="{{$container.hostnameOptions.placeholder}}"
 *                          ng-disabled="isDisabled()">
 *          </dlcui-text-input>
 *        </div>
 *      </div>
 *      <div class="dlcui-example-group dlcui-flex-item-auto-size">
 *        <div class="dlcui-example-aliases dlcui-flex-container-vertical dlcui-justify-center dlcui-align-flex-start">
 *          <div class="dlcui-example-label dlcui-label">
 *              Aliases
 *          </div>
 *          <dlcui-text-input ng-model="item.aliases"
 *                          placeholder="{{$container.aliasesOptions.placeholder}}"
 *                          ng-disabled="isDisabled()">
 *          </dlcui-text-input>
 *        </div>
 *      </div>
 *    </div>
 *  </file>
 *  <file name="addEditNetwork.template.css">
 *    .dlcui-example-edit {
 *      min-height: 40px;
 *      min-width: 510;
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-edit .dlcui-example-group:not(:first-child) {
 *      padding-left: 12px;
 *    }
 *
 *    .dlcui-example-edit .dlcui-example-ip {
 *      width: 110px;
 *    }
 *
 *    .dlcui-example-edit .dlcui-example-hostname {
 *      width: 160px;
 *    }
 *
 *    .dlcui-example-edit .dlcui-example-aliases {
 *      width: 160px;
 *    }
 *  </file>
 *  <file name="displayNetwork.template.html">
 *    <div class="dlcui-example-display dlcui-flex-container-horizontal dlcui-justify-flex-start dlcui-align-center">
 *      <div class="dlcui-example-label dlcui-flex-item-auto-size">
 *          <div class="dlcui-example-ip dlcui-label-truncate">
 *            {{item.ip}}
 *          </div>
 *      </div>
 *      <div class="dlcui-example-label dlcui-flex-item-auto-size">
 *          <div class="dlcui-example-hostname dlcui-label-truncate">
 *              {{item.hostname}}
 *          </div>
 *      </div>
 *      <div class="dlcui-example-label dlcui-flex-item-auto-size">
 *          <div class="dlcui-example-aliases dlcui-label-truncate">
 *              {{item.aliases}}
 *          </div>
 *      </div>
 *    </div>
 *  </file>
 *  <file name="displayNetwork.template.css">
 *    .dlcui-example-display {
 *      height: 40px;
 *      min-width: 510px;
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-display .dlcui-example-label {
 *      padding-left: 1em;
 *    }
 *
 *    .dlcui-example-display .dlcui-example-ip {
 *      width: 110px;
 *    }
 *
 *    .dlcui-example-display .dlcui-example-hostname {
 *      width: 160px;
 *    }
 *
 *    .dlcui-example-display .dlcui-example-aliases {
 *      width: 160px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       testSelectionGenerator,
 *                                       $q,
 *                                       $timeout,
 *                                       DLCUI_SELECTION_TYPE,
 *                                       DLCUI_FLEXBOX_ALIGN) {
 *
 *        var ROW_COUNT = 5;
 *
 *        $scope.message = 'Add new items by clicking add or edit existing items.';
 *
 *        $scope.enabledInlineAddRow = true;
 *
 *        $scope.model = {
 *          items: testDataGenerator.generate(ROW_COUNT)
 *        };
 *
 *        // Demonstrate how we can fix the width of the component
 *        $scope.getStyle = function () {
 *          if ($scope.fullWidth) {
 *            return {
 *              minWidth: '200px',
 *              width: '100%'
 *            };
 *          } else {
 *            return {
 *              minWidth: '200px',
 *              width: '600px'
 *            };
 *          }
 *        };
 *
 *        $scope.getModelAsString = function () {
 *          return JSON.stringify($scope.model.items);
 *        };
 *
 *        // the options for the inner item type combo box
 *        $scope.typeItems = [{
 *                label: 'Network'
 *              }, {
 *                label: 'Local'
 *              }
 *        ];
 *
 *        // Options for the main inline add row component
 *        $scope.inlineAddRowOptions = {
 *          enableAdd: true,
 *          addLabel: '+ Add Network',
 *          validatingLabel: 'Pinging...',
 *          addItemTemplateUrl: 'addEditNetwork.template.html',
 *          editItemTemplateUrl: 'addEditNetwork.template.html',  // Use the same template for both edit and add
 *          displayItemTemplateUrl: 'displayNetwork.template.html',
 *          addItemToolbarVerticalLocation: DLCUI_FLEXBOX_ALIGN.flexEnd,
 *          displayItemToolbarVerticalLocation: DLCUI_FLEXBOX_ALIGN.center,
 *          editItemToolbarVerticalLocation: DLCUI_FLEXBOX_ALIGN.flexEnd,
 *          selectionType: DLCUI_SELECTION_TYPE.none
 *        };
 *
 *        $scope.selectionTypeOptions = {
 *          placeholder: 'Change Selection Type...',
 *          items: [
 *            {
 *              label: 'None',
  *             value: DLCUI_SELECTION_TYPE.none
  *           },
 *            {
 *              label: 'Single',
 *              value: DLCUI_SELECTION_TYPE.single
 *            },
 *            {
 *              label: 'Multiple',
 *              value: DLCUI_SELECTION_TYPE.multiple
 *            }
 *          ],
 *          style: {
 *            width: '110px'
 *          }
 *        };
 *
 *        $scope.disableEditOptions = {
 *          placeholder: 'Select Row',
 *          items: testSelectionGenerator.generate(ROW_COUNT),
 *          onSelectionChanged: function (item) {
 *            angular.forEach($scope.model.items, function(modelItem) {
 *              if (modelItem) {
 *                modelItem.disableEdit = modelItem.id === item.value;
 *              }
 *            });
 *          }
 *        };
 *
 *        $scope.disableDeleteOptions = {
 *          placeholder: 'Select Row',
 *          items: testSelectionGenerator.generate(ROW_COUNT),
 *          onSelectionChanged: function (item) {
 *            angular.forEach($scope.model.items, function(modelItem) {
 *              if (modelItem) {
 *                modelItem.disableDelete = modelItem.id === item.value;
 *              }
 *            });
 *          }
 *        };
 *
 *        $scope.disableSelectOptions = {
 *          placeholder: 'Select Row',
 *          items: testSelectionGenerator.generate(ROW_COUNT),
 *          onSelectionChanged: function (item) {
 *            angular.forEach($scope.model.items, function(modelItem) {
 *              if (modelItem) {
 *                modelItem.disableSelect = modelItem.id === item.value;
 *              }
 *            });
 *          }
 *        };
 *
 *        $scope.ipOptions = {
 *          placeholder: 'Enter ip',
 *          pattern: '^(([1-9]?\\d|1\\d\\d|2[0-5][0-5]|2[0-4]\\d)\\.){3}([1-9]?\\d|1\\d\\d|2[0-5][0-5]|2[0-4]\\d)$'
 *        };
 *
 *        $scope.hostnameOptions = {
 *          placeholder: 'Enter hostname'
 *        };
 *
 *        $scope.aliasesOptions = {
 *          placeholder: 'Enter aliases'
 *        };
 *
 *        // Called when the user clicks the add button and creates a new instance and must be defined
 *        $scope.onItemAdd = function () {
 *         $scope.message = 'Component requested a new item';
 *          // Emulate a server call to generate a new item data, we could also generate it inline but using
 *          // a promise is the best way to deliver the new data
 *          var defer = $q.defer();
 *          $timeout(function() {
 *            defer.resolve({
 *              id: null,
 *              path: ''
 *            })
 *          }, 1000);
 *          return defer.promise;
 *        };
 *
 *        // Called after the user selected save and is optional
 *        $scope.onItemAdded = function (item) {
 *          $scope.message = 'New Item added with path \'' + item.path + '\' and model has length '
 *            + $scope.model.items.length;
 *        };
 *
 *        // Called when the user attempts to edit an item and is optional
 *        $scope.onItemEdit = function (item) {
 *          $scope.message = 'Attempting to edit the selected item.';
 *          // This is just an example and we could also return an Angular Promise
 *          return item && !item.editLocked;
 *        };
 *
 *        // Called after an item was edited and saved and is optional
 *        $scope.onItemEdited = function (item) {
 *          $scope.message = 'Item edited and the model length remains unchanged at ' +
  *           $scope.model.items.length;
 *        };
 *
 *        // Called by the component to validate the specified item and is optional
 *        $scope.onItemValidate = function (newItem, item) {
 *          $scope.message = 'Validating ' + (newItem ? 'new' : 'existing') + ' item.';
 *          // Emulate a server call to generate a new item data, we could also generate it inline but using
 *          // a promise is the best way to deliver the new data
 *          var defer = $q.defer();
 *          $timeout(function() {
 *            if (!item) {
 *              defer.resolve(false);   // Same as calling defer.reject()
 *            } else if (!item.ip || !item.ip.length) {
 *              // Same as calling defer.resolve(false) but we send error message
 *              defer.reject('IP Address is required');
 *            } else if (!item.ip.match(/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/)) {
 *              // Same as calling defer.resolve(false) but we send error message
 *              defer.reject('IP Address does not match the IP4 pattern ###.###.###,###.');
 *            } else if (!item.hostname || !item.hostname.length) {
 *              defer.reject('Hostname is required');
 *            }
 *            defer.resolve(true);
 *          }, 1000);
 *          return defer.promise;
 *        };
 *
 *        // Called when the user attempts to delete an item and is optional
 *        $scope.onItemDelete = function (item) {
 *          $scope.message = 'Attempting to delete the selected item.';
 *          // Always require one item. Developer can do anything here and even return a promise to handle
 *          // deletion in an Asynchronous Fashion.
 *          return $scope.model.items.length > 1;
 *        };
 *
 *        // Called when the user attempts to delete an item and is optional
 *        $scope.onItemDeleted = function (item) {
 *          $scope.message = 'Item deleted from the model and the new length is ' + $scope.model.items.length;
 *        };
 *
 *        $scope.onItemToggleSelection= function (item) {
 *          $scope.message = 'Item ' + item.id + ' is been selected';
 *          return true;
 *        };
 *
 *        $scope.onSelectionChanged= function (items) {
 *          $scope.message = 'There are currently ' + items.length + ' selected items';
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *    }
 *
 *    .dlcui-field-group {
 *      margin-right: 10px;
 *    }
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function () {
 *
 *       function _generateData(count) {
 *          var data = [];
 *          for (var loop = 0; loop < count; loop++) {
 *            data.push({
 *              id: loop,
 *              ip: '192.168.0.' + loop,
 *              hostname: 'Host_' + loop,
 *              aliases: 'Alias_' + loop
 *            });
 *          }
 *
 *          return data;
 *       }
 *
 *       return {
 *          generate: _generateData
 *       };
 *    });
 *  </file>
 *  <file name="testSelectionGenerator.js">
 *    angular.module('app')
 *      .factory('testSelectionGenerator', function () {
 *
 *       function _generateData(count) {
 *          var data = [];
 *          for (var loop = 0; loop < count; loop++) {
 *            data.push({
 *              label: 'Item ' + loop,
 *              value: loop
 *            });
 *          }
 *
 *          return data;
 *       }
 *
 *       return {
 *          generate: _generateData
 *       };
 *    });
 *  </file>
 * </example>
 */

angular.module('dell.ngclarity.directives').directive('dlcuiInlineAddRow', ['dlcuiBaseTemplatePath', 'dlcuiCallback', 'dlcuiSelection', 'dlcuiTemplate', 'DLCUI_INLINE_ADD_ROW_STATES', 'DLCUI_SELECTION_TYPE', 'DLCUI_FLEXBOX_ALIGN', '$translate', '$templateCache', function (dlcuiBaseTemplatePath,
                                                             dlcuiCallback,
                                                             dlcuiSelection,
                                                             dlcuiTemplate,
                                                             DLCUI_INLINE_ADD_ROW_STATES,
                                                             DLCUI_SELECTION_TYPE,
                                                             DLCUI_FLEXBOX_ALIGN,
                                                             $translate,
															 $templateCache) {
  return {
    restrict: 'E',
    replace: true,
    require: 'ngModel',
    //templateUrl: [dlcuiBaseTemplatePath, 'dlcuiInlineAddRow.directive.html'].join(''),
	template: function() {
		return $templateCache.get('ngclarity/directives/input/inlineAddRow/dlcuiInlineAddRow.directive.html');
		},
    scope: {
      options: '=',
      onItemAdd: '&',
      onItemAdded: '&',
      onItemEdit: '&',
      onItemEdited: '&',
      onItemDelete: '&',
      onItemDeleted: '&',
      onItemValidate: '&',
      onItemToggleSelection: '&',
      onSelectionChanged: '&',
      disabled: '=?ngDisabled'
    },
    controller: 'dlcuiInlineAddRowController',
    controllerAs: 'inlineAddRowCtrl',
    link: function link(scope, element, attrs, ngModelCtrl) {
      /**
       * The model controller
       */
      scope.ngModelCtrl = ngModelCtrl;

      /**
       * The options for the target
       * @type {any}
       */
      dlcui.setDefaults(scope.options, {
        addLabel: $translate.instant('DLCUI_ADD_INLINE_ROW'),
        validatingLabel: $translate.instant('DLCUI_VALIDATING'),
        defaultErrorMessage: $translate.instant('DLCUI_VALIDATION_FAILED'),
        displayOnlyMode: false,
        addItemToolbarVerticalLocation: DLCUI_FLEXBOX_ALIGN.center,
        displayItemToolbarVerticalLocation: DLCUI_FLEXBOX_ALIGN.center,
        editItemToolbarVerticalLocation: DLCUI_FLEXBOX_ALIGN.center,
        selectionType: DLCUI_SELECTION_TYPE.none
      });

      // Check the add/edit templates urls
      if (!dlcui.isStringWithLength(scope.options.addItemTemplateUrl) &&
        dlcui.isStringWithLength(scope.options.editItemTemplateUrl)) {
        scope.options.editItemTemplateUrl = scope.options.addItemTemplateUrl;
      } else if (dlcui.isStringWithLength(scope.options.addItemTemplateUrl) &&
        !dlcui.isStringWithLength(scope.options.editItemTemplateUrl)) {
        scope.options.addItemTemplateUrl = scope.options.editItemTemplateUrl;
      } else if (!dlcui.isStringWithLength(scope.options.addItemTemplate) &&
        dlcui.isStringWithLength(scope.options.editItemTemplate)) {
        scope.options.editItemTemplate = scope.options.addItemTemplate;
      } else if (dlcui.isStringWithLength(scope.options.addItemTemplate) &&
        !dlcui.isStringWithLength(scope.options.editItemTemplate)) {
        scope.options.addItemTemplate = scope.options.editItemTemplate;
      }
      dlcuiTemplate.convertTemplateToUrl(scope.options, 'addItemTemplateUrl', 'addItemTemplate', scope);
      dlcuiTemplate.convertTemplateToUrl(scope.options, 'editItemTemplateUrl', 'editItemTemplate', scope);
      dlcuiTemplate.convertTemplateToUrl(scope.options, 'displayItemTemplateUrl', 'displayItemTemplate', scope);
      dlcui.assertStringWithLength(scope.options.displayItemTemplateUrl, 'Missing Display Item Template.');

      /**
       * Monitors the model render method to convert the view value
       */
      ngModelCtrl.$render = function () {
        scope.inlineAddRowCtrl.items = ngModelCtrl.$viewValue || [];
      };

      scope.$watch('options.selectionType', function (selectionType) {
        if (dlcui.isNumber(selectionType)) {
          dlcuiSelection.validateSelections(selectionType, scope.inlineAddRowCtrl.items);
        }
      });


      // Preload the templates just in case
      dlcuiTemplate.load(scope.options.addItemTemplateUrl);
      if (scope.options.addItemTemplateUrl !== scope.options.editItemTemplateUrl) {
        dlcuiTemplate.load(scope.options.editItemTemplateUrl);
      }
    }
  };
}]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_INLINE_ADD_ROW_STATES', {
  display: 0,
  add: 1,
  edit: 2,
  busy: 4,
  validating: 8,
  error: 16
});
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiInlineDisplayItem', ['dlcuiBaseTemplatePath', '$templateCache', function (dlcuiBaseTemplatePath,$templateCache) {
    return {
      restrict: 'E',
      replace: true,
      require: '^dlcuiInlineAddRow',
      //templateUrl: [dlcuiBaseTemplatePath, 'dlcuiInlineDisplayItem.directive.html'].join(''),
	  template: function() {
		return $templateCache.get('ngclarity/directives/input/inlineAddRow/dlcuiInlineDisplayItem.directive.html');
		},
      scope: {
        item: '=',
        templateUrl: '@',
        toolbarLocation: '@',
        onItemEdit: '&',
        onItemDelete: '&',
        disabled: '=?ngDisabled'
      },
      link: function(scope, element, attrs, dlcuiInlineAddRowCtrl) {
        /**
         * The container scope
         * @type {$scope}
         */
        scope.$container = dlcuiInlineAddRowCtrl.getContainerScope();

        /**
         * Returns true if the component is in display only mode.
         * @returns {boolean} true if in display only mode.
         */
        scope.isDisplayOnlyMode = function () {
          return dlcuiInlineAddRowCtrl.isDisplayOnlyMode();
        };

        /**
         * Returns true if selection is allowed.
         * @returns {boolean} True if allowed.
         */
        scope.isSelectionAllowed = function () {
          return dlcuiInlineAddRowCtrl.isSelectionAllowed() && !scope.isDisplayOnlyMode();
        };

        /**
         * Returns true if selection is allowed.
         * @returns {boolean} True if allowed.
         */
        scope.isSelected = function () {
          if (dlcui.isBoolean(scope.item.selected)) {
            return scope.item.selected;
          }

          return false;
        };

        /**
         * Returns true if te selection is disable
         * @returns {boolean} True if selection is disabled.
         */
        scope.isSelectionDisabled = function () {
          return scope.item.disableSelect || scope.disabled;
        };

        /**
         * Called to toggle the selection.
         */
        scope.onToggleSelection = function () {
          if (scope.isSelectionAllowed() && !scope.isSelectionDisabled()) {
            dlcuiInlineAddRowCtrl.toggleItemSelection(scope.item);
          }
        };

        /**
         * Returns the configured selection type
         * @returns {!number} The selection type
         */
        scope.getSelectionType = function () {
          return dlcuiInlineAddRowCtrl.getSelectionType();
        };

        /**
         * Returns true if the toolbar is visible.
         * @returns {boolean} True if the toolbar is visible.
         */
        scope.isToolbarVisible = function () {
          return scope.isEditVisible() || scope.isDeleteVisible();
        };

        /**
         * Returns true if the edit feature is disabled.
         * @returns {boolean} true if visible.
         */
        scope.isEditVisible = function () {
          return !dlcuiInlineAddRowCtrl.isEditState() && !scope.isDisplayOnlyMode() &&
            !scope.item.disableEdit && !scope.disabled;
        };

        /**
         * Returns true if the delete feature is disabled.
         * @returns {boolean} true if visible.
         */
        scope.isDeleteVisible = function () {
          return !dlcuiInlineAddRowCtrl.isEditState() && !scope.isDisplayOnlyMode() &&
            !scope.item.disableDelete && !scope.disabled;
        };

        /**
         * Returns the location of the toolbar
         * @returns {string} The location
         */
        scope.getItemToolbarVerticalLocation = function () {
          if (dlcui.isStringWithLength(scope.toolbarLocation)) {
            return ['dlcui-toolbar-align', scope.toolbarLocation].join('-');
          }
        };

        /**
         * Build the classes to add add to the component
         * @returns {!Array<string>} Class names to add
         */
        scope.getItemClasses = function () {
          var classes = [scope.getItemToolbarVerticalLocation()];
          if (scope.item.disabled) {
            classes.push('dlcui-item-disabled');
          }
          if (scope.isSelectionAllowed()) {
            classes.push('dlcui-selection-allowed');
          }
          if (scope.isSelectionDisabled()) {
            classes.push('dlcui-selection-disabled');
          }

          return classes;
        };
      }
    };
  }]);
;/* eslint-disable no-bitwise*/
angular.module('dell.ngclarity.directives').directive('dlcuiInlineEditItem', ['dlcuiBaseTemplatePath', '$templateCache', function (dlcuiBaseTemplatePath,$templateCache) {
  return {
    restrict: 'E',
    replace: true,
    require: '^dlcuiInlineAddRow',
    //templateUrl: [dlcuiBaseTemplatePath, 'dlcuiInlineEditItem.directive.html'].join(''),
	template: function() {
		return $templateCache.get('ngclarity/directives/input/inlineAddRow/dlcuiInlineEditItem.directive.html');
		},
    scope: {
      item: '=',
      templateUrl: '@',
      toolbarLocation: '@',
      onItemSave: '&',
      onItemCancel: '&',
      disabled: '=?ngDisabled'
    },
    link: function (scope, element, attrs, dlcuiInlineAddRowCtrl) {
      /**
       * The container scope
       * @type {$scope}
       */
      scope.$container = dlcuiInlineAddRowCtrl.getContainerScope();

        /**
         * The validating label
         * @type {!string}
         */
      scope.validatingLabel = dlcuiInlineAddRowCtrl.getValidatingLabel();

      /**
       * Returns true if selection is allowed.
       * @returns {boolean} True if allowed.
       */
      scope.isSelectionEnabled = function () {
        return dlcuiInlineAddRowCtrl.isSelectionAllowed();
      };

      /**
       * Returns true if this component is in the process of validating an existing item.
       * @param {!Object} itemIndex The index of the item that is been edited.
       * @returns {boolean} True if in edit state.
       */
      scope.isValidatingState = function () {
        return dlcuiInlineAddRowCtrl.isValidatingState();
      };

      /**
       * Returns true if the item is disabled.
       * @returns {boolean} true if it is disabled
       */
      scope.isDisabled = function () {
        return dlcuiInlineAddRowCtrl.isValidatingState() || scope.disabled;
      };

      /**
       * Returns true if the component is in error state.
       * @returns {boolean} True if the component is in error state.
       */
      scope.isErrorState = function () {
        return dlcuiInlineAddRowCtrl.isErrorState();
      };

      /**
       * Returns the error message if any.
       * @returns {string|null} error message
       */
      scope.getErrorMessage = function () {
        return dlcuiInlineAddRowCtrl.getCurrentError();
      };

      scope.$watch('item', function (newItem, oldItem) {
        if (newItem && oldItem) {
          dlcuiInlineAddRowCtrl.clearErrorState();
        }
      }, true);

      /**
       * Returns the location of the toolbar
       * @returns {string} The location
       */
      scope.getItemToolbarVerticalLocation = function () {
        if (dlcui.isStringWithLength(scope.toolbarLocation)) {
          return ['dlcui-toolbar-align', scope.toolbarLocation].join('-');
        }
      };

      /**
       * Build the classes to add add to the component
       * @returns {!Array<string>} Class names to add
       */
      scope.getItemClasses = function () {
        var classes = [scope.getItemToolbarVerticalLocation()];

        if (scope.isSelectionEnabled()) {
          classes.push('dlcui-selection-enabled');
        }

        return classes;
      };
    }
  };
}]);
;/**
 * @ngdoc directive
 * @name inlineEditText
 * @module dlcui
 * @src src/directives/input/inlineEditText/dlcuiInlineEditText.directive.js
 * @controlType input
 * @restrict E
 *
 * @param {ngModel} ng-model The model that the text input is bound too and is also displayed as text when editor
 * is not activated.
 * @param {string=} placeholder The placeholder text to display if there is no data in the ng-model variable.
 * @param {ngDisabled=} ng-disabled Angular ng-disabled directive used to enable/disabled the component.
 *
 * @description
 * Element based directive that is used as an inline text edit control.
 *
 * The background of this component is transparent and the width can be retricted by using the css, ng-style or the
 * style attribute directly.
 *
 * The width of the component will never be larger than the width of its container and the label will be truncated
 * if the width is larger. The width can be reatricted to less than 100% by using the ng-style on the component or by
 * targeting the component through css and using <i>.dlcui-inline-edit-text</i> class.
 * ```css
 * .dlcui-inline-edit-text {
 *    width: 50px;
 * }
 * ```
 * Alternatively the ng-style can be used as follows,
 * ```html
 * <dlcui-inline-edit-text ng-model="model.value"
 *                       ng-style="inlineEditTextStyle">
 * </dlcui-inline-edit-text>
 * ```
 *
 * ```javascript
 * $scope.inlineEditTextStyle = {
 *    width: 50px;
 * };
 * ```
 *
 * A user can also tab to this component at which point the pencil is shown and the user can activate editing through
 * the space or enter keyboard.
 *
 * The user can deactivate the inline editor when they either focus out of the editor or when they press enter
 * or escape.
 *
 * @example
 * <h3>Inline Edit Text</h3>
 * <example name="inlineEditTextBasic">
 *  <file name="index.html">
 *    <div>
 *      <h3>Input Text: ({{model.value}})</h3>
 *      <br>
 *      <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *      </dlcui-checkbox>
 *    </div>
 *    <br>
 *    <div>
 *        <dlcui-inline-edit-text ng-model="model.value"
 *                              ng-disabled="!options.enabled">
 *        </dlcui-inline-edit-text>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.model = {
 *          value: 'Sales Host Groups'
 *        };
 *
 *        $scope.options = {
 *          enabled: true
 *        }
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 160px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Inline Edit Text with Restricted Visual Width</h3>
 * <example name="inlineEditTextVisualWidth">
 *  <file name="index.html">
 *    <div>
 *      <h3>Input Text: ({{model.value}})</h3>
 *      <br>
 *      <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *      </dlcui-checkbox>
 *    </div>
 *    <br>
 *    <div>
 *        <dlcui-inline-edit-text ng-model="model.value"
 *                              ng-disabled="!options.enabled"
 *                              ng-style="options.style">
 *        </dlcui-inline-edit-text>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.model = {
 *          value: 'Sales Host Groups With very long label and should truncate'
 *        };
 *
 *        $scope.options = {
 *          enabled: true,
 *          style: {
 *            width: '100px'
 *          }
 *        }
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 250px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Inline Edit Text with Placeholder</h3>
 * <example name="inlineEditTextPlaceholder">
 *  <file name="index.html">
 *    <div>
 *      <h3>Input Text: ({{model.value}})</h3>
 *      <br>
 *      <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *      </dlcui-checkbox>
 *    </div>
 *    <br>
 *    <div>
 *        <dlcui-inline-edit-text ng-model="model.value"
 *                              ng-disabled="!options.enabled"
 *                              placeholder="{{options.placeholder}}">
 *        </dlcui-inline-edit-text>
 *    </div>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.model = {
 *          value: ''
 *        };
 *
 *        $scope.options = {
 *          enabled: true,
 *          placeholder: 'Enter a Label'
 *        }
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 160px;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiInlineEditText', ['dlcuiBaseTemplatePath', '$templateCache', '$timeout', function (dlcuiBaseTemplatePath,
											$templateCache,
                                            $timeout) {
    return {
      restrict: 'E',
      replace: true,
      require: 'ngModel',
      scope: {
        disabled: '=?ngDisabled',
        placeholder: '@',
        type: '@'
      },
      //templateUrl: [dlcuiBaseTemplatePath, 'dlcuiInlineEditText.directive.html'].join(''),
	   template: function() {
		return $templateCache.get('ngclarity/directives/input/inlineEditText/dlcuiInlineEditText.directive.html');
		},
      link: function(scope, element, attrs, ngModelCtrl) {
        /**
         * Small amount to add to the size when activating the editor.
         * @type {number}
         */
        var BUFFER_SIZE = 6;

        /**
         * Called when the component loses focus.
         * @private
         */
        function _onBlur () {
          $timeout(function () {
            if (!element.find('.dlcui-text-input').is('.dlcui-active')) {
              scope.deactivateEdit();
            }
          });
        }

        /**
         * Called when the any key is selected.
         * @param {$event} event The associated key event.
         * @private
         */
        function _onKeyUp (event) {
          if (event && (event.which === 13 || event.which === 27)) {
            $timeout(function () {
              scope.deactivateEdit();
            });
          }
        }

        /**
         * Whether the current edit state is enabled.
         * @type {boolean}
         */
        scope.editState = false;

        /**
         * The internal input model value.
         * @type {null}
         */
        scope.inputValue = null;

        /**
         * Style for the input component.
         * @type {{width: string}}
         */
        scope.textInputStyle = {
          width: '100%'
        };

        /**
         * Called to activate the internal editor
         */
        scope.activateEdit = function () {
          if (!scope.disabled) {
            scope.textInputStyle.width = element.width() + BUFFER_SIZE;
            scope.editState = true;
            $timeout(function () {
              // Always find the input since it is destroyed when de-activated.
              element.find('.dlcui-text-input input').focus().on('blur', _onBlur).on('keyup', _onKeyUp);
            });
          } else {
            scope.editState = false;
          }
        };

        /**
         * Deactivate the internal editor.
         */
        scope.deactivateEdit = function () {
          scope.editState = false;
          element.find('.dlcui-text-input input').off('blur', _onBlur).off('keyup', _onKeyUp);
        };

        // Watch the internal model so that we can update the ng-model
        scope.$watch('inputValue', function (newValue) {
          ngModelCtrl.$setViewValue(newValue);
        });

        // Watch the internal model and update the internal editor with changes.
        ngModelCtrl.$render = function () {
          scope.inputValue = ngModelCtrl.$viewValue;
        };
      }
    };
  }]);
;  /**
 * @ngdoc directive
 * @name combobox
 *
 * @module cui.controls
 * @src directives/input/combobox/combobox.coffee
 * @controlType input
 *
 * @description A text field with a drop down list containing possible values.
 * The drop down list is filtered based on the text currently entered in the text field.
 *
 * @restrict E
 *
 * @clarity This component is deprecated, it will not be updated to meet Clarity 4 guidelines.
 *
 * @deprecated 2.9.0
 * @useInstead Please consider using <a href='../uiSelect'>UI Select</a> instead.
 *
 * @param {string} name - Required attribute that is used to set aria attributes.
 *
 * @param {string=} placeholder - The placeholder text for the text field.
 *
 * @param {string} ngModel - The text in the text field within the combo box. {@nglink api/ng/directive/ngModel}
 *
 * @param {array} items - An array of `item`s containing `label` properties. For example:
 *
 *   [
 *     {
 *       label: 'Item 1'
 *     },
 *     {
 *       label: 'Item 2'
 *     },
 *     {
 *       label: 'Item 3'
 *     }
 *   ]
 *
 * @param {boolean=} ngDisabled - Set to true to disable the drop down button. {@nglink api/ng/directive/ngDisabled}
 *
 * @example
 * <h3>Basic combo box</h3>
 * <example name="basicComboBox">
 *   <file name="index.html">
 *     <cui-combobox name="basicComboBox" placeholder="Select Planet" ng-model="vm.planet" items="vm.planets"
 *       ng-change="vm.setSelectedPlanet()">
 *     </cui-combobox>
 *
 *     <p ng-show="vm.planet">
 *       {{vm.selectedPlanet[0]["label"] + ' is planet number ' +  vm.selectedPlanet[0]["number"]}}.
 *     </p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *     .controller('AppCtrl', function() {
 *       var vm = this;
 *
 *       vm.setSelectedPlanet = function() {
 *         return vm.selectedPlanet = vm.planets.filter(function(planet) {
 *           // vm.planet holds the label of the currently selected planet
 *           // returns the planet as a single obect of an array
 *           return planet.label === vm.planet;
 *          });
 *        }
 *
 *        vm.planets = [{
 *          label: 'Mercury',
 *          number: '1'
 *        }, {
 *          label: 'Venus',
 *          number: '2'
 *        }, {
 *          label: 'Earth',
 *          number: '3'
 *        }, {
 *          label: 'Mars',
 *          number: '4'
 *        }, {
 *          label: 'Jupiter',
 *          number: '5'
 *        }, {
 *          label: 'Saturn',
 *          number: '6'
 *        }, {
 *          label: 'Uranus',
 *          number: '7'
 *        }, {
 *          label: 'Neptune',
 *          number: '8'
 *        }];
 *      })
 *    </file>
 *   <file name="styles.css">
 *     body {
 *       height: 200px;
 *     }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Disabled combo box</h3>
 * <example name="disabledComboBox">
 *   <file name="index.html">
 *     <cui-combobox name="disabledComboBox" placeholder="Select Planet" ng-disabled="true"
 *       ng-model="vm.planet" items="vm.planets">
 *     </cui-combobox>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *     .controller('AppCtrl', function(){
 *       var vm = this;
 *       vm.planets = [{
 *         label: 'Mercury',
 *         number: '1'
 *       }, {
 *         label: 'Venus',
 *         number: '2'
 *       }, {
 *         label: 'Earth',
 *         number: '3'
 *       }, {
 *         label: 'Mars',
 *         number: '4'
 *       }, {
 *         label: 'Jupiter',
 *         number: '5'
 *       }, {
 *         label: 'Saturn',
 *         number: '6'
 *       }, {
 *         label: 'Uranus',
 *         number: '7'
 *       }, {
 *         label: 'Neptune',
 *         number: '8'
 *       }];
 *      });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Combo box with external data</h3>
 * <example name="countriesComboBox">
 *   <file name="index.html">
 *     <cui-combobox name="countriesComboBox" placeholder="Choose a country..."" ng-model="vm.item" items="vm.items">
 *     </cui-combobox>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope, cuiDataSourceService){
 *         var vm = this;
 *         vm.items = []
 *
 *         countries = cuiDataSourceService('countries.json')
 *
 *         countries.all().then(function(data){
 *           vm.items = data
 *         }, function(err) {
 *           vm.item = 'No countries found.';
 *           vm.disabled = true;
 *         })
 *       });
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 250px;
 *     }
 *   </file>
 *   <file name="countries.json">
 *     [{"label":"Andorra"},{"label":"United Arab Emirates"},{"label":"Afghanistan"},{"label":"Antigua and Barbuda"},
 *      {"label":"Anguilla"},{"label":"Albania"},{"label":"Armenia"},{"label":"Angola"},{"label":"Antarctica"},
 *      {"label":"Argentina"},{"label":"American Samoa"},{"label":"Austria"},{"label":"Australia"},{"label":"Aruba"},
 *      {"label":"Åland"},{"label":"Azerbaijan"},{"label":"Bosnia and Herzegovina"},{"label":"Barbados"},
 *      {"label":"Bangladesh"},{"label":"Belgium"},{"label":"Burkina Faso"},{"label":"Bulgaria"},{"label":"Bahrain"},
 *      {"label":"Burundi"},{"label":"Benin"},{"label":"Saint Barthélemy"},{"label":"Bermuda"},{"label":"Brunei"},
 *      {"label":"Bolivia"},{"label":"Bonaire"},{"label":"Brazil"},{"label":"Bahamas"},{"label":"Bhutan"},
 *      {"label":"Bouvet Island"},{"label":"Botswana"},{"label":"Belarus"},{"label":"Belize"},{"label":"Canada"},
 *      {"label":"Cocos [Keeling] Islands"},{"label":"Democratic Republic of the Congo"},
 *      {"label":"Central African Republic"},{"label":"Republic of the Congo"},{"label":"Switzerland"},
 *      {"label":"Ivory Coast"},{"label":"Cook Islands"},{"label":"Chile"},{"label":"Cameroon"},{"label":"China"},
 *      {"label":"Colombia"},{"label":"Costa Rica"},{"label":"Cuba"},{"label":"Cape Verde"},{"label":"Curacao"},
 *      {"label":"Christmas Island"},{"label":"Cyprus"},{"label":"Czechia"},{"label":"Germany"},{"label":"Djibouti"},
 *      {"label":"Denmark"},{"label":"Dominica"},{"label":"Dominican Republic"},{"label":"Algeria"},
 *      {"label":"Ecuador"},{"label":"Estonia"},{"label":"Egypt"},{"label":"Western Sahara"},{"label":"Eritrea"},
 *      {"label":"Spain"},{"label":"Ethiopia"},{"label":"Finland"},{"label":"Fiji"},{"label":"Falkland Islands"},
 *      {"label":"Micronesia"},{"label":"Faroe Islands"},{"label":"France"},{"label":"Gabon"},
 *      {"label":"United Kingdom"},{"label":"Grenada"},{"label":"Georgia"},{"label":"French Guiana"},
 *      {"label":"Guernsey"},{"label":"Ghana"},{"label":"Gibraltar"},{"label":"Greenland"},{"label":"Gambia"},
 *      {"label":"Guinea"},{"label":"Guadeloupe"},{"label":"Equatorial Guinea"},{"label":"Greece"},
 *      {"label":"South Georgia and the South Sandwich Islands"},{"label":"Guatemala"},{"label":"Guam"},
 *      {"label":"Guinea-Bissau"},{"label":"Guyana"},{"label":"Hong Kong"},
 *      {"label":"Heard Island and McDonald Islands"},{"label":"Honduras"},{"label":"Croatia"},{"label":"Haiti"},
 *      {"label":"Hungary"},{"label":"Indonesia"},{"label":"Ireland"},{"label":"Israel"},{"label":"Isle of Man"},
 *      {"label":"India"},{"label":"British Indian Ocean Territory"},{"label":"Iraq"},{"label":"Iran"},
 *      {"label":"Iceland"},{"label":"Italy"},{"label":"Jersey"},{"label":"Jamaica"},{"label":"Jordan"},
 *      {"label":"Japan"},{"label":"Kenya"},{"label":"Kyrgyzstan"},{"label":"Cambodia"},{"label":"Kiribati"},
 *      {"label":"Comoros"},{"label":"Saint Kitts and Nevis"},{"label":"North Korea"},{"label":"South Korea"},
 *      {"label":"Kuwait"},{"label":"Cayman Islands"},{"label":"Kazakhstan"},{"label":"Laos"},{"label":"Lebanon"},
 *      {"label":"Saint Lucia"},{"label":"Liechtenstein"},{"label":"Sri Lanka"},{"label":"Liberia"},
 *      {"label":"Lesotho"},{"label":"Lithuania"},{"label":"Luxembourg"},{"label":"Latvia"},{"label":"Libya"},
 *      {"label":"Morocco"},{"label":"Monaco"},{"label":"Moldova"},{"label":"Montenegro"},{"label":"Saint Martin"},
 *      {"label":"Madagascar"},{"label":"Marshall Islands"},{"label":"Macedonia"},{"label":"Mali"},
 *      {"label":"Myanmar [Burma]"},{"label":"Mongolia"},{"label":"Macao"},{"label":"Northern Mariana Islands"},
 *      {"label":"Martinique"},{"label":"Mauritania"},{"label":"Montserrat"},{"label":"Malta"},{"label":"Mauritius"},
 *      {"label":"Maldives"},{"label":"Malawi"},{"label":"Mexico"},{"label":"Malaysia"},{"label":"Mozambique"},
 *      {"label":"Namibia"},{"label":"New Caledonia"},{"label":"Niger"},{"label":"Norfolk Island"},{"label":"Nigeria"},
 *      {"label":"Nicaragua"},{"label":"Netherlands"},{"label":"Norway"},{"label":"Nepal"},{"label":"Nauru"},
 *      {"label":"Niue"},{"label":"New Zealand"},{"label":"Oman"},{"label":"Panama"},{"label":"Peru"},
 *      {"label":"French Polynesia"},{"label":"Papua New Guinea"},{"label":"Philippines"},{"label":"Pakistan"},
 *      {"label":"Poland"},{"label":"Saint Pierre and Miquelon"},{"label":"Pitcairn Islands"},{"label":"Puerto Rico"},
 *      {"label":"Palestine"},{"label":"Portugal"},{"label":"Palau"},{"label":"Paraguay"},{"label":"Qatar"},
 *      {"label":"Réunion"},{"label":"Romania"},{"label":"Serbia"},{"label":"Russia"},{"label":"Rwanda"},
 *      {"label":"Saudi Arabia"},{"label":"Solomon Islands"},{"label":"Seychelles"},{"label":"Sudan"},
 *      {"label":"Sweden"},{"label":"Singapore"},{"label":"Saint Helena"},{"label":"Slovenia"},
 *      {"label":"Svalbard and Jan Mayen"},{"label":"Slovakia"},{"label":"Sierra Leone"},{"label":"San Marino"},
 *      {"label":"Senegal"},{"label":"Somalia"},{"label":"Suriname"},{"label":"South Sudan"},
 *      {"label":"São Tomé and Príncipe"},{"label":"El Salvador"},{"label":"Sint Maarten"},{"label":"Syria"},
 *      {"label":"Swaziland"},{"label":"Turks and Caicos Islands"},{"label":"Chad"},
 *      {"label":"French Southern Territories"},{"label":"Togo"},{"label":"Thailand"},{"label":"Tajikistan"},
 *      {"label":"Tokelau"},{"label":"East Timor"},{"label":"Turkmenistan"},{"label":"Tunisia"},{"label":"Tonga"},
 *      {"label":"Turkey"},{"label":"Trinidad and Tobago"},{"label":"Tuvalu"},{"label":"Taiwan"},{"label":"Tanzania"},
 *      {"label":"Ukraine"},{"label":"Uganda"},{"label":"U.S. Minor Outlying Islands"},{"label":"United States"},
 *      {"label":"Uruguay"},{"label":"Uzbekistan"},{"label":"Vatican City"},
 *      {"label":"Saint Vincent and the Grenadines"},{"label":"Venezuela"},{"label":"British Virgin Islands"},
 *      {"label":"U.S. Virgin Islands"},{"label":"Vietnam"},{"label":"Vanuatu"},{"label":"Wallis and Futuna"},
 *      {"label":"Samoa"},{"label":"Kosovo"},{"label":"Yemen"},{"label":"Mayotte"},{"label":"South Africa"},
 *      {"label":"Zambia"},{"label":"Zimbabwe"}]
 *   </file>
 * </example>
*/

'use strict';



angular.module('dell.ngclarity.directives').directive('dlcuiInputComboBox', ['$filter', '$log', 'dlcuiBaseTemplatePath', function($filter, $log, dlcuiBaseTemplatePath) {
  function link(scope, element, attributes, ngModelCtrl) {
    if (attributes.ngModel == null) {
      $log.dlcuiError({ dlcuiErrorType: 'ngmodel',
        dlcuiErrorCtrl: 'dlcui-inputcombobox',
        dlcuiErrorElIdentity: attributes.name || attributes.id || 'UNKNOWN' });
      return;
    }

    if (scope.items == null) {
      scope.items = [];
    }

    // do not load menu with visually selected item
    scope.currentIndex = scope.selectedIndex || 0;

    // Should find a better way
    scope.$watch('items', function (val) {
      if (val.length > 0) {
        scope.selectedItems = scope.items;
      } else {
        scope.selectedItems = [{
          label: 'No results found.'
        }];
      }
    });

    var scrollIntoView = function scrollIntoView() {
      var idx = null;
      // If the currentIndex is -1, then the viewValue was set to something not in the menu
      // so we need to set it back to 0 to set the scroll position to the top most item
      if (scope.currentIndex === -1) {
        idx = 0;
      } else {
        idx = scope.currentIndex;
      }

      var item = element[0].querySelectorAll('.dlcui-menu-item')[idx];
      var scrollingElement = element[0].querySelector('.dlcui-menu');

      // Element is above view
      if (item.offsetTop <= scrollingElement.scrollTop) {
        scrollingElement.scrollTop = item.offsetTop;
      }

      // Element is below view
      if (item.offsetTop + item.offsetHeight >= scrollingElement.scrollTop + scrollingElement.offsetHeight) {
        scrollingElement.scrollTop = item.offsetTop + item.offsetHeight - scrollingElement.offsetHeight;
      }
    };

    var filterItems = function filterItems(inputValue) {
      // Filter is called via the $formatter, on initialization and on keypress
      scope.selectedItems = $filter('filter')(scope.items, inputValue);

      // Set the currentIndex to -1 in order to set the scroll position to the top, and to clear any previous
      // currentIndex that may interfere if the user presses enter
      scope.currentIndex = -1;

      // Close the menu if it is empty
      if (scope.selectedItems.length === 0) {
        scope.closeMenu();
      }
    };

    scope.select = function (index) {
      // If index is greater than or equal to 0, then we know that there was a selection made via the menu items
      var inputValue = null,
          k = null,
          originalIndex = null,
          ref = null,
          ref1 = null,
          v = null;

      if (index >= 0) {
        ref = scope.items;
        for (k in ref) {
          // eslint-disable-line guard-for-in
          v = ref[k];
          if (v.label === scope.selectedItems[index].label) {
            originalIndex = k - 0;
            scope.selectedIndex = originalIndex;
            scope.currentIndex = originalIndex;
          }
        }
        ngModelCtrl.$setViewValue(scope.items[originalIndex].label);
      } else {
        inputValue = element.find('input').val();
        ref1 = scope.items;
        for (k in ref1) {
          // eslint-disable-line guard-for-in
          v = ref1[k];
          if (v.label === inputValue) {
            originalIndex = k - 0;
          }
        }
        if (originalIndex) {
          scope.selectedIndex = originalIndex;
          scope.currentIndex = originalIndex;
          ngModelCtrl.$setViewValue(scope.items[originalIndex].label);
        } else {
          ngModelCtrl.$setViewValue(inputValue);
        }
      }
      scope.closeMenu();
    };

    var focusField = function focusField() {
      element.find('input')[0].focus();
    };

    scope.toggleMenu = function (ev) {
      // Open menu event needs to happen prior to scrollIntoView
      scope.$broadcast('dlcui:toggle:');
      scrollIntoView();
      if (ev) {
        ev.preventDefault();
        ev.stopPropagation();
      }
      focusField();
    };

    scope.openMenu = function (ev) {
      // Open menu event needs to happen prior to scrollIntoView
      scope.$broadcast('dlcui:open:');
      scrollIntoView();
      if (ev) {
        ev.preventDefault();
        ev.stopPropagation();
      }
    };

    scope.closeMenu = function () {
      // Reset the menu to all items
      scope.selectedItems = scope.items;
      scope.$broadcast('dlcui:close:');
    };

    // Gonna cache this guy out here so it's not looked for everytime the $formatter runs
    var menu = element[0].querySelector('.dlcui-menu');

    // Filter out items based on input
    ngModelCtrl.$formatters.push(function (inputValue) {
      // Open the menu in case it's not open, can happen when mousedown happens inside the input
      // but mouseup occurs outside the input. Click and drag to select and release outside of input.
      if (inputValue && !angular.element(menu).hasClass('dlcui-menu-showing')) {
        scope.openMenu();
      }
      scope.selectedIndex = -1;
      filterItems(inputValue);
      if (ngModelCtrl.$dirty) {
        ngModelCtrl.$setViewValue(inputValue);
      }
      return inputValue;
    });

    // Triggered by scope.select() -> ngModelCtrl.$setViewValue()
    // Set the selected|currentIndex based on the original items object
    ngModelCtrl.$parsers.unshift(function (inputValue) {
      var k = null,
          ref = null,
          v = null;
      if (scope.currentIndex >= 0) {
        ref = scope.items;
        for (k in ref) {
          // eslint-disable-line guard-for-in
          v = ref[k];
          if (v.label === inputValue) {
            scope.selectedIndex = k - 0;
            scope.currentIndex = k - 0;
          }
        }
      }
      return inputValue;
    });

    element.bind('keydown keypress', function (ev) {
      if (ev.altKey && ev.which === 40) {
        scope.openMenu();
        return;
      }

      if (ev.altKey && ev.which === 38) {
        scope.closeMenu();
        return;
      }

      if (scope.selectedItems.length > 0) {
        switch (ev.keyCode) {
          case 40:
            scope.$apply(function () {
              if (scope.currentIndex < scope.selectedItems.length - 1) {
                scope.currentIndex++;
                return scrollIntoView();
              }
            });
            ev.preventDefault();
            break;
          case 38:
            scope.$apply(function () {
              if (scope.currentIndex > 0) {
                scope.currentIndex--;
                return scrollIntoView();
              }
            });
            ev.preventDefault();
            break;
          case 34:
          case 35:
            scope.$apply(function () {
              scope.currentIndex = scope.selectedItems.length - 1;
              return scrollIntoView();
            });
            ev.preventDefault();
            break;
          case 33:
          case 36:
            scope.$apply(function () {
              scope.currentIndex = 0;
              return scrollIntoView();
            });
            ev.preventDefault();
            break;
          case 13:
            scope.$apply(function () {
              return scope.select(scope.currentIndex);
            });
            ev.preventDefault();
        }
      }
    });
  }

  function compile(tElement, tAttributes) {
    var input = tElement.find('input');

    if (tAttributes.name) {
      input.attr('name', tAttributes.name);
      if (tAttributes.label) {
        var label = '<label id=\'dlcui-label-' + tAttributes.name + '\'>' + tAttributes.label + '</label>';
        tElement.prepend(label);
      } else {
        // get the parent, hopefully .cui-form-group so we can find the label and set its id
        var group = tElement.parent();
        var label = group.find('label');
        label.attr('id', 'dlcui-label-' + tAttributes.name);
      }
    } else {
      $log.dlcuiError({ dlcuiErrorType: 'name', dlcuiErrorCtrl: 'dlcui-inputcombobox', dlcuiErrorElIdentity: 'UNKNOWN' });
    }
    if (tAttributes.placeholder !== null) {
      input.attr('placeholder', tAttributes.placeholder);
    }

    return link;
  }
  return {
    templateUrl:[dlcuiBaseTemplatePath, 'directives/input/inputcombobox/dlcuiInputComboBox.directive.html'].join(''),
    restrict: 'EA',
    require: '?ngModel',
    scope: {
      name: '@',
      items: '=?',
      ngModel: '=?',
      ngDisabled: '='
    },
    compile: compile
  };
}]);

;  /**
 * @ngdoc directive
 * @name listView
 *
 * @description The List View is a utility directive that generates css classes on the element and its children.
 *
 * @module dlcui.controls
 * @src directives/helper/listView/listview.js
 * @controlType presentational
 *
 * @restrict A
 *
 * @param {string=} dlcuiListView Define the type of list
 *
 * * `vertical`  Nested items will be `display: block`.
 * * `horizontal` Nested items will be `display: inline`.

 * @example
 * <h3>Vertical List View</h3>
 * <example name='verticalListView'>
 *   <file name='index.html'>
 *     <ul dlcui-list-view="vertical">
 *       <li>Example</li>
 *       <li>Example</li>
 *       <li>Example</li>
 *      </ul>
 *   </file>
 * <file name='app.js'>
 *   angular.module('app', ['dlcui'])
 *     .controller('AppCtrl', function() {});
 * </file>
 * </example>

 * @example
 * <h3>Horizontal List View</h3>
 * <example name='horizontalListView'>
 *   <file name='index.html'>
 *     <ul dlcui-list-view="horizontal">
 *       <li>Example</li>
 *       <li>Example</li>
 *       <li>Example</li>
 *     </ul>
 *   </file>
 * <file name='app.js'>
 *   angular.module('app', ['dlcui'])
 *     .controller('AppCtrl', function() {});
 * </file>
 * </example>
 **/

'use strict';


angular.module('dell.ngclarity.directives').directive('dlcuiListView', function () {
  function compile(tElement, tAttributes) {
    tElement.addClass('dlcux-list-view-' + tAttributes.dlcuiListView);
    tElement.children().addClass('dlcux-list-view__item');
  }

  return {
    restricts: 'A',
    compile: compile
  };
}
);
;/**
 * @ngdoc directive
 * @name multiSelectComboBox
 * @module dlcui
 * @src input/multiSelectComboBox/dlcuiMultiSelectComboBox.directive.js
 * @restrict E
 * @controlType input
 *
 * @param {ngModel} ng-model Angular ng-model directive that binds to a model value and contains an array of the
 * selected defined item values.
 * @param {string=} deselectAllLabel The label to use for the Deselect all action item. Default is 'Deselect All'.
 * @param {Array} items Array of items that are displayed within the drop down.
 * The following highlights the design
 * ```javascript
 * items: [
 *          {
 *            id: 0,
 *            label: 'Ford, Harrison',  // Displayed visually within the selection area
 *            value: 0  // Used as the model value
 *          },
 *          {
 *            id: 1,
 *            label: 'Connery, Sean',
 *            value: 1
 *          },
 *          {
 *            id: 2,
 *            label: 'Phifer, Michelle',
 *            value: 2
 *          }
 *        ]
 * ```
 *
 * To display supplemental labels below the main label you can use the supplementalLabel property as follows,
 * ```javascript
 * items: [
 *          {
 *            id: 0,
 *            label: 'Ford, Harrison',  // Displayed visually within the selection area
 *            supplementalLabel: 'Blade Runner',
 *            value: 0  // Used as the model value
 *          },
 *          {
 *            id: 1,
 *            label: 'Connery, Sean',
 *            supplementalLabel: 'Goldfinger',
 *            value: 1
 *          },
 *          {
 *            id: 2,
 *            label: 'Phifer, Michelle',
 *            supplementalLabel: 'Batman Returns',
 *            value: 2
 *          }
 *        ]
 * ```
 *
 * Each item must contain at least the <i>label</i> property which is used in the visual display within the drop
 * down list and within the dropdown component. The <i>value</i> property defines the value to be used for the
 * actual model and the developer can use any Javascript Primitive type such as String or Integer or even Date.
 *
 * If <i>value</i> property is not defined then the component will attempt to use the following properties
 * in the following order,
 * * id
 * * label
 * * name
 *
 * The visual label will also default to <i>name</i> for backward compatibility if <i>label</i> is not used.
 *
 * The idea is the <i>label</i> is used for display and the <i>value</i> is used to represent the model value.
 *
 * The <i>selectedItems</i> below represent an array of entire item objects with all its properties defined.
 *
 * The <i>value</i> and <i>label</i> can also be a function that returns the true value, but angular promises is
 * not supported at this time.
 * @param {Array=} selectedItems Uses two way binding and sets the currently selected items array. The currently
 * selected values can be changed by changing this on the parent scope. This value contains an array of entire
 * item objects while the ng-model value contains the value, or label if value is not defined, of the selected
 * item object.
 * @param {Function=} onSelectionChanged A callback function that is called when the selected changes and the
 * parameter includes the newly selected item.
 * @param {string=} placeholder The string to display if no data is currently selected, which can happen if the
 * user sets the model value to null or a value that does not exist within the items. This defaults to
 * <i>Slect or Search item</i>.
 * @param {string=} noMatches The string to display in the list when filtering data and where no data is found. This
 * defaults to <i>0 matches found</i>
 * @param {string=} maxHeight The maximum height for the drop down when opened. The default is 'auto'.
 * @param {ngDisabled=} ng-disabled boolean representing the state of the directive (i.e. enabled/disabled) and
 * uses the angular directive ng-disabled.
 *
 * @description
 * Element based directive that is used as a combo box control.
 *
 * @example
 * <h3>Multi Select Combo Box</h3>
 * <example name="multiSelectComboBoxBasic">
 *  <file name="index.html">
 *    <div class="container">
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-multi-select-combo-box ng-model="model.value"
 *                          items="options.items"
 *                          on-selection-changed="onSelectionChanged(items)"
 *                          on-filter-changed="onFilterChanged(filter)"
 *                          selected-items="model.selectedItems"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-multi-select-combo-box>
 *      </div>
 *      <br><br>
 *      <h3>Selected Value (ng-model): ({{model.value}})</h3>
 *      <h3>Selected Item (selected-item): ({{model.selectedItems}})</h3>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart' }
 *          ],
 *          style: {
 *            width: '360px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItems: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.selectedItem', function (selectedItem) {
 *            if (dlcui.isDefined(selectedItem)) {
 *              console.log('selected item', selectedItem);
 *            }
 *        });

 *        //
 *        // Event: onChange()
 *        //
 *        $scope.onSelectionChanged = function(items) {
 *            if (dlcui.isDefined(items)) {
 *              console.log('onSelectionChanged()', items);
 *            }
 *        };
 *
 *        $scope.onFilterChanged = function(filter) {
 *            if (dlcui.isDefined(filter)) {
 *              console.log('onFilterChanged()', filter);
 *            }
 *        }
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 500px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Multi Select Combo Box with defined placeholder</h3>
 * <example name="multiSelectComboBoxBasicPlacehoder">
 *  <file name="index.html">
 *    <div class="container">
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-multi-select-combo-box ng-model="model.value"
 *                          items="options.items"
 *                          on-selection-changed="onSelectionChanged(items)"
 *                          on-filter-changed="onFilterChanged(filter)"
 *                          placeholder="Select a value..."
 *                          selected-items="model.selectedItems"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-multi-select-combo-box>
 *      </div>
 *      <br><br>
 *      <h3>Selected Value (ng-model): ({{model.value}})</h3>
 *      <h3>Selected Item (selected-item): ({{model.selectedItems}})</h3>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart' }
 *          ],
 *          style: {
 *            width: '360px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItems: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.selectedItem', function (selectedItem) {
 *            if (dlcui.isDefined(selectedItem)) {
 *              console.log('selected item', selectedItem);
 *            }
 *        });

 *        //
 *        // Event: onChange()
 *        //
 *        $scope.onSelectionChanged = function(items) {
 *            if (dlcui.isDefined(items)) {
 *              console.log('onSelectionChanged()', items);
 *            }
 *        };
 *
 *        $scope.onFilterChanged = function(filter) {
 *            if (dlcui.isDefined(filter)) {
 *              console.log('onFilterChanged()', filter);
 *            }
 *        }
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 500px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Multi Select Combo Box with Max Height</h3>
 * <example name="multiSelectComboBoxBasicMaxHeight">
 *  <file name="index.html">
 *    <div class="container">
 *      <div>
 *           <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *           </dlcui-checkbox>
 *           <br><br>
 *           <dlcui-multi-select-combo-box ng-model="model.value"
 *                          items="options.items"
 *                          max-height="150px"
 *                          on-selection-changed="onSelectionChanged(items)"
 *                          on-filter-changed="onFilterChanged(filter)"
 *                          selected-items="model.selectedItems"
 *                          ng-disabled="!options.enabled"
 *                          ng-style="options.style">
 *           </dlcui-multi-select-combo-box>
 *      </div>
 *      <br><br>
 *      <h3>Selected Value (ng-model): ({{model.value}})</h3>
 *      <h3>Selected Item (selected-item): ({{model.selectedItems}})</h3>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *        enabled: true,
 *          items: [
 *              { id: 0, label: 'Ford, Harrison', value: 'harrison' },
 *              { id: 1, label: 'Connery, Sean', value: 'connery' },
 *              { id: 2, label: 'Phifer, Michelle', value: 'phifer' },
 *              { id: 3, label: 'Keaton, Michael', value: 'keaton' },
 *              { id: 4, label: 'Seymour, Jane', value: 'seymour' },
 *              { id: 5, label: 'Stewart, Patrick', value: 'stewart' }
 *          ],
 *          style: {
 *            width: '360px'
 *          }
 *        };
 *
 *        $scope.model = {
 *          selectedItems: null,
 *          value: null
 *        };
 *        //
 *        // $watch: 'model.item'
 *        //
 *        $scope.$watch('model.selectedItem', function (selectedItem) {
 *            if (dlcui.isDefined(selectedItem)) {
 *              console.log('selected item', selectedItem);
 *            }
 *        });

 *        //
 *        // Event: onChange()
 *        //
 *        $scope.onSelectionChanged = function(items) {
 *            if (dlcui.isDefined(items)) {
 *              console.log('onSelectionChanged()', items);
 *            }
 *        };
 *
 *        $scope.onFilterChanged = function(filter) {
 *            if (dlcui.isDefined(filter)) {
 *              console.log('onFilterChanged()', filter);
 *            }
 *        }
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 450px;
 *    }
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Form with Multi Select Combo Box and Validation</h3>
 * <example name="multiSelectComboBoxValidation">
 *  <file name='index.html'>
 *    <p>
 *        <b>Note: </b><i>Changing the model will change the forms dirty and error states and thus the border
 *        color, which is managed through the css within styles.css above, so watch closely.</i>
 *    </p>
 *    <form class="dlcui-example-form">
 *      <br><br>
 *      <div class="dlcui-flex-container-horizontal dlcui-align-center dlcui-justify-flex-start">
 *        <label class="dlcui-label-example">User Name: </label>
 *        <!-- The width is set using angular ng-style for the user -->
 *        <dlcui-multi-select-combo-box ng-model="model.user.value"
 *                       ng-required="'true'"
 *                       items="options.user.items"
 *                       on-selection-changed="onSelectionChanged('User', items)"
 *                       placeholder="Select a Name"
 *                       selected-item="model.user.selectedItem">
 *        </dlcui-multi-select-combo-box>
 *      </div>
 *      <br><br>
 *      <div class="dlcui-flex-container-horizontal dlcui-align-center dlcui-justify-flex-start">
 *        <label class="dlcui-label-example">Permission: </label>
 *        <!-- The width is set using angular ng-style for the user -->
 *        <dlcui-multi-select-combo-box ng-model="model.permission.value"
 *                       ng-required="'true'"
 *                       items="options.permission.items"
 *                       on-selection-changed="onSelectionChanged('Permission', items)"
 *                       placeholder="Select a Name"
 *                       selected-item="model.permission.selectedItem">
 *        </dlcui-multi-select-combo-box>
 *      </div>
 *      <br><br>
 *    </form>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.options = {
 *          user: {
 *            items: [
 *                { id: 0, label: 'Ford, Harrison', value: 0 },
 *                { id: 1, label: 'Connery, Sean', value: 1 },
 *                { id: 2, label: 'Phifer, Michelle', value: 2 },
 *                { id: 3, label: 'Keaton, Michael', value: 3 },
 *                { id: 4, label: 'Seymour, Jane', value: 4 },
 *                { id: 5, label: 'Stewart, Patrick', value: 5 }
 *           ],
 *            style: {
 *              width: '150px'
 *            }
 *          },
 *          permission: {
 *            items: [
 *                { id: 0, label: 'none', value: '00' },
 *                { id: 1, label: 'read', value: '01' },
 *                { id: 2, label: 'write', value: '10' },
 *                { id: 3, label: 'admin', value: '11' }
 *           ],
 *            style: {
 *              width: '150px'
 *            }
 *          }
 *        };
 *
 *        $scope.model = {
 *          user: {
 *            selectedItems: null,
 *            value: null
 *          },
 *          permission: {
 *            value: ['11']
 *          }
 *        };
 *
 *        $scope.onSelectionChanged = function(name, items) {
 *            if (dlcui.isDefined(items)) {
 *              console.log('onSelectionChanged(' + name + ')', items);
 *            }
 *        };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .dlcui-label-example {
 *      display: inline-block;
 *      width: 80px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *    .dlcui-multi-select-combo-box {
 *      width: 150px;
 *    }
 *
 *    .dlcui-example-form {
 *      border: 1px dotted transparent;
 *      height: 300px;
 *      padding: 10px;
 *    }
 *
 *    .dlcui-example-form.ng-dirty {
 *      border: 1px dotted #1f9dfa;
 *    }
 *
 *    .dlcui-example-form.ng-invalid {
 *      border: 1px dotted #ce1126;
 *    }
 *
 *    .dlcui-example-form.ng-valid {
 *      border: 1px dotted #6ea204;
 *    }
 *  </file>
 * </example>
 */
/* eslint-disable angular/controller-as-vm, consistent-this, max-statements */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiMultiSelectComboBox', ['dlcuiDropDownList', 'dlcuiSelection', '$templateCache', '$timeout', function (dlcuiDropDownList,
                                                 dlcuiSelection,
												 $templateCache,
                                                 //$translate,
                                                 $timeout) {
    return {
      replace: true,
      restrict: 'E',
      require: 'ngModel',
      scope: {
        items: '=?',
        deselectAllLabel: '@',
        selectedItems: '=?',
        disabled: '=?ngDisabled',
        onSelectionChanged: '&',
        onFilterChanged: '&',
        maxHeight: '@',
        placeholder: '@',
        noMatches: '@'
      },
      template: function() {
		return $templateCache.get('ngclarity/directives/input/multiSelectComboBox/dlcuiMultiSelectComboBox.directive.html')
	  },
      link: function (scope, element, attrs, ngModelCtrl) {
        // Set some defaults
        dlcui.setDefaults(scope, {
          items: [],
          placeholder: 'DLCUI_SELECT_OR_SEARCH_ITEMS', //$translate.instant('DLCUI_SELECT_OR_SEARCH_ITEMS'),
          noMatches: 'DLCUI_NO_MATCHES_FOUND' //$translate.instant('DLCUI_NO_MATCHES_FOUND')
        });

        /**
         * Called when the selected item changes so that the text input is in sync
         * @private
         */
        function _updateInputModel () {
          scope.filterModel.filter = '';
          scope.filterModel.filteredItems = scope.items;
        }

        /**
         * Called to truncate the items within the input area.
         * @private
         */
        function _truncateSelections () {
          if (dlcui.isArrayWithLength(scope.selectedItems)) {
            $timeout (function () {
              var internalItemsElement = element.find('.dlcui-internal-items');
              var internalItemsElementChildren = internalItemsElement.find('.dlcui-internal-item');
              var neededWidth = internalItemsElement.width();
              var totalChildWidth = 0;
              internalItemsElementChildren.each(function () {
                totalChildWidth += $(this).outerWidth();
                if (totalChildWidth > neededWidth) {
                  $(this).removeClass('dlcui-visible-item');
                  $(this).nextAll().removeClass('dlcui-visible-item');
                  $(this).prev().addClass('dlcui-last-visible-item');
                  return false; // break the loop to stop the further iteration
                }
                $(this).show();
                $(this).removeClass('dlcui-last-visible-item').addClass('dlcui-visible-item');
              });
            });
          }
        }

        /**
         * the item to highlight but not select.
         * @type {null|Object}
         */
        scope.highlightItem = null;

        /**
         * Controls the visibility of the drop down list
         * @type {boolean}
         */
        scope.dropDownVisible = false;

        /**
         * Defines whether the input has focus.
         * @type {boolean}
         */
        scope.inputActive = false;

        /**
         * Defines whether the component has focus.
         * @type {boolean}
         */
        scope.active = false;

        /**
         * The filter model used to manage the filtered items and the currnt filter string.
         * @type {Object}
         */
        scope.filterModel = {
          filteredItems: scope.items,
          filter: ''
        };

        /**
         * Called when the user clicks on the drop down
         * @param {!Event} event The associated dom event.
         */
        scope.onDropDownClick = function (event) {
          event.stopPropagation();
          if (!scope.disabled && !scope.dropDownVisible) {
            scope.dropDownVisible = true;
          } else {
            scope.dropDownVisible = false;
          }
        };

        /**
         * Inner input focus handler
         * @private
         */
        scope.onFocus = function () {
          scope.active = true;
        };

        /**
         * Called when the input gains focus.
         */
        scope.onInputFocus = function () {
          scope.inputActive = true;
          scope.dropDownVisible = true;
        };

        /**
         * Called when the input loses focus.
         */
        scope.onInputBlur = function () {
          scope.inputActive = false;
        };

        /**
         * Called when the user clicks outside of the component
         */
        scope.onDocumentClick = function() {
          scope.dropDownVisible = scope.inputActive;
          scope.active = scope.dropDownVisible;
        };

        /**
         * Called when the user clicks on a selected item within the input area.
         * @param {!Object} item The associated item.
         */
        scope.onItemClick = function (item) {
          scope.highlightItem = item;
        };

        /**
         * Called when the user clicks on an item.
         */
        scope.onDropDownItemClicked = function () {
          scope.selectedItems = dlcuiSelection.extractSelectedItems(scope.items);
          scope.highlightItem = null;
        };

        /**
         * Called when the user clicks on the remove item
         * @param {!Event} event The associated click event.
         * @param {!Object} item The associated item.
         */
        scope.onItemRemove = function (event, item) {
          event.stopPropagation();
          dlcuiSelection.deselectItem(item);
          scope.selectedItems = dlcuiSelection.extractSelectedItems(scope.items);
          scope.highlightItem = null;
        };

        /**
         * Returns true if one or more items have been selected.
         * @returns {!boolean} true if one or more items have been selected
         */
        scope.isItemsSelected = function () {
          return dlcui.isArrayWithLength(scope.selectedItems);
        };

        /**
         * Called when the user selects the clear selections.
         */
        scope.onDeselectAll = function () {
          scope.selectedItems = dlcuiSelection.extractSelectedItems(scope.items);
          scope.highlightItem = null;
        };

        /**
         * Returns true if the drop down is visible
         * @returns {!boolean} True if visible.
         */
        scope.isDropDownVisible = function () {
          return scope.dropDownVisible && !scope.disabled;
        };

        // Watch the view value of the model
        ngModelCtrl.$render = function () {
          scope.selectedItems = dlcuiDropDownList.findItemsForValue(ngModelCtrl.$viewValue, scope.items);
        };

        // Only call on selection change when the view value changes
        ngModelCtrl.$viewChangeListeners.push(function () {
          if (dlcui.isArrayWithLength(scope.selectedItems)) {
            $timeout(function() { // Work around the filtering if input has focus.
              scope.filterModel.filteredItems = scope.items;
            });
            scope.onSelectionChanged({
              items: scope.selectedItems
            });
          }
        });

        scope.$watchCollection('items', function () {
          scope.filterModel.filteredItems = dlcuiDropDownList.filterData(scope.filterModel.filter,
            scope.items, scope.noMatches);
        });

        // Watch the selected value so we can sync the data
        scope.$watchCollection('selectedItems', function () {
          if (dlcui.isArrayWithLength(scope.selectedItems)) {
            ngModelCtrl.$setViewValue(dlcuiDropDownList.getItemValues(scope.selectedItems));
          } else {
            ngModelCtrl.$setViewValue(null);
          }
          _updateInputModel();
          _truncateSelections();
        });

        // Watch the input value so we can filter the data
        scope.$watch('filterModel.filter', function(newValue, oldValue) {
          if (scope.inputActive && dlcui.isString(newValue) && newValue !== oldValue) {
            scope.filterModel.filteredItems = dlcuiDropDownList.filterData(newValue, scope.items, scope.noMatches);
            if (dlcui.isArrayWithLength(scope.filterModel.filteredItems)) {
              scope.highlightItem = scope.filterModel.filteredItems[0];
            }
            scope.onFilterChanged({
              filter: newValue
            });
          }
        });
      }
    };
  }]);

; /**
 * @ngdoc directive
 * @name radio
 * @module dlcui.controls
 * @src directives/input/radio/radio.js
 * @controlType input

 * @description Radio buttons let users choose one option in a set of related, mutually exclusive options.
 *
 * <blockquote>There is a known issue with IE9 where the browser does not repaint until
 * an event occurs. This means the example may show an incorrect model in the rendered view, however the
 * model is correct. Use the 'Log Models' button to view the model in the console.</blockquote>
 *
 * @restrict E
 * @transclude The label of the radio button.
 *
 * @param {string} name HTML attribute that is used to group multiple radio buttons together.
 *
 * @param {object} ngModel The property on the model which will be set when the radio is selected. {@nglink api/ng/directive/ngModel}
 *
 * @param {string} value The value to be set on the model when the radio is selected.
 *
 * @param {string=} ngValue Angular expression to which `ngModel` will be set when the radio is selected.
 *                          Use instead of `value` if you need a non-string `ngModel`. {@nglink api/ng/directive/ngValue}
 *
 * @example
 * <h3>Basic radio button set</h3>
 * <example name="basicRadio">
 *   <file name="index.html">
 *    <h3>Favorite symphony orchestra</h3>
 *    <dlcui-radio ng-model="vm.orchestra" name="orchestra" value="berlin">Berlin Philharmonic</dlcui-radio><br>
 *    <dlcui-radio ng-model="vm.orchestra" name="orchestra" value="vienna">Vienna Philharmonic</dlcui-radio><br>
 *    <dlcui-radio ng-model="vm.orchestra" name="orchestra" value="london">London Symphony Orchestra</dlcui-radio><br>
 *    <dlcui-radio ng-model="vm.orchestra" name="orchestra" value="chicago">Chicago Symphony Orchestra</dlcui-radio><br>
 *    <dlcui-radio ng-model="vm.orchestra" name="orchestra" value="bavarian">Bavarian Radio Symphony Orchestra</dlcui-radio>
 *    <p>Your choice: {{vm.orchestra}}</p>
 *    <p><dlcui-button ng-click="vm.logModel()">Log Model</dlcui-button></p>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function() {
 *      var vm = this;
 *      vm.logModel = function() {
 *        console.log('vm.orchestra', vm.orchestra);
 *      };
 *    });
 *  </file>
 * </example>
 *
 * @example
 * <h3>Requiring and disabling radio buttons</h3>
 * <example name="individualRadio">
 *   <file name="index.html">
 *     <form novalidate name="vm.radioExampleForm" class="dlcui-form-stacked">
 *       <div class="dlcui-form-group">
 *         <h3>What would make a good movie?</h3>
 *         <dlcui-radio name="movie" ng-model="vm.movie" value="Armed Aliens"
 *           ng-disabled="vm.isDisabled" ng-required="vm.isRequired">Aliens with missles on their shoulders</dlcui-radio>
 *         <dlcui-radio name="movie" ng-model="vm.movie" value="Walking Sharks"
 *           ng-disabled="vm.isDisabled" ng-required="vm.isRequired">Walking, man eating sharks</dlcui-radio>
 *         <dlcui-radio name="movie" ng-model="vm.movie" value="Ninja Monkeys"
 *           ng-disabled="vm.isDisabled" ng-required="vm.isRequired">Killer monkey ninjas from space</dlcui-radio>
 *       </div>
 *       <p>{{vm.movie || "Nothing"}}, would make a sweet movie!</p>
 *       <p>
 *         <dlcui-button ng-click="vm.setRequired()">{{vm.isRequired && "Optional" || "Require"}} radios</dlcui-button>
 *         <dlcui-button ng-click="vm.setDisabled()">{{vm.isDisabled && "Enable" || "Disable"}} radios</dlcui-button>
 *         <dlcui-button ng-click="vm.logModel()">Log Model</dlcui-button>
 *         <dlcui-button ng-click="vm.logFormState()">Log Form State</dlcui-button>
 *       </p>
 *     </form>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *     .controller('AppCtrl', function() {
 *       var vm = this;
 *       vm.isRequired = false;
 *       vm.setRequired = function() {
 *         vm.isRequired = !vm.isRequired;
 *         vm.requiredState = !vm.requiredState;
 *       };
 *
 *       vm.isDisabled = false;
 *       vm.setDisabled = function() {
 *         vm.isDisabled = !vm.isDisabled;
 *       };
 *
 *       vm.logModel = function() {
 *         console.log('vm.movie', vm.movie);
 *       };
 *
 *       vm.logFormState = function() {
 *         console.log(vm.radioExampleForm);
 *       };
 *     });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Radio button group</h3>
 * <example name="groupRadio">
 *   <file name="index.html">
 *     <form novalidate name="radioExampleForm" class="dlcui-form-stacked">
 *       <div class="dlcui-form-group">
 *         <h3>Select an orchestra</h3>
 *         <div ng-repeat="orchestra in vm.orchestras">
 *           <dlcui-radio name="orchestra" ng-model="vm.selection" ng-value="orchestra.location">{{orchestra.title}}</dlcui-radio>
 *         </div>
 *       </div>
 *       <p>Location: {{vm.selection}}</p>
 *       <p><dlcui-button ng-click="vm.logModel()">Log Model</dlcui-button></p>
 *     </form>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *     .controller('AppCtrl', function() {
 *       var vm = this;
 *       vm.logModel = function() {
 *         console.log('vm.selection', vm.selection);
 *       };
 *
 *       vm.orchestras = [{
 *         title: 'Berlin Philharmonic',
 *         location: 'Berlin'
 *       },{
 *         title: 'Vienna Philharmonic',
 *         location: 'Vienna'
 *       },{
 *         title: 'London Symphony',
 *         location: 'London'
 *       },{
 *         title: 'Chicago Symphony',
 *         location: 'Chicago'
 *       },{
 *         title: 'Bavarin Radio Symphony',
 *         location: 'Bavarian'
 *       }];
 *     });
 *   </file>
 * </example>
 */

'use strict';
angular.module('dell.ngclarity.directives')
				.directive('dlcuiRadio',['$document', '$log', 'dlcuiBaseTemplatePath', function ($document, 
												  $log, 
												  dlcuiBaseTemplatePath) {
  function link(scope, element, attributes, ngModelCtrl) {
    // error when creating radios individually and missing ng-model
    if (ngModelCtrl == null) {
      $log.dlcuiError({
        dlcuiErrorType: 'ngmodel',
        dlcuiErrorCtrl: 'dlcui-radio',
        dlcuiErrorElIdentity: attributes.name || attributes.id || 'UNKNOWN'
      });
      return;
    }

    element.bind('keypress', function (ev) {
      switch (ev.which) {
        case 32:
          // Space
          ev.preventDefault();
          $document[0].activeElement.click();
      }
    });
  }

  function compile(tElement, tAttributes) {
    var radio = tElement.find('input');

    // make sure the name attribute gets to the input
    if (tAttributes.name == null) {
      $log.dlcuiError({
        dlcuiErrorType: 'name',
        dlcuiErrorCtrl: 'dlcui-radio',
        dlcuiErrorElIdentity: tAttributes.name || tAttributes.id || 'UNKNOWN'
      });
    } else {
      radio.attr('name', tAttributes.name);
    }
    return link;
  }

  return {
	templateUrl: [dlcuiBaseTemplatePath, 'directives/input/radio/dlcuiRadio.directive.html'].join(''),
    restrict: 'EA',
    require: '?ngModel',
    transclude: true,
    scope: {
      name: '@',
      value: '@',
      ngModel: '=',
      ngRequired: '=',
      ngDisabled: '='
    },
    compile: compile
  };
}]);

;// TODO complete this
/* eslint-disable max-statements, valid-jsdoc*/
angular.module('dell.ngclarity.directives')
  .directive('dlcuiSlider', ['dlcuiBaseTemplatePath', 'DLCUISlider', '$templateCache', function (dlcuiBaseTemplatePath, DLCUISlider,$templateCache) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        dlcuiSliderFloor: '=?',
        dlcuiSliderCeil: '=?',
        dlcuiSliderStep: '@',
        dlcuiSliderPrecision: '@',
        dlcuiSliderModel: '=?',
        dlcuiSliderHigh: '=?',
        dlcuiSliderDraggable: '@',
        dlcuiSliderTranslate: '&',
        dlcuiSliderHideLimitLabels: '=?',
        dlcuiSliderAlwaysShowBar: '=?',
        dlcuiSliderPresentOnly: '@',
        dlcuiSliderOnStart: '&',
        dlcuiSliderOnChange: '&',
        dlcuiSliderOnEnd: '&',
        dlcuiSliderShowTicks: '=?',
        dlcuiSliderShowTicksValue: '=?',
        dlcuiSliderDisabled: '=?',
        dlcuiSliderInterval: '=?'
      },
     // templateUrl: [dlcuiBaseTemplatePath, 'dlcuiSlider.html'].join(''),
	  template: function() { 
			return $templateCache.get('ngclarity/directives/input/slider/dlcuiSlider.html') 
	 },
      link: function (scope, elem, attr) {
		 
        return new DLCUISlider(scope, elem, attr);
      }
    };
  }]);
;// TODO complete this ng-doc
/* eslint-disable indent, max-statements, valid-jsdoc*/
angular.module('dell.ngclarity.directives')
  .factory('DLCUISlider', ['$timeout', '$document', '$window',
    function ($timeout, $document, $window) {
      var Slider = function (scope, sliderElem, attributes) {
        /**
         * The slider's scope
         *
         * @type {ngScope}
         */
        this.scope = scope;

        /**
         * The slider attributes
         *
         * @type {Object}
         */
        this.attributes = attributes;

        /**
         * Slider element wrapped in jqLite
         *
         * @type {jqLite}
         */
        this.sliderElem = sliderElem;

        /**
         * Slider type
         *
         * @type {boolean} Set to true for range slider
         */
        this.range = angular.isUndefined(attributes.dlcuiSliderHigh) && angular.isUndefined(attributes.dlcuiSliderModel);

        /**
         * Whether to allow draggable range
         *
         * @type {boolean} Set to true for draggable range slider
         */
        this.dragRange = this.range && attributes.dlcuiSliderDraggableRange === 'true';

        /**
         * Values recorded when first dragging the bar
         *
         * @type {Object}
         */
        this.dragging = {
          active: false,
          value: 0,
          difference: 0,
          offset: 0,
          lowDist: 0,
          highDist: 0
        };

        /**
         * Half of the width of the slider handles
         *
         * @type {number}
         */
        this.handleHalfWidth = 0;

        /**
         * Always show selection bar
         *
         * @type {boolean}
         */
        this.alwaysShowBar = Boolean(attributes.dlcuiSliderAlwaysShowBar);

        /**
         * Maximum left the slider handle can have
         *
         * @type {number}
         */
        this.maxLeft = 0;

        /**
         * Precision
         *
         * @type {number}
         */
        this.precision = 0;

        /**
         * Step
         *
         * @type {number}
         */
        this.step = 0;

        /**
         * The name of the handle we are currently tracking
         *
         * @type {string}
         */
        this.tracking = '';

        /**
         * Minimum value (floor) of the model
         *
         * @type {number}
         */
        this.minValue = 0;

        /**
         * Maximum value (ceiling) of the model
         *
         * @type {number}
         */
        this.maxValue = 0;

        /**
         * Hide limit labels
         *
         * @type {boolean}
         */
        this.hideLimitLabels = Boolean(attributes.dlcuiSliderHideLimitLabels);

        /**
         * Only present model values
         *
         * Do not allow to change values
         *
         * @type {boolean}
         */
        this.presentOnly = attributes.dlcuiSliderPresentOnly === 'true';

        /**
         * Display ticks on each possible value.
         *
         * @type {boolean}
         */
        this.showTicks = attributes.dlcuiSliderShowTicks || attributes.dlcuiSliderShowTicksValue;

        /**
         * Display the value on each tick.
         *
         * @type {boolean}
         */
        this.showTicksValue = attributes.dlcuiSliderShowTicksValue;

        /**
         * Disable the slider
         *
         * @type {boolean}
         */
        this.disabled = this.scope.dlcuiSliderDisabled;

        /**
         * The interval at which the slider updates when the model/high values
         * are altered from outside the slider
         *
         * @type {number}
         */
        this.interval = this.scope.dlcuiSliderInterval !== null ? this.scope.dlcuiSliderInterval : 350;

        /**
         * The delta between min and max value
         *
         * @type {number}
         */
        this.valueRange = 0;

        /**
         * Set to true if init method already executed
         *
         * @type {boolean}
         */
        this.initHasRun = false;

        /**
         * Custom translate function
         *
         * @type {function}
         */
        this.customTrFn = this.scope.dlcuiSliderTranslate() ||
          function (value) {
            return String(value);
          };

        /**
         * Array of de-registration functions to call on $destroy
         *
         * @type {Array.<Function>}
         */
        this.deRegFuncs = [];

        // Slider DOM elements wrapped in jqLite
        this.fullBar = null;  // The whole slider bar
        this.selBar = null;   // Highlight between two handles
        this.minH = null;     // Left slider handle
        this.maxH = null;     // Right slider handle
        this.flrLab = null;   // Floor label
        this.ceilLab = null;  // Ceiling label
        this.minLab = null;  // Label above the low value
        this.maxLab = null;   // Label above the high value
        this.cmbLab = null;   // Combined label
        this.ticks = null;  // The ticks

        // Initialize slider
        this.init();
      };

      // Add instance methods
      Slider.prototype = {

        /**
         * Initialize slider
         */
        init: function () {
          var thrLow = null,
            thrHigh = null,
            unRegFn = null,
            calcDimFn = angular.bind(this, this.calcViewDimensions),
            self = this;

          this.initElemHandles();
          this.addAccessibility();
          this.setDisabledState();
          this.calcViewDimensions();
          this.setMinAndMax();

          this.precision = angular.isUndefined(this.scope.dlcuiSliderPrecision) ? 0
            : Number(this.scope.dlcuiSliderPrecision);
          this.step = angular.isUndefined(this.scope.dlcuiSliderStep) ? 1
            : Number(this.scope.dlcuiSliderStep);

          $timeout(function () {
            self.updateCeilLab();
            self.updateFloorLab();
            self.initHandles();
            self.bindEvents();
          });

          // Recalculate slider view dimensions
          unRegFn = this.scope.$on('reCalcViewDimensions', calcDimFn);
          this.deRegFuncs.push(unRegFn);

          // Recalculate stuff if view port dimensions have changed
          angular.element($window).on('resize', calcDimFn);

          this.initHasRun = true;

          // Watch for changes to the model

          thrLow = dlcui.throttle(function () {
            self.setMinAndMax();
            self.updateLowHandle(self.valueToOffset(self.scope.dlcuiSliderModel));
            self.updateSelectionBar();
            self.updateTicksScale();

            if (self.range) {
              self.updateCmbLabel();
            }
          }, self.interval);

          thrHigh = dlcui.throttle(function () {
            self.setMinAndMax();
            self.updateHighHandle(self.valueToOffset(self.scope.dlcuiSliderHigh));
            self.updateSelectionBar();
            self.updateTicksScale();
            self.updateCmbLabel();
          }, self.interval);

          this.scope.$on('dlcuiSliderForceRender', function () {
            self.resetLabelsValue();
            thrLow();
            if (self.range) {
              thrHigh();
            }
            self.resetSlider();
          });

          // Watchers

          unRegFn = this.scope.$watch('dlcuiSliderModel', function (newValue, oldValue) {
            if (newValue === oldValue) {
              return;
            }
            thrLow();
          });
          this.deRegFuncs.push(unRegFn);

          unRegFn = this.scope.$watch('dlcuiSliderHigh', function (newValue, oldValue) {
            if (newValue === oldValue) {
              return;
            }
            thrHigh();
          });
          this.deRegFuncs.push(unRegFn);

          this.scope.$watch('dlcuiSliderFloor', function (newValue, oldValue) {
            if (newValue === oldValue) {
              return;
            }
            self.resetSlider();
          });
          this.deRegFuncs.push(unRegFn);

          unRegFn = this.scope.$watch('dlcuiSliderCeil', function (newValue, oldValue) {
            if (newValue === oldValue) {
              return;
            }
            self.resetSlider();
          });
          this.deRegFuncs.push(unRegFn);

          unRegFn = this.scope.$watch('dlcuiSliderShowTicks', function (newValue, oldValue) {
            if (newValue === oldValue) {
              return;
            }
            self.resetSlider();
          });
          this.deRegFuncs.push(unRegFn);

          unRegFn = this.scope.$watch('dlcuiSliderShowTicksValue', function (newValue, oldValue) {
            if (newValue === oldValue) {
              return;
            }
            self.resetSlider();
          });
          this.deRegFuncs.push(unRegFn);

          unRegFn = this.scope.$watch('dlcuiSliderDisabled', function (newValue, oldValue) {
            if (newValue === oldValue) {
              return;
            }
            self.resetSlider();
            if (self.disabled) {
              self.unbindEvents();
            } else {
              self.bindEvents();
            }
          });
          this.deRegFuncs.push(unRegFn);

          this.scope.$on('$destroy', function () {
            self.unbindEvents();
            angular.element($window).off('resize', calcDimFn);
            self.deRegFuncs.map(function (unbind) {
              unbind();
            });
          });
        },

        /**
         * Resets slider
         */
        resetSlider: function () {
          this.setMinAndMax();
          this.updateCeilLab();
          this.updateFloorLab();
          this.setDisabledState();
          this.calcViewDimensions();
        },

        /**
         * Set the disabled state based on dlcuiSliderDisabled
         */
        setDisabledState: function () {
          this.disabled = this.scope.dlcuiSliderDisabled;
          if (this.disabled) {
            this.sliderElem.attr('disabled', 'disabled');
          } else {
            this.sliderElem.attr('disabled', null);
          }
        },

        /**
         * Reset label values
         */
        resetLabelsValue: function () {
          delete this.minLab.dlcuisv;
          delete this.maxLab.dlcuisv;
        },

        /**
         * Initialize slider handles positions and labels
         *
         * Run only once during initialization and every time view port changes size
         */
        initHandles: function () {
          this.updateLowHandle(this.valueToOffset(this.scope.dlcuiSliderModel));

          if (this.range) {
            this.updateHighHandle(this.valueToOffset(this.scope.dlcuiSliderHigh));
            this.updateCmbLabel();
          }

          this.updateSelectionBar();
          this.updateTicksScale();
        },

        /**
         * Translate value to human readable format
         *
         * @param {number|string} value The value
         * @param {jqLite} label The label
         * @param {boolean} useCustomTr The useCustomTr
         */
        translateFn: function (value, label, useCustomTr) {
          useCustomTr = angular.isUndefined(useCustomTr) ? true : useCustomTr;

          var valStr = (useCustomTr ? this.customTrFn(value) : value).toString(),
            getWidth = false;

          if (angular.isUndefined(label.dlcuisv) || label.dlcuisv.length !== valStr.length ||
            (label.dlcuisv.length > 0 && label.dlcuisw === 0)) {
            getWidth = true;
            label.dlcuisv = valStr;
          }

          label.text(valStr);

          // Update width only when length of the label have changed
          if (getWidth) {
            this.getWidth(label);
          }
        },

        /**
         * Set maximum and minimum values for the slider
         */
        setMinAndMax: function () {
          if (this.scope.dlcuiSliderFloor) {
            this.minValue = Number(this.scope.dlcuiSliderFloor);
          } else {
            this.minValue = this.scope.dlcuiSliderFloor = 0;
          }

          if (this.scope.dlcuiSliderCeil) {
            this.maxValue = Number(this.scope.dlcuiSliderCeil);
          } else {
            this.maxValue = this.scope.dlcuiSliderCeil = this.range ? this.scope.dlcuiSliderHigh
              : this.scope.dlcuiSliderModel;
          }

          if (this.scope.dlcuiSliderStep) {
            this.step = Number(this.scope.dlcuiSliderStep);
          }

          this.valueRange = this.maxValue - this.minValue;
        },

        /**
         * Set the slider children to variables for easy access
         *
         * Run only once during initialization
         */
        initElemHandles: function () {
          var sliderNode = angular.element(this.sliderElem.children()[0]);
          // Assign all slider elements to object properties for easy access
          angular.forEach(this.sliderElem.children(), function (elem, index) {			
           var jElem = angular.element(elem);
           switch (index) {
              case 0:
                this.fullBar = jElem;
                break;
              case 1:
                this.selBar = jElem;
                break;
              case 2:
                this.minH = jElem;
                break;
              case 3:
                this.maxH = jElem;
                break;
              case 4:
                this.flrLab = jElem;
                break;
              case 5:
                this.ceilLab = jElem;
                break;
              case 6:
                this.minLab = jElem;
                break;
              case 7:
                this.maxLab = jElem;
                break;
              case 8:
                this.cmbLab = jElem;
                break;
              case 9:
                this.ticks = jElem;
                break;
            }
          }, this);

          // Initialize offset cache properties
          this.selBar.dlcuisl = 0;
          this.minH.dlcuisl = 0;
          this.maxH.dlcuisl = 0;
          this.flrLab.dlcuisl = 0;
          this.ceilLab.dlcuisl = 0;
          this.minLab.dlcuisl = 0;
          this.maxLab.dlcuisl = 0;
          this.cmbLab.dlcuisl = 0;

          // Hide limit labels
          if (this.hideLimitLabels) {
            this.flrLab.dlcuiAlwaysHide = true;
            this.ceilLab.dlcuiAlwaysHide = true;
            this.hideEl(this.flrLab);
            this.hideEl(this.ceilLab);
          }

          if (this.showTicksValue) {
            this.flrLab.dlcuiAlwaysHide = true;
            this.ceilLab.dlcuiAlwaysHide = true;
            this.minLab.dlcuiAlwaysHide = true;
            this.maxLab.dlcuiAlwaysHide = true;
            this.hideEl(this.flrLab);
            this.hideEl(this.ceilLab);
            this.hideEl(this.minLab);
            this.hideEl(this.maxLab);
          }

          // Remove stuff not needed in single slider
          if (this.range === false) {
            this.cmbLab.remove();
            this.maxLab.remove();

            // Hide max handle
            this.maxH.dlcuiAlwaysHide = true;
            this.maxH[0].style.zIndex = '-1000';
            this.hideEl(this.maxH);
          }

          // Show selection bar for single slider or not
          if (this.range === false && this.alwaysShowBar === false) {
            this.maxH.remove();
            this.selBar.remove();
          }

          // If using draggable range, use appropriate cursor for this.selBar.
          if (this.dragRange) {
            this.selBar.css('cursor', 'move');
            this.selBar.addClass('dlcui-draggable');
          }
        },

        /**
         * Adds accessibility atributes
         *
         * Run only once during initialization
         */
        addAccessibility: function () {
          this.sliderElem.attr('role', 'slider');
        },

        /**
         * Calculate dimensions that are dependent on view port size
         *
         * Run once during initialization and every time view port changes size.
         */
        calcViewDimensions: function () {
          var handleWidth = this.getWidth(this.minH);

          this.handleHalfWidth = handleWidth / 2;
          this.barWidth = this.getWidth(this.fullBar);

          this.maxLeft = this.barWidth - handleWidth;

          this.getWidth(this.sliderElem);
          this.sliderElem.dlcuisl = this.sliderElem[0].getBoundingClientRect().left;

          if (this.initHasRun) {
            this.updateCeilLab();
            this.initHandles();
          }
        },

        /**
         * Update the ticks position
         */
        updateTicksScale: function () {
          if (!this.showTicks) {
            return;
          }
          if (!this.step) {
            return; // if step is 0, the following loop will be endless.
          }

          var positions = '',
            ticksCount = Math.round((this.maxValue - this.minValue) / this.step) + 1;
          for (var i = 0; i < ticksCount; i++) {
            var value = this.roundStep(this.minValue + i * this.step);
            var selectedClass = this.isTickSelected(value) ? 'selected' : '';
            positions += '<li class="tick ' + selectedClass + '">';
            if (this.showTicksValue) {
              positions += '<span class="tick-value">' + this.getDisplayValue(value) + '</span>';
            }
            positions += '</li>';
          }
          this.ticks.html(positions);
        },

        isTickSelected: function (value) {
          if (!this.range && !this.alwaysShowBar) {
            return (value === this.scope.dlcuiSliderModel);
          }
          if (!this.range && this.alwaysShowBar && value <= this.scope.dlcuiSliderModel) {
            return true;
          }
          if (this.range && value >= this.scope.dlcuiSliderModel && value <= this.scope.dlcuiSliderHigh) {
            return true;
          }
          return false;
        },

        /**
         * Update position of the ceiling label
         */
        updateCeilLab: function () {
          this.translateFn(this.scope.dlcuiSliderCeil, this.ceilLab);
          this.setLeft(this.ceilLab, this.barWidth - this.ceilLab.dlcuisw);
          this.getWidth(this.ceilLab);
        },

        /**
         * Update position of the floor label
         */
        updateFloorLab: function () {
          this.translateFn(this.scope.dlcuiSliderFloor, this.flrLab);
          this.getWidth(this.flrLab);
        },

        /**
         * Call the onStart callback if defined
         */
        callOnStart: function () {
          if (this.scope.dlcuiSliderOnStart) {
            var self = this;
            $timeout(function () {
              self.scope.dlcuiSliderOnStart();
            });
          }
        },

        /**
         * Call the onChange callback if defined
         */
        callOnChange: function () {
          if (this.scope.dlcuiSliderOnChange) {
            var self = this;
            $timeout(function () {
              self.scope.dlcuiSliderOnChange();
            });
          }
        },

        /**
         * Call the onEnd callback if defined
         */
        callOnEnd: function () {
          if (this.scope.dlcuiSliderOnEnd) {
            var self = this;
            $timeout(function () {
              self.scope.dlcuiSliderOnEnd();
            });
          }
        },

        /**
         * Update slider handles and label positions
         *
         * @param {string} which The which
         * @param {number} newOffset new offset value
         */
        updateHandles: function (which, newOffset) {
          if (which === 'dlcuiSliderModel') {
            this.updateLowHandle(newOffset);
            this.updateSelectionBar();
            this.updateTicksScale();

            if (this.range) {
              this.updateCmbLabel();
            }
            return;
          }

          if (which === 'dlcuiSliderHigh') {
            this.updateHighHandle(newOffset);
            this.updateSelectionBar();
            this.updateTicksScale();

            if (this.range) {
              this.updateCmbLabel();
            }
            return;
          }

          // Update both
          this.updateLowHandle(newOffset);
          this.updateHighHandle(newOffset);
          this.updateSelectionBar();
          this.updateTicksScale();
          this.updateCmbLabel();
        },

        /**
         * Update low slider handle position and label
         *
         * @param {number} newOffset new offset value
         */
        updateLowHandle: function (newOffset) {
          var delta = Math.abs(this.minH.dlcuisl - newOffset);

          if (this.minLab.dlcuisv && delta < 1) {
            return;
          }

          this.setLeft(this.minH, newOffset);
          this.translateFn(this.scope.dlcuiSliderModel, this.minLab);
          this.setLeft(this.minLab, newOffset - this.minLab.dlcuisw / 2 + this.handleHalfWidth);

          this.shFloorCeil();
        },

        /**
         * Update high slider handle position and label
         *
         * @param {number} newOffset new offset value
         */
        updateHighHandle: function (newOffset) {
          this.setLeft(this.maxH, newOffset);
          this.translateFn(this.scope.dlcuiSliderHigh, this.maxLab);
          this.setLeft(this.maxLab, newOffset - this.maxLab.dlcuisw / 2 + this.handleHalfWidth);

          this.shFloorCeil();
        },

        /**
         * Show / hide floor / ceiling label
         */
        shFloorCeil: function () {
          var flHidden = false, clHidden = false;

          if (this.minLab.dlcuisl <= this.flrLab.dlcuisl + this.flrLab.dlcuisw + 5) {
            flHidden = true;
            this.hideEl(this.flrLab);
          } else {
            flHidden = false;
            this.showEl(this.flrLab);
          }

          if (this.minLab.dlcuisl + this.minLab.dlcuisw >= this.ceilLab.dlcuisl - this.handleHalfWidth - 10) {
            clHidden = true;
            this.hideEl(this.ceilLab);
          } else {
            clHidden = false;
            this.showEl(this.ceilLab);
          }

          if (this.range) {
            if (this.maxLab.dlcuisl + this.maxLab.dlcuisw >= this.ceilLab.dlcuisl - 10) {
              this.hideEl(this.ceilLab);
            } else if (!clHidden) {
              this.showEl(this.ceilLab);
            }

            // Hide or show floor label
            if (this.maxLab.dlcuisl <= this.flrLab.dlcuisl + this.flrLab.dlcuisw + this.handleHalfWidth) {
              this.hideEl(this.flrLab);
            } else if (!flHidden) {
              this.showEl(this.flrLab);
            }
          }
        },

        /**
         * Update slider selection bar, combined label and range label
         */
        updateSelectionBar: function () {
          this.setWidth(this.selBar, Math.abs(this.maxH.dlcuisl - this.minH.dlcuisl) + this.handleHalfWidth);
          this.setLeft(this.selBar, this.range ? this.minH.dlcuisl + this.handleHalfWidth : 0);
        },

        /**
         * Update combined label position and value
         */
        updateCmbLabel: function () {
          var lowTr = null,
            highTr = null;

          if (this.minLab.dlcuisl + this.minLab.dlcuisw + 10 >= this.maxLab.dlcuisl) {
            lowTr = this.getDisplayValue(this.scope.dlcuiSliderModel);
            highTr = this.getDisplayValue(this.scope.dlcuiSliderHigh);

            this.translateFn(lowTr + ' - ' + highTr, this.cmbLab, false);
            this.setLeft(this.cmbLab, this.selBar.dlcuisl + this.selBar.dlcuisw / 2 - this.cmbLab.dlcuisw / 2);
            this.hideEl(this.minLab);
            this.hideEl(this.maxLab);
            this.showEl(this.cmbLab);
          } else {
            this.showEl(this.maxLab);
            this.showEl(this.minLab);
            this.hideEl(this.cmbLab);
          }
        },

        /**
         * Return the translated value if a translate function is provided else the original value
         * @param value
         * @returns {*}
         */
        getDisplayValue: function (value) {
          return this.customTrFn ? this.customTrFn(value) : value;
        },

        /**
         * Round value to step and precision
         *
         * @param {number} value
         * @returns {number}
         */
        roundStep: function (value) {
          var step = this.step,
            remainder = Number((value - this.minValue) % step).toFixed(3),
            steppedValue = remainder > (step / 2) ? value + step - remainder : value - remainder;

          steppedValue = steppedValue.toFixed(this.precision);
          return Number(steppedValue);
        },

        /**
         * Hide element
         *
         * @param {Element} element The element
         * @returns {jqLite} The jqLite wrapped DOM element
         */
        hideEl: function (element) {
          return element.css({
            opacity: 0
          });
        },

        /**
         * Show element
         *
         * @param element The jqLite wrapped DOM element
         * @returns {jqLite} The jqLite
         */
        showEl: function (element) {
          if (Boolean(element.dlcuiAlwaysHide)) {
            return element;
          }

          return element.css({
            opacity: 1
          });
        },

        /**
         * Set element left offset
         *
         * @param {jqLite} elem The jqLite wrapped DOM element
         * @param {number} left
         * @returns {number}
         */
        setLeft: function (elem, left) {
          elem.dlcuisl = left;
          elem.css({
            left: left + 'px'
          });
          return left;
        },

        /**
         * Get element width
         *
         * @param {jqLite} elem The jqLite wrapped DOM element
         * @returns {number}
         */
        getWidth: function (elem) {
          var val = elem[0].getBoundingClientRect();
          elem.dlcuisw = val.right - val.left;
          return elem.dlcuisw;
        },

        /**
         * Set element width
         *
         * @param {jqLite} elem  The jqLite wrapped DOM element
         * @param {number} width The width
         * @returns {number}
         */
        setWidth: function (elem, width) {
          elem.dlcuisw = width;
          elem.css({
            width: width + 'px'
          });
          return width;
        },

        /**
         * Translate value to pixel offset
         *
         * @param {number} val the value to offset
         * @returns {number}
         */
        valueToOffset: function (val) {
          return (val - this.minValue) * this.maxLeft / this.valueRange || 0;
        },

        /**
         * Translate offset to model value
         *
         * @param {number} offset the value to convert
         * @returns {number}
         */
        offsetToValue: function (offset) {
          return (offset / this.maxLeft) * this.valueRange + this.minValue;
        },

        // Events

        /**
         * Get the X-coordinate of an event
         *
         * @param {Object} event  The event
         * @returns {number}
         */
        getEventX: function (event) {
          /* http://stackoverflow.com/a/12336075/282882 */
          // noinspection JSLint
          if ('clientX' in event) {
            return event.clientX;
          }

          return angular.isUndefined(event.originalEvent) ? event.touches[0].clientX
            : event.originalEvent.touches[0].clientX;
        },

        /**
         * Get the handle closest to an event.
         *
         * @param event {Event} The event
         * @returns {jqLite} The handle closest to the event.
         */
        getNearestHandle: function (event) {
          if (!this.range) {
            return this.minH;
          }
          var offset = this.getEventX(event) - this.sliderElem.dlcuisl - this.handleHalfWidth;
          return Math.abs(offset - this.minH.dlcuisl) < Math.abs(offset - this.maxH.dlcuisl) ? this.minH : this.maxH;
        },

        /**
         * Bind mouse and touch events to slider handles
         */
        bindEvents: function () {
          if (this.presentOnly || this.disabled) {
            return;
          }
          var barTracking = null, barStart = null, barMove = null;

          if (this.dragRange) {
            barTracking = 'dlcuiSliderDrag';
            barStart = this.onDragStart;
            barMove = this.onDragMove;
          } else {
            barTracking = 'dlcuiSliderModel';
            barStart = this.onStart;
            barMove = this.onMove;
          }

          this.minH.on('mousedown', angular.bind(this, this.onStart, this.minH, 'dlcuiSliderModel'));
          if (this.range) {
            this.maxH.on('mousedown', angular.bind(this, this.onStart, this.maxH, 'dlcuiSliderHigh'));
          }
          this.fullBar.on('mousedown', angular.bind(this, this.onStart, null, null));
          this.fullBar.on('mousedown', angular.bind(this, this.onMove, this.fullBar));
          this.selBar.on('mousedown', angular.bind(this, barStart, null, barTracking));
          this.selBar.on('mousedown', angular.bind(this, barMove, this.selBar));
          this.ticks.on('mousedown', angular.bind(this, this.onStart, null, null));
          this.ticks.on('mousedown', angular.bind(this, this.onMove, this.ticks));

          this.minH.on('touchstart', angular.bind(this, this.onStart, this.minH, 'dlcuiSliderModel'));
          if (this.range) {
            this.maxH.on('touchstart', angular.bind(this, this.onStart, this.maxH, 'dlcuiSliderHigh'));
          }
          this.fullBar.on('touchstart', angular.bind(this, this.onStart, null, null));
          this.fullBar.on('touchstart', angular.bind(this, this.onMove, this.fullBar));
          this.selBar.on('touchstart', angular.bind(this, barStart, null, barTracking));
          this.selBar.on('touchstart', angular.bind(this, barMove, this.selBar));
          this.ticks.on('touchstart', angular.bind(this, this.onStart, null, null));
          this.ticks.on('touchstart', angular.bind(this, this.onMove, this.ticks));
        },

        /**
         * Unbind mouse and touch events to slider handles
         */
        unbindEvents: function () {
          this.minH.off();
          this.maxH.off();
          this.fullBar.off();
          this.selBar.off();
          this.ticks.off();
        },

        /**
         * onStart event handler
         *
         * @param {?Object} pointer The jqLite wrapped DOM element; if null, the closest handle is used
         * @param {?string} ref     The name of the handle being changed; if null, the closest handle's
         * value is modified
         * @param {Event}   event   The event
         */
        onStart: function (pointer, ref, event) {
          var ehMove = null,
            ehEnd = null,
            eventNames = this.getEventNames(event);

          event.stopPropagation();
          event.preventDefault();

          if (this.tracking !== '') {
            return;
          }

          // We have to do this in case the HTML where the sliders are on
          // have been animated into view.
          this.calcViewDimensions();

          if (pointer) {
            this.tracking = ref;
          } else {
            pointer = this.getNearestHandle(event);
            this.tracking = pointer === this.minH ? 'dlcuiSliderModel' : 'dlcuiSliderHigh';
          }

          pointer.addClass('dlcui-slider-active');

          ehMove = angular.bind(this, this.dragging.active ? this.onDragMove : this.onMove, pointer);
          ehEnd = angular.bind(this, this.onEnd, ehMove);

          $document.on(eventNames.moveEvent, ehMove);
          $document.one(eventNames.endEvent, ehEnd);
          this.callOnStart();
        },

        /**
         * onMove event handler
         *
         * @param {jqLite} pointer
         * @param {Event}  event The event
         */
        onMove: function (pointer, event) {
          var eventX = this.getEventX(event),
            sliderLO = this.sliderElem.dlcuisl,
            newOffset = eventX - sliderLO - this.handleHalfWidth,
            newValue = 0;

          if (newOffset <= 0) {
            if (pointer.dlcuisl === 0) {
              return;
            }
            newValue = this.minValue;
            newOffset = 0;
          } else if (newOffset >= this.maxLeft) {
            if (pointer.dlcuisl === this.maxLeft) {
              return;
            }
            newValue = this.maxValue;
            newOffset = this.maxLeft;
          } else {
            newValue = this.offsetToValue(newOffset);
            newValue = this.roundStep(newValue);
            newOffset = this.valueToOffset(newValue);
          }
          this.positionTrackingHandle(newValue, newOffset);
        },

        /**
         * onDragStart event handler
         *
         * Handles dragging of the middle bar.
         *
         * @param {Object} pointer The jqLite wrapped DOM element
         * @param {string} ref     One of the refLow, refHigh values
         * @param {Event}  event   The event
         */
        onDragStart: function (pointer, ref, event) {
          var offset = this.getEventX(event) - this.sliderElem.dlcuisl - this.handleHalfWidth;
          this.dragging = {
            active: true,
            value: this.offsetToValue(offset),
            difference: this.scope.dlcuiSliderHigh - this.scope.dlcuiSliderModel,
            offset: offset,
            lowDist: offset - this.minH.dlcuisl,
            highDist: this.maxH.dlcuisl - offset
          };
          this.minH.addClass('dlcui-slider-active');
          this.maxH.addClass('dlcui-slider-active');

          this.onStart(pointer, ref, event);
        },

        /**
         * onDragMove event handler
         *
         * Handles dragging of the middle bar.
         *
         * @param {jqLite} pointer
         * @param {Event}  event The event
         */
        onDragMove: function (pointer, event) {
          var newOffset = this.getEventX(event) - this.sliderElem.dlcuisl - this.handleHalfWidth,
            newMinOffset = 0,
            newMaxOffset = 0,
            newMinValue = 0,
            newMaxValue = 0;

          if (newOffset <= this.dragging.lowDist) {
            if (pointer.dlcuisl === this.dragging.lowDist) {
              return;
            }
            newMinValue = this.minValue;
            newMinOffset = 0;
            newMaxValue = this.dragging.difference;
            newMaxOffset = this.valueToOffset(newMaxValue);
          } else if (newOffset >= this.maxLeft - this.dragging.highDist) {
            if (pointer.dlcuisl === this.dragging.highDist) {
              return;
            }
            newMaxValue = this.maxValue;
            newMaxOffset = this.maxLeft;
            newMinValue = this.maxValue - this.dragging.difference;
            newMinOffset = this.valueToOffset(newMinValue);
          } else {
            newMinValue = this.offsetToValue(newOffset - this.dragging.lowDist);
            newMinValue = this.roundStep(newMinValue);
            newMinOffset = this.valueToOffset(newMinValue);
            newMaxValue = newMinValue + this.dragging.difference;
            newMaxOffset = this.valueToOffset(newMaxValue);
          }

          this.positionTrackingBar(newMinValue, newMaxValue, newMinOffset, newMaxOffset);
        },

        /**
         * Set the new value and offset for the entire bar
         *
         * @param {number} newMinValue   the new minimum value
         * @param {number} newMaxValue   the new maximum value
         * @param {number} newMinOffset  the new minimum offset
         * @param {number} newMaxOffset  the new maximum offset
         */
        positionTrackingBar: function (newMinValue, newMaxValue, newMinOffset, newMaxOffset) {
          this.scope.dlcuiSliderModel = newMinValue;
          this.scope.dlcuiSliderHigh = newMaxValue;
          this.updateHandles('dlcuiSliderModel', newMinOffset);
          this.updateHandles('dlcuiSliderHigh', newMaxOffset);
          this.scope.$apply();
          this.callOnChange();
        },

        /**
         * Set the new value and offset to the current tracking handle
         *
         * @param {number} newValue new model value
         * @param {number} newOffset new offset value
         */
        positionTrackingHandle: function (newValue, newOffset) {
          if (this.range) {
            // This is to check if we need to switch the min and max handles
            if (this.tracking === 'dlcuiSliderModel' && newValue >= this.scope.dlcuiSliderHigh) {
              this.scope[this.tracking] = this.scope.dlcuiSliderHigh;
              this.updateHandles(this.tracking, this.maxH.dlcuisl);
              this.tracking = 'dlcuiSliderHigh';
              this.minH.removeClass('dlcui-slider-active');
              this.maxH.addClass('dlcui-slider-active');
              // We need to apply here because we are not sure that we will enter the next block
              this.scope.$apply();
              this.callOnChange();
            } else if (this.tracking === 'dlcuiSliderHigh' && newValue <= this.scope.dlcuiSliderModel) {
              this.scope[this.tracking] = this.scope.dlcuiSliderModel;
              this.updateHandles(this.tracking, this.minH.dlcuisl);
              this.tracking = 'dlcuiSliderModel';
              this.maxH.removeClass('dlcui-slider-active');
              this.minH.addClass('dlcui-slider-active');
              // We need to apply here because we are not sure that we will enter the next block
              this.scope.$apply();
              this.callOnChange();
            }
          }

          if (this.scope[this.tracking] !== newValue) {
            this.scope[this.tracking] = newValue;
            this.updateHandles(this.tracking, newOffset);
            this.scope.$apply();
            this.callOnChange();
          }
        },

        /**
         * onEnd event handler
         *
         * @param {Event}    event    The event
         * @param {Function} ehMove   The the bound move event handler
         */
        onEnd: function (ehMove, event) {
          var moveEventName = this.getEventNames(event).moveEvent;

          this.minH.removeClass('dlcui-slider-active');
          this.maxH.removeClass('dlcui-slider-active');

          $document.off(moveEventName, ehMove);

          this.scope.$emit('slideEnded');
          this.tracking = '';

          this.dragging.active = false;
          this.callOnEnd();
        },

        /**
         * Get event names for move and event end
         *
         * @param {Event}    event    The event
         *
         * @return {{moveEvent: string, endEvent: string}}
         */
        getEventNames: function (event) {
          var eventNames = {
            moveEvent: '',
            endEvent: ''
          };

          if (event.touches || (angular.isDefined(event.originalEvent) && event.originalEvent.touches)) {
            eventNames.moveEvent = 'touchmove';
            eventNames.endEvent = 'touchend';
          } else {
            eventNames.moveEvent = 'mousemove';
            eventNames.endEvent = 'mouseup';
          }

          return eventNames;
        }
      };

      return Slider;
    }]);
;/**
 * @ngdoc directive
 * @name splitButton
 *
 * @module cui.controls
 * @src directives/input/splitButton/splitButton.js
 * @controlType actionable
 *
 * @description The Split Button combines a default button with another button that displays a menu. It will use the
 * HTML nested between the opening and closing tags to compile a menu.
 *
 * ### Utilities
 *
 * - `cui-list-view` See {@link ../listview CUI List View} for documentation on available list types that can be used
 * within a menu.
 *
 * - `cui-menu-close` Use to explicitly define which items within a menu should close the menu when clicked. Optional
 * when creating a `cui-menu-type="list"`.
 *
 * ### Styling for rich menus
 *
 * Use the following classes and elements within a `cui-menu-type="rich"` and nested `cui-list-view="vertical"`. See the
 * rich menu example below.
 *
 * You can use the following classes to assist in creating a basic layout within a menu:
 *
 * - `.dlcux-menu__header` Create a stylized heading within a menu.
 * - `.dlcux-menu__header--right` Align content right within a menu heading.
 * - `.dlcux-menu__footer` Create a center aligned footer within a menu.
 *
 * Use the following HTML elements to add metadata to an item within a menu:
 *
 * - `<footer>` Create a footer within an item.
 * - `<aside>` Align content left within the `<footer>` element.
 * - `<abbr>` Align content right within the `<footer>` element.
 *
 * @clarity
 * ### Intentional differences
 *
 * *Button text is larger than specified in the Clarity 4 toolkit PSD.*
 *
 * Reason: larger text is more legible, especially on small buttons, and the current size matches the size of text in
 * other components like textboxes and textareas, allowing them to line up nicely next to buttons.
 *
 * ### Known issues
 * - Drop down and split buttons' menus are as wide as the menu content and not limited by the width of the button.
 * - Drop down and split buttons should be "popped out" from the page when their menus are open. Currently only the menu
 * has a drop shadow.
 *
 * JIRA: [#932](https://jira.labs.dell.com/browse/CUI2-932)
 *
 * @restrict EA
 * @transclude <[div] [ul]> ... </[div] [ul]>
 *
 * @param {string} label Label text that should be displayed within the button.
 *
 * @param {string=} cuiType The type of the button. See the {@link ../button Button}.
 *
 * @param {string=} icon The type of icon. See the {@link ../icon Icon}.
 *
 * @param {string=} cuiSize The size of the button. One of
 *
 * - `"small"`
 * - `"medium"` - default
 * - `"large"`
 *
 * @param {string=} menuAnchor The side of the button the menu should open on. Default anchor position is `right` if
 * `menuAnchor` is not set.
 *
 * @param {string} cuiMenuType The type of menu that should be created out of the nested HTML.
 *
 * - `"list"` allows for a basic vertical list of the provided items.
 * - `"rich"` allows for a more robust and complex menu layout.
 *
 * @param {string=} cuiMenuStyle The style of menu to be created.
 *
 * - `"menu"` creates a basic menu style.
 * - `"tooltip"` creates a menu with an arrow; similar to a tooltip.
 *
 * @param {expression=} defaultAction Action/event that occurs when the default button is clicked.
 *
 * @param {boolean=} ngDisabled Set to true to disable the split button. {@nglink api/ng/directive/ngDisabled}
 *
 * @example
 * <h3>Basic split button</h3>
 *
 * Below is a basic Split Button with a list menu, an icon, a label, and a default action. The `cuiType` can be changed dynamically.
 *
 * <example name="basicSplitButton">
 *   <file name="index.html">
 *     <cui-split-button cui-type="{{vm.model.type}}" label="Basic Split Button" cui-menu-type="list"
 *       menu-anchor="right" default-action="vm.defaultClick('Default Action Triggered')" style="float: right">
 *       <ul cui-list-view="vertical">
 *         <li ng-click="vm.click('Example 1 - Item 1')">Item 1</li>
 *         <li ng-click="vm.click('Example 1 - Item 2')">Item 2</li>
 *         <li ng-click="vm.click('Example 1 - Item 3')">Item 3</li>
 *       </ul>
 *     </cui-split-button>
 *     <select cui-drop-down-list ng-model="vm.model.type">
 *       <option value="">-- Select Button Type --</option>
 *       <option value="primary">Primary</option>
 *       <option value="success">Success</option>
 *       <option value="warning">Warning</option>
 *       <option value="danger">Danger</option>
 *       <option value="link">Link</option>
 *     </select>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.model = {
 *           type: 'primary'
 *         };
 *
 *         vm.click = function(text) {
 *           alert(text);
 *         };
 *
 *         vm.defaultClick = function(text) {
 *           alert(text);
 *         };
 *       });
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 200px;
 *     }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Complex split button with a rich menu type</h3>
 *
 * Below is a more advanced Split Button that has a rich menu and a custom anchor position. This example makes use
 * of the classes and HTML elements noted above to provide layout and style for the menu contents. It shows both a
 * horizontal and vertical `cui-list-view`, a menu heading, and list items with metadata.
 * `cui-menu-close` is assigned to the items in the vertical list view.
 *
 * <example name="complexSplitButton">
 *   <file name="index.html">
 *     <cui-split-button cui-type="primary" icon="dashboard" label="Rich Split Button"
 *       cui-menu-type="rich" cui-menu-style="tooltip" menu-anchor="left"
 *       default-action="vm.defaultClick('Default Action Triggered')">
 *       <div>
 *         <header class="dlcux-menu__header">
 *           Events
 *           <ul cui-list-view="horizontal" class="dlcux-menu__header--right">
 *             <li>
 *               <cui-button cui-type="link">
 *                 <cui-icon icon="exclamation-circle" color="red"></cui-icon> 1
 *               </cui-button>
 *             </li>
 *             <li>
 *               <cui-button cui-type="link">
 *                 <cui-icon icon="warning" color="yellow"></cui-icon> 3
 *               </cui-button>
 *             </li>
 *             <li>
 *               <cui-button cui-type="link">
 *                 <cui-icon icon="info-circle" color="blue"></cui-icon> 256
 *               </cui-button>
 *             </li>
 *           </ul>
 *         </header>
 *         <ul cui-list-view="vertical">
 *           <li ng-repeat="item in vm.items track by $index"
 *             ng-click="vm.click('Example 2 - Item ' + $index)" cui-menu-close>
 *             {{item.content}}
 *             <footer>
 *               <aside>{{item.author}}</aside>
 *               <abbr title={{item.date}}>{{item.date | date : shortDate}}</abbr>
 *             </footer>
 *           </li>
 *         </ul>
 *         <div class="dlcux-menu__footer">
 *           <cui-button cui-type="link">
 *             <cui-icon icon="external-link"></cui-icon> All Events
 *           </cui-button>
 *         </div>
 *       </div>
 *     </cui-split-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *
 *         vm.click = function(text) {
 *           alert(text);
 *         };
 *
 *         vm.defaultClick = function(text) {
 *           alert(text);
 *         };
 *
 *         vm.items = [{
 *           content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in lorem lectus.',
 *           author: 'A Developer',
 *           date: new Date()
 *         },{
 *           content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in lorem lectus.',
 *           author: 'A Developer',
 *           date: new Date()
 *         },{
 *           content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in lorem lectus.',
 *           author: 'A Developer',
 *           date: new Date()
 *         }];
 *       });
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 600px;
 *     }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Disabled split button</h3>
 * <example name="disabledSplitButton">
 *   <file name="index.html">
 *     <cui-split-button label="Split button disabled" ng-disabled="vm.buttonDisabled" cui-menu-type="list"
 *       default-action="vm.defaultClick('Default Action Triggered')">
 *       <ul cui-list-view="vertical">
 *         <li ng-click="vm.click('Example 3 - Item 1')">Item 1</li>
 *         <li ng-click="vm.click('Example 3 - Item 2')">Item 2</li>
 *         <li ng-click="vm.click('Example 3 - Item 3')">Item 3</li>
 *       </ul>
 *     </cui-split-button>
 *     <cui-checkbox name="toggleDisabled" ng-model="vm.buttonDisabled">Disable Button</cui-checkbox>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.buttonDisabled = true;
 *         vm.click = function(text) {
 *           alert(text);
 *         };
 *       });
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 200px;
 *     }
 *   </file>
 * </example>
 */

// WARNING: If you make changes to this file, you'll almost certainly want to make similar changes in
// dropDownButton.js. Try not to let them diverge.
// TODO: Make dropDownButton.js and splitButton.js use common code and docs as much as possible.

'use strict';
angular.module('dell.ngclarity.directives').directive('dlcuiSplitButton', ['$compile', '$templateCache', '$timeout', 'dlcuiBaseTemplatePath', 'dlcuiTooltip', 'dlcuiTooltipCalculateCenterOffset', function ($compile, $templateCache, $timeout, dlcuiBaseTemplatePath, dlcuiTooltip, dlcuiTooltipCalculateCenterOffset) {
  // eslint-disable-line max-params
  function link(scope, element, attributes) {
    // manually grab the button template
    var buttonTemplate = $templateCache.get(dlcuiBaseTemplatePath + 'directives/input/splitbutton/dlcuiSplitButton.directive.html');
    var button = $compile(buttonTemplate)(scope);
    element.prepend(button);

    var anchor = attributes.menuAnchor || 'right';
    var menuStyle = attributes.dlcuiMenuStyle || 'menu';
    var centerArrow = attributes.dlcuiMenuStyle === 'tooltip';

    $timeout(function () {
      var tooltip = dlcuiTooltip({
        target: element[0].children[0].children[1],
        content: element[0].children[1],
        classes: 'dlcux-tooltip-theme-' + menuStyle + ' dlcux-tooltip-menu',
        position: 'bottom ' + anchor,
        centerArrow: centerArrow,
        constrainToScrollParent: true,
        openOn: 'click',
        tetherOptions: {
          offset: dlcuiTooltipCalculateCenterOffset('bottom', element, true),
          constraints: [{
            to: 'scrollParent',
            attachment: 'together',
            pin: ['left', 'right']
          }]
        }
      });
      // add the tip to the parent scope so that closables have access to the close method
      scope.$parent._tooltip = tooltip;
    });
  }

  function compile(tElement, tAttributes) {
    // we have access to the nested html as the children of the original element
    var content = tElement.children();

    // if menu content is to be rich, gather all the closable elements and assign the close function
    if (tAttributes.dlcuiMenuType === 'rich') {
      // all elements that are requested as menu closers
      var closeables = content[0].querySelectorAll('[dlcui-menu-close=""]');
      angular.forEach(closeables, function (closer) {
        angular.element(closer).attr('kb-item', '');
        angular.element(closer).attr('kb-invoke', '_tooltip.close();');
      });
    }

    // if menu content is to be list, assign the close function to the root and attach keyboard access to each item
    if (tAttributes.dlcuiMenuType === 'list') {
      angular.element(content[0]).attr('kb-item', '');
      angular.element(content[0]).attr('kb-invoke', '_tooltip.close();');
    }

    // make sure everything else is accessible via keyboard
    angular.forEach(content.children(), function (child) {
      angular.element(child).attr('kb-item', '');
    });

    // add the keyboard directive attributes
    content.attr('kb-list', '');
    content.attr('kb-cyclic', '');

    // set the menu class based on the menu type
    content.addClass('dlcux-menu-' + tAttributes.dlcuiMenuType);

    tElement.append(content);

    return link;
  }

  return {
    restrict: 'EA',
    scope: {
      dlcuiType: '@',
      dlcuiSize: '@',
      label: '@',
      icon: '@',
      menuAnchor: '@',
      defaultAction: '&',
      ngDisabled: '='
    },
    compile: compile
  };
}]);

;/**
 * @ngdoc directive
 * @name textarea
 *
 * @module dlcui.controls
 * @src directives/input/textarea/textarea.js
 * @controlType input
 *
 * @description The Textarea is a form control that allows the user to input a long string of text.
 *
 * The property referenced by the Textarea's `ng-model` attribute will be overwritten by the transcluded content.
 *
 * @restrict E
 * @transclude [value]
 *
 * @param {string=} placeholder The HTML5 placeholder attribute for the input.
 *
 * @param {string} ngModel The name of a property on the scope, which is bound to the value of the Textarea.
 *   {@nglink api/ng/directive/ngModel}
 *
 * @param {string=} resize Controls the manner in which the user may resize the Textarea. Options are:
 * none|both|vertical|horizontal. The default in Firefox, Chrome, and Safari is 'both'. Not respected in IE11 and older
 * IE browsers.
 *
 * @param {boolean=} showCharactersRemaining Displays a remaining characters counter under the
 * Textarea that will count down the characters remaining before the maxlength is reached. Set to true by default
 * if a maxlength is set.
 *
 * @param {number=} maxlength Sets the maximum allowed characters that can be entered into a Textarea control.
 *
 * @param {number=} cols The number of characters of text visible within the Textarea (horizontally). (Default is 20 columns.)
 *
 * @param {number=} rows The number of rows of text visible within the Textarea. (Default is 2 rows.)
 *
 * @example
 * <h3>Basic textarea</h3>
 *
 * > **Note:** Except for very simple cases, input elements like `<dlcui-textarea>` should be used inside of a form element.
 *
 * <example name="textarea">
 *   <file name="index.html">
 *     <dlcui-textarea name="exampleField"
 *                   placeholder="Place text here"
 *                   cols="40"
 *                   rows="5"
 *                   ng-model="vm.value">
 *     </dlcui-textarea><br>
 *     Textarea value:
 *     <pre>{{vm.value}}</pre>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Basic textarea in a form element</h3>
 *
 * The Textarea has a `required` attribute, meaning Angular will mark it as invalid until a value is provided. Each form
 * has its own controller whereby you can access the validation state of its fields. {@nglink api/ng/directive/form}
 *
 * <example name="formTextarea">
 *   <file name="index.html">
 *     <form name="vm.textareaExampleForm" class="dlcui-form-stacked">
 *       <div class="dlcui-form-group">
 *         <label for="exampleField">In a form</label>
 *         <dlcui-textarea name="exampleField"
 *                       id="exampleField"
 *                       placeholder="Write your novel here"
 *                       cols="40"
 *                       rows="5"
 *                       required
 *                       ng-model="vm.value">
 *         </dlcui-textarea>
 *       </div>
 *     </form>
 *     Textarea value:
 *     <pre>{{vm.value}}</pre>
 *     Is the textarea valid? <b>{{vm.textareaExampleForm.exampleField.$valid}}</b><br>
 *     Is the form valid? <b>{{vm.textareaExampleForm.$valid}}</b>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Basic textarea in a form with transcluded value and a character limit</h3>
 * <example name="formTextareaTranscluded">
 *   <file name="index.html">
 *     <form name="vm.textareaExampleForm" class="dlcui-form-stacked">
 *       <div class="dlcui-form-group">
 *         <label for="exampleField">With transcluded value</label>
 *         <dlcui-textarea name="exampleField"
 *                       id="exampleField"
 *                       cols="40"
 *                       rows="5"
 *                       ng-model="vm.value"
 *                       ng-maxlength="100">
 *           Hello World! I have been transcluded.
 *         </dlcui-textarea>
 *       </div>
 *     </form>
 *     Textarea value:
 *     <pre>{{vm.value}}</pre>
 *     Is the textarea valid? <b>{{vm.textareaExampleForm.exampleField.$valid}}</b><br>
 *     Is the form valid? <b>{{vm.textareaExampleForm.$valid}}</b>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Textarea with a ten character limit, but no characters remaining counter</h3>
 * <example name="formTextareaNoCounter">
 *   <file name="index.html">
 *     <form name="vm.textareaExampleForm" class="dlcui-form-stacked">
 *       <div class="dlcui-form-group">
 *         <label for="exampleField">10 char limit (no counter)</label>
 *         <dlcui-textarea name="exampleField"
 *                       id="exampleField"
 *                       cols="40"
 *                       rows="5"
 *                       ng-model="vm.value"
 *                       ng-maxlength="10"
 *                       show-characters-remaining="false">
 *         </dlcui-textarea>
 *       </div>
 *     </form>
 *     Textarea value:
 *     <pre>{{vm.value}}</pre>
 *     Is the textarea valid? <b>{{vm.textareaExampleForm.exampleField.$valid}}</b><br>
 *     Is the form valid? <b>{{vm.textareaExampleForm.$valid}}</b>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Disabled textarea</h3>
 * <example name="formTextareaDisabled">
 *   <file name="index.html">
 *     <form name="vm.textareaExampleForm" class="dlcui-form-stacked">
 *       <div class="dlcui-form-group">
 *         <label for="exampleField">Disabled</label>
 *         <dlcui-textarea name="exampleField"
 *                       id="exampleField"
 *                       cols="40"
 *                       rows="5"
 *                       ng-model="vm.value"
 *                       ng-disabled="vm.isDisabled"
 *                       ng-maxlength="10"
 *                       show-characters-remaining="false">
 *           I am disabled.
 *         </dlcui-textarea>
 *       </div>
 *       <dlcui-checkbox ng-model="vm.isDisabled">Disable textarea</dlcui-checkbox>
 *     </form>
 *     Textarea value:
 *     <pre>{{vm.value}}</pre>
 *     Is the textarea valid? <b>{{vm.textareaExampleForm.exampleField.$valid}}</b><br>
 *     Is the form valid? <b>{{vm.textareaExampleForm.$valid}}</b>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.isDisabled = true;
 *       });
 *   </file>
 * </example>
 *
 * > **Known Issue:** IE 9 will not change the cursor to indicate the input has been disabled.
 */

'use strict';


angular.module('dell.ngclarity.directives').directive('dlcuiTextarea', ['$compile', '$log', 'dlcuiBaseTemplatePath', function($compile, $log, dlcuiBaseTemplatePath) {
  var transcludeFunc = null;

  function link(scope, element, attributes, ngModelCtrl) {
    if (ngModelCtrl == null) {
      $log.dlcuiError({
        dlcuiErrorType: 'ngmodel',
        dlcuiErrorCtrl: 'dlcui-textarea',
        dlcuiErrorElIdentity: attributes.name || attributes.id || 'UNKNOWN'
      });
      return;
    }

    // Add the char counter and compile
    if (attributes.ngMaxlength != null && attributes.showCharactersRemaining) {
      scope.charactersRemaining = 0;

      scope.$watch(function () {
        return ngModelCtrl.$viewValue;
      }, function () {
        var charactersEntered = ngModelCtrl.$viewValue != null ? ngModelCtrl.$viewValue.length : 0;
        scope.charactersRemaining = Number(attributes.ngMaxlength) - (charactersEntered || 0);
      });

      var counter = angular.element($compile('<div class="characters-remaining" translate="DLCUI_TEXTAREA_CHARACTERS_' + 'REMAINING" translate-values="{characters: charactersRemaining}"></div>')(scope));
      element.after(counter);
    }

    // This is required to set the value of the textarea equal to the transcluded content
    // or ngModel value. If both are present, transcluded content takes precedence
    // If no ngModel, then set the textarea value equal to the transcluded content
    transcludeFunc(scope.$new(), function (clone) {
      var transcludedContent = clone.text().trim();
      if (transcludedContent && attributes.ngModel) {
        scope.ngModel = transcludedContent;
      } else {
        var ta = element.find('textarea');
        ta.val(transcludedContent);
      }
    });
  }

  function compile(element, attributes, transcludeFn) {
    transcludeFunc = transcludeFn;
    element.wrap('<div class="dlcui-textarea-wrapper"></div>');

    if ('showCharactersRemaining' in attributes) {
      attributes.showCharactersRemaining = attributes.showCharactersRemaining.toLowerCase() === 'true';
    } else {
      attributes.showCharactersRemaining = true;
    }

    if (attributes.resize != null) {
      element.css('resize', attributes.resize);
    }

    return link;
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/input/textArea/dlcuitextArea.directive.html'].join(''),
    restrict: 'E',
    transclude: true,
    // TODO: Remove `replace: true` - issue #945
    replace: true, // eslint-disable-line angular/no-directive-replace
    require: '?ngModel',
    scope: {
      ngModel: '='
    },
    compile: compile
  };
}]);;/**
 * @ngdoc directive
 * @name textbox
 *
 * @module dlcui.controls
 * @src directives/input/textbox/textbox.js
 * @controlType input
 *
 * @description The Textbox is the most basic form input element.
 *
 * @restrict E
 *
 * @param {string} ngModel The name of a property on the scope, which is bound to the value of the input.
 *                         This is a required attribute. {@nglink api/ng/directive/ngModel}
 *
 * @param {string=} type The HTML type attribute for the input. If not defined, it will default to a type of 'text'.
 *
 * @param {string} name The HTML name attribute for the input.
 *
 * @param {string=} placeholder The HTML5 placeholder attribute for the input
 *
 * @param {regex=} ngPattern Regular expression pattern to test the input value against.
 *
 * ```js
 * $scope.validators = {
 *   zip: /^\d{5}$/
 * };
 * ```
 *
 * @example
 * <h3>Basic textbox</h3>
 *
 * Generates a basic text input. You can use common HTML and HTML5 attributes, such as placeholder and types (number,
 * email, etc). {@nglink api/ng/directive/input}
 *
 * <example name="textbox">
 *   <file name="index.html">
 *     <dlcui-textbox placeholder="Username" ng-model="vm.user.username"></dlcui-textbox>
 *     <dlcui-textbox type="password" placeholder="Password" ng-model="vm.user.password"></dlcui-textbox>
 *     <p>Output:<br>
 *       <code>Username: {{vm.user.username}}</code><br>
 *       <code>Password: {{vm.user.password}}</code>
 *     </p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.user = {};
 *       });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Disabled textbox</h3>
 * <example name="textbox">
 *   <file name="index.html">
 *     <dlcui-textbox placeholder="I am disabled" ng-disabled="vm.isDisabled" ng-model="vm.value">
 *     </dlcui-textbox><br><br>
 *     <dlcui-checkbox name="isDisabled" ng-model="vm.isDisabled">Disable textbox</dlcui-checkbox>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.value = 'Some value';
 *         vm.isDisabled = true;
 *       });
 *   </file>
 * </example>
 *
 * > **Known Issue:** IE 9 will not change the cursor to indicate the input has been disabled.
 *
 * @example
 * <h3>Validated textbox</h3>
 * <example name="validationTextbox">
 *   <file name="index.html">
 *     <form name="vm.myForm">
 *       <dlcui-textbox type="text"
 *                    name="chars"
 *                    placeholder="Enter any five letters"
 *                    ng-model="vm.value"
 *                    ng-pattern="vm.fiveLetters">
 *       </dlcui-textbox>
 *       <p>Input validation status:<br>
 *         <code>vm.value = {{vm.value}}</code><br>
 *         <code>vm.myForm.chars.$valid = {{vm.myForm.chars.$valid}}</code><br>
 *         <code>vm.myForm.chars.$error = {{vm.myForm.chars.$error}}</code><br>
 *       </p>
 *     </form>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.fiveLetters = /^[a-z]{5}$/;
 *         vm.value = 'abcde';
 *       });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Numeric textbox</h3>
 *
 * If you want to require numeric input, set the textbox's type attribute to `number`. The field will behave like the
 * standard HTML5 `<input type="number">` element. {@nglink api/ng/input/input[number]}
 *
 * <example name="textboxNumeric">
 *   <file name="index.html">
 *     <label for="textboxNumeric">Enter a number between 4 and 20:</label><br><br>
 *     <dlcui-textbox type="number"
 *                  id="textboxNumeric"
 *                  placeholder="16"
 *                  min="4"
 *                  max="20"
 *                  ng-model="vm.value"
 *                  ng-disabled="vm.isDisabled">
 *     </dlcui-textbox><br><br>
 *     <dlcui-checkbox name="isDisabled" ng-model="vm.isDisabled">Disable textbox</dlcui-checkbox><br><br>
 *     <span>Value: {{vm.value}}</span>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.isDisabled = false;
 *       });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Decimal numeric textbox</h3>
 *
 * If the number should be a decimal, set the `step` attribute to an amount with the proper number of digits.
 *
 * <example name="textboxDecimalNumeric">
 *   <file name="index.html">
 *     <label for="textboxDecimalNumeric">Enter a decimal between 0 and 1:</label><br><br>
 *     <dlcui-textbox type="number"
 *                  id="textboxDecimalNumeric"
 *                  placeholder="0.42"
 *                  min="0"
 *                  max="1"
 *                  step="0.01"
 *                  ng-model="vm.value"
 *                  ng-disabled="vm.isDisabled">
 *     </dlcui-textbox><br><br>
 *     <dlcui-checkbox name="isDisabled" ng-model="vm.isDisabled">Disable textbox</dlcui-checkbox><br><br>
 *     <span>Value: {{vm.value}}</span>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.value = 0.17;
 *         vm.isDisabled = false;
 *       });
 *   </file>
 * </example>
 */

'use strict';


angular.module('dell.ngclarity.directives').directive('dlcuiTextbox', ['$compile', '$log', '$templateCache', 'dlcuiBaseTemplatePath', function($compile, $log, $templateCache, dlcuiBaseTemplatePath) {
  function handleDisabledChange(element, newDisabled) {
    element.find('button').prop('disabled', newDisabled);
  }

  function link(scope, element, attributes, ngModelCtrl) {
    function isUnderMin(value) {
      return angular.isDefined(attributes.min) && Number(value) < attributes.min;
    }

    function isOverMax(value) {
      return angular.isDefined(attributes.max) && Number(value) > attributes.max;
    }

    if (ngModelCtrl == null) {
      $log.dlcuiError({
        dlcuiErrorType: 'ngmodel',
        dlcuiErrorCtrl: 'dlcui-textbox',
        dlcuiErrorElIdentity: attributes.name || attributes.id || 'UNKNOWN'
      });
      return;
    }

    if (attributes.type === 'number') {
      var spinnerScope = scope.$new();
      spinnerScope.step = function (direction) {
        if (element.attr('disabled') != null) {
          return;
        }

        var interval = Math.abs(parseFloat(attributes.step)) || 1;
        var delta = interval * direction;
        var value = (Number(ngModelCtrl.$viewValue) || 0) + delta;

        if (!isOverMax(value) && !isUnderMin(value)) {
          ngModelCtrl.$setViewValue(value);
          ngModelCtrl.$render();
        }
      };

      var spinnerControlTpl = $templateCache.get('ngclarity/directives/input/textBox/dlcuitextBoxSpinner.directive.html');

      element.wrap('<div class="cux-numeric-textbox"></div>');
      element.after($compile(spinnerControlTpl)(spinnerScope));

      ngModelCtrl.$parsers.push(function (value) {
        if (value != null) {
          var precision = ((attributes.step || '').toString().split('.')[1] || []).length || 0;
          var currentPrecision = ((value || '').toString().split('.')[1] || []).length || 0;
          if (currentPrecision > precision) {
            value = Number(value).toFixed(precision);
            ngModelCtrl.$setViewValue(value);
          }
          return value;
        }
        // catch chrome returning undefined and null to throw the proper error
        ngModelCtrl.$setValidity('number', false);
      });

      handleDisabledChange(element.parent(), scope[attributes.ngDisabled]);
      scope.$watch(attributes.ngDisabled, function (newDisabled) {
        return handleDisabledChange(element.parent(), newDisabled);
      });
    } else if (attributes.type == null) {
      element.attr('type', 'text');
    }
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/input/textBox/dlcuitextBox.directive.html'].join(''),
    restrict: 'E',
    transclude: true,
    require: '?ngModel',
    // TODO: Remove `replace: true` - issue #946
    replace: true, // eslint-disable-line angular/no-directive-replace
    link: link
  };
}]);;/**
 * @ngdoc directive
 * @name textInput
 * @module dlcui
 * @src directives/input/textInput/dlcuiTextInput.directive.js
 * @controlType input
 * @restrict E
 *
 * @param {ngModel} ngModel Is a required angular attribute that binds to a scope model value and synchronizes
 * changed made internal to this component to that value. It also allows you to add additional validators to
 * this same element such as <i>ng-required</i> or <i>ng-pattern</i>.
 * @param {disabled=} disabled Angular directive that is supported and will disable the entire component.
 * @param {ngReadyonly=} ngReadyonly Angular directive that is supported and will set the internal input field into
 * read only mode.
 * @param {string=} type Defines the input type and the supported types include
 * * date	Defines a date control (year, month and day (no time))
 * * datetime	The input type datetime has been removed from the HTML standard. Use datetime-local instead.
 * * datetime-local	Defines a date and time control (year, month, day, hour, minute, second, and fraction of a
 * second (no time zone)
 * * email	Defines a field for an e-mail address
 * * month	Defines a month and year control (no time zone)
 * * number	Defines a field for entering a number
 * * password	Defines a password field (characters are masked)
 * * tel	Defines a field for entering a telephone number
 * * text	Default. Defines a single-line text field (default width is 20 characters)
 * * time	Defines a control for entering a time (no time zone)
 * * url	Defines a field for entering a URL
 * * week	Defines a week and year control (no time zone)
 * This value defaults to <i>text</i> if not defined or if an unsupported type is provided.
 *
 * This does not use two way binding so either <i>type="text"</i> is used or <i>type="{{options.type}}"</i> can be
 * used.
 * @param {string=} placeholder The text to display when the value is empty. This also uses one way binding and
 * so you can use either <i>placeholder="Enter some text...."</i> or <i>type="{{options.placeholder}}"</i>
 *
 * @description
 * Element based directive that is used as a textbox control.
 *
 * @example
 * <h3>Text Input</h3>
 * <example name="textInput">
 *  <file name='index.html'>
 *    <div class="container">
 *      <h3>Text: ({{model.textValue}})</h3>
 *      <div>
 *           <label class="btn-label">Enabled:&nbsp;<input type="checkbox" ng-model="model.enabled"></label>
 *           <label class="btn-label">Read Only:&nbsp;<input type="checkbox" ng-model="model.readOnly"></label>
 *           <dlcui-text-input ng-model="model.textValue"
 *                           placeholder="Sample Text"
 *                           ng-readonly="model.readOnly"
 *                           ng-disabled="!model.enabled"
 *                           width="50px">
 *           </dlcui-text-input>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.model = {
 *          enabled: true,
 *          readOnly: false,
 *          textValue: ''
 *        };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .btn-label {
 *      display:block;
 *      padding-bottom: 20px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *    .dlcui-text-input {
 *      width: 150px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Form with Text Input and Validation</h3>
 * <example name="textInputValidation">
 *  <file name='index.html'>
 *    <p>
 *        <b>Note: </b><i>Changing the model will change the forms dirty and error states and thus the border
 *        color, which is managed through the css within styles.css above, so watch closely.</i>
 *    </p>
 *    <form class="dlcui-example-form">
 *         <label class="dlcui-label">User Name: </label>
 *         <!-- The width is set using angular ng-style for the user -->
 *         <dlcui-text-input ng-model="model.user"
 *                         ng-required="'true'"
 *                         placeholder="Enter user name..."
 *                         ng-style="options.user.style">
 *         </dlcui-text-input><span> <i>(type defaults to text)</i></span>
 *         <br><br>
 *         <label class="dlcui-label">Password: </label>
 *         <!-- The width is set using css directly -->
 *         <dlcui-text-input ng-model="model.password"
 *                         type="password"
 *                         ng-required="'true'"
 *                         ng-minlength="options.password.minLength"
 *                         ng-maxlength="options.password.maxLength"
 *                         placeholder="{{::options.password.placeholder}}">
 *         </dlcui-text-input>
 *         <span> <i>(type is password with minlength={{options.password.minLength}} and
 *         maxlength={{options.password.maxLength}})</i>
 *         </span>
 *         <br><br>
 *         <label class="dlcui-label">Timeout: </label>
 *         <!-- The width is set using css directly -->
 *         <dlcui-text-input ng-model="model.timeout"
 *                         type="number"
 *                         placeholder="Enter Time in seconds...">
 *         </dlcui-text-input><span> <i>(type is number so X will not appear if you enter charactors)</i></span>
 *         <br><br>
 *         <label class="dlcui-label">Domain: </label>
 *         <!-- The ng-pattern is used to validate regular expression -->
 *         <dlcui-text-input ng-model="model.domain"
 *                         type="text"
 *                         ng-pattern="options.domain.pattern"
 *                         placeholder="\Domain">
 *         </dlcui-text-input>
 *         <span> <i>(type is text using pattern regular expression {{options.domain.pattern}})</i>
 *         </span>
 *    </form>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.model = {
 *          domain: '\\Dell'
 *        };
 *
 *        $scope.options = {
 *          password: {
 *            minLength: 8,
 *            maxLength: 20,
 *            placeholder: 'Enter a password...'
 *          },
 *          user: {
 *            style: {
 *              width: '200px'
 *            }
 *          },
 *          domain: {
 *            pattern: '[\\\\][A-Z][a-zA-z]+'
 *          }
 *        };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .dlcui-label {
 *      display: inline-block;
 *      width: 100px;
 *    }
 *
 *    .container {
 *      padding: 10px;
 *      border: 0px solid black;
 *      height: auto;
 *    }
 *
 *    .dlcui-text-input {
 *      width: 150px;
 *    }
 *
 *    .dlcui-example-form {
 *      border: 1px dotted transparent;
 *      padding: 10px;
 *    }
 *
 *    .dlcui-example-form.ng-dirty {
 *      border: 1px dotted #1f9dfa;
 *    }
 *
 *    .dlcui-example-form.ng-invalid {
 *      border: 1px dotted #ce1126;
 *    }
 *
 *    .dlcui-example-form.ng-valid {
 *      border: 1px dotted #6ea204;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiTextInput', ['$templateCache', 'DLCUI_TEXT_INPUT_TYPE', function ($templateCache,
                                       DLCUI_TEXT_INPUT_TYPE) {
    return {
      restrict: 'E',
      replace: true,
      require: 'ngModel',
      scope: {
        disabled: '=?ngDisabled',
        placeholder: '@',
        type: '@',
        readonly: '=?ngReadonly'
      },
	  template: function() {
		return $templateCache.get('ngclarity/directives/input/textInput/dlcuiTextInput.directive.html');
		},
      link: function (scope, element, attrs, ngModelCtrl) {
        /**
         * The clear button visible property
         * @type {boolean}
           */
        scope.clearButtonVisible = false;

        /**
         * The internal input model value.
         * @type {null}
         */
        scope.inputValue = null;

        /**
         * Called to clear the text value when the clear button is selected.
         */
        scope.onClearText = function () {
          scope.inputValue = '';
          $(element).find('.dlcui-internal-input').focus();
        };

        // Watch the input value so we can sync the data
        scope.$watch('inputValue', function (newValue) {
          ngModelCtrl.$setViewValue(newValue);
          if (element.is('.dlcui-active')) {
            scope.clearButtonVisible = dlcui.isStringWithLength(newValue) ||
              dlcui.isNumber(newValue);
          }
        });

        // Watch the view value of the model
        ngModelCtrl.$render = function () {
          scope.inputValue = ngModelCtrl.$viewValue;
        };

        // Make sure type is correct and convert to the default if that is not the case
        if (!dlcui.isStringWithLength(scope.type) ||
          !dlcui.isStringWithLength(DLCUI_TEXT_INPUT_TYPE[scope.type])) {
          scope.type = 'text';
        }

        /**
         * Inner input focus handler
         * @private
         */
        scope.onFocus = function () {
          if (!scope.disabled) {
            element.addClass('dlcui-active');
            scope.clearButtonVisible = dlcui.isStringWithLength(scope.inputValue) ||
              dlcui.isNumber(scope.inputValue);
          }
        };

        /**
         * Inner input blur handler
         * @private
         */
        scope.onBlur = function () {
          element.removeClass('dlcui-active');
          scope.clearButtonVisible = false;
        };
      }
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_TEXT_INPUT_TYPE', {
  date: 'date',
  datetime: 'datetime',
  'datetime-local': 'datetime-local',
  email: 'email',
  file: 'file',
  month: 'month',
  number: 'number',
  password: 'password',
  radio: 'radio',
  range: 'range',
  search: 'search',
  tel: 'tel',
  text: 'text',
  time: 'time',
  url: 'url',
  week: 'week'
});
;/**
 * @ngdoc directive
 * @module dlcui.controls
 * @name label
 * @src directives/output/label/label.js
 * @restrict EA
 * @controlType presentational
 * @transclude Label content
 *
 * @description The Label is a highlighted piece of inline text, generally representing a tag, status, or flag. It is
 * closely related to the Badge, which is meant for displaying values - especially numbers.
 *
 * @param {string=} dlcuiType - One of
 * - `primary`: blue
 * - `success`: green
 * - `help`: teal
 * - `warning`: yellow
 * - `danger`: red
 *
 * By default, labels are gray.
 *
 * @example
 * <h3>Label types</h3>
 * <example name="labelTypes">
 *   <file name="index.html">
 *     <dlcui-label>Default</dlcui-label>
 *     <dlcui-label dlcui-type="primary">Primary</dlcui-label>
 *     <dlcui-label dlcui-type="success">Success</dlcui-label>
 *     <dlcui-label dlcui-type="help">Help</dlcui-label>
 *     <dlcui-label dlcui-type="warning">Warning</dlcui-label>
 *     <dlcui-label dlcui-type="danger">Danger</dlcui-label>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Labels with icons</h3>
 * Labels may contain icons, either as an extra indication of the its content, or to allow users to manipulate (usually
 * remove) them.
 * <example name="labelsWithIcons">
 *   <file name="index.html">
 *     <dlcui-label>Default <dlcui-icon icon="times-circle"></dlcui-icon></dlcui-label>
 *     <dlcui-label dlcui-type="primary"><dlcui-icon icon="rocket"></dlcui-icon> Primary</dlcui-label>
 *     <dlcui-label dlcui-type="success"><dlcui-icon icon="check-circle"></dlcui-icon> Success</dlcui-label>
 *     <dlcui-label dlcui-type="help"><dlcui-icon icon="question-circle"></dlcui-icon> Help</dlcui-label>
 *     <dlcui-label dlcui-type="warning"><dlcui-icon icon="warning"></dlcui-icon> Warning</dlcui-label>
 *     <dlcui-label dlcui-type="danger"><dlcui-icon icon="exclamation-circle"></dlcui-icon> Danger</dlcui-label>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 */

'use strict';

angular.module('dell.ngclarity.directives').directive('dlcuiLabel', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
  return {
	templateUrl: [dlcuiBaseTemplatePath, 'directives/input/textLabel/dlcuitextLabel.directive.html'].join(''),
    restrict: 'E',
    transclude: true,
	replace: true,
    scope: {
		type: '@'
	},
	link: function (scope) {
        /**
         * Called by the template to obtain the class details.
         * @returns {Array} The button classes to append.
         */
        scope.getLabelClasses = function () {
          var classes = [];

          // Set the type
          scope.type = scope.type || '';
          var lowercaseType = scope.type.toLowerCase();

          if (lowercaseType === 'primary') {
            classes.push('cux-label--primary');
          } else if (lowercaseType === 'success') {
            classes.push('cux-label--success');
          } else if (lowercaseType === 'help') {
            classes.push('cux-label--help');
          } else if (lowercaseType === 'warning') {
            classes.push('cux-label--warning');
          } else if (lowercaseType === 'danger') {
            classes.push('cux-label--danger');
          } else {
            classes.push('cux-label--default');
          }
          return classes;
        };
      }
    
  };
}]);;'use strict';

/**
 * @memberof dell.ngclarity.directives
 * @ngdoc directive
 * @name loginScreen
 * @description
 *   Directive to handle most of the similar grunt work behind processing a login.
 * @example
 *   Usage:
 *     <login-screen i18n-options={object} login-success={String} login-error={String}></login-screen>
 */
angular.module('dell.ngclarity.directives')
	.component('loginScreen', {
		bindings: {
			i18nOptions: '<',
			loginSuccess: '<',
			loginError: '<',
			loginActions: '<'
		},
		controller: ['i18nService', 'sessionService', '$scope', '$log', '$rootScope', function(i18nService, sessionService, $scope, $log, $rootScope) {

			var i18nDefaults = {
				labels: {
					'productTitle': 'Dell Product Title',
					'textUserName': 'User Name:',
					'textUserPass': 'Password:',
					'checkRememberMe': 'Remember Me:',
					'buttonLogin': 'Log In',
					'copyright': '&copy;2017 Dell Inc. All Rights Reserved',
					'options':{
						'type':'Domain',
						'values':['ASIA','EMEA','AMERICAS']
					},
					'errorMessage':'',
					'userNameRequired':'User Name is Required',
					'passwordRequired':'Password is Required',
					'domainRequired':'Domain is Required'
				}
			};

			var loginController = this;

			loginController.$onInit = function() {

				this.isBusy = false;
				this.user = {
					username: '',
					password: ''
				};

			};

			loginController.$onChanges = function($event) {

				var newValue = $event.i18nOptions.currentValue;
				if (newValue) {

					// convert any given options model to JSON
					var params = angular.fromJson(newValue);

					// merge our defaults with given params
					loginController.i18n = angular.merge({}, i18nDefaults, params);
				}

			};

			loginController.$postLink = function() {};

			loginController.onFailure = function(response){
				var newi18n = {labels : { 'errorMessage' : response.statusText}};
				loginController.i18n = angular.merge({}, loginController.i18n, newi18n);
				loginController.loginActions.failure();
			};

			loginController.onSubmitForm = function($event) {
				var newi18n = {labels : { 'errorMessage' : 'Login in progress...'}};
				loginController.i18n = angular.merge({}, loginController.i18n, newi18n);
				if (!_.has(this.user, 'username') && !_.has(this.user, 'password')) {
					throw new Error('missing username or password');
				}

				this.isBusy = true;
				/** Call Params
		            # url, data, header, success, failure
		        */
				sessionService.login(
					loginController.loginActions.url,
					this.user,
					loginController.loginActions.header,
					loginController.loginActions.success,
					loginController.onFailure);

			};

			$rootScope.logout = sessionService.logout;

		}],
		template: ['$templateCache', function($templateCache) {
			return $templateCache.get('ngclarity/directives/loginScreen/loginscreen.html');
		}]
	});;angular.module('dell.ngclarity.directives').constant('MASTHEAD_EVENTS', {
  collapse: 'ccc:masthead:collapse',  // Send this event to collapse the masthead
  expand: 'ccc:masthead:expand',      // Send this event to expand the masthead
  collapsed: 'ccc:masthead:collapsed',  // Sent by the component when the masthead is collapsed
  expanded: 'ccc:masthead:expanded'   // Sent by the component when the mast head is expanded
});
;'use strict';
/**
 * @ngdoc directive
 * @name masthead
 * @module ccc
 * @src directives/core/masthead/cccMasthead.directive.js
 * @controlType actionable
 * @restrict E
 *
 * @param {string} applicationName The name of the application
 * @param {string} applicationHref Application href
 * @param {string} applicationLogo The application logo which can be an svg or font based icon name.
 * @param {boolean} pinMasthead True if the mast head is always pinned in the open state.
 * @param {boolean} showControls True to show the toolbar buttons and the user name with user actions.
 * @param {string} userName The name of the user that is currently logged in.
 * @param {Array=} userActions An array of user actions that are displayed under the user name.
 *
 * The following is an example of these user actions.
 *
 * ````javascript
 * $scope.userActions = [
 *    {
 *      label: 'Modify',    // The label to display
 *      execute: function() {   // The function to execute when the user clicks on the menu item
 *        alert('You clicked on Modify');     // An example and can be any required action or code.
 *      }
 *    },
 *    {
 *      label: 'Logout',
 *      execute: function() {
 *        $scope.userName = '';
 *      }
 *    }
 *  ];
 * ````
 *
 * @param {Array=} toolbarActions An array of actions that are displayed as toolbar actions within the toolbar area.
 *
 * The following example highlights the design,
 * ````javascript
 * $scope.toolbarActions = [
 *  {
 *    icon: '#ic_search',
 *    collapsedLabel: 'Search',
 *    execute: function() {
 *        alert('You clicked search');
 *      }
 *  },
 *  {
 *    icon: '#ic_alerts',
 *    collapsedLabel: 'List Items',
 *    execute: function() {
 *     alert('You clicked list items');
 *      }
 *  }
 *  ];
 * ````
 *
 * @description
 * The masthead is suitible for displaying a banner at the top of the page or appropriate container. It contains the
 * company logo as well as the name of the application and any and all addition top menu options.
 *
 * @example
 * <h3>Masthead With Application Frame</h3>
 * <example>
 *  <file name="index.html">
 *    <ccc-masthead application-name="CCC Sample Application"
 *                  application-logo="#ic_logo"
 *                  application-href=""
 *                  pin-masthead="false"
 *                  show-controls="true"
 *                  user-name="userName"
 *                  user-actions="userActions"
 *                  toolbar-actions="toolbarActions">
 *    </ccc-masthead>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['ccc'])
 *      .controller('AppCtrl', function ($scope) {
 *          $scope.click = function() {
 *              alert('You clicked a toolbar button!');
 *          };
 *
 *          $scope.userName = 'Administrator';
 *
 *          $scope.userActions = [
 *            {
 *              label: 'Modify',
 *              execute: function() {
 *                alert('You clicked on Modify');
 *              }
 *            },
 *            {
 *              label: 'Logout',
 *              execute: function() {
 *                $scope.userName = '';
 *              }
 *            }
 *          ];
 *
 *          $scope.toolbarActions = [
 *            {
 *              icon: '#ic_search',
 *              collapsedLabel: 'Search',
 *              execute: function() {
 *                alert('You clicked search');
 *              }
 *            },
 *            {
 *              icon: '#ic_alerts',
 *              collapsedLabel: 'List Items',
 *              execute: function() {
 *                alert('You clicked list items');
 *              }
 *            }
 *          ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *      padding: 0 !important;
 *      margin: 0;
 *    }
 *
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('masthead', 
    ['$window', '$templateCache', '$compile', 'dlcuiBaseTemplatePath', 'dlcuiApplicationFrameStates', 'MASTHEAD_EVENTS', function ($window, $templateCache, $compile, dlcuiBaseTemplatePath, dlcuiApplicationFrameStates, MASTHEAD_EVENTS) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        applicationName: '@',
        applicationHref: '@',
        applicationLogo: '@',
        pinMasthead: '=',
        showControls: '=',
        userName: '=',
        userActions: '=',
        toolbarActions: '='
      },
      //templateUrl: [cccBaseTemplatePath, 'cccMasthead.directive.html'].join(''),
      template: function() {
        return $templateCache.get('ngclarity/directives/mastHead/masthead.html');
      },
      link: function (scope) {
        scope.data = {
          states: dlcuiApplicationFrameStates
        };

        scope.actions = {
          openMasthead: function toggleMasthead() {
            scope.data.states.mastheadClosed = false;
            scope.data.states.currentMastheadStateClass = 'ccc-masthead-open';
          },
          closeMasthead: function toggleMasthead() {
            if (!scope.data.states.scrolledToTop) {
              scope.data.states.mastheadClosed = true;
              scope.data.states.currentMastheadStateClass = 'ccc-masthead-closed';
            }
          }
        };

        scope.$on(MASTHEAD_EVENTS.collapse, function (event, args) {
          if (!scope.data.states.mastheadClosed) {
            scope.$apply(function () {
              scope.data.states.mastheadClosed = true;
              scope.data.states.currentMastheadStateClass = 'ccc-masthead-closed';
              if (args) {
                scope.data.states.scrolledToTop = args.scrolledToTop;
              }
            });
            scope.$emit(MASTHEAD_EVENTS.collapsed);
          }
        });
        scope.$on(MASTHEAD_EVENTS.expand, function (event, args) {
          if (scope.data.states.mastheadClosed) {
            scope.$apply(function () {
              scope.data.states.mastheadClosed = false;
              scope.data.states.currentMastheadStateClass = 'ccc-masthead-open';
              if (args) {
                scope.data.states.scrolledToTop = args.scrolledToTop;
              }
            });
            scope.$emit(MASTHEAD_EVENTS.expanded);
          }
        });
      }
    };
  }]);

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:masthead
 * @description
 * # masthead
 */
/*
angular.module('dell.ngclarity.directives')
  .directive('masthead', ['$templateCache',
    function ($templateCache) {
    return {
      template: function() {
        return $templateCache.get('ngclarity/directives/mastHead/masthead.html');
      },
      restrict: 'AE',

      scope: {
      	brand : '=',
        menus : '=',
        affixed : '=',
        search : '=',
        searchfn : '&',
        navfn : '&',
        inverse : '=',
        optionsModel: '=ngModel'
      },

      link: function(scope, element, attrs) {

        var defOptions = {
          labels: {
            'productTitle': 'Dell Manager'
          }
        };

        // convert any given options model to JSON
        var params = angular.fromJson(scope.optionsModel);

        // merge our defaults with given params
        scope.modelOptions = angular.merge({}, defOptions, params);

	    	scope.defaults = {
	      	brand : '<span class="glyphicon glyphicon-certificate"></span>',
	      	menus : [],
	      	search : {
	        	show : false
	      	}
	    	}; // end defaults

	    	// if no parent function was passed to directive for navfn, then create one to emit an event
	      if (angular.isUndefined(attrs.navfn)){
	        scope.navfn = function(action){
	          if (angular.isObject(action)) {
	            scope.$emit('nav.menu',action);
	          } else {
	            scope.$emit('nav.menu',{'action' : action});
	          }
	        }; // end navfn
	      }

	      // if no parent function was passed to directive for searchfn, then create one to emit a search event
	      if (angular.isUndefined(attrs.searchfn)) {
	        scope.searchfn = function(){
	          scope.$emit('nav.search.execute');
	        }; // end searchfn
	      }

	      //=== Observers & Listeners ===//
	      scope.$watch('affixed',function(val) {
	        var b = angular.element('body');
	        // affixed top
	        if (angular.equals(val,'top') && !b.hasClass('navbar-affixed-top')) {
	          if (b.hasClass('navbar-affixed-bottom')) {
	            b.removeClass('navbar-affixed-bottom');
	          }
	          b.addClass('navbar-affixed-top');
	        //affixed bottom
	        } else if (angular.equals(val,'bottom') && !b.hasClass('navbar-affixed-bottom')) {
	          if (b.hasClass('navbar-affixed-top')) {
	            b.removeClass('navbar-affixed-top');
	          }
	          b.addClass('navbar-affixed-bottom');
	        // not affixed
	        } else {
	          if (b.hasClass('navbar-affixed-top')) {
	            b.removeClass('navbar-affixed-top');
	          }
	          if (b.hasClass('navbar-affixed-bottom')) {
	            b.removeClass('navbar-affixed-bottom');
	          }
	        }
	      }); // end watch(affixed)

	      //=== Methods ===//

	      scope.noop = function() {
	        angular.noop();
	      }; // end noop

	      scope.navAction = function(action) {
	        scope.navfn({'action' : action});
	      }; // end navAction

	      /**
	       * Have Branding
	       * Checks to see if the "brand" attribute was passed, if not use the default
	       * @result  string
	       */
	      //scope.haveBranding = function() {
	      //  return (angular.isDefined(attrs.brand)) ? scope.brand : scope.defaults.brand;
	      //};

	      /**
	       * Has Menus
	       * Checks to see if there were menus passed in for the navbar.
	       * @result  boolean
	       */
	      //scope.hasMenus = function() {
	      //  return (angular.isDefined(attrs.menus));
	      //};

	      /**
	       * Has Dropdown Menu
	       * Check to see if navbar item should have a dropdown menu
	       * @param  object  menu
	       * @result  boolean
	       */
	      //scope.hasDropdownMenu = function(menu) {
	      //  return (angular.isDefined(menu.menu) && angular.isArray(menu.menu));
	     // }; // end hasDropdownMenu

	      /**
	       * Is Divider
	       * Check to see if dropdown menu item is to be a menu divider.
	       * @param  object  item
	       * @result  boolean
	       */
	      //scope.isDivider = function(item) {
	      //  return (angular.isDefined(item.divider) && angular.equals(item.divider,true));
	      //}; // end isDivider


      //}
    //};
  //}]);
;/**
 * @ngdoc directive
 * @name mastheadScroll
 * @module ccc
 * @src directives/core/mastHead/cccMastheadScroll.directive.js
 * @restrict A
 *
 * @description
 * Attribute based directive that is added to any element to enable the system to monitor the scroll action and thus
 * open or close the masthead.
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('mastheadScroll', ['MASTHEAD_EVENTS', '$rootScope', function (MASTHEAD_EVENTS, $rootScope) {
    return {
      restrict: 'A',
      replace: false,
      link: function (scope, element) {
        // Bind the scroll event
        element.bind('scroll', function () {
          if (element[0].scrollTop >= 100) {
            $rootScope.$broadcast(MASTHEAD_EVENTS.collapse, {
              scrolledToTop: false
            });
          } else if (element[0].scrollTop <= 300) {
            $rootScope.$broadcast(MASTHEAD_EVENTS.expand, {
              scrolledToTop: true
            });
          }
        });
      }
    };
  }]);
;
'use strict';

angular.module('dell.ngclarity.directives').constant('dlcuiModalValidTypes', ['bare', 'confirm', 'dismiss']); // eslint-disable-line angular/function-type;

/**
 * Helper directive to allow directives to optionally require this directive's controller, and add classes as needed
 * @returns {object} Angular directive
 * @private
 */

angular.module('dell.ngclarity.directives').directive('dlcuiModal', function() {
  return {
    restrict: 'C',
    controller: ['$element', function controller($element) {
      this.addClass = function (c) {
        return $element.addClass(c);
      };
      return this;
    }]
  };
});


/**
 * Template directive.
 * @param {object} $compile - Angular $compile service.
 * @param {object} $parse - Angular $parse service.
 * @returns {object} Directive for inserting template.
 * @private
 */

angular.module('dell.ngclarity.directives').directive('dlcuiTemplate', ['$compile', '$parse', function($compile, $parse) {
  return {
    restrict: 'E',
    link: function link(scope, element, attr) {
      scope.$watch(attr.content, function () {
        element.html($parse(attr.content)(scope));
        $compile(element.contents())(scope);
      }, true);
    }
  };
}]);;// Modal instance
/**
 * This factory listens for escape keyup events, and then grabs the topmost modal,
 * determines if it is dismissable, and dismisses it if so.
 * @param {object} $document - Angular $document service.
 * @param {object} dlcuiModals - CUI modals service.
 * @returns {function} Handler for keypresses that should close the modal.
 * @private
 */
'use strict';



angular.module('dell.ngclarity.directives').factory('dlcuiModalDismiss', ['$document', 'dlcuiModals', function($document, dlcuiModals) {
  var modalCloseEvent = function modalCloseEvent(e) {
    if (e.which === 27) {
      var lastModalWrapper = dlcuiModals.lastChild;

      if (lastModalWrapper) {
        var lastModal = angular.element(lastModalWrapper.getElementsByClassName('dlcui-modal')[0]);
        var modalOptions = lastModal.scope().modal;

        if (modalOptions.keyboard) {
          modalOptions.hide('keyboard');
        }
      }
    }
  };

  $document.bind('keyup', modalCloseEvent);
  return modalCloseEvent;
}]);

/**
 * Provides the location (context) of the modals in the DOM
 * @param {jQuery|jQLite} $document jQuery-wrapped DOM document object
 * @returns {HTMLElement} A container element for modals.
 * @private
 */


angular.module('dell.ngclarity.directives').factory('dlcuiModals', ['$document', function($document) {
  var modals = $document[0].getElementById('dlcui-modals');
  if (modals == null) {
    modals = $document[0].createElement('div');
    modals.id = 'dlcui-modals';
    $document[0].body.appendChild(modals);
  }
  return modals;
}]);;/**
 * @ngdoc service
 * @name modal
 *
 * @module dlcui.controls
 * @src services/modal/modal.js
 * @controlType presentational
 *
 * @description A modal window is a UI element subordinate to an application's main window which prevents the user from
 * accessing the main window while the modal window is open.
 *
 * For simple user prompts, see the Dialog Service.
 *
 * @example
 * <example name="modal">
 *   <file name="index.html">
 *     <dlcui-button ng-click="vm.open()">Open the modal</dlcui-button>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function(dlcuiModal) {
 *         var vm = this;
 *         var modalScope = dlcuiModal({
 *           type: 'bare',
 *           templateUrl: 'modal.html',
 *           controller: 'ModalController',
 *           visible: true
 *         });
 *
 *         vm.open = modalScope.modal.show;
 *
 *         modalScope.$on('hide', function() {
 *           console.log('Modal was closed.');
 *         });
 *
 *         modalScope.$on('show', function() {
 *           console.log('Modal was shown.');
 *         });
 *
 *         modalScope.$on('dismiss', function() {
 *           console.log('Modal was dimissed.');
 *         });
 *       })
 *       .controller('ModalController', function($scope) {
 *         $scope.name = 'Michael D';
 *
 *         $scope.$on('hide', function(e, msg) {
 *           console.log('Close detected from within ModalController. Message was: ' + msg);
 *         });
 *
 *         $scope.$on('show', function() {
 *           console.log('Show detected from within ModalController.');
 *         });
 *
 *         $scope.$on('dismiss', function() {
 *           console.log('Dismiss detected from within ModalController.');
 *         });
 *       });
 *   </file>
 *   <file name="modal.html">
 *     <section class="cux-dialog">
 *       <header class="cux-dialog__header">
 *         <h1 class="cux-dialog__header-title">{{name}}'s first modal</h1>
 *       </header>
 *       <div class="cux-dialog__content">
 *         <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis tortor ex, volutpat at lobortis quis, vehicula
 *           ac tortor. Pellentesque fringilla rhoncus vestibulum. Nam diam ipsum, consequat id venenatis non, luctus id
 *           ante. Pellentesque non justo nibh.</p>
 *       </div>
 *       <footer class="cux-dialog__footer">
 *         <menu class="cux-button-set">
 *           <dlcui-button dlcui-type="primary" ng-click="modal.hide('closed')">Close</dlcui-button>
 *           <dlcui-button dlcui-type="danger" ng-click="modal.dismiss()">Dismiss</dlcui-button>
 *           <dlcui-button ng-click="modal.hide('another')">Another action</dlcui-button>
 *         </menu>
 *       </footer>
 *     </section>
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 400px;
 *     }
 *   </file>
 * </example>
 */

/**
 * @ngdoc method
 * @name modal#
 * @param {object} config An object with the following properties:
 *
 * ```js
 * {
 *   type: 'dismiss', // Default 'dismiss'. Learn more about the type property below
 *   templateUrl: 'modal.html', // OR `template`
 *   template: '<h1>Hello, world!</h1>', // OR `templateUrl`
 *   className: 'my-modal-larger', // A class that is applied to the modal's window element. Note: For setting width,
 *                                 // please put your template markup in a container, and set the width of the
 *                                 // container via CSS.
 *   controller: 'MyModalController', // Create a controller for the modal. None by default
 *   scope: $scope, // Default $rootScope. Create a child scope for the modal inheriting the scope passed in
 *   backdrop: true, // Default true. If true, the background will be slightly darker
 *   visible: true, // Default false. If true, the modal will be displayed when created
 *   static: true // Default false. If true, the backdrop will not hide the modal
 *   keyboard: true // Default true. If true, binds escape key to hide the modal on keyup. The 'hide' is event
 *                  // broadcasted with message 'keyboard'.
 * }
 * ```
 *
 * The `type` property allows for initial controls on the modal. For now, the following types are supported:
 *
 *  1. `'dismiss'`: Essentially `'bare'`, except there is a dismiss button in the top right corner of the modal.
 *  2. `'bare'`: A bare modal, with no customization.
 *
 * Please remember that `templateUrl` should be used in most cases (as opposed to `template`).
 *
 * If you do not want to have the HTML for the modal on another page, Angular supports mocking template locations the
 * following way:
 *
 * ```html
 * <script type="text/ng-template" id="confirmation.html">
 *   <!-- Some HTML here -->
 * </script>
 * ```
 *
 * The `templateUrl` for this is the ID; in this case, `confirmation.html`.
 *
 * @returns {$scope} The scope of the modal.
 *
 * On this scope, there is a `modal` property, which contains the functions `show()`, `hide()`, and `dismiss()`. You can
 * call these anywhere in your modal template. For example, a close button:
 *
 * ```html
 * <dlcui-button ng-click="modal.hide()">Close modal</dlcui-button
 * ```
 *
 * Please note that calling `dismiss()` is an irreversible action, and `show()` will not work after dismissal.
 *
 * The events `show`, `hide`, and `dismiss` are broadcasted on this returned scope. They are broadcasted *after* the
 * animation to show or hide has completed.
 */

angular.module('dell.ngclarity.directives').provider('dlcuiModal', function() {
  var ANIMATE_SPEED = 150; // ms; shold match CSS animation time which is 150 in cux.css

  // Singleton modal provider
  this.$get = ['$compile', '$controller', '$document', '$log', '$q', '$rootScope', '$templateCache', '$timeout', 'dlcuiBaseTemplatePath', 'dlcuiModalDismiss', 'dlcuiModalValidTypes', 'dlcuiModals', function ($compile, $controller, $document, $log, $q, $rootScope, $templateCache, $timeout, // eslint-disable-line max-params, angular/di-unused
  dlcuiBaseTemplatePath, dlcuiModalDismiss, dlcuiModalValidTypes, dlcuiModals) {
    // dlcuiModalDismiss must be injected (or tests fail), even though we don't do anything with it?

    return function (options) {
      if (options == null) {
        options = {};
      }

      // Configure defaults
      var defaultConfig = {
        backdrop: true,
        visible: false,
        'static': false,
        keyboard: true,
        type: 'dismiss'
      };

      var config = angular.extend({}, defaultConfig, options);

      // Throw error if not valid type
      if (dlcuiModalValidTypes.indexOf(config.type) === -1) {
        $log.dlcuiError({
          dlcuiErrorType: 'modal',
          dlcuiErrorInvalidType: config.type,
          dlcuiValidTypes: dlcuiModalValidTypes
        });
        config.type = 'bare';
      }

      // Set CSS classes on the modal
      config.classes = [];
      if (config.type != null) {
        config.classes.push('dlcui-modal--' + config.type);
      }
      if (config.className != null) {
        config.classes.push(config.className); // user-definable class
      }

      config.typeTemplateUrl = [dlcuiBaseTemplatePath, 'directives/modal/dlcuiModal'+ config.type +'.directive.html'].join('');

      var dom = $templateCache.get('ngclarity/directives/modal/dlcuiModal.directive.html');
      var scope = angular.extend((config.scope || $rootScope).$new(), { modal: config });

      if (config.controller) {
        $controller(config.controller, { $scope: scope });
      }

      var el = $compile(dom)(scope);

      // Track whether we're in the midst of an animation
      var currentAnimation = null;

      function afterHideAnimation(message, broadcastHide) {
        if (broadcastHide == null) {
          broadcastHide = true;
        }

        dlcuiModals.removeChild(el[0]);

        currentAnimation = null;

        if (broadcastHide) {
          if (message != null) {
            scope.$broadcast('hide', message);
          } else {
            scope.$broadcast('hide');
          }
        }
      }

      scope.modal.show = function () {
        // If the modal is already visible, move it to the top of the stack.
        if (scope.modal.visible) {
          dlcuiModals.removeChild(el[0]);
          dlcuiModals.appendChild(el[0]);
          return;
        }

        // If an animation is happening, cancel it.
        if (currentAnimation) {
          $timeout.cancel(currentAnimation);
          afterHideAnimation();
        }

       var element=null;
        if(dlcuiModals.childNodes.length>0){
           element= dlcuiModals.firstChild;                   
           dlcuiModals.removeChild(el[0]);
        }else{
           element=el[0];
        }

        $document.find('html, body').addClass('dlcui-modal-no-scrollbars');

        dlcuiModals.appendChild(element);

        // A modal is hidden when initially appended - now make it visible.
        el.removeClass('cux-modal--disabled');
        el.addClass('cux-modal--showing');

        scope.modal.visible = true;
        scope.$broadcast('show');
      };

      // If the user set the modal to be visible upon configuration, show it now.
      if (scope.modal.visible === true) {
        scope.modal.visible = false; // not actually visible yet
        scope.modal.show();
      }

      scope.modal.hide = function (message, broadcastHide) {
        if (!scope.modal.visible) {
          // No need to hide again.
          return $q(function (resolve) {
            resolve(); // Yes, you can do this: http://stackoverflow.com/a/21227508/433970
          });
        }

        el.removeClass('cux-modal--showing');

        currentAnimation = $timeout(function () {
          afterHideAnimation(message, broadcastHide);
        }, ANIMATE_SPEED);

        $document.find('html, body').removeClass('dlcui-modal-no-scrollbars');
        scope.modal.visible = false;

        // Return timeout promise that's resolved when the modal is really gone
        return currentAnimation;
      };

      scope.modal.dismiss = function () {
        scope.modal.hide(null, false);

        $timeout(function () {
          scope.$broadcast('dismiss');
          scope.$destroy();
          el = null;
        }, ANIMATE_SPEED);
      };

      // Return the scope to the instance
      return scope;
    };
  }];

  // Return the dlcuiModal provider
  return this;
});;/**
 * @ngdoc service
 * @name dialog
 *
 * @module dlcui.controls
 * @src services/dialog/dialog.js
 * @controlType presentational
 *
 * @description The dialog service allows for an easy way to prompt the user. For more advanced usage, see the Modal Service.
 *
 * @example
 * <h3>OK / cancel</h3>
 * <example name="okcanceldialog">
 *   <file name="index.html">
 *     <dlcui-button ng-click="vm.prompt()">Show Dialog</dlcui-button>
 *     <p ng-if="vm.status">Promise was {{vm.status}}.</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function(dlcuiDialog) {
 *         var vm = this;
 *         var dialog = dlcuiDialog({
 *           title: 'Warning!',
 *           message: 'You will lose your work if you leave the page. Are you sure you want to leave?',
 *           icon: 'exclamation-circle',
 *           iconColor: 'red',
 *           buttons: 'okcancel'
 *         });
 *
 *         vm.prompt = function() {
 *           vm.status = '';
 *           dialog().then(function() {
 *             vm.status = 'resolved';
 *           }, function() {
 *             vm.status = 'rejected';
 *           });
 *         };
 *
 *         vm.prompt();
 *       });
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 350px;
 *     }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Custom dialog buttons</h3>
 * In example, a dialog with the buttons 'Save', 'Don't Save', and 'Cancel' would be created the following way:
 *
 * <example name="customdialog">
 *   <file name="index.html">
 *     <dlcui-button ng-click="vm.prompt()">Show Dialog</dlcui-button>
 *     <p ng-if="vm.status">Promise was {{vm.status}}.</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($scope, dlcuiDialog) {
 *         var vm = this;
 *         vm.document = 'hello_world.txt';
 *
 *         var dialog = dlcuiDialog({
 *           title: 'Unsaved Changes',
 *           message: "Do you want to save '{{vm.document}}'?",
 *           scope: $scope,
 *           icon: 'warning',
 *           iconColor: 'yellow',
 *           keyboard: true,
 *           buttons: [{
 *             label: 'Save',
 *             promise: 'resolve',
 *             dlcuiType: 'primary',
 *             value: 'save',
 *             focus: true
 *           }, {
 *             label: 'Don\'t Save',
 *             promise: 'reject',
 *             value: 'no_save'
 *           }, {
 *             label: 'Cancel',
 *             promise: 'reject',
 *             value: 'cancel'
 *           }]
 *         });
 *
 *         vm.prompt = function() {
 *           vm.status = '';
 *           dialog().then(function() {
 *             vm.status = 'resolved';
 *           }, function(val) {
 *             vm.status = 'rejected as "' + val + '"';
 *           });
 *         };
 *
 *         vm.prompt();
 *       });
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 350px;
 *     }
 *   </file>
 * </example>
 */

/**
 * @ngdoc method
 * @name dialog#
 * @param {object} config An object with the following properties:
 *
 * ```js
 * {
 *   title: 'Dialog',
 *   scope: $scope, // When scope is child of. Otherwise, scope is child of root
 *   message: 'Do you want to save changes to "{{item}}"?', // item is on the scope
 *   icon: 'warning',
 *   iconColor: 'yellow',
 *   keyboard: false, // If true and user presses <esc>, will reject with 'keyboard' value
 *   buttons: 'ok' // Default: 'ok'. Can be either string or array (see below)
 * }
 * ```
 *
 * The `button` property can be passed either a `String` or `Array`. The following `String` values are preset for ease of use:
 *
 * 1. `okcancel`: OK (focused) resolves, Cancel rejects
 * 2. `yesno`: Yes (focused) resolves, No rejects
 * 3. `close`: Close (focused) resolves
 * 4. `ok`: OK (focused) resolves
 *
 *
 * An `Array` passed to the `button` property takes `Object`s like the following:
 *
 * ```js
 * {
 *   label: 'Save', // The button's label
 *   dlcuiType: 'primary', // The button's dlcuiType
 *   promise: 'resolve', // optional: defaults to 'resolve'. Can be the String 'resolve' OR 'reject', how the promise
 *                       // should be handled when clicked
 *   value: 'save', // optional: A value to pass through to the promise
 *   focus: true // If true, this button will be focused upon opening. Only one button in a dialog should have `focus: true`.
 * }
 * ```
 *
 * Additionally, the `scope` property can be used to pass in a scope to create a child from. If none is specified, the
 * rootScope is used.
 *
 * The `scope` property along with the fact that the `message` string is compiled allows for custom properties (see the
 * following example).
 *
 * @returns {function} Call this newly returned function with no parameters to create a new dialog to display to the
 * user based on the previous config. It can be called as many times as needed.
 *
 * Once called, this will return a promise that will resolve or reject before the user is allowed to do anything else.
 * If there are more than three buttons, an optional `value` property of each button will be passed to the promise as
 * the first parameter.
 */

'use strict';


angular.module('dell.ngclarity.directives').service('dlcuiConfirmDialog', ['$q', 'dlcuiModal', function ($q, dlcuiModal) {
  return function (config) {
    if (config == null) {
      config = {};
    }

    var scope = dlcuiModal({
      type: 'confirm',
      scope: config.scope,
      template: '<dlcui-template content="message"></dlcui-template>',
      'static': true,
      keyboard: config.keyboard || true
    });

    var instance = function instance() {
      var deferred = $q.defer(); // eslint-disable-line angular/deferred
      var promise = deferred.promise;

      scope.message = config.message || 'Message comes here';
      scope.title = {};
      scope.title.label = config.title || 'Confirm';
      scope.title.icon = config.icon || 'check-square-o';
      scope.title.iconColor = config.iconColor || 'blue';
      scope.buttons = [];

      if (angular.isArray(config.buttons)) {
        for (var i = 0; i < config.buttons.length; i++) {
          var button = config.buttons[i];
          scope.buttons.push({
            label: button.label,
            dlcuiType: button.dlcuiType || 'default',
            value: button.value,
            promise: button.promise,
            focus: button.focus
          });
        }
      } else {
        scope.buttons = [{
                label: 'OK',
                promise: 'resolve',
                dlcuiType: 'primary',
                focus: true
              }, {
                label: 'Cancel',
                promise: 'reject',
                dlcuiType: 'default'
              }];
      }

      function rejectAction() {
        scope.modal.hide();
        deferred.reject.apply(null, arguments);
      }

      function resolveAction() {
        scope.modal.hide();
        deferred.resolve.apply(null, arguments);
      }

      for (var j = 0; j < scope.buttons.length; j++) {
        var button = scope.buttons[j];

        if (button.promise === 'reject') {
          button.action = rejectAction;
        } else {
          button.action = resolveAction;
        }
      }

      scope.$on('hide', function (e, message) {
        if (message === 'keyboard') {
          deferred.reject('keyboard');
        }
      });

      scope.modal.show();
      return promise;
    };

    instance.hide = scope.modal.hide;
    instance.dismiss = scope.modal.dismiss;
    return instance;
  };
}]);


angular.module('dell.ngclarity.directives').service('dlcuiAlertDialog', ['$q', 'dlcuiModal', function ($q, dlcuiModal) {
  return function (config) {
    if (config == null) {
      config = {};
    }

    var scope = dlcuiModal({
      type: 'confirm',
      scope: config.scope,
      template: '<dlcui-template content="message"></dlcui-template>',
      'static': true,
      keyboard: config.keyboard || true
    });

    var instance = function instance() {
      var deferred = $q.defer(); // eslint-disable-line angular/deferred
      var promise = deferred.promise;

      scope.message = config.message || 'Message comes here';
      scope.title = {};
      scope.title.label = config.title || 'Alert';
      scope.title.icon = config.icon || 'warning';
      scope.title.iconColor = config.iconColor || 'blue';
		scope.buttons = [{
                label: 'OK',
                promise: 'resolve',
                dlcuiType: 'primary',
                focus: true
              }];
			
		function rejectAction() {
        scope.modal.hide();
        deferred.reject.apply(null, arguments);
      }
			
      function resolveAction() {
        scope.modal.hide();
        deferred.resolve.apply(null, arguments);
      }
        
		for (var j = 0; j < scope.buttons.length; j++) {
        var button = scope.buttons[j];

        if (button.promise === 'reject') {
          button.action = rejectAction;
        } else {
          button.action = resolveAction;
        }
      }

      scope.$on('hide', function (e, message) {
        if (message === 'keyboard') {
          deferred.reject('keyboard');
        }
      });

      scope.modal.show();
      return promise;
    };

    instance.hide = scope.modal.hide;
    instance.dismiss = scope.modal.dismiss;
    return instance;
  };
}]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:modalWindow
 * @description
 * # modalWindow directive to display a modal dialog containing given HTML form / markup
 */
angular.module('dell.ngclarity.directives')
.factory('$$multiMap', function() {
  return {
    createNew: function() {
      var map = {};

      return {
        entries: function() {
          return Object.keys(map).map(function(key) {
            return {
              key: key,
              value: map[key]
            };
          });
        },
        get: function(key) {
          return map[key];
        },
        hasKey: function(key) {
          return !!map[key];
        },
        keys: function() {
          return Object.keys(map);
        },
        put: function(key, value) {
          if (!map[key]) {
            map[key] = [];
          }

          map[key].push(value);
        },
        remove: function(key, value) {
          var values = map[key];

          if (!values) {
            return;
          }

          var idx = values.indexOf(value);

          if (idx !== -1) {
            values.splice(idx, 1);
          }

          if (!values.length) {
            delete map[key];
          }
        }
      };
    }
  };
})

/**
 * Pluggable resolve mechanism for the modal resolve resolution
 * Supports UI Router's $resolve service
 */
  .provider('$dlcuiResolve', function() {
    var resolve = this;
    this.resolver = null;

    this.setResolver = function(resolver) {
      this.resolver = resolver;
    };

    this.$get = ['$injector', '$q', function($injector, $q) {
      var resolver = resolve.resolver ? $injector.get(resolve.resolver) : null;
      return {
        resolve: function(invocables, locals, parent, self) {
          if (resolver) {
            return resolver.resolve(invocables, locals, parent, self);
          }

          var promises = [];

          angular.forEach(invocables, function(value) {
            if (angular.isFunction(value) || angular.isArray(value)) {
              promises.push($q.resolve($injector.invoke(value)));
            } else if (angular.isString(value)) {
              promises.push($q.resolve($injector.get(value)));
            } else {
              promises.push($q.resolve(value));
            }
          });

          return $q.all(promises).then(function(resolves) {
            var resolveObj = {};
            var resolveIter = 0;
            angular.forEach(invocables, function(value, key) {
              resolveObj[key] = resolves[resolveIter++];
            });

            return resolveObj;
          });
        }
      };
    }];
  })

  /**
   * A helper directive for the $modal service. It creates a backdrop element.
   */
  .directive('dlcuiModalBackdrop', ['$templateCache', '$animate', '$injector', '$dlcuiModalStack',
    function($templateCache, $animate, $injector, $modalStack) {
      return {
        replace: true,
        //templateUrl: [clarityTemplates, 'modal-backdrop.html'].join(''),
        template: function() {
          return $templateCache.get('ngclarity/directives/modalWindow/modal-backdrop.html');
        },
        compile: function(tElement, tAttrs) {
          tElement.addClass(tAttrs.backdropClass);
          return linkFn;
        }
      };

      function linkFn(scope, element, attrs) {
        if (attrs.modalInClass) {
          $animate.addClass(element, attrs.modalInClass);

          scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {
            var done = setIsAsync();
            if (scope.modalOptions.animation) {
              $animate.removeClass(element, attrs.modalInClass).then(done);
            } else {
              done();
            }
          });
        }
      }
    }])

  .directive('dlcuiModalWindow', ['$templateCache', '$dlcuiModalStack', '$q', '$animateCss', '$document',
    function($templateCache, $modalStack, $q, $animateCss, $document) {
      return {
        scope: {
          index: '@'
        },
        replace: true,
        transclude: true,
        //templateUrl: function(tElement, tAttrs) {
        //  return tAttrs.templateUrl || 'dlcui/template/modal/window.html';
        //},
        //templateUrl: [clarityTemplates, 'modal-window.html'].join(''),
        template: function() {
          return $templateCache.get('ngclarity/directives/modalWindow/modal-window.html');
        },
        link: function(scope, element, attrs) {
          element.addClass(attrs.windowClass || '');
          element.addClass(attrs.windowTopClass || '');
          scope.size = attrs.size;

          scope.close = function(evt) {
            var modal = $modalStack.getTop();
            if (modal && modal.value.backdrop &&
              modal.value.backdrop !== 'static' &&
              evt.target === evt.currentTarget) {
              evt.preventDefault();
              evt.stopPropagation();
              $modalStack.dismiss(modal.key, 'backdrop click');
            }
          };

          // moved from template to fix issue #2280
          element.on('click', scope.close);

          // This property is only added to the scope for the purpose of detecting when this directive is rendered.
          // We can detect that by using this property in the template associated with this directive and then use
          // {@link Attribute#$observe} on it. For more details please see {@link TableColumnResize}.
          scope.$isRendered = true;

          // Deferred object that will be resolved when this modal is render.
          var modalRenderDeferObj = $q.defer();
          // Observe function will be called on next digest cycle after compilation, ensuring that the DOM is ready.
          // In order to use this way of finding whether DOM is ready, we need to observe a scope property used in
          // modal's template.
          attrs.$observe('modalRender', function(value) {
            if (value === 'true') {
              modalRenderDeferObj.resolve();
            }
          });

          modalRenderDeferObj.promise.then(function() {
            var animationPromise = null;

            if (attrs.modalInClass) {
              animationPromise = $animateCss(element, {
                addClass: attrs.modalInClass
              }).start();

              scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {
                var done = setIsAsync();
                $animateCss(element, {
                  removeClass: attrs.modalInClass
                }).start().then(done);
              });
            }

            $q.when(animationPromise).then(function() {
              // Notify {@link $modalStack} that modal is rendered.
              var modal = $modalStack.getTop();
              if (modal) {
                $modalStack.modalRendered(modal.key);
              }

              /**
               * If something within the freshly-opened modal already has focus (perhaps via a
               * directive that causes focus). then no need to try and focus anything.
               */
              if (!($document[0].activeElement && element[0].contains($document[0].activeElement))) {
                var inputWithAutofocus = element[0].querySelector('[autofocus]');
                /**
                 * Auto-focusing of a freshly-opened modal element causes any child elements
                 * with the autofocus attribute to lose focus. This is an issue on touch
                 * based devices which will show and then hide the onscreen keyboard.
                 * Attempts to refocus the autofocus element via JavaScript will not reopen
                 * the onscreen keyboard. Fixed by updated the focusing logic to only autofocus
                 * the modal element if the modal does not contain an autofocus element.
                 */
                if (inputWithAutofocus) {
                  inputWithAutofocus.focus();
                } else {
                  element[0].focus();
                }
              }
            });
          });
        }
      };
    }])

  .directive('dlcuiModalAnimationClass', function() {
    return {
      compile: function(tElement, tAttrs) {
        if (tAttrs.modalAnimation) {
          tElement.addClass(tAttrs.dlcuiModalAnimationClass);
        }
      }
    };
  })

  .directive('dlcuiModalTransclude', function() {
    return {
      link: function(scope, element, attrs, controller, transclude) {
        transclude(scope.$parent, function(clone) {
          element.empty();
          element.append(clone);
        });
      }
    };
  })

  .factory('$dlcuiModalStack', ['$animate', '$animateCss', '$document',
    '$compile', '$rootScope', '$q', '$$multiMap', '$$stackedMap',
    function($animate, $animateCss, $document, $compile, $rootScope, $q, $$multiMap, $$stackedMap) {
      var OPENED_MODAL_CLASS = 'modal-open';

      var backdropDomEl, backdropScope;
      var openedWindows = $$stackedMap.createNew();
      var openedClasses = $$multiMap.createNew();
      var $modalStack = {
        NOW_CLOSING_EVENT: 'modal.stack.now-closing'
      };

      //Modal focus behavior
      var focusableElementList;
      var focusIndex = 0;
      var tababbleSelector = 'a[href], area[href], input:not([disabled]), ' +
        'button:not([disabled]),select:not([disabled]), textarea:not([disabled]), ' +
        'iframe, object, embed, *[tabindex], *[contenteditable=true]';

      function backdropIndex() {
        var topBackdropIndex = -1;
        var opened = openedWindows.keys();
        for (var i = 0; i < opened.length; i++) {
          if (openedWindows.get(opened[i]).value.backdrop) {
            topBackdropIndex = i;
          }
        }
        return topBackdropIndex;
      }

      $rootScope.$watch(backdropIndex, function(newBackdropIndex) {
        if (backdropScope) {
          backdropScope.index = newBackdropIndex;
        }
      });

      function removeModalWindow(modalInstance, elementToReceiveFocus) {
        var modalWindow = openedWindows.get(modalInstance).value;
        var appendToElement = modalWindow.appendTo;

        //clean up the stack
        openedWindows.remove(modalInstance);

        removeAfterAnimate(modalWindow.modalDomEl, modalWindow.modalScope, function() {
          var modalBodyClass = modalWindow.openedClass || OPENED_MODAL_CLASS;
          openedClasses.remove(modalBodyClass, modalInstance);
          appendToElement.toggleClass(modalBodyClass, openedClasses.hasKey(modalBodyClass));
          toggleTopWindowClass(true);
        }, modalWindow.closedDeferred);
        checkRemoveBackdrop();

        //move focus to specified element if available, or else to body
        if (elementToReceiveFocus && elementToReceiveFocus.focus) {
          elementToReceiveFocus.focus();
        } else if (appendToElement.focus) {
          appendToElement.focus();
        }
      }

      // Add or remove "windowTopClass" from the top window in the stack
      function toggleTopWindowClass(toggleSwitch) {
        var modalWindow;

        if (openedWindows.length() > 0) {
          modalWindow = openedWindows.top().value;
          modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass || '', toggleSwitch);
        }
      }

      function checkRemoveBackdrop() {
        //remove backdrop if no longer needed
        if (backdropDomEl && backdropIndex() === -1) {
          var backdropScopeRef = backdropScope;
          removeAfterAnimate(backdropDomEl, backdropScope, function() {
            backdropScopeRef = null;
          });
          backdropDomEl = undefined;
          backdropScope = undefined;
        }
      }

      function removeAfterAnimate(domEl, scope, done, closedDeferred) {
        var asyncDeferred;
        var asyncPromise = null;
        var setIsAsync = function() {
          if (!asyncDeferred) {
            asyncDeferred = $q.defer();
            asyncPromise = asyncDeferred.promise;
          }

          return function asyncDone() {
            asyncDeferred.resolve();
          };
        };
        scope.$broadcast($modalStack.NOW_CLOSING_EVENT, setIsAsync);

        // Note that it's intentional that asyncPromise might be null.
        // That's when setIsAsync has not been called during the
        // NOW_CLOSING_EVENT broadcast.
        return $q.when(asyncPromise).then(afterAnimating);

        function afterAnimating() {
          if (afterAnimating.done) {
            return;
          }
          afterAnimating.done = true;

          $animate.leave(domEl).then(function() {
            domEl.remove();
            if (closedDeferred) {
              closedDeferred.resolve();
            }
          });

          scope.$destroy();
          if (done) {
            done();
          }
        }
      }

      $document.on('keydown', keydownListener);

      $rootScope.$on('$destroy', function() {
        $document.off('keydown', keydownListener);
      });

      function keydownListener(evt) {
        if (evt.isDefaultPrevented()) {
          return evt;
        }

        var modal = openedWindows.top();
        if (modal) {
          switch (evt.which) {
            case 27: {
              if (modal.value.keyboard) {
                evt.preventDefault();
                $rootScope.$apply(function() {
                  $modalStack.dismiss(modal.key, 'escape key press');
                });
              }
              break;
            }
            case 9: {
              $modalStack.loadFocusElementList(modal);
              var focusChanged = false;
              if (evt.shiftKey) {
                if ($modalStack.isFocusInFirstItem(evt) || $modalStack.isModalFocused(evt, modal)) {
                  focusChanged = $modalStack.focusLastFocusableElement();
                }
              } else {
                if ($modalStack.isFocusInLastItem(evt)) {
                  focusChanged = $modalStack.focusFirstFocusableElement();
                }
              }

              if (focusChanged) {
                evt.preventDefault();
                evt.stopPropagation();
              }
              break;
            }
          }
        }
      }

      $modalStack.open = function(modalInstance, modal) {
        var modalOpener = $document[0].activeElement,
          modalBodyClass = modal.openedClass || OPENED_MODAL_CLASS;

        toggleTopWindowClass(false);

        openedWindows.add(modalInstance, {
          deferred: modal.deferred,
          renderDeferred: modal.renderDeferred,
          closedDeferred: modal.closedDeferred,
          modalScope: modal.scope,
          backdrop: modal.backdrop,
          keyboard: modal.keyboard,
          openedClass: modal.openedClass,
          windowTopClass: modal.windowTopClass,
          animation: modal.animation,
          appendTo: modal.appendTo
        });

        openedClasses.put(modalBodyClass, modalInstance);

        var appendToElement = modal.appendTo,
          currBackdropIndex = backdropIndex();

        if (!appendToElement.length) {
          throw new Error('appendTo element not found. Make sure that the element passed is in DOM.');
        }

        if (currBackdropIndex >= 0 && !backdropDomEl) {
          backdropScope = $rootScope.$new(true);
          backdropScope.modalOptions = modal;
          backdropScope.index = currBackdropIndex;
          backdropDomEl = angular.element('<div dlcui-modal-backdrop="modal-backdrop"></div>');
          backdropDomEl.attr('backdrop-class', modal.backdropClass);
          if (modal.animation) {
            backdropDomEl.attr('modal-animation', 'true');
          }
          $compile(backdropDomEl)(backdropScope);
          $animate.enter(backdropDomEl, appendToElement);
        }

        var angularDomEl = angular.element('<div dlcui-modal-window="modal-window"></div>');
        angularDomEl.attr({
          'template-url': modal.windowTemplateUrl,
          'window-class': modal.windowClass,
          'window-top-class': modal.windowTopClass,
          'size': modal.size,
          'index': openedWindows.length() - 1,
          'animate': 'animate'
        }).html(modal.content);
        if (modal.animation) {
          angularDomEl.attr('modal-animation', 'true');
        }

        $animate.enter($compile(angularDomEl)(modal.scope), appendToElement)
          .then(function() {
            if (!modal.scope.$$dlcuiDestructionScheduled) {
              $animate.addClass(appendToElement, modalBodyClass);
            }
          });

        openedWindows.top().value.modalDomEl = angularDomEl;
        openedWindows.top().value.modalOpener = modalOpener;

        $modalStack.clearFocusListCache();
      };

      function broadcastClosing(modalWindow, resultOrReason, closing) {
        return !modalWindow.value.modalScope.$broadcast('modal.closing', resultOrReason, closing).defaultPrevented;
      }

      $modalStack.close = function(modalInstance, result) {
        var modalWindow = openedWindows.get(modalInstance);
        if (modalWindow && broadcastClosing(modalWindow, result, true)) {
          modalWindow.value.modalScope.$$dlcuiDestructionScheduled = true;
          modalWindow.value.deferred.resolve(result);
          removeModalWindow(modalInstance, modalWindow.value.modalOpener);
          return true;
        }
        return !modalWindow;
      };

      $modalStack.dismiss = function(modalInstance, reason) {
        var modalWindow = openedWindows.get(modalInstance);
        if (modalWindow && broadcastClosing(modalWindow, reason, false)) {
          modalWindow.value.modalScope.$$dlcuiDestructionScheduled = true;
          modalWindow.value.deferred.reject(reason);
          removeModalWindow(modalInstance, modalWindow.value.modalOpener);
          return true;
        }
        return !modalWindow;
      };

      $modalStack.dismissAll = function(reason) {
        var topModal = this.getTop();
        while (topModal && this.dismiss(topModal.key, reason)) {
          topModal = this.getTop();
        }
      };

      $modalStack.getTop = function() {
        return openedWindows.top();
      };

      $modalStack.modalRendered = function(modalInstance) {
        var modalWindow = openedWindows.get(modalInstance);
        if (modalWindow) {
          modalWindow.value.renderDeferred.resolve();
        }
      };

      $modalStack.focusFirstFocusableElement = function() {
        if (focusableElementList.length > 0) {
          focusableElementList[0].focus();
          return true;
        }
        return false;
      };
      $modalStack.focusLastFocusableElement = function() {
        if (focusableElementList.length > 0) {
          focusableElementList[focusableElementList.length - 1].focus();
          return true;
        }
        return false;
      };

      $modalStack.isModalFocused = function(evt, modalWindow) {
        if (evt && modalWindow) {
          var modalDomEl = modalWindow.value.modalDomEl;
          if (modalDomEl && modalDomEl.length) {
            return (evt.target || evt.srcElement) === modalDomEl[0];
          }
        }
        return false;
      };

      $modalStack.isFocusInFirstItem = function(evt) {
        if (focusableElementList.length > 0) {
          return (evt.target || evt.srcElement) === focusableElementList[0];
        }
        return false;
      };

      $modalStack.isFocusInLastItem = function(evt) {
        if (focusableElementList.length > 0) {
          return (evt.target || evt.srcElement) === focusableElementList[focusableElementList.length - 1];
        }
        return false;
      };

      $modalStack.clearFocusListCache = function() {
        focusableElementList = [];
        focusIndex = 0;
      };

      $modalStack.loadFocusElementList = function(modalWindow) {
        if (focusableElementList === undefined || !focusableElementList.length) {
          if (modalWindow) {
            var modalDomE1 = modalWindow.value.modalDomEl;
            if (modalDomE1 && modalDomE1.length) {
              focusableElementList = modalDomE1[0].querySelectorAll(tababbleSelector);
            }
          }
        }
      };

      return $modalStack;
    }])

  .provider('$dlcuiModal', function() {
    var $modalProvider = {
      options: {
        animation: true,
        backdrop: true, //can also be false or 'static'
        keyboard: true
      },
      $get: ['$rootScope', '$q', '$document', '$templateRequest', '$controller', '$dlcuiResolve', '$dlcuiModalStack',
        function ($rootScope, $q, $document, $templateRequest, $controller, $dlcuiResolve, $modalStack) {
          var $modal = {};

          function getTemplatePromise(options) {
            return options.template ? $q.when(options.template) :
              $templateRequest(angular.isFunction(options.templateUrl) ?
                options.templateUrl() : options.templateUrl);
          }

          var promiseChain = null;
          $modal.getPromiseChain = function() {
            return promiseChain;
          };

          $modal.open = function(modalOptions) {
            var modalResultDeferred = $q.defer();
            var modalOpenedDeferred = $q.defer();
            var modalClosedDeferred = $q.defer();
            var modalRenderDeferred = $q.defer();

            //prepare an instance of a modal to be injected into controllers and returned to a caller
            var modalInstance = {
              result: modalResultDeferred.promise,
              opened: modalOpenedDeferred.promise,
              closed: modalClosedDeferred.promise,
              rendered: modalRenderDeferred.promise,
              close: function (result) {
                return $modalStack.close(modalInstance, result);
              },
              dismiss: function (reason) {
                return $modalStack.dismiss(modalInstance, reason);
              }
            };

            //merge and clean up options
            modalOptions = angular.extend({}, $modalProvider.options, modalOptions);
            modalOptions.resolve = modalOptions.resolve || {};
            modalOptions.appendTo = modalOptions.appendTo || $document.find('body').eq(0);

            //verify options
            if (!modalOptions.template && !modalOptions.templateUrl) {
              throw new Error('One of template or templateUrl options is required.');
            }

            var templateAndResolvePromise =
              $q.all([getTemplatePromise(modalOptions), $dlcuiResolve.resolve(modalOptions.resolve, {}, null, null)]);

            function resolveWithTemplate() {
              return templateAndResolvePromise;
            }

            // Wait for the resolution of the existing promise chain.
            // Then switch to our own combined promise dependency (regardless of how the previous modal fared).
            // Then add to $modalStack and resolve opened.
            // Finally clean up the chain variable if no subsequent modal has overwritten it.
            var samePromise;
            samePromise = promiseChain = $q.all([promiseChain])
              .then(resolveWithTemplate, resolveWithTemplate)
              .then(function resolveSuccess(tplAndVars) {
                var providedScope = modalOptions.scope || $rootScope;

                var modalScope = providedScope.$new();
                modalScope.$close = modalInstance.close;
                modalScope.$dismiss = modalInstance.dismiss;

                modalScope.$on('$destroy', function() {
                  if (!modalScope.$$dlcuiDestructionScheduled) {
                    modalScope.$dismiss('$dlcuiUnscheduledDestruction');
                  }
                });

                var ctrlInstance, ctrlInstantiate, ctrlLocals = {};

                //controllers
                if (modalOptions.controller) {
                  ctrlLocals.$scope = modalScope;
                  ctrlLocals.$dlcuiModalInstance = modalInstance;
                  angular.forEach(tplAndVars[1], function(value, key) {
                    ctrlLocals[key] = value;
                  });

                  // the third param will make the controller instantiate later,private api
                  // @see https://github.com/angular/angular.js/blob/master/src/ng/controller.js#L126
                  ctrlInstantiate = $controller(modalOptions.controller, ctrlLocals, true);
                  if (modalOptions.controllerAs) {
                    ctrlInstance = ctrlInstantiate.instance;

                    if (modalOptions.bindToController) {
                      ctrlInstance.$close = modalScope.$close;
                      ctrlInstance.$dismiss = modalScope.$dismiss;
                      angular.extend(ctrlInstance, providedScope);
                    }

                    ctrlInstance = ctrlInstantiate();

                    modalScope[modalOptions.controllerAs] = ctrlInstance;
                  } else {
                    ctrlInstance = ctrlInstantiate();
                  }

                  if (angular.isFunction(ctrlInstance.$onInit)) {
                    ctrlInstance.$onInit();
                  }
                }

                $modalStack.open(modalInstance, {
                  scope: modalScope,
                  deferred: modalResultDeferred,
                  renderDeferred: modalRenderDeferred,
                  closedDeferred: modalClosedDeferred,
                  content: tplAndVars[0],
                  animation: modalOptions.animation,
                  backdrop: modalOptions.backdrop,
                  keyboard: modalOptions.keyboard,
                  backdropClass: modalOptions.backdropClass,
                  windowTopClass: modalOptions.windowTopClass,
                  windowClass: modalOptions.windowClass,
                  windowTemplateUrl: modalOptions.windowTemplateUrl,
                  size: modalOptions.size,
                  openedClass: modalOptions.openedClass,
                  appendTo: modalOptions.appendTo
                });
                modalOpenedDeferred.resolve(true);

              }, function resolveError(reason) {
                modalOpenedDeferred.reject(reason);
                modalResultDeferred.reject(reason);
              })['finally'](function() {
              if (promiseChain === samePromise) {
                promiseChain = null;
              }
            });

            return modalInstance;
          };

          return $modal;
        }
      ]
    };

    return $modalProvider;
  });


;angular.module('dell.ngclarity.directives')
/**
 * A helper, internal data structure that acts as a map but also allows getting / removing
 * elements in the LIFO order
 */
  .factory('$$stackedMap', function() {
    return {
      createNew: function() {
        var stack = [];

        return {
          add: function(key, value) {
            stack.push({
              key: key,
              value: value
            });
          },
          get: function(key) {
            for (var i = 0; i < stack.length; i++) {
              if (key === stack[i].key) {
                return stack[i];
              }
            }
          },
          keys: function() {
            var keys = [];
            for (var i = 0; i < stack.length; i++) {
              keys.push(stack[i].key);
            }
            return keys;
          },
          top: function() {
            return stack[stack.length - 1];
          },
          remove: function(key) {
            var idx = -1;
            for (var i = 0; i < stack.length; i++) {
              if (key === stack[i].key) {
                idx = i;
                break;
              }
            }
            return stack.splice(idx, 1)[0];
          },
          removeTop: function() {
            return stack.pop();
          },
          length: function() {
            return stack.length;
          }
        };
      }
    };
  });;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:navbarAccordion
 * @description
 * # navbarAccordion
 */
angular.module('dell.ngclarity.directives')
  .constant('navbarAccordionConfig', {
    closeOthers: true
  })
  .controller('navbarAccordionController', ['$scope', '$attrs', 'navbarAccordionConfig',
    function ($scope, $attrs, accordionConfig) {

      // This array keeps track of the accordion groups
      this.groups = [];

      // Ensure that all the groups in this accordion are closed, unless close-others explicitly says not to
      this.closeOthers = function(openGroup) {
        var closeOthers = angular.isDefined($attrs.closeOthers) ?
          $scope.$eval($attrs.closeOthers) : accordionConfig.closeOthers;

        if (closeOthers) {
          angular.forEach(this.groups, function(group) {
            if (group !== openGroup) {
              group.isOpen = false;
            }
          });
        }
      };

      // This is called from the accordion-group directive to add itself to the accordion
      this.addGroup = function(groupScope) {
        var that = this;
        this.groups.push(groupScope);

        groupScope.$on('$destroy', function(event) {
          that.removeGroup(groupScope);
        });
      };

      // This is called from the accordion-group directive when to remove itself
      this.removeGroup = function(group) {
        var index = this.groups.indexOf(group);
        if (index !== -1) {
          this.groups.splice(index, 1);
        }
      };


    }])
  .directive('navbarAccordion',['$templateCache',
    function ($templateCache) {
    return {
      //templateUrl: [clarityTemplates, 'navbaraccordion.html'].join(''),
      template: function() {
        return $templateCache.get('ngclarity/directives/navbarAccordion/navbaraccordion.html');
      },
      controller: 'navbarAccordionController',
      controllerAs: 'accordion',
      transclude: true
      //templateUrl: function(element, attrs) {
        //return attrs.templateUrl || 'templates/navbaraccordion.html';
        //console.log(this.defaultTemplate);
        //return attrs.templateUrl || this.defaultTemplate;
      //}
    };
  }]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:navbarAccordionGroup
 * @description
 * # navbarAccordionGroup
 */
angular.module('dell.ngclarity.directives')
  .directive('navbarAccordionGroup', ['$templateCache', 
    function ($templateCache) {
    return {
      require: '^navbarAccordion',         // We need this directive to be inside an accordion
      transclude: true,              // It transcludes the contents of the directive into the template
      replace: true,                // The element containing the directive will be replaced with the template
      //defaultTemplate: 'templates/navbaraccordiongroup.html',
      //templateUrl: function(element, attrs) {
        //return attrs.templateUrl || 'templates/navbaraccordiongroup.html';
      //  console.log(this.defaultTemplate);
      //  return attrs.templateUrl || this.defaultTemplate;
      //},
      //templateUrl: [clarityTemplates, 'navbaraccordiongroup.html'].join(''),
      template: function() {
        return $templateCache.get('ngclarity/directives/navbarAccordion/navbaraccordiongroup.html');
      },
      scope: {
        heading: '@',               // Interpolate the heading attribute onto this scope
        isOpen: '=?',
        isDisabled: '=?'
      },
      controller: function() {
        this.setHeading = function(element) {
          this.heading = element;
        };
      },
      link: function(scope, element, attrs, accordionCtrl) {
        accordionCtrl.addGroup(scope);

        scope.openClass = attrs.openClass || 'panel-open';
        scope.panelClass = attrs.panelClass || 'panel-default';
        scope.$watch('isOpen', function(value) {
          element.toggleClass(scope.openClass, !!value);
          if (value) {
            accordionCtrl.closeOthers(scope);
          }
        });

        scope.toggleOpen = function($event) {
          if (!scope.isDisabled) {
            if (!$event || $event.which === 32) {
              scope.isOpen = !scope.isOpen;
            }
          }
        };

        var id = 'accordiongroup-' + scope.$id + '-' + Math.floor(Math.random() * 10000);
        scope.headingId = id + '-tab';
        scope.panelId = id + '-panel';
      }
    };
  }]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:navbarAccordionHeading
 * @description
 * # navbarAccordionHeading
 */
angular.module('dell.ngclarity.directives')
  .directive('navbarAccordionHeading', function () {
    return {
      transclude: true,   // Grab the contents to be used as the heading
      template: '',       // In effect remove this element!
      replace: true,
      require: '^navbarAccordionGroup',
      link: function(scope, element, attrs, accordionGroupCtrl, transclude) {
        // Pass the heading to the accordion-group controller
        // so that it can be transcluded into the right place in the template
        // [The second parameter to transclude causes the elements to be cloned so that they work in ng-repeat]
        accordionGroupCtrl.setHeading(transclude(scope, angular.noop));
      }
    };
  });
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:navbarAccordionTransclude
 * @description
 * # navbarAccordionTransclude
 */
angular.module('dell.ngclarity.directives')
  .directive('navbarAccordionTransclude', function () {
    return {
      require: '^navbarAccordionGroup',
      link: function(scope, element, attrs, controller) {
        scope.$watch(function() { return controller[attrs.navbarAccordionTransclude]; }, function(heading) {
          if (heading) {
            var elem = angular.element(element[0].querySelector('[navbar-accordion-header]'));
            elem.html('');
            elem.append(heading);
          }
        });
      }
    };
  });
;'use strict';

/**
 * @ngdoc directive
 * @name navbar-collapse
 * @description
 *   Directive to make use of the branded company logo in a nice and easy
 *   to use format.
 * @example
 *   Usage:
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('navbarCollapse', ['$animate', '$q', '$parse', '$injector', function($animate, $q, $parse, $injector) {
    var $animateCss = $injector.has('$animateCss') ? $injector.get('$animateCss') : null;
    return {
      link: function(scope, element, attrs) {
        var expandingExpr = $parse(attrs.expanding),
          expandedExpr = $parse(attrs.expanded),
          collapsingExpr = $parse(attrs.collapsing),
          collapsedExpr = $parse(attrs.collapsed);

        if (!scope.$eval(attrs.navbarCollapse)) {
          element.addClass('in')
            .addClass('collapse')
            .attr('aria-expanded', true)
            .attr('aria-hidden', false)
            .css({height: 'auto'});
        }

        function expand() {
          if (element.hasClass('collapse') && element.hasClass('in')) {
            return;
          }

          $q.resolve(expandingExpr(scope))
            .then(function() {
              element.removeClass('collapse')
                .addClass('collapsing')
                .attr('aria-expanded', true)
                .attr('aria-hidden', false);

              if ($animateCss) {
                $animateCss(element, {
                  addClass: 'in',
                  easing: 'ease',
                  to: { height: element[0].scrollHeight + 'px' }
                }).start()['finally'](expandDone);
              } else {
                $animate.addClass(element, 'in', {
                  to: { height: element[0].scrollHeight + 'px' }
                }).then(expandDone);
              }
            });
        }

        function expandDone() {
          element.removeClass('collapsing')
            .addClass('collapse')
            .css({height: 'auto'});
          expandedExpr(scope);
        }

        function collapse() {
          if (!element.hasClass('collapse') && !element.hasClass('in')) {
            return collapseDone();
          }

          $q.resolve(collapsingExpr(scope))
            .then(function() {
              element
              // IMPORTANT: The height must be set before adding "collapsing" class.
              // Otherwise, the browser attempts to animate from height 0 (in
              // collapsing class) to the given height here.
                .css({height: element[0].scrollHeight + 'px'})
                // initially all panel collapse have the collapse class, this removal
                // prevents the animation from jumping to collapsed state
                .removeClass('collapse')
                .addClass('collapsing')
                .attr('aria-expanded', false)
                .attr('aria-hidden', true);

              if ($animateCss) {
                $animateCss(element, {
                  removeClass: 'in',
                  to: {height: '0'}
                }).start()['finally'](collapseDone);
              } else {
                $animate.removeClass(element, 'in', {
                  to: {height: '0'}
                }).then(collapseDone);
              }
            });
        }

        function collapseDone() {
          element.css({height: '0'}); // Required so that collapse works when animation is disabled
          element.removeClass('collapsing')
            .addClass('collapse');
          collapsedExpr(scope);
        }

        scope.$watch(attrs.navbarCollapse, function(shouldCollapse) {
          if (shouldCollapse) {
            collapse();
          } else {
            expand();
          }
        });
      }
    };
  }]);

;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:navbarLeft
 * @description
 * # navbarLeft
 */
angular.module('dell.ngclarity.directives')
  .directive('navbarLeft', ['$templateCache', 
    function ($templateCache) {
    return {
      template: function() {
        return $templateCache.get('ngclarity/directives/navbarLeft/navbarleft.html');
      },
      restrict: 'E',
      replace: true,
      //transclude: true,
      scope: {
        optionsModel: '=ngModel'
      },
      link: function(scope, element, attrs) {

        // a list of default options that this template supports. If no
        // options are passed into this object, then we fallback to
        // these
        var defOptions = {
          menuItems: [
            {
              'iconClass': 'glyphicon glyphicon-home',
              'label': 'menu item 1',
              'type': 'item'
            },
            {
              'iconClass': 'glyphicon glyphicon-star',
              'label': 'menu item 2',
              'type': 'item'
            },
            {
              'icon': 'none',
              'label': '',
              'type': 'separator'
            },
            {
              'iconClass': 'glyphicon glyphicon-cog',
              'label': 'menu item 3',
              'type': 'item'
            }
          ]
        };

        // convert any given options model to JSON
        var params = angular.fromJson(scope.optionsModel);

        // merge our defaults with given params
        scope.modelOptions = angular.merge({}, defOptions, params);

        var target = element[0].querySelector('ul.navlist');
        var targetElement = angular.element(target);

        angular.element(target).addClass('nav nav-pills nav-stacked');

        var icon, link, li;
        _.each(scope.modelOptions.menuItems, function(item) {

          if (item.type === 'item') {
            icon = $('<span/>')
              .addClass(item.iconClass)
              .attr('aria-hidden', 'true')
              .html('&nbsp;');

            link = $('<a/>')
              .attr('href', '#')
              .text(item.label)
              .prepend(icon);
              // use append() for icon after text
              //.append(icon);

            li = $('<li/>')
              //.addClass('ui-menu-item')
              .attr('role', 'presentation')
              .append(link)
              .appendTo(target);
          } else if (item.type === 'separator') {

            li = $('<li/>')
              .addClass('divider')
              .attr('role', 'separator')
              .appendTo(target);
          }


        });


      }
    };
  }]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:navbarTop
 * @description
 * # navbarTop
 */
angular.module('dell.ngclarity.directives')
  .directive('navbarTop', ['$templateCache', 
    function ($templateCache) {
    return {
      template: function() {
        return $templateCache.get('ngclarity/directives/navbarTop/navbartop.html');
      },
      restrict: 'E',
      replace: true,
      scope: {
        optionsModel: '=ngModel'
      },
      link: function(scope, element, attrs) {

        // a list of default options that this template supports. If no
        // options are passed into this object, then we fallback to
        // these
        var defOptions = {
          menuItems: [
            {
              'iconClass': 'glyphicon glyphicon-home',
              'label': 'menu item 1',
              'type': 'item'
            },
            {
              'iconClass': 'glyphicon glyphicon-star',
              'label': 'menu item 2',
              'type': 'item'
            },
            {
              'iconClass': 'glyphicon glyphicon-cog',
              'label': 'menu item 3',
              'type': 'item'
            }
          ]
        };

        // convert any given options model to JSON
        var params = angular.fromJson(scope.optionsModel);

        // merge our defaults with given params
        scope.modelOptions = angular.merge({}, defOptions, params);

        var target = element[0].querySelector('ul.navlist');
        var targetElement = angular.element(target);

        angular.element(target).addClass('nav nav-pills');

        var icon, link, li;
        _.each(scope.modelOptions.menuItems, function(item) {

          if (item.type === 'item') {
            icon = $('<span/>')
              .addClass(item.iconClass)
              .attr('aria-hidden', 'true')
              .html('&nbsp;');

            link = $('<a/>')
              .attr('href', '#')
              .text(item.label)
              .prepend(icon);
              // use append() for icon after text
              //.append(icon);

            li = $('<li/>')
              //.addClass('ui-menu-item')
              .attr('role', 'presentation')
              .append(link)
              .appendTo(target);
          }

        });

      }
    };
  }]);
;/**
 *  @ngdoc directive
 *  @name navigationList
 *
 *  @description The Navigation list is used for primary navigation on the
 *  page.
 *
 *  @module dlcui
 *  @src directives/navigation/navigationList/dlcuiNavigationList.directive.js
 *  @controlType navigation
 *
 *  @restrict E
 *
 *  @param {array} items An array of node objects. Each node must have the following properties
 *  * <b>id (Required) -</b> The id of the action item
 *  * <b>label (Required) -</b> The text label to dispaly with the item
 *  * <b>selected (Optional) -</b> Sets the menu to selected state. Note Only one menu can be selected at a time.
 *  * <b>subActionsOpen (Optional) -</b> Sets the menu to the open state if it has children.
 *  Note only one menu can be open at a time.
 *  * <b>execute or href (Required) -</b> Either a execute method must be provided or an href string value. The execute
 *  method can return a boolean to control whether an item is displayed as <i>activated</i> or a agnualr promise.
 *  One of these properties must be defined if children is not defined and none should be defined if children is
 *  defined.
 *  * <b>icon (Required/Optional) -</b> The name of the icon and is recommended for the main parent items
 *  but not recommended for children.
 *  * <b>hide (Optional) -</b> Set this to true to hide the item.
 *  * <b>disabled (Optional) -</b> Set this to true to disable the item.
 *  * <b>children (Optional) -</b> Array of action items with the same properties as above.
 *
 * ```javascript
 *  [
 *    {
 *      id: 'Home',
 *      icon: 'house',
 *      disabled: false,
 *      selected: true,
 *      hide: false,
 *      children: [
 *        {
 *          id: 'A child'
 *        }
 *      ]
 *    },
 *    {
 *      id: 'Logout',
 *      href: 'logout.php',
 *      disabled: true
 *    },
 *    {
 *      id: 'loadData',
 *      label: 'Load Data',
 *      href: 'logout.php',
 *      execute: function() {
 *          var mainInfo = null;
 *          // return the promise that will activate the menu item
 *          return $http.get('content.json').success(function(data) {
 *             scope.loadedData = data;
 *          );
 *      };
 *    }
 *  ]
 *  ```
 *
 *  @example
 *  <h3>Basic navigation list</h3>
 *  <example name='navigationList'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-list actions="navigationActions"
 *                           application-name="Wyse Device Manager"
 *                           application-logo="#ic_logo"
 *                           application-href=""
 *                           pin-navigation-list="true">
 *       </dlcui-navigation-list>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.navigationActions = [
 *          {
 *            label: 'Home',
 *            icon: 'home',
 *            execute: function() {
 *              alert('you clicked home.');
 *              return true;
 *            }
 *          },
 *          {
 *            label: 'Devices',
 *            icon: '#menu_icon_02_devices',
 *            execute: function() {
 *              alert('you clicked devices.');
 *              return true;
 *            }
 *          },
 *          {
 *            label: 'Applications',
 *            icon: '#menu_icon_03_applications',
 *            children: [
 *              {
 *                label: 'Format Hard Drive',
 *                execute: function() {
 *                  alert('Everything is gone!');
 *                  return true;
 *                }
 *              },
 *              {
 *                label: 'Restore Hard Drive',
 *                execute: function() {
 *                  alert('Too late!');
 *                  return true;
 *                }
 *              }
 *              ,
 *              {
 *                label: 'Restart System',
 *                execute: function() {
 *                  alert('Going....Going.......');
 *                  return true;
 *                }
 *              }
 *            ]
 *          },
 *          {
 *            label: 'Updates',
 *            icon: '#menu_icon_04_updates',
 *            children: [
 *              {
 *                label: 'Update All',
 *                execute: function() {
 *                  alert('Updating All');
 *                  return true;
 *                }
 *              },
 *              {
 *                label: 'Update Windows',
 *                execute: function() {
 *                  alert('Update Windows');
 *                  return true;
 *                }
 *              }
 *            ]
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 800px;
 *    }
 *
 *    .wrapper {
 *      height: 800px;
 *      width: 50%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 *  <h3>Navigation list with pre-selected menu</h3>
 *  <example name='navigationListSelected'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-list actions="navigationActions"
 *                           application-name="Wyse Device Manager"
 *                           application-logo="#ic_logo"
 *                           application-href=""
 *                           pin-navigation-list="true">
 *       </dlcui-navigation-list>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.navigationActions = [
 *          {
 *            label: 'Home',
 *            icon: 'home',
 *            execute: function() {
 *              alert('you clicked home.');
 *              return true;
 *            }
 *          },
 *          {
 *            label: 'Devices',
 *            icon: '#menu_icon_02_devices',
 *            selected: true,
 *            execute: function() {
 *              alert('you clicked devices.');
 *              return true;
 *            }
 *          },
 *          {
 *            label: 'Applications',
 *            icon: '#menu_icon_03_applications',
 *            children: [
 *              {
 *                label: 'Format Hard Drive',
 *                execute: function() {
 *                  alert('Everything is gone!');
 *                  return true;
 *                }
 *              },
 *              {
 *                label: 'Restore Hard Drive',
 *                execute: function() {
 *                  alert('Too late!');
 *                  return true;
 *                }
 *              }
 *              ,
 *              {
 *                label: 'Restart System',
 *                execute: function() {
 *                  alert('Going....Going.......');
 *                  return true;
 *                }
 *              }
 *            ]
 *          },
 *          {
 *            label: 'Updates',
 *            icon: '#menu_icon_04_updates',
 *            children: [
 *              {
 *                label: 'Update All',
 *                execute: function() {
 *                  alert('Updating All');
 *                  return true;
 *                }
 *              },
 *              {
 *                label: 'Update Windows',
 *                execute: function() {
 *                  alert('Update Windows');
 *                  return true;
 *                }
 *              }
 *            ]
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 800px;
 *    }
 *
 *    .wrapper {
 *      height: 800px;
 *      width: 50%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 *  <h3>Navigation list with pre-defined open parent menu and pre-selected child</h3>
 *  <example name='navigationListOpenMenu'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-list actions="navigationActions"
 *                           application-name="Wyse Device Manager"
 *                           application-logo="#ic_logo"
 *                           application-href=""
 *                           pin-navigation-list="true">
 *       </dlcui-navigation-list>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.navigationActions = [
 *          {
 *            label: 'Home',
 *            icon: 'home',
 *            execute: function() {
 *              alert('you clicked home.');
 *              return true;
 *            }
 *          },
 *          {
 *            label: 'Devices',
 *            icon: '#menu_icon_02_devices',
 *            execute: function() {
 *              alert('you clicked devices.');
 *              return true;
 *            }
 *          },
 *          {
 *            label: 'Applications',
 *            icon: '#menu_icon_03_applications',
 *            subActionsOpen: true,
 *            children: [
 *              {
 *                label: 'Format Hard Drive',
 *                execute: function() {
 *                  alert('Everything is gone!');
 *                  return true;
 *                }
 *              },
 *              {
 *                label: 'Restore Hard Drive',
 *                selected: true,
 *                execute: function() {
 *                  alert('Too late!');
 *                  return true;
 *                }
 *              }
 *              ,
 *              {
 *                label: 'Restart System',
 *                execute: function() {
 *                  alert('Going....Going.......');
 *                  return true;
 *                }
 *              }
 *            ]
 *          },
 *          {
 *            label: 'Updates',
 *            icon: '#menu_icon_04_updates',
 *            children: [
 *              {
 *                label: 'Update All',
 *                execute: function() {
 *                  alert('Updating All');
 *                  return true;
 *                }
 *              },
 *              {
 *                label: 'Update Windows',
 *                execute: function() {
 *                  alert('Update Windows');
 *                  return true;
 *                }
 *              }
 *            ]
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 800px;
 *    }
 *
 *    .wrapper {
 *      height: 800px;
 *      width: 50%;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiNavigationList', ['dlcuiBaseTemplatePath', '$location', '$compile', '$rootScope', '$window', '$document', 'dlcuiApplicationFrameStates', 'dlcuiLayoutStates', function (dlcuiBaseTemplatePath,
                                            $location,
                                            $compile,
                                            $rootScope,
                                            $window,
                                            $document,
                                            dlcuiApplicationFrameStates,
                                            dlcuiLayoutStates) {
    return {
      templateUrl: [dlcuiBaseTemplatePath, 'dlcuiNavigationList.directive.html'].join(''),
      restrict: 'E',
      replace: true,
      scope: {
        actions: '=',
        applicationName: '@',
        applicationHref: '@',
        applicationLogo: '@',
        pinNavigationList: '='
      },
      link: function (scope) {
        /**
         * The data and options associated with this component.
         * @type {!Object}
         */
        scope.data = {
          states: dlcuiApplicationFrameStates,
          layoutStates: dlcuiLayoutStates
        };

        /**
         * Called to handle a window resize or when initialized.
         * @param {!string} windowSize The window size based on the layout state.
         */
        function _handleWindowSize (windowSize) {
          if (windowSize !== 'small' && windowSize !== 'xsmall') {
            scope.setNavPinned(scope.pinNavigationList);
            scope.data.states.hideNavPinnedButton = false;
          } else {
            scope.setNavPinned(false);
            scope.data.states.hideNavPinnedButton = true;
          }
        }

        /**
         * Initialize options and state based on window size and options passed in.
         * @private
         */
        function _initializeVariables() {
          // Set window size states for navigation
          _handleWindowSize(scope.data.layoutStates.windowSize);

          // Update and fix the menu actions selection and open states
          var checkOpenAction = false;
          var checkSelection = false;

          angular.forEach(scope.actions, function (item) {
            // First check the open state
            if (!checkOpenAction && item.subActionsOpen && dlcui.isArrayWithLength(item.children)) {
              checkOpenAction = true;
              item.subActionsOpen = true;
            } else {
              item.subActionsOpen = false;
            }
            // Now check selection on the item
            if (!checkSelection && item.selected) {
              checkSelection = true;
              item.selected = true;
            } else {
              item.selected = false;
            }
            // check for sub item selection
            if (dlcui.isArrayWithLength(item.children)) {
              item.selected = false;
              angular.forEach(item.children, function (childItem) {
                if (!checkSelection && childItem.selected) {
                  checkSelection = true;
                  item.selected = true;
                  childItem.selected = true;
                } else {
                  childItem.selected = false;
                }
              });
            }
          });
        }

        /**
         * Called to select an action based on user selecting the action.
         * @param {!Object} action The associated action object.
         * @private
         */
        function _selectAction (action) {
          if (action) {
            angular.forEach(scope.actions, function (item) {
              if (item !== action) {
                item.selected = false;
                if (dlcui.isArrayWithLength(item.children)) {
                  angular.forEach(item.children, function (child) {
                    child.selected = false;
                  });
                }
              }
            });
            action.selected = true;
            if (dlcui.isStringWithLength(action.href)) {
              $window.location.href = action.href;
            }
          }
        }

        /**
         * Called to close an open sub actions.
         * @param {!Object} action The currently selected action that should be ignored.
         * @private
         */
        function _closeOtherSubActions (action) {
          if (action) {
            angular.forEach(scope.actions, function (item) {
              if (item !== action && dlcui.isArrayWithLength(item.children)) {
                item.subActionsOpen = false;
              }
            });
          }
        }

        /**
         * Returns true if the navigation list is open.
         * @returns {!boolean} True if open
         */
        scope.isNavigationOpen = function () {
          return scope.data.states.navOpened;
        };

        /**
         * Expand/Open the navigation component.
         */
        scope.openNavigation = function () {
          scope.data.states.navOpened = true;
          scope.data.states.currentNavigationListStateClass = 'dlcui-navigation-list-open';
          $rootScope.$broadcast('dlcui:navigation:opened');
        };

        /**
         * Collapse/Close the navigation component.
         */
        scope.closeNavigation = function () {
          scope.data.states.navOpened = false;
          scope.data.states.currentNavigationListStateClass = 'dlcui-navigation-list-closed';
          $rootScope.$broadcast('dlcui:navigation:closed');
        };

        /**
         * Pin or UnPin the navigation component.
         * @param {!boolean} pin True to pin the component or false.
         */
        scope.setNavPinned = function (pin) {
          if (pin) {
            scope.openNavigation();
          } else {
            scope.closeNavigation();
          }
          scope.data.states.navPinned = pin;
        };

        /**
         * Called when the user mouses enters the component.
         */
        scope.onMouseEnter = function() {
          if (!scope.isNavigationOpen()) {
            scope.openNavigation();
          }
        };

        /**
         * Called when the user mouses out of the component area.
         */
        scope.onMouseLeave = function() {
          if (!scope.data.states.navPinned && scope.isNavigationOpen()) {
            scope.closeNavigation();
          }
        };

        /**
         * Called when the user mouses enters the component.
         */
        scope.onSwipeRight = function() {
          if (!scope.isNavigationOpen()) {
            scope.openNavigation();
          }
        };

        /**
         * Called when the user mouses out of the component area.
         */
        scope.onSwipeLeft = function() {
          if (!scope.data.states.navPinned && scope.isNavigationOpen()) {
            scope.closeNavigation();
          }
        };

        /**
         * Called when the user clicks on a root menu item
         * @param {!Object} action The parent/root action.
         */
        scope.onActionClicked = function(action) {
          if (action) {
            if (dlcui.isArrayWithLength(action.children)) {
              action.subActionsOpen = !action.subActionsOpen;
              if (action.subActionsOpen) {
                _closeOtherSubActions(action);
                scope.openNavigation();
              }
            } else if (!action.selected && dlcui.isFunction(action.execute)) {
              var result = action.execute();
              if (dlcui.isObject(result) && dlcui.isFunction(result.then)) {
                result.then(function() {
                  _closeOtherSubActions(action);
                  _selectAction (action);
                });
              } else if (result) {
                _closeOtherSubActions(action);
                _selectAction (action);
              }
            } else {
              _closeOtherSubActions(action);
              _selectAction (action);
            }
          }
        };

        /**
         * Called when the user clicks on a sub menu action.
         * @param {!Object} action The parent/root action.
         * @param {!Object} subAction The child sub-action been clicked.
         */
        scope.onSubActionClicked = function(action, subAction) {
          if (action && subAction) {
            if (!subAction.selected && dlcui.isFunction(subAction.execute)) {
              var result = subAction.execute();
              if (dlcui.isObject(result) && dlcui.isFunction(result.then)) {
                result.then(function() {
                  _selectAction (subAction);
                });
              } else if (result) {
                _selectAction (subAction);
              }
            } else {
              _selectAction (subAction);
            }
            action.selected = true;
          }
        };

        // Watch for changes in the window size so the component can take action by resizing where appropriate
        scope.$watch('data.layoutStates.windowSize', function (newVal) {
          _handleWindowSize(newVal);
        });

        $document.on('touchend', function() {
          if (!scope.data.states.navPinned && scope.isNavigationOpen()) {
            scope.closeNavigation();
          }
        });

        _initializeVariables();
      }
    };
  }]);
;/**
 *  @ngdoc directive
 *  @name navigationTab
 *
 *  @description The Navigation Tab is used for secondary navigation on the
 *  page or to switch between different contents.
 *
 *  This directive does not include support for rendering a content area but allows the developer
 *  to act on a tab been selected by executing code or by changing the path.
 *
 *  There are three ways the selected tab can be tracked,
 *  * Using two way binding on the <i>selected-tab</i> attribute
 *  * Using the execute() or href property on the action item
 *  * Using the callback <i>on-tab-selected</i> method.
 *
 *  The component will call first the registered <i>on-tab-selected</i>, if defined, followed by the execute method.
 *  Either of these methods can block the activation of the tab by return a boolean false or by rejecting a returned
 *  promise. True must be returned or the returned promise must be resolved for the activation to work.
 *
 *  @module dlcui
 *  @src directives/navigation/navigationList/dlcuiNavigationTap.directive.js
 *  @controlType navigation
 *
 *  @restrict E
 *
 *  @param {array} actions An array of tab objects. Each tab must have the following properties
 *  * <b>id (Required) -</b> The id of the action item
 *  * <b>label -</b> The text label to display with the item
 *  * <b>execute or href -</b> Either a execute method can be provided or an href string value. The execute
 *  method can return a boolean to control whether an item is displayed as <i>activated</i> or a agnualr promise.
 *  One of these properties must be defined if children is not defined and none should be defined if children is
 *  defined.
 *  The calback function should be used if neither the execute or href is used or the developer can rely only
 *  on the selectedTab two way binding value to track the selected tab.
 *  * <b>tooltip -</b> The tooltip to display when user hovers over an action item.
 *  * <b>hide -</b> Set this to true to hide the item.
 *  * <b>disabled -</b> Set this to true to disable the item.
 *
 *  ```javascript
 *  actions = [{
 *      id: 'Overview',
 *      label: 'Overview',
 *      tooltip: 'Display the Overview for the specified item',
 *      disabled: false,
 *      hide: false,
 *      href: '/overview'
 *    },
 *    {
 *      id: 'Status',
 *      label: 'Status',
 *      execute: function() {
 *         $scope.renderStatusContents();   // Developer could render contents manually or change the route state.
 *         return true;           // A angular promise can also be returned at this point
 *      },
 *      disabled: true
 *    }
 *    ];
 *  ```
 *
 *  @param {string=} justify Optional value that defines how to position items horizontally and can be accessed using
 *  one of the following constant values through the angular constant DLCUI_FLEXBOX_JUSTIFY,
 *  * 'space-between' or DLCUI_FLEXBOX_JUSTIFY.spaceBetween (Default) - Position toolbar items so they flow with spaces
 *  between them but with no space before the first nor the last toolbar item.
 *  * 'space-around' or DLCUI_FLEXBOX_JUSTIFY.spaceAround - Position items so they flow with space between them and with
 *  space before the first item and a space after the last toolbar item.
 *  * 'flex-start' or DLCUI_FLEXBOX_JUSTIFY.flexStart - Position items to flow from the start of the container with
 *  no spaces between the toolbar items nor before the first and last toolbar items.
 *  * 'flex-end' or DLCUI_FLEXBOX_JUSTIFY.flexEnd - Position items to flow at the end of the container with no spaces.
 *  * 'center' or DLCUI_FLEXBOX_JUSTIFY.center - Position items to the middle of the toolbar with no space between
 *  them but with spaces before the first toolbar item and a space after the last toolbar item.
 *  @param {Object=} closeOptions An optional action object that represents the close
 *  action and displays the 'X' icon and where the developer can define the following json object,
 *  ```javascript
 *  {
 *    tooltip: 'A Tooltip for the close button and is optional',
 *    disabled: false,    // Optional value to enable/disable the close button
 *    hide: false         // Optional value to hide the close button based on requirements
 *  }
 *  ```
 *
 *  This option does not allow you to specify an execute function and the callback option onCloseClick() can be used
 *  to monitor clicks on this item.
 *
 *  The close Icon will not be displayed if this json option is not supplied or if the hide property is set to
 *  true.
 *
 *  You may point this to an empty json object with no optiones defined and the close button will appear.
 *  @param {Function=} onCloseClick A callback method that is called when the user clicks the 'Close Icon'.
 *  The close icon will only be display if this function is specify.
 *  @param {Function=} onTabSelected A callback function that is called when a tab is selected and can be used to
 *  block a selection from occuring. It can be used in addition to the action item execute() or href property or
 *  in leue off.
 *  The function is called with onTabSelected(id) and id contains the id of the action item and it can return a
 *  boolean only, promise is not supported for this callback function.
 *  @param {string=} selectedTab The currently selected tab with a value that relates to the action.id.
 *  This uses two way binding so the currently selected tab can be changed by modifying this value in the parent
 *  scope.
 *
 *  @example
 *  <h3>Basic navigation tab using A Close Button and Close Callback</h3>
 *  <example name='navigationTab'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-tab actions="navigationActions" close-options="closeOptions" on-close-click="onClose($event)">
 *          Execute Example With Close Option
 *        </dlcui-navigation-tab>
 *        <div class="dlcui-content">
 *          <p ng-if="displayText && displayText.length">
 *            <span>You clicked on <b>{{displayText}}</b></span>
 *          </p>
 *          <p>Block Transitions: <input type="checkbox"
 *                                       name="vehicle"
 *                                       ng-model="blockTabTransitions">
 *          </p>
 *          <p>Select a tab option above...........</p>
 *        </div>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.displayText = null;
 *
 *        $scope.blockTabTransitions = false;
 *
 *        $scope.closeOptions = true;
 *
 *        $scope.onClose = function () {
 *          $scope.displayText = 'Close while on tab ' + $scope.displayText;
 *        };
 *
 *        $scope.navigationActions = [
 *          {
 *            id: 'overview',
 *            label: 'Overview',
 *            tooltip: 'Display the Overview',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                 $scope.displayText = 'Overview';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'desktops',
 *            label: 'Desktops',
 *            tooltip: 'Display the Desktops',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Desktops';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'hosts',
 *            label: 'Hosts',
 *            tooltip: 'Display the Hosts',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Hosts';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'sessions',
 *            label: 'Sessions',
 *            tooltip: 'Display the Sessions',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Sessions';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .wrapper {
 *      height: 300px;
 *      width: 100%;
 *    }
 *  </file>
 *</example>
 *
 * @example
 *  <h3>Basic navigation tab using execute and boolean return and Tooltips</h3>
 *  <example name='navigationTab'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-tab actions="navigationActions">
 *          Execute Example
 *        </dlcui-navigation-tab>
 *        <div class="dlcui-content">
 *          <p ng-if="displayText && displayText.length">
 *            <span>You clicked on <b>{{displayText}}</b></span>
 *          </p>
 *          <p>Block Transitions: <input type="checkbox"
 *                                       name="vehicle"
 *                                       ng-model="blockTabTransitions">
 *          </p>
 *          <p>Select a tab option above...........</p>
 *        </div>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.displayText = null;
 *
 *        $scope.blockTabTransitions = false;
 *
 *        $scope.navigationActions = [
 *          {
 *            id: 'overview',
 *            label: 'Overview',
 *            tooltip: 'Display the Overview',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                 $scope.displayText = 'Overview';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'desktops',
 *            label: 'Desktops',
 *            tooltip: 'Display the Desktops',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Desktops';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'hosts',
 *            label: 'Hosts',
 *            tooltip: 'Display the Hosts',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Hosts';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'sessions',
 *            label: 'Sessions',
 *            tooltip: 'Display the Sessions',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Sessions';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .wrapper {
 *      height: 300px;
 *      width: 100%;
 *    }
 *  </file>
 *</example>
 *
 * @example
 *  <h3>Basic navigation tab using execute with promise return</h3>
 *  <example name='navigationTabExecutePromise'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-tab actions="navigationActions">
 *          Angular Promise Example
 *        </dlcui-navigation-tab>
 *        <div class="dlcui-content">
 *          <p ng-if="displayText && displayText.length">
 *            <span>You clicked on <b>{{displayText}}</b></span>
 *          </p>
 *          <p>Block Transitions: <input type="checkbox"
 *                                       name="vehicle"
 *                                       ng-model="blockTabTransitions">
 *          </p>
 *          <p>
 *            Select a tab option above
 *            (<b>Hosts</b> will take a little longer since it works on a timeout of 1 second and uses a promise)...
 *          </p>
 *        </div>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates, $q, $timeout) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.displayText = null;
 *
 *        $scope.blockTabTransitions = false;
 *
 *        $scope.navigationActions = [
 *          {
 *            id: 'overview',
 *            label: 'Overview',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                 $scope.displayText = 'Overview';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'desktops',
 *            label: 'Desktops',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Desktops';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'hosts',
 *            label: 'Hosts',
 *            execute: function() {
 *
 *              if (!$scope.blockTabTransitions) {
 *                  var defer = $q.defer();
 *                  $timeout(function() {
 *                    $scope.displayText = 'Hosts, with promise';
 *                    defer.resolve();
 *                  }, 1000);
 *                  return defer.promise;
 *              }
 *
 *              return false;           // We can mix the return types
 *            }
 *          },
 *          {
 *            id: 'sessions',
 *            label: 'Sessions',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Sessions';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .wrapper {
 *      height: 300px;
 *      width: 100%;
 *    }
 *  </file>
 *</example>
 *
 * @example
 *  <h3>Basic navigation tab using callback</h3>
 *  <example name='navigationTabCallback'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-tab actions="navigationActions" on-tab-selected="onTabSelected(id, label)">
 *          Callback Example
 *        </dlcui-navigation-tab>
 *        <div class="dlcui-content">
 *          <p ng-if="displayText && displayText.length">
 *            <span>You clicked on <b>{{displayText}}</b></span>
 *          </p>
 *          <p>Block Transitions: <input type="checkbox"
 *                                       name="vehicle"
 *                                       ng-model="blockTabTransitions">
 *          </p>
 *          <p>Select a tab option above...........</p>
 *        </div>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.displayText = null;
 *
 *        $scope.blockTabTransitions = false;
 *
 *        $scope.onTabSelected = function(id, label) {
 *          if (!$scope.blockTabTransitions) {
 *            $scope.displayText = label;
 *          }
 *          return !$scope.blockTabTransitions;
 *        };
 *
 *        $scope.navigationActions = [
 *          {
 *            id: 'overview',
 *            label: 'Overview'
 *          },
 *          {
 *            id: 'desktops',
 *            label: 'Desktops'
 *          },
 *          {
 *            id: 'hosts',
 *            label: 'Hosts'
 *          },
 *          {
 *            id: 'sessions',
 *            label: 'Sessions'
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .wrapper {
 *      height: 300px;
 *      width: 100%;
 *    }
 *  </file>
 *</example>
 *
 * @example
 *  <h3>Basic navigation with Pre-selected tab</h3>
 *  <example name='navigationTabCallbackAndExecute'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-tab actions="navigationActions"
 *                            on-tab-selected="onTabSelected(id, label)"
 *                            selected-tab="selectedTab">
 *          Pre-selected Tab Example
 *        </dlcui-navigation-tab>
 *        <div class="dlcui-content">
 *          <p ng-if="displayText && displayText.length">
 *            <span>You clicked on <b>{{displayText}}</b></span>
 *          </p>
 *          <p>Block Transitions: <input type="checkbox"
 *                                       name="vehicle"
 *                                       ng-model="blockTabTransitions">
 *          </p>
 *          <p>
 *            Select a tab option above (<b>overview</b> will execute some extra work)...........
 *          </p>
 *        </div>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.displayText = null;
 *
 *        $scope.blockTabTransitions = false;
 *
 *        $scope.onTabSelected = function(id, label) {
 *          if (!$scope.blockTabTransitions) {
 *            $scope.displayText = label;
 *          }
 *          return !$scope.blockTabTransitions;
 *        };
 *
 *        $scope.navigationActions = [
 *          {
 *            id: 'overview',
 *            label: 'Overview',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                 $scope.displayText += ', first the callback method was called, then the execute method.';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'desktops',
 *            label: 'Desktops'
 *          },
 *          {
 *            id: 'hosts',
 *            label: 'Hosts'
 *          },
 *          {
 *            id: 'sessions',
 *            label: 'Sessions'
 *          }
 *        ];
 *
 *        $scope.selectedTab = 'desktops';
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .wrapper {
 *      height: 300px;
 *      width: 100%;
 *    }
 *  </file>
 *</example>
 *
 * @example
 *  <h3>Basic navigation tab using two way binding</h3>
 *  <example name='navigationTabTwoWayBinding'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-tab actions="navigationActions" selected-tab="displayText">
 *          Two Way Binding Example
 *        </dlcui-navigation-tab>
 *        <div class="dlcui-content">
 *          <p ng-if="displayText && displayText.length">
 *            <span>You clicked on <b>{{displayText}}</b></span>
 *          </p>
 *          <p>
 *            Change the id to transition:
 *            <select name="singleSelect" ng-model="displayText">
 *              <option ng-repeat="option in navigationActions" value="{{option.id}}">{{option.label}}</option>
 *            </select>
 *          </p>
 *        </div>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.displayText = null;
 *
 *        $scope.blockTabTransitions = false;
 *
 *        $scope.onTabSelected = function(id, label) {
 *          if (!$scope.blockTabTransitions) {
 *            $scope.displayText = label;
 *          }
 *          return !$scope.blockTabTransitions;
 *        };
 *
 *        $scope.navigationActions = [
 *          {
 *            id: 'overview',
 *            label: 'Overview'
 *          },
 *          {
 *            id: 'desktops',
 *            label: 'Desktops'
 *          },
 *          {
 *            id: 'hosts',
 *            label: 'Hosts'
 *          },
 *          {
 *            id: 'sessions',
 *            label: 'Sessions'
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .wrapper {
 *      height: 300px;
 *      width: 100%;
 *    }
 *  </file>
 *</example>
 *
 * @example
 *  <h3>Basic navigation tab without transclusion</h3>
 *  <example name='navigationTabNoTransclusion'>
 *    <file name='index.html'>
 *      <div class="wrapper">
 *        <dlcui-navigation-tab actions="navigationActions">
 *        </dlcui-navigation-tab>
 *        <div class="dlcui-content">
 *          <p ng-if="displayText && displayText.length">
 *            <span>You clicked on <b>{{displayText}}</b></span>
 *          </p>
 *          <p>Block Transitions: <input type="checkbox"
 *                                       name="vehicle"
 *                                       ng-model="blockTabTransitions">
 *          </p>
 *          <p>Select a tab option above...........</p>
 *        </div>
 *      </div>
 *    </file>
 *
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiApplicationFrameStates) {
 *
 *        // Force the navigation list to display the logo
 *        dlcuiApplicationFrameStates.currentMastheadStateClass = 'dlcui-masthead-closed';
 *
 *        $scope.displayText = null;
 *
 *        $scope.blockTabTransitions = false;
 *
 *        $scope.navigationActions = [
 *          {
 *            id: 'overview',
 *            label: 'Overview',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                 $scope.displayText = 'Overview';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'desktops',
 *            label: 'Desktops',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Desktops';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'hosts',
 *            label: 'Hosts',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Hosts';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          },
 *          {
 *            id: 'sessions',
 *            label: 'Sessions',
 *            execute: function() {
 *              if (!$scope.blockTabTransitions) {
 *                  $scope.displayText = 'Sessions';
 *              }
 *              return !$scope.blockTabTransitions;
 *            }
 *          }
 *        ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .wrapper {
 *      height: 300px;
 *      width: 100%;
 *    }
 *  </file>
 *</example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiNavigationTab', ['dlcuiBaseTemplatePath', 'dlcuiFlexbox', '$window', 'DLCUI_FLEXBOX_JUSTIFY', function (dlcuiBaseTemplatePath,
                                           dlcuiFlexbox,
                                           $window,
                                           DLCUI_FLEXBOX_JUSTIFY) {
    return {
      templateUrl: [dlcuiBaseTemplatePath, 'dlcuiNavigationTab.directive.html'].join(''),
      restrict: 'E',
      replace: true,
      transclude: true,
      scope: {
        actions: '=',
        closeOptions: '=?',
        justify: '@',
        onTabSelected: '&',
        onCloseClick: '&',
        selectedTab: '=?'
      },
      link: function (scope, element) {
        // Set the justification
        dlcuiFlexbox.updateJustification(scope.justify, element, DLCUI_FLEXBOX_JUSTIFY.spaceBetween);

        /**
         * Selects the specified action and un-selects all the other actions
         * @param {!Object} action The action to select
         * @private
         */
        function selectAction(action) {
          if (dlcui.isStringWithLength(action.href)) {
            $window.location.href = action.href;
          }
          scope.uiSelectedTab = action.id;
          scope.selectedTab = action.id;
        }

        /**
         * Determines the result type and uses that to call the specified callback with true or false.
         * @param {*} result The result of the function execution.
         * @param {!Function} handlerFn The function to call with the result.
         * @private
         */
        function handleResult(result, handlerFn) {
          if (dlcui.isObject(result) && dlcui.isFunction(result.then)) {
            result.then(function () {
              handlerFn(true);
            }, function () {
              handlerFn(false);
            });
          } else {
            handlerFn(result);
          }
        }

        /**
         * Called to select a specific action and execute the associated call-backs.
         * @param {!Object} action The associated action been selected.
         * @returns {!Boolean} True if the action execution returned a positive value.
         */
        function selectActionAndExecute (action) {
          if (action) {
            if (action.id === scope.uiSelectedTab) {
              return false;
            }

            var results = true;
            handleResult(scope.onTabSelected({
              id: action.id,
              label: action.label
            }), function (result) {
              if (dlcui.isBoolean(result) && !result) {
                results = false;
              } else if (dlcui.isFunction(action.execute)) {
                handleResult(action.execute(), function (result) {
                  if (result) {
                    selectAction(action);
                  } else {
                    results = false;
                  }
                });
              } else {
                selectAction(action);
              }
            });

            return results;
          }

          return false;
        }

        /**
         * Finds the actions based on its id and selects the id
         * @param {!String} id The id to locate.
         * @private
         */
        function selectActionUsingId(id) {
          if (id) {
            angular.forEach(scope.actions, function (action) {
              if (action.id === id) {
                selectActionAndExecute(action);
              }
            });
          }
        }


        /**
         * Called when a tab is clicked.
         * @param {Event} event The click event
         * @param {!Object} action The associated action been selected.
         */
        scope.selectActionClick = function (event, action) {
          if (!selectActionAndExecute(action) && event) {
            event.preventDefault();
          }
        };

        /**
         * Called when the close button is clicked.
         * @param {$event} event The event linked to the click.
         */
        scope.closeClick = function (event) {
          scope.onCloseClick({
            $event: event
          });
        };

        if (!scope.selectedTab && dlcui.isArrayWithLength(scope.actions)) {
          scope.selectedTab = scope.actions[0].id;
        }
        selectActionUsingId(scope.selectedTab);

        scope.$watch('selectedTab', function(newValue, oldValue) {
          if (newValue !== oldValue && newValue !== scope.uiSelectedTab) {
            if (!newValue && dlcui.isArrayWithLength(scope.actions)) {
              newValue = scope.actions[0].id;
            }
            selectActionUsingId(newValue);
          }
        });
      }
    };
  }]);
;'use strict';
angular.module('dell.ngclarity.directives').directive('dlngLeafRack', ['dlcuiBaseTemplatePath', '$timeout', function (dlcuiBaseTemplatePath,$timeout) {
   leafRackController.$inject = ['$scope'];
   function link(scope, element, attr){
	  var timeout = $timeout(function(){ 
				element.find(".dlngswitch").contextmenu(function(e) {
				  e.preventDefault();

		    /*   var menu = $(".menu"); 

		       //hide menu if already shown
		       menu.hide(); 
		       
		       //get x and y values of the click event
		       var pageX = e.pageX;
		       var pageY = e.pageY;

		       //position menu div near mouse cliked area
		       menu.css({top: pageY , left: pageX});

		       var mwidth = menu.width();
		       var mheight = menu.height();
		       var screenWidth = $(window).width();
		       var screenHeight = $(window).height();

		       //if window is scrolled
		       var scrTop = $(window).scrollTop();

		       //if the menu is close to right edge of the window
		       if(pageX+mwidth > screenWidth){
		       	menu.css({left:pageX-mwidth});
		       }

		       //if the menu is close to bottom edge of the window
		       if(pageY+mheight > screenHeight+scrTop){
		       	menu.css({top:pageY-mheight});
		       }

		       //finally show the menu
		       menu.show();*/
				});
       }, 2000);
	  
	// element.find(".dlngrack>.switchescontainer>.switchcontainer>.switch").contextmenu(function() {
	//  alert( "Handler for .contextmenu() called." );
	//});
   }
   function leafRackController($scope){
	   $scope.showItem=function(){
		 alert("I am shown");  
	   }
   }
   return {
	templateUrl: [dlcuiBaseTemplatePath,'directives/network/leafrack/dlngLeafRack.directive.html'].join(''),
    restrict: 'E',
    scope: {
		options: '='
	},
	link:link,
	controller:leafRackController
  };
}]);

;'use strict';
angular.module('dell.ngclarity.directives').directive('dlngSpineRack', ['dlcuiBaseTemplatePath', '$timeout', function (dlcuiBaseTemplatePath,$timeout) {
   function link(scope, element, attr){
	  var timeout = $timeout(function(){ 
				element.find(".dlngswitch").contextmenu(function(e) {
				  e.preventDefault();
                });
		      
       }, 2000);
	  
	// element.find(".dlngrack>.switchescontainer>.switchcontainer>.switch").contextmenu(function() {
	//  alert( "Handler for .contextmenu() called." );
	//});
   }
   return {
	templateUrl: [dlcuiBaseTemplatePath,'directives/network/spinerack/dlngSpineRack.directive.html'].join(''),
    restrict: 'E',
    scope: {
		options: '='
	},
	link:link
  };
}]);

;  /**
 * @ngdoc directive
 * @module dlcui.controls
 * @name badge
 * @src directives/output/badge/badge.js
 * @restrict EA
 * @controlType presentational
 * @transclude Badge content
 *
 * @description The Badge displays an important value, like a count of objects or notifications. It is closely related
 * to the Label, which is meant for more general use cases.
 *
 * @param {string=} dlcuiType - One of
 * - `primary`: blue
 * - `success`: green
 * - `help`: teal
 * - `warning`: yellow
 * - `danger`: red
 *
 * By default, badges are gray.
 *
 * @example
 * <h3>Badge types</h3>
 * <example name="badgeTypes">
 *   <file name="index.html">
 *     <p><dlcui-badge>424</dlcui-badge> <small>Default</small></p>
 *     <p><dlcui-badge dlcui-type="primary">424</dlcui-badge> <small>Primary</small></p>
 *     <p><dlcui-badge dlcui-type="success">424</dlcui-badge> <small>Success</small></p>
 *     <p><dlcui-badge dlcui-type="help">424</dlcui-badge> <small>Help</small></p>
 *     <p><dlcui-badge dlcui-type="warning">424</dlcui-badge> <small>Warning</small></p>
 *     <p><dlcui-badge dlcui-type="danger">424</dlcui-badge> <small>Danger</small></p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 *   <file name="styles.css">
 *     p {
 *       margin: 5px 0;
 *     }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Badges with icons</h3>
 * Badges may contain icons, but often a value by itself is sufficient. (See the last example.)
 * <example name="badgesWithIcons">
 *   <file name="index.html">
 *     <p><dlcui-badge>424 <dlcui-icon icon="times-circle"></dlcui-icon></dlcui-badge> <small>Events</small></p>
 *     <p><dlcui-badge dlcui-type="primary"><dlcui-icon icon="rocket"></dlcui-icon> 3,459</dlcui-badge> <small>Launches</small></p>
 *     <p><dlcui-badge dlcui-type="success">23 <dlcui-icon icon="envelope"></dlcui-icon></dlcui-badge> <small>Messages</small></p>
 *     <p><dlcui-badge dlcui-type="help">7 <dlcui-icon icon="question-circle"></dlcui-icon></dlcui-badge> <small>Support Cases</small></p>
 *     <p><dlcui-badge dlcui-type="warning">31 <dlcui-icon icon="warning"></dlcui-icon></dlcui-badge> <small>Warnings</small></p>
 *     <p><dlcui-badge dlcui-type="danger">392</dlcui-badge> <small>Errors</small></p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 *   <file name="styles.css">
 *     p {
 *       margin: 5px 0;
 *     }
 *   </file>
 * </example>
 */

'use strict';
angular.module('dell.ngclarity.directives').directive('dlcuiBadge', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/output/badge/dlcuiBadge.directive.html'].join(''),
    restrict: 'EA',
    transclude: true,
    scope: {},
    bindToController: {
      dlcuiType: '@'
    },
    controllerAs: 'badge',
    controller: function controller() {}
  };
}]);
;  /**
 * @ngdoc directive
 * @name icon
 * @description The Icon is a helper to use an icon from the CUI icon set.
 *
 * @module cui.controls
 * @src directives/output/icon/icon.js
 * @controlType presentational
 * @restrict E
 *
 * @param {string} icon - The name of the icon.
 *
 * If you need to use a custom icon set, we have the ability to register prefixes for the Icon:
 *
 * The CUI Icon works by taking the `icon` attribute value and prefixing it with `dldlcui-icon-image-image--` as a class. For example
 * (generalized):
 *
 * ```html
 * <dlcui-icon-image icon="flag"></dlcui-icon-image>
 * ```
 *
 * becomes
 *
 * ```html
 * <i class="dlcui-icon-image-image dlcui-icon-image-image--flag"></i>
 * ```
 *
 * However, if you inject the cuiFontIcon service and call the function `registerPrefix` on that object:
 *
 * ```js
 * cuiFontIcon.registerPrefix('custom--', 'custom--base-class');
 * ```
 *
 * Then
 *
 * ```html
 * <dlcui-icon-image icon="custom--weird-icon"></dlcui-icon-image>
 * ```
 *
 * becomes
 *
 * ```html
 * <i class="custom--weird-icon custom--base-class"></i>
 * ```
 *
 * (All parameters after the first are recognized as base classes and added to the matched prefix.)
 *
 * This is especially useful for custom icons in CUI components that use CUI Icons, such as the Navigation List.
 * Also, you're now free to use your own icon font without worry about conflicting with CUI's.
 *
 * @param {string=} color - The color of the icon. One of:
 * - `(undefined|invalid)` - Inherit from parent element
 * - `gray`
 * - `blue`
 * - `yellow`
 * - `red`
 * - `green`
 * - `black`
 * - `orange`
 * - `violet`
 * - `white`
 *
 * @param {string=} size - The size of the icon, e.g. `100%`, `3em`, or `14px`.
 *
 * @example
 * <h3>Inline icons</h3>
 * <example name="inlineIcons">
 *   <file name="index.html">
 *     I took a <dlcui-icon-image icon="rocket"></dlcui-icon-image> from the <dlcui-icon-image icon="globe"></dlcui-icon-image> to the <dlcui-icon-image icon="moon-o"></dlcui-icon-image>.
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Icons with color and size</h3>
 *
 * Since icons are vector graphics, any size works well.
 *
 * <example name="colorSizeIcons">
 *   <file name="index.html">
 *     <div class="text-center">
 *       <dlcui-icon-image icon="dell-halo" color="white" size="500px"></dlcui-icon-image>
 *     </div>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       background-color: #007db8;
 *     }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Available icons</h3>
 *
 * This example uses the `cuiDataSourceService` and some native Angular filtering.
 *
 * <example name="allIcons">
 *   <file name="index.html">
 *     <cui-textbox ng-model="vm.filterText" placeholder="Search icons..."></cui-textbox><br><br>
 *     <div class="docs-icons">
 *       <div class="docs-icon" ng-repeat="icon in vm.icons | filter: { name: vm.filterText } | orderBy: '+name'" title="{{icon.name}}">
 *         <dlcui-icon-image icon="{{icon.name}}" color="primary" size="48px"></dlcui-icon-image>
 *         <span class="docs-icon-name">{{icon.name}}</span>
 *         <div class="docs-icon-aliases" ng-if="icon.aliases">
 *           <span class="docs-icon-heading">aliases</span>
 *           <span class="docs-icon-name-alt">{{icon.aliases}}</span>
 *         </div>
 *         <div class="docs-icon-deprecated" ng-if="icon.deprecated">
 *           <span class="docs-icon-heading">deprecated</span>
 *           <span class="docs-icon-name-alt">{{icon.deprecated}}</span>
 *         </div>
 *         <div class="docs-icon-wasnamed" ng-if="icon.wasNamed">
 *           <span class="docs-icon-heading">was named</span>
 *           <span class="docs-icon-name-alt">{{icon.wasNamed}}</span>
 *         </div>
 *         <span class="docs-icon-new" ng-if="icon.new">new</span>
 *       </div>
 *     </div>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui']).
 *       controller('AppCtrl', function(cuiDataSourceService) {
 *         var vm = this;
 *         cuiDataSourceService('/assets/icons.json').all().then(function(data) {
 *           data.icons.forEach(function(icon) {
 *             icon.aliases = angular.isArray(icon.aliases) ? icon.aliases.join(', ') : icon.aliases;
 *             icon.deprecated = angular.isArray(icon.deprecated) ? icon.deprecated.join(', ') : icon.deprecated;
 *           });
 *           vm.icons = data.icons;
 *         });
 *       });
 *   </file>
 *   <file name="styles.css">
 *     .docs-icon {
 *       border: 1px #f0f0f0 solid;
 *       display: inline-block;
 *       height: 154px;
 *       margin: 0 8px 8px 0;
 *       padding: 8px;
 *       text-align: center;
 *       width: 100px;
 *       vertical-align: top;
 *     }
 *     .docs-icon .dldlcui-icon-image-image {
 *       display: block;
 *       text-align: center;
 *     }
 *     .docs-icon-name,
 *     .docs-icon-name-alt {
 *       color: #333;
 *       display: block;
 *       font-size: 12px;
 *       font-weight: 500;
 *       line-height: 13px;
 *     }
 *     .docs-icon-heading,
 *     .docs-icon-new {
 *       color: #bbb;
 *       display: block;
 *       font-size: 9px;
 *       font-weight: 500;
 *       line-height: 1;
 *       text-transform: uppercase;
 *     }
 *     .docs-icon-heading:after {
 *       content: ":";
 *     }
 *     .docs-icon-name-alt {
 *       color: #666;
 *       font-size: 11px;
 *       font-weight: 300;
 *       line-height: 12px;
 *       margin-top: 2px;
 *     }
 *     .docs-icon-name,
 *     .docs-icon-aliases,
 *     .docs-icon-deprecated,
 *     .docs-icon-wasnamed,
 *     .docs-icon-new {
 *       margin: 6px 0 0 0;
 *     }
 *     .docs-icon-new {
 *       color: #6ea204; // dell green
 *     }
 *   </file>
 * </example>
 **/
 
 angular.module('dell.ngclarity.directives').directive('dlcuiFontIcon', ['dlcuiBaseTemplatePath', 'dlcuiFontIconFactory', function (dlcuiBaseTemplatePath, dlcuiFontIconFactory) {
  function link(scope, element) {
    scope.$watch('icon', function (icon, oldIcon) {
      element.find('i').removeClass(dlcuiFontIconFactory.getIconClass(oldIcon));
      element.find('i').addClass(dlcuiFontIconFactory.getIconClass(icon));
    });
  }

  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/output/fonticon/dlcuiFontIcon.directive.html'].join(''),
    restrict: 'EA',
    scope: {
      icon: '@',
      color: '@',
      size: '@'
    },
    link: link
  };
}]);
;'use strict';
angular.module('dell.ngclarity.directives').factory('dlcuiFontIconFactory', function() {
  return {
    prefixes: [],

    registerPrefix: function registerPrefix() {
      var prefix = arguments[0];
      var classes = arguments.length > 1 ? Array.prototype.slice.call(arguments, 1) : [];

      this.prefixes.push({
        name: prefix,
        classes: classes || []
      });
    },

    getIconClass: function getIconClass(icon) {
      if (!angular.isString(icon)) {
        return null;
      }

      for (var i = 0; i < this.prefixes.length; i++) {
        if (icon.indexOf(this.prefixes[i].name) === 0) {
          var classes = this.prefixes[i].classes.join(' ');
          return icon + ' ' + classes;
        }
      }

      return 'dlcui-font-icon--' + icon;
    }
  };
});;/**
 * @ngdoc directive
 * @name icon
 * @module dlcui
 * @src directives/output/icon/dlcuiIcon.directive.js
 * @controlType presentational
 * @restrict E
 *
 * @param {string} icon The name of the icon which translates to the font class or it can be the svg id, in
 * which case the svg attribute must be set to true.
 *
 * If you need to use a custom icon set, we have the ability to register prefixes for the Icon:
 *
 * The CUI Icon works by taking the `icon` attribute value and prefixing it with `dlcui-icon-` as a class.
 * For example (generalized),
 *
 * ```html
 * <dlcui-icon icon="flag"></dlcui-icon>
 * ```
 * becomes
 * ```html
 * <i class="dlcui-icon-flag"></i>
 * ```
 *
 * However, if you inject the dlcuiIcon service and call the function `registerPrefix` on that object:
 * ```js
 * dlcuiIcon.registerPrefix('custom-', 'custom-base-class');
 * ```
 * Then
 * ```html
 * <dlcui-icon icon="custom-weird-icon"></dlcui-icon>
 * ```
 * becomes
 * ```html
 * <i class="custom-weird-icon custom-base-class"></i>
 * ```
 *
 * (All parameters after the first are recognized as base classes and added to the matched prefix.)
 *
 * This is especially useful for custom icons in CUI components that use CUI Icons, such as the Navigation List.
 * Also, you're now free to use your own icon font without worry about conflicting with CUI's.
 *
 * @param {string=} type The icon type such as 'image', 'svg' or 'font' the default will calculated
 *
 * @param {string=} color The color of the icon and can be any valid css value such as,
 * ** `(undefined|invalid)` - Inherit
 * ** `gray`
 * ** `blue`
 * ** `yellow`
 * ** `red`
 * ** `green`
 * ** `black`
 * ** `orange`
 * ** `violet`
 * ** `white`
 *
 * @param {string=} size The size of the icon, e.g. `'100%'`, `'3em'` or `'14px'`.
 *
 * @description
 * Displays either a svg icon image or an image based on a font using the dlcui icon design concepts..
 *
 * If the image type is an svg then the internal directive <cc-svg-icon> is used and when the design uses an font icon
 * then the internal cui <dlcui-icon> directive is used.
 *
 * @example
 * <h3>Inline icons</h3>
 * <example name='inlineIcons'>
 * <file name='index.html'>
 *    I took a <dlcui-icon icon="rocket"></dlcui-icon> from the <dlcui-icon icon="globe"></dlcui-icon> to the
 *    <dlcui-icon icon="moon" type="font"></dlcui-icon> and took some photos with my large
 *    <dlcui-icon icon="#ic_camera" type="svg" size="32px"></dlcui-icon>.
 * </file>
 * <file name='app.js'>
 *  angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function() {});
 * </file>
 * </example>
 *
 * @example
 * <h3>Dynamically Changing Icon</h3>
 * <example name='inlineIconsInterval'>
 * <file name='index.html'>
 *    Changing icon every 1 seconds <dlcui-icon icon='{{iconName}}' size="32px"></dlcui-icon>.
 * </file>
 * <file name='app.js'>
 *  angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function($scope, $interval) {
 *
 *      $scope.iconName = 'rocket';
 *
 *      $interval(function() {
 *        if ($scope.iconName === 'rocket') {
 *          $scope.iconName = '#ic_camera'
 *        } else {
 *          $scope.iconName = 'rocket'
 *        }
 *      }, 1000);
 *    });
 * </file>
 * <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Dynamically Changing Icon Using Callback</h3>
 * <example name='inlineIconsIntervalCallback'>
 * <file name='index.html'>
 *    <div ng-repeat="name in iconNames track by $index">
 *        Changing icon every 1 seconds <dlcui-icon icon='{{getIconName(name)}}' size="32px"></dlcui-icon>
 *    </div>
 * </file>
 * <file name='app.js'>
 *  angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function($scope, $interval) {
 *
 *      $scope.iconNames = ["dell-halo","glass","music","search","envelope",
 *      "heart","star","star-empty","user","film","th-large"];
 *
 *      $scope.state = {
 *        showCamera: false
 *      };
 *
 *      // Returns the icon name
 *      $scope.getIconName = function (name) {
 *        if ($scope.state.showCamera) {
 *          return '#ic_camera';
 *        }
 *
 *        return name;
 *      };
 *
 *      $interval(function() {
 *        $scope.state.showCamera = !$scope.state.showCamera;
 *      }, 1000);
 *    });
 * </file>
 * <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>External SVG file</h3>
 * <example name='inlineIcons'>
 * <file name='index.html'>
 *    <dlcui-icon icon='../../dlcui/css/images/Adobe_PDF_Icon.svg' svg='true' size="64px"></dlcui-icon>
 * </file>
 * <file name='app.js'>
 *  angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function() {});
 * </file>
 * <file name='styles.css'>
 * body {
 *       height: auto;
 *     }
 * </file>
 * </example>
 *
 * @example
 * <h3>Raw Base 64 encode image</h3>
 * <example name='rawBase64Image'>
 * <file name='index.html'>
 *    This is a red dot using raw encode base64 data
 *    <dlcui-icon icon="{{iconData}}" size="32px">
 *    </dlcui-icon>
 * </file>
 * <file name='app.js'>
 *  angular.module('app', ['dlcui'])
 *    .controller('AppCtrl', function($scope) {
 *      $scope.iconData = 'data:image/png;base64, iVBORw0KGgoAAAANSUhE' +
 *      'UgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==';
 *    });
 * </file>
 * <file name='styles.css'>
 * body {
 *       height: auto;
 *     }
 * </file>
 * </example>
 *
 * @example
 * <h3>Icons with color and size</h3>
 * <p>Since icons are scalable vector graphics, any sizes works well. The icons are, for all intents and purposes,
 * an extent of alphanumeric characters.</p>
 * <example name='colorSizeIcons'>
 * <file name='index.html'>
 * <div class='text-center'>
 * <dlcui-icon icon='dell-halo' color='white' size='500px'></dlcui-icon>
 * </div>
 * </file>
 * <file name='app.js'>
 * angular.module('app', ['dlcui'])
 * .controller('AppCtrl', function() {});
 * </file>
 * <file name='styles.css'>
 * body {
 *       background-color: #007db8;
 *       height: auto;
 *     }
 * </file>
 * </example>
 *
 * @example
 * <h3>Available HIG SVG Icons</h3>
 * <example>
 *  <file name='index.html'>
 *    <cui-text-box ng-model="filterText" placeholder="Filter icon..."></cui-text-box>
 *    <cui-text-box ng-model="size" placeholder="Icon Size..."></cui-text-box>
 *    <cui-combobox name="colorPicker"  placeholder="Select Color..." ng-model="color.selected" items="color.items">
 *    </cui-combobox><b> Note:</b> Not all the svg icon colors below will change as they are fixed internally by the
 *    that icons particular svg design.
 *    <br><br>
 *    <div class="dlcui-flex-container-grid">
 *      <div class="dlcui-flex-container-vertical icon-container dlcui-justify-center"
 *        ng-repeat="id in ids | filter: filterText">
 *        <dlcui-icon type="svg" icon="{{id}}" size="{{getSize()}}" color="{{color.selected}}"></dlcui-icon>
 *        <div>{{id}}</div>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification, $timeout) {
 *
 *          $scope.ids = [];
 *
 *          $scope.size = '32';
 *
 *          $scope.getSize = function () {
 *            var size = parseInt($scope.size, 10);
 *            if (size <= 0) {
 *              size = 32;
 *            }
 *
 *            return [size, 'px'].join('');
 *          };
 *
 *          $scope.color = {
 *            items: [{
 *                label: 'gray',
 *             }, {
 *                label: 'yellow'
 *             }, {
 *                label: 'red'
 *             }, {
 *                label: 'green'
 *             }, {
 *                label: 'black'
 *              }, {
 *                label: 'orange'
 *              }, {
 *                label: 'violet'
 *              }, {
 *                label: 'white'
 *              }, {
 *                label: 'blue'
 *              }]
 *          };
 *
 *          $timeout(function() {
 *            $('body').find('.dlcui-svg-icon-set').find('symbol').each(function() {
 *              var symbolId = $(this).attr('id');
 *              if (symbolId && symbolId.length) {
 *                $scope.ids.push('#' + symbolId);
 *              }
 *            });
 *          });
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .icon-container {
 *      -webkit-user-select:all;
 *      -moz-user-select:all;
 *      -ms-user-select:all;
 *      user-select:all;
 *      margin: 5px;
 *      min-height: 60px;
 *      min-width: 280px;
 *    }
 *
 *    .icon-container:hover {
 *      background: #f5f5f5;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Available CUI icons</h3>
 * <p>This example uses the <code>cuiDataSourceService</code> and some native angular filtering.</p>
 * <example name='allIcons'>
 * <file name='index.html'>
 *  <cui-text-box ng-model="filterText" placeholder="Filter icon..."></cui-text-box>
 *  <cui-text-box ng-model="size" placeholder="Icon Size..."></cui-text-box>
 *  <cui-combobox name="colorPicker" placeholder="Select Color..." ng-model="color.selected" items="color.items">
 *  </cui-combobox>
 *  <br /><br />
 *  <div ng-repeat='icon in icons | filter: filterText | orderBy:"toString()"' title='{{icon}}' class='icon-cell'>
 *    <dlcui-icon icon="{{icon}}" size="{{getSize()}}" color="{{color.selected}}"></dlcui-icon>
 *    <div>{{icon}}</div>
 *  </div>
 * </file>
 * <file name='app.js'>
 * angular.module('app', ['dlcui']).
 * controller('AppCtrl', function($scope, cuiDataSourceService) {
 *
 *         $scope.size = '32';
 *
 *          $scope.getSize = function () {
 *            var size = parseInt($scope.size, 10);
 *            if (size <= 0) {
 *              size = 32;
 *            }
 *
 *            return [size, 'px'].join('');
 *          };
 *
 *         $scope.color = {
 *            items: [{
 *                number: 0,
 *                label: 'gray'
 *             }, {
 *                number: 1,
 *                label: 'yellow'
 *             }, {
 *                number: 2,
 *                label: 'red'
 *             }, {
 *                number: 3,
 *                label: 'green'
 *             }, {
 *                number: 4,
 *                label: 'black'
 *              }, {
 *                number: 5,
 *                label: 'orange'
 *              }, {
 *                number: 6,
 *                label: 'violet'
 *              }, {
 *                number: 7,
 *                label: 'white'
 *              }, {
 *                number: 8,
 *                label: 'blue'
 *              }]
 *          };
 *
 *         cuiDataSourceService('icons.json').all().then(function(data) {
 *          $scope.icons = data;
 *        })
 *      });
 * </file>
 * <file name='styles.css'>
 *  body {
 *    height: auto;
 *  }
 *  .icon-cell {
 *    -webkit-user-select:all;
 *    -moz-user-select:all;
 *    -ms-user-select:all;
 *    user-select:all;
 *    min-width: 125px;
 *    min-height: 85px;
 *    display: inline-block;
 *    text-align:center;
 *    padding-top: 10px;
 *  }
 *  .icon-cell > div {
 *    padding-top: 8px;
 *  }
 *  .icon-cell:hover {
 *    background: #f5f5f5;
 *  }
 * </file>
 * <file name='icons.json'>
 * ["dell-halo","glass","music","search","envelope","heart","star","star-empty","user","film","th-large",
 * "th","th-list","ok","remove","zoom-in","zoom-out","off","signal","cog","trash","home","file","time","road",
 * "download-alt","download","upload","inbox","play-circle","repeat","refresh","list-alt","lock","flag",
 * "headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print",
 * "camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right",
 * "align-justify","list","indent-left","indent-right","facetime-video","picture","pencil","map-marker","adjust",
 * "tint","edit","share","check","move","step-backward","fast-backward","backward","play","pause","stop","forward",
 * "fast-forward","step-forward","eject","chevron-left","chevron-right","plus-sign","minus-sign","remove-sign",
 * "ok-sign","question-sign","info-sign","screenshot","remove-circle","ok-circle","ban-circle","arrow-left",
 * "arrow-right","arrow-up","arrow-down","share-alt","resize-full","resize-small","plus","minus","asterisk",
 * "exclamation-sign","gift","leaf","fire","eye-open","eye-close","warning-sign","plane","calendar","random",
 * "comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder-close","folder-open",
 * "resize-vertical","resize-horizontal","bar-chart","twitter-sign","facebook-sign","camera-retro","key","cogs",
 * "comments","thumbs-up","thumbs-down","star-half","heart-empty","signout","linkedin-sign","pushpin","external-link",
 * "signin","trophy","github-sign","upload-alt","lemon","phone","check-empty","bookmark-empty","phone-sign","twitter",
 * "facebook","github","unlock","credit","rss","hdd","bullhorn","bell","certificate","hand-right","hand-left",
 * "hand-up","hand-down","circle-arrow-left","circle-arrow-right","circle-arrow-up","circle-arrow-down","globe",
 * "wrench","tasks","filter","briefcase","fullscreen","group","link","cloud","beaker","cut","copy","paper-clip",
 * "save","sign-blank","reorder","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest",
 * "pinterest-sign","google-plus-sign","google-plus","money","caret-down","caret-up","caret-left","caret-right",
 * "columns","sort","sort-down","sort-up","envelope-alt","linkedin","undo","legal","dashboard","comment-alt",
 * "comments-alt","bolt","sitemap","umbrella","paste","lightbulb","exchange","cloud-download","cloud-upload",
 * "user-md","stethoscope","suitcase","bell-alt","coffee","food","file-alt","building","hospital","ambulance",
 * "medkit","fighter-jet","beer","h-sign","plus-sign-2","double-angle-left","double-angle-right","double-angle-up",
 * "double-angle-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile",
 * "circle-blank","quote-left","quote-right","spinner","circle","reply","github-alt","folder-close-alt",
 * "folder-open-alt","expand-alt","collapse-alt","smile","frown","meh","gamepad","keyboard","flag-alt",
 * "flag-checkered","terminal","code","reply-all","star-half-full","location-arrow","crop","code-fork",
 * "unlink","question","info","exclamation","superscript","subscript","eraser","puzzle","microphone",
 * "microphone-off","shield","calendar-empty","fire-extinguisher","rocket","maxcdn","chevron-sign-left",
 * "chevron-sign-right","chevron-sign-up","chevron-sign-down","html5","css3","anchor","unlock-alt","bullseye",
 * "ellipsis-horizontal","ellipsis-vertical","rss-sign","play-sign","ticket","minus-sign-alt","check-minus",
 * "level-up","level-down","check-sign","edit-sign","external-link-sign","share-sign","compass","collapse",
 * "collapse-top","expand","euro","gbp","dollar","rupee","yen","renminbi","won","bitcoin","file-2","file-text",
 * "sort-by-alphabet","sort-by-alphabet-alt","sort-by-attributes","sort-by-attributes-alt","sort-by-order",
 * "sort-by-order-alt","thumbs-up-2","thumbs-down-2","youtube-sign","youtube","xing","xing-sign","youtube-play",
 * "dropbox","stackexchange","instagram","flickr","adn","bitbucket","bitbucket-sign","tumblr","tumblr-sign",
 * "long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android",
 * "linux","dribbble","skype","foursquare","trello","female","male","gittip","sun","moon","archive","bug",
 * "vk","weibo","renren"]
 * </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiIcon', ['dlcuiBaseTemplatePath', 'dlcuiIconFactory', function (dlcuiBaseTemplatePath, dlcuiIconFactory) {
    return {
      restrict: 'E',
      replace: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/icon/dlcuiIcon.directive.html'].join(''),
      scope: {
        icon: '@',
        color: '@',
        size: '@',
        type: '@'
      },
      link: function (scope, element) {
        /**
         * Helper to track when icon name or size changes
         * @type {null}
         * @private
           */
        var _oldValue = null;

        /**
         * The wrapper div
         * @type {*|JQuery|jQuery}
         * @private
         */
        var _iconWrapper = $(element).find('.dlcui-icon-wrapper');

        /**
         * The current font size
         * @type {string|number}
         * @private
         */
        var _fontSize = $(element).css('fontSize');

        /**
         * Last template used.
         */
        var _lastTemplate = '';

        /**
         * Builds the styles object that is appropriate for the type of image been displayed
         * @returns {!object} The style object.
         */
        function _getStyle() {
          var styles = null;
          var size = scope.size || _fontSize;
          var width = size;
          var height = size;

          if (dlcui.isStringWithLength(size) && size.indexOf(',') > 0) {
            var sizes = size.split(',');
            if (sizes && sizes.length > 1) {
              width = sizes[0].trim();
              height = sizes[1].trim();
            }
          }

          if (scope.imageType === 'font') {
            styles = {
              'font-size': width || 'default',
              'line-height': '1em',
              width: width,
              height: height
            };
          } else {
            styles = {
              width: width,
              height: height,
              'line-height': height
            };
          }

          if (dlcui.isStringWithLength(scope.color)) {
            styles.color = scope.color;
          }

          return styles;
        }

        /**
         * Update the style of the design
         * @private
         */
        function _updateCss() {
          var style = _getStyle();
          if (style) {
            angular.element(element).css(style);
          }
        }

        function _hideIcon() {
          angular.element(element).addClass('ng-hide');
        }

        function _showIcon() {
          angular.element(element).removeClass('ng-hide');
        }

        /**
         * Called to render the image itself.
         * @private
         */
        function _renderImage() {
          var html = dlcuiIconFactory.generateImageHtml(scope.imageType, scope.icon);
          if (html !== _lastTemplate) {
            _iconWrapper.html(html);
            _lastTemplate = html;
          }
        }

        /**
         * Image type that defines that html element to render.
         * @type {string}
         */
        scope.imageType = 'none';

        scope.$watchCollection('[icon, size, color]', function (newValue) {
          if (dlcui.isArrayWithLength(newValue)) {
            if (!dlcui.isArrayWithLength(_oldValue) || newValue[0] !== _oldValue[0] ||
              newValue[2] !== _oldValue[2]) {
              if (dlcui.isStringWithLength(scope.icon)) {
                scope.imageType = dlcuiIconFactory.getImageType(scope.icon, scope.type);
                _showIcon();
                _updateCss();
                _renderImage();
              } else {
                _hideIcon();
              }

              _oldValue = newValue;
            }

            if (!dlcui.isArrayWithLength(_oldValue) || newValue[1] !== _oldValue[1]) {
              _updateCss();
            }
          }
        });

        if (dlcui.isStringWithLength(scope.icon)) {
          scope.imageType = dlcuiIconFactory.getImageType(scope.icon, scope.type);
          _showIcon();
          _updateCss();
          _renderImage();
        } else {
          _hideIcon();
        }
      }
    };
  }]);
  
  /*angular.module('dell.ngclarity.directives').run(function(dlcuiIcon, dlcuiBaseTemplatePath) {
  dlcuiIcon.registerPrefix('hig-', 'icon hig');
});
*/
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiIconFactory', ['$compile', '$templateCache', 'dlcuiBaseTemplatePath', '$rootScope', function ($compile,
                                       $templateCache,
                                       dlcuiBaseTemplatePath,
                                       $rootScope) {
    /**
     * Supported image files
     * @type {string[]}
     */
    var supportImages = ['.png', '.svg', '.gif', '.bmp'];

    /**
     * Registered prefixes
     * @type {Array}
     */
    var prefixes = [];

    /**
     * The SVG template
     * @type {string}
     * @private
     */
    var _svgTemplate = $templateCache.get([dlcuiBaseTemplatePath, 'directives/output/icon/dlcuiIconSvg.template.html'].join(''));

    /**
     * The image template
     * @type {string}
     * @private
     */
    var _imgTemplate = $templateCache.get([dlcuiBaseTemplatePath, 'directives/output/icon/dlcuiIconImg.template.html'].join(''));

    /**
     * The font template
     * @type {string}
     * @private
     */
    var _fontTemplate = $templateCache.get([dlcuiBaseTemplatePath, 'directives/output/icon/dlcuiIconFont.template.html'].join(''));

    /**
     * Returns the icon classes
     * @param {!string} icon The current icon name
     * @returns {string} The icon classes to add.
     */
    function _getRegisteredClasses (icon) {
      if (dlcui.isString(icon)) {
        _.each(prefixes, function (prefix) {
          if (icon.indexOf(prefix.name) === 0) {
            return ('_ICON_' + prefix.classes.join + ' ').replace(/_ICON_/g, icon);
          }
        });
      }
      return 'cui-icon-_ICON_ cux-icon-_ICON_'.replace(/_ICON_/g, icon);
    }

    /**
     * Register a new prefix.
     * @param {!Object} prefix The prefix object that contains a name and classes
     * @private
     */
    function _registerClassPrefix (prefix) {
      dlcui.assertObject(prefix);
      dlcui.assertStringWithLength(prefix.name);
      dlcui.assertArrayWithLength(prefix.classes);

      prefixes.push(prefix);
    }

    /**
     * Verify that the svg icon set has been added to the page
     * @private
     */
    function _verifySvgSet() {
      if (!$('body').children('.dlcui-svg-icon-set').length) {
        // Load the hig svg into the page
        var scope = $rootScope.$new();
        // Obtain the hig template where the svg is wrapped in <dlcui-svg-icon-set> element.
        var higElement = angular.element($templateCache
          .get([dlcuiBaseTemplatePath, 'directives/output/icon/higWyseIcons.template.html'].join('')));
        $compile(higElement)(scope);
        $('body').prepend(higElement);
      }
    }

    /**
     * Called to determine the icon/image type based on the configured vzlue or calculated based on the name.
     * @param {!string} name The icon name value to calculcate the type for.
     * @param {?string=} optDefaultType The type if already defined and will be returned.
     * @returns {!string} The image type
     * @private
     */
    function _getImageType(name, optDefaultType) {
      dlcui.assertStringWithLength(name);
      dlcui.assertOptionalString(optDefaultType);

      var imageType = null;

      if (dlcui.isStringWithLength(optDefaultType)) {
        imageType = optDefaultType;
      } else if (dlcui.isStringWithLength(optDefaultType)) {
        imageType = optDefaultType;
      } else if (dlcui.isStringWithLength(name)) {
        var testName = name.toLowerCase();
        var pos = testName.lastIndexOf('.');
        var extension = null;
        if (pos > 0) {
          extension = testName.substr(pos);
        }
        if (testName.indexOf('#') === 0 || (testName.indexOf('#') > 0 && testName.indexOf('.svg') > 0)) {
          imageType = 'svg';  // this is the <use> svg concept
        } else if (extension && jQuery.inArray(supportImages, extension) || testName.indexOf(';base64') > 0) {
          imageType = 'image'; // user is referencing an external image
        } else {
          imageType = 'font'; // use cui font design
        }
      }
      return imageType;
    }

    /**
     * Builds an array of the icon classes to apply to the icon element.
     * @param {!string} name The icon name
     * @returns {Array} The icon classes.
     */
    function _getIconClasses (name) {
      var iconClasses = [];

      iconClasses.push(_getRegisteredClasses(name));

      return iconClasses;
    }

    /**
     * Called to render the image itself.
     * @param {!string} type The image type.
     * @param {!string} name The icon name
     * @returns {!string} the html string.
     * @private
     */
    function _generateImageHtml(type, name) {
      dlcui.assertStringWithLength(type);
      dlcui.assertStringWithLength(name);

      var template = null;
      var icon = '';
      switch (type) {
        case 'font':
          template = _fontTemplate;
          icon = _getIconClasses(name).join(' ');
          break;
        case 'image':
          template = _imgTemplate;
          icon = name;
          break;
        case 'svg':
          template = _svgTemplate;
          icon = name;
          break;
      }
      dlcui.assertStringWithLength(template);
      return dlcui.formatString(template, {
        icon: icon
      });
    }

    return {
      verifySvgSet: _verifySvgSet,
      getImageType: _getImageType,
      generateImageHtml: _generateImageHtml,
      registerClassPrefix: _registerClassPrefix
    };
  }]);
;/**
 * @ngdoc directive
 * @name svgIconSet
 * @module dlcui
 * @src directives/output/icon/svgIconSet.directive.js
 * @restrict E
 *
 * @description
 * Allows the developer to wrap a packaged svg icon set safely. The package set can be generated using the tool
 * found here https://github.com/FWeinb/grunt-svgstore
 *
 * This directive will parse the packaged set and fix all the styles by removing inner style elements and applying
 * the styles as attributes directly where needed. This is required in order for the svg symbols to render with
 * the correct colors as inner style elements are not supported.
 *
 * This directive will also <i>hide</i> the svg package after it has been inserted into the view.
 *
 * This design is used to wrap the hig icons as follows,
 * ```javascript
 *angular.module('dlcui')
 *  .run(function ($compile, $templateCache, dlcuiBaseTemplatePath, $rootScope) {
 *      // Load the hig svg into the page
 *      var scope = $rootScope.$new();
 *      // Obtain the hig template where the svg is wrapped in <dlcui-svg-icon-set> element.
 *      var higElement = angular.element($templateCache
 *        .get([dlcuiBaseTemplatePath, 'higWyseIcons.template.html'].join('')));
 *      $compile(higElement)(scope);
 *      scope.$digest();
 *      $('body').prepend(higElement);    // This makes the svg globally available for the <dlcui-svg-icon>.
 *  });
 * ```
 *
 * @example
 * <h3>Hig Icons using SVG Icons directive</h3>
 * <example>
 *  <file name='index.html'>
 *    <div class="dlcui-flex-container-vertical icon-container">
 *        <dlcui-svg-icon type="svg" icon="#dlcui_demo_svg" size="32px"></dlcui-svg-icon>
 *        <div>dlcui_demo_svg</div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *          $scope.ids = [];
 *          angular.forEach($('svg symbol'), function(symbolEl) {
 *            $scope.ids.push($(symbolEl).attr('id'));
 *          });
 *      })
 *      .run(function($compile, $templateCache, dlcuiBaseTemplatePath, $rootScope) {
 *          var html = '<dlcui-svg-icon-set><svg xmlns="http://www.w3.org/2000/svg">' +
 *              '<symbol viewBox="0 0 24 18" id="dlcui_demo_svg">' +
 *             '<title>ic_A_01_refresh_device_list</title><style type="text/css">.st0{fill:#666666;}</style>' +
 *             '<path class=".st0" d="M18 9c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6c1.4 0 2.7.5 3.7 1.3L14 ' +
 *             '6h5V1l-1.8 1.8C15.7 1.7 14 1 12 1 7.6 1 4 4.6 4 9s3.6 8 8 8 8-3.6 8-8h-2z"/>' +
 *             '</symbol>' +
 *             '</svg><dlcui-svg-icon-set>';
 *          // Load the hig svg into the page
 *          var scope = $rootScope.$new();
 *          var svgElement = angular.element(html);
 *          $compile(svgElement)(scope);
 *          scope.$digest();
 *          $('body').prepend(svgElement);    // This makes the svg globally available for the <dlcui-svg-icon>.
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: auto;
 *    }
 *
 *    .icon-container {
 *      margin: 5px;
 *      height: 60px;
 *      width: 200px;
 *    }
 *
 *  </file>
 * </example>
 */
/* eslint-disable */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiSvgIconSet', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      transclude: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/icon/svgIconSet.directive.html'].join(''),
      link: function (scope, element) {
      }
    };
  }]);

// TODO-sscott: This is a temporary hack to allow us to include the main hig svg, need to find a generic solution!
angular.module('dell.ngclarity.directives')
  .run(['dlcuiIconFactory', function (dlcuiIconFactory) {
    dlcuiIconFactory.verifySvgSet();
  }]);

;/**
 *  @ngdoc directive
 *  @name label
 *  @module dlcui
 *  @src directives/output/label/dlcuiLabel.directive.js
 *  @controlType presentational
 *  @restrict E
 *
 *  @description
 *  Label allows for a basic label to be displayed and support the truncate feature where ellipses are disaplayed
 *  when the label text is longer than the visible area.
 *
 *  @param {boolean=} truncate Whether the label should be truncated 'true' or not 'false' The default is 'false'.
 *  @param {ngDisabled=} ng-disabled Angular ng-disabled directive used to enable/disabled the component.
 *
 *  @example
 *  <h3>label</h3>
 *  <example name="label">
 *    <file name="index.html">
 *       <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *       </dlcui-checkbox>
 *       <br><br>
 *       <dlcui-label ng-disabled="!options.enabled"
 *                  label="This is a label">
 *       </dlcui-label>
 *    </file>
 *    <file name="app.js">
 *      angular.module('app', ['dlcui']).controller('AppCtrl', function ($scope) {
 *        // Track the enabled state of the label
 *        $scope.options = {
 *          enabled: true
 *        };
 *      });
 *    </file>
 *    <file name="styles.css">
 *      body {
 *        height: auto;
 *      }
 *    </file>
 *  </example>
 *
 *  @example
 *  <h3>Truncated Label</h3>
 *  <example name="labelTruncated">
 *    <file name="index.html">
 *       <dlcui-checkbox label="Enabled" ng-model="options.enabled">
 *       </dlcui-checkbox>
 *       <br><br>
 *       <dlcui-label class="dlcui-example-label"
 *                  label="{{options.label}}"
 *                  ng-disabled="!options.enabled"
 *                  truncate="true">
 *       </dlcui-label>
 *    </file>
 *    <file name="app.js">
 *      angular.module('app', ['dlcui']).controller('AppCtrl', function ($scope) {
 *        // Track the enabled state of the label
 *        $scope.options = {
 *          enabled: true,
 *          label: 'This is a label that should be truncated due to css width'
 *        };
 *      });
 *    </file>
 *    <file name="styles.css">
 *      body {
 *        height: 300px;
 *      }
 *
 *      .dlcui-example-label {
 *        width: 50px;
 *      }
 *    </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiLabel', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      transclude: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/label/dlcuiLabel.directive.html'].join(''),
      scope: {
        label: '@',
        truncate: '@',
        disabled: '=?ngDisabled'
      },
      link: function (scope, element, attrs) {
        /**
         * Tooltip content.
         */
        scope.tooltipContent = scope.label;

        /**
         * Hide the tooltip.
         * @type {boolean}
         */
        scope.tooltipHide = true;

        /**
         * The locaton of the tooltip
         * @type {string}
         */
        scope.tooltipPosition = 'bottom center';

        /**
         * Called when the mouse enters this component.
         */
        scope.onMouseEnter = function () {
          if (element[0].offsetWidth < element[0].scrollWidth) {
            scope.tooltipHide = false;
            scope.tooltipContent = scope.label;
          } else {
            scope.tooltipHide = true;
          }
        };

        /**
         * Should the label be truncated
         * @returns {boolean} True if configured to be truncated
         */
        scope.isTruncated = function () {
          return attrs.truncate === 'true';
        };
      }
    };
  }]);
; /**
 * @ngdoc directive
 * @name progressBar
 *
 * @description Display a progress bar for operations that take longer than approximately 5 seconds. Include a
 * description of the task that is running. When possible, allow users to cancel the task by clicking a cancel button.
 *
 * @module cui.controls
 * @src directives/output/progressBar/progressBar.js
 * @controlType presentational
 *
 * @restrict E
 *
 * @clarity Clarity guidelines propose the use of a more vibrant blue and green color for the respective progress bar.
 * The proposed colors are not in the Clarity 4 color palette and are only used in these two instances.
 * For sake of simplicity and consistency, CUI implements the blue and green colors in the Clarity 4 color palette.
 *
 * @param {number=} value - A value ranging from zero to 100 or `null`/`undefined`, in which case the progress bar turns
 * into an indeterminate progress bar (striped).
 * @param {string=} cuiType - The type of progress bar.
 *
 * @example
 * <h3>Regular progress bars</h3>
 * <example name="basicBrogressBar">
 *   <file name="index.html">
 *     <dlcui-loading-bar value="25"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar value="35" dlcui-type="warning"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar value="45" dlcui-type="danger"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar value="55" dlcui-type="green"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar value="65" dlcui-type="black"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar value="75" dlcui-type="violet"></dlcui-loading-bar>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Indeterminate progress bars</h3>
 * <example name="indeterminateProgressBar">
 *   <file name="index.html">
 *     <dlcui-loading-bar></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar dlcui-type="warning"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar dlcui-type="danger"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar dlcui-type="green"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar dlcui-type="black"></dlcui-loading-bar>
 *     <br>
 *     <dlcui-loading-bar dlcui-type="violet"></dlcui-loading-bar>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 * <blockquote><b>IE 9:</b> The stripes are not displayed, but the bar background is still partly transparent.</blockquote>
 * <blockquote><b>IE 10/11:</b> The bar background is white, and the stripes are replaced with animated dots. IE only
 * allows changing the color of the dots.</blockquote>
 *
 * @example
 * <h3>Loading progress bar</h3>
 * <example name="loadingProgressBar">
 *   <file name="index.html">
 *     <dlcui-loading-bar value="{{vm.value}}"></dlcui-loading-bar>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($timeout) {
 *         var vm = this;
 *         vm.value = 0;
 *         // Set new timeout for random period (between 0.5s and 1s)
 *         (function loop() {
 *           var rand = Math.round(Math.random() * 500) + 500;
 *           $timeout(function() {
 *             if (vm.value > 100) {
 *               vm.value = 100;
 *             } else if (vm.value === 100) {
 *               vm.value = 0;
 *             } else {
 *               var newValue = vm.value + Math.round(Math.random() * 25) + 5;
 *               vm.value = newValue < 100 ? newValue : 100;
 *             }
 *             loop(); // Call encapsulated, labelled anonymous function recursively
 *           }, rand);
 *         }());
 *       });
 *   </file>
 * </example>
 **/

'use strict';


angular.module('dell.ngclarity.directives').directive('dlcuiLoadingBar', ['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  return {
	templateUrl: [dlcuiBaseTemplatePath, 'directives/output/loadingbar/dlcuiLoadingBar.directive.html'].join(''),
    restrict: 'EA',
    scope: {},
    bindToController: {
      value: '@',
      dlcuiType: '@'
    },
    controller: function controller() {},
    controllerAs: 'loadingBar'
  };
}]
);

;/**
 * @ngdoc directive
 * @name menu
 * @module dlcui.controls
 * @src directives/helpers/menu/menu.coffee
 * @controlType actionable
 * @restrict A
 *
 * @deprecated 2.9.0
 * @useInstead Use {@link ../tip Tip} if you need to create a custom element with a menu-like behavior.
 *
 * @description The CUI Menu manages the visible state of a menu and binds a click event to the toggle broadcast.
 * It is mainly intended to be consumed by other CUI controls and not directly implemented as a control.
 *
 * CUI Menu is a behavior set that is added to two elements.
 * The element that is to act as the trigger will have an attribute of `dlcui-menu-toggle`.
 * The element whos visual state of open or close will have an attribute `dlcui-menu`.
 * The values of the 'dlcui-menu-toggle' and 'dlcui-menu' attributes must be the same.
 *
 * A CUI Menu `dlcui-menu-toggle attribute` can be set on almost any element. Likewise, with the `dlcui-menu` attribute.
 * If you are going to use the CUI Menu control directly, please be sure to follow semantic HTML practices.
 * For example, a `dlcui-menu-toggle` on a `h1` would not be very semantic.
 * Nor would setting the `dlcui-menu` on a `button`.
 *
 * CUI Menu consists of three individual directives. Each applied to different elements that make up the CUI Menu.
 *
 *  1. `dlcui-menu-toggle`
 *  2. `dlcui-menu`
 *  3. `dlcui-menu-item`
 *
 * __Description:__
 *
 * `dlcui-menu-toggle`: Binds a click event to the element that `dlcui-menu` will respond to.
 * `dlcui-menu`: Applied as a behavior to an element, responds to the `dlcui-menu-toggle` click event.
 * `dlcui-menu-item`: The items to be contained within the `dlcui-menu`.
 *
 * @example
 * <h3>Menu</h3>
 * <example name='menu'>
 *   <file name='index.html'>
 *     <dlcui-button dlcui-menu-toggle="exampleOneMenu">Example One Menu Trigger</dlcui-button>
 *     <div dlcui-menu="exampleOneMenu">
 *       <dlcui-menu-item ng-click="vm.click()">Menu Item</dlcui-menu-item>
 *       <dlcui-menu-item ng-click="vm.click()">
 *         <dlcui-icon icon="heart"></dlcui-icon> Menu Item 2
 *       </dlcui-menu-item>
 *       <dlcui-menu-item>
 *         <div>Multi-Line Item:</div>
 *         <div>A litte more information</div>
 *       </dlcui-menu-item>
 *     </div>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.click = function() {
 *           console.log('clicked');
 *         }
 *       })
 *   </file>
 *   <file name='styles.css'>
 *     body {
 *       height: 150px;
 *     }
 *   </file>
 * </example>
 *
 *   @example
 *   <h3>Disabled Menu</h3>
 *
 * <example name='menu'>
 *   <file name='index.html'>
 *     <dlcui-button dlcui-menu-toggle="exampleThreeMenu" ng-disabled="vm.isDisabled">Example Three Menu</dlcui-button>
 *     <div dlcui-menu="exampleThreeMenu">
 *       <dlcui-menu-item ng-click="vm.click()">Item One</dlcui-menu-item>
 *     </div>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {
 *         var vm = this;
 *         vm.isDisabled = true;
 *
 *         vm.click = function() {
 *           console.log('clicked');
 *         }
 *       })
 *   </file>
 * </example>
*/

'use strict';

angular.module('dell.ngclarity.directives').directive('dlcuiMenu',   ['$document', function($document) {
  var currentMenuOpen = null;

  function compile(tElement, tAttributes) {
    tElement.addClass('dlcui-menu');
    var menu = tAttributes.dlcuiMenu;

    return function (scope, element) {
      element.attr('aria-expanded', false);

      var closeMenu = function closeMenu() {
        element.removeClass('dlcui-menu-showing');
        element.attr('aria-expanded', false);
        $document.unbind('click', closeMenu);
        element.unbind('click', closeMenu);
      };

      var openMenu = function openMenu() {
        if (currentMenuOpen != null) {
          currentMenuOpen.removeClass('dlcui-menu-showing');
        }
        currentMenuOpen = element;
        element.addClass('dlcui-menu-showing');
        element.attr('aria-expanded', true);
        $document.bind('click', closeMenu);
        element.bind('click', closeMenu);
      };

      scope.$on('dlcui:toggle:' + menu, function () {
        if (element.hasClass('dlcui-menu-showing')) {
          closeMenu();
        } else {
          openMenu();
        }
      });

      scope.$on('dlcui:close:' + menu, function () {
        if (element.hasClass('dlcui-menu-showing')) {
          closeMenu();
        }
      });

      scope.$on('dlcui:open:' + menu, function () {
        if (!element.hasClass('dlcui-menu-showing')) {
          openMenu();
        }
      });
    };
  }

  return {
    restrict: 'A',
    // Remove replace:true if we keep this directive
    replace: true, // eslint-disable-line angular/no-directive-replace
    compile: compile
  };
}]);
;angular.module('dell.ngclarity.directives').directive('dlcuiMenuItem',['dlcuiBaseTemplatePath', function(dlcuiBaseTemplatePath) {
  return {
    templateUrl: [dlcuiBaseTemplatePath, 'directives/output/menu/dlcuiMenuItem.directive.html'].join(''),
    restrict: 'EA',
    priority: 5,
    transclude: true,
    // Remove replace:true if we keep this directive
    replace: true // eslint-disable-line angular/no-directive-replace
  };
}]);;angular.module('dell.ngclarity.directives').directive('dlcuiMenuToggle',function() {
  function link(scope, element, attributes) {
    var menu = attributes.dlcuiMenuToggle;
    element.on('click', function (ev) {
      scope.$broadcast('dlcui:toggle:' + menu);
      if (ev) {
        ev.preventDefault();
        ev.stopPropagation();
      }
    });
  }
  return {
    restrict: 'A',
    priority: 1,
    link: link
  };
});;angular.module('dell.ngclarity.directives')
  .provider('dlcuiNotification', ['DLCUI_NOTIFICATION_TYPE', 'DLCUI_NOTIFICATION_DEFAULT', function (DLCUI_NOTIFICATION_TYPE,
                                         DLCUI_NOTIFICATION_DEFAULT) {
    /**
     * The time to live for messages base on type and measured in seconds
     * @type {object}
     * @private
     */
    var _timeToLive = {};

    /**
     * The number of messages to limit the design too.
     * @type {number}
     * @private
     */
    var _messageLimit = DLCUI_NOTIFICATION_DEFAULT.messageLimit;

    /**
     * Only show messages if they are not already contained within the UI.
     * @type {boolean}
     * @private
     */
    var _allowOnlyUniqueNotifications = DLCUI_NOTIFICATION_DEFAULT.allowOnlyUnique;

    _timeToLive[String(DLCUI_NOTIFICATION_TYPE.info)] = DLCUI_NOTIFICATION_DEFAULT.timeToLive.info;
    _timeToLive[String(DLCUI_NOTIFICATION_TYPE.warning)] = DLCUI_NOTIFICATION_DEFAULT.timeToLive.warning;
    _timeToLive[String(DLCUI_NOTIFICATION_TYPE.critical)] = DLCUI_NOTIFICATION_DEFAULT.timeToLive.critical;

    /**
     * Sets the time that a notification remains on the screen.
     * @param {!number} notificationType The notification type, see DLCUI_NOTIFICATION_TYPE.
     * @param {!number} timeToLive The time that the notification remains on the screen before it is removed.
     * Set this to 0 for the notification to always remain on the screen.
     */
    function _setTimeToLive(notificationType, timeToLive) {
      dlcui.assertNumber(notificationType);
      dlcui.assert(notificationType >= 0);
      dlcui.assertNumber(timeToLive);
      dlcui.assert(timeToLive >= 0);

      _timeToLive[String(notificationType)] = timeToLive;
    }

    /**
     * Set the info time to live
     * @param {!number} timeToLive The time to live in seconds or 0 for infinite.
     */
    this.setInfoTimeToLive = function (timeToLive) {
      _setTimeToLive(DLCUI_NOTIFICATION_TYPE.info, timeToLive);
    };

    /**
     * Set the warnings time to live
     * @param {!number} timeToLive The time to live in seconds or 0 for infinite.
     */
    this.setWarningTimeToLive = function (timeToLive) {
      _setTimeToLive(DLCUI_NOTIFICATION_TYPE.warning, timeToLive);
    };

    /**
     * Set the critical time to live
     * @param {!number} timeToLive The time to live in seconds or 0 for infinite.
     */
    this.setCriticalTimeToLive = function (timeToLive) {
      _setTimeToLive(DLCUI_NOTIFICATION_TYPE.critical, timeToLive);
    };

    /**
     * Sets the message count limit to the specified value.
     * @param {!number} limit The message limit.
     */
    this.setMessageLimit = function (limit) {
      dlcui.assertNumber(limit);
      dlcui.assert(limit > 0);

      _messageLimit = limit;
    };

    /**
     * Enable or disable the ability to filter out duplicate notifications based on type and message content.
     * @param {!boolean} unique True to filter out duplicate notifications.
     */
    this.setAllowOnlyUniqueNotifications = function (unique) {
      dlcui.assertBoolean(unique);

      _allowOnlyUniqueNotifications = unique;
    };

    this.$get = ['dlcuiNotificationMessages', 'DLCUI_NOTIFICATION_TYPE', 'dlcuiGuid', function (dlcuiNotificationMessages, DLCUI_NOTIFICATION_TYPE, dlcuiGuid) {
      /**
       * Returns the time to live for the specified notification type.
       * @param {!number} notificationType The notification type and see DLCUI_NOTIFICATION_TYPE for allowed types.
       * @returns {!number} The time to live.
       */
      function _getTimeToLive(notificationType) {
        dlcui.assertNumber(notificationType);

        return _timeToLive[String(notificationType)] || 0;
      }

      /**
       * Used internally to add the specified notification
       * @param {!string} notification The message which can be plain text or html.
       * @param {!number} notificationType The notification type and see DLCUI_NOTIFICATION_TYPE for allowed types.
       * @param {?string=} optUrl The optional url to go to if the user clicks on the message
       * @param {?string=} optTarget The target for opening the link and see documentation on the a element.
       * @param {?number=} optTimeToLive Allow the message to override the default settings and is measured in ms.
       * @private
       */
      function _notify(notification, notificationType, optUrl, optTarget, optTimeToLive) {
        dlcui.assertNumber(notificationType);
        dlcui.assertStringWithLength(notification);
        dlcui.assertOptionalStringWithLength(optUrl);
        dlcui.assertOptionalStringWithLength(optTarget);
        dlcui.assertOptionalNumber(optTimeToLive);

        var timeToLive = _getTimeToLive(notificationType);
        if (dlcui.isNumber(optTimeToLive) && optTimeToLive > 0) {
          timeToLive = optTimeToLive;
        }

        dlcuiNotificationMessages.addMessage({
          id: _allowOnlyUniqueNotifications ? [notificationType, notification].join('-') : dlcuiGuid.new(),
          type: notificationType,
          text: notification,
          url: optUrl,
          target: optTarget || '_blank',
          timeToLive: timeToLive
        });
      }

      /**
       * Add an informational based notification,
       * @param {!string} notification The message which can be plain text or html.
       * @param {?string=} optUrl The optional url to go to if the user clicks on the message
       * @param {?string=} optTarget The target for opening the link and see documentation on the a element.
       * @param {?number=} optTimeToLive Allow the message to override the default settings and is measured in ms.
       * @private
       */
      function _info(notification, optUrl, optTarget, optTimeToLive) {
        _notify(notification, DLCUI_NOTIFICATION_TYPE.info, optUrl, optTarget, optTimeToLive);
      }

      /**
       * Add an warning based notification,
       * @param {!string} notification The message which can be plain text or html.
       * @param {?string=} optUrl The optional url to go to if the user clicks on the message
       * @param {?string=} optTarget The target for opening the link and see documentation on the a element.
       * @param {?number=} optTimeToLive Allow the message to override the default settings and is measured in ms.
       * @private
       */
      function _warning(notification, optUrl, optTarget, optTimeToLive) {
        _notify(notification, DLCUI_NOTIFICATION_TYPE.warning, optUrl, optTarget, optTimeToLive);
      }

      /**
       * Add an critical based notification,
       * @param {!string} notification The message which can be plain text or html.
       * @param {?string=} optUrl The optional url to go to if the user clicks on the message
       * @param {?string=} optTarget The target for opening the link and see documentation on the a element.
       * @param {?number=} optTimeToLive Allow the message to override the default settings and is measured in ms.
       * @private
       */
      function _critical(notification, optUrl, optTarget, optTimeToLive) {
        _notify(notification, DLCUI_NOTIFICATION_TYPE.critical, optUrl, optTarget, optTimeToLive);
      }

      /**
       * Returns true if the message has to be unique
       * @returns {!boolean} true if allowed
       * @private
       */
      function _isAllowOnlyUniqueNotifications() {
        return _isAllowOnlyUniqueNotifications();
      }

      /**
       * Clears all the current messages.
       * @private
       */
      function _clear() {
        dlcuiNotificationMessages.clearAllMessages();
      }

      // Set the unique property
      dlcuiNotificationMessages.allowOnlyUnique = _allowOnlyUniqueNotifications;
      dlcuiNotificationMessages.messageLimit = _messageLimit;

      return {
        isAllowOnlyUniqueNotifications: _isAllowOnlyUniqueNotifications,
        getTimeToLive: _getTimeToLive,
        clear: _clear,
        info: _info,
        warning: _warning,
        critical: _critical
      };
    }];
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_NOTIFICATION_DEFAULT', {
  allowOnlyUnique: true,
  messageLimit: 20,
  location: 'top',
  timeToLive: {
    info: 10,
    warning: 15,
    critical: 0
  }
});
;angular.module('dell.ngclarity.directives').constant('DLCUI_NOTIFICATION_LOCATION', {
  top: 'top',
  topLeft: 'top-left',
  topRight: 'top-right',
  bottom: 'bottom',
  bottomLeft: 'bottom-left',
  bottomRight: 'bottom-right'
});
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiNotificationMessage', ['$templateCache', 'dlcuiNotificationMessages', 'DLCUI_NOTIFICATION_TYPE', function ($templateCache,
                                                 dlcuiNotificationMessages,
                                                 DLCUI_NOTIFICATION_TYPE) {
    return {
      restrict: 'E',
      replace: true,
      require: '^dlcuiNotifications',
      scope: {
        message: '='
      },
	  template: function() {
		return $templateCache.get('ngclarity/directives/output/notifications/dlcuiNotificationMessage.html');
		},
      link: function (scope, element, attrs, dlcuiNotificationsCtrl) {
        dlcui.assertObject(scope.message);
        dlcui.assertStringWithLength(scope.message.id);
        dlcui.assertStringWithLength(scope.message.text);

        /**
         * The main notifications controller
         */
        scope.notificationsCtrl = dlcuiNotificationsCtrl;

        /**
         * The message type that is been displayed
         */
        scope.displayType = DLCUI_NOTIFICATION_TYPE.info;
        if (dlcui.isNumber(scope.message.type)) {
          scope.displayType = parseInt(scope.message.type, 10);
        }

        /**
         * True if the message type icon is to be displayed
         * @type {boolean}
         */
        scope.displayTypeIcon = false;

        /**
         * The icon name to use and depends on the message type
         * @type {string}
         */
        scope.displayTypeIconName = '';

        scope.displayTypeClasses = [];

        if (dlcuiNotificationsCtrl.isHideCloseButton()) {
          scope.displayTypeClasses.push('dlcui-message-hide-close');
        }

        switch (scope.displayType) {
          case DLCUI_NOTIFICATION_TYPE.info:
            scope.displayTypeIconName = '';
            scope.displayTypeClasses.push('dlcui-message-type-info');
            scope.displayTypeIcon = false;
            break;
          case DLCUI_NOTIFICATION_TYPE.warning:
            scope.displayTypeIconName = '#ic_warning';
            scope.displayTypeClasses.push('dlcui-message-type-warning');
            scope.displayTypeIcon = true;
            break;
          case DLCUI_NOTIFICATION_TYPE.critical:
            scope.displayTypeIconName = '#ic_critical';
            scope.displayTypeClasses.push('dlcui-message-type-critical');
            scope.displayTypeIcon = true;
            break;
        }

        /**
         * Called when the user clicks on the close button.
         */
        scope.closeMessage = function () {
          dlcuiNotificationMessages.removeMessage(scope.message.id);
        };

        /**
         * Called when the user clicks on the main message.
         */
        scope.closeMessageMain = function () {
          if (dlcuiNotificationsCtrl.isHideCloseButton()) {
            scope.closeMessage ();
          }
        };
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .service('dlcuiNotificationMessages', ['dlcuiGuid', '$timeout', 'DLCUI_NOTIFICATION_DEFAULT', function (dlcuiGuid,
                                                $timeout,
                                                DLCUI_NOTIFICATION_DEFAULT) {
    /**
     * Helper for callback handlers.
     */
    var self = this;

    /**
     * Adds an id and a a timer to the message to handle its removal if required.
     * @param {!object} message The message to update
     * @returns {!object} The updated message.
     * @private
     */
    function _updateMessage(message) {
      if (!dlcui.isStringWithLength(message.id)) {
        message.id = dlcuiGuid.new();
      }
      if (message.timeToLive > 0) {
        message.$timer = $timeout(function () {
          self.removeMessage(message.id);
        }, message.timeToLive * 1000);
      }

      return message;
    }

    /**
     * Cancels the remove timer on the message.
     * @param {!object} message The message to cancel the timer for.
     * @private
     */
    function _cancelTimer(message) {
      if (message.$timer) {
        $timeout.cancel(message.$timer);
        message.$timer = null;
      }
    }

    /**
     * The messages to display.
     * @type {Array}
     * @private
     */
    this.messages = [];

    /**
     * Set this to true if only unique messages are allowed.
     * @type {!boolean}
     */
    this.allowOnlyUnique = DLCUI_NOTIFICATION_DEFAULT.allowOnlyUnique;

    /**
     * The message count limit
     * @type {number}
     */
    this.messageLimit = DLCUI_NOTIFICATION_DEFAULT.messageLimit;

    /**
     * Returns all the current messages.
     * @returns {!Array} The messages.
     */
    this.getAllMessages = function () {
      return this.messages;
    };

    /**
     * Clears all the current messages and resets the collection to an empty array.
     */
    this.clearAllMessages = function () {
      this.messages = [];
    };

    /**
     * Adds the specified message to the collection.
     * @param {!object} message The message to add.
     */
    this.addMessage = function (message) {
      if (this.allowOnlyUnique) {
        // Make sure the message does not already exist and get rid of duplicates
        var foundIndex = -1;
        angular.forEach(this.messages, function(item, index) {
          if (item.text === message.text && item.type === message.type) {
            _cancelTimer(item);
            _updateMessage(item);
            foundIndex = index;
          }
        });

        if (foundIndex >= 0) {
          if (foundIndex < (this.messages.length - 1)) {
            // Move it to the end
            this.messages = this.messages.concat(this.messages.splice(foundIndex, 1));
          }
          return;
        }
      }
      // We can check if we reach that upper limit and pop the first item.
      if (this.messageLimit > 0 && this.messages.length === this.messageLimit) {
        _cancelTimer(this.messages.shift());
      }
      this.messages.push(_updateMessage(message));
    };

    /**
     * Removes the message with the specified id
     * @param {!string} id The message id.
     */
    this.removeMessage = function (id) {
      dlcui.assertStringWithLength(id);

      var _messages = _.reject(this.messages, function(item) {
        if (item.id === id) {
          _cancelTimer(item);
          return true;
        }

        return false;
      });

      this.messages = _messages;
    };
  }]);
;/**
 * @ngdoc directive
 * @name notifications
 * @module dlcui
 * @src directives/output/notifications/notifications.directive.js
 * @controlType presentational
 * @restrict E
 *
 * @param {string} location This determines the location of the notifications and acceptable values include,
 * * top <i>(Default)</i>
 * * top-left
 * * top-right
 * * bottom
 * * bottom-left
 * * bottom-right
 *
 * @param {?boolean=} lockContainer Set this to true if the notifications should be positioned relative to the
 * container it is placed in or false (default) to positon it based on the entire page.
 * @param {?boolean=} disableAnimation Set this to true to disable the animation of messaqes when they are
 * added or removed.
 * @param {?boolean=} hideCloseButton Set this to true to hide the close buttons.
 *
 * @description
 * Display notification messages to the user.
 *
 * The ```<dlcui-notifications>``` element/directive must be added to the body tag, or as the first child
 * of the element that contains the ng-app attribute, to enable the notifications design.
 *
 * The dlcuiNotification service is used to generate notifications by calling one of three methods,
 * * dlcuiNotification.info(text) - Generate an information based notification.
 * * dlcuiNotification.warning(text) - Generate a warning based notification.
 * * dlcuiNotification.critical(text) - Generate a critical based notification.
 *
 * The parameters for each of these message types are as follows
 * ```javascript
 * dlcuiNotification.info(notification, optUrl, optTarget, optTimeToLive);
 * dlcuiNotification.warning(notification, optUrl, optTarget, optTimeToLive);
 * dlcuiNotification.critical(notification, optUrl, optTarget, optTimeToLive);
 * ```
 * * notification - The text to display
 * * optUrl - An optional URL and can be null
 * * optTarget - Optional target container and can be null
 * * optTimeToLive - Optional time to live in seconds that overrides the main configurations.
 *
 * The notification service will block duplicate notifications if both the type and text is the same, which
 * insures that existing notifications are not lost or buried due to multiple duplicates. This feature can be
 * disabled in the module config execution as shown below by executing
 * <i>dlcuiNotificationProvider.setAllowOnlyUniqueNotifications(false)</i>.
 *
 * All the visible notifications can be cleared from the screen by calling <i>dlcuiNotification.clear()</i>.
 *
 * Each of these notification types have a configurable time to live option where the notification is automatically
 * removed after the configured value is expired. These values and other notification options can be modified
 * within the angular config as follows
 *
 * ```javascript
 * // The module name 'dlcui' below can be replaced with your module name.
 * angular.module('dlcui').config(function(dlcuiNotificationProvider) {
 *    // Change the default time to live options.
 *    dlcuiNotificationProvider.setInfoTimeToLive(15);   // Sets the info time to live to 15 seconds.
 *    dlcuiNotificationProvider.setWarningTimeToLive(30);   // Sets the warning time to live to 30 seconds.
 *    dlcuiNotificationProvider.setCriticalTimeToLive(60);   // Sets the critical time to live to 60 seconds.
 *
 *    // Restrict the notification area to only display 10 messages.
 *    dlcuiNotificationProvider.setMessageLimit(10);  // Default is 20
 *
 *    // Allow duplicate messages for the same text and type.
 *    dlcuiNotificationProvider.setAllowOnlyUniqueNotifications(false);   // Default is true.
 * });
 * ```
 *
 * The current default values for these time to live values are as follows,
 * * info - 10 seconds
 * * warning - 15 seconds
 * * critical - 0 Never expires and user must close the notification.
 *
 * The default setting for the message limit is 20.
 *
 *
 * @example
 * <h3>Notifications Top</h3>
 * <example name="notificatonsTop>
 *  <file name='index.html'>
 *    <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam in alcatra
 *    drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *    Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *    Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *    quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *    Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *    Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *    Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *    officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *      <cui-button ng-click="clearMessages()">Clear All</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message);
 *          };
 *
 *          $scope.clearMessages = function() {
 *            dlcuiNotification.clear();
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      bottom: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Notifications With URL</h3>
 * <example name="notificatonsWithUrl">
 *  <file name='index.html'>
 *    <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam in alcatra
 *    drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *    Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *    Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *    quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *    Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *    Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *    Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *    officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <label>Url: </label><cui-textbox ng-model="url" placeholder="Enter a url"></cui-textbox>
 *      <label>Target: </label><cui-textbox ng-model="target" placeholder="_blank"></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *      <cui-button ng-click="clearMessages()">Clear All</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message, $scope.url, $scope.target);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message, $scope.url, $scope.target);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message, $scope.url, $scope.target);
 *          };
 *
 *          $scope.clearMessages = function() {
 *            dlcuiNotification.clear();
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      bottom: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Notifications Bottom</h3>
 * <example name="notificatonsBottom">
 *  <file name='index.html'>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications location="bottom"></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message);
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      top: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Notifications Top Right</h3>
 * <example name="notificatonsTopRight">
 *  <file name='index.html'>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications location="top-right"></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message);
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      top: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 *
 * </example>
 *
 * @example
 * <h3>Notifications with a limited message count of 2</h3>
 * <example name="notificatonsLimitedMessageCount">
 *  <file name='index.html'>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications location="top"></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .config(function(dlcuiNotificationProvider) {
 *         dlcuiNotificationProvider.setMessageLimit(2);
 *      })
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message);
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      bottom: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Notifications with duplicate messages enabled</h3>
 * <example name="notificatonsDuplicatesAllowed">
 *  <file name='index.html'>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications location="top"></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .config(function(dlcuiNotificationProvider) {
 *         dlcuiNotificationProvider.setAllowOnlyUniqueNotifications(false);
 *      })
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message);
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      bottom: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Notifications with time to live specified</h3>
 * <example name="notificatonsTimeToLive">
 *  <file name='index.html'>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message..."></cui-textbox>
 *      <label> Time To Live: </label><cui-textbox ng-model="timetoLive" placeholder="Time to live..."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications location="top"></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *          $scope.timetoLive = 1;
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message, null, null, parseFloat($scope.timetoLive) || 1);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message, null, null, parseFloat($scope.timetoLive) || 1);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message, null, null, parseFloat($scope.timetoLive) || 1);
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      bottom: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Notifications with no close button</h3>
 * <example name="notificatonsNoCloseButton">
 *  <file name='index.html'>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *      <cui-button ng-click="clearMessages()">Clear All</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications location="top" hide-close-button="true"></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *          $scope.timetoLive = null;
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message);
 *          };
 *
 *          $scope.clearMessages = function() {
 *            dlcuiNotification.clear();
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      bottom: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Notifications with no animation</h3>
 * <example name="notificatonsNoAnimation">
 *  <file name='index.html'>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *      <cui-button ng-click="clearMessages()">Clear All</cui-button>
 *    </span>
 *    <br><br><br>
 *    <dlcui-notifications location="top" disable-animation="true"></dlcui-notifications>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *          $scope.timetoLive = null;
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message);
 *          };
 *
 *          $scope.clearMessages = function() {
 *            dlcuiNotification.clear();
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 300px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      bottom: 0;
 *      left: 0;
 *    }
 *
 *  </file>
 * </example>
 *
 * @example
 * <h3>Notifications Inside of Container</h3>
 * <example name="notificatonsInsideContainer">
 *  <file name='index.html'>
 *    <i>The dashed container is used to contain the notification messages</i>
 *    <div class="container-test">
 *      <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey. Cillum veniam in alcatra
 *     drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *     Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *     Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola officia
 *     quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *     <p>Bacon ipsum dolor amet capicola ut dolore brisket deserunt flank cow turkey.
 *      Cillum veniam in alcatra drumstick picanha deserunt voluptate t-bone swine chuck filet mignon meatloaf nisi.
 *      Occaecat culpa capicola sint irure chuck, mollit chicken adipisicing shankle short ribs ad bacon.
 *     Short ribs prosciutto alcatra ea in reprehenderit. Aute consequat do boudin pork belly bresaola
 *     officia quis jerky landjaeger irure. Tempor short loin veniam cupim.</p>
 *     <dlcui-notifications lock-container="true"></dlcui-notifications>
 *    </div>
 *    <span class="setup-notifications">
 *      <label>Message: </label><cui-textbox ng-model="message" placeholder="Enter a message........."></cui-textbox>
 *      <cui-button cui-type="primary" ng-click="sendInfo()">Info</cui-button>
 *      <cui-button cui-type="warning" ng-click="sendWarning()">Warning</cui-button>
 *      <cui-button cui-type="danger" ng-click="sendCritical()">Critical</cui-button>
 *      <cui-button ng-click="clearMessages()">Clear All</cui-button>
 *    </span>
 *    <br><br>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function($scope, dlcuiNotification) {
 *
 *          $scope.message = '';
 *
 *          $scope.sendInfo = function() {
 *              dlcuiNotification.info($scope.message);
 *          };
 *
 *          $scope.sendWarning = function() {
 *              dlcuiNotification.warning($scope.message);
 *          };
 *
 *          $scope.sendCritical = function() {
 *              dlcuiNotification.critical($scope.message);
 *          };
 *
 *          $scope.clearMessages = function() {
 *            dlcuiNotification.clear();
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 600px;
 *    }
 *
 *    .cui-button {
 *      margin-left: 2px;
 *    }
 *
 *    .setup-notifications {
 *      margin: 5px;
 *      position: absolute;
 *      bottom: 0;
 *      left: 0;
 *    }
 *
 *    .container-test {
 *      border: 1px dashed black;
 *      height: 400px;
 *      margin: 100px;
 *      overflow: hidden;
 *      width: 80%;
 *    }
 *
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiNotifications', ['$templateCache', 'dlcuiNotificationMessages', 'DLCUI_NOTIFICATION_LOCATION', function ($templateCache,
                                           dlcuiNotificationMessages,
                                           DLCUI_NOTIFICATION_LOCATION) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        location: '@',
        lockContainer: '@',
        disableAnimation: '@?',
        hideCloseButton: '@?'
      },
	  template: function() {
		return $templateCache.get('ngclarity/directives/output/notifications/dlcuiNotifications.html');
		},
      controller: ['$scope', function ($scope) {
        /**
         * Returns true if the close button is hidden.
         * @returns {boolean} True if the close button is hidden
         */
        this.isHideCloseButton = function () {
          return $scope.hideCloseButton === 'true';
        };
      }],
      link: function (scope, element) {
        // Update the parents position if required to do so.
        if (scope.lockContainer) {
          /**
           * The parent element
           */
          var $parentEl = angular.element(element).parent();
          if (!$parentEl.is('body,html')) {
            var currentPosition = $parentEl.css('position') || '';
            currentPosition = currentPosition.toLowerCase();
            if (currentPosition !== 'relative' && currentPosition !== 'fixed' && currentPosition !== 'absolute') {
              $parentEl.css({
                position: 'relative'
              });
            }
          }
        }

        /**
         * The array of messages based on the service
         */
        scope.notificationMessages = dlcuiNotificationMessages;

        /**
         * The class name to apply based on location.
         * @type {string}
         */
        scope.notificationClass = ['dlcui-location-top'];
        if (scope.location === DLCUI_NOTIFICATION_LOCATION.topLeft) {
          scope.notificationClass = ['dlcui-location-top-left'];
        } else if (scope.location === DLCUI_NOTIFICATION_LOCATION.topRight) {
          scope.notificationClass = ['dlcui-location-top-right'];
        } else if (scope.location === DLCUI_NOTIFICATION_LOCATION.bottom) {
          scope.notificationClass = ['dlcui-location-bottom'];
        } else if (scope.location === DLCUI_NOTIFICATION_LOCATION.bottomLeft) {
          scope.notificationClass = ['dlcui-location-bottom-left'];
        } else if (scope.location === DLCUI_NOTIFICATION_LOCATION.bottomRight) {
          scope.notificationClass = ['dlcui-location-bottom-right'];
        }

        if (scope.lockContainer) {
          scope.notificationClass.push('dlcui-lock-container');
        }
      }
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_NOTIFICATION_TYPE', {
  info: 0,
  warning: 1,
  critical: 2
});
;/**
 * @ngdoc directive
 * @name progressbar
 * @module dlcui
 * @src directives/output/progressbar/dlcuiProgressbar.directive.js
 * @controlType presentational
 * @restrict E
 *
 * @param {boolean=} animate Animate the progress change and the default is false.
 * @param {string=} label The label to display and the default is no label.
 * @param {number=} min The minimum value that can be set and by default is 0.
 * @param {number=} max The maximum value that can be set and by default is 100.
 * @param {number} value The current value for the progress and must be between min and max.
 *
 * @description
 * Displays a progress bar.
 *
 * The width of the progress bar by default is 100% but this can be modified by using the <i>ng-style</i>
 * angular directive or by using css and targeting the <i>.dlcui-progressbar<i> class.
 *
 * The value must always fall between the configured min and the configured max.
 *
 * The progress change can be animated by setting the animated value to true
 *
 * It is also possible to change the colors of the progressbar using CSS.
 * * The main background color can be modified by targeting the <i>.dlcui-progressbar</i> class.
 * * The progress indicator background color can be modified by targeting the <i>.dlcui-progress-indicator</i> class.
 *
 * @example
 * <h3>Basic Progressbar</h3>
 * <example name="progressbarBasic">
 *   <file name="index.html">
 *      <dlcui-checkbox label="Enable Animation" ng-model="animate">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <dlcui-progressbar value="{{value}}"
 *                       animate="{{animate}}">
 *      </dlcui-progressbar>
 *   </file>
 *   <file name="app.js">
 *      angular.module('app', ['dlcui'])
 *        .controller('AppCtrl', function($scope, $interval) {
 *
 *        // The current value within the progressbar or position
 *        // This value must always be between min and max, which is 0 and 100 by default
 *        $scope.value = 0;
 *
 *        // Increase the progress with 1s interval
 *        $interval(function() {
 *          $scope.value += 5;
 *          if ($scope.value > 100) {
 *            $scope.value = 0;
 *          }
 *        }, 1000);
 *      });
 *   </file>
 *   <file name='styles.css'>
 *      body {
 *        height: auto;
 *      }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Basic Progressbar with Label</h3>
 * <example name="progressbarBasicLabel">
 *   <file name="index.html">
 *      <dlcui-checkbox label="Enable Animation" ng-model="animate">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <dlcui-progressbar value="{{value}}"
 *                       label="{{label}}"
 *                       animate="{{animate}}">
 *      </dlcui-progressbar>
 *   </file>
 *   <file name="app.js">
 *      angular.module('app', ['dlcui'])
 *        .controller('AppCtrl', function($scope, $interval) {
 *
 *        // The current value within the progressbar or position
 *        // This value must always be between min and max, which is 0 and 100 by default
 *        $scope.value = 0;
 *        // An optional label
 *        $scope.label = '0%';
 *
 *        // Increase the progress with 1s interval
 *        $interval(function() {
 *          $scope.value += 5;
 *          if ($scope.value > 100) {
 *            $scope.value = 0;
 *          }
 *          $scope.label = $scope.value + '%';
 *        }, 1000);
 *      });
 *   </file>
 *   <file name='styles.css'>
 *      body {
 *        height: auto;
 *      }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Basic Progressbar with Max and Min</h3>
 * <example name="progressbarBasicLabelMinMax">
 *   <file name="index.html">
 *      <dlcui-checkbox label="Enable Animation" ng-model="animate">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <dlcui-progressbar min="{{min}}"
 *                       max="{{max}}"
 *                       value="{{value}}"
 *                       label="{{label}}"
 *                       animate="{{animate}}">
 *      </dlcui-progressbar>
 *   </file>
 *   <file name="app.js">
 *      angular.module('app', ['dlcui'])
 *        .controller('AppCtrl', function($scope, $interval) {
 *
 *        function _buildLabel (value) {
 *          return ['Increasing disk size to ', value, 'Gb.'].join('');
 *        }
 *
 *        // The minimum value for the progressbar
 *        $scope.min = 123;
 *        // The maximum value for the progress bar
 *        $scope.max = 345;
 *        // The current value within the progressbar or position
 *        // This value must always be between min and max
 *        $scope.value = $scope.min;
 *        // An optional label
 *        $scope.label = _buildLabel($scope.value);
 *
 *        // Increase the progress with 1s interval
 *        $interval(function() {
 *          $scope.value++;
 *          if ($scope.value > $scope.max) {
 *            $scope.value = $scope.min;
 *          }
 *          $scope.label = _buildLabel($scope.value);
 *        }, 1000);
 *      });
 *   </file>
 *   <file name='styles.css'>
 *      body {
 *        height: auto;
 *      }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Changing dimensions of Progressbar using ng-style</h3>
 * <example name="progressbarDimensions">
 *   <file name="index.html">
 *      <dlcui-checkbox label="Enable Animation" ng-model="animate">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <dlcui-progressbar value="{{value}}"
 *                       label="{{label}}"
 *                       animate="{{animate}}"
 *                       ng-style="progressStyle">
 *      </dlcui-progressbar>
 *   </file>
 *   <file name="app.js">
 *      angular.module('app', ['dlcui'])
 *        .controller('AppCtrl', function($scope, $interval) {
 *
 *        // The current value within the progressbar or position
 *        // This value must always be between min and max, which is 0 and 100 by default
 *        $scope.value = 0;
 *        // An optional label
 *        $scope.label = '0%';
 *
 *        // Fixes the width to 200px but we could also use css and target .dlcui-progressbar
 *        $scope.progressStyle = {
 *          height: '50px', // default is 40px
 *          width: '200px'  // default is 100%
 *        };
 *
 *        // Increase the progress with 1s interval
 *        $interval(function() {
 *          $scope.value++;
 *          if ($scope.value > 100) {
 *            $scope.value = 0;
 *          }
 *          $scope.label = $scope.value + '%';
 *        }, 1000);
 *      });
 *   </file>
 *   <file name='styles.css'>
 *      body {
 *        height: auto;
 *      }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Changing colors for Progressbar using CSS</h3>
 * <example name="progressbarColor">
 *   <file name="index.html">
 *      <dlcui-checkbox label="Enable Animation" ng-model="animate">
 *      </dlcui-checkbox>
 *      <br><br>
 *      <dlcui-progressbar class="dlcui-green-progressbar"
 *                       value="{{value}}"
 *                       label="{{label}}"
 *                       animate="{{animate}}">
 *      </dlcui-progressbar>
 *   </file>
 *   <file name="app.js">
 *      angular.module('app', ['dlcui'])
 *        .controller('AppCtrl', function($scope, $interval) {
 *
 *        // The current value within the progressbar or position
 *        // This value must always be between min and max, which is 0 and 100 by default
 *        $scope.value = 0;
 *        // An optional label
 *        $scope.label = '0%';
 *
 *        // Increase the progress with 1s interval
 *        $interval(function() {
 *          $scope.value += 5;
 *          if ($scope.value > 100) {
 *            $scope.value = 0;
 *          }
 *          $scope.label = $scope.value + '%';
 *        }, 1000);
 *      });
 *   </file>
 *   <file name='styles.css'>
 *      body {
 *        height: auto;
 *      }
 *
 *      .dlcui-green-progressbar.dlcui-progressbar {
 *        background-color: #6ea204;
 *      }
 *
 *      .dlcui-green-progressbar.dlcui-progressbar .dlcui-progress-indicator {
 *        background-color: #3b6f00;
 *      }
 *   </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiProgressbar', ['dlcuiBaseTemplatePath', '$templateCache', function (dlcuiBaseTemplatePath,$templateCache) {
    return {
      restrict: 'E',
      replace: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/progressbar/dlcuiProgressbar.directive.html'].join(''),
	 /* template: function() {
		return $templateCache.get('ngclarity/directives/output/progressbar/dlcuiProgressbar.directive.html');
		},*/
      scope: {
        animate: '@',
        value: '@',
        label: '@',
        min: '@',
        max: '@'
      },	 
      link: function (scope) {
        // Set defaults
        dlcui.setDefaults(scope, {
          max: '100',
          min: '0',
          value: '0'
        });
		

        /**
         * Returns the minimum configured value as an integer
         * @returns {Number} The minimum value
         */
        scope.getMin = function () {
          if (!dlcui.isStringWithLength(scope.min)) {
            return 0;
          }
          return parseInt(scope.min, 10);
        };

        /**
         * Returns the maximum configured value as an integer
         * @returns {Number} The maximum value
         */
        scope.getMax = function () {
         if (!dlcui.isStringWithLength(scope.max)) {
            return 100;
          }
          return parseInt(scope.max, 10);
        };

        /**
         * Returns the configured value as an integer
         * @returns {Number} The value
         */
        scope.getValue = function () {
          // Value may not be set yet so default to 0
          if (!dlcui.isStringWithLength(scope.value)) {
            return 0;
          }
          return parseInt(scope.value, 10);
        };

        /**
         * Returns true if the progressbar is animated.
         * @returns {boolean} True if animated
         */
        scope.isAnimated = function () {
          return scope.animate==='true';
        };

        /**
         * Builds the style object for the indicator.
         * @returns {!Object} The style object
         */
        scope.getIndicatorStyle = function () {
          dlcui.assert(scope.getMax() > scope.getMin(),
            'The maximum value must be larger than the minimum.');
          dlcui.assert(scope.getValue() <= scope.getMax() && scope.getValue() >= scope.getMin(),
            'The value must fall within the range of the configured minimum and maximum.');

          var width = ((scope.getValue() - scope.getMin()) * 100) / (scope.getMax() - scope.getMin());

          return {
            width: [width, '%'].join('')
          };
        };
      }
    };
  }]);

;/**
 * @ngdoc directive
 * @name selection
 * @module dlcui
 * @src directives/output/selection/dlcuiSelection.directive.js
 * @controlType presentational
 * @restrict E
 *
 * @param {string=} containerSelector css Selector that identifies the parent and is used to track the hover state.
 * @param {number=} selectionType The Selection type and should be 1 for single and 2 for multiple and 1 is the default.
 * @param {boolean} selectionState 'true' if the current state is selected otherwise 'false'.
 * @param {ngDisabled=} ng-disabled boolean representing the state of the directive (i.e. enabled/disabled) and
 * uses the angular directive ng-disabled.
 *
 * @description
 * Element based directive that is used as to visually display if an item is selected or not. This directive does
 * not support selection change directly and the check box is used for that.
 *
 * This component is used in the card container component and inline add row to manage selection and is a purely
 * visual component.
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiSelection', ['dlcuiBaseTemplatePath', 'DLCUI_SELECTION_TYPE', function (dlcuiBaseTemplatePath,
                                       DLCUI_SELECTION_TYPE) {
    return {
      replace: true,
      restrict: 'E',
      scope: {
        containerSelector: '@',
        selectionType: '@',
        selectionState: '@',
        iconSize: '@',
        disabled: '=?ngDisabled'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/selection/dlcuiSelection.directive.html'].join(''),
      link: function (scope, element) {
        /**
         * Tracks when we are hovering over a parent element.
         * @type {boolean}
         */
        scope.hover = false;

        /**
         * Returns the icon to use
         * @returns {!string} The icon name to use
         */
        scope.getIconName = function () {
          if (scope.selectionType === DLCUI_SELECTION_TYPE.multiple && scope.selectionState !== 'true') {
            return '#ic_checkbox';
          } else if (scope.selectionType === DLCUI_SELECTION_TYPE.multiple && scope.selectionState === 'true') {
            return '#ic_checkbox_active_checked';
          } else if (scope.selectionType !== DLCUI_SELECTION_TYPE.multiple) {
            return '#menu_selected';
          }

          return '';
        };

        scope.getIconSize = function () {
          if (dlcui.isStringWithLength(scope.iconSize)) {
            return scope.iconSize;
          } else if (scope.selectionType === '2') {
            return '14px';
          }

          return '12px,10px';
        };

        // Add the listeners if needed.
        if (dlcui.isStringWithLength(scope.containerSelector)) {
          element.parents([scope.containerSelector, ':first'].join('')).hover(function () {
            scope.$apply(function() {
              scope.hover = true;
            });
          }, function () {
            scope.$apply(function() {
              scope.hover = false;
            });
          });
        }
      }
    };
  }]);

;/* eslint-disable max-statements */
angular.module('dell.ngclarity.directives')
  .factory('dlcuiSelection', ['DLCUI_SELECTION_TYPE', function (DLCUI_SELECTION_TYPE) {
    /**
     * Extracts the selected item ids from the data.
     * @param {!Array} data The data to extract the details from.
     * @returns {!Array} An collection of ids if any items are selected
     * @private
     */
    function _extractSelectedItems(data) {
      dlcui.assertOptionalArray(data);

      if (!dlcui.isArrayWithLength(data)) {
        return [];
      }
      return _.filter(data, function (item) {
        return item.selected;
      });
    }

    /**
     * Select all the items contained in the array.
     * @param {!Array} data The data array
     * @private
     */
    function _selectAll (data) {
      dlcui.assertOptionalArray(data);

      angular.forEach(data, function (item) {
        item.selected = true;
      });
    }

    /**
     * UnSelect all the items contained in the array.
     * @param {!Array} data The data array
     * @private
     */
    function _unSelectAll (data) {
      dlcui.assertOptionalArray(data);

      angular.forEach(data, function (item) {
        item.selected = false;
      });
    }

    /**
     * Toggle selection on all the items contained in the array.
     * @param {!Array} data The data array
     * @private
     */
    function _toggleSelection (data) {
      dlcui.assertOptionalArray(data);

      angular.forEach(data, function (item) {
        item.selected = !item.selected;
      });
    }

    /**
     * Selects the specified item and update other selections based on the specified selectionType.
     * @param {!number} selectionType The selection type to use and see DLCUI_SELECTION_TYPE
     * @param {!Object} item The item to select
     * @param {!Array} data The data array
     * @private
     */
    function _selectItem (selectionType, item, data) {
      dlcui.assertNumber(selectionType);
      dlcui.assertObject(item);
      dlcui.assertArrayWithLength(data);

      if (selectionType === DLCUI_SELECTION_TYPE.none) {
        _unSelectAll(data);
      } else if (selectionType === DLCUI_SELECTION_TYPE.single) {
        _unSelectAll(data);
        item.selected = true;
      } else {
        item.selected = true;
      }
    }

    /**
     * Deselect the specified item.
     * @param {!Object} item The item to select
     * @private
     */
    function _deselectItem (item) {
      dlcui.assertObject(item);

      item.selected = false;
    }

    /**
     * Determines if the specified item is selected.
     * @param {!Object} item The item to test
     * @returns {boolean} True if selected
     * @private
     */
    function _isItemSelected (item) {
      dlcui.assertObject(item);

      return item.selected;
    }

    /**
     * Toggle selection on the specified item contained in the array.
     * @param {!number} selectionType The selection type to use and see DLCUI_SELECTION_TYPE
     * @param {!Object} item The item to select
     * @param {!Array} data The data array
     * @private
     */
    function _toggleItemSelection (selectionType, item, data) {
      dlcui.assertNumber(selectionType);
      dlcui.assertObject(item);
      dlcui.assertArrayWithLength(data);

      if (!item.selected) {
        _selectItem(selectionType, item, data);
      } else {
        _deselectItem(item);
      }
    }

    /**
     * Validates that the selections is correct and fixes them if the specified type does not support the selections.
     * @param {!number} selectionType The selection type to use and see DLCUI_SELECTION_TYPE
     * @param {!Array} data The data array
     * @private
     */
    function _validateSelections (selectionType, data) {
      dlcui.assertNumber(selectionType);

      if (selectionType === DLCUI_SELECTION_TYPE.multiple) {
        return; // Do nothing as we allow multiple selection and any state is allowed
      } else if (!dlcui.isArrayWithLength(data)) {
        return; // Do nothing as there is no data to validate
      }

      var currentSelectedItem = null;

      angular.forEach(data, function (item) {
        if (item.selected) {
          if (selectionType === DLCUI_SELECTION_TYPE.none) {
            item.selected = false;
          } else if (selectionType === DLCUI_SELECTION_TYPE.single) {
            if (currentSelectedItem) {
              item.selected = false;    // Allow the first selected item to remain selected
            } else {
              currentSelectedItem = item;
            }
          }
        }
      });
    }

    return {
      extractSelectedItems: _extractSelectedItems,
      isItemSelected: _isItemSelected,
      selectAll: _selectAll,
      unSelectAll: _unSelectAll,
      toggleSelection: _toggleSelection,
      selectItem: _selectItem,
      deselectItem: _deselectItem,
      toggleItemSelection: _toggleItemSelection,
      validateSelections: _validateSelections
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_SELECTION_TYPE', {
  none: 0,
  single: 1,
  multiple: 2
});
;/**
 * @ngdoc directive
 * @name tip
 * @controlType presentational
 *
 * @module dlcui
 * @description Tips provide additional information about an item in the UI. For instance, a tip could be
 * placed next to a Textbox to show the pattern requirements of the expected value.
 *
 * Tips will do their best to stay within the viewport. This is shown in the first example, the "left top" and
 * "right top" both have extremely long content, and as such, the Tip flips to the opposite side.
 *
 * @src directives/output/tip/ccTip.directive.js
 * @restrict A
 *
 * @param {Object=} dlcuiTip The base directive. Can be passed an object of the following format:
 * ```js
 * {
 *   content: String,
 *   position: String,
 *   openOn: String,
 *   templateUrl: String,
 *   type: String
 * }
 * ```
 *
 * __Attributes listed will override properties in this object.__
 *
 * For instance, if you set `content: 'Hello there'`, but also set `dlcui-tip-content='No, goodbye'`, the content
 * of the tip will be `'No, goodbye'`.
 *
 * @param {String=} dlcuiTipContent An HTML content string.
 * @param {Boolean=} dlcuiTipFlip A one way binding property that allows the developer to force stricter flip
 * rules based on the tooltip position. This value is true by default
 * @param {Boolean=} dlcuiTipHide A one way binding property that allows the developer to hide/disable the tooltip
 * for extra control over when the tooltip is displayed.
 * @param {String=} dlcuiTipPosition The position the Tip should anchor at. One of:
 * ```js
 * 'top left'
 * 'left top'
 * 'left middle'
 * 'left bottom'
 * 'bottom left'
 * 'bottom center'
 * 'bottom right'
 * 'right bottom'
 * 'right middle'
 * 'right top'
 * 'top right'
 * 'top center' // Default
 * ```
 *
 * The syntax for position follows the pattern of `"vertical-position horizontal-position"`, where the
 * `vertical- * position` determines what side of the target you want the Tip to show on, and the `horizontal-position`
 * determines which part of the Tip should align to the target.
 *
 * This syntax is taken from [Tether.io](http://tether.io).
 * @param {String=} dlcuiTipOpenOn Specifies what event on the target element opens the Tip. One of:
 * ```js
 * 'click'
 * 'hover' // Default
 * 'always'
 * ```
 *
 * @param {String=} dlcuiTipTemplateUrl The URL of a template which should be loaded as the content. Use of this
 * attribute will override the value of `dlcui-tip-content`.
 *
 * @example
 * <h3>Tooltip label</h3>
 * <example name="Tooltip">
 *   <file name="index.html">
 *     <div class="centered">
 *       <cui-button dlcui-tip dlcui-tip-position="top left" dlcui-tip-content="Test Content">Top Left</cui-button>
 *       <cui-button dlcui-tip dlcui-tip-content="Test Content">Top Center [default]</cui-button>
 *       <cui-button dlcui-tip dlcui-tip-position="top right" dlcui-tip-content="Test Content">Top Right</cui-button>
 *     </div>
 *
 *     <div class="centered">
 *         <cui-button dlcui-tip dlcui-tip-position="left top" dlcui-tip-content="Test Content">Left Top</cui-button>
 *         <span>&nbsp;</span>
 *         <cui-button dlcui-tip dlcui-tip-position="right top" dlcui-tip-content="Test Content">Right Top</cui-button>
 *     </div>
 *
 *     <div class="centered">
 *         <cui-button dlcui-tip dlcui-tip-position="left middle" dlcui-tip-content="Test Content">Left Middle</cui-button>
 *         <span>&nbsp;</span>
 *         <cui-button dlcui-tip dlcui-tip-position="right middle" dlcui-tip-content="Test Content">Right Middle</cui-button>
 *     </div>
 *
 *     <div class="centered">
 *         <cui-button dlcui-tip dlcui-tip-position="left bottom" dlcui-tip-content="Test Content">Left Bottom</cui-button>
 *         <cui-button cui-type="success"
 *                     dlcui-tip
 *                     dlcui-tip-template-url="tooltipTmpl.html"
 *                     dlcui-tip-content="Test Content">
 *             Tip Templates</cui-button>
 *         <cui-button dlcui-tip dlcui-tip-position="right bottom" dlcui-tip-content="Test Content">Right Bottom</cui-button>
 *     </div>
 *
 *     <div class="centered">
 *       <cui-button dlcui-tip dlcui-tip-position="bottom left" dlcui-tip-content="Test Content">Bottom Left</cui-button>
 *       <cui-button dlcui-tip dlcui-tip-position="bottom center" dlcui-tip-content="Test Content">Bottom Center</cui-button>
 *       <cui-button dlcui-tip dlcui-tip-position="bottom right" dlcui-tip-content="Test Content">Bottom Right</cui-button>
 *     </div>
 *   </file>
 *   <file name="tooltipTmpl.html">
 *     <h1>
 *      <cui-icon icon="check-square" color="green" dlcui-tip dlcui-tip-content="Yo Dawg" dlcui-tip-content="Test Content">
 *      </cui-icon> Success!</h1>
 *     <p>You can use a template inside of the content of a tooltip!</p>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($scope) {
 *         // Nothing required here.
 *       })
 *   </file>
 *   <file name='style.css'>
 *   body {
 *     min-height: 400px;
 *   }
 *
 *   .centered {
 *     width: 600px;
 *     margin: 100px auto;
 *     text-align: center;
 *   }
 *
 *   .centered > :first-child {
 *     float: left;
 *   }
 *
 *   .centered > :last-child {
 *     float: right;
 *   }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Dynamic Placement</h3>
 * <p>CUI Tips reposition themselves if their rendered content does not fit in the defined location.</p>
 * <example>
 *   <file name='index.html'>
 *     <cui-button dlcui-tip dlcui-tip-position="left middle"
 *         dlcui-tip-content="<b>Nope, it can't fit middle left.</b>
 *         <br/>The content is to long so it repositions the tip to the opposite side.">
 *         Tip should appear middle left if the content can fit
 *     </cui-button>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($scope) {
 *         // Nothing required here.
 *       })
 *   </file>
 *   <file name='style.css'>
 *     body {
 *       margin: 20px;
 *       min-height: 100px;
 *     }
 *   </file>
 * </example>
 *
 *   @example
 *   <h3>SVG</h3>
 * <example name='Tooltip'>
 *   <file name='index.html'>
 *     <svg height='300' width='400'>
 *       <g>
 *         <circle cx='100' cy='100' r='30' dlcui-tip='tip'></circle>
 *       </g>
 *     </svg>
 *  </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($scope) {
 *         // Nothing required here to have a label.
 *         $scope.tip = {
 *           position: 'top left',
 *           content: 'Setting content in base config object'
 *         }
 *       })
 *   </file>
 * </example>
 */
/* eslint-disable complexity, max-statements*/
angular.module('dell.ngclarity.directives')
  .directive('dlcuiTip', ['dlcuiBaseTemplatePath', 'dlcuiTip', '$timeout', '$compile', '$templateCache', function (dlcuiBaseTemplatePath,
                                 dlcuiTip,
                                 $timeout,
                                 $compile,
                                 $templateCache) {
    return {
      restrict: 'A',
      link: function (scope, element, attributes) {
        /**
         * The main tooltip
         * @type {null|Object}
         * @private
         */
        var _tooltip = null;

        /**
         * Default confgiuration options
         * @type {{position: string, centerArrow: boolean, openOn: string, offset: null, content: null, type: string}}
         */
        var _defaults = {
          flip: true,
          position: 'top center',
          centerArrow: true,
          openOn: 'hover',
          offset: null,
          content: '',
          type: 'tooltip'
        };

        var _tipConfig = null;

        // TODO-sscott: for now just support tooltip and we can fix it later for hint and menu
        var type = 'tooltip';
        if (type === 'menu') {
          angular.extend(_defaults, {
            offset: 0,
            type: 'menu',
            centerArrow: false,
            position: 'bottom right',
            openOn: 'click'
          });
        }

        /**
         * Main configuration for the CCC Tip component
         * @type {Object}
         * @private
         */
        var _mainConfig = {};

        /**
         * The scope created if the tip contains a template.
         * @type {null|$scope}
         * @private
         */
        var _newScope = null;

        /**
         * Internal Tether options.
         * @type {Object}
         * @private
         */
        var _tetherOptions = {};

        /**
         * Main Drop configuration options
         * @type {Object}
         * @private
         */
        var _tipFactoryConfiguration = {};

        attributes.$observe('dlcuiTipContent', function (newValue) {
          if (_tooltip && dlcui.isString(newValue)) {
            _tooltip.content.innerHTML = newValue;
            _tooltip.position();
          } else {
            _tipFactoryConfiguration.content = newValue;
          }
        });

        attributes.$observe('dlcuiTipHide', function (newValue, oldValue) {
          if (newValue !== oldValue) {
            _mainConfig.hide = newValue;
            if (_tooltip) {
              if (_mainConfig.activated && newValue !== 'true') {
                _tooltip.open();
              } else {
                _tooltip.close();
              }
            }
          }
        });

        $timeout(function () {
          _tipConfig = scope[attributes.dlcuiTip];

          /* eslint-disable */
          // reason: line length
          _mainConfig = {
            activated: false,
            flip: attributes.dlcuiTipFlip || (dlcui.isObject(_tipConfig) ? _tipConfig.flip : void 0) || _defaults.flip,
            hide: attributes.dlcuiTipHide || 'false',
            position: attributes.dlcuiTipPosition || (dlcui.isObject(_tipConfig) ? _tipConfig.position : void 0) || _defaults.position,
            centerArrow: attributes.dlcuiTipCenterArrow || (dlcui.isObject(_tipConfig) ? _tipConfig.centerArrow : void 0) || _defaults.centerArrow,
            openOn: attributes.dlcuiTipOpenOn || (dlcui.isObject(_tipConfig) ? _tipConfig.openOn : void 0) || _defaults.openOn,
            offset: attributes.dlcuiTipOffset || (dlcui.isObject(_tipConfig) ? _tipConfig.offset : void 0) || _defaults.offset,
            content: attributes.dlcuiTipContent || (dlcui.isObject(_tipConfig) ? _tipConfig.content : void 0) || _defaults.content,
            templateUrl: attributes.dlcuiTipTemplateUrl || (dlcui.isObject(_tipConfig) ? _tipConfig.templateUrl : void 0) || void 0,
            type: attributes.dlcuiTipType || (dlcui.isObject(_tipConfig) ? _tipConfig.type : 'tooltip') || _defaults.type,
          };
          _mainConfig.classes = dlcui.formatString('dlcui-tip-theme-{{type}}', {
            type: _mainConfig.type
          });
          /* eslint-enable */

          /**
           * The scope created if the tip contains a template.
           * @type {null|$scope}
           * @private
           */
          _newScope = null;
          if (dlcui.isStringWithLength(_mainConfig.templateUrl)) {
            _newScope = scope.$new();
            _newScope.templateUrl = _mainConfig.templateUrl;
            var tipTemplate = $templateCache.get([dlcuiBaseTemplatePath, 'directives/output/tip/dlcuiTip.directive.html'].join(''));
            var tipTemplateCompiled = $compile(tipTemplate)(_newScope);
            _mainConfig.content = tipTemplateCompiled[0];
          }

          /* eslint-disable */
          // reason: index issues that should not exist
          if ((dlcui.isString(_mainConfig.flip) && _mainConfig.flip === 'true') ||
            (dlcui.isBoolean(_mainConfig.flip) && _mainConfig.flip)) {
            _tetherOptions = {
              constraints: [
                {
                  to: 'scrollParent',
                  attachment: 'together',
                  pin: true
                }
              ]
            };
          }
          /* eslint-enable */

          /**
           * Main Drop configuration options
           * @type {Object}
           * @private
           */
          _tipFactoryConfiguration = {
            constrainToWindow: true,
            constrainToScrollParent: true,
            target: element[0],
            content: _mainConfig.content,
            classes: _mainConfig.classes,
            position: _mainConfig.position,
            remove: true,
            tetherOptions: _tetherOptions,
            openOn: null
          };

          if (_mainConfig.offset) {
            _tipFactoryConfiguration.tetherOptions.offset = _mainConfig.offset;
          }

          _tooltip = dlcuiTip(_tipFactoryConfiguration);

          _tooltip.on('open', function () {
            scope.$broadcast('dlcui:tip:open');
          });

          _tooltip.on('close', function () {
            scope.$broadcast('dlcui:tip:close');
          });

          if (dlcui.isObject(_newScope)) {
            _newScope._tip = _tooltip;
          }

          if (_mainConfig.openOn === 'click') {
            element.on('click', function () {
              _mainConfig.activated = !_mainConfig.activated;
              if (_mainConfig.hide !== 'true') {
                _tooltip.toggle();
              }
            });
          } else if (_mainConfig.openOn === 'hover') {
            element.on('mouseenter', function () {
              _mainConfig.activated = true;
              if (_mainConfig.hide !== 'true') {
                _tooltip.open();
              }
            });
            element.on('mouseleave', function () {
              _mainConfig.activated = false;
              _tooltip.close();
            });
          }

          return _tooltip;
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiTip', ['$document', function ($document) {
    return function (config) {
      var _Drop = Drop.createContext({
        classPrefix: 'dlcui-tip'
      });

      var _tip = new _Drop(config);

      // this isn't pretty but we needed a way to prevent opening on mobile devices when the target is disabled.
      var target = angular.element(_tip.target);
      target.on('touchstart click', function () {
        if (_tip.target.disabled === true) {
          _tip.close();
          return;
        }
      });

      // TODO: This will not set the active item in a menu with the advent of rich menu types`
      _tip.on('open', function () {
        if (config.type === 'menu') {
          var li = angular.element(_tip.drop).find('li');
          angular.forEach(li, function (item) {
            var el = angular.element(item);
            if (el.hasClass('kb-active')) {
              item.focus();
            }
          });

          /* eslint-disable */
          // reason: too many nested calls, which is not correct here
          return li.on('mouseenter', function (ev) {
            angular.forEach(li, function (item) {
              item.blur();
            });
            ev.target.focus();
            ev.target.setAttribute('tabindex', 0);
          });
          /* eslint-enable */
        }
      });

      _tip.on('dlcui:tip:open', function () {
        _tip.open();
      });
      _tip.on('dlcui:tip:close', function () {
        _tip.close();
      });

      $document.on('touchend', function() {
        _tip.close();
      });

      return _tip;
    };
  }]);
;/**
 * @ngdoc directive
 * @name toolbar
 * @module dlcui
 * @src directives/output/toolbar/toolbar.directive.js
 * @controlType actionable
 * @restrict E
 *
 * @param {string} align Optional value that defines how to align items vertically and can be accessed using one of
 * the following constant values through the angular constant DLCUI_FLEXBOX_ALIGN or by value directly,
 * * 'flex-start' or DLCUI_FLEXBOX_ALIGN.flexStart - Align to the top of the toolbar.
 * * 'flex-end' or DLCUI_FLEXBOX_ALIGN.flexEnd - Align to the bottom of the toolbar.
 * * 'center' or DLCUI_FLEXBOX_ALIGN.center (Default) - Align to the middle of the toolbar.
 * @param {boolean=} collapseAll An optional property that will collapse all collapsible groups contained within
 * the toolbar. It has no affect if there are no collapsible groups.
 * @param {string} justify Optional value that defines how to position items horizontally and can be accessed using
 * one of the following constant values through the angular constant DLCUI_FLEXBOX_JUSTIFY,
 * * 'space-between' or DLCUI_FLEXBOX_JUSTIFY.spaceBetween (Default) - Position toolbar items so they flow with spaces
 * between them but with no space before the first nor the last toolbar item.
 * * 'space-around' or DLCUI_FLEXBOX_JUSTIFY.spaceAround - Position items so they flow with space between them and with
 * space before the first item and a space after the last toolbar item.
 * * 'flex-start' or DLCUI_FLEXBOX_JUSTIFY.flexStart - Position items to flow from the start of the container with
 * no spaces between the toolbar items nor before the first and last toolbar items.
 * * 'flex-end' or DLCUI_FLEXBOX_JUSTIFY.flexEnd - Position items to flow at the end of the container with no spaces.
 * * 'center' or DLCUI_FLEXBOX_JUSTIFY.center - Position items to the middle of the toolbar with no space between
 * them but with spaces before the first toolbar item and a space after the last toolbar item.
 *
 * @description
 * The toolbar is suited for displaying a collection of executable actions and labels in a header or footer area within
 * an existing component.
 *
 * The Toolbar uses a transparent background color and has a defined bottom border. This can be changed by using the
 * <i>.dlcui-toolbar</i> class.
 *
 * Example of changing the bottom border for the toolbar.
 * ```css
 * .dlcui-toolbar {
 *   border-bottom: 1px solid red;
 * }
 * ```
 *
 * The width of the toolbar is set to 100%, so the width will always fit the container it is
 * placed in, and the toolbar height is fixed to 46px. The height and width can be changed by using the same
 * <i>.dlcui-toolbar</i> class and the toolbar uses a flexible layout concept and will adjust its contents automatically.
 * ```css
 * .dlcui-toolbar {
 *   height: 60px;   // Never go less than 46px!!
 * }
 * ```
 *
 * The following toolbar directives can be placed within the toolbar element,
 * * <b>dlcui-toolbar-button</b>: A button that is styled correctly as a toolbar button and can be a link or icon.
 * * <b>dlcui-toolbar-label</b>: A textual label that is display inline within the toolbar.
 * * <b>dlcui-toolbar-menu-button</b>: An icon based button that displays a menu of clickable actions.
 * * <b>dlcui-toolbar-separator</b>: A vertical separator that is represented as a vertical line.
 * * <b>dlcui-toolbar-group</b>: A special toolbar container that helps in aligning content within the main toolbar.
 *   * Any of these listed items can be added as children to this contain.
 *   * Toolbar groups can be structured n levels deep, but it is a good idea not to add more than 2 levels.
 * * <b>dlcui-toolbar-collapsible-group</b>: A special toolbar container that collapses buttons into a
 * single clickable menu button.
 *   * Only <b>dlcui-toolbar-button</b> should be added as children
 *   * Monitors the width of the toolbar and collapses buttons into a clickable menu button as space runs out.
 *
 * You can also place other CUI and DLCUI components within the toolbar with the follow caveats,
 * * Their height may be greater that the toolbar contents area and so they will be clipped.
 * * Their width may take up a lot of space and push other toolbar buttons out of the view.
 * * Never place CUI or DLCUI buttons within the collapsible group, only use the <b>dlcui-toolbar-button</b> components.
 *
 * @example
 * <h3>Standard Toolbar</h3>
 * <example name="standardToolbar">
 *  <file name="index.html">
 *    <dlcui-toolbar>
 *      <dlcui-toolbar-group>
 *        <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       DLCUI_FLEXBOX_ALIGN,
 *                                       DLCUI_FLEXBOX_JUSTIFY) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #dlcuidlcui;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Standard Toolbar With Text label and Text Link Button</h3>
 * <example name="standardToolbarWithTextLabel">
 *  <file name="index.html">
 *    <dlcui-toolbar justify="space-between">
 *      <dlcui-toolbar-group justify="flex-start">
 *        <dlcui-toolbar-label label="Devices"></dlcui-toolbar-label>
 *        <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *        <dlcui-toolbar-button label="Clear All" ng-disabled="disableClearAll" ng-click="click('Clear All Devices')">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *      <dlcui-toolbar-group justify="flex-end">
 *        <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       DLCUI_FLEXBOX_ALIGN,
 *                                       DLCUI_FLEXBOX_JUSTIFY) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *          $scope.disableClearAll = false;
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Standard Toolbar with Appended Actions</h3>
 * <example name="tandardToolbarAppendedActions">
 *  <file name="index.html">
 *    <dlcui-toolbar justify="flex-end">
 *      <dlcui-toolbar-group>
 *        <dlcui-toolbar-button ng-click="click('Edit Device')"
 *                            icon-name="#ic_editrename"
 *                            tooltip="Edit Device"
 *                            collapsed-label="Edit Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Delete Device')"
 *                            icon-name="#ic_delete"
 *                            tooltip="Delete Device"
 *                            collapsed-label="Delete Device">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *      <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *      <dlcui-toolbar-group>
 *        <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       DLCUI_FLEXBOX_ALIGN,
 *                                       DLCUI_FLEXBOX_JUSTIFY) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Standard Toolbar with Appended Actions Collapsible</h3>
 * <example name="standardToolbarAppendedActionsCollapsible">
 *  <file name="index.html">
 *    <label class="btn-label">Collapse:&nbsp;<input type="checkbox" ng-model="collapseAll"></label>
 *    <br><br>
 *    <div class="collapsible-window">
 *      <dlcui-toolbar justify="flex-end">
 *        <dlcui-toolbar-collapsible-group>
 *          <dlcui-toolbar-button ng-click="click('Edit Device')"
 *                              icon-name="#ic_editrename"
 *                              tooltip="Edit Device"
 *                              collapsed-label="Edit Device">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Delete Device')"
 *                              icon-name="#ic_delete"
 *                              tooltip="Delete Device"
 *                              collapsed-label="Delete Device">
 *          </dlcui-toolbar-button>
 *       </dlcui-toolbar-collapsible-group>
 *       <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *       <dlcui-toolbar-group>
 *         <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *          </dlcui-toolbar-button>
 *       </dlcui-toolbar-group>
 *      </dlcui-toolbar>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       dlcuiLayoutStates) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *          $scope.$watch('collapseAll', function(newValue) {
 *             dlcuiLayoutStates.detailsExpanded = newValue;
 *          });
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 350px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *    .dlcuiSlider {
 *      width: 50%;
 *      height: 50px;
 *    }
 *    .collapsible-window {
 *      border: 1px dashed lightgrey;
 *      padding: 10px;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Standard Toolbar with Label and Collapsible Group</h3>
 * <example name="standardToolbarLabelAndCollapsible">
 *  <file name="index.html">
 *    <label class="btn-label">Collapse:&nbsp;<input type="checkbox" ng-model="collapseAll"></label>
 *    <br><br>
 *    <div class="collapsible-window">
 *      <dlcui-toolbar justify="space-between">
 *        <dlcui-toolbar-group justify="flex-start">
 *            <dlcui-toolbar-label class="header-label" label="Select Hosts To Activate"></dlcui-toolbar-label>
 *        </dlcui-toolbar-group>
 *        <dlcui-toolbar-group justify="flex-end">
 *          <dlcui-toolbar-collapsible-group>
 *            <dlcui-toolbar-button ng-click="click('Edit Device')"
 *                                icon-name="#ic_editrename"
 *                                tooltip="Edit Device"
 *                                collapsed-label="Edit Device">
 *            </dlcui-toolbar-button>
 *            <dlcui-toolbar-button ng-click="click('Delete Device')"
 *                                icon-name="#ic_delete"
 *                                tooltip="Delete Device"
 *                                collapsed-label="Delete Device">
 *            </dlcui-toolbar-button>
 *         </dlcui-toolbar-collapsible-group>
 *         <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *         <dlcui-toolbar-group>
 *           <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *            </dlcui-toolbar-button>
 *            <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *            </dlcui-toolbar-button>
 *            <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *            </dlcui-toolbar-button>
 *         </dlcui-toolbar-group>
 *        </dlcui-toolbar-group>
 *      </dlcui-toolbar>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       dlcuiLayoutStates) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *          $scope.$watch('collapseAll', function(newValue) {
 *             dlcuiLayoutStates.detailsExpanded = newValue;
 *          });
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 350px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *    .dlcuiSlider {
 *      width: 50%;
 *      height: 50px;
 *    }
 *    .collapsible-window {
 *      border: 1px dashed lightgrey;
 *      padding: 10px;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiToolbar', ['dlcuiBaseTemplatePath', 'dlcuiFlexbox', function (dlcuiBaseTemplatePath,
                                     dlcuiFlexbox) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        align: '@',
        collapseAll: '@',
        justify: '@'
      },
      transclude: true,
      controller: ['$scope', 'dlcuiApplicationFrameStates', 'dlcuiLayoutStates', function ($scope, dlcuiApplicationFrameStates, dlcuiLayoutStates) {
        /**
         * All the groups contained within this toolbar
         * @type {!Object}
         * @private
         */
        var _groups = {
          collapsible: {
            count: 0,
            groups: {}
          },
          button: {
            count: 0,
            groups: {}
          }
        };

        /**
         * The name for the collapsible groups
         * @type {string}
         */
        var COLLAPSIBLE_GROUP = 'collapsible';

        /**
         * The name for the button group
         * @type {string}
         */
        var BUTTON_GROUP = 'button';

        /**
         * Registers a toolbar group with the specified type name
         * @param {!string} name The type name such as 'collapsible' or 'button'
         * @param {scope} scope The scope attached to the toolbar group
         * @param {Element} element The element attached to the group
         * @private
         */
        function _registerGroup(name, scope, element) {
          dlcui.assertStringWithLength(name);
          dlcui.assert(scope);
          dlcui.assert(element);

          _groups = _groups || {};
          _groups[name] = _groups[name] || {
            count: 0,
            groups: {}
          };
          _groups[name].groups[scope.$id] = {
            scope: scope,
            element: element
          };
          _groups[name].count++;
        }

        /**
         * Removes the toolbar group based on the scope and specified type name
         * @param {!string} name The type name such as 'collapsible' or 'button'
         * @param {$scope} scope The scope attached to the toolbar group
         * @private
         */
        function _unregisterGroup(name, scope) {
          delete _groups[name].groups[scope.$id];
          _groups[name].count--;
        }

        /**
         * Called by the Collapsible Group Directive to register itself.
         * @param {scope} scope The scope attached to the toolbar group
         * @param {Element} element The element attached to the group
         */
        this.registerCollapsibleGroup = function (scope, element) {
          _registerGroup(COLLAPSIBLE_GROUP, scope, element);
        };

        /**
         * Called by the Collapsible Group Directive to remove itself.
         * @param {scope} scope The scope attached to the toolbar group
         */
        this.unregisterCollapsibleGroup = function (scope) {
          _unregisterGroup(COLLAPSIBLE_GROUP, scope);
        };

        /**
         * Called by the Button Group Directive to register itself.
         * @param {scope} scope The scope attached to the toolbar group
         * @param {Element} element The element attached to the group
         */
        this.registerButtonGroup = function (scope, element) {
          _registerGroup(BUTTON_GROUP, scope, element);
        };

        /**
         * Called by the Button Group Directive to remove itself.
         * @param {scope} scope The scope attached to the toolbar group
         */
        this.unregisterButtonGroup = function (scope) {
          _unregisterGroup(BUTTON_GROUP, scope);
        };

        /**
         * Updates the state of the collapse groups
         * @param {!boolean} collapseAll True to collapse all the collapsible groups
         */
        $scope.updateCollapsibleGroups = function (collapseAll) {
          dlcui.assertBoolean(collapseAll);

          if (_groups && _groups[COLLAPSIBLE_GROUP] && _groups[COLLAPSIBLE_GROUP].count > 0) {
            angular.forEach(_groups[COLLAPSIBLE_GROUP].groups, function (item) {
              item.scope.collapseAll = collapseAll;
            });
          }
        };

        /**
         * The data and options associated with this component.
         * @type {!Object}
         */
        $scope.data = {
          states: dlcuiApplicationFrameStates,
          layoutStates: dlcuiLayoutStates
        };
      }],
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/toolbar/dlcuiToolbar.directive.html'].join(''),
      link: function (scope, element) {
        /**
         * The actual toolbar
         */
        var $toolbarElement = element;

        /**
         * The direct children count of the toolbar.
         * @type {!number}
         * @private
         */
        var _toolbarChildItemCount = $toolbarElement.children().length || 1;

        /**
         * Expands or collapses all the collapsible groups.
         * @private
         */
        function _updateCollapsedGroups () {
          if (scope.collapseAll === 'true' || scope.data.layoutStates.detailsExpanded ||
            scope.data.layoutStates.windowSize === 'xsmall') {
            scope.updateCollapsibleGroups(true);
          } else {
            scope.updateCollapsibleGroups(false);
          }
        }

        dlcuiFlexbox.updateJustification(scope.justify, $toolbarElement);
        dlcuiFlexbox.updateAlignment(scope.align, $toolbarElement);

        /**
         * Styles used by the main toolbar.
         * @type {!Object}
         */
        scope.toolbarStyles = {
          'min-width': ((_toolbarChildItemCount * 30) + 40) + 'px'
        };

        // Only add event listeners if we actually have a collapsible group
        if ($toolbarElement.find('.dlcui-toolbar-collapsible-group:first').length) {
          scope.$watch('data.layoutStates.detailsExpanded', function() {
            _updateCollapsedGroups();
          });

          scope.$watch('data.layoutStates.windowSize', function() {
            _updateCollapsedGroups();
          });

          scope.$watch('collapseAll', function() {
            _updateCollapsedGroups();
          });
        }
      }
    };
  }]);

;/**
 * @ngdoc directive
 * @name toolbarButton
 * @module dlcui
 * @src directives/output/toolbar/toolbarButton.directive.js
 * @restrict E
 *
 * @param {string=} label A label to display for the button and is optional
 * @param {string=} collapsed-label A label to use if this is contained in a collapsible group and should be used
 * for icon based buttons where labels are not to be displayed in the main toolbar area. The collapse group will
 * default to the define label if this value is not defined.
 * @param {string=} icon-name Name of an icon to display and is optional
 * @param {string=} icon-type The icon type such as 'image', 'svg' or 'font' the default will calculated
 * @param {string=} icon-color Name of an icon to display and is optional
 * @param {string=} tooltip The tooltip to display and the design will revert to <i>label</i> if it is provided.
 *
 * @description
 * A toolbar button that can only be placed within a toolbar directive.
 *
 * @example
 * <h3>Toolbar Buttons.</h3>
 * <example>
 *  <file name='index.html'>
 *    <dlcui-toolbar justify="flex-start">
 *        <dlcui-toolbar-button ng-click="click()" label="Text Button"></dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click()" icon-name="copy"></dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click()" icon-name="cut" label="Cut..."></dlcui-toolbar-button>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *           $scope.click = function() {
 *              alert('You clicked a toolbar button!');
 *           }
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiToolbarButton', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      require: '^dlcuiToolbar',
      restrict: 'E',
      replace: true,
      scope: {
        iconName: '@',
        iconType: '@',
        iconColor: '@',
        label: '@',
        collapsedLabel: '@',
        disabled: '=?ngDisabled',
        tooltip: '@'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/toolbar/dlcuiToolbarButton.directive.html'].join(''),
      link: function (scope) {
        /**
         * Whether the icon is valid or not
         * @type {boolean}
         */
        scope.icon = dlcui.isStringWithLength(scope.iconName);

        /**
         * Called when the user clicks on the toolbar button.
         * @param {!Event} event The click event
         */
        scope.onToolbarClick = function (event) {
          if (scope.disabled) {
            event.preventDefault();
            event.stopPropagation();
          }
        };
      }
    };
  }]);

;/**
 * @ngdoc directive
 * @name toolbarCollapsibleGroup
 * @module dlcui
 * @src directives/output/toolbar/toolbarCollapsibleGroup.directive.js
 * @restrict E
 *
 * @param {string} align Optional value that defines how to align items vertically and can be accessed using one of
 * the following constant values through the angular constant DLCUI_FLEXBOX_ALIGN,
 * * 'flex-start' or DLCUI_FLEXBOX_ALIGN.flexStart - Align to the top of the toolbar.
 * * 'flex-end' or DLCUI_FLEXBOX_ALIGN.flexEnd - Align to the bottom of the toolbar.
 * * 'center' or DLCUI_FLEXBOX_ALIGN.center (Default) - Align to the middle of the toolbar.
 * @param {string} justify Optional value that defines how to position items horizontally and can be accessed using
 * one of the following constant values through the angular constant DLCUI_FLEXBOX_JUSTIFY,
 * * 'space-between' or DLCUI_FLEXBOX_JUSTIFY.spaceBetween - Position toolbar items so they flow with spaces
 * between them but with no space before the first nor the last toolbar item.
 * * 'space-around' or DLCUI_FLEXBOX_JUSTIFY.spaceAround - Position items so they flow with space between them and with
 * space before the first item and a space after the last toolbar item.
 * * 'flex-start' or DLCUI_FLEXBOX_JUSTIFY.flexStart - Position items to flow from the start of the container with
 * no spaces between the toolbar items nor before the first and last toolbar items.
 * * 'flex-end' or DLCUI_FLEXBOX_JUSTIFY.flexEnd (Default) - Position items to flow at the end of the container
 * with no spaces.
 * * 'center' or DLCUI_FLEXBOX_JUSTIFY.center - Position items to the middle of the toolbar with no space between
 * them but with spaces before the first toolbar item and a space after the last toolbar item.
 *
 * @description
 * A Collapsible Button Group Container that collapses buttons into a toolbar menu button based on the current state
 * of the open editors.
 *
 * This group is collapsed when one of the following criteria is satisfied
 * * The window size is too small <b>< 768px</b>
 * * The <b>dlcuiLayoutStates.detailsExpanded</b> is set to true.
 * * The main toolbar <b>collapse-all</b> is set to true.
 *
 * Collapsible groups can only be added directly as children of the <i>dlcui-toolbar</i> directive and can't be nested.
 *
 * <b>NOTE:</b> In order for this component to work correctly it is important that only dlcui-toolbar-button elements are
 * to be added and absolutely nothing else, including no separators.
 *
 * A <i>collapsed-label</i> attribute must be added to buttons that only display an icon. This attribute can also
 * be added to buttons with labels where the label is meant to be different in the popup menu.
 *
 * @example
 * <h3>Collapsed design on dlcuiLayoutStates.detailsExpanded</h3>
 * <example name="dlcuiLayoutStatesDetailsExpanded">
 *  <file name="index.html">
 *    <label class="btn-label">dlcuiLayoutStates.detailsExpanded:&nbsp;<input type="checkbox" ng-model="collapseAll">
 *    </label>
 *    <br><br>
 *    <div class="collapsible-window">
 *      <dlcui-toolbar justify="flex-end">
 *        <dlcui-toolbar-collapsible-group>
 *          <dlcui-toolbar-button ng-click="click('Edit Device')"
 *                              icon-name="#ic_editrename"
 *                              tooltip="Edit Device"
 *                              collapsed-label="Edit Device">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Delete Device')"
 *                              icon-name="#ic_delete"
 *                              tooltip="Delete Device"
 *                              collapsed-label="Delete Device">
 *          </dlcui-toolbar-button>
 *       </dlcui-toolbar-collapsible-group>
 *       <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *       <dlcui-toolbar-group>
 *         <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *         </dlcui-toolbar-button>
 *         <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *         </dlcui-toolbar-button>
 *         <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *         </dlcui-toolbar-button>
 *       </dlcui-toolbar-group>
 *      </dlcui-toolbar>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, dlcuiLayoutStates) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *          $scope.$watch('collapseAll', function(newValue) {
 *             dlcuiLayoutStates.detailsExpanded = newValue;
 *          });
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 350px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *    .dlcuiSlider {
 *      width: 50%;
 *      height: 50px;
 *    }
 *    .collapsible-window {
 *      border: 1px dashed lightgrey;
 *      padding: 10px;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Collapsed design on toolbar collapseAll</h3>
 * <example name="collapseAll">
 *  <file name="index.html">
 *    <label class="btn-label">
 *        collapse-all:&nbsp;<input type="checkbox" ng-model="collapseAll">
 *    </label>
 *    <br>
 *    <label class="btn-label">
 *        Disable Delete Device:&nbsp;<input type="checkbox" ng-model="disableDeleteDevice">
 *    </label>
 *    <br>
 *    <label class="btn-label">
 *        Hide Edit Device:&nbsp;<input type="checkbox" ng-model="hideEditDevice">
 *    </label>
 *    <br><br>
 *    <div class="collapsible-window">
 *      <dlcui-toolbar justify="flex-end" collapse-all="{{collapseAll}}">
 *        <dlcui-toolbar-collapsible-group>
 *          <dlcui-toolbar-button ng-click="click('Edit Device')"
 *                              icon-name="#ic_editrename"
 *                              tooltip="Edit Device"
 *                              ng-hide="hideEditDevice"
 *                              collapsed-label="Edit Device">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Delete Device')"
 *                              icon-name="#ic_delete"
 *                              tooltip="Delete Device"
 *                              ng-disabled="disableDeleteDevice"
 *                              collapsed-label="Delete Device">
 *          </dlcui-toolbar-button>
 *       </dlcui-toolbar-collapsible-group>
 *       <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *       <dlcui-toolbar-group>
 *         <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *          </dlcui-toolbar-button>
 *       </dlcui-toolbar-group>
 *      </dlcui-toolbar>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 350px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *    .dlcuiSlider {
 *      width: 50%;
 *      height: 50px;
 *    }
 *    .collapsible-window {
 *      border: 1px dashed lightgrey;
 *      padding: 10px;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Collapsed design on Small Window</h3>
 * <example name="standardToolbarAppendedActionsCollapsible">
 *  <file name="index.html">
 *    Resize the browser window width to collapse the toolbar items below. Also notice how the other examples also
 *    collapse automatically on this page.
 *    <br><br>
 *    <div class="collapsible-window">
 *      <dlcui-toolbar justify="flex-end">
 *        <dlcui-toolbar-collapsible-group>
 *          <dlcui-toolbar-label label="This is a test"></dlcui-toolbar-label>
 *          <dlcui-toolbar-button ng-click="click('Edit Device')"
 *                              icon-name="#ic_editrename"
 *                              tooltip="Edit Device"
 *                              collapsed-label="Edit Device">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Delete Device')"
 *                              icon-name="#ic_delete"
 *                              tooltip="Delete Device"
 *                              collapsed-label="Delete Device">
 *          </dlcui-toolbar-button>
 *       </dlcui-toolbar-collapsible-group>
 *       <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *       <dlcui-toolbar-group>
 *         <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *          </dlcui-toolbar-button>
 *          <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *          </dlcui-toolbar-button>
 *       </dlcui-toolbar-group>
 *      </dlcui-toolbar>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, $window) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 350px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *    .dlcuiSlider {
 *      width: 50%;
 *      height: 50px;
 *    }
 *    .collapsible-window {
 *      border: 1px dashed lightgrey;
 *      padding: 10px;
 *      width: 100%;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiToolbarCollapsibleGroup', ['dlcuiBaseTemplatePath', 'dlcuiFlexbox', '$timeout', '$log', '$parse', 'DLCUI_FLEXBOX_JUSTIFY', function (dlcuiBaseTemplatePath,
                                                     dlcuiFlexbox,
                                                     $timeout,
                                                     $log,
                                                     $parse,
                                                     DLCUI_FLEXBOX_JUSTIFY) {
    return {
      require: '^dlcuiToolbar',
      restrict: 'E',
      replace: true,
      scope: {
        align: '@',
        justify: '@'
      },
      transclude: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/toolbar/dlcuiToolbarCollapsibleGroup.directive.html'].join(''),
      link: function (scope, element, attrs, dlcuiToolbarCtrl) {
        // Register this element with the toolbar
        dlcuiToolbarCtrl.registerCollapsibleGroup(scope, element);

        /**
         * Locates all the toolbar buttons and fills the _buttonElements array.
         * @returns {Array} The button elements that is built.
         * @private
         */
        function _initialize() {
          var buttonElements = [];
          scope.actions = [];
          // Build the button array
          angular.forEach(element.children(), function (toolbarItemEl) {
            var $toolbarItemEl = angular.element(toolbarItemEl);
            if ($toolbarItemEl.is('.dlcui-toolbar-button:not(.dlcui-collapse-menu-button)')) {
              // Create the button object
              var button = {
                action: {
                  label: $toolbarItemEl.attr('label') || $toolbarItemEl.attr('collapsed-label'),
                  icon: $toolbarItemEl.attr('icon-name'),
                  disabled: function () {
                    // Check the disabled state
                    var ngDisabled = $toolbarItemEl.attr('ng-disabled');
                    if (dlcui.isStringWithLength(ngDisabled)) {
                      return $parse(ngDisabled)(scope.$parent);
                    }

                    return false;
                  },
                  hide: function () {
                    // Check the hide state
                    var ngHide = $toolbarItemEl.attr('ng-hide');
                    if (dlcui.isStringWithLength(ngHide)) {
                      return $parse(ngHide)(scope.$parent);
                    }

                    // Check the show state
                    var ngShow = $toolbarItemEl.attr('ng-show');
                    if (dlcui.isStringWithLength(ngShow)) {
                      return !$parse(ngShow)(scope.$parent);
                    }

                    return false;
                  },
                  execute: function () {
                    $timeout(function () {
                      $toolbarItemEl.click();
                    });
                  }
                },
                element: toolbarItemEl
              };

              buttonElements.push(button);
            }
          });

          return buttonElements;
        }

        /**
         * Called to either collapse or expand the buttons based on the dimenstions and options
         * configured by the developer.
         * @param {!boolean} collapseAll True to collapse all the buttons
         * @private
         */
        function _collapseExpandButtons (collapseAll) {
          var buttonElements = _initialize();
          if (collapseAll) {
            // We need to hide a few buttons
            element.children(':not(.dlcui-collapse-menu-button)').addClass('dlcui-collapsed');
            var actions = [];
            angular.forEach(buttonElements, function (button) {
              if (button.action) {
                actions.push(button.action);
              }
            });

            scope.actions = actions;
          } else {
            // We can show a few buttons
            element.children(':not(.dlcui-collapse-menu-button)').removeClass('dlcui-collapsed');
          }
          scope.hideExpansionButton = !dlcui.isArrayWithLength(scope.actions);
        }

        dlcuiFlexbox.updateJustification(scope.justify, element, DLCUI_FLEXBOX_JUSTIFY.flexEnd);
        dlcuiFlexbox.updateAlignment(scope.align, element);

        /**
         * The menu actions used by the menu toolbar button
         * @type {Array}
         */
        scope.actions = [];

        /**
         * Specifies whether the expansion button is hidden or visible
         * @type {boolean}
         */
        scope.hideExpansionButton = true;

        scope.$on('$destroy', function () {
          dlcuiToolbarCtrl.unregisterCollapsibleGroup(scope);
        });

        scope.$watch('collapseAll', function(newValue, oldValue) {
          if (newValue !== oldValue) {
            _collapseExpandButtons(newValue);
          }
        });
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name toolbarGroup
 * @module dlcui
 * @src directives/output/toolbar/toolbarGroup.directive.js
 * @restrict E
 *
 * @param {string} align Optional value that defines how to align items vertically and can be accessed using one of
 * the following constant values through the angular constant DLCUI_FLEXBOX_ALIGN,
 * * 'flex-start' or DLCUI_FLEXBOX_ALIGN.flexStart - Align to the top of the toolbar.
 * * 'flex-end' or DLCUI_FLEXBOX_ALIGN.flexEnd - Align to the bottom of the toolbar.
 * * 'center' or DLCUI_FLEXBOX_ALIGN.center (Default) - Align to the middle of the toolbar.
 * @param {string} justify Optional value that defines how to position items horizontally and can be accessed using
 * one of the following constant values through the angular constant DLCUI_FLEXBOX_JUSTIFY,
 * * 'space-between' or DLCUI_FLEXBOX_JUSTIFY.spaceBetween - Position toolbar items so they flow with spaces
 * between them but with no space before the first nor the last toolbar item.
 * * 'space-around' or DLCUI_FLEXBOX_JUSTIFY.spaceAround - Position items so they flow with space between them and with
 * space before the first item and a space after the last toolbar item.
 * * 'flex-start' or DLCUI_FLEXBOX_JUSTIFY.flexStart - Position items to flow from the start of the container with
 * no spaces between the toolbar items nor before the first and last toolbar items.
 * * 'flex-end' or DLCUI_FLEXBOX_JUSTIFY.flexEnd (Default) - Position items to flow at the end of the container
 * with no spaces.
 * * 'center' or DLCUI_FLEXBOX_JUSTIFY.center - Position items to the middle of the toolbar with no space between
 * them but with spaces before the first toolbar item and a space after the last toolbar item.
 *
 * @description
 * A toolbar button that can only be placed within a toolbar directive.
 *
 * @example
 * <h3>Standard Toolbar</h3>
 * <example name="standardToolbar">
 *  <file name="index.html">
 *    <dlcui-toolbar>
 *      <dlcui-toolbar-group>
 *        <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       DLCUI_FLEXBOX_ALIGN,
 *                                       DLCUI_FLEXBOX_JUSTIFY) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Standard Toolbar With Text label and Text Link Button</h3>
 * <example name="standardToolbarWithTextLabel">
 *  <file name="index.html">
 *    <dlcui-toolbar justify="space-between">
 *      <dlcui-toolbar-group justify="flex-start">
 *        <dlcui-toolbar-label label="Devices"></dlcui-toolbar-label>
 *        <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *        <dlcui-toolbar-button label="Clear All" ng-disabled="disableClearAll" ng-click="click('Clear All Devices')">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *      <dlcui-toolbar-group justify="flex-end">
 *        <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       DLCUI_FLEXBOX_ALIGN,
 *                                       DLCUI_FLEXBOX_JUSTIFY) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *          $scope.disableClearAll = false;
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiToolbarGroup', ['dlcuiBaseTemplatePath', 'dlcuiFlexbox', 'DLCUI_FLEXBOX_JUSTIFY', function (dlcuiBaseTemplatePath,
                                          dlcuiFlexbox,
                                          DLCUI_FLEXBOX_JUSTIFY) {
    return {
      require: '^dlcuiToolbar',
      restrict: 'E',
      replace: true,
      scope: {
        align: '@',
        justify: '@'
      },
      transclude: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/toolbar/dlcuiToolbarGroup.directive.html'].join(''),
      link: function (scope, element, attrs, dlcuiToolbarCtrl) {
        // Register this element with the toolbar
        dlcuiToolbarCtrl.registerButtonGroup(scope, element);

        dlcuiFlexbox.updateJustification(scope.justify, element, DLCUI_FLEXBOX_JUSTIFY.flexEnd);
        dlcuiFlexbox.updateAlignment(scope.align, element);

        scope.$on('$destroy', function () {
          dlcuiToolbarCtrl.unregisterButtonGroup(scope);
        });
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name toolbarLabel
 * @module dlcui
 * @src directives/output/toolbar/toolbarLabel.directive.js
 * @restrict E
 *
 * @param {string} label A label to display
 *
 * @description
 * A toolbar label item that can only be placed within a toolbar directive.
 *
 * The styling of this label is controlled by the developer and remember the default height of the toolbar contents
 * area is currently 30px, so fonts larger than this may be hidden unless this height of the toolbar is overridden
 * through CSS.
 *
 * To change the font of the label you could append an addition class to the <b>dlcui-toolbar-label</b> element and
 * update the font in the CSS to match that.
 *
 * @example
 * <h3>Standard Toolbar With Text label and Text Link Button</h3>
 * <example name="standardToolbarWithTextLabel">
 *  <file name="index.html">
 *    <dlcui-toolbar justify="space-between">
 *      <dlcui-toolbar-group justify="flex-start">
 *        <dlcui-toolbar-label label="Devices"></dlcui-toolbar-label>
 *        <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *        <dlcui-toolbar-button label="Clear All" ng-disabled="disableClearAll" ng-click="click('Clear All Devices')">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *      <dlcui-toolbar-group justify="flex-end">
 *        <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       CCC_FLEXBOX_ALIGN,
 *                                       CCC_FLEXBOX_JUSTIFY) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *          $scope.disableClearAll = false;
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiToolbarLabel', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      require: '^dlcuiToolbar',
      restrict: 'E',
      replace: true,
      scope: {
        label: '@'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/toolbar/dlcuiToolbarLabel.directive.html'].join(''),
      link: function () {
      }
    };
  }]);

;/**
 * @ngdoc directive
 * @name toolbarMenuButton
 * @module dlcui
 * @src directives/output/toolbar/toolbarMenuButton.directive.js
 * @restrict E
 *
 * @param {array=} actions Optional array of actions to include within this menu button.
 * @param {string=} label A label to display for the button and is optional
 * @param {string} icon-name Name of an icon to display
 * @param {string=} icon-type The icon type such as 'image', 'svg' or 'font' the default will calculated
 * @param {string=} icon-color Name of an icon to display and is optional
 * @param {string=} icon-size Name of an icon to display and is optional
 *
 * The format of the json should be,
 * ```javascript
 * {
 *    label: 'The menu label',
 *    execute: function() {
 *      // Called when user clicks on this menu item
 *    },
 *    icon: {     // Optional to include an icon to the left of the label
 *      name: 'copy',
 *      color: 'blue', // Optional
 *      size: '12px'  // Optional and default is '1em'
 *    }
 * }
 * ```
 *
 * @description
 * The toolbar menu button can only be used within a toolbar directive and allows the developer to display
 * a single button that display a menu when clicked.
 *
 * The items on the menu can be defined on the scope.
 *
 * @example
 * <h3>Menu Button with Scope Actions.</h3>
 * <example>
 *  <file name='index.html'>
 *    <dlcui-toolbar justify="flex-start">
 *        <dlcui-toolbar-menu-button icon-name="#ic_more" icon-type="svg" actions="actions"></dlcui-toolbar-menu-button>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       DLCUI_FLEXBOX_ALIGN,
 *                                       DLCUI_FLEXBOX_JUSTIFY) {
 *          $scope.actions = [
 *            {
 *              id: 'one',
 *              label: 'Item One',
 *              execute: $scope.click = function() {
 *                alert('You clicked ' + this.label + '!');
 *              }
 *            },
 *            {
 *              id: 'two',
 *              label: 'Item Two',
 *              execute: $scope.click = function() {
 *                alert('You clicked ' + this.label + '!');
 *              },
 *              icon: {
 *                name: 'heart'
 *              }
 *            }
 *          ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *  </file>
 * </example>
 *
 * <h3>Menu Button with label</h3>
 * <example>
 *  <file name='index.html'>
 *    <dlcui-toolbar justify="flex-start">
 *       <dlcui-toolbar-menu-button icon-name="copy" label="Menu Button" actions="actions">
 *      </dlcui-toolbar-menu-button>
 *   </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       DLCUI_FLEXBOX_ALIGN,
 *                                       DLCUI_FLEXBOX_JUSTIFY) {
 *          $scope.actions = [
 *            {
 *              id: 'one',
 *              label: 'Item One',
 *              execute: $scope.click = function() {
 *                alert('You clicked ' + this.label + '!');
 *              }
 *            },
 *            {
 *              id: 'two',
 *              label: 'Item Two',
 *              execute: $scope.click = function() {
 *                alert('You clicked ' + this.label + '!');
 *              },
 *              icon: {
 *                name: 'heart'
 *              }
 *            }
 *          ];
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiToolbarMenuButton', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      require: '^dlcuiToolbar',
      restrict: 'E',
      replace: true,
      scope: {
        actions: '=?',
        label: '@',
        iconName: '@',
        iconType: '@',
        iconSize: '@',
        iconColor: '@'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/toolbar/dlcuiToolbarMenuButton.directive.html'].join(''),
      link: function (scope, element) {
        /**
         * True if the menu button uses ng transclusion to add menu items.
         * @type {boolean}
         * @private
         */
        var _containsMenuItems = angular.element(element).find('.cui-menu-item').length > 0;

        /**
         * True if the component contains transcluded stuff
         * @returns {boolean} true if disabled.
         */
        scope.isDisabled = function () {
          return !(_containsMenuItems || dlcui.isArrayWithLength(scope.actions));
        };

        scope.anchor = 'left';

        if ($(element).next('.dlcui-toolbar-item').is('.dlcui-toolbar-separator') ||
          $(element).parent().next('.dlcui-toolbar-item').is('.dlcui-toolbar-separator')) {
          scope.anchor = 'right';
        }
      }
    };
  }]);

;/**
 * @ngdoc directive
 * @name toolbarSeparator
 * @module dlcui
 * @src directives/output/toolbar/toolbarLabel.directive.js
 * @restrict E
 *
 * @description
 * A toolbar separator item that can only be placed within a toolbar directive.
 *
 * @example
 * <h3>Standard Toolbar with Seperator</h3>
 * <example name="tandardToolbarAppendedActions">
 *  <file name="index.html">
 *    <dlcui-toolbar justify="flex-end">
 *      <dlcui-toolbar-group>
 *        <dlcui-toolbar-button ng-click="click('Edit Device')"
 *                            icon-name="#ic_editrename"
 *                            tooltip="Edit Device"
 *                            collapsed-label="Edit Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Delete Device')"
 *                            icon-name="#ic_delete"
 *                            tooltip="Delete Device"
 *                            collapsed-label="Delete Device">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *      <dlcui-toolbar-separator></dlcui-toolbar-separator>
 *      <dlcui-toolbar-group>
 *        <dlcui-toolbar-button ng-click="click('Add Device')" icon-name="#ic_A_02_add_device" tooltip="Add Device">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Search')" icon-name="#ic_search" tooltip="Search">
 *        </dlcui-toolbar-button>
 *        <dlcui-toolbar-button ng-click="click('Filter')" icon-name="#ic_filter" tooltip="Filter">
 *        </dlcui-toolbar-button>
 *      </dlcui-toolbar-group>
 *    </dlcui-toolbar>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       DLCUI_FLEXBOX_ALIGN,
 *                                       DLCUI_FLEXBOX_JUSTIFY) {
 *          $scope.click = function(label) {
 *              alert('You clicked toolbar button \'' + label + '\'.');
 *          };
 *
 *      });
 *  </file>
 *  <file name='styles.css'>
 *    body {
 *      height: 150px;
 *    }
 *    .dlcui-toolbar {
 *      border-bottom: 1px solid #cccccc;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiToolbarSeparator', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/output/toolbar/dlcuiToolbarSeparator.directive.html'].join(''),
      link: function () {
      }
    };
  }]);

;  angular.module('dell.ngclarity.directives').factory('dlcuiTooltipCalculateCenterOffset', function() {
  return function (position, el) {
    var center = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];

    if (!center) {
      return '0 0';
    }

    var elem = el[0];
    var elWidth = elem.getBoundingClientRect != null ? elem.getBoundingClientRect().width : elem.offsetWidth;
    var elHeight = elem.getBoundingClientRect != null ? elem.getBoundingClientRect().height : elem.offsetHeight;

    elWidth = Math.round(elWidth);
    elHeight = Math.round(elHeight);

    position = position.split(' ');
    var offset = {
      xPos: 0,
      yPos: 0
    };

    switch (position[1]) {
      case 'right':
        offset.xPos = elWidth - elWidth / 2 - 21;
        break;
      case 'left':
        offset.xPos = -(elWidth / 2) + 21;
        break;
      case 'top':
        offset.yPos = -(elHeight / 2) + 21;
        break;
      case 'bottom':
        offset.yPos = elHeight - elHeight / 2 - 21;
    }
    return offset.yPos + 'px ' + offset.xPos + 'px';
  };
}
);;  /**
 * @ngdoc directive
 * @name tip
 * @controlType actionable
 *
 * @module cui.controls
 * @description Tips provide additional information about an item in the UI. For instance, a tip could be placed next to a Textbox to show the pattern requirements of the expected value.
 *
 * There are two different types of Tips, as illustrated by the examples below. The first is the `tooltip`, the
 * second is a `hint`. Use the `tooltip` type for longer content, or HTML content which needs to be formated
 * multiple lines, headings, etc), and use the `hint` type for short content.
 *
 * Tips will do their best to stay within the viewport. This is shown in the first example, the "left top" and "right top" both have extremely long content, and as such, the Tip flips to the opposite side.
 *
 * @src directives/output/tip/tip.js
 * @restrict A
 *
 * @param {Object} dlcuiTooltip The base directive. Can be passed an object of the following format:
 * ```js
 * {
 *   content: String,
 *   position: String,
 *   openOn: String,
 *   templateUrl: String,
 *   type: String
 * }
 * ```
 *
 * __Attributes listed will override properties in this object.__
 *
 * For instance, if you set `content: 'Hello there'`, but also set `cui-tip-content='No, goodbye'`, the content
 * of the tip will be `'No, goodbye'`.
 *
 *   @param {String=} dlcuiTooltipContent An HTML content string.
 *   @param {String=} dlcuiTooltipPosition The position the Tip should anchor at. One of:
 * ```js
 * 'top left'
 * 'left top'
 * 'left middle'
 * 'left bottom'
 * 'bottom left'
 * 'bottom center'
 * 'bottom right'
 * 'right bottom'
 * 'right middle'
 * 'right top'
 * 'top right'
 * 'top center' // Default
 * ```
 *
 * The syntax for position follows the pattern of `"vertical-position horizontal-position"`, where the `vertical- * position` determines what side of the target you want the Tip to show on, and the `horizontal-position`
 * determines which part of the Tip should align to the target.
 *
 * This syntax is taken from [Tether.io](http://tether.io).
 *   @param {String=} dlcuiTooltipOpenOn Specifies what event on the target element opens the Tip. One of:
 * ```js
 * 'click'
 * 'hover' // Default
 * 'always'
 * ```
 *
 * @param {String=} dlcuiTooltipTemplateUrl The URL of a template which should be loaded as the content. Use of this
 * attribute will override the value of `cui-tip-content`.
 *
 * @param {String=} dlcuiTooltipType The type of Tip to be displayed. One of:
 * ```js
 * 'tooltip' // Default
 * 'hint'
 * ```
 *
 *   @example
 *   <h3>Tooltip label</h3>
 * <example name="Tooltip">
 *   <file name="index.html">
 *     <div class="centered">
 *       <cui-button cui-tip cui-tip-position="top left">Top Left</cui-button>
 *       <cui-button cui-tip>Top Center [default]</cui-button>
 *       <cui-button cui-tip cui-tip-position="top right">Top Right</cui-button>
 *     </div>
 *
 *     <div class="centered">
 *         <cui-button cui-tip cui-tip-position="left top">Left Top</cui-button>
 *         <span>&nbsp;</span>
 *         <cui-button cui-tip cui-tip-position="right top">Right Top</cui-button>
 *     </div>
 *
 *     <div class="centered">
 *         <cui-button cui-tip cui-tip-position="left middle">Left Middle</cui-button>
 *         <span>&nbsp;</span>
 *         <cui-button cui-tip cui-tip-position="right middle">Right Middle</cui-button>
 *     </div>
 *
 *     <div class="centered">
 *         <cui-button cui-tip cui-tip-position="left bottom">Left Bottom</cui-button>
 *         <cui-button cui-type="success" cui-tip cui-tip-template-url="tooltipTmpl.html">
 *             Tip Templates</cui-button>
 *         <cui-button cui-tip cui-tip-position="right bottom">Right Bottom</cui-button>
 *     </div>
 *
 *     <div class="centered">
 *       <cui-button cui-tip cui-tip-position="bottom left">Bottom Left</cui-button>
 *       <cui-button cui-tip cui-tip-position="bottom center">Bottom Center</cui-button>
 *       <cui-button cui-tip cui-tip-position="bottom right">Bottom Right</cui-button>
 *     </div>
 *   </file>
 *   <file name="tooltipTmpl.html">
 *     <h1>
 *      <cui-icon icon="check-square" color="green" cui-tip cui-tip-content="Yo Dawg"></cui-icon> Success!</h1>
 *     <p>You can use a template inside of the content of a tooltip!</p>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope) {
 *         // Nothing required here.
 *       })
 *   </file>
 *   <file name='style.css'>
 *   body {
 *     min-height: 400px;
 *   }
 *
 *   .centered {
 *     width: 600px;
 *     margin: 100px auto;
 *     text-align: center;
 *   }
 *
 *   .centered > :first-child {
 *     float: left;
 *   }
 *
 *   .centered > :last-child {
 *     float: right;
 *   }
 *   </file>
 * </example>
 *
 *   @example
 *   <h3>Dynamic Placement</h3>
 *   <p>CUI Tips reposition themselves if their rendered content does not fit in the defined location.</p>
 * <example>
 *   <file name='index.html'>
 *     <cui-button cui-tip cui-tip-position="left middle"
 *         cui-tip-content="<b>Nope, it can't fit middle left.</b>
 *         <br/>The content is to long so it repositions the tip to the opposite side.">
 *         Tip should appear middle left if the content can fit
 *     </cui-button>
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope) {
 *         // Nothing required here.
 *       })
 *   </file>
 *   <file name='style.css'>
 *     body {
 *       margin: 20px;
 *       min-height: 100px;
 *     }
 *   </file>
 * </example>
 *
 *   @example
 *   <h3>SVG</h3>
 * <example name='Tooltip'>
 *   <file name='index.html'>
 *     <svg height='300' width='400'>
 *       <g>
 *         <circle cx='100' cy='100' r='30' cui-tip='tip'></circle>
 *       </g>
 *     </svg>
 *  </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope) {
 *         // Nothing required here to have a label.
 *         $scope.tip = {
 *           position: 'top left',
 *           content: 'Setting content in base config object'
 *         }
 *       })
 *   </file>
 * </example>
 *
 *   @example
 *   <h3>Updating content</h3>
 * <example name='Tooltip'>
 *   <file name='index.html'>
 *     <cui-icon size='48px' icon='clock-o' cui-tip cui-tip-type='hint'
 *          cui-tip-content='{{content}}' cui-tip-open-on='always' cui-tip-position='right middle'></cui-icon>
 *   </file>
 *   <file name='style.css'>
 *     body { height: 400px; }
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope, $timeout, $filter) {
 *         function setTime() {
 *           var time = $filter('date')(new Date(), 'mediumTime')
 *           $scope.content = "Current Time: " + time;
 *           $timeout(setTime, 1000)
 *         }
 *
 *         setTime()
 *       })
 *   </file>
 * </example>
 *
 *   @example
 *   <h3>"Hint"</h3>
 * <example name='Tooltip'>
 *   <file name='index.html'>
 *     <h1>Sign up now!</h1>
 *     <div>
 *       <cui-textbox placeholder='Email' ng-model='user.username'></cui-textbox>
 *       <cui-icon icon='question-circle' cui-tip cui-tip-content='Try to use a non-Yahoo email account.'
 *         cui-tip-type='hint' cui-tip-position='right middle'></cui-icon>
 *     </div>
 *     <div>
 *       <cui-textbox placeholder='Password' ng-model='user.password' type='password'></cui-textbox>
 *       <cui-icon  icon='question-circle' cui-tip cui-tip-content='8 or more alphanumeric characters.'
 *          cui-tip-type='hint' cui-tip-position='right middle'></cui-icon>
 *     </div>
 *   </file>
 *   <file name='style.css'>
 *     body { height: 400px; }
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['cui'])
 *       .controller('AppCtrl', function($scope) {
 *       })
 *   </file>
 * </example>
*/

/* global Drop:false */
'use strict';

angular.module('dell.ngclarity.directives').directive('dlcuiTooltip',   ['$compile', '$templateCache', '$timeout', 'dlcuiBaseTemplatePath', 'dlcuiTooltip', 'dlcuiTooltipCalculateCenterOffset', function($compile, $templateCache, $timeout, dlcuiBaseTemplatePath, dlcuiTooltip, dlcuiTooltipCalculateCenterOffset) {
  // eslint-disable-line max-params
  function link(scope, element, attributes) {
    var defaults = {
      position: 'top center',
      centerArrow: true,
      openOn: 'hover',
      content: 'No Content',
      type: 'tooltip'
    };

    var tooltipConfig = scope[attributes.dlcuiTooltip];
    var type = attributes.dlcuiTooltipType || (tooltipConfig != null ? tooltipConfig.type : null) || defaults.type;

    if (type === 'menu') {
      angular.extend(defaults, {
        type: 'menu',
        centerArrow: false,
        position: 'bottom right',
        openOn: 'click'
      });
    }

    var config = {
      position: attributes.dlcuiTooltipPosition || (tooltipConfig != null ? tooltipConfig.position : null) || defaults.position,
      centerArrow: attributes.dlcuiTooltipCenterArrow || (tooltipConfig != null ? tooltipConfig.centerArrow : null) || defaults.centerArrow, // eslint-disable-line max-len
      openOn: attributes.dlcuiTooltipOpenOn || (tooltipConfig != null ? tooltipConfig.openOn : null) || defaults.openOn,
      content: attributes.dlcuiTooltipContent || (tooltipConfig != null ? tooltipConfig.content : null) || defaults.content,
      templateUrl: attributes.dlcuiTooltipTemplateUrl || (tooltipConfig != null ? tooltipConfig.templateUrl : null) || undefined,
      type: type
    };

    config.classes = 'dlcux-tooltip-theme-' + config.type;
    var newScope = null;
    if (config.templateUrl != null) {
      newScope = scope.$new();
      newScope.templateUrl = config.templateUrl;
      var tooltipTmpl = $templateCache.get(dlcuiBaseTemplatePath + 'directives/output/tooltip/dlcuiTooltip.directive.html');

      var tooltipContent = $compile(tooltipTmpl)(newScope);
      config.content = tooltipContent[0];
    }

    $timeout(function () {
      var _tooltip = dlcuiTooltip({
        target: element[0],
        content: config.content,
        classes: config.classes,
        position: config.position,
        openOn: config.openOn,
        tetherOptions: {
          offset: dlcuiTooltipCalculateCenterOffset(config.position, element, config.centerArrow),
          constraints: [{
            to: 'scrollParent',
            attachment: 'together',
            pin: ['left', 'right']
          }]
        }
      });

      _tooltip.on('open', function () {
        scope.$broadcast('dlcui:tooltip:open');
      });

      _tooltip.on('close', function () {
        scope.$broadcast('dlcui:tooltip:close');
      });

      if (newScope != null) {
        newScope._tooltip = _tooltip;
      }

      attributes.$observe('dlcuiTooltipContent', function (newValue) {
        if (newValue != null) {
          _tooltip.content.innerHTML = newValue;
          return _tooltip.position();
        }
      });
      return _tooltip;
    });
  }

  return {
    restrict: 'A',
    link: link
  };
}]);
;  angular.module('dell.ngclarity.directives').factory('dlcuiTooltip', function () {
  return function (config) {
    var _Drop = Drop.createContext({
      classPrefix: 'dlcux-tooltip'
    });

    var _tooltip = new _Drop(config);

    // this isn't pretty but we needed a way to prevent opening on mobile devices when the target is disabled.
    var target = angular.element(_tooltip.target);
    target.on('touchstart click', function () {
      if (_tooltip.target.disabled === true) {
        _tooltip.close();
        return;
      }
    });

    // TODO: This will not set the active item in a menu with the advent of rich menu types`
    _tooltip.on('open', function () {
      if (config.type === 'menu') {
        var _ret = (function () {
          var li = angular.element(_tooltip.drop).find('li');

          angular.forEach(li, function (item) {
            var el = angular.element(item);
            if (el.hasClass('kb-active')) {
              item.focus();
            }
          });

          return {
            v: li.on('mouseenter', function (ev) {
              angular.forEach(li, function (item) {
                item.blur();
              });
              ev.target.focus();
              ev.target.setAttribute('tabindex', 0);
            })
          };
        })();

        if (typeof _ret === 'object') return _ret.v;
      }
    });

    _tooltip.on('dlcui:tooltip:open', function () {
      _tooltip.open();
    });
    _tooltip.on('dlcui:tooltip:close', function () {
      _tooltip.close();
    });
    return _tooltip;
  };
});;/**
 * @ngdoc directive
 * @name datePicker
 *
 * @description The Date Picker uses a Calendar and Textbox to make a date picking popup.
 *
 * @module dlcui.controls
 * @src directives/input/datePicker/datePicker.js
 * @controlType input
 *
 * @restrict A
 *
 * @param {undefined} dlcuiDatePicker The base directive. Any value is ignored.
 *
 * The Date Picker directive is intended to be used on text boxes like the CUI Textbox, or `input[type="text"]`.
 *   @param {date} ngModel This accepts a JavaScript `date` object, or `null`/`undefined`, in which case the no date will be selected, and the current month will be opened by default.
 *   @param {date#format} dateParser `dateParser` is a separate directive used to convert date strings into dates with validation.
 *
 * It takes custom and shorthand date formats, like Angular Date.
 *
 * For more information, visit the third party component Github page: https://github.com/dnasir/angular-dateParser
 *
 * @example
 * <example name="datePicker">
 *   <file name="index.html">
 *     <dlcui-textbox dlcui-date-picker
 *                  ng-model="vm.date"
 *                  date-parser="shortDate"
 *                  placeholder="m/d/yy"></dlcui-textbox>
 *     <dlcui-button ng-click="vm.date = ''">Reset Date</dlcui-button>
 *     <p>Date: {{vm.date}}</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {})
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 600px;
 *     }
 *   </file>
 * </example>
 */

/**
 * @ngdoc directive
 * @name dateTimePicker
 *
 * @description The Date Time Picker uses Calendar, Time, and Textbox to make a date and time picking popup.
 *
 * @module dlcui.controls
 * @src directives/input/datePicker/datePicker.js
 * @controlType input
 *
 * @restrict A
 *
 * @param {undefined} dlcuiDateTimePicker The base directive. Any value is ignored.
 *
 * The Date Time Picker directive is intended to be used on text boxes like the CUI Textbox, or `input[type="text"]`.
 * @param {date} ngModel This accepts a JavaScript `date` object, or `null`/`undefined`, in which case the no date will be selected, and the current month will be opened by default.
 * @param {date#format} dateParser `dateParser` is a separate directive used to convert date strings into dates with validation.
 * @param {boolean=} showSeconds If `"true"`, a toggle to adjust the time by each second will be added. Default false.
 * @param {boolean=} showMeridian If `"false"`, time will be displayed in 24-hour format. Default true.
 * @param {number=} hourIncrement The number of hours to skip when clicking the up/down arrows. Default is 1.
 * @param {number=} minuteIncrement The number of minutes to skip when clicking the up/down arrows. Default is 15.
 * @param {number=} secondIncrement The number of seconds to skip when clicking the up/down arrows. Default is 15.
 *
 * It takes custom and shorthand date formats, like Angular Date.
 *
 * For more information, visit the third party component Github page: https://github.com/dnasir/angular-dateParser
 *
 * @example
 * <example name="dateTimePicker">
 *   <file name="index.html">
 *     <dlcui-textbox dlcui-date-time-picker
 *                  ng-model="vm.date"
 *                  date-parser="short"
 *                  placeholder="m/d/yy h:mm a"></dlcui-textbox>
 *     <dlcui-button ng-click="vm.date = ''">Reset Date</dlcui-button>
 *     <p>Date: {{vm.date}}</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {})
 *   </file>
 *   <file name='styles.css'>
 *     body {
 *       height: 600px;
 *     }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Date Time Picker with 24-hour mode, and seconds</h3>
 * <example name="dateTimePicker24Hr">
 *   <file name="index.html">
 *     <dlcui-textbox dlcui-date-time-picker
 *                  ng-model="vm.date"
 *                  date-parser="M/d/yy H:mm:ss"
 *                  show-seconds="true"
 *                  show-meridian="false"
 *                  placeholder="m/d/yy h:mm a"></dlcui-textbox>
 *     <dlcui-button ng-click="vm.date = ''">Reset Date</dlcui-button>
 *     <p>Date: {{vm.date}}</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {})
 *   </file>
 *   <file name="styles.css">
 *     body {
 *       height: 600px;
 *     }
 *   </file>
 * </example>
 */

/**
 * @ngdoc directive
 * @module dlcui.controls
 * @name timePicker
 * @description The Time Picker implements the Time directive in a tooltip. It is meant to be used within forms.
 * @src directives/input/datePicker/datePicker.js
 * @controlType input
 * @restrict A
 * @param {undefined} dlcuiTimePicker The base directive. Any value is ignored.
 *
 * The Time Picker directive is intended to be used on text boxes like the CUI Textbox, or `input[type="text"]`.
 * @param {date} ngModel This accepts a JavaScript `date` object, or `null`/`undefined`, in which case the time will be rounded down to the current hour.
 * @param {date#format} dateParser `dateParser` is a separate directive used to convert date strings into dates with validation.
 *
 * It takes custom and shorthand date formats, like Angular Date.
 *
 * For more information, visit the third party component Github page: https://github.com/dnasir/angular-dateParser
 * @param {boolean=} showSeconds If `"true"`, a toggle to adjust the time by each second will be added. Default false.
 * @param {boolean=} showMeridian If `"false"`, time will be displayed in 24-hour format. Default true.
 * @param {number=} hourIncrement The number of hours to skip when clicking the up/down arrows. Default is 1.
 * @param {number=} minuteIncrement The number of minutes to skip when clicking the up/down arrows. Default is 15.
 * @param {number=} secondIncrement The number of seconds to skip when clicking the up/down arrows. Default is 15.
 *
 * @example
 * <h3>Time Picker</h3>
 * <example name="timePicker">
 *   <file name="index.html">
 *     <dlcui-textbox dlcui-time-picker ng-model="vm.time" date-parser="shortTime" placeholder="12:00 AM"></dlcui-textbox>
 *     <dlcui-button ng-click="vm.time = ''">Reset Time</dlcui-button>
 *     <p>Time: {{vm.time}}</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 *   <file name="styles.css">
 *   body {
 *     height: 200px;
 *   }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Time Picker with 24-hour mode</h3>
 * <example name="timePicker24Hr">
 *   <file name="index.html">
 *     <dlcui-textbox dlcui-time-picker show-meridian="false" ng-model="vm.time" date-parser="H:mm" placeholder="12:00"></dlcui-textbox>
 *     <dlcui-button ng-click="vm.time = ''">Reset Time</dlcui-button>
 *     <p>Time: {{vm.time}}</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 *   <file name="styles.css">
 *   body {
 *     height: 200px;
 *   }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Time Picker with seconds</h3>
 * <example name="timePickerSeconds">
 *   <file name="index.html">
 *     <dlcui-textbox dlcui-time-picker show-seconds="true" ng-model="vm.time" date-parser="mediumTime" placeholder="12:00:00 AM"></dlcui-textbox>
 *     <dlcui-button ng-click="vm.time = ''">Reset Time</dlcui-button>
 *     <p>Time: {{vm.time}}</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 *   <file name="styles.css">
 *   body {
 *     height: 200px;
 *   }
 *   </file>
 * </example>
 *
 * @example
 * <h3>Time Picker with custom increments</h3>
 * <example name="timePickerCustom">
 *   <file name="index.html">
 *     <dlcui-textbox dlcui-time-picker minute-increment="1" ng-model="vm.time" date-parser="shortTime" placeholder="12:00 AM"></dlcui-textbox>
 *     <dlcui-button ng-click="vm.time = ''">Reset Time</dlcui-button>
 *     <p>Time: {{vm.time}}</p>
 *   </file>
 *   <file name="app.js">
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 *   <file name="styles.css">
 *   body {
 *     height: 200px;
 *   }
 *   </file>
 * </example>
 */
(function(angular){
'use strict';

picker.$inject = ['$compile', '$document', '$templateCache', 'dlcuiTip'];
function picker($compile, $document, $templateCache, dlcuiTip) {
  function link(scope, element, attrs, modelCtrl) {
    scope.modelCtrl = modelCtrl;

    var classes = ['cux-tip-theme-tooltip'];

    var datePicker = angular.element('<span></span>');

    /*
      We need to link calendarTimeScope's `model` and our scope's `model` together
      calendarTimeScope.model <--> scope.model
       This allows us to watch where changes are coming from, and react accordingly.
       For example, when `calendarTimeScope.model` changes, we need to set validity on our `modelCtrl`.
    */
    var calendarTimeScope = scope.$new({}); // isolate scope
    calendarTimeScope.$watch('model', function (m) {
      scope.model = m;
      if (m) {
        modelCtrl.$setDirty();
        modelCtrl.$setValidity('date', true);
      }
    });
    scope.$watch('model', function (m) {
      calendarTimeScope.model = m;
    });

    if (angular.isDefined(attrs.dlcuiDateTimePicker) || angular.isDefined(attrs.dlcuiDatePicker)) {
      classes.push('dlcui-calendar-tooltip');
      var calendar = $templateCache.get('ngclarity/directives/picker/dlcuiCalendarDate.directive.html');
      calendar = $compile(calendar)(calendarTimeScope);
      datePicker.append(calendar);
    }

    if (angular.isDefined(attrs.dlcuiDateTimePicker) || angular.isDefined(attrs.dlcuiTimePicker)) {
      classes.push('dlcui-time-tooltip');
      var time = angular.element($templateCache.get('ngclarity/directives/picker/dlcuiCalendarTime.directive.html'));
      time.attr('show-seconds', attrs.showSeconds);
      time.attr('show-meridian', attrs.showMeridian);
      time.attr('hour-increment', attrs.hourIncrement);
      time.attr('minute-increment', attrs.minuteIncrement);
      time.attr('second-increment', attrs.secondIncrement);
      time = $compile(time)(calendarTimeScope);
      datePicker.append(time);
    }

    var tip = null;

    var datepickerClicked = false;
    var handleDocumentClick = function handleDocumentClick() {
      if (!datepickerClicked) {
        $document.off('mousedown', handleDocumentClick);
        if (tip) {
          tip.close();
        }
      }
      datepickerClicked = false;
    };

    element.on('focus', function () {
      datepickerClicked = false;
      if (!tip) {
        tip = dlcuiTip({
          target: element[0],
          content: datePicker[0],
          openOn: null,
          classes: classes.join(' '),
          type: 'tooltip',
          position: 'bottom left',
          tetherOptions: {
            constraints: [{
              to: 'scrollParent'
            }, {
              to: 'window',
              attachment: 'together',
              pin: true
            }]
          }
        });
      }

      // Remove previous event handler, if exists, to prevent binding multiple
      $document.off('mousedown', handleDocumentClick);
      $document.on('mousedown', handleDocumentClick);
      tip.open();
    });

    // Close on window mousedown except when the popup is clicked
    element.on('mousedown', function () {
      datepickerClicked = true;
    });
    datePicker.on('mousedown', function () {
      datepickerClicked = true;
    });

    element.on('keydown', function (e) {
      if (e.which === 9) {
        // tab
        $document.off('mousedown', handleDocumentClick);
        if (tip) {
          tip.close();
        }
      }
    });

    scope.$on('$destroy', function () {
      $document.off('mousedown', handleDocumentClick);
      if (tip) {
        tip.remove();
      }
    });
  }

  return {
    restrict: 'A',
    require: 'ngModel',
    scope: {
      model: '=ngModel'
    },
    link: link
  };
}

angular.module('dell.ngclarity.directives').directive('dlcuiCalendarDatePicker', picker);
angular.module('dell.ngclarity.directives').directive('dlcuiCalendarDateTimePicker', picker);
angular.module('dell.ngclarity.directives').directive('dlcuiCalendarTimePicker', picker);

})(angular);;
angular.module('dell.ngclarity.directives').service('dlcuiCalendarUtils', function() {
  var _this = this;

  this.datesAreEqualToMonth = function (d1, d2) {
    return d1 && d2 && d1.getYear() === d2.getYear() && d1.getMonth() === d2.getMonth();
  };

  this.datesAreEqualToDay = function (d1, d2) {
    return d1 && d2 && d1.getYear() === d2.getYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();
  };

  this.generateMonth = function (date, selectedDate) {
    var startingDay = (function () {
      var year = date.getFullYear();
      var month = date.getMonth();
      var firstDayOfMonth = new Date(year, month, 1);
      var ret = new Date(firstDayOfMonth);
      // We have the first day of the month, but we need to get the first Saturday of that
      var offset = firstDayOfMonth.getDay();
      // Add a week if month starts on a Sunday
      if (offset === 0) {
        offset = 7;
      }

      ret.setDate(ret.getDate() - offset); // First day of 'blocked' calendar

      return ret;
    })();

    var today = new Date();

    var dateIterator = new Date(startingDay); // Reallocate date
    var month = [];

    for (var i = 0; i <= 5; i++) {
      var week = [];
      for (var j = 0; j <= 6; j++) {
        var d = new Date(dateIterator);
        week.push({
          date: d,
          isSelected: _this.datesAreEqualToDay(d, selectedDate),
          isInMonth: _this.datesAreEqualToMonth(d, date),
          today: _this.datesAreEqualToDay(d, today)
        });
        dateIterator.setDate(dateIterator.getDate() + 1);
      }
      month.push(week);
    }

    return month;
  };

  this.nextMonth = function (date) {
    // Edge case for last month of year
    if (date.getMonth() === 11) {
      return new Date(date.getFullYear() + 1, 0); // Date format is year, month we have to specify the month to be January aka 0
    }

    return new Date(date.getFullYear(), date.getMonth() + 1); // Date format year, month
  };

  this.previousMonth = function (date) {
    // Edge case for first month of year
    if (date.getMonth() === 0) {
      return new Date(date.getFullYear() - 1, 11); // Date format is year, month we have to specify the month to be December aka 11
    }

    return new Date(date.getFullYear(), date.getMonth() - 1); // Date format year, month
  };

  this.nextYear = function (date) {
    var d = new Date(date);
    d.setFullYear(d.getFullYear() + 1);
    return d;
  };

  this.previousYear = function (date) {
    var d = new Date(date);
    d.setFullYear(d.getFullYear() - 1);
    return d;
  };

  return this;
});;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:splashScreen
 * @description
 * # splashScreen
 */
angular.module('dell.ngclarity.directives')
  .directive('splashScreen', ['$templateCache', 'i18nService',
    function ($templateCache, i18nService) {
    return {
      template: function() {
        return $templateCache.get('ngclarity/directives/splashScreen/splashscreen.html');
      },
      restrict: 'E',
      scope: {
        optionsModel: '=ngModel'
      },
      link: function(scope, element, attrs) {

        // a list of default options that this template supports. If no
        // options are passed into this object, then we fallback to
        // these
        var defOptions = {
          labels: {
            'productTitle': 'Dell Product Title',
            'copyright': '&copy;2016 Dell Inc. All Rights Reserved'
          }
        };

        // convert any given options model to JSON
        var params = angular.fromJson(scope.optionsModel);

        // merge our defaults with given params
        scope.modelOptions = angular.merge({}, defOptions, params);

      }
    };
  }]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:superTable
 * @description
 * # superTable directive to assist with support for a common vehicle for presenting data
 * forked from: http://lorenzofox3.github.io/smart-table-website/
 * and customized for our internal specifications from test commit
 */
angular.module('dell.ngclarity.directives')
  .controller('stTableController', ['$scope', '$parse', '$filter', '$attrs',
    function ($scope, $parse, $filter, $attrs) {

      var propertyName = $attrs.stTable;
      var displayGetter = $parse(propertyName);
      var displaySetter = displayGetter.assign;
      var safeGetter;
      var orderBy = $filter('orderBy');
      var filter = $filter('filter');
      var safeCopy = copyRefs(displayGetter($scope));
      var tableState = {
        sort: {},
        search: {},
        pagination: {
          start: 0,
          totalItemCount: 0
        }
      };
      var filtered;
      var pipeAfterSafeCopy = true;
      var ctrl = this;
      var lastSelected;

      function copyRefs (src) {
        return src ? [].concat(src) : [];
      }

      function updateSafeCopy () {
        safeCopy = copyRefs(safeGetter($scope));
        if (pipeAfterSafeCopy === true) {
          ctrl.pipe();
        }
      }

      function deepDelete (object, path) {
        if (path.indexOf('.') !== -1) {
          var partials = path.split('.');
          var key = partials.pop();
          var parentPath = partials.join('.');
          var parentObject = $parse(parentPath)(object);
          delete parentObject[key];
          if (Object.keys(parentObject).length === 0) {
            deepDelete(object, parentPath);
          }
        } else {
          delete object[path];
        }
      }

      if ($attrs.stSafeSrc) {
        safeGetter = $parse($attrs.stSafeSrc);
        $scope.$watch(function () {
          var safeSrc = safeGetter($scope);
          return safeSrc && safeSrc.length ? safeSrc[0] : undefined;
        }, function (newValue, oldValue) {
          if (newValue !== oldValue) {
            updateSafeCopy();
          }
        });
        $scope.$watch(function () {
          var safeSrc = safeGetter($scope);
          return safeSrc ? safeSrc.length : 0;
        }, function (newValue, oldValue) {
          if (newValue !== safeCopy.length) {
            updateSafeCopy();
          }
        });
        $scope.$watch(function () {
          return safeGetter($scope);
        }, function (newValue, oldValue) {
          if (newValue !== oldValue) {
            tableState.pagination.start = 0;
            updateSafeCopy();
          }
        });
      }

      /**
       * sort the rows
       * @param {Function | String} predicate - function or string which will be used as predicate for the sorting
       * @param [reverse] - if you want to reverse the order
       */
      this.sortBy = function sortBy (predicate, reverse) {
        tableState.sort.predicate = predicate;
        tableState.sort.reverse = reverse === true;

        if (angular.isFunction(predicate)) {
          tableState.sort.functionName = predicate.name;
        } else {
          delete tableState.sort.functionName;
        }

        tableState.pagination.start = 0;
        return this.pipe();
      };

      /**
       * search matching rows
       * @param {String} input - the input string
       * @param {String} [predicate] - the property name against you want to check the match, otherwise it will search
       * on all properties
       */
      this.search = function search (input, predicate) {
        var predicateObject = tableState.search.predicateObject || {};
        var prop = predicate ? predicate : '$';

        input = angular.isString(input) ? input.trim() : input;
        $parse(prop).assign(predicateObject, input);
        // to avoid to filter out null value
        if (!input) {
          deepDelete(predicateObject, prop);
        }
        tableState.search.predicateObject = predicateObject;
        tableState.pagination.start = 0;
        return this.pipe();
      };

      /**
       * this will chain the operations of sorting and filtering based on the current table state
       * (sort options, filtering, ect)
       */
      this.pipe = function pipe () {
        var pagination = tableState.pagination;
        var output;
        filtered = tableState.search.predicateObject ? filter(safeCopy, tableState.search.predicateObject)
          : safeCopy;

        if (tableState.sort.predicate) {
          filtered = orderBy(filtered, tableState.sort.predicate, tableState.sort.reverse);
        }
        pagination.totalItemCount = filtered.length;
        if (pagination.number !== undefined) {
          pagination.numberOfPages = filtered.length > 0 ? Math.ceil(filtered.length / pagination.number)
            : 1;

          pagination.start = pagination.start >= filtered.length ? (pagination.numberOfPages - 1) * pagination.number
            : pagination.start;

          output = filtered.slice(pagination.start, pagination.start + parseInt(pagination.number));
        }
        displaySetter($scope, output || filtered);
      };

      /**
       * select a dataRow (it will add the attribute isSelected to the row object)
       * @param {Object} row - the row to select
       * @param {String} [mode] - "single" or "multiple" (multiple by default)
       */
      this.select = function select (row, mode) {
        var rows = copyRefs(displayGetter($scope));
        var index = rows.indexOf(row);
        if (index !== -1) {
          if (mode === 'single') {
            row.isSelected = row.isSelected !== true;
            if (lastSelected) {
              lastSelected.isSelected = false;
            }
            lastSelected = row.isSelected === true ? row : undefined;
          } else {
            rows[index].isSelected = !rows[index].isSelected;
          }
        }
      };

      /**
       * take a slice of the current sorted/filtered collection (pagination)
       *
       * @param {Number} start - start index of the slice
       * @param {Number} number - the number of item in the slice
       */
      this.slice = function splice (start, number) {
        tableState.pagination.start = start;
        tableState.pagination.number = number;
        return this.pipe();
      };

      /**
       * return the current state of the table
       * @returns {{sort: {}, search: {}, pagination: {start: number}}}
       */
      this.tableState = function getTableState () {
        return tableState;
      };

      this.getFilteredCollection = function getFilteredCollection () {
        return filtered || safeCopy;
      };

      /**
       * Use a different filter function than the angular FilterFilter
       * @param filterName the name under which the custom filter is registered
       */
      this.setFilterFunction = function setFilterFunction (filterName) {
        filter = $filter(filterName);
      };

      /**
       * Use a different function than the angular orderBy
       * @param sortFunctionName the name under which the custom order function is registered
       */
      this.setSortFunction = function setSortFunction (sortFunctionName) {
        orderBy = $filter(sortFunctionName);
      };

      /**
       * Usually when the safe copy is updated the pipe function is called.
       * Calling this method will prevent it, which is something required when using a custom pipe function
       */
      this.preventPipeOnWatch = function preventPipe () {
        pipeAfterSafeCopy = false;
      };


    }])
  .directive('stTable',
    function () {
    return {
      restrict: 'A',
      controller: 'stTableController',
      link: function (scope, element, attrs, ctrl) {

        if (attrs.stSetFilter) {
          ctrl.setFilterFunction(attrs.stSetFilter);
        }

        if (attrs.stSetSort) {
          ctrl.setSortFunction(attrs.stSetSort);
        }
      }

    };
  });
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:superTablePagination
 * @description
 * # superTablePagination
 */
angular.module('dell.ngclarity.directives')
  .directive('stPagination', ['$templateCache', 'stConfig',
    function ($templateCache, stConfig) {
      return {
        restrict: 'EA',
        require: '^stTable',
        scope: {
          stItemsByPage: '=?',
          stDisplayedPages: '=?',
          stPageChange: '&'
        },
        template: function() {
          return $templateCache.get('ngclarity/directives/superTable/pagination.html');
        },
        /*
         * TODO modify the template replacement task to perhaps skip the templateUrl replacement
         * if a $.function() is detected vs a string
        templateUrl: function (element, attrs) {
          if (attrs.stTemplate) {
            return attrs.stTemplate;
          }
          return stConfig.pagination.template;
        },*/
        link: function (scope, element, attrs, ctrl) {

          scope.stItemsByPage = scope.stItemsByPage ? +(scope.stItemsByPage)
            : stConfig.pagination.itemsByPage;

          scope.stDisplayedPages = scope.stDisplayedPages ? +(scope.stDisplayedPages)
            : stConfig.pagination.displayedPages;

          scope.currentPage = 1;
          scope.pages = [];

          function redraw () {
            var paginationState = ctrl.tableState().pagination;
            var start = 1;
            var end;
            var i;
            var prevPage = scope.currentPage;
            scope.totalItemCount = paginationState.totalItemCount;
            scope.currentPage = Math.floor(paginationState.start / paginationState.number) + 1;

            start = Math.max(start, scope.currentPage - Math.abs(Math.floor(scope.stDisplayedPages / 2)));
            end = start + scope.stDisplayedPages;

            if (end > paginationState.numberOfPages) {
              end = paginationState.numberOfPages + 1;
              start = Math.max(1, end - scope.stDisplayedPages);
            }

            scope.pages = [];
            scope.numPages = paginationState.numberOfPages;

            for (i = start; i < end; i++) {
              scope.pages.push(i);
            }

            if (prevPage !== scope.currentPage) {
              scope.stPageChange({newPage: scope.currentPage});
            }
          }

          //table state --> view
          scope.$watch(function () {
            return ctrl.tableState().pagination;
          }, redraw, true);

          //scope --> table state  (--> view)
          scope.$watch('stItemsByPage', function (newValue, oldValue) {
            if (newValue !== oldValue) {
              scope.selectPage(1);
            }
          });

          scope.$watch('stDisplayedPages', redraw);

          //view -> table state
          scope.selectPage = function (page) {
            if (page > 0 && page <= scope.numPages) {
              ctrl.slice((page - 1) * scope.stItemsByPage, scope.stItemsByPage);
            }
          };

          if (!ctrl.tableState().pagination.number) {
            ctrl.slice(0, scope.stItemsByPage);
          }
        }
      };
    }]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:superTablePipe
 * @description
 * # superTablePipe
 */
angular.module('dell.ngclarity.directives')
  .directive('stPipe', ['stConfig', '$timeout',
    function (stConfig, $timeout) {

      return {
        require: 'stTable',
        scope: {
          stPipe: '='
        },
        link: {

          pre: function (scope, element, attrs, ctrl) {

            var pipePromise = null;

            if (angular.isFunction(scope.stPipe)) {
              ctrl.preventPipeOnWatch();
              ctrl.pipe = function () {

                if (pipePromise !== null) {
                  $timeout.cancel(pipePromise);
                }

                pipePromise = $timeout(function () {
                  scope.stPipe(ctrl.tableState(), ctrl);
                }, stConfig.pipe.delay);

                return pipePromise;
              };
            }
          },

          post: function (scope, element, attrs, ctrl) {
            ctrl.pipe();
          }
        }

      };
    }]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:superTableSearch
 * @description
 * # superTableSearch
 */
angular.module('dell.ngclarity.directives')
  .directive('stSearch', ['stConfig', '$timeout','$parse',
    function (stConfig, $timeout, $parse) {
      return {
        require: '^stTable',
        link: function (scope, element, attrs, ctrl) {
          var tableCtrl = ctrl;
          var promise = null;
          var throttle = attrs.stDelay || stConfig.search.delay;
          var event = attrs.stInputEvent || stConfig.search.inputEvent;

          attrs.$observe('stSearch', function (newValue, oldValue) {
            var input = element[0].value;
            if (newValue !== oldValue && input) {
              ctrl.tableState().search = {};
              tableCtrl.search(input, newValue);
            }
          });

          //table state -> view
          scope.$watch(function () {
            return ctrl.tableState().search;
          }, function (newValue, oldValue) {
            var predicateExpression = attrs.stSearch || '$';
            if (newValue.predicateObject &&
              $parse(predicateExpression)(newValue.predicateObject) !== element[0].value) {
                element[0].value = $parse(predicateExpression)(newValue.predicateObject) || '';
            }
          }, true);

          // view -> table state
          element.bind(event, function (evt) {
            evt = evt.originalEvent || evt;
            if (promise !== null) {
              $timeout.cancel(promise);
            }

            promise = $timeout(function () {
              tableCtrl.search(evt.target.value, attrs.stSearch || '');
              promise = null;
            }, throttle);
          });
        }
      };
    }]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:superTableSelectRow
 * @description
 * # superTableSelectRow
 */
angular.module('dell.ngclarity.directives')
  .directive('stSelectRow', ['stConfig',
    function (stConfig) {
        return {
          restrict: 'A',
          require: '^stTable',
          scope: {
            row: '=stSelectRow'
          },
          link: function (scope, element, attrs, ctrl) {
            var mode = attrs.stSelectMode || stConfig.select.mode;
            element.bind('click', function () {
              scope.$apply(function () {
                ctrl.select(scope.row, mode);
              });
            });

            scope.$watch('row.isSelected', function (newValue) {
              if (newValue === true) {
                element.addClass(stConfig.select.selectedClass);
              } else {
                element.removeClass(stConfig.select.selectedClass);
              }
            });
          }

        };
    }]);
;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:superTableSort
 * @description
 * # superTableSort
 */
angular.module('dell.ngclarity.directives')
  .directive('stSort', ['stConfig', '$parse', '$timeout',
    function (stConfig, $parse, $timeout) {
      return {
        restrict: 'A',
        require: '^stTable',
        link: function (scope, element, attrs, ctrl) {

          var predicate = attrs.stSort;
          var getter = $parse(predicate);
          var index = 0;
          var classAscent = attrs.stClassAscent || stConfig.sort.ascentClass;
          var classDescent = attrs.stClassDescent || stConfig.sort.descentClass;
          var stateClasses = [classAscent, classDescent];
          var sortDefault;
          var skipNatural = attrs.stSkipNatural !== undefined ? attrs.stSkipNatural : stConfig.sort.skipNatural;
          var descendingFirst = attrs.stDescendingFirst !== undefined ?
            attrs.stDescendingFirst : stConfig.sort.descendingFirst;
          var promise = null;
          var throttle = attrs.stDelay || stConfig.sort.delay;

          if (attrs.stSortDefault) {
            sortDefault = scope.$eval(attrs.stSortDefault) !== undefined ?
              scope.$eval(attrs.stSortDefault) : attrs.stSortDefault;
          }

          //view --> table state
          function sort () {
            if (descendingFirst) {
              index = index === 0 ? 2 : index - 1;
            } else {
              index++;
            }

            var func;
            predicate = angular.isFunction(getter(scope)) || (angular.isArray(getter(scope)) ? getter(scope)
                : attrs.stSort);

            if (index % 3 === 0 && skipNatural !== true) {
              //manual reset
              index = 0;
              ctrl.tableState().sort = {};
              ctrl.tableState().pagination.start = 0;
              func = ctrl.pipe.bind(ctrl);
            } else {
              func = ctrl.sortBy.bind(ctrl, predicate, index % 2 === 0);
            }
            if (promise !== null) {
              $timeout.cancel(promise);
            }
            if (throttle < 0) {
              func();
            } else {
              promise = $timeout(func, throttle);
            }
          }

          element.bind('click', function sortClick () {
            if (predicate) {
              scope.$apply(sort);
            }
          });

          if (sortDefault) {
            index = sortDefault === 'reverse' ? 1 : 0;
            sort();
          }

          //table state --> view
          scope.$watch(function () {
            return ctrl.tableState().sort;
          }, function (newValue) {
            if (newValue.predicate !== predicate) {
              index = 0;
              element
                .removeClass(classAscent)
                .removeClass(classDescent);
            } else {
              index = newValue.reverse === true ? 2 : 1;
              element
                .removeClass(stateClasses[index % 2])
                .addClass(stateClasses[index - 1]);
            }
          }, true);
        }
      };
    }]);
;/**
 * @ngdoc directive
 * @name applicationCardContainer
 * @module dlcui
 * @src directives/tabular/applicationCardContainer/dlcuiApplicationCardContainer.directive.js
 * @controlType tabular
 * @restrict E
 *
 * @param {function} source This accepts the callback function defined on the scope and is called
 * when the user scrolls to the bottom and when more data can be loaded.
 *
 * * This callback function is called to load data in blocks of pageSize and should have the following signature,
 *   * ```javascript function (startIndex, pageSize, sortBy, filter) {}```
 * * This callback function must return either an
 *   * angular promise that is then resolved with the required data array after the data loaded.
 *   * array of data item
 * * The Data Returned in the resolve must be an array of objects where each object contains;
 *   * 'id' property that is unique for each data item.
 *   * 'label' to be used within the display of the item.
 *   * 'info' that defines details on the item and can be plain text or html.
 *   * 'icon' optional object value that defines details on the associated icon for the data item.
 *
 * The structure for each data item must contain at the very least the following json
 * ```javascript
 * {
 *    id: 'Unique id',
 *    label: 'A label to display',
 *    tooltip: 'The information text to display'
 * }
 * ```
 * The structure for each data item must contain the following for the icon cards,
 * ```javascript
 * {
 *    id: 'Unique id',
 *    label: 'A label to display',
 *    tooltip: 'The information text to display',
 *    icon: {     // This is based on dlcui-icon, please review the documentation on that component
 *      name: 'Icon Name',
 *      size: 24px,   // Optional value
 *      color: 'blue' // Optional value
 *    }
 * }
 * ```
 * @param {Object} options This accepts the name of the scope variable that contains the data associated with
 * the item been dragged.
 *
 * The options is a json based configuration and should have the following format,
 * ```javascript
 * {
 *    data: [], // Optional data array or function and can be used in place of the source attribute
 *    height: '500px',      // Optional and defaults to 100% through CSS
 *    width: '100%',        // Optional and defaults to 100% through CSS
 *    source: {
 *        disableInitialLoad: false, // Optional property that disables the initial loading of data.
 *        enableLazyRendering: false, // Optional property that allows cards to be rendered only when visible
 *        headerLabel: '{{count}} Apps',
 *        subViewTemplateUrl: '', // Optional url to a sub view template that is displayed
 *    },
 *    target: {
 *        headerLabel: '{{count}} Selected Apps',
 *        enableLazyRendering: false, // Optional property that allows cards to be rendered only when visible
 *        groups: [   // Optional array of groupings into which selected items can be added
 *          {
 *            id: 'user',
 *            label: 'User Folder'
 *          },
 *          {
 *            id: 'program',
 *            label: 'Program Folder'
 *          }
 *        ],
 *        defaultGroupId: 'user',   // Default location into which selected items are placed. Default is the first id.
 *        hidden: false // Set this to true to hide the target drop container or do not define target at all
 *    }
 * }
 * ```
 * @param {function} onSelectionChanged This accepts the name of the callback function defined on the scope
 * and is called when the user starts dragging the element.
 *
 * The method is called with an array of selected of selected items in the form of an array.
 * ```javascript
 * function (data) {
 * }
 * ```
 * @param {Function=} onSubViewOpen Callback function that is called just before the sub view is opened. This
 * method can return data to attach to the sub view or it can return a promise so the data us loaded asycnhronously.
 * The promise reject can be used to block the opening of the sub-view if required.
 *
 * The signature of the sub-view should appear as follows,
 *
 * ```javascript
 * function(element, data)
 * ```
 *
 * The element is the card element itself and the data is the data associated with the card if defined. The data
 * returned by this method is attached to the sub view scope. The sub view template can access either the card data
 * using the following scope properties <i>card</i> or the returned data through <i>subViewData</i>. The sub view
 * template also has access to the same scope property <i>$container</i> that each card template has access too
 * and which defaults to the parent scope or can be configured through <i>options.containerScope</i>.
 *
 * @description
 * Element based directive that is used to generate a Application Card Container Component
 *
 * @example
 * <h3>Application Card Container Single Selection</h3>
 *
 * <example name="applicationCardSingleSelection">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-application-card-container on-selection-changed="selectionChanged(data)"
 *                                      source="source(startIndex, pageSize)"
 *                                      options="options">
 *      </dlcui-application-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          height: '500px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Apps',
 *            selectionType: DLCUI_SELECTION_TYPE.single,
 *            clearAllLabel: 'Clear selection'
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        var _testData = [
 *            {"id": "1", "label": "Adobe Acrobat", "tooltip": "Adobe Acrobat Applicaton.",
 *              "icon": {"name": "../../dlcui/css/images/Adobe_PDF_Icon.svg"}},
 *            {"id": "2", "label": "Itunes", "tooltip": "Itunes by Apple.",
 *              "icon": {"name": "../../dlcui/css/images/Itunes.png"}},
 *            {"id": "3", "label": "Chrome", "tooltip": "Chrome application by Google.",
 *              "icon": {"name": "../../dlcui/css/images/Google_Chrome.svg"}},
 *            {"id": "4", "label": "Internet Explorer", "tooltip": "Internet Explorer by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Internet_Explorer_9.svg"}},
 *            {"id": "5", "label": "Microsoft Excel", "tooltip": "Excel by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Excel.svg"}},
 *            {"id": "6", "label": "Microsoft Outlook", "tooltip": "Outlook by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Outlook.svg"}},
 *            {"id": "7", "label": "Microsoft Powerpoint",
 *              "tooltip": "Powerpoint presentation application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Powerpoint.svg"}},
 *            {"id": "8", "label": "Microsoft Word", "tooltip": "Word Document Editor Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Word.svg"}},
 *            {"id": "9", "label": "Firefox", "tooltip": "Web browser by Mozilla.",
 *              "icon": {"name": "../../dlcui/css/images/Firefox.png"}},
 *            {"id": "10", "label": "Notepad", "tooltip": "Text Editor by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Notepad.png"}},
 *            {"id": "11", "label": "Skype", "tooltip": "Communication Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Skype.svg"}},
 *            {"id": "12", "label": "WebEx", "tooltip": "Communication and Conferencing application by WebEx.",
 *              "icon": {"name": "../../dlcui/css/images/WebEx.png"}},
 *            {"id": "13", "label": "Winzip", "tooltip": "Archiving Utility by WinZip.",
 *              "icon": {"name": "../../dlcui/css/images/Winzip.svg"}}
 *        ];
 *
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            $timeout(function() {
 *              var _newData = [];
 *              while (_newData.length < pageSize && _counter < _maxLoad) {
 *                angular.forEach(_testData, function(item) {
 *                    var dataItem = angular.copy(item);
 *                    if (_newData.length < pageSize && _counter < _maxLoad) {
 *                        if (_counter > 13) {
 *                          dataItem.label += ' ' + _counter;
 *                        }
 *                        dataItem.id = _counter;
 *                       _counter++;
 *                       _newData.push(dataItem);
 *                    }
 *                 });
 *             };
 *             defer.resolve(_newData);
 *          }, 1000);
 *
 *          return defer.promise;
 *       };
 *
 *       return {
 *          generate: _generateData
 *       };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Application Card Container Multiple Selection</h3>
 *
 * <example name="applicationCardMultipleSelection">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-application-card-container on-selection-changed="selectionChanged(data)"
 *                                      source="source(startIndex, pageSize)"
 *                                      options="options">
 *      </dlcui-application-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *        $scope.options = {
 *          height: '500px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Apps',
 *            selectionType: DLCUI_SELECTION_TYPE.multiple
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        var _testData = [
 *            {"id": "1", "label": "Adobe Acrobat", "tooltip": "Adobe Acrobat Applicaton.",
 *              "icon": {"name": "../../dlcui/css/images/Adobe_PDF_Icon.svg"}},
 *            {"id": "2", "label": "Itunes", "tooltip": "Itunes by Apple.",
 *              "icon": {"name": "../../dlcui/css/images/Itunes.png"}},
 *            {"id": "3", "label": "Chrome", "tooltip": "Chrome application by Google.",
 *              "icon": {"name": "../../dlcui/css/images/Google_Chrome.svg"}},
 *            {"id": "4", "label": "Internet Explorer", "tooltip": "Internet Explorer by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Internet_Explorer_9.svg"}},
 *            {"id": "5", "label": "Microsoft Excel", "tooltip": "Excel by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Excel.svg"}},
 *            {"id": "6", "label": "Microsoft Outlook", "tooltip": "Outlook by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Outlook.svg"}},
 *            {"id": "7", "label": "Microsoft Powerpoint",
 *              "tooltip": "Powerpoint presentation application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Powerpoint.svg"}},
 *            {"id": "8", "label": "Microsoft Word", "tooltip": "Word Document Editor Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Word.svg"}},
 *            {"id": "9", "label": "Firefox", "tooltip": "Web browser by Mozilla.",
 *              "icon": {"name": "../../dlcui/css/images/Firefox.png"}},
 *            {"id": "10", "label": "Notepad", "tooltip": "Text Editor by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Notepad.png"}},
 *            {"id": "11", "label": "Skype", "tooltip": "Communication Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Skype.svg"}},
 *            {"id": "12", "label": "WebEx", "tooltip": "Communication and Conferencing application by WebEx.",
 *              "icon": {"name": "../../dlcui/css/images/WebEx.png"}},
 *            {"id": "13", "label": "Winzip", "tooltip": "Archiving Utility by WinZip.",
 *              "icon": {"name": "../../dlcui/css/images/Winzip.svg"}}
 *        ];
 *
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            $timeout(function() {
 *              var _newData = [];
 *              while (_newData.length < pageSize && _counter < _maxLoad) {
 *                angular.forEach(_testData, function(item) {
 *                    var dataItem = angular.copy(item);
 *                    if (_newData.length < pageSize && _counter < _maxLoad) {
 *                        if (_counter > 13) {
 *                          dataItem.label += ' ' + _counter;
 *                        }
 *                        dataItem.id = _counter;
 *                       _counter++;
 *                       _newData.push(dataItem);
 *                    }
 *                 });
 *             };
 *             defer.resolve(_newData);
 *          }, 1000);
 *
 *          return defer.promise;
 *       };
 *
 *       return {
 *          generate: _generateData
 *       };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Application Card Container Multiple Selection and Visible Drop Target</h3>
 *
 * <example name="applicationCardMultipleSelectionVisibleDropTarget">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-application-card-container on-selection-changed="selectionChanged(data)"
 *                                      source="source(startIndex, pageSize)"
 *                                      options="options">
 *      </dlcui-application-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          height: '500px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Apps',
 *            selectionType: DLCUI_SELECTION_TYPE.multiple
 *          },
 *          target: {
 *            headerLabel: '{{count}} Apps',
 *            visible: true
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        var _testData = [
 *            {"id": "1", "label": "Adobe Acrobat", "tooltip": "Adobe Acrobat Applicaton.",
 *              "icon": {"name": "../../dlcui/css/images/Adobe_PDF_Icon.svg"}},
 *            {"id": "2", "label": "Itunes", "tooltip": "Itunes by Apple.",
 *              "icon": {"name": "../../dlcui/css/images/Itunes.png"}},
 *            {"id": "3", "label": "Chrome", "tooltip": "Chrome application by Google.",
 *              "icon": {"name": "../../dlcui/css/images/Google_Chrome.svg"}},
 *            {"id": "4", "label": "Internet Explorer", "tooltip": "Internet Explorer by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Internet_Explorer_9.svg"}},
 *            {"id": "5", "label": "Microsoft Excel", "tooltip": "Excel by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Excel.svg"}},
 *            {"id": "6", "label": "Microsoft Outlook", "tooltip": "Outlook by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Outlook.svg"}},
 *            {"id": "7", "label": "Microsoft Powerpoint",
 *              "tooltip": "Powerpoint presentation application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Powerpoint.svg"}},
 *            {"id": "8", "label": "Microsoft Word", "tooltip": "Word Document Editor Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Word.svg"}},
 *            {"id": "9", "label": "Firefox", "tooltip": "Web browser by Mozilla.",
 *              "icon": {"name": "../../dlcui/css/images/Firefox.png"}},
 *            {"id": "10", "label": "Notepad", "tooltip": "Text Editor by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Notepad.png"}},
 *            {"id": "11", "label": "Skype", "tooltip": "Communication Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Skype.svg"}},
 *            {"id": "12", "label": "WebEx", "tooltip": "Communication and Conferencing application by WebEx.",
 *              "icon": {"name": "../../dlcui/css/images/WebEx.png"}},
 *            {"id": "13", "label": "Winzip", "tooltip": "Archiving Utility by WinZip.",
 *              "icon": {"name": "../../dlcui/css/images/Winzip.svg"}}
 *        ];
 *
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            $timeout(function() {
 *              var _newData = [];
 *              while (_newData.length < pageSize && _counter < _maxLoad) {
 *                angular.forEach(_testData, function(item) {
 *                    var dataItem = angular.copy(item);
 *                    if (_newData.length < pageSize && _counter < _maxLoad) {
 *                        if (_counter > 13) {
 *                          dataItem.label += ' ' + _counter;
 *                        }
 *                        dataItem.id = _counter;
 *                       _counter++;
 *                       _newData.push(dataItem);
 *                    }
 *                 });
 *             };
 *             defer.resolve(_newData);
 *          }, 1000);
 *
 *          return defer.promise;
 *       };
 *
 *       return {
 *          generate: _generateData
 *       };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Application Card Container Single Selection and No Information Icon</h3>
 *
 * <example name="applicationCardSingleSelectionNoTooltip">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-application-card-container on-selection-changed="selectionChanged(data)"
 *                                      source="source(startIndex, pageSize)"
 *                                      options="options">
 *      </dlcui-application-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          height: '500px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Apps',
 *            selectionType: DLCUI_SELECTION_TYPE.single,
 *            clearAllLabel: 'Clear selection'
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Do not set tooltip to hide the information icon
 *        var _testData = [
 *            {"id": "1", "label": "Adobe Acrobat",
 *              "icon": {"name": "../../dlcui/css/images/Adobe_PDF_Icon.svg"}},
 *            {"id": "2", "label": "Itunes",
 *              "icon": {"name": "../../dlcui/css/images/Itunes.png"}},
 *            {"id": "3", "label": "Chrome",
 *              "icon": {"name": "../../dlcui/css/images/Google_Chrome.svg"}},
 *            {"id": "4", "label": "Internet Explorer",
 *              "icon": {"name": "../../dlcui/css/images/Internet_Explorer_9.svg"}},
 *            {"id": "5", "label": "Microsoft Excel",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Excel.svg"}},
 *            {"id": "6", "label": "Microsoft Outlook",
 *              "icon": {"name": "../../dlcui/css/images/Outlook.svg"}},
 *            {"id": "7", "label": "Microsoft Powerpoint",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Powerpoint.svg"}},
 *            {"id": "8", "label": "Microsoft Word",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Word.svg"}},
 *            {"id": "9", "label": "Firefox",
 *              "icon": {"name": "../../dlcui/css/images/Firefox.png"}},
 *            {"id": "10", "label": "Notepad",
 *              "icon": {"name": "../../dlcui/css/images/Notepad.png"}},
 *            {"id": "11", "label": "Skype",
 *              "icon": {"name": "../../dlcui/css/images/Skype.svg"}},
 *            {"id": "12", "label": "WebEx",
 *              "icon": {"name": "../../dlcui/css/images/WebEx.png"}},
 *            {"id": "13", "label": "Winzip",
 *              "icon": {"name": "../../dlcui/css/images/Winzip.svg"}}
 *        ];
 *
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            $timeout(function() {
 *              var _newData = [];
 *              while (_newData.length < pageSize && _counter < _maxLoad) {
 *                angular.forEach(_testData, function(item) {
 *                    var dataItem = angular.copy(item);
 *                    if (_newData.length < pageSize && _counter < _maxLoad) {
 *                        if (_counter > 13) {
 *                          dataItem.label += ' ' + _counter;
 *                        }
 *                        dataItem.id = _counter;
 *                       _counter++;
 *                       _newData.push(dataItem);
 *                    }
 *                 });
 *             };
 *             defer.resolve(_newData);
 *          }, 1000);
 *
 *          return defer.promise;
 *       };
 *
 *       return {
 *          generate: _generateData
 *       };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiApplicationCardContainer', ['dlcuiBaseTemplatePath', '$translate', 'DLCUI_SELECTION_TYPE', function (dlcuiBaseTemplatePath,
                                                      $translate,
                                                      DLCUI_SELECTION_TYPE) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        id: '@',
        source: '&',
        options: '=',
        onSelectionChanged: '&',
        onSubViewOpen: '&'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/applicationCardContainer/dlcuiApplicationCardContainer.directive.html'].join(''),
      link: function (scope, element, attrs) {
        /**
         * The options for the target
         * @type {any}
         */
        scope.options = scope.options || {};

        // Set default data
        dlcui.setDefaults(scope.options, {
          source: {
            pageSize: 25,
            clearAllVisible: false,
            containerScope: scope.$parent,
            headerLabel: ['{{count}}', $translate.instant('DLCUI_AVAILABLE_APPS')].join(' '),
            selectionType: DLCUI_SELECTION_TYPE.multiple
          },
          target: {
            containerScope: scope.$parent,
            headerLabel: ['{{count}}', $translate.instant('DLCUI_APPS')].join(' ')
          }
        });
        // Set the hidden flag
        scope.options.target.hidden = !scope.options.target.visible;

        /**
         * The drag and drop id
         * @type {string}
         */
        scope.dragAndDropID = '';
        if (dlcui.isStringWithLength(attrs.id)) {
          scope.dragAndDropID = [attrs.id, 'DragAndDrop'].join('_');
        }

        if (!scope.options.target.hidden && scope.options.source.selectionType !== DLCUI_SELECTION_TYPE.multiple) {
          scope.options.target.hidden = true;
        }

        scope.options.source.templateUrl = [dlcuiBaseTemplatePath,
          'directives/tabular/applicationCardContainer/dlcuiApplicationContainerCard.template.html'].join('');
        scope.options.target.templateUrl = [dlcuiBaseTemplatePath,
          'directives/tabular/applicationCardContainer/dlcuiApplicationContainerCardRemove.template.html'].join('');

        scope.style = {
          height: scope.options.height,
          width: scope.options.width
        };

        /**
         * Should we use the source load attribute.
         * @type {boolean}
         */
        scope.useSourceAttribute = dlcui.isStringWithLength(attrs.source);
      }
    };
  }]);
;/* eslint-disable angular/controller-as-vm, consistent-this, max-statements */
angular.module('dell.ngclarity.directives')
  .controller('dlcuiCardContainerController', ['dlcuiTemplate', 'dlcuiCallback', 'dlcuiBaseTemplatePath', 'dlcuiElementScroll', '$scope', '$element', '$compile', '$templateCache', '$q', 'dlcuiDragAndDrop', 'DLCUI_FLEXBOX_LAYOUT', 'DLCUI_SELECTION_TYPE', function (dlcuiTemplate,
                                                      dlcuiCallback,
                                                      dlcuiBaseTemplatePath,
                                                      dlcuiElementScroll,
                                                      $scope,
                                                      $element,
                                                      $compile,
                                                      $templateCache,
                                                      $q,
                                                      dlcuiDragAndDrop,
                                                      DLCUI_FLEXBOX_LAYOUT,
                                                      DLCUI_SELECTION_TYPE) {
    /**
     * The compiled sub view template.
     */
    var _subViewTemplate = $templateCache.get([dlcuiBaseTemplatePath,
      'directives/tabular/cardContainer/dlcuiCardContainerSubView.template.html'].join(''));

    /**
     * The card contents template
     * @type {string}
     * @private
     */
    var _cardContentsTemplate = $templateCache.get([dlcuiBaseTemplatePath,
      'directives/tabular/cardContainer/dlcuiCardItemContents.template.html'].join(''));

    /**
     * The re-usable sub view compiled template
     */
    var _subViewCompiler = $compile(_subViewTemplate);

    /**
     * The contents are.
     */
    var _$cardContainerElement = $element.find('.dlcui-card-container-contents');

    /**
     * Pointer it self
     * @type {dlcuiCardContainer}
     */
    var _self = this;

    /**
     * Is the subview in the process of been opened.
     * @type {boolean}
     * @private
     */
    var _subViewBeenActivated = false;

    /**
     * The cards that have been registered
     * @type {}
     * @private
     */
    var _registeredCards = {};

    /**
     * Counter of registered cards
     * @type {number}
     * @private
     */
    var _registeredCardsCount = 0;

    /**
     * Determines if the scroll listener has been added.
     * @type {boolean}
     * @private
     */
    var _registeredScrollListener = false;

    /**
     * Tracks the largest card size
     * @type {{height: number, width: number}}
     * @private
     */
    var _largestCardSize = {
      height: 0,
      width: 0
    };

    /**
     * The main contents element on which scrolling is enabled
     * @type {null}
     * @private
     */
    var _scrollElementRect = null;

    /**
     * Helper method to calculate the fix value for the sub view based on layout type.
     * @returns {!string} The fix value.
     * @private
     */
    function _getSubViewFixValue() {
      if ($scope.options.layout === DLCUI_FLEXBOX_LAYOUT.vertical ||
        $scope.options.layout === DLCUI_FLEXBOX_LAYOUT.grid) {
        return 'width';
      }

      return 'height';
    }

    /**
     * Helper method that calcualte the actual element to place the sub view after.
     * @param {!Element} element The element to search from.
     * @returns {!Element} The element after which to place the sub view.
     * @private
     */
    function _getSubViewNextPositionElement(element) {
      if ($scope.options.layout === DLCUI_FLEXBOX_LAYOUT.vertical ||
        $scope.options.layout === DLCUI_FLEXBOX_LAYOUT.horizontal) {
        return element;
      } else if ($scope.options.layout === DLCUI_FLEXBOX_LAYOUT.grid) {
        var elementOffset = $(element).offset();
        var $nextElement = $(element).next('.dlcui-card-item');
        var $lastElement = element;
        while ($nextElement.length && $nextElement.offset().top === elementOffset.top) {
          $lastElement = $nextElement;
          $nextElement = $nextElement.next('.dlcui-card-item');
        }

        return $lastElement;
      }

      return element;
    }

    /**
     * Used internally to determine if the card is in the visible scroll area.
     * @param {!Object} scrollElementRect The contents area element rect
     * @param {!Object} cardRect The card rect
     * @returns {boolean} True if the card is visible.
     * @private
     */
    function _isCardVisible(scrollElementRect, cardRect) {
      var adjustTop = cardRect.scrollTop - scrollElementRect.scrollTop;
      var adjustLeft = cardRect.scrollLeft - scrollElementRect.scrollLeft;

      if ((cardRect.rect.bottom + adjustTop) < 0 ||
        (cardRect.rect.top + adjustTop) > scrollElementRect.height) {
        return false;
      } else if ((cardRect.rect.right + adjustLeft) < 0 ||
        (cardRect.rect.left + adjustLeft) > scrollElementRect.width) {
        return false;
      }
      return true;
    }

    /**
     * Calculates the scroll element rect and scroll positoins
     * @returns {boolean} True if the size changed in any way.
     * @private
     */
    function _initializeScrollElementRect () {
      var newRect = dlcuiElementScroll.getElementRect($scope.getContentsElement());
      var sizeChanged = !_scrollElementRect ||
        (newRect.width !== _scrollElementRect.width || newRect.height !== _scrollElementRect.heigh);
      _scrollElementRect = newRect;
      _scrollElementRect.scrollTop = $($scope.getContentsElement()).scrollTop();
      _scrollElementRect.scrollLeft = $($scope.getContentsElement()).scrollLeft();

      return sizeChanged;
    }

    /**
     * Calculates the rect for the specified card and current scroll position
     * @param {!Object} cardOptions The associated card options.
     * @private
     */
    function _updateCardOptionsRect (cardOptions) {
      cardOptions.rect = dlcuiElementScroll.getElementPositionRect(cardOptions.element);
      cardOptions.scrollTop = _scrollElementRect.scrollTop;
      cardOptions.scrollLeft = _scrollElementRect.scrollLeft;
      if (_largestCardSize.width < cardOptions.rect.width) {
        _largestCardSize.width = cardOptions.rect.width;
      }
      if (_largestCardSize.height < cardOptions.rect.height) {
        _largestCardSize.height = cardOptions.rect.height;
      }
    }

    /**
     * Loop through all the cards to determine which are visible within the scroll area and those that
     * are outside of the visible scroll area.
     * @private
     */
    function _updateAllCardsVisibleState() {
      if ($scope.options.enableLazyRendering) {
        var sizeChanged = _initializeScrollElementRect();

        angular.forEach(_registeredCards, function (cardOptions) {
          if (sizeChanged) {
            // The size has changed so we have to execute expensive re-calculations
            _updateCardOptionsRect(cardOptions);
          }
          if (_isCardVisible(_scrollElementRect, cardOptions)) {
            cardOptions.scope.renderContents();
          } else {
            cardOptions.scope.clearContents(cardOptions.rect.height, cardOptions.rect.width);
          }
        });
      }
    }

    /**
     * Helper debounce to control the number of times the main method is called.
     * @type {Function}
     * @private
     */
    var _updateAllCardsVisibleStateDebounce = _.debounce(_updateAllCardsVisibleState, 100);

    /**
     * Render the contents of a specific card and is usually called after the card item registers itself.
     * @param {!Object} cardOptions The options associated with the card.
     * @private
     */
    function _renderCardItem(cardOptions) {
      if (!_scrollElementRect) {
        _initializeScrollElementRect();
      }

      cardOptions.scope.renderContents().then(function () {
        // Only use the new lazy rendering design if enabled.
        if ($scope.options.enableLazyRendering) {
          _scrollElementRect.scrollTop = $($scope.getContentsElement()).scrollTop();
          _scrollElementRect.scrollLeft = $($scope.getContentsElement()).scrollLeft();
          _updateCardOptionsRect(cardOptions);
          _updateAllCardsVisibleStateDebounce();
        } else {
          cardOptions.scope.renderContents();
        }
      });
    }

    /**
     * The sub view related data.
     * @type {null|Object}
     */
    this.subView = null;

    /**
     * Returns true if the sub view is currently open.
     * @param {?Element} optElement To test if it is open for the specified card.
     * @returns {!boolean} True if open.
     */
    this.isSubViewActive = function (optElement) {
      if (dlcui.isObject(this.subView)) {
        if (!optElement || (this.subView.scope && this.subView.scope.tetherElement === optElement)) {
          return true;
        }
      }

      return false;
    };

    /**
     * Returns true if lazy rendering is enabled.
     * @returns {boolean} true if enabled
     */
    this.isEnableLazyRendering = function () {
      return $scope.options.enableLazyRendering;
    };

    /**
     * Creates the sub-view for the specified element and card.
     * @param {!Element} element The element to create the view for.
     * @param {!Object} card The card data to tie to the sub view.
     */
    this.createSubView = function (element, card) {
      this.destroySubView();

      // First call the callback to see if we have data for the sub-view
      var results = $scope.onSubViewOpen({
        element: element,
        data: card
      });

      dlcuiCallback.handleResult(results).then(function (data) {
        // Make sure the template is loaded and cached to prevent weird rendering delay issues.
        dlcuiTemplate.load($scope.options.subViewTemplateUrl).then(function () {
          var insertAfterElement = _getSubViewNextPositionElement(element);
          _self.subView = {
            scope: $scope.$new()
          };
          _self.subView.scope.card = card;
          _self.subView.scope.subViewData = data;
          _self.subView.scope.$container = _self.getContainerScope();
          _self.subView.scope.templateUrl = $scope.options.subViewTemplateUrl;
          _self.subView.scope.cardContainerCtrl = _self;
          _self.subView.scope.fix = _getSubViewFixValue();
          _self.subView.scope.tetherElement = element;
          _self.subView.element = _subViewCompiler(_self.subView.scope, function (clonedElement) {
            if (insertAfterElement) {
              insertAfterElement.after(clonedElement);
            } else {
              _$cardContainerElement.append(clonedElement);
            }
          });
          _subViewBeenActivated = false;
        }, function () {
          _subViewBeenActivated = false;
        });
      }, function () {
        _subViewBeenActivated = false;
      });
    };

    /**
     * Returns true if the sub view design is enabled.
     * @returns {boolean} True if enabled.
     */
    this.isSubViewEnabled = function () {
      return dlcui.isStringWithLength($scope.options.subViewTemplateUrl) ||
        dlcui.isStringWithLength($scope.options.subViewTemplate);
    };

    /**
     * Opens and activates the sub view
     * @param {!Object} element The element associated with the card.
     * @param {!Object} card The associated card data and must be defined.
     * @returns {boolean} True if the sub view was activated.
     */
    this.activateSubView = function (element, card) {
      if (this.isSubViewEnabled() && !_subViewBeenActivated) {
        dlcui.assertObject(element, 'The current element is required.');
        dlcui.assertObject(card, 'The current card data object is required.');
        _subViewBeenActivated = true;

        dlcuiTemplate.convertTemplateToUrl($scope.options, 'subViewTemplateUrl', 'subViewTemplate', $scope);
        this.createSubView(element, card);

        return true;
      }

      return false;
    };

    /**
     * Can be called to dismiss the sub view if it is open.
     * @returns {boolean} True if there was a view to destroy.
     */
    this.dismissSubView = function () {
      // TODO-sscott: It seems we can't reuse the same compiled code, the ng-click stops working.
      return this.destroySubView();
    };

    /**
     * Close and destroy the sub view
     * @returns {boolean} True if there was a view to destroy.
     */
    this.destroySubView = function () {
      if (this.subView) {
        if (this.subView.element) {
          this.subView.element.remove();
          this.subView.element = null;
        }
        if (this.subView.scope) {
          this.subView.scope.$destroy();
          this.subView.scope = null;
        }
        this.subView = null;
        return true;
      }

      return false;
    };

    /**
     * Returns the correct template url to use for the specified card.
     * @param {?Object=} optCard The card to obtain the template for
     * @returns {!String} The template url.
     */
    this.getTemplateUrl = function (optCard) {
      dlcui.assertOptionalObject(optCard);

      if (optCard && !$scope.options.disableCardTemplates &&
        dlcuiTemplate.convertTemplateToUrl(optCard, 'templateUrl', 'template', $scope)) {
        return optCard.templateUrl;
      }

      return dlcuiTemplate.convertTemplateToUrl($scope.options, 'templateUrl', 'template', $scope);
    };

    /**
     * Returns the container scope.
     * @returns {$scope} Container scope.
     */
    this.getContainerScope = function () {
      return $scope.$container;
    };

    /**
     * Toggles the selection for the specified card.
     * @param {!Object} card The card data item
     * @returns {$promise} A promise that is resolved after the selection us handled.
     */
    this.toggleSelection = function (card) {
      dlcui.assertObject(card, 'Selection does not work for transcluded cards.');

      var results = $scope.onCardToggleSelection({
        card: card
      });

      return dlcuiCallback.handleResult(results).then(function () {
        var currentData = $scope.getData();
        if ($scope.options.selectionType === DLCUI_SELECTION_TYPE.single) {
          $element.find('.dlcui-card-selected').removeClass('dlcui-card-selected');
          if (!card.selected) {
            angular.forEach(currentData, function (item) {
              item.selected = false;
            });
          }
          card.selected = !card.selected;
        } else if ($scope.options.selectionType === DLCUI_SELECTION_TYPE.multiple) {
          card.selected = !card.selected;
        }

        var selectedItems = dlcuiDragAndDrop.extractSelectedItems(currentData);
        var selectedCount = dlcui.isArrayWithLength(selectedItems) ? selectedItems.length : 0;
        $scope.onSelectionChanged({
          length: selectedCount,
          data: selectedItems
        });
      });
    };

    /**
     * Called to clear all the current selection
     */
    this.clearAllSelections = function () {
      var currentData = $scope.getData();
      var selectionChanged = false;

      $element.find('.dlcui-card-selected').removeClass('dlcui-card-selected');

      angular.forEach(currentData, function (item) {
        if (item.selected && !selectionChanged) {
          selectionChanged = true;
        }
        item.selected = false;
      });

      if (selectionChanged) {
        $scope.onSelectionChanged({
          data: dlcuiDragAndDrop.extractSelectedItems(currentData)
        });
      }
    };

    /**
     * Called to select all the items
     */
    this.selectAll = function () {
      if ($scope.options.selectionType === DLCUI_SELECTION_TYPE.single ||
        $scope.options.selectionType === DLCUI_SELECTION_TYPE.multiple) {
        var currentData = $scope.getData();
        var selectionChanged = false;

        $element.find('.dlcui-card-item').addClass('dlcui-card-selected');

        angular.forEach(currentData, function (item) {
          if (!item.selected && !selectionChanged) {
            selectionChanged = true;
            item.selected = true;
          } else if ($scope.options.selectionType !== DLCUI_SELECTION_TYPE.single) {
            item.selected = true;
          }
        });

        if (selectionChanged) {
          $scope.onSelectionChanged({
            data: dlcuiDragAndDrop.extractSelectedItems(currentData)
          });
        }
      }
    };

    /**
     * Builds a compiler for the specified template url so it can be re-used.
     * @param {!string} templateUrl The template url.
     * @returns {!promise} The promise.
     */
    this.getCompiler = function (templateUrl) {
      dlcui.assertStringWithLength(templateUrl);

      var defer = $q.defer();

      this._compiledTemplates = this._compiledTemplates || {};
      if (this._compiledTemplates[templateUrl]) {
        defer.resolve(this._compiledTemplates[templateUrl]);
      } else {
        dlcuiTemplate.load(templateUrl).then(function (template) {
          // We may have hundreds of initial requests so double check again.
          if (!_self._compiledTemplates[templateUrl]) {
            var contentsTemplate = dlcui.formatString(_cardContentsTemplate, {
              contents: template
            });
            _self._compiledTemplates[templateUrl] = $compile(contentsTemplate);
          }
          defer.resolve(_self._compiledTemplates[templateUrl]);
        });
      }


      return defer.promise;
    };

    /**
     * Called when a card item is registered.
     * @param {!$scope} scope the cards scope
     * @param {!Element} element the cards bounding element
     * @param {!Element} contentsElement the cards internal contents area into which contents are loaded
     */
    this.registerCardItem = function (scope, element, contentsElement) {
      dlcui.assertObject(scope);
      dlcui.assertObject(element);
      dlcui.assertObject(contentsElement);

      if (!_registeredScrollListener) {
        _registeredScrollListener = true;
        $scope.getContentsElement().on('scroll', _updateAllCardsVisibleStateDebounce);
        $(window).on('resize', _updateAllCardsVisibleStateDebounce);
      }

      _registeredCardsCount++;
      _registeredCards[scope.$id] = {
        scope: scope,
        contentsElement: contentsElement,
        element: element
      };

      _renderCardItem(_registeredCards[scope.$id]);
    };

    /**
     * Called when the card is destroyed
     * @param {!$scope} scope the cards scope
     */
    this.deregisterCardItem = function (scope) {
      dlcui.assertObject(scope);

      _registeredCardsCount--;
      delete _registeredCards[scope.$id];
    };

    $scope.$on('$destroy', function () {
      $scope.getContentsElement().off('scroll', _updateAllCardsVisibleStateDebounce);
      $(window).off('resize', _updateAllCardsVisibleStateDebounce);
      _self.destroySubView();
    });
  }]);

;/**
 * @ngdoc directive
 * @name cardContainer
 * @module dlcui
 * @src directives/tabular/cardContainer/dlcuiCardContainer.directive.js
 * @controlType tabular
 * @restrict E
 *
 * @param {Function=} source This accepts the callback function defined on the scope and is called
 * to load data in blocks of pageSize. Source can also be specified on the options by using the options.data property.
 *
 * This function should have the following signature,
 *   * ```javascript function (startIndex, pageSize, sortBy, filter) {}```
 * * This callback function must return
 *   * angular promise that is resolved after the data loaded.
 *   * an array of data objects
 * * The Data Returned in the resolve must be an array of objects where each object must contain and id property.
 *
 * The structure for each data item must contain at the very least the following json
 * ```javascript
 * {
 *    id: 'Unique id',
 *    label: 'A label to display',
 *    info: 'The information text to display',
 *    templateUrl: 'dlcuiTest.template.html'    // Optional value that overrides the main templateUrl if defined.
 * }
 * ```
 *
 * @param {Object=} options The options object that contains all the options that can be set on this component and
 * consists of the following options,
 * * data = Optional Function or Array that defines the data and overrides the source property above if defined.
 * * disableCardDecoration = Optional Boolean that allows the developer to disabled the colors and borders
 * assigned to each card within the card container component.
 * * disableInitialLoad = Optional Boolean that allows the developer to block the initial load and so
 * when set to true forces the developer to send the reloadData event.
 * * enableLazyRendering = Optional boolean value that allows for lazy initialization and rendering of cards. Setting
 * this to true allows for thousands of cards to be rendered while keeping the angular watch count very..very low
 * but does impact rendering performance. Setting this to false increases rendering performance but
 * increases the angular watch count and for very large data sets this can negatively impact performance especially
 * on IE and where each card has a complex template. pageSize should also be set to below 250 when this option
 * is used for optimal performance.
 * * align = Optional string value that defines how to align items vertically for grid and horizontal layouts
 * and horizontally for vertical layouts and can be accessed through the angular constant DLCUI_FLEXBOX_ALIGN or
 * by value directly,
 *  * 'flex-start' or DLCUI_FLEXBOX_ALIGN.flexStart - Align items to the start.
 *  * 'flex-end' or DLCUI_FLEXBOX_ALIGN.flexEnd - Align items to the end.
 *  * 'center' or DLCUI_FLEXBOX_ALIGN.center (Default) - Align to the middle.
 * * layout - Optional string value that defines how to lay items within the container and can be accessed through
 * the angular constant DLCUI_FLEXBOX_LAYOUT or by value directly,
 *  * 'grid' or DLCUI_FLEXBOX_LAYOUT.grid - Position items so that flow from left to right, top to bottom.
 *  * 'horizontal' or DLCUI_FLEXBOX_LAYOUT.horizontal - Position items so they flow from left to right in a single row.
 *  * 'vertical' or DLCUI_FLEXBOX_LAYOUT.vertical (Default) - Position items so they flow from top to bottom in a single
 * column.
 * * justify - Optional string value that defines how to position items horizontally for grid and horizontal
 * layouts and vertically for vertical layouts and can be accessed through the angular constant
 * DLCUI_FLEXBOX_JUSTIFY or by value directly,
 *  * 'space-between' or DLCUI_FLEXBOX_JUSTIFY.spaceBetween (Default) - Position items so they flow with spaces
 * between them but with no space before the first nor the last item.
 *  * 'space-around' or DLCUI_FLEXBOX_JUSTIFY.spaceAround - Position items so they flow with space between them and with
 * space before the first item and a space after the last item.
 *  * 'flex-start' or DLCUI_FLEXBOX_JUSTIFY.flexStart - Position items to flow from the start of the container with
 * no spaces between the items nor before the first and last items.
 *  * 'flex-end' or DLCUI_FLEXBOX_JUSTIFY.flexEnd - Position items to flow at the end of the container with no spaces.
 *  * 'center' or DLCUI_FLEXBOX_JUSTIFY.center - Position items to the middle of the container with no space between
 * them but with spaces before the first item and a space after the last item.
 * * templateUrl - Optional string value that defines the template for each item and if not specified then
 * the data item itself must contain a valid templateUrl
 * * template - Optional string value that defines the template and can be used to define the template inline as
 * an alternate to the templateUrl
 * * emptyTemplateUrl - Optional string value that defines the template to use if there is no data.
 * * subViewTemplateUrl - Optional template url to be used for the sub-view design and activate the design if specified.
 * * subViewTemplate - Optional template to be used for the sub-view design and activate the design if specified
 * and can be used to define the template inline as an alternate to the subViewTemplateUrl.
 * * pageSize - Optional number value that defines the block size of the data been loaded and the default is 100.
 * Specify 0 or less than 0 to always load all the data and disable lazy loading.
 * * startIndex - Optional number value that defines the point where data is loaded from and the default is 0.
 * * selectionType - The selection type and the angular constant DLCUI_SELECTION_TYPE can be used with,
 *   * 0 or DLCUI_SELECTION_TYPE.none
 *   * 1 or DLCUI_SELECTION_TYPE.single
 *   * 2 or DLCUI_SELECTION_TYPE.multiple
 *
 * ```javascript
 * $scope.options = {
 *   pageSize: 50,      // Or specify 0 to load all the data, useful if the options.data is set to an array
 *   startIndex: 0,     // The start
 *   templateUrl: '/templates/cardItem.template.html', // A valid template url
 *   layout: DLCUI_FLEXBOX_LAYOUT.vertical  // Vertical layout which is a grid with a single column
 * };
 * ```
 *
 * @param {Function=} onSubViewOpen Callback function that is called just before the sub view is opened. This
 * method can return data to attach to the sub view or it can return a promise so the data us loaded asycnhronously.
 * The promise reject can be used to block the opening of the sub-view if required.
 *
 * The signature of the sub-view should appear as follows,
 *
 * ```javascript
 * function(element, data)
 * ```
 *
 * The element is the card element itself and the data is the data associated with the card if defined. The data
 * returned by this method is attached to the sub view scope. The sub view template can access either the card data
 * using the following scope properties <i>card</i> or the returned data through <i>subViewData</i>. The sub view
 * template also has access to the same scope property <i>$container</i> that each card template has access too
 * and which defaults to the parent scope or can be configured through <i>options.containerScope</i>.
 *
 * @param {Function=} onSelectionChanged Callback function that is called when the selection changes. This
 * can not be used to block selection and the onCardToggleSelection can be used for that.
 *
 * The signature of the sub-view should appear as follows,
 *
 * ```javascript
 * function(data)
 * ```
 *
 * The parameter data contains the array of selected cards.
 *
 * @param {Function=} onCardToggleSelection Callback function that is called just before the cards selection
 * is changed. This change can be blocked by returning false or by returning a promise that is rejected.
 *
 * The signature of the sub-view should appear as follows,
 *
 * ```javascript
 * function(card)
 * ```
 *
 * The current selection state can be obtained from the card by checking the card.selected value.
 *
 * @description
 * Element based directive that is used to generate a container that displays a collection of cards and
 * where both the layout is configurable as well as the template to use for each card. The layout is built on
 * top of CSS Flex Box concepts and so the entire layout is managed by the browser and there are 3 main different
 * layouts that can be selected,
 * * Grid
 * * Vertical (Row)
 * * Horizontal (Toolbar)
 *
 * The temlate for the cards can be defined via a template url or a template string value, siimilar to
 * how angular directives are defined where <i>template</i> or <i>templateUrl</i> can be used.
 *
 * The card container component is usually wrapped within another component such as the Drag and Drop Container
 * Component. The wrapper then exposes a smaller subset of the available configuration options to the developer
 * whilst setting the options for the rest. The following components currently wrap this component,
 * * Application Card Container
 * * Text Card Container
 * * Drag and Drop Container
 * * Info Card Container
 * * List
 *
 * The component does not set any border or background color and it's height is set to a width of 100% and a height
 * of auto. This component should be wrapped in a div that fixes the height and width and internally this component
 * will display a scroll-bar if required.
 *
 * <b>Card Related Data</b>
 * The cards and data can be defined in one of three ways,
 * * The <i>source</i> attribute is used to call a load function with the required parameters.
 * * The <i>options.data</i> is set equal to a data function that returns an array or an angular promise.
 * * ```<dlcui-card-item>``` Elements are added directly into the card container element using transclusion.
 *
 * <b>Lazy Loading</b>
 * This component also uses lazy loading and loads data in configured page sizes when the user scrolls to the
 * bottom. To allow lazy loading to work the source attribute can be used or the <i>options.data</i> can be set to
 * a load function or a large array while setting the <i>options.pageSize</i> to a value greater that 0.
 *
 * It is possible to disable lazy loading by setting the <i>options.data</i> to a valid array and the
 * <i>options.pageSize</i> to -1, or not defined at all.
 *
 * <b>Card Template</b>
 * The templateUrl references a template that can obtain data associated with a specific data item by using the
 * <i>card</i> variable name as shown next,
 * ```html
 * <div>
 *   Id: <span ng-bind="card.id"></span>
 *   Text: <span ng-bind="card.text"></span>
 * </div>
 * ```
 *
 * <b>Scope Access from Cards</b>
 * A developer can also access methods and variables that is defined on the parent scope, which contains the card
 * component, by using the variable <i>$container</i>. As an example lets expand the previous example to handle a
 * click action,
 * ```html
 * <div ng-click="$container.onCardClicked(card)">
 *   Id: <span ng-bind="card.id"></span>
 *   Text: <span ng-bind="card.text"></span>
 * </div>
 * ```
 *
 * The $container is a configurable option that allows the developer to assign a different scope that may contain
 * shared data or functionality that all cards can access. To modify this set the <i>options.containerScope</i>
 * property to the correct scope value and that can be accessed from each card.
 *
 * The <i>$container</i> and <i>card</i> variables only work when the <i>options.templateUrl</i> or
 * <i>options.template</i> are used. When using transclusion the scope variables are accessed using normal
 * angular methodology.
 *
 * <b>Card Selection</b>
 * The core card container component has built in support for card selection, which is utilized by the
 * dlcuiGridCardContainer and dlcuiApplicationCardContainer.
 *
 * It is an open design that allows the developer to control how selection is displayed visually and there are
 * two methods that can be used from within the card template,
 * * toggleSelection() Call this directly to toggle the selection
 * * isSelected() Call this to determin if the card is currently selectd.
 *
 * The selection can be controlled by using the onCardToggleSelection callback design and this function
 * can return a boolean or an angular promise that can be used to either allow or block the selection.
 *
 * The callback function onSelectionChanged can also be used to track all the selected items and the
 * component will also set <i>selected</i> on each data item to true so if the <i>options.data</i> with two
 * way binding the original data will be modified with this selected value.
 *
 * The selection type, single or multiple, must be enabled through the option property <i>selectionType</i>. See
 * details above about the allowed values for this propertly. Selection is disabled by default for this core
 * component.
 *
 * An example can be found below.
 *
 * <b>Card Sub View</b>
 * The subviewTemplateUrl and subviewTemplate can be used to define a template for the card sub view concept (See the
 * last three example below). This sub view allows the developer to open a sub view that flows out of a selected
 * card to display more detailed information on the selected card. This sub view is much like a tooltip but
 * is place inside of the flow of the card layout and must be dismissed by the developer.
 *
 * From the card template the developer can access the following methods,
 * * isSubViewActive(true) - Is the sub-view active for the specified card on which the function is called. Use false
 * if you want to test if it is open for any card.
 * * activateSubView(optData) Opens the sub view and uses the template defined in subViewTemplateUrl/subViewTemplate to
 * render the contents together with the current data. If you do not spocify the optData then the current card
 * data item is passed to the sub view. Any open sub-views will be dismnissed if this method is called from another
 * card, so there is always only one sub view open.
 *
 * The following example highlight how within the card component a simple button can be used.
 * ```html
 * <dlcui-button type="primary" ng-disabled="isSubViewActive(true)" ng-click="activateSubView()">
 *    Activate Sub View
 * </dlcui-button>
 * ```
 *
 * The sub view can be dismissed from within the sub view template or from the card itself, which should give enough
 * flexibility to different use cases,
 * * dismissSubView() - Called from the card template or sub view template to close any open sub views.
 *
 * @example
 * <h3>Card Container Component Transcluded Cards</h3>
 *
 * <example name="cardContainerBasicTranscluded">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container options="options">
 *        <dlcui-card-item>
 *          <div class="dlcui-example-card-item">
 *            <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *              <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *                <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *                <div class="dlcui-example-heading" ng-bind="model[0].heading"></div>
 *              </div>
 *              <br><br>
 *              <div class="dlcui-example-label">Creation Date:</div>
 *               <div class="dlcui-example-value">{{model[0].createDate | date:'medium'}}</div>
 *               <br>
 *               <div class="dlcui-example-label">Description:</div>
 *              <div class="dlcui-example-value" ng-bind="model[0].details"></div>
 *            </div>
 *          </div>
 *        </dlcui-card-item>
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *      background-color:  #f9f9f9;
 *      height: 180px;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.model = [
 *          {
 *            id: 0,
 *            heading: 'Item 1',
 *            createDate: new Date().getTime(),
 *            details: 'This is details for item 1.'
 *          }
 *        ];
 *
 *        $scope.options = {
 *          layout: 'grid'
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 250px;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 200px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component With Card Selection</h3>
 *
 * <example name="cardContainerBasicNoLazyLoadingSelection">
 *  <file name="index.html">
 *    Allow Selections: <input type="checkbox" name="allowSelection" ng-model="allowSelection">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container options="options"
 *                          on-card-toggle-selection="onCardToggleSelection(card)"
 *                          on-selection-changed="onSelectionChanged(data)">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *        <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *          <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *            <dlcui-icon class="dlcui-example-select-icon"
 *                      type="svg"
 *                      icon="{{isSelected() ? '#ic_selectgreen' : '#ic_unselect'}}"
 *                      size="24px"
 *                      ng-click="toggleSelection()">
 *            </dlcui-icon>
 *            <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *          </div>
 *          <br><br>
 *          <div class="dlcui-example-label">Creation Date:</div>
 *          <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *          <br>
 *          <div class="dlcui-example-label">Description:</div>
 *          <div class="dlcui-example-value" ng-bind="card.details"></div>
 *       </div>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *      background-color:  #f9f9f9;
 *      height: 180px;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-select-icon {
 *      background-color: transparent;
 *      cursor: pointer;
 *      height: 16px;
 *      margin-right: 8px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-select-icon:focus {
 *      outline: none;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator, DLCUI_SELECTION_TYPE) {
 *
 *        $scope.allowSelection = true;
 *
 *        $scope.onCardToggleSelection = function (card) {
 *           // We could also return a promise that resolves or reject the results to block selecton.
 *           $scope.message = 'onCardToggleSelection called with Card with id ' + card.id + '.';
 *           return $scope.allowSelection;
 *        };
 *
 *        $scope.onSelectionChanged =  function (data) {
 *           $scope.message = 'Selected Cards ' + JSON.stringify(data);
 *        };
 *
 *        $scope.options = {
 *          data: testDataGenerator.generate(133),
 *          selectionType: DLCUI_SELECTION_TYPE.multiple,
 *          templateUrl: 'cardItem.template.html'
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 43;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          return data;
 *        };
 *
 *        return {
 *          generate: function (size) {
 *            return createTestData(0, size);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component With Lazy Loading Disabled</h3>
 *
 * <example name="cardContainerBasicNoLazyLoading">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *        <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *          <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *            <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *            <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *          </div>
 *          <br><br>
 *          <div class="dlcui-example-label">Creation Date:</div>
 *          <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *          <br>
 *          <div class="dlcui-example-label">Description:</div>
 *          <div class="dlcui-example-value" ng-bind="card.details"></div>
 *       </div>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *      background-color:  #f9f9f9;
 *      height: 180px;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator) {
 *        $scope.options = {
 *          data: testDataGenerator.generate(),
 *          templateUrl: 'cardItem.template.html'
 *        };
 *
 *        $scope.source = function(startIndex, pageSize) {
 *            return createTestData(0, 132);
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 43;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          return data;
 *        };
 *
 *        return {
 *          generate: function () {
 *            return createTestData(0, 133);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 550px;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component With Lazy Loading Enabled</h3>
 *
 * <example name="cardContainerBasicLazyLoading">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *        <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *          <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *            <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *            <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *          </div>
 *          <br><br>
 *          <div class="dlcui-example-label">Creation Date:</div>
 *          <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *          <br>
 *          <div class="dlcui-example-label">Description:</div>
 *          <div class="dlcui-example-value" ng-bind="card.details"></div>
 *       </div>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *      background-color:  #f9f9f9;
 *      height: 180px;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator) {
 *
 *        $scope.options = {
 *          data: function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *          },
 *          pageSize: 50,
 *          templateUrl: 'cardItem.template.html'
 *        };
 *
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 343;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 550px;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component Horizontal Layout And Lazy Loading</h3>
 *
 * <example name="cardContainerHorizontal">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container source="source(startIndex, pageSize)" options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *        <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *          <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *            <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *            <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *          </div>
 *          <br><br>
 *          <div class="dlcui-example-label">Creation Date:</div>
 *          <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *          <br>
 *          <div class="dlcui-example-label">Description:</div>
 *          <div class="dlcui-example-value" ng-bind="card.details"></div>
 *       </div>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *      background-color:  #f9f9f9;
 *      height: 180px;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator, DLCUI_FLEXBOX_LAYOUT) {
 *
 *        $scope.options = {
 *          pageSize: 50,
 *          startIndex: 0,
 *          templateUrl: 'cardItem.template.html',
 *          layout: DLCUI_FLEXBOX_LAYOUT.horizontal
 *        };
 *
 *        $scope.source = function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 343;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 250px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component Vertical Layout and Center Aligned</h3>
 *
 * <example name="cardContainerVertical">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container source="source(startIndex, pageSize)" options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *        <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *          <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *            <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *            <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *          </div>
 *          <br><br>
 *          <div class="dlcui-example-label">Creation Date:</div>
 *          <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *          <br>
 *          <div class="dlcui-example-label">Description:</div>
 *          <div class="dlcui-example-value" ng-bind="card.details"></div>
 *       </div>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *     background-color:  #f9f9f9;
 *      height: 180px;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator, DLCUI_FLEXBOX_LAYOUT, DLCUI_FLEXBOX_ALIGN) {
 *
 *        $scope.options = {
 *          pageSize: 10,
 *          startIndex: 0,
 *          templateUrl: 'cardItem.template.html',
 *          layout: DLCUI_FLEXBOX_LAYOUT.vertical,
 *          align: DLCUI_FLEXBOX_ALIGN.center
 *        };
 *
 *        $scope.source = function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 343;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 550px;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component Using different Card Templates for each Card</h3>
 *
 * <example name="cardContainerBasicItemTemplates">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItemOne.template.html">
 *    <div class="dlcui-example-card-item-one">
 *      Card Template 1
 *      <p>
 *        <b>id:</b> {{card.id}}
 *      </p>
 *      <p>
 *        <b>Text:</b> {{card.text}}
 *      </p>
 *    </div>
 *  </file>
 *  <file name="cardItemTwo.template.html">
 *    <div class="dlcui-example-card-item-two" ng-class="{'dlcui-test-selected': $container.isCardSelected(card)}">
 *      Card Template 2
 *      <p>
 *        <b>Text:</b> {{card.text}} for index {{$index}}
 *      </p>
 *      <p>
 *        <b>id:</b> {{card.id}}
 *      </p>
 *      <p ng-if="$container.isCardSelected(card)">
 *        The $container.isCardSelected(card) returned true!
 *      </p>
 *    </div>
 *  </file>
 *  <file name="cardItemOne.styles.css">
 *    .dlcui-example-card-item-one {
 *      background: #cecece;
 *      border: 1px solid black;
 *      height: auto;
 *      padding: 5px;
 *      width: auto;
 *    }
 *  </file>
 *  <file name="cardItemTwo.styles.css">
 *    .dlcui-example-card-item-two {
 *      background: #cce5f1;
 *      border: 1px solid #cce5f1;
 *      height: auto;
 *      padding: 5px;
 *      width: auto;
 *    }
 *
 *    .dlcui-test-selected {
 *      background: orangered;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, DLCUI_FLEXBOX_ALIGN) {
 *        // Total MAX amount of data to load
 *        var maxData = 233;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              text: 'Item ' + testIndex,
 *              templateUrl: loop % 2 === 0 ? 'cardItemOne.template.html' : 'cardItemTwo.template.html'
 *            });
 *          }
 *
 *          return data;
 *        };
 *
 *        $scope.options = {
 *          data: createTestData (0, maxData),
 *          align: DLCUI_FLEXBOX_ALIGN.center,
 *          pageSize: 50,
 *          startIndex: 0
 *        };
 *
 *        $scope.isCardSelected = function (card) {
 *          return (card.id === 15);      // Basic example of how we can call functions from the template
 *        };
 *
 *        $scope.source = function(startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 550px;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component Vertical Layout, Left Aligned and No scrollbar </h3>
 *
 * <example name="cardContainerVerticalNoScroll">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *        <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *          <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *            <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *            <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *          </div>
 *          <br><br>
 *          <div class="dlcui-example-label">Creation Date:</div>
 *          <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *          <br>
 *          <div class="dlcui-example-label">Description:</div>
 *          <div class="dlcui-example-value" ng-bind="card.details"></div>
 *       </div>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *     background-color:  #f9f9f9;
 *      height: 180px;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator, DLCUI_FLEXBOX_LAYOUT, DLCUI_FLEXBOX_ALIGN) {
 *
 *        $scope.options = {
 *          data: testDataGenerator.generate(8),
 *          pageSize: 0,      // Force load all the items since there is no scrollbar
 *          startIndex: 0,
 *          templateUrl: 'cardItem.template.html',
 *          layout: DLCUI_FLEXBOX_LAYOUT.vertical,
 *          align: DLCUI_FLEXBOX_ALIGN.flexStart
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 343;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          return data;
 *        };
 *
 *        return {
 *          generate: function (size) {
 *            return createTestData(0, size);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 600px;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component with Grid Layout and Sub View</h3>
 *
 * <example name="cardContainerBasicGridSubView">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container source="source(startIndex, pageSize)" options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *      <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *        <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *          <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *          <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *        </div>
 *        <br><br>
 *        <div class="dlcui-example-label">Creation Date:</div>
 *        <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *        <br>
 *        <div class="dlcui-example-label">Description:</div>
 *        <div class="dlcui-example-value" ng-bind="card.details"></div>
 *      </div>
 *      <dlcui-button class="dlcui-example-button"
 *                  type="primary"
 *                  ng-disabled="isSubViewActive(true)"
 *                  ng-click="activateSubView()">
 *          Show Sub View
 *      </dlcui-button>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *      background-color: #f9f9f9;
 *      height: auto;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-button {
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-button {
 *      margin-top: 10px;
 *    }
 *  </file>
 *  <file name="subView.template.html">
 *    <div class="dlcui-example-sub-view">
 *      <dlcui-icon class="dlcui-example-logo" icon="#ic_menu_reports" size="30px"></dlcui-icon>
 *      <p>
 *        Template that is defined by the developer and contains details about the card above.
 *
 *        The text for this card is <i>{{card.details}}</i>
 *      </p>
 *      <p>
 *        Click the X on the top right to dismiss the card with id '<b>{{card.id}}</b>'.
 *      </p>
 *    </div>
 *  </file>
 *  <file name="subView.styles.css">
 *    .dlcui-example-sub-view {
 *      min-width: 100%;
 *    }
 *
 *    .dlcui-example-sub-view .dlcui-example-logo {
 *      color: #ee6411;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator) {
 *
 *        $scope.options = {
 *          pageSize: 50,
 *          subViewTemplateUrl: 'subView.template.html',
 *          startIndex: 0,
 *          templateUrl: 'cardItem.template.html'
 *        };
 *
 *        $scope.source = function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 343;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 550px;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component Vertical Layout and Sub View</h3>
 *
 * <example name="cardContainerVerticalSubView">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container source="source(startIndex, pageSize)" options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *      <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *        <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *          <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *          <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *        </div>
 *        <br><br>
 *        <div class="dlcui-example-label">Creation Date:</div>
 *        <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *        <br>
 *        <div class="dlcui-example-label">Description:</div>
 *        <div class="dlcui-example-value" ng-bind="card.details"></div>
 *      </div>
 *      <dlcui-button class="dlcui-example-button"
 *                  type="primary"
 *                  ng-disabled="isSubViewActive(true)"
 *                  ng-click="activateSubView()">
 *          Show Sub View
 *      </dlcui-button>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *      background-color: #f9f9f9;
 *      height: auto;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-button {
 *      width: 100%;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-button {
 *      margin-top: 10px;
 *    }
 *  </file>
 *  <file name="subView.template.html">
 *    <div class="dlcui-example-sub-view">
 *      <dlcui-icon class="dlcui-example-logo" icon="#ic_menu_reports" size="30px"></dlcui-icon>
 *      <p>
 *        Template that is defined by the developer and contains details about the card above.
 *
 *        The text for this card is <i>{{card.details}}</i>
 *      </p>
 *      <p>
 *        Click the X on the top right to dismiss the card with id '<b>{{card.id}}</b>'.
 *      </p>
 *    </div>
 *  </file>
 *  <file name="subView.styles.css">
 *    .dlcui-example-sub-view {
 *      min-width: 60%;
 *    }
 *
 *    .dlcui-example-sub-view .dlcui-example-logo {
 *      color: #ee6411;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator, DLCUI_FLEXBOX_LAYOUT, DLCUI_FLEXBOX_ALIGN) {
 *
 *        $scope.options = {
 *          pageSize: 50,
 *          startIndex: 0,
 *          templateUrl: 'cardItem.template.html',
 *          subViewTemplateUrl: 'subView.template.html',
 *          layout: DLCUI_FLEXBOX_LAYOUT.vertical,
 *          align: DLCUI_FLEXBOX_ALIGN.center
 *        };
 *
 *        $scope.source = function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 343;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 550px;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component With Large Data and Lazy Rendering</h3>
 *
 * <example name="cardContainerBasicLazyLoadingLargeData">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-example-card-item">
 *        <div class="dlcui-flex-container-vertical dlcui-justify-space-between dlcui-align-flex-start">
 *          <div class="dlcui-flex-container-horizontal dlcui-justify-space-between dlcui-align-center">
 *            <dlcui-icon icon="#ic_help" size="25px"></dlcui-icon>
 *            <div class="dlcui-example-heading" ng-bind="card.heading"></div>
 *          </div>
 *          <br><br>
 *          <div class="dlcui-example-label">Creation Date:</div>
 *          <div class="dlcui-example-value">{{card.createDate | date:'medium'}}</div>
 *          <br>
 *          <div class="dlcui-example-label">Description:</div>
 *          <div class="dlcui-example-value" ng-bind="card.details"></div>
 *       </div>
 *    </div>
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-example-card-item {
 *      background-color:  #f9f9f9;
 *      height: 180px;
 *      padding: 10px 20px;
 *      width: 180px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-heading {
 *      font-size: 18px;
 *      line-height: 1em;
 *      margin-left: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-label {
 *      font-size: 10px;
 *    }
 *
 *    .dlcui-example-card-item .dlcui-example-value {
 *      font-size: 12px;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, testDataGenerator) {
 *        $scope.options = {
 *          data: function(startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *          },
 *          enableLazyRendering: true,
 *          pageSize: 250,
 *          templateUrl: 'cardItem.template.html'
 *        };
 *
 *      });
 *  </file>
 *  <file name="testDataGenerator.factory.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // Total MAX amount of data to load
 *        var maxData = 20000;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var defer = $q.defer();
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              heading: 'Item ' + testIndex,
 *              createDate: new Date().getTime(),
 *              details: 'This is details for item ' + testIndex + '.'
 *            });
 *          }
 *
 *          $timeout(function () {
 *            defer.resolve(data);
 *          }, 1000);
 *
 *          return defer.promise;
 *        };
 *
 *        return {
 *          generate: function (startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *          }
 *        };
 *     });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 550px;
 *      width: 100%;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 */

/* eslint-disable max-statements*/
angular.module('dell.ngclarity.directives')
  .directive('dlcuiCardContainer', ['dlcuiBaseTemplatePath', 'dlcuiTemplate', 'dlcuiElementId', 'dlcuiFlexbox', 'DLCUI_CARD_CONTAINER_EVENTS', 'DLCUI_LAZY_LOAD_EVENTS', 'DLCUI_FLEXBOX_LAYOUT', function (dlcuiBaseTemplatePath,
                                           dlcuiTemplate,
                                           dlcuiElementId,
                                           dlcuiFlexbox,
                                           DLCUI_CARD_CONTAINER_EVENTS,
                                           DLCUI_LAZY_LOAD_EVENTS,
                                           DLCUI_FLEXBOX_LAYOUT) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        source: '&',
        options: '=',
        onSubViewOpen: '&',
        onCardToggleSelection: '&',
        onSelectionChanged: '&',
        disabled: '=?ngDisabled'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/cardContainer/dlcuiCardContainer.directive.html'].join(''),	 
      transclude: true,
      controller: 'dlcuiCardContainerController',
      controllerAs: 'cardCtrl',
      link: function (scope, element, attrs, ctrl, transcludefn) {
        /**
         * The element into which the contents is placed.
         */
        var _contentsElement = element.find('.dlcui-card-container-contents');

        /**
         * Used to determine if the developer added <dlcui-card-item> templates.
         * @type {boolean}
         */
        var _containsTranscludedCards = false;

        /**
         * Used to determine if lazy loading is enabled or disabled
         * @type {boolean}
         */
        var lazyLoadEnabled = false;

        /**
         * Helper method that sets the default values for the options and initializes the component for
         * first time use.
         */
        function _initialize () {
          // Set the defaults if required
          scope.options = scope.options || {};
          scope.options.layout = scope.options.layout || DLCUI_FLEXBOX_LAYOUT.grid;

          if (!dlcui.isStringWithLength(scope.options.emptyTemplateUrl) &&
            !dlcui.isStringWithLength(scope.options.emptyTemplate)) {
            scope.options.emptyTemplateUrl = [dlcuiBaseTemplatePath, 'directives/tabular/cardContainer/dlcuiCardContainerEmpty.template.html'].join('');
          }

          // Update the flexbox options based on the configuration
          scope.flexboxClasses.push(dlcuiFlexbox.updateLayout(scope.options.layout));
          if (dlcui.isStringWithLength(scope.options.justify)) {
            scope.flexboxClasses.push(dlcuiFlexbox.updateJustification(scope.options.justify));
          }
          if (dlcui.isStringWithLength(scope.options.align)) {
            scope.flexboxClasses.push(dlcuiFlexbox.updateAlignment(scope.options.align));
          }

          if (scope.options.layout !== DLCUI_FLEXBOX_LAYOUT.card) {
            if (scope.scrollDirection === DLCUI_FLEXBOX_LAYOUT.horizontal) {
              scope.flexboxClasses.push('dlcui-direction-horizontal');
            } else {
              scope.flexboxClasses.push('dlcui-direction-vertical');
            }
          }
          _contentsElement.addClass(scope.flexboxClasses.join(' '));


          // Set the parent container
          scope.$container = scope.options.containerScope || scope.$parent;

          // Set the scroll direction
          scope.scrollDirection = scope.options.layout === DLCUI_FLEXBOX_LAYOUT.horizontal ||
          scope.options.layout === DLCUI_FLEXBOX_LAYOUT.card
            ? DLCUI_FLEXBOX_LAYOUT.horizontal : DLCUI_FLEXBOX_LAYOUT.vertical;

          // Calculate how data is loaded
          var dataSource = null;
          if (dlcui.isFunction(scope.options.data)) {
            // This is a data function
            dataSource = function (dataOptions) {
              return scope.options.data(dataOptions.startIndex, dataOptions.pageSize,
                dataOptions.sortBy, dataOptions.filter);
            };
          } else if (dlcui.isArray(scope.options.data)) {
            // This is an array
            if (scope.options.pageSize > 0) {
              scope.options.data = scope.options.data || [];
              dataSource = function (dataOptions) {
                if (dataOptions.pageSize > 0) {
                  return scope.options.data.slice(dataOptions.startIndex,
                    dataOptions.startIndex + dataOptions.pageSize);
                }

                return scope.options.data;
              };
            } else {
              dataSource = null;
            }
          } else if (dlcui.isStringWithLength(attrs.source)) {
            // USe the source function
            dataSource = scope.source;
          }

          // Initialize the lazy load controller.
          lazyLoadEnabled = false;
          if (dlcui.isFunction(dataSource)) {
            lazyLoadEnabled = true;
            scope.lazyCtrl.initialize(dataSource, parseInt(scope.options.pageSize, 10),
              parseInt(scope.options.startIndex, 10),
              scope.options.disableInitialLoad);
          }
        }

        /**
         * Options used by the component
         * @type {string|{}}
         */
        scope.options = scope.options || {};

        /**
         * The classes to append to the contents area
         * @type {Array}
         */
        scope.flexboxClasses = [];

        /**
         * Defines the parent container of this component
         */
        scope.$container = null;

        /**
         * The scroll direction is based on the layout.
         * @type {string}
         */
        scope.scrollDirection = DLCUI_FLEXBOX_LAYOUT.vertical;

        /**
         * Returns the main contents element
         * @returns {!Element} The contents element
         */
        scope.getContentsElement = function () {
          return _contentsElement;
        };

        /**
         * Returns true if the component contains no data.
         * @returns {!boolean} True if it is busy loading
         */
        scope.isEmpty = function() {
          return !_containsTranscludedCards && !(dlcui.isObject(scope.lazyCtrl) &&
            dlcui.isArrayWithLength(scope.lazyCtrl.data)) &&
            !(dlcui.isObject(scope.options) && dlcui.isArrayWithLength(scope.options.data));
        };

        /**
         * Returns true if the component is busy loading the next page.
         * @returns {boolean} True if loading.
         */
        scope.isLoadingData = function() {
          return scope.lazyCtrl.busyLoadingData;
        };

        /**
         * Returns the data currently loaded into the component.
         * @returns {Array} The data.
         */
        scope.getData = function() {
          if (!lazyLoadEnabled) {
            return scope.options.data;
          }

          return scope.lazyCtrl.data;
        };

        /**
         * Returns the style for the main card container.
         * @returns {!Object} The style
         */
        scope.getStyle = function () {
          return {
            height: scope.options.height,
            width: scope.options.width
          };
        };

        /**
         * Returns the template to use if there is no data.
         * @returns {String|null} The template url to use.
         */
        scope.getEmptyTemplateUrl = function() {
          return dlcuiTemplate.convertTemplateToUrl(scope.options, 'emptyTemplateUrl', 'emptyTemplate', scope);
        };

        transcludefn(function(clone) {
          if (clone && clone.length) {
            _containsTranscludedCards = true;
            _contentsElement.append(clone);
          }
        });

        var _eventListeners = [];
        _eventListeners.push(scope.$on(DLCUI_CARD_CONTAINER_EVENTS.reloadData, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.$broadcast(DLCUI_LAZY_LOAD_EVENTS.reload, null);
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_CARD_CONTAINER_EVENTS.clearData, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.$broadcast(DLCUI_LAZY_LOAD_EVENTS.clearData, null);
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_CARD_CONTAINER_EVENTS.selectAll, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.cardCtrl.selectAll();
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_CARD_CONTAINER_EVENTS.clearAllSelections, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.cardCtrl.clearAllSelections();
          }
        }));

        scope.$on('$destroy', function () {
          angular.forEach(_eventListeners, function (listener) {
            listener();
          });
          _eventListeners = [];
        });

        _initialize();
      }
    };
  }]);

;angular.module('dell.ngclarity.directives').constant('DLCUI_CARD_CONTAINER_EVENTS', {
  clearData: 'dlcui:card:container:clear:data',
  reloadData: 'dlcui:card:container:reload:data',
  selectAll: 'dlcui:card:container:select:all',
  clearAllSelections: 'dlcui:card:container:clear:all:selections'
});
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiCardContainerSubView', ['dlcuiBaseTemplatePath', 'dlcuiTemplate', '$timeout', '$compile', function (dlcuiBaseTemplatePath,
                                                  dlcuiTemplate,
                                                  $timeout,
                                                  $compile) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        card: '=',
        cardContainer: '=',
        fix: '@',
        subViewData: '=',
        templateUrl: '@',
        tether: '='
      },
      transclude: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/cardContainer/dlcuiCardContainerSubView.directive.html'].join(''),	   
      link: function (scope, element) {
        /**
         * Removes the sub view from the tethered card.
         * @param {!Element} tetherElement The card to which this sub view is tethered.
         * @private
         */
        function _removeFromTether (tetherElement) {
          if (tetherElement) {
            tetherElement.removeClass('dlcui-sub-view-open');
            // Default back to CSS
            tetherElement.css({
              height: '',
              borderBottomColor: '',
              borderRightColor: '',
              width: ''
            });
          }
        }

        /**
         * Copy the core CSS from the tethered card to the sub view itself.
         * @param {!Element} tetherElement The card to which this sub view is tethered.
         * @param {!Array} options Array of valid css property names to copy.
         * @private
         */
        function _syncCss (tetherElement, options) {
          dlcui.assertObject(tetherElement);
          dlcui.assertArrayWithLength(options);

          var tetherElementStyle = {};
          angular.forEach(options, function(style) {
            dlcui.assertStringWithLength(style);
            var value = tetherElement.css(style);
            tetherElementStyle[style] = value;
          });

          element.css(tetherElementStyle);

          if (scope.fix === 'width') {
            element.addClass('dlcui-sub-view-vertical');
          } else {
            element.addClass('dlcui-sub-view-horizontal');
          }
        }

        /**
         * Opens the sub view and attaches it to the specified card element.
         * @param {!Element} tetherElement The card to which this sub view is tethered.
         * @private
         */
        function _addToTether (tetherElement) {
          if (tetherElement) {
            tetherElement.addClass('dlcui-sub-view-open');
            var margin = 0;
            var tetherElementStyle = null;
            var elementStyle = null;

            if (scope.fix === 'width') {
              margin = (tetherElement.outerHeight(true) - tetherElement.outerHeight()) / 2;
              var width = $(element).parent().width() - (margin * 3);
              tetherElementStyle = {
                height: tetherElement.outerHeight() + margin,
                borderBottomColor: 'transparent'
              };
              margin += 2;   // for the border
              elementStyle = {
                marginTop: -margin,
                width: dlcui.formatString('{{size}}px', {
                  size: width
                })
              };
            } else {
              margin = (tetherElement.outerWidth(true) - tetherElement.outerWidth()) / 2;
              var height = $(element).parent().height() - (margin * 2);
              tetherElementStyle = {
                borderRightColor: 'transparent',
                width: (tetherElement.outerWidth() + margin)
              };
              margin += 2;   // for the border
              elementStyle = {
                height: dlcui.formatString('{{size}}px', {
                  size: height
                }),
                marginLeft: -margin
              };
            }

            element.css(elementStyle);
            tetherElement.css(tetherElementStyle);

            _syncCss(tetherElement, [
              'border',
              'backgroundColor',
              'boxShadow',
              'borderRadius'
            ]);
          }
        }

        /**
         * Can be called by the template to clsoe the sub view.
         */
        scope.dismissSubView = function () {
          scope.cardContainer.dismissSubView();
        };

        scope.$watch('tether', function (newTether, oldTether) {
          if (oldTether) {
            _removeFromTether(oldTether);
          }

          if (newTether) {
            _addToTether(newTether);
          }
        });

        scope.$watch('cardContainer', function (newValue) {
          scope.$container = newValue.getContainerScope();
        });

        scope.$on('$destroy', function () {
          if (scope.tether) {
            _removeFromTether(scope.tether);
          }
        });

        dlcuiTemplate.load(scope.templateUrl).then(function(template) {
          $compile(template)(scope, function(clonedElement) {
            element.find('.dlcui-card-sub-view-template').append(clonedElement);
          });
        });
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name cardItem
 * @module dlcui
 * @src directives/core/cardContainer/dlcuiCardItem.directive.js
 * @controlType actionable
 * @restrict E
 *
 * @description
 * Element based directive that is used to represent a single card that can be added to the card container component.
 *
 * @example
 * <h3>Card Container Component</h3>
 *
 * <example name="cardContainerBasic">
 *  <file name="index.html">
 *    <br>
 *    <div class= "test-container">
 *      <dlcui-card-container options="options">
 *      </dlcui-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="cardItem.template.html">
 *    <div class="dlcui-test-example-item">
 *      <p>
 *        <b>id:</b> {{card.id}}
 *      </p>
 *      <p>
 *        <b>Text:</b> {{card.text}}
 *      </p>
 *    </div>
 *
 *  </file>
 *  <file name="cardItem.styles.css">
 *    .dlcui-test-example-item {
 *      background: #cecece;
 *      border: 1px solid black;
 *      height: auto;
 *      padding: 5px;
 *      width: auto;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *        // Total MAX amount of data to load
 *        var maxData = 233;
 *
 *        // Helper function that generates test data and emulates a restFul load
 *        function createTestData (startIndex, pageSize) {
 *          var data = [];
 *          for (var loop = 0; loop < pageSize && (loop + startIndex) < maxData; loop++) {
 *            var testIndex = loop + startIndex;
 *            data.push({
 *              id: testIndex,
 *              text: 'Item ' + testIndex
 *            });
 *          }
 *
 *          return data;
 *        };
 *
 *        $scope.options = {
 *          data: createTestData (0, maxData),
 *          pageSize: 50,
 *          startIndex: 0,
 *          templateUrl: 'cardItem.template.html'
 *        };
 *
 *        $scope.source = function(startIndex, pageSize) {
 *            return createTestData(startIndex, pageSize);
 *        };
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 550px;
 *    }
 *
 *    .test-container {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 */
/* eslint-disable max-statements */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiCardItem', ['dlcuiBaseTemplatePath', '$q', '$timeout', '$templateCache', function (dlcuiBaseTemplatePath,
                                      $q,
                                      $timeout,
                                      $templateCache) {
    /**
     * Empty template with set width and size.
     * @type {string}
     * @private
     */
    var _emptyTemplate = $templateCache.get([dlcuiBaseTemplatePath,
      'directives/tabular/cardContainer/dlcuiCardItemEmpty.template.html'].join(''));

    return {
      restrict: 'E',
      replace: true,
      require: '^dlcuiCardContainer',
      scope: {
        card: '=?'
      },
      transclude: true,
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/cardContainer/dlcuiCardItem.directive.html'].join(''),	
      link: function (scope, element, attrs, dlcuiCardContainerCtrl, transcludeFn) {
        /**
         * The element into which the contents are injected
         */
        var _$contentsEl = element;

        /**
         * The scope that wraps the card container.
         */
        var _$cardContainerParent = scope.$parent.$parent.$parent;

        /**
         * Returns a style object that represents the card.
         */
        function _updateCSS() {
          if (scope.card) {
            var style = {};
            var applyStyle = false;
            if (angular.isDefined(scope.card.height)) {
              style.height = scope.card.height;
              applyStyle = true;
            }
            if (angular.isDefined(scope.card.width)) {
              style.width = scope.card.width;
              applyStyle = true;
            }

            if (applyStyle) {
              element.css(style);
            }
          }
        }

        /**
         * Adds or removes the required classes.
         * @private
         */
        function _updateClasses () {
          if (scope.card && scope.card.selected) {
            element.addClass('dlcui-card-selected');
          } else {
            element.removeClass('dlcui-card-selected');
          }
        }

        /**
         * The container scope.
         * @type {!$scope|$scope}
         */
        scope.$container = dlcuiCardContainerCtrl.getContainerScope();

        /**
         * Used by the templating engine to render the contents of this item.
         * @type {{url: !String}}
         */
        scope.template = {
          compiledElement: null,
          scope: null,
          url: dlcuiCardContainerCtrl.getTemplateUrl(scope.card)
        };

        // TODO sscott: At some point I want to move the drag and drop handlers to card container.
        // TODO sscott: Modify this small hacks where _$cardContainerParent is used to use the controller
        /**
         * Called to create the drag image for the card.
         * @param {!string} id The id for the element.
         * @returns {string|undefined} The drag html.
         */
        scope.createDragImage = function (id) {
          if (dlcui.isFunction(_$cardContainerParent.createDragImage)) {
            return _$cardContainerParent.createDragImage(id);
          }
        };

        /**
         * Called to determine if draggig is enabled.
         * @returns {!boolean} True if drag is enabled.
         */
        scope.isDragEnabled = function () {
          if (dlcui.isFunction(_$cardContainerParent.isDragEnabled)) {
            return _$cardContainerParent.isDragEnabled(scope.card);
          }

          return true;
        };

        /**
         * Called when dragging starts
         * @param {!string} id The id for the element.
         * @param {!object} data The associated data.
         */
        scope.onDragStart = function (id, data) {
          if (dlcui.isFunction(_$cardContainerParent.onDragStart)) {
            _$cardContainerParent.onDragStart(id, data);
          }
        };

        /**
         * Called when dragging ends
         */
        scope.onDragEnd = function () {
          if (dlcui.isFunction(_$cardContainerParent.onDragEnd)) {
            _$cardContainerParent.onDragEnd();
          }
        };

        /**
         * Called when lasso selected or unselected an item.
         * @param {!boolean} selected True if selected.
           */
        scope.onLassoSelected = function (selected) {
          if (dlcui.isFunction(_$cardContainerParent.onLassoSelected)) {
            _$cardContainerParent.onLassoSelected(selected, scope.card);
          }
        };

        /**
         * Activate the Sub View for this element
         * @param {?Object=} optCardData An option data to send to the sub view, defaults to the card
         * assigned through the scope. This is useful when this directive is used inline through transclusion.
         */
        scope.activateSubView = function (optCardData) {
          if (!dlcuiCardContainerCtrl.isSubViewActive(element)) {
            dlcuiCardContainerCtrl.activateSubView(element, optCardData || scope.card);
          }
        };

        /**
         * Dismiss any open sub views regardless of which card opened it.
         */
        scope.dismissSubView = function () {
          dlcuiCardContainerCtrl.dismissSubView();
        };

        /**
         * Returns true if the sub view is currently open.
         * @param {?boolean=} optThisCard Set this to true to determine if it is open for this card.
         * @returns {boolean} True if the sub-view is active.
         */
        scope.isSubViewActive = function (optThisCard) {
          return dlcuiCardContainerCtrl.isSubViewActive(optThisCard ? element : null);
        };

        /**
         * Toggles the selection value
         */
        scope.toggleSelection = function () {
          dlcuiCardContainerCtrl.toggleSelection(scope.card).then(function () {
            _updateClasses();
          });
        };

        /**
         * Returns true if the card is selected.
         * @returns {!boolean} True if selected
         */
        scope.isSelected = function () {
          if (scope.card) {
            return scope.card.selected;
          }

          return false;
        };

        /**
         * Returns true if the subview design was configured
         * @returns {!boolean} True if subview design is available
         */
        scope.isSubViewEnabled = function () {
          return dlcuiCardContainerCtrl.isSubViewEnabled();
        };

        /**
         * Returns true if the tooltip is available.
         * @returns {!boolean} True if tooltip is available
         */
        scope.isTooltip = function () {
          return dlcui.isStringWithLength(scope.getTooltip());
        };

        /**
         * Returns the configured tooltip.
         * @returns {string|null} The tooltip or null.
         */
        scope.getTooltip = function () {
          if (scope.card && dlcui.isStringWithLength(scope.card.tooltip)) {
            return scope.card.tooltip;
          } else if (dlcui.isStringWithLength(scope.tooltip)) {
            return scope.tooltip;
          }

          return null;
        };

        /**
         * Render the contents of the card.
         * @returns {$promise} A promise that is resolved after the contents has been rendered.
         */
        scope.renderContents = function () {
          var defer = $q.defer();

          if (dlcui.isStringWithLength(scope.template.url)) {
            if (!scope.template.scope) {
              dlcuiCardContainerCtrl.getCompiler(scope.template.url).then(function (compiler) {
                _$contentsEl.html('');
                scope.template.scope = scope.$new();
                scope.template.compiledElement = compiler(scope.template.scope, function (clonedElement) {
                  _$contentsEl.append(clonedElement);
                  $timeout(function () {
                    _updateClasses();
                    defer.resolve();
                  });
                });
              });
            } else {
              defer.resolve();
            }
          } else {
            defer.reject();
          }

          return defer.promise;
        };

        /**
         * Clear the contents of the card and use the specified width and heigh
         * @param {!number} height The height to use for the empty card
         * @param {!number} width The width to use for the empty card.
         * @returns {$promise} A promise that is resolved after the contents has been cleared.
         */
        scope.clearContents = function (height, width) {
          dlcui.assertNumber(height);
          dlcui.assertNumber(width);
          dlcui.assert(height > 0);
          dlcui.assert(width > 0);

          var defer = $q.defer();
          if (dlcui.isStringWithLength(scope.template.url)) {
            if (scope.template.scope) {
              scope.template.scope.$destroy();
              scope.template.scope = null;
              scope.template.compiledElement = null;
              // Use an empty contents div.
              _$contentsEl.html(dlcui.formatString(_emptyTemplate, {
                height: height,
                width: width
              }));
            }
            defer.resolve();
          } else {
            defer.reject();
          }

          return defer.promise;
        };

        _updateCSS();
        _updateClasses();

        if (dlcui.isStringWithLength(scope.template.url)) {
          dlcuiCardContainerCtrl.registerCardItem(scope, element, _$contentsEl);

          scope.$on('$destroy', function () {
            if (scope.template.scope) {
              scope.template.scope.$destroy();
              _$contentsEl.html('');
              scope.template.scope = null;
              scope.template.compiledElement = null;
            }
            dlcuiCardContainerCtrl.deregisterCardItem(scope);
          });
        } else {
          transcludeFn(function (clone) {
            _$contentsEl.append(clone);
          });
        }

        if (!dlcuiCardContainerCtrl.isEnableLazyRendering()) {
          scope.$watch('card.selected', function (newValue, oldValue) {
            if (newValue !== oldValue) {
              _updateClasses();
            }
          });
        }
      }
    };
  }]);

;/* eslint-disable max-statements */
angular.module('dell.ngclarity.directives')
  .factory('dlcuiDragAndDrop', ['dlcuiBaseTemplatePath', 'dlcuiMeasure', 'DLCUI_DRAG_DROP_TEMPLATE_TYPE', 'DLCUI_DRAG_AND_DROP_CLASSES', function (dlcuiBaseTemplatePath,
                                       dlcuiMeasure,
                                       DLCUI_DRAG_DROP_TEMPLATE_TYPE,
                                       DLCUI_DRAG_AND_DROP_CLASSES) {
    /**
     * Contains the currently dragged data
     * @type {*}
     * @private
     */
    var _dragData = null;

    /**
     * Extracts the selected item ids from the data.
     * @param {!Array} data The data to extract the details from.
     * @returns {!Array} An collection of ids if any items are selected
     * @private
     */
    function _extractSelectedItems(data) {
      if (!dlcui.isArrayWithLength(data)) {
        return [];
      }
      return _.filter(data, function (item) {
        return item.selected;
      });
    }

    /**
     * Extracts the selected ids and groups them by group id.
     * @param {!object} data the data to extract from
     * @returns {!object} The selected items
     * @private
     */
    function _flattenSelections(data) {
      var results = {};
      if (dlcui.isObject(data)) {
        angular.forEach(data, function (items, groupId) {
          results[groupId] = _.pluck(items, 'id');
        });
      }

      return results;
    }

    /**
     * Extracts all the selected data items and groups them based on the selected group id.
     * @param {Array=} data Data to extract details from
     * @param {?string|number=} optDefaultGroupId The default group id to use if one is not defined.
     * @returns {!object} Selected items by group.
     * @private
     */
    function _extractSelectedItemsByGroup(data, optDefaultGroupId) {
      if (!dlcui.isArrayWithLength(data)) {
        return {};
      }
      data = _.filter(data, function (item) {
        if (!item.selected) {
          item.groupId = null;
          return false;
        }
        return true;
      });
      var groupBy = {};
      var groupId = null;
      angular.forEach(data, function (item) {
        item.groupId = item.groupId || optDefaultGroupId;
        groupId = item.groupId;
        if (angular.isDefined(groupId)) {
          groupBy[groupId] = groupBy[groupId] || [];
          groupBy[groupId].push(item);
        }
      });

      return groupBy;
    }

    /**
     * Extracts un- selected data or data that is not associated with a specific group id.
     * @param {!object} data The selected data grouped by group id.
     * @returns {number} Number of selected items after the data has been verified.
     * @private
     */
    function _validateSelected(data) {
      if (dlcui.isObject(data)) {
        var totalSelected = 0;
        angular.forEach(data, function (selectedData, groupId) {
          if (dlcui.isArrayWithLength(selectedData.data)) {
            var filteredData = _.filter(selectedData.data, function (item) {
              return item.selected && item.groupId === groupId;
            });
            totalSelected += filteredData.length;
            selectedData.data = filteredData;
          }
        });

        return totalSelected;
      }

      return 0;
    }

    /**
     * Returns the template url for the source component.
     * @param {!string} type One of the types defined in DLCUI_DRAG_DROP_TEMPLATE_TYPE
     * @returns {string} The template url
     * @private
     */
    function _getSourceTemplateUrl(type) {
      dlcui.assertStringWithLength(type);
      var templateUrl = null;

      if (DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon === type) {
        templateUrl = [dlcuiBaseTemplatePath, 'directives/tabular/applicationCardContainer/dlcuiApplicationContainerCard.template.html'].join('');
      } else {
        templateUrl = [dlcuiBaseTemplatePath, 'directives/tabular/gridCardContainer/dlcuiGridContainerCard.template.html'].join('');
      }

      return templateUrl;
    }

    /**
     * Returns the template url for the target component.
     * @param {!string} type One of the types defined in DLCUI_DRAG_DROP_TEMPLATE_TYPE
     * @returns {string} The template url
     * @private
     */
    function _getTargetTemplateUrl(type) {
      dlcui.assertStringWithLength(type);
      var templateUrl = null;

      if (DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon === type) {
        templateUrl = [dlcuiBaseTemplatePath, 'directives/tabular/applicationCardContainer/dlcuiApplicationContainerCardRemove.template.html'].join('');
      } else {
        templateUrl = [dlcuiBaseTemplatePath, 'directives/tabular/gridCardContainer/dlcuiGridContainerCardRemove.template.html'].join('');
      }

      return templateUrl;
    }

    /**
     * Sets the current dragged items
     * @param {*} data The data.
     * @private
     */
    function _setDragData(data) {
      _dragData = data;
    }

    /**
     * Returns and remove the items been dragged using the source element id
     * @returns {*} The drag data.
     * @private
     */
    function _getDragData() {
      return _dragData;
    }

    /**
     * Creates a image based of the currently selected items.
     * @param {!string} id The id of the element
     * @returns {Element|string} The html.
     * @private
     */
    function _createDragImage(id) {
      // First we need to figure out if there are lasso selected items
      var $currentEl = $(['#', id].join(''));
      var $containerEl = null;
      var $lassoSelected = $currentEl.parents('.dlcui-drag-source-container:first').find('.dlcui-lasso-selected');
      var $cardItem = null;

      if ($lassoSelected.length) {
        var left = null;
        var top = null;
        var right = null;
        var bottom = null;
        var cloneElements = [];

        angular.forEach($lassoSelected, function (lassoItem) {
          $cardItem = $(lassoItem).parents('.dlcui-card-item:first');
          if (!$cardItem.is('.dlcui-card-selected')) {
            var dimension = dlcuiMeasure.measure($cardItem);
            if (dimension) {
              dimension.right = dimension.left + dimension.width;
              dimension.bottom = dimension.top + dimension.height;
              if (!angular.isNumber(left) || left > dimension.left) {
                left = dimension.left;
              }
              if (!angular.isNumber(top) || top > dimension.top) {
                top = dimension.top;
              }
              if (!angular.isNumber(right) || right < dimension.right) {
                right = dimension.right;
              }
              if (!angular.isNumber(bottom) || bottom < dimension.bottom) {
                bottom = dimension.bottom;
              }
              cloneElements.push({
                element: $cardItem,
                dimension: dimension
              });
            }
          }
        });
        var height = bottom - top;
        var width = right - left;
        $containerEl = $('<div style="display: block; opacity: 1, height' +
          height + 'px; width: ' + width + 'px"></div>');
        angular.forEach(cloneElements, function (cloneItem) {
          $(cloneItem.element).addClass(DLCUI_DRAG_AND_DROP_CLASSES.dragSourceActive);
          var $cloneEl = $(cloneItem.element).clone();
          $cloneEl.css({
            left: cloneItem.dimension.left - left,
            top: cloneItem.dimension.top - top
          });
          $cloneEl.addClass('dlcui-multi-item-dragged');
          $containerEl.append($cloneEl);
        });
      } else {
        $cardItem = $($currentEl).parents('.dlcui-card-item:first');
        $containerEl = $cardItem.clone();
        $containerEl.addClass('dlcui-single-item-dragged');
      }
      $containerEl.wrap('<div></div>');
      return $($containerEl).parent().html();
    }

    /**
     * Camelize the name and ensure the first charactor is lowercase.
     * @param {!string} name The name to camelize
     * @returns {!string} The camelized string.
     * @private
     */
    function _camelize (name) {
      if (!dlcui.isStringWithLength(name)) {
        return '';
      }

    //  name = _.string.camelize(name);

      return name.charAt(0).toLowerCase() + name.slice(1);
    }

    return {
      camelize: _camelize,
      extractSelectedItems: _extractSelectedItems,
      extractSelectedItemsByGroup: _extractSelectedItemsByGroup,
      getSourceTemplateUrl: _getSourceTemplateUrl,
      getTargetTemplateUrl: _getTargetTemplateUrl,
      setDragData: _setDragData,
      getDragData: _getDragData,
      createDragImage: _createDragImage,
      validateSelected: _validateSelected,
      flattenSelections: _flattenSelections
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_DRAG_AND_DROP_CLASSES', {
  dragOver: 'dlcui-drag-over',
  dropTarget: 'dlcui-drop-target',
  dragSource: 'dlcui-drag-source',
  dropTargetActive: 'dlcui-drop-target-active',
  dragSourceActive: 'dlcui-drag-source-active'
});
;/**
 * @ngdoc directive
 * @name dragAndDropContainer
 * @module dlcui
 * @src directives/tabular/dragAndDrop/dlcuiDragAndDropContainer.directive.js
 * @controlType tabular
 * @restrict E
 *
 * @param {function} source This accepts the callback function defined on the scope and is called
 * when the user scrolls to the bottom and when more data can be loaded.
 *
 * * This callback function is called to load data in blocks of 100 and should have the following signature,
 *   * ```javascript function (startIndex, pageSize, sortBy, filter) {}```
 * * This callback function must return
 *   * angular promise that is resolved after the data loaded.
 *   * an array of data objects
 * * The Data Returned in the resolve must be an array of objects where each object contains;
 *   * 'id' property that is unique for each data item.
 *   * 'label' to be used within the display of the item.
 *   * 'info' that defines details on the item and can be plain text or html.
 *   * 'icon' optional object value that defines details on the associated icon for the data item.
 *
 * The structure for each data item must contain at the very least the following json
 * ```javascript
 * {
 *    id: 'Unique id',
 *    label: 'A label to display',
 *    tooltip: 'The information text to display'
 * }
 * ```
 * The structure for each data item must contain the following for the icon cards,
 * ```javascript
 * {
 *    id: 'Unique id',
 *    label: 'A label to display',
 *    tooltip: 'The information text to display',
 *    icon: {     // This is based on dlcui-icon, please review the documentation on that component
 *      name: 'Icon Name',
 *      size: 24px,   // Optional value
 *      color: 'blue' // Optional value
 *    }
 * }
 * ```
 * @param {Object} selectedItems Contains details of the currently selected items and uses two way binding to
 * keep the selections in sync.
 * The format of this json object is as follows,
 * ```javascript
 * {
 *    'groupId1': ['1', '2'],       // groupdId1 is the group id as configured in the target section below.
 *    'groupId2': ['4', '6'],       // The ids should reflect the ids returned by the server when obtaining the data.
 * }
 * ```
 * @param {Object} options This accepts the name of the scope variable that contains the data associated with
 * the item been dragged.
 *
 * The options is a json based configuration and should have the following format,
 * ```javascript
 * {
 *    data: [], // Array or Function that is used if the source attribute is not defined
 *    templateType: DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon,     // icon or text can be used
 *    source: {
 *        headerLabel: '{{count}} Apps',
 *        loadMoreLabel: 'Load more apps.',
 *        subViewTemplateUrl: '', // Optional url to a sub view template that is displayed
 *        templateUrl: '',  // Optional URL and overrides the templateType if defined for the source
 *        emptyTemplateUrl: '', // Optional and overrides the default template if defined here
 *    },
 *    target: {
 *        headerLabel: '{{count}} Selected Apps',
 *        groups: [   // Optional array of groupings into which selected items can be added
 *          {
 *            id: 'user',
 *            label: 'User Folder'
 *          },
 *          {
 *            id: 'program',
 *            label: 'Program Folder'
 *          }
 *        ],
 *        defaultGroupId: 'user',   // Default location into which selected items are placed. Default is the first id.
 *        templateUrl: '',  // Optional URL and overrides the templateType if defined for the target
 *        emptyTemplateUrl: '', // Optional and overrides the default template if defined here
 *        hidden: false // Set this to false to hide the target drop container
 *    }
 * }
 * ```
 *
 * The headerLabel propery is displayed with the total count of items loaded into each side of the component and
 * you can control where the size is placed by using the <i>{{count}}</i> keyword within the string value. If
 * It is not provided the component will not display the count.
 * @param {function} onSelectionChanged This accepts the name of the callback function defined on the scope
 * and is called when the user starts dragging the element.
 *
 * The method is called with an array of selected of selected items in the form of an array.
 * ```javascript
 * function (data) {
 * }
 * ```
 * @param {Function=} onSubViewOpen Callback function that is called just before the sub view is opened. This
 * method can return data to attach to the sub view or it can return a promise so the data us loaded asycnhronously.
 * The promise reject can be used to block the opening of the sub-view if required.
 *
 * The signature of the sub-view should appear as follows,
 *
 * ```javascript
 * function(element, data)
 * ```
 *
 * The element is the card element itself and the data is the data associated with the card if defined. The data
 * returned by this method is attached to the sub view scope so that template can access either the card data using
 * the <i>scope.data</i> or the returned data through <i>scope.subViewData</i>.
 *
 * @description
 * Element based directive that is used to generate a Drag and Drop Component.
 *
 * @example
 * <h3>Drag And Drop with Icons</h3>
 *
 * <example name="iconDragAndDrop">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-drag-and-drop-container on-selection-changed="selectionChanged(data)"
 *                                   selected-items="selectedItems"
 *                                   source="source(startIndex, pageSize)"
 *                                   options="options">
 *      </dlcui-drag-and-drop-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_DRAG_DROP_TEMPLATE_TYPE,
 *                                       DLCUI_DROP_TARGET_EVENTS,
 *                                       DLCUI_DRAG_SOURCE_EVENTS) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // We could also assign the function to $scope.option.source.data
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *        $scope.options = {
 *          templateType: DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon,
 *          source: {
 *            headerLabel: '{{count}} Available Apps',
 *            loadMoreLabel: 'Get more apps'
 *          },
 *          target: {
 *            hidden: false,
 *            headerLabel: '{{count}} Apps',
 *            groups:[
 *              {id: "user", label: "User Folder"}
 *            ],
 *            defaultGroupId: 'user'
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        var _testData = [
 *            {"id": "1", "label": "Adobe Acrobat", "tooltip": "Adobe Acrobat Applicaton.",
 *              "icon": {"name": "../../dlcui/css/images/Adobe_PDF_Icon.svg"}},
 *            {"id": "2", "label": "Itunes", "tooltip": "Itunes by Apple.",
 *              "icon": {"name": "../../dlcui/css/images/Itunes.png"}},
 *            {"id": "3", "label": "Chrome", "tooltip": "Chrome application by Google.",
 *              "icon": {"name": "../../dlcui/css/images/Google_Chrome.svg"}},
 *            {"id": "4", "label": "Internet Explorer", "tooltip": "Internet Explorer by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Internet_Explorer_9.svg"}},
 *            {"id": "5", "label": "Microsoft Excel", "tooltip": "Excel by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Excel.svg"}},
 *            {"id": "6", "label": "Microsoft Outlook", "tooltip": "Outlook by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Outlook.svg"}},
 *            {"id": "7", "label": "Microsoft Powerpoint",
 *              "tooltip": "Powerpoint presentation application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Powerpoint.svg"}},
 *            {"id": "8", "label": "Microsoft Word", "tooltip": "Word Document Editor Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Word.svg"}},
 *            {"id": "9", "label": "Firefox", "tooltip": "Web browser by Mozilla.",
 *              "icon": {"name": "../../dlcui/css/images/Firefox.png"}},
 *            {"id": "10", "label": "Notepad", "tooltip": "Text Editor by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Notepad.png"}},
 *            {"id": "11", "label": "Skype", "tooltip": "Communication Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Skype.svg"}},
 *            {"id": "12", "label": "WebEx", "tooltip": "Communication and Conferencing application by WebEx.",
 *              "icon": {"name": "../../dlcui/css/images/WebEx.png"}},
 *            {"id": "13", "label": "Winzip", "tooltip": "Archiving Utility by WinZip.",
 *              "icon": {"name": "../../dlcui/css/images/Winzip.svg"}}
 *        ];
 *
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            $timeout(function() {
 *              var _newData = [];
 *              while (_newData.length < pageSize && _counter < _maxLoad) {
 *                angular.forEach(_testData, function(item) {
 *                    var dataItem = angular.copy(item);
 *                    if (_newData.length < pageSize && _counter < _maxLoad) {
 *                        if (_counter > 13) {
 *                          dataItem.label += ' ' + _counter;
 *                        }
 *                        dataItem.id = _counter;
 *                       _counter++;
 *                       _newData.push(dataItem);
 *                    }
 *                 });
 *             };
 *             defer.resolve(_newData);
 *          }, 1000);
 *
 *          return defer.promise;
 *       };
 *
 *       return {
 *          generate: _generateData
 *       };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Drag And Drop With Text</h3>
 *
 * <example name="textDragAndDrop">
 *  <file name="index.html">
 *    <div class="test-container-top">
 *      <b>Send an event: </b>
 *      <cui-button ng-click="reloadData()" cui-type="primary">Reload Data</cui-button>
 *      <cui-button ng-click="clearData()" cui-type="primary">Clear Data</cui-button>
 *      <cui-button ng-click="selectAll()" cui-type="primary">Select All</cui-button>
 *      <cui-button ng-click="clearAll()" cui-type="primary">Clear All Selections</cui-button>
 *    </div>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-drag-and-drop-container on-selection-changed="selectionChanged(data)"
 *                                   selected-items="selectedItems"
 *                                   source="source(startIndex, pageSize)"
 *                                   options="options">
 *      </dlcui-drag-and-drop-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_DRAG_DROP_TEMPLATE_TYPE,
 *                                       DLCUI_DROP_TARGET_EVENTS,
 *                                       DLCUI_DRAG_SOURCE_EVENTS) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // A helper method to load the source data
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          templateType: DLCUI_DRAG_DROP_TEMPLATE_TYPE.text, // Change this to DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon for icon
 *          source: {
 *            headerLabel: '{{count}} Available Hosts',
 *            loadMoreLabel: 'Get more hosts'
 *          },
 *          target: {
 *            hidden: false,
 *            headerLabel: '{{count}} Hosts'
 *          }
 *        };
 *
 *        $scope.reloadData = function () {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.reloadData);
 *        };
 *
 *        $scope.clearData = function () {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.clearData);
 *        };
 *
 *        $scope.selectAll = function () {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.selectAll);
 *        };
 *
 *        $scope.clearAll = function () {
 *          $scope.$broadcast(DLCUI_DROP_TARGET_EVENTS.clearAll);
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *         var idCounter = 0;
 *        // Generates test data for the component based on the total size specified
 *        function _generateTestData(totalSize) {
 *          var data = [];
 *          for (var loop = 0; loop < totalSize; loop++) {
 *            var item = {
 *              id: idCounter++,
 *              label: 'Host ' + loop
 *            };
 *            data.push(item);
 *          }
 *           return data;
 *        }
 *
 *        var _testData = _generateTestData(_maxLoad);
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            var end = startIndex + pageSize;
 *            if (startIndex >= _testData.length) {
 *              defer.resolve([]);
 *            } else if (end > _testData.length) {
 *              end = _testData.length;
 *           }
 *           var sendDataBack = _testData.slice(startIndex, end);
 *           $timeout(function () {
 *             defer.resolve(sendDataBack);
 *           }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Drag And Drop With Data array</h3>
 *
 * <example name="textDragAndDropDataArray">
 *  <file name="index.html">
 *    <div class="test-container-top">
 *      <b>Send an event: </b>
 *      <cui-button ng-click="reloadData()" cui-type="primary">Reload Data</cui-button>
 *      <cui-button ng-click="clearData()" cui-type="primary">Clear Data</cui-button>
 *      <cui-button ng-click="selectAll()" cui-type="primary">Select All</cui-button>
 *      <cui-button ng-click="clearAll()" cui-type="primary">Clear All Selections</cui-button>
 *    </div>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-drag-and-drop-container on-selection-changed="selectionChanged(data)"
 *                                   selected-items="selectedItems"
 *                                   options="options">
 *      </dlcui-drag-and-drop-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_DRAG_DROP_TEMPLATE_TYPE,
 *                                       DLCUI_DROP_TARGET_EVENTS,
 *                                       DLCUI_DRAG_SOURCE_EVENTS) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // A helper method to load the source data
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          data: testDataGenerator.generate(0, 33),
 *          templateType: DLCUI_DRAG_DROP_TEMPLATE_TYPE.text, // Change this to DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon for icon
 *          source: {
 *            headerLabel: '{{count}} Available Hosts',
 *            loadMoreLabel: 'Get more hosts'
 *          },
 *          target: {
 *            hidden: false,
 *            headerLabel: '{{count}} Hosts'
 *          }
 *        };
 *
 *        $scope.reloadData = function () {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.reloadData);
 *        };
 *
 *        $scope.clearData = function () {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.clearData);
 *        };
 *
 *        $scope.selectAll = function () {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.selectAll);
 *        };
 *
 *        $scope.clearAll = function () {
 *          $scope.$broadcast(DLCUI_DROP_TARGET_EVENTS.clearAll);
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *         var idCounter = 0;
 *        // Generates test data for the component based on the total size specified
 *        function _generateTestData(totalSize) {
 *          var data = [];
 *          for (var loop = 0; loop < totalSize; loop++) {
 *            var item = {
 *              id: idCounter++,
 *              label: 'Host ' + loop
 *            };
 *            data.push(item);
 *          }
 *           return data;
 *        }
 *
 *        var _testData = _generateTestData(_maxLoad);
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            var end = startIndex + pageSize;
 *            if (startIndex >= _testData.length) {
 *              defer.resolve([]);
 *            } else if (end > _testData.length) {
 *              end = _testData.length;
 *           }
 *           var sendDataBack = _testData.slice(startIndex, end);
 *           $timeout(function () {
 *             defer.resolve(sendDataBack);
 *           }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Drag And Drop with Height set using CSS</h3>
 *
 * <example name="iconDragAndDropCSSHeight">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-drag-and-drop-container on-selection-changed="selectionChanged(data)"
 *                                   selected-items="selectedItems"
 *                                   source="source(startIndex, pageSize)"
 *                                   options="options">
 *      </dlcui-drag-and-drop-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_DRAG_DROP_TEMPLATE_TYPE,
 *                                       DLCUI_DROP_TARGET_EVENTS,
 *                                       DLCUI_DRAG_SOURCE_EVENTS) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // We could also assign the function to $scope.option.source.data
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        $scope.message = 'Try to make the browser window as narrow as possible to see how the flow changes.';
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *        $scope.options = {
 *          templateType: DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon,
 *          source: {
 *            headerLabel: '{{count}} Available Apps',
 *            loadMoreLabel: 'Get more apps'
 *          },
 *          target: {
 *            hidden: false,
 *            headerLabel: '{{count}} Apps',
 *            groups:[
 *              {id: "user", label: "User Folder"}
 *            ],
 *            defaultGroupId: 'user'
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        var _testData = [
 *            {"id": "1", "label": "Adobe Acrobat", "tooltip": "Adobe Acrobat Applicaton.",
 *              "icon": {"name": "../../dlcui/css/images/Adobe_PDF_Icon.svg"}},
 *            {"id": "2", "label": "Itunes", "tooltip": "Itunes by Apple.",
 *              "icon": {"name": "../../dlcui/css/images/Itunes.png"}},
 *            {"id": "3", "label": "Chrome", "tooltip": "Chrome application by Google.",
 *              "icon": {"name": "../../dlcui/css/images/Google_Chrome.svg"}},
 *            {"id": "4", "label": "Internet Explorer", "tooltip": "Internet Explorer by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Internet_Explorer_9.svg"}},
 *            {"id": "5", "label": "Microsoft Excel", "tooltip": "Excel by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Excel.svg"}},
 *            {"id": "6", "label": "Microsoft Outlook", "tooltip": "Outlook by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Outlook.svg"}},
 *            {"id": "7", "label": "Microsoft Powerpoint",
 *              "tooltip": "Powerpoint presentation application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Powerpoint.svg"}},
 *            {"id": "8", "label": "Microsoft Word", "tooltip": "Word Document Editor Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Word.svg"}},
 *            {"id": "9", "label": "Firefox", "tooltip": "Web browser by Mozilla.",
 *              "icon": {"name": "../../dlcui/css/images/Firefox.png"}},
 *            {"id": "10", "label": "Notepad", "tooltip": "Text Editor by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Notepad.png"}},
 *            {"id": "11", "label": "Skype", "tooltip": "Communication Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Skype.svg"}},
 *            {"id": "12", "label": "WebEx", "tooltip": "Communication and Conferencing application by WebEx.",
 *              "icon": {"name": "../../dlcui/css/images/WebEx.png"}},
 *            {"id": "13", "label": "Winzip", "tooltip": "Archiving Utility by WinZip.",
 *              "icon": {"name": "../../dlcui/css/images/Winzip.svg"}}
 *        ];
 *
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            $timeout(function() {
 *              var _newData = [];
 *              while (_newData.length < pageSize && _counter < _maxLoad) {
 *                angular.forEach(_testData, function(item) {
 *                    var dataItem = angular.copy(item);
 *                    if (_newData.length < pageSize && _counter < _maxLoad) {
 *                        if (_counter > 13) {
 *                          dataItem.label += ' ' + _counter;
 *                        }
 *                        dataItem.id = _counter;
 *                       _counter++;
 *                       _newData.push(dataItem);
 *                    }
 *                 });
 *             };
 *             defer.resolve(_newData);
 *          }, 1000);
 *
 *          return defer.promise;
 *       };
 *
 *       return {
 *          generate: _generateData
 *       };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: auto;
 *    }
 *
 *    .dlcui-drag-and-drop-container {
 *      height: auto;
 *    }
 *
 *    .dlcui-drag-and-drop-container .dlcui-drag-and-drop-left,
 *    .dlcui-drag-and-drop-container .dlcui-drag-and-drop-right {
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Drag And Drop with Height set using options</h3>
 *
 * <example name="iconDragAndDropOptionsHeight">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-drag-and-drop-container on-selection-changed="selectionChanged(data)"
 *                                   selected-items="selectedItems"
 *                                   source="source(startIndex, pageSize)"
 *                                   options="options">
 *      </dlcui-drag-and-drop-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_DRAG_DROP_TEMPLATE_TYPE,
 *                                       DLCUI_DROP_TARGET_EVENTS,
 *                                       DLCUI_DRAG_SOURCE_EVENTS) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        $scope.message = 'Try to make the browser window as narrow as possible to see how the flow changes.';
 *
 *        // We could also assign the function to $scope.option.source.data
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          templateType: DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon,
 *          source: {
 *            height: '600px',
 *            headerLabel: '{{count}} Available Apps',
 *            loadMoreLabel: 'Get more apps'
 *          },
 *          target: {
 *            hidden: false,
 *            headerLabel: '{{count}} Apps',
 *            groups:[
 *              {id: "user", label: "User Folder"}
 *            ],
 *            defaultGroupId: 'user'
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        var _testData = [
 *            {"id": "1", "label": "Adobe Acrobat", "tooltip": "Adobe Acrobat Applicaton.",
 *              "icon": {"name": "../../dlcui/css/images/Adobe_PDF_Icon.svg"}},
 *            {"id": "2", "label": "Itunes", "tooltip": "Itunes by Apple.",
 *              "icon": {"name": "../../dlcui/css/images/Itunes.png"}},
 *            {"id": "3", "label": "Chrome", "tooltip": "Chrome application by Google.",
 *              "icon": {"name": "../../dlcui/css/images/Google_Chrome.svg"}},
 *            {"id": "4", "label": "Internet Explorer", "tooltip": "Internet Explorer by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Internet_Explorer_9.svg"}},
 *            {"id": "5", "label": "Microsoft Excel", "tooltip": "Excel by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Excel.svg"}},
 *            {"id": "6", "label": "Microsoft Outlook", "tooltip": "Outlook by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Outlook.svg"}},
 *            {"id": "7", "label": "Microsoft Powerpoint",
 *              "tooltip": "Powerpoint presentation application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Powerpoint.svg"}},
 *            {"id": "8", "label": "Microsoft Word", "tooltip": "Word Document Editor Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Microsoft_Word.svg"}},
 *            {"id": "9", "label": "Firefox", "tooltip": "Web browser by Mozilla.",
 *              "icon": {"name": "../../dlcui/css/images/Firefox.png"}},
 *            {"id": "10", "label": "Notepad", "tooltip": "Text Editor by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Notepad.png"}},
 *            {"id": "11", "label": "Skype", "tooltip": "Communication Application by Microsoft.",
 *              "icon": {"name": "../../dlcui/css/images/Skype.svg"}},
 *            {"id": "12", "label": "WebEx", "tooltip": "Communication and Conferencing application by WebEx.",
 *              "icon": {"name": "../../dlcui/css/images/WebEx.png"}},
 *            {"id": "13", "label": "Winzip", "tooltip": "Archiving Utility by WinZip.",
 *              "icon": {"name": "../../dlcui/css/images/Winzip.svg"}}
 *        ];
 *
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            $timeout(function() {
 *              var _newData = [];
 *              while (_newData.length < pageSize && _counter < _maxLoad) {
 *                angular.forEach(_testData, function(item) {
 *                    var dataItem = angular.copy(item);
 *                    if (_newData.length < pageSize && _counter < _maxLoad) {
 *                        if (_counter > 13) {
 *                          dataItem.label += ' ' + _counter;
 *                        }
 *                        dataItem.id = _counter;
 *                       _counter++;
 *                       _newData.push(dataItem);
 *                    }
 *                 });
 *             };
 *             defer.resolve(_newData);
 *          }, 1000);
 *
 *          return defer.promise;
 *       };
 *
 *       return {
 *          generate: _generateData
 *       };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 */

/* eslint-disable max-statements */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDragAndDropContainer', ['dlcuiBaseTemplatePath', 'dlcuiDragAndDrop', 'dlcuiElementId', 'DLCUI_SELECTION_TYPE', 'DLCUI_DROP_TARGET_EVENTS', 'DLCUI_DRAG_DROP_TEMPLATE_TYPE', 'DLCUI_DRAG_SOURCE_EVENTS', function (dlcuiBaseTemplatePath,
                                                  dlcuiDragAndDrop,
                                                  dlcuiElementId,
                                                  DLCUI_SELECTION_TYPE,
                                                  DLCUI_DROP_TARGET_EVENTS,
                                                  DLCUI_DRAG_DROP_TEMPLATE_TYPE,
                                                  DLCUI_DRAG_SOURCE_EVENTS) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        id: '@',
        source: '&',
        selectedItems: '=?',
        options: '=',
        onSelectionChanged: '&',
        onSubViewOpen: '&'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/dragAndDropContainer/dlcuiDragAndDropContainer.directive.html'].join(''),
      link: function (scope, element, attrs) {
        dlcui.assertObject(scope.options, 'Options must be a valid json object for the drag source container.');
        dlcui.assertObject(scope.options.source, 'Options must be a valid json object for the options.source.');
        dlcui.assertObject(scope.options.target, 'Options must be a valid json object for the options.target.');

        /**
         * Obtain the template type.
         */
        var _templateType = scope.options.templateType || DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon;

        // Load defaults if required
        dlcui.setDefaults(scope.options, {
          source: {
            containerScope: scope.$parent,
            clearAllVisible: false,
            dragAndDropDisabled: false,
            pageSize: _templateType === DLCUI_DRAG_DROP_TEMPLATE_TYPE.icon ? 25 : 50,
            selectionType: DLCUI_SELECTION_TYPE.multiple,
            templateUrl: dlcuiDragAndDrop.getSourceTemplateUrl(_templateType)
          },
          target: {
            containerScope: scope.$parent,
            data: [],
            hidden: false,
            templateUrl: dlcuiDragAndDrop.getTargetTemplateUrl(_templateType)
          }
        });
        // Additional checks.
        scope.options.source.dragAndDropDisabled = scope.options.target.hidden;
        if (scope.options.target.hidden && !dlcui.isDefined(scope.options.target.clearAllVisible)) {
          scope.options.source.clearAllVisible = true;
        }
        if (scope.options.target && !scope.options.target.defaultGroupId &&
          dlcui.isArrayWithLength(scope.options.target.groups)) {
          scope.options.target.defaultGroupId = scope.options.target.groups[0].id;
        }
        if (dlcui.isDefined(scope.options.source.height) && !dlcui.isDefined(scope.options.target.height)) {
          scope.options.target.height = scope.options.source.height;
        } else if (!dlcui.isDefined(scope.options.source.height) && dlcui.isDefined(scope.options.target.height)) {
          scope.options.source.height = scope.options.target.height;
        }
        if (dlcui.isDefined(scope.options.source.width) && !dlcui.isDefined(scope.options.target.width)) {
          scope.options.target.width = scope.options.source.width;
        } else if (!dlcui.isDefined(scope.options.source.width) && dlcui.isDefined(scope.options.target.width)) {
          scope.options.source.width = scope.options.target.width;
        }

        /**
         * Builds the style and tracks any changes to the options.
         * @returns {!Object} The style
         */
        scope.getStyle = function () {
          var style = {};
          if (dlcui.isDefined(scope.options.source.height) || dlcui.isDefined(scope.options.target.height)) {
            style.height = 'auto';
          }

          if (dlcui.isDefined(scope.options.source.width) || dlcui.isDefined(scope.options.target.width)) {
            style.width = 'auto';
          }

          return style;
        };

        /**
         * Loads the data for the source component.
         * @param {!number} startIndex The index where data should be loaded from
         * @param {!number} pageSize The page size or block size of data to load
         * @param {?Array=} sortBy Sort data by
         * @param {?Object=} filter Filter data by
         * @returns {promise|Array} The data array or angular promise.
         */
        scope.loadSourceData = function (startIndex, pageSize, sortBy, filter) {
          // The source loading function
          var sourceFn = null;
          if (dlcui.isStringWithLength(attrs.source)) {
            sourceFn = function (startIndex, pageSize, sortBy, filter) {
              return scope.source({
                startIndex: startIndex,
                pageSize: pageSize,
                sortBy: sortBy,
                filter: filter
              });
            };
          } else if (dlcui.isFunction(scope.options.data)) {
            sourceFn = scope.options.data;
          } else {
            sourceFn = function (startIndex, pageSize) {
              if (dlcui.isArrayWithLength(scope.options.data) && startIndex < scope.options.data.length &&
                dlcui.isNumber(pageSize) && pageSize > 0) {
                return scope.options.data.slice(startIndex, startIndex + pageSize);
              }

              return scope.options.data || [];
            };
          }

          dlcui.assertFunction(sourceFn);

          function updateData(data) {
            var updatedSelection = false;
            if (dlcui.isArrayWithLength(data)) {
              scope.data = scope.data || [];
              if (dlcui.isObject(scope.selectedItems)) {
                angular.forEach(scope.selectedItems, function(items, groupId) {
                  if (dlcui.isArrayWithLength(items)) {
                    angular.forEach(data, function (dataItem) {
                      dataItem.selected = _.contains(items, dataItem.id);
                      if (dataItem.selected) {
                        dataItem.groupId = groupId;
                        if (!updatedSelection) {
                          updatedSelection = true;
                        }
                      }
                    });
                  }
                });
              }
              scope.data = scope.data.concat(data);
              scope.options.target.data = scope.data;
            }
          }

          var results = sourceFn(startIndex, pageSize, sortBy, filter);

          if (dlcui.isObject(results) && dlcui.isFunction(results.then)) {
            results.then(updateData);
          } else {
            updateData(results);
          }

          return results;
        };

        /**
         * Handles selection changes within the source component.
         * @private
         */
        scope.onSourceSelectionChanged = function () {
          // The source always returns an array
          scope.notifySelectionChanged();
        };

        /**
         * Called to open a sub vie/
         * @param {!Object} data Card data
         * @returns {*} The results fo calling the onSubViewOpen call-back.
         */
        scope.onSourceSubViewOpen = function (data) {
          // The source always returns an array
          return scope.onSubViewOpen({
            data: data
          });
        };

        /**
         * Handles selection changes within the target component.
         * @private
         */
        scope.onTargetSelectionChanged = function () {
          // The target returns the object grouped by group id
          scope.notifySelectionChanged();
        };

        var _eventListeners = [];
        _eventListeners.push(scope.$on(DLCUI_DRAG_SOURCE_EVENTS.reloadData, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.data = [];
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_DRAG_SOURCE_EVENTS.clearData, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.data = [];
          }
        }));

        scope.$on('$destroy', function () {
          angular.forEach(_eventListeners, function (listener) {
            listener();
          });
          _eventListeners = [];
        });

        /**
         * Called when the user modifies the selected items.
         */
        scope.notifySelectionChanged = function () {
          var groupID = null;
          if (scope.options.target) {
            if (scope.options.target && !scope.options.target.defaultGroupId &&
              dlcui.isArrayWithLength(scope.options.target.groups)) {
              scope.options.target.defaultGroupId = scope.options.target.groups[0].id;
            }
            var headerLabel = 'items';
            if (dlcui.isStringWithLength(scope.options.target.headerLabel)) {
              scope.options.target.headerLabel.replace('{{count}}', '');
            }
            groupID = scope.options.target.defaultGroupId ||
              dlcuiDragAndDrop.camelize(headerLabel);
          }
          scope.selectedIems = dlcuiDragAndDrop.extractSelectedItemsByGroup(scope.data, groupID);
          if (dlcui.isFunction(scope.onSelectionChanged)) {
            scope.onSelectionChanged({
              data: scope.selectedIems
            });
          }
        };

        // Watch the options.data and the attrs.source and reload data if changes are detected
        scope.$watch('options.data', function (newValue, oldValue) {
          if (!dlcui.isStringWithLength(attrs.source)) {
            if (typeof newValue !== typeof oldValue) {
              scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.reloadData);
            } else if (!angular.equals(newValue, oldValue)) {
              scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.reloadData);
            }
          }
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_DRAG_AND_DROP_EVENTS', {
  dragStart: 'dlcui:drag:start',
  dragEnd: 'dlcui:drag:end'
});
;angular.module('dell.ngclarity.directives').constant('DLCUI_DRAG_DROP_TEMPLATE_TYPE', {
  icon: 'icon',
  text: 'text'
});
;// TODO - Complete this description with full details about this directive later, not required at this time.
/* eslint-disable no-use-before-define, max-statements*/
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDragSourceContainer', ['dlcuiBaseTemplatePath', 'dlcuiElementId', '$translate', 'dlcuiDragAndDrop', 'DLCUI_LAZY_LOAD_EVENTS', 'DLCUI_DRAG_SOURCE_EVENTS', 'DLCUI_CARD_CONTAINER_EVENTS', 'DLCUI_LASSO_EVENTS', 'DLCUI_DRAG_AND_DROP_CLASSES', 'DLCUI_SELECTION_TYPE', function (dlcuiBaseTemplatePath,
                                                 dlcuiElementId,
                                                 $translate,
                                                 dlcuiDragAndDrop,
                                                 DLCUI_LAZY_LOAD_EVENTS,
                                                 DLCUI_DRAG_SOURCE_EVENTS,
                                                 DLCUI_CARD_CONTAINER_EVENTS,
                                                 DLCUI_LASSO_EVENTS,
                                                 DLCUI_DRAG_AND_DROP_CLASSES,
                                                 DLCUI_SELECTION_TYPE) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        id: '@',
        source: '&',
        options: '=',
        onSelectionChanged: '&',
        onSubViewOpen: '&'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/dragSourceContainer/dlcuiDragSourceContainer.directive.html'].join(''),
      link: function (scope, element, attrs) {
        dlcui.assertObject(scope.options, 'Options must be a valid json object for the drag source container.');

        /**
         * Called internally to reset the component.
         * @private
         */
        function _clearAll() {
          scope.data = [];
          scope.reachedEnd = 0;
          scope.totalLoaded = 0;
        }

        function _clearLassoSelection() {
          $(element).find(['.', DLCUI_DRAG_AND_DROP_CLASSES.dragSourceActive].join(''))
            .removeClass(DLCUI_DRAG_AND_DROP_CLASSES.dragSourceActive);
          scope.$emit(DLCUI_LASSO_EVENTS.clear);
          angular.forEach(scope.data, function (item) {
            item.__lassoSelected = false;
          });
        }

        /**
         * Called when data is loaded through the source attribute value.
         * @param {Array} data The data to handle.
         * @private
         */
        function _handleDataLoaded(data) {
          if (dlcui.isArrayWithLength(data)) {
            scope.reachedEnd = scope.options.pageSize <= 0 || data.length < scope.options.pageSize;
            scope.data = scope.data.concat(data);
            scope.totalLoaded = scope.data.length;
          } else {
            scope.reachedEnd = true;
          }
          scope.loadingNextBlock = false;
        }

        /**
         * Options for the card container
         * @type {!Object}
         */
        dlcui.setDefaults(scope.options, {
          clearAllLabel: $translate.instant('DLCUI_CLEAR_ALL'),
          selectAllLabel: $translate.instant('DLCUI_SELECT_ALL'),
          selectAllVisible: true,
          clearAllVisible: true,
          headerLabel: '',
          pageSize: 100,
          startIndex: 0,
          selectionType: DLCUI_SELECTION_TYPE.multiple
        });

        // Set default for the template
        if (!dlcui.isStringWithLength(scope.options.templateUrl) &&
          !dlcui.isStringWithLength(scope.options.template)) {
          scope.options.templateUrl = [dlcuiBaseTemplatePath, 'directives/tabular/gridCardContainer/dlcuiGridContainerCard.template.html'].join('');
        }
        scope.options.selectAllVisible = scope.options.selectionType === DLCUI_SELECTION_TYPE.multiple &&
          scope.options.selectAllVisible && dlcui.isStringWithLength(scope.options.selectAllLabel);
        scope.options.clearAllVisible = scope.options.selectionType !== DLCUI_SELECTION_TYPE.none &&
          scope.options.clearAllVisible && dlcui.isStringWithLength(scope.options.clearAllLabel);

        /**
         * The label used in the main header area.
         * @type {*|string}
         */
        scope.loadMoreLabel = scope.options.loadMoreLabel;

        /**
         * The total number of items that have been loaded so far.
         * @type {number}
         */
        scope.totalLoaded = 0;

        /**
         * The data loaded so far.
         * @type {Array}
         */
        scope.data = [];

        /**
         * Determines if we have reached the end of the data.
         * @type {boolean}
         */
        scope.reachedEnd = false;

        /**
         * Tracks the fact that more data is currently been loaded
         * @type {boolean}
         */
        scope.loadingNextBlock = false;

        /**
         * Called to search for specific items
         */
        scope.search = function () {
          // TODO-sscott: Complete this later when HIG is updated
        };

        /**
         * Called to filter the data
         */
        scope.filter = function () {
          // TODO-sscott: Complete this later when HIG is updated
        };

        scope.addMore = function () {
          // TODO-sscott: Complete this later when HIG is updated
        };

        /**
         * Notifies the card or table to reload the contents.
         */
        scope.loadMoreData = function () {
          scope.$broadcast(DLCUI_LAZY_LOAD_EVENTS.loadNext, null);
        };

        /**
         * Called to select all the items.
         */
        scope.clearAll = function () {
          scope.$broadcast(DLCUI_CARD_CONTAINER_EVENTS.clearAllSelections, null);
        };

        /**
         * Acts and intermediary between the main source function and the internal card component.
         * @param {!number} startIndex The index where data should be loaded from
         * @param {!number} pageSize The page size or block size of data to load
         * @param {?Array=} sortBy Sort data by
         * @param {?Object=} filter Filter data by
         * @returns {promise|Array} The data wrapped in a promise or the direct data array.
         */
        scope.loadData = function (startIndex, pageSize, sortBy, filter) {
          dlcui.assertFunction(scope.source);
          scope.loadingNextBlock = true;

          var results = scope.source({
            startIndex: startIndex,
            pageSize: pageSize,
            sortBy: sortBy,
            filter: filter
          });

          if (dlcui.isObject(results) && dlcui.isFunction(results.then)) {
            results.then(function (data) {
              _handleDataLoaded(data);
            }).finally(function () {
              scope.loadingNextBlock = false;
            });
          } else if (dlcui.isArray(results)) {
            _handleDataLoaded(results);
          } else {
            _handleDataLoaded([]);
          }

          return results;
        };

        /**
         * Builds the header label using the total data loaded and the configured label.
         * @returns {string} The header label.
         */
        scope.getHeaderLabel = function () {
          if (!dlcui.isStringWithLength(scope.options.headerLabel)) {
            return scope.totalLoaded;
          } else if (scope.options.headerLabel.indexOf('{{count}}') >= 0) {
            return dlcui.formatString(scope.options.headerLabel, {
              count: scope.totalLoaded
            });
          }
          return scope.options.headerLabel;
        };

        /**
         * Called by the drop target directive when a source is dropped here.
         */
        scope.onDrop = function () {
          var data = dlcuiDragAndDrop.getDragData();
          if (dlcui.isArrayWithLength(data)) {
            scope.$apply(function () {
              angular.forEach(data, function (item) {
                item.selected = false;
              });
              scope.onSelectionChanged({
                data: dlcuiDragAndDrop.extractSelectedItems(data)
              });
            });
          }
          _clearLassoSelection();
        };

        /**
         * Returns true if items are selected.
         * @returns {!boolean} true if items are selected
         */
        scope.isItemsSelected = function () {
          if (!dlcui.isArrayWithLength(scope.data)) {
            return false;
          }
          return dlcuiDragAndDrop.extractSelectedItems(scope.data).length > 0;
        };

        /**
         * Called when dragging starts
         * @param {!string} id The source ID
         * @param {!Array|Object} data The data been dragged
         */
        scope.onDragStart = function (id, data) {
          var lassoData = _.filter(scope.data, function (item) {
            return item.__lassoSelected;
          });
          if (dlcui.isArrayWithLength(lassoData)) {
            data = lassoData;
          } else if (!dlcui.isArray(data)) {
            data = [data];
          }
          dlcuiDragAndDrop.setDragData(data);
        };

        /**
         * Called when the drag end event is triggered.
         */
        scope.onDragEnd = function () {
          _clearLassoSelection();
        };

        /**
         * Called by the design to create a drag image.
         * @param {!string} id The id of the current element on which dragging is started
         * @returns {string} The html or undefind.
         */
        scope.createDragImage = function (id) {
          return dlcuiDragAndDrop.createDragImage(id);
        };

        /**
         * Returns true if the card can be dragged.
         * @param {!Object} card The card been verified.
         * @returns {!boolean} true if enabled
         */
        scope.isDragEnabled = function (card) {
          return !card.selected && !scope.options.dragAndDropDisabled;
        };

        /**
         * Called to select all the cards.
         */
        scope.selectAll = function () {
          scope.$broadcast(DLCUI_CARD_CONTAINER_EVENTS.selectAll, null);
        };

        /**
         * Called when the lasso selects/unselects a selectable.
         * @param {!boolean} selected Selected or unselected
         * @param {!object} data The data object
         */
        scope.onLassoSelected = function (selected, data) {
          data.__lassoSelected = !data.selected && selected;
        };

        /**
         * Called when the card container selection changes.
         * @param {!number} length The length of the selected items
         * @param {!Array} data The selection items
         */
        scope.onInnerSelectionChanged = function (length, data) {
          scope.onSelectionChanged({
            data: data
          });
        };

        /**
         * Builds the style and tracks any changes to the options.
         * @returns {!Object} The style
         */
        scope.getStyle = function () {
          return {
            height: scope.options.height,
            width: scope.options.width
          };
        };

        var _eventListeners = [];


        _eventListeners.push(scope.$on(DLCUI_CARD_CONTAINER_EVENTS.reloadData, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            _clearAll();
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_CARD_CONTAINER_EVENTS.clearData, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            _clearAll();
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_DRAG_SOURCE_EVENTS.reloadData, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            _clearAll();
            scope.$broadcast(DLCUI_LAZY_LOAD_EVENTS.reload);
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_DRAG_SOURCE_EVENTS.clearData, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            _clearAll();
            scope.$broadcast(DLCUI_LAZY_LOAD_EVENTS.clear);
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_DRAG_SOURCE_EVENTS.clearAllSelections, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.$broadcast(DLCUI_CARD_CONTAINER_EVENTS.clearAllSelections);
          }
        }));
        _eventListeners.push(scope.$on(DLCUI_DRAG_SOURCE_EVENTS.selectAll, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.$broadcast(DLCUI_CARD_CONTAINER_EVENTS.selectAll);
          }
        }));

        scope.$on('$destroy', function () {
          angular.forEach(_eventListeners, function (listener) {
            listener();
          });
          _eventListeners = [];
        });
      }
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_DRAG_SOURCE_EVENTS', {
  reloadData: 'dlcui:drag:source:reload:data',
  clearData: 'dlcui:drag:source:clear:data',
  clearAllSelections: 'dlcui:drag:source:clear:all',
  selectAll: 'dlcui:drag:source:select:all'
});
;// TODO - Complete this description with full details about this directive later, not required at this time.
/* eslint-disable no-use-before-define, max-statements*/
angular.module('dell.ngclarity.directives')
  .directive('dlcuiDropTargetContainer', ['dlcuiBaseTemplatePath', 'dlcuiElementId', '$translate', '$q', '$parse', 'dlcuiDragAndDrop', 'DLCUI_SELECTION_TYPE', 'DLCUI_DROP_TARGET_EVENTS', 'DLCUI_CARD_CONTAINER_EVENTS', function (dlcuiBaseTemplatePath,
                                                 dlcuiElementId,
                                                 $translate,
                                                 $q,
                                                 $parse,
                                                 dlcuiDragAndDrop,
                                                 DLCUI_SELECTION_TYPE,
                                                 DLCUI_DROP_TARGET_EVENTS,
                                                 DLCUI_CARD_CONTAINER_EVENTS) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        options: '=',
        onSelectionChanged: '&'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/dropTargetContainer/dlcuiDropTargetContainer.directive.html'].join(''),
      link: function (scope, element, attrs) {
        dlcui.assertObject(scope.options,
          'Options must be a valid json object for the drag source container.');
        dlcui.assertOptionalArray(scope.options.groups);
        dlcui.assertOptionalArray(scope.options.data, 'Data must be an array or null.');

        /**
         * Options for the card container
         * @type {!Object}
         */
        var _defaultCardContainerOptions = {
          selectionType: DLCUI_SELECTION_TYPE.multiple,
          data: [],
          templateUrl: dlcui.isStringWithLength(scope.options.templateUrl)
            ? scope.options.templateUrl : [dlcuiBaseTemplatePath, 'directives/tabular/gridCardContainer/dlcuiGridContainerCardRemove.template.html'].join('')
        };

        /**
         * Adds data to the group
         * @param {!string|number} groupId The group to add the data too.
         * @param {!object|Array} data Data from the left container.
         * @private
         */
        function _addDataToGroup(groupId, data) {
          if (!dlcui.isArray(data)) {
            data = [data];
          }
          angular.forEach(data, function (item) {
            item.selected = true;
            item.groupId = groupId;
          });

          scope.cardContainerOptions = scope.cardContainerOptions || {};
          scope.cardContainerOptions[groupId] = scope.cardContainerOptions[groupId] ||
            angular.extend({}, _defaultCardContainerOptions);
          scope.cardContainerOptions[groupId].data = scope.cardContainerOptions[groupId].data || [];
          scope.cardContainerOptions[groupId].data = scope.cardContainerOptions[groupId].data.concat(data);
          scope.totalLoaded = dlcuiDragAndDrop.validateSelected(scope.cardContainerOptions);
          scope.notifySelectionChanged();
        }

        /**
         * Called to build the data using group information and data specified on the options
         * @private
         */
        function _buildGroupedData() {
          scope.cardContainerOptions = {};
          scope.totalLoaded = 0;
          if (dlcui.isArrayWithLength(scope.options.data)) {
            var data = _getSelectedData();
            angular.forEach(data, function (dataItems, groupId) {
              scope.cardContainerOptions[groupId] = angular.extend({}, _defaultCardContainerOptions);
              scope.cardContainerOptions[groupId].data = dataItems;
              scope.totalLoaded += dataItems.length;
            });
          }
        }

        /**
         * Extracts only the selected data and groups it by the configured groups
         * @returns {!object} The currently selected data.
         * @private
         */
        function _getSelectedData() {
          return dlcuiDragAndDrop.extractSelectedItemsByGroup(scope.options.data, scope.options.defaultGroupId);
        }

        /**
         * The total number of items that have been loaded so far.
         * @type {number}
         */
        scope.totalLoaded = 0;

        var _headerLabel = 'items';

        if (dlcui.isStringWithLength(scope.options.headerLabel)) {
          _headerLabel = scope.options.headerLabel.replace('{{count}}', '');
        }

        /**
         * Used if the groups has not been defined.
         * @type {Array}
         * @private
         */
        var _defaultGroups = [{
          id: dlcuiDragAndDrop.camelize(_headerLabel),
          label: _headerLabel
        }];

        /**
         * The groups configured for this container.
         * @type {object}
         */
        dlcui.setDefaults(scope.options, {
          clearAllLabel: $translate.instant('DLCUI_CLEAR_ALL'),
          emptyTemplateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/dropTargetContainer/dlcuiDropTargetContainerEmpty.template.html'].join(''),
          groups: _defaultGroups
        });

        /**
         * Called each time the selection changes on any items within this component.
         */
        scope.notifySelectionChanged = function () {
          // Remove all unselected items
          if (dlcui.isFunction(scope.onSelectionChanged)) {
            scope.onSelectionChanged({
              data: _getSelectedData()
            });
          }
        };

        /**
         * Called to select all the items.
         */
        scope.clearAll = function () {
          scope.$broadcast(DLCUI_CARD_CONTAINER_EVENTS.clearAllSelections, null);
        };

        /**
         * Called by the drop target directive when a source is dropped here.
         * @param {!number|string} groupId The group id on which the items were dropped
         */
        scope.onDrop = function (groupId) {
          dlcui.assert(groupId, 'Group Id must be defined.');

          var data = dlcuiDragAndDrop.getDragData();
          if (dlcui.isArrayWithLength(data)) {
            // Make sure to filter out items that are already in this group
            data = _.filter(data, function (item) {
              return item.groupId !== groupId;
            });
            scope.$apply(function () {
              _addDataToGroup(groupId, data);
            });
          }
        };

        /**
         * Called by the card container when the selection changes
         * @param {!number|string} groupId The group id on which the items were dropped
         * @param {!Object} item The card item
         */
        scope.onCardContainerSelectionChanged = function () {
          scope.notifySelectionChanged();
        };

        /**
         * Called when dragging starts
         * @param {!string} id The source ID
         * @param {!Array|Object} data The data been dragged
         */
        scope.onDragStart = function (id, data) {
          if (!dlcui.isArray(data)) {
            data = [data];
          }
          dlcuiDragAndDrop.setDragData(data);
        };

        /**
         * Called by the design to create a drag image.
         * @param {!string} id The id of the current element on which dragging is started
         * @returns {string} The html or undefined.
         */
        scope.createDragImage = function (id) {
          return dlcuiDragAndDrop.createDragImage(id);
        };

        /**
         * Builds the header label using the total data loaded and the configured label.
         * @returns {string} The header label.
         */
        scope.getHeaderLabel = function () {
          if (!dlcui.isStringWithLength(scope.options.headerLabel)) {
            return scope.totalLoaded;
          } else if (scope.options.headerLabel.indexOf('{{count}}') >= 0) {
            return dlcui.formatString(scope.options.headerLabel, {
              count: scope.totalLoaded
            });
          }
          return scope.options.headerLabel;
        };

        /**
         * Called to set the currently selected group.
         * @param {!string} groupId The group id to select
         */
        scope.setSelectedGroup = function (groupId) {
          if (dlcui.isStringWithLength(groupId)) {
            scope.options.defaultGroupId = groupId;
          }
        };

        /**
         * Builds the style and tracks any changes to the options.
         * @returns {!Object} The style
         */
        scope.getStyle = function () {
          return {
            height: scope.options.height,
            width: scope.options.width
          };
        };

        if (!dlcui.isStringWithLength(scope.options.defaultGroupId) &&
          dlcui.isArrayWithLength(scope.options.groups)) {
          scope.options.defaultGroupId = scope.options.groups[0].id;
        }

        var _eventListeners = [];
        _eventListeners.push(scope.$on(DLCUI_DROP_TARGET_EVENTS.clearAll, function (event, id) {
          if (dlcuiElementId.isIdMatchForEvents(attrs.id, id)) {
            scope.clearAll();
          }
        }));

        scope.$on('$destroy', function () {
          angular.forEach(_eventListeners, function (listener) {
            listener();
          });
          _eventListeners = [];
        });

        scope.$watch('options.data', function() {
          _buildGroupedData();
        }, true);
      }
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_DROP_TARGET_EVENTS', {
  reload: 'dlcui:drop:target:reload',
  clearAll: 'dlcui:drop:target:clear:all'
});
;/**
 * @ngdoc directive
 * @name gridCardContainer
 * @module dlcui
 * @src directives/tabular/gridCardContainer/dlcuiGridCardContainer.directive.js
 * @controlType tabular
 * @restrict E
 *
 * @param {function} source This accepts the callback function defined on the scope and is called
 * when the user scrolls to the bottom and when more data can be loaded.
 *
 * * This callback function is called to load data in blocks of pageSize and should have the following signature,
 *   * ```javascript function (startIndex, pageSize, sortBy, filter) {}```
 * * This callback function must return either an
 *   * angular promise that is then resolved with the required data array after the data loaded.
 *   * array of data item
 * * The Data Returned in the resolve must be an array of objects where each object contains;
 *   * 'id' property that is unique for each data item.
 *   * 'label' to be used within the display of the item.
 *   * 'info' that defines details on the item and can be plain text or html.
 *   * 'icon' optional object value that defines details on the associated icon for the data item.
 *
 * The structure for each data item must contain at the very least the following json
 * ```javascript
 * {
 *    id: 'Unique id',
 *    label: 'A label to display',
 *    tooltip: 'The information text to display'
 * }
 * ```
 * The structure for each data item must contain the following for the icon cards,
 * ```javascript
 * {
 *    id: 'Unique id',
 *    label: 'A label to display',
 *    tooltip: 'The information text to display',
 *    icon: {     // This is based on DLCUI-icon, please review the documentation on that component
 *      name: 'Icon Name',
 *      size: 24px,   // Optional value
 *      color: 'blue' // Optional value
 *    }
 * }
 * ```
 * @param {Object} options This accepts the name of the scope variable that contains the data associated with
 * the item been dragged.
 *
 * The options is a json based configuration and should have the following format,
 * ```javascript
 * {
 *    data: [],             // Optional array or function used in place of the source function
 *    height: '500px',      // Optional and defaults to 100% through CSS
 *    width: '100%',        // Optional and defaults to 100% through CSS
 *    source: {
 *        disableInitialLoad: false, // Optional property that disables the initial loading of data.
 *        enableLazyRendering: false, // Optional property that allows cards to be rendered only when visible
 *        headerLabel: '{{count}} Hosts',
 *        subViewTemplateUrl: '', // Optional url to a sub view template that is displayed
 *    },
 *    target: {
 *        headerLabel: '{{count}} Selected Hosts',
 *        enableLazyRendering: false, // Optional property that allows cards to be rendered only when visible
 *        groups: [   // Optional array of groupings into which selected items can be added
 *          {
 *            id: 'pacific',
 *            label: 'Pacific Hosts'
 *          },
 *          {
 *            id: 'central',
 *            label: 'Central Hosts'
 *          }
 *        ],
 *        defaultGroupId: 'pacific', // Default location into which selected items are placed. Default is the first id.
 *        hidden: false // Set this to true to hide the target drop container or do not define target at all
 *    }
 * }
 * ```
 * @param {function} onSelectionChanged This accepts the name of the callback function defined on the scope
 * and is called when the user starts dragging the element.
 *
 * The method is called with an array of selected of selected items in the form of an array.
 * ```javascript
 * function (data) {
 * }
 * ```
 * @param {Function=} onSubViewOpen Callback function that is called just before the sub view is opened. This
 * method can return data to attach to the sub view or it can return a promise so the data us loaded asycnhronously.
 * The promise reject can be used to block the opening of the sub-view if required.
 *
 * The signature of the sub-view should appear as follows,
 *
 * ```javascript
 * function(element, data)
 * ```
 *
 * The element is the card element itself and the data is the data associated with the card if defined. The data
 * returned by this method is attached to the sub view scope. The sub view template can access either the card data
 * using the following scope properties <i>card</i> or the returned data through <i>subViewData</i>. The sub view
 * template also has access to the same scope property <i>$container</i> that each card template has access too
 * and which defaults to the parent scope or can be configured through <i>options.containerScope</i>.
 *
 * @description
 * Element based directive that is used to generate a Grid Card Container Component
 *
 * @example
 * <h3>Grid Card Container Single Selection</h3>
 *
 * <example name="gridCardSingleSelection">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-grid-card-container on-selection-changed="selectionChanged(data)"
 *                               source="source(startIndex, pageSize)"
 *                               options="options">
 *      </dlcui-grid-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          height: '300px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Hosts',
 *            selectionType: DLCUI_SELECTION_TYPE.single,
 *            clearAllLabel: 'Clear selection'
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *         var idCounter = 0;
 *        // Generates test data for the component based on the total size specified
 *        function _generateTestData(totalSize) {
 *          var data = [];
 *          for (var loop = 0; loop < totalSize; loop++) {
 *            var item = {
 *              id: idCounter++,
 *              label: 'Host ' + loop,
 *              tooltip: 'This is a tooltip for Host ' + loop + '.'
 *            };
 *            data.push(item);
 *          }
 *           return data;
 *        }
 *
 *        var _testData = _generateTestData(_maxLoad);
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            var end = startIndex + pageSize;
 *            if (startIndex >= _testData.length) {
 *              defer.resolve([]);
 *            } else if (end > _testData.length) {
 *              end = _testData.length;
 *           }
 *           var sendDataBack = _testData.slice(startIndex, end);
 *           $timeout(function () {
 *             defer.resolve(sendDataBack);
 *           }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 400px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Grid Card Container Multiple Selection</h3>
 *
 * <example name="gridCardMultipleSelection">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-grid-card-container on-selection-changed="selectionChanged(data)"
 *                               source="source(startIndex, pageSize)"
 *                               options="options">
 *          </dlcui-grid-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          height: '500px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Hosts', // Notice here we did not use the {{count}} macro.
 *            selectionType: DLCUI_SELECTION_TYPE.multiple
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *         var idCounter = 0;
 *        // Generates test data for the component based on the total size specified
 *        function _generateTestData(totalSize) {
 *          var data = [];
 *          for (var loop = 0; loop < totalSize; loop++) {
 *            var item = {
 *              id: idCounter++,
 *              label: 'Host ' + loop,
 *              tooltip: 'This is a tooltip for Host ' + loop + '.'
 *            };
 *            data.push(item);
 *          }
 *           return data;
 *        }
 *
 *        var _testData = _generateTestData(_maxLoad);
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            var end = startIndex + pageSize;
 *            if (startIndex >= _testData.length) {
 *              defer.resolve([]);
 *            } else if (end > _testData.length) {
 *              end = _testData.length;
 *           }
 *           var sendDataBack = _testData.slice(startIndex, end);
 *           $timeout(function () {
 *             defer.resolve(sendDataBack);
 *           }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Grid Card Container with Sub View</h3>
 *
 * <example name="gridCardSubView">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-grid-card-container on-selection-changed="selectionChanged(data)"
 *                               source="source(startIndex, pageSize)"
 *                               on-sub-view-open="onSubViewOpen(data)"
 *                               options="options">
 *      </dlcui-grid-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, $q,
 *                                       testClusterDataGenerator,
 *                                       testHostDataGenerator,
 *                                       dlcuiBaseTemplatePath,
 *                                       DLCUI_SELECTION_TYPE) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testClusterDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        $scope.onSubViewOpen = function (cardData) {
 *          var defer = $q.defer();
 *          testHostDataGenerator.generate(cardData).then(function (data) {
 *            var dataLength = data && data.hosts ? data.hosts.length : 0;
 *            defer.resolve({
 *                label: [dataLength,  'Hosts', '|', data.domain].join(' '),
 *                options: {
 *                  data: data.hosts,
 *                  disableCardDecoration: true,      // We do not want the cards to show borders on hover
 *                  pageSize: -1,
 *                  templateUrl: 'hostsSubViewCardItem.template.html',
 *                  height: 'auto',
 *                  width: '100%'
 *                }
 *              });
 *          });
 *          return defer.promise;
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          height: '500px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Clusters',
 *            selectionType: DLCUI_SELECTION_TYPE.multiple,
 *            subViewTemplateUrl: 'hostsSubView.template.html'
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="hostsSubView.template.html">
 *    <div class="dlcui-hosts-sub-view">
 *      <div class="dlcui-sub-view-label">{{::subViewData.label}}</div>
 *      <dlcui-card-container options="::subViewData.options"></dlcui-card-container>
 *    </div>
 *  </file>
 *  <file name="hostsSubView.styles.css">
 *    .dlcui-hosts-sub-view {
 *      width: 100%;
 *    }
 *
 *    .dlcui-hosts-sub-view .dlcui-sub-view-label {
 *      margin-left: 10px;
 *    }
 *  </file>
 *  <file name="hostsSubViewCardItem.template.html">
 *    <div class="dlcui-host-label">{{::card.label}}</div>
 *  </file>
 *  <file name="hostsSubViewCardItem.template.css">
 *    .dlcui-host-label {
 *      min-width: 100px;
 *    }
 *  </file>
 *  <file name="testClusterDataGenerator.js">
 *    angular.module('app')
 *      .factory('testClusterDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *         var idCounter = 0;
 *        // Generates test data for the component based on the total size specified
 *        function _generateTestData(totalSize) {
 *          var data = [];
 *          for (var loop = 0; loop < totalSize; loop++) {
 *            var item = {
 *              id: idCounter++,
 *              label: 'Cluster ' + loop,
 *              maxHosts: Math.floor((Math.random() * 20) + 2),
 *              tooltip: 'This is a tooltip for Cluster ' + loop + '.'
 *            };
 *            data.push(item);
 *          }
 *           return data;
 *        }
 *
 *        var _testData = _generateTestData(_maxLoad);
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            var end = startIndex + pageSize;
 *            if (startIndex >= _testData.length) {
 *              defer.resolve([]);
 *            } else if (end > _testData.length) {
 *              end = _testData.length;
 *           }
 *           var sendDataBack = _testData.slice(startIndex, end);
 *           $timeout(function () {
 *             defer.resolve(sendDataBack);
 *           }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="testHostDataGenerator.js">
 *    angular.module('app')
 *      .factory('testHostDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        function _generateData (clusterData) {
 *          var defer = $q.defer();
 *          $timeout(function () {
 *             var hosts = [];
 *             var loop = 0;
 *             var loopEnd = clusterData.maxHosts;
 *             for (loop = 0; loop < loopEnd; loop++)
 *             hosts.push({
 *                id: loop,
 *                clusterId: clusterData.id,
 *                label: 'Host' + clusterData.id + loop      // I could use name if I change my sub view template
 *             });
 *             defer.resolve({
 *                domain: clusterData.id + '.dell.com',
 *                hosts: hosts
 *             });
 *          }, 100);
 *          return defer.promise;
 *        }
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Grid Card Container Multiple Selection and Visible Drop Target</h3>
 *
 * <example name="gridCardMultipleSelectionVisibleDropTarget">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-grid-card-container on-selection-changed="selectionChanged(data)"
 *                               source="source(startIndex, pageSize)"
 *                               options="options">
 *      </dlcui-grid-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *        $scope.options = {
 *          height: '500px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Hosts',
 *            selectionType: DLCUI_SELECTION_TYPE.multiple
 *          },
 *          target: {
 *            headerLabel: '{{count}} Hosts',
 *            visible: true
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *         var idCounter = 0;
 *        // Generates test data for the component based on the total size specified
 *        function _generateTestData(totalSize) {
 *          var data = [];
 *          for (var loop = 0; loop < totalSize; loop++) {
 *            var item = {
 *              id: idCounter++,
 *              label: 'Host ' + loop,
 *              tooltip: 'This is a tooltip for Host ' + loop + '.'
 *            };
 *            data.push(item);
 *          }
 *           return data;
 *        }
 *
 *        var _testData = _generateTestData(_maxLoad);
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            var end = startIndex + pageSize;
 *            if (startIndex >= _testData.length) {
 *              defer.resolve([]);
 *            } else if (end > _testData.length) {
 *              end = _testData.length;
 *           }
 *           var sendDataBack = _testData.slice(startIndex, end);
 *           $timeout(function () {
 *             defer.resolve(sendDataBack);
 *           }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Grid Card Container Multiple Selection and Visible Drop Target with Groups</h3>
 *
 * <example name="gridCardMultipleSelectionVisibleDropTargetGroups">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-grid-card-container on-selection-changed="selectionChanged(data)"
 *                               source="source(startIndex, pageSize)"
 *                               options="options">
 *      </dlcui-grid-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *        $scope.options = {
 *          height: '500px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Hosts',
 *            selectionType: DLCUI_SELECTION_TYPE.multiple
 *          },
 *          target: {
 *            headerLabel: '{{count}} Hosts',
 *            visible: true,
 *            groups: [
 *              {
 *                id: 'local',
 *                label: 'Local Hosts'
 *              },
 *              {
 *                id: 'remote',
 *                label: 'Remote Hosts'
 *              }
 *            ]
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *         var idCounter = 0;
 *        // Generates test data for the component based on the total size specified
 *        function _generateTestData(totalSize) {
 *          var data = [];
 *          for (var loop = 0; loop < totalSize; loop++) {
 *            var item = {
 *              id: idCounter++,
 *              label: 'Host ' + loop,
 *              tooltip: 'This is a tooltip for Host ' + loop + '.'
 *            };
 *            data.push(item);
 *          }
 *           return data;
 *        }
 *
 *        var _testData = _generateTestData(_maxLoad);
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            var end = startIndex + pageSize;
 *            if (startIndex >= _testData.length) {
 *              defer.resolve([]);
 *            } else if (end > _testData.length) {
 *              end = _testData.length;
 *           }
 *           var sendDataBack = _testData.slice(startIndex, end);
 *           $timeout(function () {
 *             defer.resolve(sendDataBack);
 *           }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 500px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Grid Card Container Single Selection and No Information Icon</h3>
 *
 * <example name="gridCardSingleSelectionNoInfoIcon">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <dlcui-grid-card-container on-selection-changed="selectionChanged(data)"
 *                               source="source(startIndex, pageSize)"
 *                               options="options">
 *      </dlcui-grid-card-container>
 *    </div>
 *    <br>
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br><br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE) {
 *
 *        // Contains all the selected items
 *        $scope.selectedItems = [];
 *
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source = function (startIndex, pageSize) {
 *            return testDataGenerator.generate(startIndex, pageSize);
 *        };
 *
 *        // Callback function that is called by the component when the selection changes
 *        $scope.selectionChanged = function (selectedItems) {
 *          // We could also access $scope.selectedItems
 *          $scope.message = 'Selection has changed: ' + JSON.stringify(selectedItems);
 *        };
 *
 *        $scope.options = {
 *          height: '300px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Hosts',
 *            selectionType: DLCUI_SELECTION_TYPE.single,
 *            clearAllLabel: 'Clear selection'
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _counter = 1;
 *        var _maxLoad = 355;
 *
 *         var idCounter = 0;
 *        // Generates test data for the component based on the total size specified
 *        function _generateTestData(totalSize) {
 *          // Do not include a tooltip to hide the info icon. Disabling sub view is also required.
 *          var data = [];
 *          for (var loop = 0; loop < totalSize; loop++) {
 *            var item = {
 *              id: idCounter++,
 *              label: 'Host ' + loop
 *            };
 *            data.push(item);
 *          }
 *           return data;
 *        }
 *
 *        var _testData = _generateTestData(_maxLoad);
 *
 *        function _generateData (startIndex, pageSize) {
 *            var defer = $q.defer();
 *            var end = startIndex + pageSize;
 *            if (startIndex >= _testData.length) {
 *              defer.resolve([]);
 *            } else if (end > _testData.length) {
 *              end = _testData.length;
 *           }
 *           var sendDataBack = _testData.slice(startIndex, end);
 *           $timeout(function () {
 *             defer.resolve(sendDataBack);
 *           }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: 400px;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Grid Card Container Re-load Data using IDs and Events</h3>
 *
 * <example name="gridCardReloadDataWithEvents">
 *  <file name='index.html'>
 *    <br>
 *    <div class= "test-container-middle">
 *      <div class="test-container-top">
 *        <cui-button ng-click="reloadData()" cui-type="primary">Reload Data In Both</cui-button>
 *        <cui-button ng-click="clearData()" cui-type="primary">Clear Data In Both</cui-button>
 *        <cui-button ng-click="selectAll()" cui-type="primary">Select All In Both</cui-button>
 *        <cui-button ng-click="clearAll()" cui-type="primary">Clear All Selections In Both</cui-button>
 *      </div>
 *      <br>
 *      <div class="test-container-top">
 *        <cui-button ng-click="reloadData('Example1')" cui-type="primary">Reload Data</cui-button>
 *        <cui-button ng-click="clearData('Example1')" cui-type="primary">Clear Data</cui-button>
 *        <cui-button ng-click="selectAll('Example1')" cui-type="primary">Select All</cui-button>
 *        <cui-button ng-click="clearAll('Example1')" cui-type="primary">Clear All Selections</cui-button>
 *      </div>
 *      <br>
 *      <dlcui-grid-card-container id="Example1"
 *                               source="source1(startIndex, pageSize)"
 *                               options="options1">
 *      </dlcui-grid-card-container>
 *      <br>
 *      <div class="test-container-top">
 *        <cui-button ng-click="reloadData('Example2')" cui-type="primary">Reload Data</cui-button>
 *        <cui-button ng-click="clearData('Example2')" cui-type="primary">Clear Data</cui-button>
 *        <cui-button ng-click="selectAll('Example2')" cui-type="primary">Select All</cui-button>
 *        <cui-button ng-click="clearAll('Example2')" cui-type="primary">Clear All Selections</cui-button>
 *        <cui-button ng-click="toggleDataSource()" cui-type="primary">Toggle Data Source</cui-button>
 *      </div>
 *      <br>
 *      <dlcui-grid-card-container id="Example2"
 *                               options="options2">
 *      </dlcui-grid-card-container>
 *    </div>
 *    <br>
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope,
 *                                       testDataGenerator,
 *                                       DLCUI_SELECTION_TYPE,
 *                                       DLCUI_DRAG_SOURCE_EVENTS) {
 *        // The data source, we could have used $scope.options.data too.
 *        $scope.source1 = function (startIndex, pageSize) {
 *            return testDataGenerator.generate('Hosts', startIndex, pageSize);
 *        };
 *
 *        $scope.source2 = function (startIndex, pageSize) {
 *            return testDataGenerator.generate('Clusters', startIndex, pageSize);
 *        };
 *
 *        $scope.reloadData = function (id) {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.reloadData, id);
 *        };
 *
 *        $scope.clearData = function (id) {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.clearData, id);
 *        };
 *
 *        $scope.selectAll = function (id) {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.selectAll, id);
 *        };
 *
 *        $scope.clearAll = function (id) {
 *          $scope.$broadcast(DLCUI_DRAG_SOURCE_EVENTS.clearAllSelections, id);
 *        };
 *
 *        var sourceTwo = true;
 *
 *        $scope.toggleDataSource = function () {
 *          if (sourceTwo) {
 *            sourceTwo = false;
 *            $scope.options2.data = $scope.source1;
 *            $scope.options2.source.headerLabel = '{{count}} Available Hosts';
 *          } else  {
 *            sourceTwo = true;
 *            $scope.options2.data = $scope.source2;
 *            $scope.options2.source.headerLabel = '{{count}} Available Clusters';
 *          }
 *        };
 *
 *        $scope.options1 = {
 *          height: '250px',
 *          width: '100%',
 *          source: {
 *            disableInitialLoad: false,
 *            headerLabel: '{{count}} Available Hosts',
 *            selectionType: DLCUI_SELECTION_TYPE.multiple
 *          }
 *        };
 *
 *        $scope.options2 = {
 *          data: $scope.source2,
 *          height: '250px',
 *          width: '100%',
 *          source: {
 *            headerLabel: '{{count}} Available Clusters',
 *            selectionType: DLCUI_SELECTION_TYPE.multiple
 *          }
 *        };
 *      });
 *  </file>
 *  <file name="testDataGenerator.js">
 *    angular.module('app')
 *      .factory('testDataGenerator', function ($q, $timeout) {
 *        // A helper method to load the source data
 *        var _maxLoad = 355;
 *
 *        function _generateData (name, startIndex, pageSize) {
 *            var defer = $q.defer();
 *            $timeout(function () {
 *              var data = [];
 *              for (var loop = startIndex; loop < startIndex + pageSize && loop < _maxLoad; loop++) {
 *                var item = {
 *                  id: loop,
 *                  label: name + ' ' + loop
 *                };
 *                data.push(item);
 *              }
 *              defer.resolve(data);
 *            }, 1000);
 *            return defer.promise;
 *        };
 *
 *        return {
 *            generate: _generateData
 *        };
 *  });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      min-height: 600px;
 *      height: auto;
 *      overflow-y: auto;
 *    }
 *
 *    .test-container-top {
 *      width: 100%;
 *      padding: 5px;
 *    }
 *
 *    .test-container-middle {
 *      width: 100%;
 *      height: auto;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiGridCardContainer', ['dlcuiBaseTemplatePath', '$translate', 'DLCUI_SELECTION_TYPE', function (dlcuiBaseTemplatePath,
                                                      $translate,
                                                      DLCUI_SELECTION_TYPE) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        id: '@',
        source: '&',
        options: '=',
        onSelectionChanged: '&',
        onSubViewOpen: '&'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/gridCardContainer/dlcuiGridCardContainer.directive.html'].join(''),
      link: function (scope, element, attrs) {
        /**
         * The options for the target
         * @type {any}
         */
        scope.options = scope.options || {};

        // Set the defaults
        dlcui.setDefaults(scope.options, {
          source: {
            pageSize: 25,
            clearAllVisible: false,
            containerScope: scope.$parent,
            headerLabel: ['{{count}}', $translate.instant('DLCUI_AVAILABLE_IEMS')].join(' '),
            selectionType: DLCUI_SELECTION_TYPE.multiple
          },
          target: {
            containerScope: scope.$parent,
            headerLabel: ['{{count}}', $translate.instant('DLCUI_ITEMS')].join(' ')
          }
        });
        // Set the hidden
        scope.options.target.hidden = !scope.options.target.visible;

        scope.dragAndDropID = '';
        if (dlcui.isStringWithLength(attrs.id)) {
          scope.dragAndDropID = [attrs.id, 'DragAndDrop'].join('_');
        }

        if (!scope.options.target.hidden && scope.options.source.selectionType !== DLCUI_SELECTION_TYPE.multiple) {
          scope.options.target.hidden = true;
        }
        scope.options.source.templateUrl = [dlcuiBaseTemplatePath,
          'directives/tabular/gridCardContainer/dlcuiGridContainerCard.template.html'].join('');
        scope.options.target.templateUrl = [dlcuiBaseTemplatePath,
          'directives/tabular/gridCardContainer/dlcuiGridContainerCardRemove.template.html'].join('');

        scope.style = {
          height: scope.options.height,
          width: scope.options.width
        };

        /**
         * Should we use the source load attribute.
         * @type {boolean}
           */
        scope.useSourceAttribute = dlcui.isStringWithLength(attrs.source);
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name infoCardContainer
 * @module dlcui
 * @src directives/tabular/infoCardContainer/dlcuiInfoCardContainer.directive.js
 * @controlType tabular
 * @restrict E
 *
 * @param {function} source This accepts the callback function defined on the scope and is called
 * to load data in blocks of pageSize. Source can also be specified on the options by using the options.data property.
 *
 * This function should have the following signature,
 *   * ```javascript function (startIndex, pageSize, sortBy, filter) {}```
 * * This callback function must return
 *   * angular promise that is resolved after the data loaded.
 *   * an array of data objects
 * * The Data Returned in the resolve must be an array of objects where each object must contain and id property.
 *
 * The structure for each data item must contain at the very least the following json
 * ```javascript
 * {
 *    id: 'Unique id',
 *    label: 'A label to display',
 *    info: 'The information text to display',
 *    templateUrl: 'dlcuiTest.template.html'    // Optional value that overrides the main templateUrl if defined.
 * }
 * ```
 *
 * @param {Object=} options The options object that contains all the options that can be set on this component and
 * consists of the following options,
 * * data = Optional Function or Array that defines the data and overrides the source property above if defined.
 * * templateUrl - Optional string value that defines the template for each item and if not specified then
 * the data item itself must contain a valid templateUrl
 * * emptyTemplateUrl - Optional string value that defines the template to use if there is no data.
 *
 * ```javascript
 * $scope.options = {
 *   templateUrl: '/templates/infoCardItem.template.html', // A valid template url
 *   emptyTemplateUrl: '/templates/empty.template.html', // A valid template url
 * };
 * ```
 *
 * @description
 * Element based directive that is used to generate a container that displays a collection of info cards by
 * placing them next to each and where they wrap to the next line when there is no more space.
 *
 * The container is seperated into rows and each column can contain zero or more info card items that are
 * placed beneath each other.
 *
 * Each card placed within the component must be wrapped with the ```<dlcui-info-card-item>``` directive. The cards
 * can be placed inside of this component using transclusion. Alternatively the options.data can be used where
 * each data item uses a templateUrl that identifies a template that uses the info card item directive (See Examples
 * below of both use cases).
 *
 * <b>Note:</b> For this component to work correctly it is very important that,
 * * The width of this component <b>never</b> be set to <i>auto</i>.
 * * If the component width is set to <i>100%</i> then the parent element does not have an <i>auto</i> width.
 * * The default width is set to <i>100%</i> if the width is not provided through CSS.
 *
 * <b>Note:</b> Cards try to stretch to pick up the available slack so if the component is very wide and only
 * contains one cards they will stretch across the width of the container, which gives a good appeareance.
 *
 * A vertical scrollbar will be displayed if the component height is fixed and where the container runs
 * out of veritical space.
 *
 * When not using transclusion the inner template in each info card item can reference the data of that item by
 * using the <b>card</b> variable name as show next,
 * ```html
 * <dlcui-info-card-item header-label="General">
 *   Id: <span ng-bind="card.id"></span>
 *   Text: <span ng-bind="card.text"></span>
 * </dlcui-info-card-item>
 * ```
 * A developer can also access methods and variables that is defined on the parent scope that contains the info card
 * component by using the variable <b>$container</b>. As an example let's expand the previous example to handle a
 * click action,
 * ```html
 * <dlcui-info-card-item header-label="General" ng-click="$container.onCardClicked(card)">
 *   Id: <span ng-bind="card.id"></span>
 *   Text: <span ng-bind="card.text"></span>
 * </dlcui-info-card-item>
 * ```
 *
 * The template can access the scope when using transclusion using normal angular techniques.
 *
 * @example
 * <h3>Card Container Component Using Transclusion</h3>
 *
 * <example name="cardContainerBasicTransclusion">
 *  <file name="index.html">
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <dlcui-info-card-container class="dlcui-example-container" options="options">
 *      <dlcui-info-card-item class="dlcui-general-info-card" header-label="General" contents-label="Dell Wyse Z90D">
 *          <table class="dlcui-general-items">
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Last check-in</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.lastCheckin | date : 'medium'}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">System</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.system}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">OS Image</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.osImage}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Agent</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.agent}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Registered</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.registered | date : 'medium'}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Client ID</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.clientID}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Serial Number</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.serialNumber}}</td>
 *          </tr>
 *        </table>
 *      </dlcui-info-card-item>
 *      <dlcui-info-card-item class="dlcui-location-info-card" header-label="Location" contents-label="VM Network">
 *        <table class="dlcui-location-items">
 *          <tr class="dlcui-location-item">
 *            <td class="dlcui-info-label">Contact</td>
 *            <td class="dlcui-info-value">{{model.locationInfo.contact}}</td>
 *          </tr>
 *          <tr class="dlcui-location-item">
 *            <td class="dlcui-info-label">Time Zone</td>
 *            <td class="dlcui-info-value">{{model.locationInfo.timeZone}}</td>
 *          </tr>
 *          <tr class="dlcui-location-item">
 *            <td class="dlcui-info-label">Custom Data</td>
 *            <td class="dlcui-info-value">
 *              <div ng-repeat="location in model.locationInfo.customLocationData track by $index">{{location}}</div>
 *            </td>
 *          </tr>
 *        </table>
 *      </dlcui-info-card-item>
 *      <dlcui-info-card-item class="dlcui-network-info-card"
 *                          header-label="Network"
 *                          action-label="View All"
 *                          on-action-click="viewAllClicked(card)">
 *       <table class="dlcui-network-items">
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">IP Address</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.ipAddress}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">Subnet</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.subnet}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">GateWay</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.gateway}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">MAC</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.mac}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">Ethernet, 100 Mbps</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.ethernet}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">Subnet Mask</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.subnetMask}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">Domain</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.domain}}</td>
 *          </tr>
 *        </table>
 *      </dlcui-info-card-item>
 *    </dlcui-info-card-container>
 *    <br>
 *    <br><br>
 *  </file>
 *  <file name="contentsInfoCard.css">
 *    .dlcui-example-container .dlcui-info-card-item .dlcui-info-label {
 *      color: #222222;
 *      font-size: 14px;
 *      font-weight: bold;
 *      padding: 5px 30px 5px 0;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *
 *    .dlcui-example-container .dlcui-info-card-item .dlcui-info-value {
 *      color: #888888;
 *      font-size: 14px;
 *      font-weight: normal;
 *      padding: 5px 0 5px 5px;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.message = 'Resize the browser window to see how the layout changes dynamically.';
 *
 *        $scope.viewAllClicked = function (card) {
 *          alert('User clicked on info card');
 *        };
 *
 *        $scope.model = {
 *          generalInfo: {
 *            lastCheckin: new Date(),
 *            system: 'Windows Embedded 8',
 *            osImage: '9.030846 15GB',
 *            agent: '6.3.1.0',
 *            registered: new Date(),
 *            clientID: 4215,
 *            serialNumber: '9UDDM500020'
 *          },
 *          locationInfo: {
 *              contact: 'Surjit',
 *              timeZone: 'UTC -08:00 PST',
 *              customLocationData: [
 *                'Custom Data 1',
 *                'Custom Data 2',
 *                'Custom Data 4'
 *              ]
 *            },
 *          networkInfo: {
 *              ipAddress: '10.200.40.20',
 *              subnet: '10.200.235.255',
 *              gateway: '10.200.235.1',
 *              mac: '00:80:64:SE:8D:23',
 *              ethernet: 'Realtek PCIe GBE Family Controller',
 *              subnetMask: '255.255.255.0',
 *              domain: 'wyselab.com'
 *            }
 *        };
 *
 *        $scope.options = {
 *          height: '100%',
 *          width: '100%'
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *      background: #cecece;
 *    }
 *  </file>
 * </example>
 *
 * @example
 * <h3>Card Container Component Using Templete URL through Options.</h3>
 *
 * <example name="cardContainerBasic">
 *  <file name="index.html">
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <dlcui-info-card-container class="dlcui-example-container" options="options">
 *    </dlcui-info-card-container>
 *    <br>
 *    <br><br>
 *  </file>
 *  <file name="generalInfoCard.template.html">
 *    <dlcui-info-card-item class="dlcui-general-info-card" header-label="General" contents-label="{{::card.label}}">
 *      <table class="dlcui-general-items">
 *        <tr class="dlcui-general-item">
 *          <td class="dlcui-info-label">Last check-in</td>
 *          <td class="dlcui-info-value">{{card.lastCheckin | date : 'medium'}}</td>
 *        </tr>
 *        <tr class="dlcui-general-item">
 *          <td class="dlcui-info-label">System</td>
 *          <td class="dlcui-info-value">{{card.system}}</td>
 *        </tr>
 *        <tr class="dlcui-general-item">
 *          <td class="dlcui-info-label">OS Image</td>
 *          <td class="dlcui-info-value">{{card.osImage}}</td>
 *        </tr>
 *        <tr class="dlcui-general-item">
 *          <td class="dlcui-info-label">Agent</td>
 *          <td class="dlcui-info-value">{{card.agent}}</td>
 *        </tr>
 *        <tr class="dlcui-general-item">
 *          <td class="dlcui-info-label">Registered</td>
 *          <td class="dlcui-info-value">{{card.registered | date : 'medium'}}</td>
 *        </tr>
 *        <tr class="dlcui-general-item">
 *          <td class="dlcui-info-label">Client ID</td>
 *          <td class="dlcui-info-value">{{card.clientID}}</td>
 *        </tr>
 *        <tr class="dlcui-general-item">
 *          <td class="dlcui-info-label">Serial Number</td>
 *          <td class="dlcui-info-value">{{card.serialNumber}}</td>
 *        </tr>
 *      </table>
 *    </dlcui-info-card-item>
 *  </file>
 *  <file name="locationInfoCard.template.html">
 *    <dlcui-info-card-item class="dlcui-location-info-card" header-label="Location" contents-label="{{::card.label}}">
 *      <table class="dlcui-location-items">
 *        <tr class="dlcui-location-item">
 *          <td class="dlcui-info-label">Contact</td>
 *          <td class="dlcui-info-value">{{card.contact}}</td>
 *        </tr>
 *        <tr class="dlcui-location-item">
 *          <td class="dlcui-info-label">Time Zone</td>
 *          <td class="dlcui-info-value">{{card.timeZone}}</td>
 *        </tr>
 *        <tr class="dlcui-location-item">
 *          <td class="dlcui-info-label">Custom Data</td>
 *          <td class="dlcui-info-value">
 *            <div ng-repeat="location in card.customLocationData track by $index">{{location}}</div>
 *          </td>
 *        </tr>
 *      </table>
 *    </dlcui-info-card-item>
 *  </file>
 *  <file name="networkInfoCard.template.html">
 *    <dlcui-info-card-item class="dlcui-network-info-card"
 *                        header-label="Network"
 *                        action-label="View All"
 *                        on-action-click="$container.viewAllClicked(card)">
 *      <table class="dlcui-network-items">
 *        <tr class="dlcui-network-item">
 *          <td class="dlcui-info-label">IP Address</td>
 *          <td class="dlcui-info-value">{{card.ipAddress}}</td>
 *        </tr>
 *        <tr class="dlcui-network-item">
 *          <td class="dlcui-info-label">Subnet</td>
 *          <td class="dlcui-info-value">{{card.subnet}}</td>
 *        </tr>
 *        <tr class="dlcui-network-item">
 *          <td class="dlcui-info-label">GateWay</td>
 *          <td class="dlcui-info-value">{{card.gateway}}</td>
 *        </tr>
 *        <tr class="dlcui-network-item">
 *          <td class="dlcui-info-label">MAC</td>
 *          <td class="dlcui-info-value">{{card.mac}}</td>
 *        </tr>
 *        <tr class="dlcui-network-item">
 *          <td class="dlcui-info-label">Ethernet, 100 Mbps</td>
 *          <td class="dlcui-info-value">{{card.ethernet}}</td>
 *        </tr>
 *        <tr class="dlcui-network-item">
 *          <td class="dlcui-info-label">Subnet Mask</td>
 *          <td class="dlcui-info-value">{{card.subnetMask}}</td>
 *        </tr>
 *        <tr class="dlcui-network-item">
 *          <td class="dlcui-info-label">Domain</td>
 *          <td class="dlcui-info-value">{{card.domain}}</td>
 *        </tr>
 *      </table>
 *    </dlcui-info-card-item>
 *  </file>
 *  <file name="contentsInfoCard.css">
 *    .dlcui-example-container .dlcui-info-card-item .dlcui-info-label {
 *      color: #222222;
 *      font-size: 14px;
 *      font-weight: bold;
 *      padding: 5px 30px 5px 0;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *
 *    .dlcui-example-container .dlcui-info-card-item .dlcui-info-value {
 *      color: #888888;
 *      font-size: 14px;
 *      font-weight: normal;
 *      padding: 5px 0 5px 5px;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.message = 'Resize the browser window to see how the layout changes dynamically.';
 *
 *        $scope.viewAllClicked = function (card) {
 *          alert('User clicked on info card id: ' + card.id);
 *        };
 *
 *        $scope.options = {
 *          height: '100%',
 *          width: '100%',
 *          data: [
 *            {
 *              id: 0,
 *              templateUrl: 'generalInfoCard.template.html',
 *              label: 'Dell Wyse Z90D',
 *              lastCheckin: new Date(),
 *              system: 'Windows Embedded 8',
 *              osImage: '9.030846 15GB',
 *              agent: '6.3.1.0',
 *              registered: new Date(),
 *              clientID: 4215,
 *              serialNumber: '9UDDM500020'
 *            },
 *            {
 *              id: 1,
 *              templateUrl: 'locationInfoCard.template.html',
 *              label: 'VM Network',
 *              contact: 'Surjit',
 *              timeZone: 'UTC -08:00 PST',
 *              customLocationData: [
 *                'Custom Data 1',
 *                'Custom Data 2',
 *                'Custom Data 4'
 *              ]
 *            },
 *            {
 *              id: 2,
 *              templateUrl: 'networkInfoCard.template.html',
 *              ipAddress: '10.200.40.20',
 *              subnet: '10.200.235.255',
 *              gateway: '10.200.235.1',
 *              mac: '00:80:64:SE:8D:23',
 *              ethernet: 'Realtek PCIe GBE Family Controller',
 *              subnetMask: '255.255.255.0',
 *              domain: 'wyselab.com'
 *            },
 *            {
 *              id: 3,
 *              templateUrl: 'locationInfoCard.template.html',
 *              label: 'VM Network Backup',
 *              contact: 'Adam',
 *              timeZone: 'UTC -05:00 EST',
 *              customLocationData: [
 *                'Custom Data 1'
 *              ]
 *            }
 *          ]
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: auto;
 *      background: #cecece;
 *    }
 *  </file>
 * </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiInfoCardContainer', ['dlcuiBaseTemplatePath', 'DLCUI_FLEXBOX_LAYOUT', 'DLCUI_FLEXBOX_ALIGN', 'DLCUI_FLEXBOX_JUSTIFY', function (dlcuiBaseTemplatePath,
                                               DLCUI_FLEXBOX_LAYOUT,
                                               DLCUI_FLEXBOX_ALIGN,
                                               DLCUI_FLEXBOX_JUSTIFY) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        source: '&',
        options: '='
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/infoCardContainer/dlcuiInfoCardContainer.directive.html'].join(''),
      transclude: true,
      link: function (scope) {
        // Verify the options.
        dlcui.assertObject(scope.options, 'Options must be defined as it is used only once.');

        if (dlcui.isStringWithLength(scope.options.width) && scope.options.width.toLowerCase() === 'auto') {
          scope.options.width = '100%';
        }

        /**
         * The style used to decorate the main info card container. The defaults
         * are defined in CSS so developer can use CSS or these options.
         * @type {!Object}
         */
        scope.style = {
          height: scope.options.height,
          width: scope.options.width
        };

        /**
         * Defines the parent container of this component
         */
        scope.$container = scope.$parent;

        /**
         * The options for the card container directive used internal to this directive.
         * @type {!Object}
         */
        scope.innerOptions = {
          data: scope.options.data,
          layout: DLCUI_FLEXBOX_LAYOUT.grid,
          align: DLCUI_FLEXBOX_ALIGN.stretch,
          justify: DLCUI_FLEXBOX_JUSTIFY.flexStart,
          disableCardDecoration: true,
          enableLazyRendering: false,
          containerScope: scope.$container,
          templateUrl: scope.options.templateUrl,
          emptyTemplateUrl: scope.options.emptyTemplateUrl
        };
      }
    };
  }]);
;/**
 * @ngdoc directive
 * @name infoCardItem
 * @module dlcui
 * @src directives/tabular/infoCardItem/dlcuiInfoCardItem.directive.js
 * @controlType actionable
 * @restrict E
 *
 * @param {String} headerLabel The label to display on the top left corner of the card.
 * @param {String=} contentsLabel The optional content label that is displayed just above the main card contents and
 * below the header label of the card.
 * @param {String} templateUrl The template url that is used within the contents area to inject the user defined
 * data.
 * @param {String=} actionLabel The optional label for the single allowed action that is displayed on the top right of
 * the card. This action can execute any user defined code.
 * @param {Function=} onActionClick The callback funcation that is executed when the action button is selected and
 * is required only if the action label is provided.
 *
 * @description
 * Element based directive that is used to wrap the contents of an info card and is only to be used with the main
 * dlcuiInfoCardContainer component.
 *
 * @example
 * <h3>Card Container Component Using Transclusion</h3>
 *
 * <example name="cardContainerBasicTransclusion">
 *  <file name="index.html">
 *    <div>
 *      <b ng-bind="message"></b>
 *    </div>
 *    <br>
 *    <dlcui-info-card-container options="options">
 *      <dlcui-info-card-item class="dlcui-general-info-card" header-label="General" contents-label="Dell Wyse Z90D">
 *          <table class="dlcui-general-items">
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Last check-in</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.lastCheckin | date : 'medium'}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">System</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.system}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">OS Image</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.osImage}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Agent</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.agent}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Registered</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.registered | date : 'medium'}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Client ID</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.clientID}}</td>
 *          </tr>
 *          <tr class="dlcui-general-item">
 *            <td class="dlcui-info-label">Serial Number</td>
 *            <td class="dlcui-info-value">{{model.generalInfo.serialNumber}}</td>
 *          </tr>
 *        </table>
 *      </dlcui-info-card-item>
 *      <dlcui-info-card-item class="dlcui-location-info-card" header-label="Location" contents-label="VM Network">
 *        <table class="dlcui-location-items">
 *          <tr class="dlcui-location-item">
 *            <td class="dlcui-info-label">Contact</td>
 *            <td class="dlcui-info-value">{{model.locationInfo.contact}}</td>
 *          </tr>
 *          <tr class="dlcui-location-item">
 *            <td class="dlcui-info-label">Time Zone</td>
 *            <td class="dlcui-info-value">{{model.locationInfo.timeZone}}</td>
 *          </tr>
 *          <tr class="dlcui-location-item">
 *            <td class="dlcui-info-label">Custom Data</td>
 *            <td class="dlcui-info-value">
 *              <div ng-repeat="location in model.locationInfo.customLocationData track by $index">{{location}}</div>
 *            </td>
 *          </tr>
 *        </table>
 *      </dlcui-info-card-item>
 *      <dlcui-info-card-item class="dlcui-network-info-card"
 *                          header-label="Network"
 *                          action-label="View All"
 *                          on-action-click="viewAllClicked(card)">
 *       <table class="dlcui-network-items">
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">IP Address</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.ipAddress}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">Subnet</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.subnet}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">GateWay</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.gateway}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">MAC</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.mac}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">Ethernet, 100 Mbps</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.ethernet}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">Subnet Mask</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.subnetMask}}</td>
 *          </tr>
 *          <tr class="dlcui-network-item">
 *            <td class="dlcui-info-label">Domain</td>
 *            <td class="dlcui-info-value">{{model.networkInfo.domain}}</td>
 *          </tr>
 *        </table>
 *      </dlcui-info-card-item>
 *    </dlcui-info-card-container>
 *    <br>
 *    <br><br>
 *  </file>
 *  <file name="generalInfoCard.css">
 *    .dlcui-general-info-card .dlcui-general-items .dlcui-general-item .dlcui-info-label {
 *      color: #222222;
 *      font-size: 14px;
 *      font-weight: bold;
 *      padding: 5px 30px 5px 0;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *
 *    .dlcui-general-info-card .dlcui-general-items .dlcui-general-item .dlcui-info-value {
 *      color: #888888;
 *      font-size: 14px;
 *      font-weight: normal;
 *      padding: 5px 0 5px 5px;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *  </file>
 *  <file name="locationInfoCard.css">
 *    .dlcui-location-info-card .dlcui-location-items .dlcui-location-item .dlcui-info-label {
 *      color: #222222;
 *      font-size: 14px;
 *      font-weight: bold;
 *      padding: 5px 30px 5px 0;
 *      vertical-align: top;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *
 *    .dlcui-location-info-card .dlcui-location-items .dlcui-location-item .dlcui-info-value {
 *      color: #888888;
 *      font-size: 14px;
 *      font-weight: normal;
 *      padding: 5px 0 5px 5px;
 *      vertical-align: top;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *  </file>
 *  <file name="networkInfoCard.css">
 *    .dlcui-network-info-card .dlcui-network-items .dlcui-network-item .dlcui-info-label {
 *      color: #222222;
 *      font-size: 14px;
 *      font-weight: bold;
 *      padding: 5px 30px 5px 0;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *
 *    .dlcui-network-info-card .dlcui-network-items .dlcui-network-item .dlcui-info-value {
 *      color: #888888;
 *      font-size: 14px;
 *      font-weight: normal;
 *      padding: 5px 0 5px 5px;
 *      text-align: left;
 *      vertical-align: top;
 *    }
 *  </file>
 *  <file name="app.js">
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope) {
 *
 *        $scope.viewAllClicked = function (card) {
 *          alert('User clicked on info card');
 *        };
 *
 *        $scope.model = {
 *          generalInfo: {
 *            lastCheckin: new Date(),
 *            system: 'Windows Embedded 8',
 *            osImage: '9.030846 15GB',
 *            agent: '6.3.1.0',
 *            registered: new Date(),
 *            clientID: 4215,
 *            serialNumber: '9UDDM500020'
 *          },
 *          locationInfo: {
 *              contact: 'Surjit',
 *              timeZone: 'UTC -08:00 PST',
 *              customLocationData: [
 *                'Custom Data 1',
 *                'Custom Data 2',
 *                'Custom Data 4'
 *              ]
 *            },
 *          networkInfo: {
 *              ipAddess: '10.200.40.20',
 *              subnet: '10.200.235.255',
 *              gateway: '10.200.235.1',
 *              mac: '00:80:64:SE:8D:23',
 *              ethernet: 'Realtek PCIe GBE Family Controller',
 *              subnetMask: '255.255.255.0',
 *              domain: 'wyselab.com'
 *            }
 *        };
 *
 *        $scope.options = {
 *          height: '800px',
 *          width: '100%'
 *        };
 *
 *      });
 *  </file>
 *  <file name="styles.css">
 *    body {
 *      height: 1000px;
 *      background: #cecece;
 *    }
 *  </file>
 * </example>
 *
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiInfoCardItem', ['dlcuiBaseTemplatePath', function (dlcuiBaseTemplatePath) {
    return {
      restrict: 'E',
      replace: true,
      scope: {
        headerLabel: '@',
        contentsLabel: '@',
        templateUrl: '@',
        actionLabel: '@',
        onActionClick: '&'
      },
      templateUrl: [dlcuiBaseTemplatePath, 'directives/tabular/infoCardContainer/dlcuiInfoCardItem.directive.html'].join(''),
      transclude: true,
      link: function (scope, element) {
        if (element.parent().is('.dlcui-card-item-contents')) {
          // TODO-sscott: I need to validate the performance on this for large data sets...
          element.removeClass('dlcui-card-item');
        }

        /**
         * Called when the user clicks on the View All button
          * @param {!Event} event The associated click event.
         */
        scope.actionClicked = function(event) {
          scope.onActionClick({
            $event: event
          });
        };
      }
    };
  }]);
;/* eslint max-statements:0 */
/* eslint max-nested-callbacks:0 */
/* eslint no-nested-ternary:0 */
/**
 * @ngdoc directive
 * @name table
 * @module dlcui
 * @src src/directives/core/table/dlcuiTable.directive.js
 * @controlType tabular
 * @restrict E
 *
 * @param {model}
 * ng-model represents the table's data. The data is a simple javascript array.
 * @param {array} columns represents an array of columns.
 * ```javascript
 *  [{
 *    align: <string>     //  Column alignment. Possible values: 'left','center','right'; default is 'left'.
 *    label: <string>     //  Column label; default is empty string.
 *    field: <string>     //  Data object property name; * Required
 *    fixed: <boolean>    //  Fixed field indicator. This field will always show when columns are collapsed.
 *                        //  default is false.
 *    order: <number>     //  Number value indicating the column order. Default is 0
 *    sortable: <boolean> //  Allows the column to be sorted. default is false.
 *    hide: <boolean>     //  Hides/Shows column. default is false.
 *    template: <string>  //  Column template. This field supports custom HTML templates for
 *                        //  a given data type. default is empty string.
 *    type: <string>      //  String representing how the column's data is to be interpreted. Possible
 *                        //  values:
 *                        //
 *                        //    'string'
 *                        //    'int'
 *                        //    'integer'
 *                        //    'date'
 *                        //    'datetime'
 *                        //    'time'
 *                        //    'checkbox'
 *                        //    'float'
 *                        //    'boolean'
 *                        //
 *                        //    default is 'string'
 *                        //
 *    width: <number>     //  Column width. A developer can set this to a specific
 *                        //  interger value (i.e. width: '10px' or width: 10). default is flex-grow: 1.
 * },
 * {
 *  ...
 * }]
 * ```
 * @param {object}
 * options represent a set of options for the table.
 * ```javascript
 * {
 *    viewType: <DLCUI.Constant.ViewType>   // Constant (DLCUI.Constant.ViewType) to switching back and forth
 *                                        // between Table/Card. default is DLCUI.Constant.ViewType.Table.
 *                                        //
 *    type: <DLCUI.Constant.TableType>       // Constant (DLCUI.Constant.TableType).
 *                                        //
 *                                        //  Possible values are:
 *                                        //
 *                                        //    DLCUI.Constant.TableType.None
 *                                        //    DLCUI.Constant.TableType.Single
 *                                        //    DLCUI.Constant.TableType.MultiSelect
 *                                        //
 *                                        //  default is DLCUI.Constant.TableType.None
 *
 *    column: {
 *      forceCollapse: <boolean>          //  Boolean flag when set to true will force table to collapse all non-fixed
 *                                        //  columns.
 *      autoCollapse: <boolean>           //  Boolean flag when set to true automatically collapse all non-fixed
 *                                        //  columns. default is false.
 *      autoCollapseTimeoutInterval: <int>//  Integer value in milliseconds. Allows developer to set interval rate
 *                                        //  of when the table is testes for possible column reduction.
 *    }
 *
 *    order: {
 *      default: {
 *        column: <string>                //  String indicates the default column(i.e. field) to be sorted.
 *        direction: <DLCUI.Constant.Direction>
 *                                        //  Constant that sets the default sort order (i.e. ascending/descending).
 *                                        //  Possible values are:
 *                                        //
 *                                        //    DLCUI.Constant.Direction.Ascending
 *                                        //    DLCUI.Constant.Direction.Descending
 *                                        //
 *                                        //  default is DLCUI.Constant.Direction.Ascending
 *      },
 *      by: <function>                    //  Function that will be called when a column is sorted. This allows for
 *                                        //  custom sort algorithm.
 *                                        //
 *                                        //  When this function is NOT defined. The table will sort the column based
 *                                        //  on the data type defined in the column definition.
 *                                        //  DLCUI.System.OrderBy
 *                                        //  default is null (i.e. undefined).
 *    }
 *
 *    card: {
 *      template: <string>                //  String representing the name of the card template to display when the
 *                                        //  table's viewType is set to DLCUI.Constant.ViewType.Card.
 *                                        //  columns.
 *      height: <number>                  //  Number indicating the card's height. default is set to 100px.
 *                                        //
 *      width: <number>                   //  Number indicating the card's width. default is set to 200px.
 *                                        //
 *    }
 *
 *    footer: {
 *      visible: <boolean>                //  Boolean indicating if the footer is shown/hidden.
 *    }
 *
 *    pagination: {
 *      pageSize: <number>                //  Number indicating the pageSize for manual/lazy-loading.  default is 10.
 *      visible: <boolean>                //  Boolean indicating if the pagination is shown/hidden.
 *                                        //
 *                                        //  NOTE: When the visible property is set to false. Lazy-loading is enabled.
 *                                        //        Conversley, when it's set to true. Lazy-loading is disabled.
 *                                        //
 *                                        //  default is true where by lazy-loading is disabled.
 *                                        //
 *    }
 *
 *    height: <string/number>             // String/Number indicating the table's overall height.
 *    width: <string/number>              // String/Number indicating the table's overall width.
 *    'max-height': <string/number>       // String indicating the table's overall max-height.
 *                                        //
 *                                        //  NOTE: Currently, in order for lazy-loading to calculate scroll height
 *                                        //        correctly. This value must be defined when pagination.visible is
 *                                        //        set to false.
 *                                        //
 *                                        //  default is set to 500px.
 * }
 * ```
 * @param {boolean=}
 * disabled boolean representing the state of the directive (i.e. enabled/disabled).
 *
 *  @example
 *  <h3>Simple Table</h3>
 *  <example name='SimpleTable'>
 *  <file name='index.html'>
 *    <div class="container-fluid">
 *      <div class="global-settings">
 *        <h2>Options</h2>
 *        <p><label class="label">Enabled:<input type="checkbox" ng-model="model.enabled"></label></p>
 *      </div>
 *      <div class="component-container">
 *        <div>
 *          <h2>{{model.component}}</h2>
 *          <div class="drop-down-list">
 *              <p>selected item: {{model.options.viewType}}</p>
 *                <select ng-model="model.options.viewType" ng-options="item.id as item.name for item in model.items">
 *                </select>
 *          </div>
 *          <dlcui-table
 *            columns="model.columns"
 *            options="model.options"
 *            on-callback="model.onCallback(item)"
 *            on-load="model.onLoad(index, column, page)"
 *            on-all-checked="model.onAll(checked)"
 *            on-active="model.onActive(row)"
 *            on-check="model.onCheck(row)"
 *            on-delete="model.onDelete(row)"
 *            ng-disabled="model.enabled === false"></dlcui-table>
 *        </div>
 *      </div>
 *    </div>
 *  </file>
 *  <file name='app.js'>
 *    angular.module('app', ['dlcui'])
 *      .controller('AppCtrl', function ($scope, $q, $timeout, $filter) {
 *        //
 *        // Create Data Simulator
 *        //
 *        var simulator = new DLCUI.Data.Simulator({
 *           type: DLCUI.Constant.ObjectType.Raw
 *        });
 *        //
 *        // Create a Standard Model
 *        //
 *        $scope.model = new DLCUI.Demo.Table({
 *          component: 'Simple Example',
 *          items: [
 *            {
 *              id: DLCUI.Constant.ViewType.Table,
 *              name: 'Table'
 *            },
 *            {
 *              id: DLCUI.Constant.ViewType.Card,
 *              name: 'Card'
 *            }
 *          ],
 *          options: {
 *            viewType: DLCUI.Constant.ViewType.Table,
 *            type: DLCUI.Constant.TableType.MultiSelect,
 *            card: {
 *              template: 'cardItem.template.html',
 *              height: 'auto',
 *              width: 'auto'
 *            },
 *            order: {
 *              default: {
 *                column: 'id',
 *                direction: DLCUI.Constant.Direction.Descending
 *              },
 *              by: null
 *              //
 *              //  Example: Sort callback function
 *              //
 *              //  function(column, data) {
 *              //    console.log('field', '\'' + column.field + '\'');
 *              //    console.log('data', JSON.stringify(data));
*               //
 *              //    switch(column.field.toLowerCase()) {
 *              //      case 'name':
 *              //        return (data.name.substr(0, 3));
 *              //        break;
 *              //      case 'age':
 *              //        return (parseFloat(data.age));
 *              //      break;
 *              //    }
 *              //  }
 *            },
 *            pagination: {
 *              pageSize: 5,
 *              visible: true
 *            }
 *          },
 *          columns: [
 *          {
 *            field: 'id',
 *            label: 'Id',
 *            order: 0,
 *            sortable: true,
 *            template: "{{ data | number  }}",
 *            type: 'int',
 *            width: '65px'
 *         },
 *         {
 *            type: 'Icon',
 *            label: '',
 *            field: 'statusId',
 *            order: 1,
 *            container: $scope,
 *            template: "<dlcui-icon icon='{{ $container.model.onCallback(data) }}' size='10px'></dlcui-icon>"
 *         },
 *         {
 *            field: 'name',
 *            fixed: true,
 *            label: 'Name',
 *            order: 1,
 *            sortable: true,
 *            container: $scope,
 *            templateUrl: 'column.template.html',
 *            width: '150px'
 *         },
 *         {
 *            field: 'address',
 *            label: 'Address',
 *            order: 2,
 *            width: '200px'
 *         },
 *         {
 *            field: 'age',
 *            label: 'Age',
 *            order: 3,
 *            sortable: true,
 *            template: "{{ data | number:3 }}",
 *            type: 'int',
 *            width: '75px'
 *         },
 *         {
 *            field: 'balance',
 *            label: 'Balance',
 *            order: 4,
 *            template: "{{ data | currency }}",
 *            width: '75px'
 *         },
 *         {
 *            field: 'zipcode',
 *            label: 'Zipcode',
 *            order: 5,
 *            width: '75px'
 *         }
 *          ],
 *          data: [],
 *          onLoad: function (index, column, page) {
 *            var deferred = $q.defer();
 *
 *            $timeout(function () {
 *              deferred.resolve(simulator.data(index || 0, 10));
 *            }, 50);
 *
 *            return deferred.promise;
 *          },
 *          onCallback: function (data) {
 *            if (dlcui.isDefined(data)) {
 *              switch (data) {
 *                case 1:
 *                  return '#ic_status_devices_healthy';
 *                  break;
 *                case 2:
 *                  return '#ic_status_devices_offline';
 *                  break;
 *                case 3:
 *                  return '#ic_status_updates_completed';
 *                  break;
 *                case 4:
 *                  return '#ic_status_updates_progress';
 *                  break;
 *                default:
 *                  return '#ic_critical';
 *                  break;
 *              }
 *            }
 *          },
 *          onAll: function (row) {
 *            console.log('onAll(): ', row);
 *          },
 *          onCheck: function (row) {
 *            console.log('onCheck(): ', row);
 *          },
 *          onActive: function (row) {
 *            console.log('onActive(): ', row);
 *          }
 *        });
 *
 *        $scope.capitalize = function(item) {
 *          return ($filter('uppercase')(item));
*         };
 *      });
 *  </file>
 *  <file name="cardItem.template.html">
 *   <div class="card-item">
 *     <dlcui-icon type="svg" icon="#ic_user" size="30px"></dlcui-icon>
 *     <div class="card-detail">
 *        <h3>
 *          <div ng-bind="card.data.name"></div>
 *        </h3>
 *        <div class="card-group">
 *          <div class="card-label">Balance:&nbsp;</div>
 *          <div class="card-control">{{ card.data.balance | currency }}</div>
 *        </div>
 *        <div class="card-group">
 *          <div class="card-label">Address:&nbsp;</div>
 *          <div class="card-control" ng-bind="card.data.address"></div>
 *        </div>
 *     </div>
 *   </div>
 *  </file>
 *  <file name="column.template.html">
 *   <b>{{ $container.capitalize(data)  }}</b>
 *  </file>
 *  <file name='styles.css'>
 *
 *    body, html {
 *      height: 1200px;
 *      font-size: 12px;
 *      font-weight: normal;
 *      overflow-y: auto;
 *      margin: 25px; }
 *
 *    .container-fluid {
 *    background-color: transparent; }
 *    .container-fluid .global-settings {
 *      border-radius: 5px;
 *      border: 1px solid #ededed;
 *      min-height: 75px;
 *      padding: 10px;
 *      text-align: left;
 *      margin-bottom: 10px;
 *      width: 90%; }
 *    .container-fluid .global-settings h2 {
 *      font-weight: 200;
 *      text-transform: uppercase;
 *      border-bottom: 2px double #ededed;
 *      line-height: 30px; }
 *    .container-fluid .component-container {
 *      border-radius: 5px;
 *      border: 1px solid #6b6b6b;
 *      min-height: 400px;
 *      padding: 10px;
 *      text-align: left;
 *      width: 90%; }
 *    .container-fluid .component-container label {
 *      margin-bottom: 10px;
 *      display: inline-block; }
 *    .container-fluid .component-container h2 {
 *      font-weight: 200;
 *      text-transform: uppercase;
 *      border-bottom: 2px double #ededed;
 *      line-height: 30px; }
 *    .container-fluid .component-container .drop-down-list {
 *      margin-bottom: 10px; }
 *
 *    .container-fluid .card-item {
 *      padding: 5px; }
 *    .container-fluid .card-item .card-detail .card-group {
 *      padding: 3px;
 *      margin-bottom: 5px; }
 *    .container-fluid .card-item .card-detail .card-group .card-label {
 *      font-size: 10px;
 *      margin-right: 10px;
 *      text-align: left; }
 *    .container-fluid .card-item .card-detail .card-group .card-control {
 *      text-align: left; }
 *    .container-fluid .card-item .card-detail .card-group:after {
 *      clear: both; }
 *
 *  </file>
 *  </example>
 */
angular.module('dell.ngclarity.directives')
  .directive('dlcuiTable',
    ['dlcuiBaseTemplatePath',
      '$timeout',
      '$templateCache',
      '$compile',
      '$filter',
      function (dlcuiBaseTemplatePath,
                $timeout,
                $templateCache,
                $compile,
                $filter) {
        return {
          restrict: 'E',
          replace: true,
          scope: {
            options: '=',
            columns: '=',
            onLoad: '&onLoad',
            onCallback: '&onCallback',
            onActive: '&onActive',
            onCheck: '&onCheck',
            onAllChecked: '&onAllChecked',
            disabled: '=ngDisabled'
          },
          link: function (scope, element) {
            //
            // Load the template into this directive/element
            //
            angular.element(element).html($templateCache.get([dlcuiBaseTemplatePath,
              'dlcuiTable.directive.template.html'].join('')));
            //
            // Compile the contents
            //
            $compile(angular.element(element).contents())(scope);
            //
            // After compiling this directive
            //
            $timeout(function () {
              var table = angular.element(element),
                  footerContainer = angular.element(element).find('.dlcui-table-footer');
              //
              // Set Table Height/Width
              //
              if (dlcui.isDefined(table)) {
                $(table).css('height', scope.options.height);
                $(table).css('width', scope.options.width);
              }
              //
              // FOOTER
              //
              if (dlcui.isDefined(footerContainer)) {
                //
                // Footer Section Hide/Show
                //
                if (dlcui.isTrue(scope.options.footer.visible)) {
                  footerContainer.show();
                } else {
                  footerContainer.hide();
                }
              }
              //
              // TABLE
              //
              if (scope.options.viewType === DLCUI.Constant.ViewType.Table) {
                //
                // Hide the Card Container
                //
                angular.element(element).find('.dlcui-table-card-container').hide();
                var tableBody = angular.element(element).find('.dlcui-table-body'),
                    tableHeader = angular.element(element).find('.dlcui-table-header');
                //
                // Header
                //
                if (dlcui.isDefined(tableHeader)) {
                  //
                  // Set Table Header Width
                  //
                  $(tableHeader).css('width', scope.options.width);
                }
                //
                // Body
                //
                if (dlcui.isDefined(tableBody)) {
                  //
                  // Set Body Height
                  //
                  $(tableBody).css('height', scope.options.height);
                  //
                  // Show the Table Body
                  //
                  tableBody.show();
                }
              }
              //
              // CARDS
              //
              if (scope.options.viewType === DLCUI.Constant.ViewType.Card) {
                //
                // Hide the Card Container
                //
                angular.element(element).find('.dlcui-table-header').hide();
                angular.element(element).find('.dlcui-table-body').hide();
                var cardContainer = angular.element(element).find('.dlcui-table-card-container');

                if (dlcui.isDefined(cardContainer)) {
                  //
                  // Show the Card Container
                  //
                  cardContainer.show();
                }
              }
            }, 5);
          },
          controller: ['$scope', '$element', function ($scope, $element) {
            //
            // Set Types
            //
            $scope.TableType = DLCUI.Constant.TableType;
            //
            // Set Default Options
            //
            $scope.options = $.extend(true, {}, {
              viewType: DLCUI.Constant.ViewType.Table,
              type: DLCUI.Constant.TableType.None,
              column: {
                forceCollapse: false,
                autoCollapse: false,
                autoCollapseTimeoutInterval: 250
              },
              order: {
                default: {
                  column: 'id',
                  direction: DLCUI.Constant.Direction.Ascending
                },
                by: null
              },
              card: {
                template: '',
                height: 'auto',
                width: 'auto',
                canCheck: true,
                canDelete: false,
                canActivate: true
              },
              footer: {
                label: '',
                visible: true
              },
              pagination: {
                pageSize: 10,
                visible: true,
                lazyloadingEnabled: function () {
                  return !this.visible;
                },
                loading: false
              },
              width: '100%',
              height: '100%'
            }, $scope.options);
            //
            // Initialize view model(s)
            //
            $scope.thead = {
              checked: false
            };
            $scope.footer = {
              label: $scope.options.footer.label
            };
            $scope.table = new DLCUI.UI.Table($scope.columns, $scope.options.type, $scope.options.pagination.pageSize);
            $scope.orderBy = new DLCUI.System.OrderBy($scope.options.order.by, $scope.options.order.default.direction,
              $scope.table.getOrderByColumn($scope.options.order.default.column));
            //
            // Initialize conditional view model(s)
            //
            if ($scope.options.pagination.visible) {
              $scope.pagination = new DLCUI.Model.Html.Pagination({
                id: 1,
                enabled: $scope.options.pagination.enabled
              });
            }
            //
            // $watch: options.viewType
            //
            $scope.$watch('options.viewType', function (viewType) {
              if (dlcui.isDefined(viewType)) {
                //
                // Switch on ViewType
                //
                switch (viewType) {
                  case DLCUI.Constant.ViewType.Card:
                    //
                    // Show the drop Down List
                    //
                    $scope.$broadcast('msgCardTemplateContainerSync', true);
                    break;
                  case DLCUI.Constant.ViewType.Table:
                    //
                    // Show the drop Down List
                    //
                    $scope.$broadcast('msgCardTemplateContainerSync', false);
                    break;
                }
              }
            });
            //
            // $watch: collapse
            //
            $scope.$watch('options.column.forceCollapse', function (value) {
              if (dlcui.isBoolean(value)) {
                $timeout(function () {
                  _.each($scope.table.columns, function (col) {
                    if (!col.fixed) {
                      col.style.display = (value) ? 'none' : 'block';
                    }
                  });
                }, 2);
              }
            });
            //
            // Watch: disabled
            //
            $scope.$watch('disabled', function (value) {
              $timeout(function () {
                if (dlcui.isDefined(value)) {
                  angular.element($element).removeClass('disabled');
                  if (dlcui.isTrue(value)) {
                    angular.element($element).addClass('disabled');
                  }
                  _.each($scope.table.dataSource.data, function (row) {
                    row.enabled = !value;
                  });
                }
              }, 2);
            });
            //
            // If we are performing manual pagination
            //
            if ($scope.options.pagination.visible) {
              //
              // $watch: pagination.id
              //
              $scope.$watch('pagination.id', function (value) {
                if (dlcui.isDefined(value)) {
                  $timeout(function () {
                    $scope.table.dataSource.pageSet.indexId = parseInt(value, 10);
                    if ($scope.table.dataSource.pageSet.count() > 0) {
                      $scope.pagination.start = $scope.table.dataSource.pageSet.activeSet().indices.start;
                      $scope.pagination.end = $scope.table.dataSource.pageSet.activeSet().indices.end;
                    }
                  }, 5);
                }
              });
            } else {
              //
              // Event: onScroll()
              //
              $scope.onScroll = function () {
                var getData = (this.scrollTop + this.offsetHeight + 25) >= this.scrollHeight;
                //
                // If we are not loading the data then continue...
                //
                if (getData && !$scope.options.pagination.loading) {
                  event.preventDefault();
                  //
                  // Indicate we are starting to load the data
                  //
                  $scope.options.pagination.loading = true;
                  $timeout(function () {
                    //
                    // If caller supplied a callback function
                    //
                    if (dlcui.isFunction($scope.onLoad)) {
                      //
                      // Make Async Call to Caller
                      //
                      $scope.onLoad({
                        index: $scope.table.dataSource.data.length,
                        column: $scope.orderBy,
                        page: $scope.table.dataSource.pageSet
                      }).then(function (data) {
                        //
                        // If the caller returned data
                        //
                        if (dlcui.isArrayWithLength(data)) {
                          var records = angular.copy(data);

                          $scope.tbody.getElementById($element).css('height', '100%');
                          //
                          // Display Loading Label
                          //
                          $scope.footer.label = 'Loading N items...'.replace(/N/g, records.length);
                          //
                          // Convert data to DLCUI.UI.Row
                          //
                          for (var nI = 0; nI < records.length; nI++) {
                            records[nI] = new DLCUI.UI.Row($scope.options.card, records[nI], $scope.options.type);
                          }
                          //
                          // Concatenate Rows
                          //
                          $scope.table.dataSource.data = $scope.table.dataSource.data.concat(records);
                          $scope.pagination.start = 0;
                          $scope.pagination.end = $scope.table.dataSource.count();
                          //
                          // Resize Table Content Region
                          //
                          $scope.tbody.getElementById($element).inProgress(function () {
                          });
                          //
                          // Setup Pagination
                          //
                          $timeout(function () {
                            //
                            // Set Footer Label
                            //
                            $scope.footer.label = 'N items loaded'.replace(/N/g, $scope.pagination.end);
                            //
                            // Indicate we are done loading
                            //
                            $scope.options.pagination.loading = false;
                          }, 250);
                        }
                      });
                    }
                  }, 5);
                  return false;
                }
              };
            }
            //
            // Function: recalculatePagination()
            //
            $scope.recalculatePagination = function () {
              //
              // Recalculate Pagination
              //
              if ($scope.options.pagination.visible) {
                $scope.table.dataSource.pageSet.create();
                $scope.pagination.start = $scope.table.dataSource.pageSet.activeSet().indices.start;
                $scope.pagination.end = $scope.table.dataSource.pageSet.activeSet().indices.end;
              } else {
                $scope.pagination.start = 0;
                $scope.pagination.end = $scope.table.dataSource.count();
              }
            };
            //
            // Function: markSortOrderColumn()
            //
            $scope.markSortOrderColumn = function () {
              //
              // Mark the initial sort order column
              //
              angular.element($element)
                .find('.dlcui-table-inner-header')
                .find('.dlcui-table-cell').each(function () {
                  var column = $(this).find(".dlcui-table-cell-header[id='IDD']".replace(/IDD/g,
                    $scope.orderBy.column.uid));
                  if (column) {
                    column.parent().addClass('active');
                  }
                });
            };
            //
            // Function: applyFilter()
            //
            $scope.applyFilter = function () {
              //
              // Order Array of Rows
              //
              if (dlcui.isFunction($scope.options.order.by)) {
                $scope.orderBy.predicate = $scope.onOrderByHook;
              }

              $scope.table.dataSource.data = $filter('orderBy')(
                $scope.table.dataSource.data,
                $scope.orderBy.predicate,
                $scope.orderBy.column.sort.isDescending());
            };
            //
            // Function: onOrderByHook()
            //
            $scope.onOrderByHook = function (item) {
              return ($scope.options.order.by($scope.orderBy.column, item.data));
            };
            //
            // Function: setFooterLabel
            //
            $scope.setFooterLabel = function (selected) {
              if ($scope.options.footer.visible) {
                //
                // Set Footer Text
                //
                $scope.footer.label = 'N of T selected'
                  .replace(/N/g, (dlcui.isNumber(selected) ? selected : $scope.table.getCheckedRowCount()))
                  .replace(/T/g, $scope.table.dataSource.count());
              }
            };
            //
            // Function: click()
            //
            $scope.click = function () {
              return {
                onAll: function () {
                  //
                  // If we are allowed to selection items then...
                  //
                  if ($scope.table.type === DLCUI.Constant.TableType.MultiSelect) {
                    if (dlcui.isObject($scope.table.dataSource)) {
                      //
                      // Get the State of the All Checkbox
                      //
                      var checked = ($scope.thead.checked) ? $scope.table.dataSource.count() : 0;
                      //
                      // Set Footer Text
                      //
                      $scope.setFooterLabel(checked);
                      //
                      // Check/UnCheck All Rows
                      //
                      $scope.table.setCheckedRows($scope.thead.checked);
                      //
                      // markCheckRows
                      //
                      $scope.markCheckedRows($scope.thead.checked);
                      //
                      // Callback to the controller
                      //
                      $timeout(function () {
                        //
                        // Deactivate all rows
                        //
                        $scope.table.setActiveRow(null, false);
                        //
                        // Callback to the controller
                        //
                        if (dlcui.isFunction($scope.onAllChecked)) {
                          $scope.onAllChecked({ checked: $scope.thead.checked });
                        }
                      }, 5);
                    }
                  }
                },
                onHeader: function (column, $event) {
                  //
                  // If the Column is not Disabled & Sortable
                  //
                  if (!$scope.disabled && column.sortable) {
                    var tableHeader = angular.element($element).find('.dlcui-table-inner-header');
                    //
                    // Remove active state from header columns
                    //
                    angular.element(tableHeader).find('.dlcui-table-cell.active').each(function () {
                      $(this).removeClass('active');
                    });
                    //
                    // Set Column As Active
                    //
                    $($event.target).closest('.dlcui-table-cell').addClass('active');
                    //
                    // Set the sport direction
                    //
                    column.sort.direction = (column.field === $scope.orderBy.column.field)
                      ? ((column.sort.direction === DLCUI.Constant.Direction.Ascending)
                      ? DLCUI.Constant.Direction.Descending : DLCUI.Constant.Direction.Ascending)
                      : DLCUI.Constant.Direction.Ascending;
                    //
                    // Set Sort Column
                    //
                    $scope.orderBy.column = column;
                    //
                    // Apply Sort Filter
                    //
                    $scope.applyFilter();
                    //
                    // Set OrderBy Column on Table
                    //
                    $timeout(function () {
                      $scope.table.setOrderByColumn(column);
                    }, 2);
                  }
                },
                onActive: function (row, $index, $event) {
                  var tableCheckbox = $($event.currentTarget).find('input:checkbox:first');
                  //
                  // If the event handler is defined then stop propagation
                  //
                  if (dlcui.isDefined($event)) {
                    $event.stopPropagation();
                  }

                  if (!$scope.disabled) {
                    //
                    // Set the opacity of all checkbox elements to 1
                    //
                    angular.element($element)
                      .find('.dlcui-table-body')
                      .find('.dlcui-table-row').each(function () {
                        var checkbox = $(this).find('input[type="checkbox"]');
                        if (checkbox && $(checkbox).css('opacity') === '0') {
                          $(checkbox).css('opacity', '1');
                        }
                      });

                    if (row.active) {
                      row.active = false;
                    } else {
                      $scope.table.setActiveRow(row);
                    }
                    //
                    // Hide/Show Checkbox
                    //
                    if (row.active) {
                      $(tableCheckbox).css('opacity', '0');
                    } else {
                      $(tableCheckbox).css('opacity', '1');
                    }
                    //
                    // Remove all Checkboxes
                    //
                    $scope.table.setCheckedRows(false);
                    //
                    // Uncheck the All CheckBox
                    //
                    $scope.thead.checked = false;
                    //
                    // Mark Active Row
                    //
                    $scope.markActivateRow(row, $index);
                    //
                    // Set Footer Text
                    //
                    $scope.setFooterLabel();
                    $timeout(function () {
                      if (dlcui.isFunction($scope.onActive)) {
                        $scope.onActive({ row: row });
                      }
                    }, 2);
                  }
                },
                onCheck: function (row, $index, $event) {
                  var index = parseInt($($event.target).closest('.dlcui-table-row').attr('id').replace(/[a-z_A-Z]/g, ''),
                    10);
                  //
                  // If the event handler is defined then stop ppropagation
                  //
                  if (dlcui.isDefined($event)) {
                    $event.stopPropagation();
                  }
                  //
                  // If we are allowed to selection items then...
                  //
                  if (!row.active) {
                    //
                    // Set the opacity of all checkbox elements to 1
                    //
                    angular.element($element)
                      .find('.dlcui-table-body')
                      .find('.dlcui-table-row').each(function () {
                        var checkbox = $(this).find('input[type="checkbox"]');
                        if (checkbox && $(checkbox).css('opacity') === '0') {
                          $(checkbox).css('opacity', '1');
                        }
                      });

                    if ($scope.table.type !== DLCUI.Constant.TableType.None) {
                      //
                      // If we are single select table
                      //
                      if ($scope.table.type === DLCUI.Constant.TableType.Single) {
                        if (row.checked) {
                          $scope.table.setCheckedRow(row);
                        }
                      } else {
                        $scope.thead.checked = ($scope.table.dataSource.count() === $scope.table.getCheckedRowCount());
                      }
                      //
                      // Deactivate all rows
                      //
                      $scope.table.setActiveRow(null, false);
                      //
                      // markCheckRow
                      //
                      $scope.markCheckedRow(row, index);
                      //
                      // Set Footer Text
                      //
                      $scope.setFooterLabel();
                      //
                      // Callback to the controller
                      //
                      $timeout(function () {
                        if (dlcui.isFunction($scope.onCheck)) {
                          $scope.onCheck({ row: row });
                        }
                      }, 5);
                    }
                  }
                }
              };
            };
            //
            // Function: setSortableHeader()
            //
            $scope.setSortableHeader = function () {
              var tableHeader = angular.element($element).find('.dlcui-table-inner-header');
              //
              // Look through the columns and set the sortable class on the header.
              //
              _.each($scope.table.columns, function (column) {
                if (column.sortable) {
                  angular.element(tableHeader).find('.dlcui-table-cell-header[id="IDD"]'.replace(/IDD/g,
                    column.uid)).addClass('sortable');
                }
              });
            };
            //
            // Function: markCheckedRow()
            //
            $scope.markCheckedRow = function (row, index) {
              var tableBody = angular.element($element).find('.dlcui-table-body'),
                  tableRow = angular.element(tableBody).find('.dlcui-table-row[id=IDD]'.replace(/IDD/g, 'tr_' + index));
              //
              // Remove all 'Active' Rows
              //
              angular.element(tableBody).find('.dlcui-table-inner-row.active').each(function () {
                $(this).removeClass('active');
              });
              //
              // Remove all 'Selected' Rows
              //
              if ($scope.table.type === DLCUI.Constant.TableType.Single) {
                angular.element(tableBody).find('.dlcui-table-row.selected').each(function () {
                  $(this).removeClass('selected');
                });
              }

              if (row.checked) {
                $(tableRow).addClass('selected');
              } else {
                $(tableRow).removeClass('selected');
              }
            };
            //
            // Function: markCheckedRows()
            //
            $scope.markCheckedRows = function (checked) {
              var tableBody = angular.element($element).find('.dlcui-table-body');
              //
              // Remove all 'Active' Rows
              //
              angular.element(tableBody).find('.dlcui-table-inner-row.active').each(function () {
                $(this).removeClass('active');
              });
              //
              // Remove all 'Selected' Rows
              //
              if ($scope.table.type === DLCUI.Constant.TableType.MultiSelect) {
                angular.element(tableBody).find('.dlcui-table-row').each(function () {
                  if (checked) {
                    $(this).addClass('selected');
                  } else {
                    $(this).removeClass('selected');
                  }
                });
              }
            };
            //
            // Function: markActivateRow()
            //
            $scope.markActivateRow = function (row, $index) {
              var tableBody = angular.element($element).find('.dlcui-table-body'),
                  tableRow = angular.element(tableBody).find('.dlcui-table-row[id=IDD]'.replace(/IDD/g, 'tr_' + $index)),
                  tableInnerRow = angular.element(tableRow).find('.dlcui-table-inner-row');

              //
              // Remove all 'Selected' Rows
              //
              angular.element(tableBody).find('.dlcui-table-row.selected').each(function () {
                $(this).removeClass('selected');
              });

              //
              // Remove all 'Active' Rows
              //
              angular.element(tableBody).find('.dlcui-table-inner-row.active').each(function () {
                $(this).removeClass('active');
              });

              if (row.active) {
                $(tableInnerRow).addClass('active');
              }
            };
            //
            // If caller supplied a callback function
            //
            if (dlcui.isFunction($scope.onLoad)) {
              //
              // Make Async Call to Controller
              //
              var synOnLoad = $scope.onLoad({
                index: $scope.table.dataSource.data.length,
                column: $scope.orderBy,
                page: $scope.table.dataSource.pageSet
              });

              if (dlcui.isDefined(synOnLoad)) {
                $timeout(function() {
                  synOnLoad.then(function (items) {
                    if (dlcui.isArray(items)) {
                      var records = angular.copy(items);
                      //
                      // Make Table Visible
                      //
                      $scope.table.visible = false;
                      $scope.footer.label = 'Loading N items...'.replace(/N/g, records.length);
                      $timeout(function () {
                        //
                        // Convert data to Row
                        //
                        for (var nI = 0; nI < records.length; nI++) {
                          records[nI] = new DLCUI.UI.Row($scope.options.card, records[nI], $scope.options.type);
                        }
                        //
                        // Assign the new records
                        //
                        $scope.table.dataSource.data = records;
                        //
                        // Apply Sort Filter
                        //
                        $scope.applyFilter();
                        //
                        // Recalculate Pagination
                        //
                        $scope.recalculatePagination();
                        //
                        // Mark the Sort Column
                        //
                        $scope.markSortOrderColumn();
                        //
                        // Set Sortable Header Classes
                        //
                        $scope.setSortableHeader();
                        //
                        // Set Footer Label
                        //
                        $scope.footer.label = 'N items loaded'.replace(/N/g, records.length);
                        //
                        // Make Table Visible
                        //
                        $scope.table.visible = true;
                      }, 5);
                    }
                  });
                }, 100);
              }
            }
          }]
        };
      }]);

;/**
 * @ngdoc directive
 * @name time
 * @module dlcui.controls
 * @src directives/helper/time/time.js
 * @description The Time directive allows adjusting the hour, minute, and (optionally) second of a time.
 *
 * ***For most use cases, please see the Time Picker, which implements this inside of a tip.***
 *
 * @controlType input
 * @restrict E
 * @param {date} ngModel This accepts a JavaScript `date` object, or `null`/`undefined`, in which case the time will be rounded down to the current hour.
 * @param {boolean=} showSeconds If `'true'`, a toggle to adhust the time by each second will be added. Default false.
 * @param {boolean=} showMeridian If `'false'`, time will be displayed in 24-hour format. Default true.
 * @param {number=} hourIncrement The number of hours to skip when clicking the up/down arrows. Default is 1.
 * @param {number=} minuteIncrement The number of minutes to skip when clicking the up/down arrows. Default is 15.
 * @param {number=} secondIncrement The number of seconds to skip when clicking the up/down arrows. Default is 15.
 *
 * @example
 * <h3>Time picker</h3>
 * <example>
 *   <file name='index.html'>
 *     <dlcui-time ng-model="time"></dlcui-time> {{time | date:'shortTime'}}
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function($scope) {
 *         $scope.time = new Date(2013, 2, 1, 1, 10);
 *       });
 *   </file>
 * </example>
 *
 * @example
 * <h3>Time picker with seconds</h3>
 * <example>
 *   <file name='index.html'>
 *     <dlcui-time ng-model="time" show-seconds="true"></dlcui-time> {{time | date:'mediumTime'}}
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Time picker with seconds and fine-grain control</h3>
 * <example>
 *   <file name='index.html'>
 *     <dlcui-time ng-model="time"
 *               show-seconds="true"
 *               minute-increment="1"
 *               second-increment="1"></dlcui-time>
 *     {{time | date:'mediumTime'}}
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 *
 * @example
 * <h3>Time picker without AM/PM</h3>
 * <example>
 *   <file name='index.html'>
 *     <dlcui-time ng-model="time" show-meridian="false"></dlcui-time> {{time | date:'H:mm'}}
 *   </file>
 *   <file name='app.js'>
 *     angular.module('app', ['dlcui'])
 *       .controller('AppCtrl', function() {});
 *   </file>
 * </example>
 */

angular.module('dell.ngclarity.directives').directive('dlcuiTime', DlcuiTime);


function DlcuiTime($translate, dlcuiBaseTemplatePath) {
  controller.$inject = ['$scope'];
	var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();
  function controller($scope) {
    this.options = {
      hourIncrement: 1,
      minuteIncrement: 15,
      secondIncrement: 15
    };

    // changeHour(1): +1 hour to current time
    // changeHour(-1): -1 hour to current time
    this.changeHour = function (increment) {
      if (!angular.isDate($scope.model)) {
        $scope.model = $scope.lastValidDate;
      }
      $scope.model.setHours($scope.model.getHours() + increment);
      $scope.model = new Date($scope.model);
    };

    // changeMinute(15): +15 minutes to current time
    // changeMinute(15): +15 minutes to current time
    this.changeMinute = function (increment) {
      if (!angular.isDate($scope.model)) {
        $scope.model = $scope.lastValidDate;
      }
      $scope.model.setMinutes($scope.model.getMinutes() + increment);
      $scope.model = new Date($scope.model);
    };

    // changeMinute(15): +15 minutes to current time
    // changeMinute(15): +15 minutes to current time
    this.changeSecond = function (increment) {
      if (!angular.isDate($scope.model)) {
        $scope.model = $scope.lastValidDate;
      }
      $scope.model.setSeconds($scope.model.getSeconds() + increment);
      $scope.model = new Date($scope.model);
    };

    // AM -> PM or PM -> AM
    this.toggleMeridian = function () {
      if (!angular.isDate($scope.model)) {
        $scope.model = $scope.lastValidDate;
      }

      if ($scope.model.getHours() >= 12) {
        $scope.model.setHours($scope.model.getHours() - 12);
        $scope.model = new Date($scope.model);
      } else {
        $scope.model.setHours($scope.model.getHours() + 12);
        $scope.model = new Date($scope.model);
      }
    };

    return this;
  }

  function link(scope, element, attrs, _ref) {
    var _ref2 = _slicedToArray(_ref, 1);

    var timeCtrl = _ref2[0];

    if (attrs.hourIncrement) {
      timeCtrl.options.hourIncrement = parseInt(attrs.hourIncrement, 10);
    }
    if (attrs.minuteIncrement) {
      timeCtrl.options.minuteIncrement = parseInt(attrs.minuteIncrement, 10);
    }
    if (attrs.secondIncrement) {
      timeCtrl.options.secondIncrement = parseInt(attrs.secondIncrement, 10);
    }

    scope.showMeridian = attrs.showMeridian !== 'false'; // default true
    scope.showSeconds = attrs.showSeconds === 'true'; // default false

    scope.lastValidDate = new Date();
    scope.lastValidDate.setMinutes(0, 0, 0);

    scope.$watch('model', function (m) {
      m = m ? new Date(m) : null;
      if (angular.isDate(m)) {
        scope.lastValidDate = m;
      }
      scope.meridian = (m || scope.lastValidDate).getHours() >= 12 ? "PM" : "AM";
    });
  }

  return {
    //templateUrl: baseTemplatePath + 'time.html',
    templateUrl: [dlcuiBaseTemplatePath, 'directives/time/dlcuiTime.directive.html'].join(''),
    restrict: 'E',
    scope: {
      model: '=ngModel'
    },
    require: ['dlcuiTime', '^ngModel'],
    controllerAs: 'timeCtrl',
    controller: controller,
    link: link
  };
}
;angular.module('dell.ngclarity.directives')
  .directive('dlcuiValidators', function () {
    return {
      restrict: 'A',
      require: '?ngModel',
      link: function(scope, element, attrs, ngModelCtrl) {
        if (!ngModelCtrl) {
          return;
        }

        /**
         * Keep track of the original validators
         * @type {!Object|null}
         * @private
         */
        var _originalValidators = null;

        scope.$watch(attrs.dlcuiValidators, function (newValidators) {
          if (dlcui.isObject(newValidators)) {
            if (!_originalValidators) {
              _originalValidators = angular.extend({}, ngModelCtrl.$validators);
            }
            ngModelCtrl.$validators = angular.extend({}, _originalValidators, newValidators || {});
            ngModelCtrl.$validate();
          }
        });
      }
    };
  });

;'use strict';

/**
 * @ngdoc directive
 * @name dell.ngclarity.directives.directive:webFontLoader
 * @description
 * # webFontLoader
 */
angular.module('dell.ngclarity.directives')
  .directive('webFontLoader', ['$rootScope', '$window',
    function ($rootScope, $window) {
    return {
      link: function(scope, element, attrs) {

        function onActive() {
          $rootScope.$broadcast('dell:WebFontLoader.loaded');
        }

        function onInactive() {
          $rootScope.$broadcast('dell:WebFontLoader.error');
        }

        $window.WebFont.load({
          google: {
            families: [attrs.dellWebFontLoader]
          },
          active: onActive,
          inactive: onInactive
        });
      }
    };
  }]);;'use strict';

try {
  angular.module('dell.ngclarity.directives');
} catch (e) {
  angular.module('dell.ngclarity.directives', ['pascalprecht.translate']);
}

angular.module('dell.ngclarity.directives').config(['$translateProvider',
  function ($translateProvider) {
    var translations = {
      'DLCUI_OK': 'Ok',
      'DLCUI_CANCEL': 'Cancel',
      'DLCUI_SELECT_ALL': 'Select all',
      'DLCUI_CLEAR_ALL': 'Clear all',
      'DLCUI_DESELECT_ALL': 'Deselect all',
      'DLCUI_LOADING_NEXT': 'Loading next {{count}}...',
      'DLCUI_EMPTY_RESULTS': 'Empty Results',
      'DLCUI_LOAD_MORE': 'Load more',
      'DLCUI_SELECT_ITEMS_OR_DRAG': 'Drag and drop items here',
      'DLCUI_LOGIN_LANGUAGE': 'Language',
      'DLCUI_LOGIN_STAY_SIGNEDIN': 'Stay Signed In',
      'DLCUI_LOGIN_FORGOT_PASSWORD': 'Forgot Password',
      'DLCUI_LOGIN_SIGN_IN': 'Sign In',
      'DLCUI_LOGIN_SIGNING_IN': 'Signing in...',
      'DLCUI_LOGIN_COPYRIGHT': '� 2016 Dell Inc. ALL RIGHTS RESERVED',
      'DLCUI_LOGIN_USERNAME': 'Username',
      'DLCUI_LOGIN_PASSWORD': 'Password',
      'DLCUI_CALENDAR_PREVIOUS_YEAR': 'Skip to previous year',
      'DLCUI_CALENDAR_PREVIOUS_MONTH': 'Skip to previous month',
      'DLCUI_CALENDAR_NEXT_MONTH': 'Skip to next month',
      'DLCUI_CALENDAR_NEXT_YEAR': 'Skip to next year',
      'DLCUI_CALENDAR_TODAY': 'Today',
      'DLCUI_PIN_MENU': 'Pin menu',
      'DLCUI_UNPIN_MENU': 'Un-Pin Menu',
      'DLCUI_AVAILABLE_APPS': 'Available Apps',
      'DLCUI_APPS': 'Apps',
      'DLCUI_AVAILABLE_ITEMS': 'Available Items',
      'DLCUI_ITEMS': 'Items',
      'DLCUI_ADD_INLINE_ROW': '+ Add',
      'DLCUI_VALIDATING': 'Validating...',
      'DLCUI_VALIDATION_FAILED': 'Validation Failed',
      'DLCUI_UNKNOWN_ERROR': 'An unknown error has occurred.',
      'DLCUI_SELECT_OR_SEARCH_ITEM': 'Select or Search item',
      'DLCUI_SELECT_OR_SEARCH_ITEMS': 'Select or Search items',
      'DLCUI_NO_MATCHES_FOUND': '0 matches found',
      'DLCUI_ADD_CUSTOM_GROUP': 'Add custom group',
      'DLCUI_ADD_GROUP_AS_GROUP': 'Add "{{group}}" as group',
      'DLCUI_LOADING_TEXT': 'Loading, please wait...',
      'DLCUI_DATAGRID_NO_DATA': 'No data entries exist',
      'DLCUI_DATAGRID_SEARCH_PLACEHOLDER': 'Search',
      'DLCUI_ABOUTBOX_CLOSE_BUTTON': 'Close',
      'DLCUI_ABOUTBOX_LICENSES_TITLE': 'Licenses',
      'DLCUI_ABOUTBOX_LICENSE_TH': 'License',
      'DLCUI_ABOUTBOX_LICENSE_NUMBER_TH': 'License Number',
      'DLCUI_ABOUTBOX_TYPE_TH': 'Type',
      'DLCUI_ABOUTBOX_EXPIRES_TH': 'Expires',
      'DLCUI_ABOUTBOX_SEATS_LICENSED_TH': 'Seats Licensed',
      'DLCUI_ABOUTBOX_SEATS_USED_TH': 'Seats Used',
      'DLCUI_ABOUTBOX_CONTACT_TITLE': 'Contact Us',
      'DLCUI_ABOUTBOX_CONTACT_TEXT': 'Dell listens to customers worldwide and delivers innovative technology, business solutions, and services they trust and value.<br>We look forward to hearing from you.',
      'DLCUI_ABOUTBOX_TECHNICAL_LABEL': 'Technical Support',
      'DLCUI_ABOUTBOX_TECHNICAL_URL': 'https://support.software.dell.com/essentials/contact-technical-support',
      'DLCUI_ABOUTBOX_GENERAL_LABEL': 'General Inquiries',
      'DLCUI_ABOUTBOX_GENERAL_URL': 'http://software.dell.com/company/contact-us.aspx',
      'DLCUI_ABOUTBOX_PHONE_FORMATTED': '1 (949) 754-8000',
      'DLCUI_ABOUTBOX_PHONE_PLAIN': '19497548000',
      'DLCUI_ABOUTBOX_APPLICATION_NAME': 'Application Name in Language File',
      'DLCUI_ABOUTBOX_VERSION': 'Version 2.0',
      'DLCUI_ABOUTBOX_PATENT_STRING': 'Patent String from Language File',
      'DLCUI_ABOUTBOX_DELL_TRADEMARK': 'Dell and the Dell logo are trademarks of Dell Inc. Other trademarks and trade names may be used in this document to refer to either the entities claiming the marks and names or their products. Dell disclaims any proprietary interest in the marks and names of others.',
      'DLCUI_WIZARD_BACK': 'Back',
      'DLCUI_WIZARD_NEXT': 'Next',
      'DLCUI_WIZARD_SAVE_AND_NEXT': 'Save & Next',
      'DLCUI_WIZARD_FINISH': 'Finish',
      'DLCUI_WIZARD_CANCEL': 'Cancel',
      'DLCUI_WIZARD_STEP': 'Step {{current}} of {{total}}',
      'DLCUI_STARTSCREEN_DOMAIN_LABEL': 'Domain',
      'DLCUI_STARTSCREEN_USERNAME_LABEL': 'Username',
      'DLCUI_STARTSCREEN_PASSWORD_LABEL': 'Password',
      'DLCUI_DELL_COPYRIGHT': '© 2016 Dell Inc. ALL RIGHTS RESERVED',
      'DLCUI_STARTSCREEN_SIGN_IN_LABEL': 'Log In',
      'DLCUI_STARTSCREEN_REMEMBER_ME': 'Remember Me',
      'DLCUI_TIME_HOUR_INCREMENT': 'Increment {{hourIncrement}} hours',
      'DLCUI_TIME_HOUR_DECREMENT': 'Decrement -{{hourIncrement}} hours',
      'DLCUI_TIME_MINUTE_INCREMENT': 'Increment {{minuteIncrement}} minutes',
      'DLCUI_TIME_MINUTE_DECREMENT': 'Decrement -{{minuteIncrement}} minutes',
      'DLCUI_TIME_SECOND_INCREMENT': 'Increment {{secondIncrement}} seconds',
      'DLCUI_TIME_SECOND_DECREMENT': 'Decrement -{{secondIncrement}} seconds',
      'DLCUI_TIME_MERIDIAN': 'Toggle AM/PM',
      'DLCUI_TIME_MERIDIAN_AM': 'AM',
      'DLCUI_TIME_MERIDIAN_PM': 'PM',
      'DLCUI_ALERT_DANGER': 'Critical Error',
      'DLCUI_ALERT_WARNING': 'Warning',
      'DLCUI_ALERT_UNKNOWN': 'There are multiple issues',
      'DLCUI_ALERT_SUCCESS': 'Success',
      'DLCUI_ALERT_NOTE': 'Note',
      'DLCUI_TEXTAREA_CHARACTERS_REMAINING': '{{characters}} characters remaining',
      'DLCUI_PROGRESSBAR_TEXT': '{{value || \'Unknown\'}} percent complete'
    };
    $translateProvider.translations('-US.json', translations);
    $translateProvider.translations(translations);
    if ($translateProvider.preferredLanguage) {
      $translateProvider.preferredLanguage('-US.json');
    }
  }
]).value('preferredLanguage', '-US.json');
;/* eslint-disable */
'use strict';
window.dlcui = window.dlcui || {};
(function (dlcui) {
  var ASSERTION_PREFIX_LABEL = 'Assertion failed: ';

  /**
   * Enable asserts by default.
   * @type {boolean}
   */
  dlcui.ENABLE_ASSERTS = true;

  var typeofValue = function(value) {
    if (dlcui.isNull(value)) {
      return 'null';
    } else if (dlcui.isUndefined(value)) {
      return 'undefined';
    }
    return typeof value;
  };

  /**
   * Called by the assertion design when an error dlcui
   * @param e
   */
  var errorHandler = function(e) {
    throw e;
  };

  /**
   * Throws an exception with the given message and "Assertion failed" prefixed
   * onto it.
   * @param {string} defaultMessage The message to use if givenMessage is empty.
   * @param {object} defaultArgs The substitution arguments for defaultMessage.
   * @param {string|undefined} givenMessage Message supplied by the caller.
   * @param {object} givenArgs The substitution arguments for givenMessage.
   * @throws {AssertionError} When the value is not a number.
   * @private
   */
  var handleAssertionFailure = function(defaultMessage, defaultArgs, givenMessage, givenArgs) {
    var message = ASSERTION_PREFIX_LABEL;
    var messageArgs = null;

    if (givenMessage) {
      message += givenMessage;
      messageArgs = givenArgs;
    } else if (defaultMessage) {
      message += defaultMessage;
      messageArgs = defaultArgs;
    }

    message = dlcui.formatString(message, messageArgs);

    var error = new Error(message);
    // Call the main error handler
    errorHandler(error);
  };

  /**
   * Checks if the condition evaluates to true if dlcui.ENABLE_ASSERTS is true.
   * @param {boolean} condition The condition to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the condition evaluates to false.
   */
  dlcui.assert = function(condition, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !condition) {
      handleAssertionFailure('', null, opt_message, opt_message_args);
    }
  };


  /**
   * Call this to force a failure if an area of the code was reached that is not part of the design.
   *
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} Failure.
   */
  dlcui.fail = function(opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS) {
      handleAssertionFailure(
        'Failure' + (opt_message ? ': ' + opt_message : ''),opt_message_args
      );
    }
  };

  /**
   * Checks if the value is a number if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not a number.
   */
  dlcui.assertNumber = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isNumber(value)) {
      handleAssertionFailure('Expected number but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a number or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional number.
   */
  dlcui.assertOptionalNumber = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isNumber(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional number value but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks to see if the value is defined and not null
   * @param value
   * @param opt_message
   * @param opt_message_args
   */
  dlcui.assertDefined = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isDefined(value)) {
      handleAssertionFailure('Expected a defined value but got {{type}}.',
        {type: typeofValue(value)}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks to see if the Array or String has a length greater than zero
   * @param {*} value The value to check and should contain a length property.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an object.
   */
  dlcui.assertHasLength = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS) {
      dlcui.assertNumber(value.length, 'Expected a length property');

      if (value.length <= 0) {
        handleAssertionFailure('Expected length greater than zero but got {{length}}.',
          {length: value.length}, opt_message, opt_message_args);
      }
    }
  };

  /**
   * Checks if the value is a string if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not a string.
   */
  dlcui.assertString = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isString(value)) {
      handleAssertionFailure('Expected string but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a string or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional string.
   */
  dlcui.assertOptionalString = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isString(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional string value but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a string if dlcui.ENABLE_ASSERTS is true and that it is length.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not a string.
   */
  dlcui.assertStringWithLength = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS) {
      dlcui.assertString(value, opt_message, opt_message_args);
      dlcui.assertHasLength(value, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a string with content or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional string.
   */
  dlcui.assertOptionalStringWithLength = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isStringWithLength(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional string with length but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks to see if the value is an Array and has a length greater than zero
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an object.
   */
  dlcui.assertArrayWithLength = function(value, opt_message, opt_message_args) {
    dlcui.assertArray(value, opt_message, opt_message_args);
    dlcui.assertHasLength(value, opt_message, opt_message_args);
  };

  /**
   * Checks if the value is a array with content or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional array.
   */
  dlcui.assertOptionalArrayWithLength = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isArrayWithLength(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional array with length but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a function if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not a function.
   */
  dlcui.assertFunction = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isFunction(value)) {
      handleAssertionFailure('Expected function but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a Function or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional Function.
   */
  dlcui.assertOptionalFunction = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isFunction(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional function but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is an Object if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an object.
   */
  dlcui.assertObject = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isObject(value)) {
      handleAssertionFailure('Expected object but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a object or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional object.
   */
  dlcui.assertOptionalObject = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isObject(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional object value but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a Date if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an object.
   */
  dlcui.assertDate = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isDate(value)) {
      handleAssertionFailure('Expected Date but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a Date or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional object.
   */
  dlcui.assertOptionalDate = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isDate(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional Date value but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is an Array if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an array.
   */
  dlcui.assertArray = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isArray(value)) {
      handleAssertionFailure('Expected array but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a array or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional array.
   */
  dlcui.assertOptionalArray = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isArray(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional array value but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a boolean if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not a boolean.
   */
  dlcui.assertBoolean = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isBoolean(value)) {
      handleAssertionFailure('Expected boolean but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is a boolean or undefined/null but only if dlcui.ENABLE_ASSERTS is true.
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an optional boolean.
   */
  dlcui.assertOptionalBoolean = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(dlcui.isBoolean(value) || dlcui.isNullOrUndefined(value))) {
      handleAssertionFailure('Expected an optional boolean value but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };

  /**
   * Checks if the value is an instance of the user-defined type if dlcui.ENABLE_ASSERTS is true.
   *
   * The compiler may tighten the type returned by this function.
   *
   * @param {*} value The value to check.
   * @param {function(new: T, ...)} type A user-defined constructor.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not an instance of type.
   */
  dlcui.assertInstanceof = function(value, type, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !(value instanceof type)) {
      handleAssertionFailure('instanceof check failed.', null,
        opt_message, Array.prototype.slice.call(arguments, 3));
    }
  };

  /**
   * Checks if the value is null or undefined
   * @param {*} value The value to check.
   * @param {string=} opt_message Error message in case of failure.
   * @param {object=} opt_message_args The items to substitute into the failure message.
   * @throws {AssertionError} When the value is not null or undefined.
   */
  dlcui.assertNullOrUndefined = function(value, opt_message, opt_message_args) {
    if (dlcui.ENABLE_ASSERTS && !dlcui.isNullOrUndefined(value)) {
      handleAssertionFailure('Expected a value that is null or undefined but got {{type}}: {{value}}.',
        {type: typeofValue(value), value: value}, opt_message, opt_message_args);
    }
  };
})(dlcui || (dlcui = {}));
/* eslint-enable */

;/* eslint-disable */
'use strict';
window.dlcui = window.dlcui || {};
(function (dlcui) {
  /**
   * Replaces all keys defined in optValueArgs within the value string.
   * @param {!String} value The value to format.
   * @param {?Object=} optValueArgs Optional object containing the key values.
   * @returns {!String} The formatted value or the value if no optValueArgs is provided.
   */
  function formatString(value, optValueArgs) {
    dlcui.assertOptionalString(value);
    dlcui.assertOptionalObject(optValueArgs);

    if (isStringWithLength(value) && isObject(optValueArgs)) {
      angular.forEach(optValueArgs, function (valueObj, key) {
        var templateKey = ['{{', key, '}}'].join('');
        value = value.replace(templateKey, valueObj);
      });
    }

    return value;
  }
  dlcui.formatString = formatString;

  function isNull(o) {
    return o === null;
  }
  dlcui.isNull = isNull;

  function isObject(o) {
    if (isDefined(o) && !isArray(o)) return typeof o === "object";
    return false;
  }
  dlcui.isObject = isObject;

  function isScope(o) {
    if (!isObject(o)) return false;
    return isDefined(o.$id) && isDefined(o.$parent);
  }
  dlcui.isScope = isScope;

  function isEmpty(value) {
    if (isDefined(value)) {
      if (typeof value === 'string') {
        return value === '';
      }
    }
    return false;
  }
  dlcui.isEmpty = isEmpty;

  function ternary(value, alt) {
    return isDefined(value) ? value : alt;
  }
  dlcui.ternary = ternary;

  function isDefined(o) {
    return !isNullOrUndefined(o);
  }
  dlcui.isDefined = isDefined;

  function isUndefined(o) {
    return o === undefined;
  }
  dlcui.isUndefined = isUndefined;

  function isNullOrUndefined(o) {
    return isNull(o) || isUndefined(o);
  }
  dlcui.isNullOrUndefined = isNullOrUndefined;
  dlcui.isUndefinedOrNull = isNullOrUndefined;

  function isFunction(f) {
    return isDefined(f) && typeof f === 'function';
  }
  dlcui.isFunction = isFunction;

  function append(obj, char) {
    if (isUndefined(char)) {
      char = '/';
    }
    if (isString(obj)) {
      if (obj.charAt(obj.length - 1) !== char) {
        obj = obj.concat(char);
      }
    }
    return obj;
  }
  dlcui.append = append;

  function remove(obj, char) {
    if (isUndefined(char)) {
      char = '/';
    }
    if (dlcui.isString(obj)) {
      if (obj.charAt(obj.length - 1) === char) {
        obj = obj.substring(0, obj.length - 1);
      }
    }
    return obj;
  }
  dlcui.remove = remove;

  function init(obj, prop, value) {
    return hasOwnProperty(obj, prop) ? obj[prop] : value;
  }
  dlcui.init = init;

  function isValidDate(obj) {
    if (isString(obj)) {
      var date = obj.split(/[-\/]/);
      if (date.length === 3 && !isEmpty(date[date.length - 1])) {
        if (date[date.length - 1].length === 2 || date[date.length - 1].length === 4) {
          return true;
        }
      }
    }
    return false;
  }
  dlcui.isValidDate = isValidDate;

  function isValidDateTime(obj) {
    if (isString(obj)) {
      var date = obj.split(/[-\/ :]/);
      if (date.length === 7 && !isEmpty(date[2]) && !isEmpty(date[6])) {
        if (date[2].length === 2 || date[6].length === 2) {
          return true;
        }
      }
    }
    return false;
  }
  dlcui.isValidDateTime = isValidDateTime;

  function isTime(obj) {
    if (isString(obj)) {
      var time = obj.split(/[ :]/);
      if (time.length < 4) {
        return false;
      }
      return time.length === 4 && time[3].toLowerCase() === 'am' || time[3].toLowerCase() === 'pm';
    }
    return false;
  }
  dlcui.isTime = isTime;

  function isTrue(o) {
    return isDefined(o) && typeof o === 'boolean' && o === true;
  }

  dlcui.isTrue = isTrue;
  function isFalse(o) {
    return isDefined(o) && typeof o === 'boolean' && o === false;
  }
  dlcui.isFalse = isFalse;

  function isBoolean(o) {
    return isTrue(o) || isFalse(o);
  }
  dlcui.isBoolean = isBoolean;

  function isString(o) {
    return isDefined(o) && typeof o === 'string';
  }
  dlcui.isString = isString;

  function isStringWithLength(o) {
    return isString(o) && o.length > 0;
  }
  dlcui.isStringWithLength = isStringWithLength;

  function hasOwnProperty(o, prop) {
    return isDefined(o) && isDefined(o[prop]);
  }
  dlcui.hasOwnProperty = hasOwnProperty;

  function isArray(o) {
    return isDefined(o) && Array.isArray(o);
  }
  dlcui.isArray = isArray;

  function isArrayWithLength(o) {
    return isArray(o) && o.length > 0;
  }
  dlcui.isArrayWithLength = isArrayWithLength;

  function isNumeric(o) {
    return !isNaN(parseFloat(o)) && isFinite(o);
  }
  dlcui.isNumeric = isNumeric;

  function isEmail(o) {
    var regExp = new RegExp('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$');
    return isString(o) && regExp.test(o);
  }
  dlcui.isEmail = isEmail;

  function isDate(o) {
    if (isDefined(o)) return o instanceof Date;
    return false;
  }
  dlcui.isDate = isDate;

  // Generate the correct element.matches method once for the current browser
  var elementPrototype = Element.prototype;
  var elementMatchesFn = elementPrototype.matches || elementPrototype.webkitMatchesSelector || elementPrototype.mozMatchesSelector || elementPrototype.msMatchesSelector || function (selector) {
      return [].indexOf.call(document.querySelectorAll(selector), this) !== -1;
    };

  function isElementMatches(element, selector) {
    if (!element) {
      return false;
    } else if (!isStringWithLength(selector)) {
      return true;
    }
    return elementMatchesFn.call(element, selector);
  }
  dlcui.isElementMatches = isElementMatches;
  
  function guid() {
    var num = function num() {
      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
    };
    return {
      'new': function _new() {
        return num() + num() + '-' + num() + '-' + num() + '-' + num() + '-' + num() + num() + num();
      }
    };
  }
  dlcui.guid = guid;
  
  function isNumber(value) {
    return angular.isNumber(value);
  }
  dlcui.isNumber = isNumber;
  
  function calculate() {
    return {
      age: function age(dob) {
        if (isDefined(dob)) {
          if (dob instanceof Date) {
            var now = new Date(),
              year = now.getFullYear(),
              month = now.getMonth(),
              day = now.getDate(),
              age = year - dob.getFullYear();
            if (month < dob.getMonth() - 1) age--;
            if (dob.getMonth() - 1 == month && day < dob.getDay()) age--;
            return age;
          }
        }
        return undefined;
      }
    };
  }
  dlcui.calculate = calculate;

  function key() {
    var controlChar = [0, 8, 13],
      navigationChar = [35, 36, 37, 38, 39, 40];
    return {
      isNumber: function isNumber(which) {
        if (isDefined(which)) {
          return !key().isNotNumber(which);
        }
        return false;
      },
      isNavigation: function isNavigation(which) {
        if (isDefined(which)) {
          return navigationChar.indexOf(which) !== -1;
        }
        return false;
      },
      isNotNumber: function isNotNumber(which) {
        if (isDefined(which)) {
          return which < 44 || which > 57 || which === 47;
        }
        return false;
      },
      isControlChar: function isControlChar(which) {
        return controlChar.indexOf(which) !== -1;
      },
      isNotControlChar: function isNotControlChar(which) {
        return controlChar.indexOf(which) === -1;
      },
      alpha: function alpha(value) {
        return value === 32 || String.fromCharCode(value).match(/^[a-zA-Z]*$/);
      },
      isAlphaNumeric: function isAlphaNumeric(value) {
        return value === 32 || value === 35 || String.fromCharCode(value).match(/^[a-zA-Z0-9_]*$/);
      }
    };
  }
  dlcui.key = key;

  function pluck() {
    return {
      phoneNumber: function phoneNumber(value) {
        return value.replace(/[^0-9]/g, '');
      },
      decimals: function decimals(value) {
        return value.indexOf('.') === -1 ? '' : value.replace(/^-?\d+(?=\.)/, '');
      },
      cardinal: function cardinal(value) {
        return value.replace(/(\.\d+)$/, '');
      },
      number: function number(value) {
        return value.replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
      }
    };
  }
  dlcui.pluck = pluck;

  dlcui.throttle = function (func, wait, options) {
    'use strict';
    var getTime = Date.now || function () {
        return new Date().getTime();
      };
    var context, args, result;
    var timeout = null;
    var previous = 0;
    options = options || {};
    var later = function later() {
      previous = options.leading === false ? 0 : getTime();
      timeout = null;
      result = func.apply(context, args);
      context = args = null;
    };
    return function () {
      var now = getTime();
      if (!previous && options.leading === false) {
        previous = now;
      }
      var remaining = wait - (now - previous);
      context = this;
      args = arguments;
      if (remaining <= 0) {
        clearTimeout(timeout);
        timeout = null;
        previous = now;
        result = func.apply(context, args);
        context = args = null;
      } else if (!timeout && options.trailing !== false) {
        timeout = setTimeout(later, remaining);
      }
      return result;
    };
  };
})(dlcui || (dlcui = {}));
/* eslint-enable */
;/* eslint-disable */
'use strict';
window.dlcui = window.dlcui || {};
(function (dlcui) {

  /**
   * Returns a an options wrapper object that makes it easier to set and get configured options per dlcui rules.
   * @param from
   * @returns {Function}
   */
  function optionsWrap (from) {
    dlcui.assertObject(from);

    return {
      /**
       * Obtains the option value for the specified property and returns optDefault if the value is undefined. It
       * will also test if the value is a function and execute that to obtain the true value.
       * @param {!string} property The property name to obtain
       * @param {?*} optDefault The default value to return if the value does not exist.
       * @returns {*} The value.
       */
      get: function (property, optDefault) {
        dlcui.assertStringWithLength(property);
        
        if (dlcui.isFunction(from[property])) {
          return from[property]() || optDefault;
        }

        return from[property] || optDefault;
      },
      /**
       * Retrives the first defined value for an array of property names.
       * @param {...} properties Array or individual parameters to search for.
       * @returns {*} The value if found but will be undefined if not found at all.
       */
      getFirst: function (properties) {
        var firstValue;
        var self = this;
        
        function _handle(property) {
          if (dlcui.isNullOrUndefined(firstValue) && dlcui.isStringWithLength(property)) {
            firstValue = self.get(property);
          }
        }
        
        angular.forEach(arguments, function(argument) {
          if (dlcui.isArrayWithLength(argument)) {
            angular.forEach(argument, function(argumentInner) {
              _handle(argumentInner)
            });
          } else {
            _handle(argument);
          }
        });
        
        return firstValue;
      },
      /**
       * Sets the option value for the specified property. It will also test if the existing value is a function
       * will execute that with the value as the parameter.
       * @param {!string} property The property name to obtain
       * @param {?*} optDefault The default value to return if the value does not exist.
       * @returns {*} The value.
       */
      set: function (property, value) {
        dlcui.assertStringWithLength(property);
        
        if (dlcui.isFunction(from[property])) {
          from[property](value);
        }

        from[property] = value;
      },
      /**
       * Sets defaults and replaces any values that are undefined.
       * @param {Object*} defaults One or more objects to use as a source.
       */
      defaults: function (defaults) {
        _.defaults(from, defaults)
      }
    }
  }
  dlcui.optionsWrap = optionsWrap;

  function setDefaults(target, source) {
    if (dlcui.isObject(source) && dlcui.isObject(target)) {
      angular.forEach(source, function (value, key) {
        if (!dlcui.isDefined(target[key])) {
          target[key] = value;
        } else if (dlcui.isObject(value) && !dlcui.isScope(value) && !dlcui.isFunction(value) && !dlcui.isArray(value)) {
          setDefaults(target[key], value);
        }
      });
    }

    return target;
  }
  dlcui.setDefaults = setDefaults;

})(dlcui || (dlcui = {}));
/* eslint-enable */
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiCallback', ['$q', function ($q) {
    /**
     * Determines the result type and uses that to call the specified callback with true or false.
     * @param {*} result The result of the function execution.
     * @returns {!Promise} Angular Promise.
     * @private
     */
    function _handleResult(result) {
      var defer = $q.defer();

      if (dlcui.isObject(result) && dlcui.isFunction(result.then)) {
        result.then(function (data) {
          defer.resolve(data);
        }, function (error) {
          defer.reject(error);
        });
      } else if (dlcui.isBoolean(result)) {
        if (result) {
          defer.resolve(true);
        } else {
          defer.reject();
        }
      } else {
        defer.resolve(result);
      }

      return defer.promise;
    }

    return {
      handleResult: _handleResult
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiElementId', ['dlcuiGuid', function (dlcuiGuid) {
    return {
      update: function (element) {
        var elementId = angular.element(element).attr('id');
        if (!dlcui.isStringWithLength(elementId)) {
          elementId = dlcuiGuid.new();
          angular.element(element).attr('id', elementId);
        }

        return elementId;
      },
      isIdMatchForEvents: function (optElementId, optEventId) {
        if (dlcui.isStringWithLength(optEventId)) {
          if (dlcui.isStringWithLength(optElementId)) {
            return optElementId === optEventId || optElementId.indexOf([optEventId, '_'].join('')) === 0;
          }

          return false;
        }

        return true;
      }
    };
  }]);
;angular.module('dell.ngclarity.directives')
  .filter('dlcuiElementId', function () {
    return function (input, suffix) {
      if (dlcui.isStringWithLength(input) && dlcui.isStringWithLength(suffix)) {
        return Array.prototype.slice.call(arguments).join('_');
      }

      return null;
    };
  });
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiElementScroll', function () {
    /**
     * Returns true if the element contains a vertical scroll bar.
     * @param {!Element} element The element to test
     * @returns {!boolean} True if there is one currently visible.
     * @private
     */
    function _containsVerticalScrollBar (element) {
      dlcui.assertObject(element);

      return $(element).height() < $(element)[0].scrollHeight;
    }

    /**
     * Returns true if the element contains a horizontal scroll bar.
     * @param {!Element} element The element to test
     * @returns {!boolean} True if there is one currently visible.
     * @private
     */
    function _containsHorizontalScrollBar (element) {
      dlcui.assertObject(element);

      return $(element).width() < $(element)[0].scrollWidth;
    }

    /**
     * Returns true if the element contains either a horizontal or a vertical scroll bar.
     * @param {!Element} element The element to test
     * @returns {!boolean} True if there is one currently visible.
     * @private
     */
    function _containsScrollBar (element) {
      return _containsHorizontalScrollBar(element) || _containsVerticalScrollBar(element);
    }

    /**
     * Helper method that increase the total area of the specified rect by the specified size
     * @param {!Object} rect The rec to increate/decrease
     * @param {?number=} optIncreaseSize The size and can be positive or negative. Nothing happens if this is not
     * defined.
     * @returns {!Object} The modified rect or the original if no changes were made
     * @private
     */
    function _increaseRect (rect, optIncreaseSize) {
      dlcui.assertObject(rect);
      dlcui.assertOptionalNumber(optIncreaseSize);

      var boundary = dlcui.isNumber(optIncreaseSize) && optIncreaseSize > 0 ? optIncreaseSize : 0;
      if (boundary !== 0) {
        boundary /= 2;
        rect.top -= boundary;
        rect.bottom += boundary;
        rect.left -= boundary;
        rect.right += boundary;
      }

      return rect;
    }

    /**
     * Returns the rect/size of the specified element and where top and left are 0.
     * @param {!Element} element The element to calculate the rect for.
     * @param {?number=} optIncreaseSize Optional value by which to increase the size of the rectangle in both
     * directions
     * @returns {!Object} The element rect.
     * @private
     */
    function _getElementRect (element, optIncreaseSize) {
      dlcui.assertObject(element);
      dlcui.assertOptionalNumber(optIncreaseSize);

      var elementHeight = $(element).height();
      var elementWidth = $(element).width();

      return _increaseRect({
        top: 0,
        bottom: elementHeight,
        left: 0,
        right: elementWidth,
        height: elementHeight,
        width: elementWidth
      }, optIncreaseSize);
    }

    /**
     * Returns the rect of the element with the position included in the co-ordinates.
     * @param {!Element} element The element to calculate the rect for.
     * @param {?number=} optIncreaseSize Optional value by which to increase the size of the rectangle in both
     * directions
     * @returns {!Object} The positional rect of the specified element
     * @private
     */
    function _getElementPositionRect (element, optIncreaseSize) {
      dlcui.assertObject(element);

      var elementPosition = $(element).position();
      var elementHeight = $(element).height();
      var elementWidth = $(element).width();

      return _increaseRect({
        top: elementPosition.top,
        bottom: elementPosition.top + elementHeight,
        left: elementPosition.left,
        right: elementPosition.left + elementWidth,
        height: elementHeight,
        width: elementWidth
      }, optIncreaseSize);
    }

    /**
     * Returns true if the element is visible within the specified element rectangle.
     * @param {!Object} rect The size rect of the element where top and left is 0
     * @param {!Element} element The element to calculate the visibility for.
     * @returns {boolean} True if the element is visible
     * @private
     */
    function _elementVisibleWithinRect (rect, element) {
      dlcui.assertObject(rect);
      dlcui.assertObject(element);

      // Calculate the element location.
      var elementRect = _getElementPositionRect(element);

      return (rect.bottom >= elementRect.top && rect.top <= elementRect.bottom &&
      rect.right >= elementRect.left && rect.left <= elementRect.right);
    }

    /**
     * Verifies to see if the specified element is visible within the parent scrollElement.
     * @param {!Element} scrollElement The parent container element.
     * @param {!Element} element The element to check
     * @param {?number=} optMarginError An optional boundary outside of the scroll area that is considered 'visible'
     * @returns {boolean} true if element is visible, even partially visible.
     * @private
     */
    function _elementVisibleWithinElement (scrollElement, element, optMarginError) {
      dlcui.assertObject(scrollElement);
      dlcui.assertObject(element);

      // Calculate the scroll bounding area
      var scrollRect = _getElementRect(scrollElement, optMarginError);

      return _elementVisibleWithinRect(scrollRect, element);
    }

    return {
      containsVerticalScrollBar: _containsVerticalScrollBar,
      containsHorizontalScrollBar: _containsHorizontalScrollBar,
      containsScrollBar: _containsScrollBar,
      getElementRect: _getElementRect,
      getElementPositionRect: _getElementPositionRect,
      isElementVisibleWithinElement: _elementVisibleWithinElement,
      isElementVisibleWithinRect: _elementVisibleWithinRect
    };
  });
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiElementTabIndex', function () {
    return {
      enable: function (element) {
        dlcui.assertObject(element);

        if (this.getTabIndex(element) < 0) {
          this.update(element, 0);
        }
      },
      disable: function (element) {
        dlcui.assertObject(element);

        if (this.getTabIndex(element) >= 0) {
          this.update(element, -1);
        }
      },
      update: function (element, optIndex) {
        dlcui.assertObject(element);
        dlcui.assertOptionalNumber(optIndex);

        optIndex = dlcui.isNumber(optIndex) ? optIndex : 0;
        $(element).attr('tabindex', String(optIndex));
      },
      getTabIndex: function (element) {
        dlcui.assertObject(element);

        if (dlcui.isStringWithLength($(element).attr('tabindex'))) {
          return parseInt($(element).attr('tabindex'), 10);
        }

        return -1;
      }
    };
  });
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiFlexbox', ['DLCUI_FLEXBOX_ALIGN', 'DLCUI_FLEXBOX_JUSTIFY', 'DLCUI_FLEXBOX_LAYOUT', function (DLCUI_FLEXBOX_ALIGN,
                                   DLCUI_FLEXBOX_JUSTIFY,
                                   DLCUI_FLEXBOX_LAYOUT) {
    /**
     * Default Justification for toolbar
     * @type {string}
     * @private
     */
    var _defaultJustification = DLCUI_FLEXBOX_JUSTIFY.flexEnd;

    /**
     * Default alignment for toolbar
     * @type {string}
     * @private
     */
    var _defaultAlignment = DLCUI_FLEXBOX_ALIGN.center;

    /**
     * Default layout for the toolbar
     * @type {string}
     * @private
     */
    var _defaultLayout = DLCUI_FLEXBOX_LAYOUT.grid;

    /**
     * Updates the elements alignment by adding the required class based on the specified align value.
     * @param {?string=} optAlign The specified alignment to use and can be null or an empty string.
     * @param {?Element=} optElement The element to update with the correct class.
     * @param {?string=} optDefaultAlign An optional default alignment to use if align is not specified
     * and we default to 'center'.
     * @returns {!string} The class that is required.
     * @private
     */
    function _updateAlignment(optAlign, optElement, optDefaultAlign) {
      if (!dlcui.isStringWithLength(optDefaultAlign)) {
        optDefaultAlign = _defaultAlignment;
      }
      var align = optAlign;
      if (!dlcui.isStringWithLength(align)) {
        align = optDefaultAlign;
      }

      var classValue = dlcui.formatString('dlcui-align-{{align}}', {
        align: align
      });

      if (optElement) {
        angular.element(optElement).addClass(classValue);
      }

      return classValue;
    }

    /**
     * Updates the elements justification by adding the required class based on the specified justify value.
     * @param {?string=} optJustify The specified justification to use and can be null or an empty string.
     * @param {?Element=} optElement The element to update with the correct class.
     * @param {?string=} optDefaultJustify An optional default justification to use if justify is not specified
     * and we default to 'flex-end'.
     * @returns {!string} The class that is required.
     * @private
     */
    function _updateJustification(optJustify, optElement, optDefaultJustify) {
      if (!dlcui.isStringWithLength(optDefaultJustify)) {
        optDefaultJustify = _defaultJustification;
      }
      var justify = optJustify;
      if (!dlcui.isStringWithLength(justify)) {
        justify = optDefaultJustify;
      }

      var classValue = dlcui.formatString('dlcui-justify-{{justify}}', {
        justify: justify
      });
      if (optElement) {
        angular.element(optElement).addClass(classValue);
      }

      return classValue;
    }

    /**
     * Updates the Flex flow direction class based on the specified type.
     * @param {?string=} optLayout The configured layout
     * @param {?Element=} optElement The optElement to update with the correct class.
     * @param {?string=} optDefaultLayout The default layout to use if layout is not defined.
     * @returns {!string} The class that is required.
     * @private
     */
    function _updateLayout(optLayout, optElement, optDefaultLayout) {
      if (!dlcui.isStringWithLength(optDefaultLayout)) {
        optDefaultLayout = _defaultLayout;
      }
      var layout = optLayout;
      if (!dlcui.isStringWithLength(layout)) {
        layout = optDefaultLayout;
      }

      var classValue = dlcui.formatString('dlcui-flex-container-{{layout}}', {
        layout: layout
      });
      if (optElement) {
        angular.element(optElement).addClass(classValue);
      }

      return classValue;
    }

    return {
      updateAlignment: _updateAlignment,
      updateJustification: _updateJustification,
      updateLayout: _updateLayout
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_FLEXBOX_ALIGN', {
  flexStart: 'flex-start',
  flexEnd: 'flex-end',
  center: 'center',
  stretch: 'stretch'
});
;angular.module('dell.ngclarity.directives').constant('DLCUI_FLEXBOX_JUSTIFY', {
  spaceBetween: 'space-between',
  spaceAround: 'space-around',
  flexStart: 'flex-start',
  flexEnd: 'flex-end',
  center: 'center'
});
;angular.module('dell.ngclarity.directives').constant('DLCUI_FLEXBOX_LAYOUT', {
  card: 'card',       // Grid layout that traverses top to bottom then up to the next column
  grid: 'grid',       // Grid layout that traverses left to right then down to next row
  horizontal: 'horizontal', // Toolbar type layout
  vertical: 'vertical'      // Single column type layout
});
;angular.module('dell.ngclarity.directives')
  .factory('dlcuiGuid', [function () {
    /**
     * Generate a random number
     * @returns {string} A number used within the GUID
     * @private
     */
    var _num = function () {
      return Math.floor((1 + Math.random()) * 0x10000)
        .toString(16)
        .substring(1);
    };

    function Guid() {
    }
    //
    // Function: New()
    //
    Guid.new = function () {
      return _num() + _num() + '-' + _num() + '-' + _num() + '-' + _num() + '-' + _num() + _num() + _num();
    };
    return Guid;
  }]);
;'use strict';

/**
 * @ngdoc service
 * @name dell.ngclarity.services.service:i18nService
 * @description
 * # decorates our UX
 */
angular.module('dell.ngclarity.services')
  .service('i18nService',
    function () {

    var _data = {
     	'en-US': {
     		'form' : {
     			'username': 'Username',
     			'password': 'Password'
     		},
     		'copyright': '&copy Dell 2015. All Rights Reserved'
     	}
    };

    function geti18nData(scope) {
    	var lang = window.navigator.userLanguage || window.navigator.language;
    	console.info('detected browser language - ' + lang);

    	// for now it's hard-coded to en-US
    	lang = 'en-US';

    	return _.extend(scope.i18n, _data[lang]);
    }

    return {

    	apply: function(scope) {
    		scope.i18n = scope.i18n || {};
    		var i18n = geti18nData(scope);
    		return i18n;
    	}

    };
  });
;'use strict';

/**
 * @ngdoc service
 * @name dell.ngclarity.services.service:ioService
 * @description
 * # a basic service for sending http requests
 */
angular.module('dell.ngclarity.services')
  .service('ioService', ['$http', '$q', '$log', '$timeout', 'GLOBAL_TIMEOUT',
    function ($http, $q, $log, $timeout, GLOBAL_TIMEOUT) {

        var deferred = $q.defer();

        // Base64 encoding that could be used by loginService
        var Base64 = {

            keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',

            encode: function (input) {
                var output = '';
                var chr1, chr2, chr3 = '';
                var enc1, enc2, enc3, enc4 = '';
                var i = 0;

                do {
                    chr1 = input.charCodeAt(i++);
                    chr2 = input.charCodeAt(i++);
                    chr3 = input.charCodeAt(i++);

                    /*jshint bitwise: false */
                    enc1 = chr1 >> 2;
                    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
                    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
                    enc4 = chr3 & 63;
                    /*jshint bitwise: true */

                    if (isNaN(chr2)) {
                        enc3 = enc4 = 64;
                    } else if (isNaN(chr3)) {
                        enc4 = 64;
                    }

                    output = output +
                        this.keyStr.charAt(enc1) +
                        this.keyStr.charAt(enc2) +
                        this.keyStr.charAt(enc3) +
                        this.keyStr.charAt(enc4);
                    chr1 = chr2 = chr3 = '';
                    enc1 = enc2 = enc3 = enc4 = '';
                } while (i < input.length);

                return output;
            },

            decode: function (input) {
                var output = '';
                var chr1, chr2, chr3 = '';
                var enc1, enc2, enc3, enc4 = '';
                var i = 0;

                // remove all characters that are not A-Z, a-z, 0-9, +, /, or =
                var base64test = /[^A-Za-z0-9\+\/\=]/g;
                if (base64test.exec(input)) {
                    throw new TypeError('invalid input to Base64 encode');
                }
                input = input.replace(/[^A-Za-z0-9\+\/\=]/g, '');

                do {
                    enc1 = this.keyStr.indexOf(input.charAt(i++));
                    enc2 = this.keyStr.indexOf(input.charAt(i++));
                    enc3 = this.keyStr.indexOf(input.charAt(i++));
                    enc4 = this.keyStr.indexOf(input.charAt(i++));

                    /*jshint bitwise: false */
                    chr1 = (enc1 << 2) | (enc2 >> 4);
                    chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
                    chr3 = ((enc3 & 3) << 6) | enc4;
                    /*jshint bitwise: true */

                    output = output + String.fromCharCode(chr1);

                    if (enc3 !== 64) {
                        output = output + String.fromCharCode(chr2);
                    }
                    if (enc4 !== 64) {
                        output = output + String.fromCharCode(chr3);
                    }

                    chr1 = chr2 = chr3 = '';
                    enc1 = enc2 = enc3 = enc4 = '';

                } while (i < input.length);

                return output;
            }
        };

        function clearAuth(){
            angular.forEach($http.defaults.headers.common, function(value, key){
              value?value[key]?value[key] = '':true:true;
            });
        }

        function setAuth(header,value){
            $http.defaults.headers.common[header] = value;
        }

        function failure(response,userFailure){
            $log.error(response.status,response.statusText);
            if(response.status == 403){
                clearAuth();
            }
            userFailure(response);
            return false;
        }

        function success(response,userSuccess){
            $log.log(response.status,response.message);
            userSuccess(response);
            return false;
        }

        function post(params){
            call('post',params);
        }

        function del(params){
            call('delete',params);
        }

        function get(params){
            call('get',params);
        }


        function call(type,params){
            var data = {
                method: type,
                url: params.url,
                data: params.data,
                timeout: GLOBAL_TIMEOUT
            };

            if(type == 'delete'){
                data.data?delete data.data:false;
            }

            $http(data).then(function(result) {
                if(params.saveLocal){
                    //TODO : Save for localStorage
                }
                $log.info(result.message);
                success(result,params.success);
                deferred.resolve({status: 200});
            },function(result) {
                $log.info(result.message);
                failure(result,params.failure);
                deferred.reject({status: 500});
            });
        }

        return {
            post: post,
            del : del,
            get : get,
            setAuth : setAuth,
            clearAuth : clearAuth
        };
  }]);;/**
 * @ngdoc service
 * @name measure
 * @module dlcui
 * @src services/measure/measureElement.factory.js
 *
 * @description
 * Allows the developer to measure the size of an angular element.
 *
 */

/* eslint-disable no-use-before-define*/
angular.module('dell.ngclarity.directives')
  .factory('dlcuiMeasure', ['$document', '$window', '$timeout', function ($document,
                                   $window,
                                   $timeout) {
    /**
     * Tracks all the callback listeners.
     * @type {Array} Collection of resize handlers
     * @private
     */
    var _resizeEventListeners = [];

    /**
     * Called internally when the window resizes.
     * @private
     */
    function _handleWindowResize () {
      if (dlcui.isArrayWithLength(_resizeEventListeners)) {
        $timeout(function() {
          angular.forEach(_resizeEventListeners, function (handler) {
            if (!handler.disable) {
              var notifyCallback = false;
              var newDimensions = null;
              var oldDimensions = null;
              if (handler.element) {
                newDimensions = _measure(handler.element);
                oldDimensions = handler.dimensions;
                notifyCallback = newDimensions.width !== oldDimensions.width ||
                  newDimensions.height !== oldDimensions.height;
                handler.dimensions = newDimensions;
              } else {
                notifyCallback = true;
              }
              if (notifyCallback) {
                handler.callBackFn(newDimensions, oldDimensions);
              }
            }
          });
        });
      }
    }

    $window.addEventListener('resize', function() {
      _handleWindowResize();
    });

    /**
     * Allows the developer to add a callback handler to monitor the resizing of the specified element or the
     * window if the element is not specified.
     * @param {!function} callbackFn The callback function
     * @param {?Element=} optElement The optional element to monitor.
     * @returns {!Object} Help object through which this event can be disabled, detroyed etc.
     * @private
     */
    function _onResize (callbackFn, optElement) {
      dlcui.assertFunction(callbackFn);

      var element = optElement;
      if (element && element.length) {
        element = element[0];
      }

      var handler = {
        callBackFn: callbackFn,
        element: element,
        disable: false
      };
      if (element) {
        handler.dimensions = _measure(element);
      }
      _resizeEventListeners.push(handler);

      return {

        /**
         * Must be called when the developer is done with the listener or when the component is destroyed.
         */
        off: function() {
          _resizeEventListeners = _.filter(_resizeEventListeners, function(item) {
            return handler.callBackFn !== item.callBackFn;
          });
        },

        /**
         * Disables the handler.
         */
        disable: function() {
          handler.disable = true;
        },

        /**
         * Enables the handler.
         */
        enable: function() {
          handler.disable = false;
        }
      };
    }

    /**
     * Returns the computes style for the specified element using the given property name.
     * @param {!Element} element The angular element or dom element
     * @param {!string} styleName The style property name such as margin-top or border-bottom.
     * @returns {string|number|object} The computed style
     * @private
     */
    function _getComputedStyle (element, styleName) {
      dlcui.assertDefined(element);
      dlcui.assertStringWithLength(styleName);

      return $(element).css(styleName);
    }

    /**
     * Measures the element and returns a object with full details
     * @param {!Element} element The element to measure
     * @returns {!object} The calculated dimensions.
     * @private
     */
    function _measure(element) {
      var node = element.length ? element[0] : element,
          rect = node.getBoundingClientRect && node.getBoundingClientRect(),
          roundX = rect ? Math.round(rect.left) : 0,
          roundY = rect ? Math.round(rect.top) : 0,
          documentElement = $document.documentElement,
          windowOffset = 'pageXOffset' in $window ? [$window.pageXOffset, $window.pageYOffset]
            : [documentElement.scrollLeft, documentElement.scrollTop];

      var width = node.offsetWidth;
      var height = node.offsetHeight;

      var marginTop = parseInt(_getComputedStyle(element, 'margin-top'), 0) || 0;
      var marginBottom = parseInt(_getComputedStyle(element, 'margin-bottom'), 0) || 0;
      var outerHeightEl = marginTop + height + marginBottom;
      var marginLeft = parseInt(_getComputedStyle(element, 'margin-left'), 0) || 0;
      var marginRight = parseInt(_getComputedStyle(element, 'margin-right'), 0) || 0;
      var outerWidthEl = marginLeft + width + marginRight;

      return {
        clientWidth: node.clientWidth,
        clientHeight: node.clientHeight,
        height: height,
        left: roundX,
        outerHeight: outerHeightEl,
        outerWidth: outerWidthEl,
        pageLeft: roundX + windowOffset[0],
        pageTop: roundY + windowOffset[1],
        scrollHeight: node.scrollHeight,
        scrollLeft: node.scrollLeft,
        scrollTop: node.scrollTop,
        scrollWidth: node.scrollWidth,
        top: roundY,
        width: width
      };
    }

    return {
      measure: _measure,
      onResize: _onResize,
      getComputedStyle: _getComputedStyle
    };
  }]);
;angular.module('dell.ngclarity.directives').constant('DLCUI_POSITION_ANCHOR', {
  center: 'center',
  top: 'top',
  right: 'right',
  bottom: 'bottom',
  left: 'left'
});
;'use strict';

/**
 * @ngdoc service
 * @name dell.ngclarity.services.service:sessionService
 * @description
 * # a basic service for sending credentials to some authentication / authorization url.
 */
angular.module('dell.ngclarity.services')
  .service('sessionService', [ '$log','ioService', 'GLOBAL_TIMEOUT',
    function ($log, ioService, GLOBAL_TIMEOUT) {

        // TODO : Scope for additional login or logout actions on succes or failure

        function loginSuccess(response,success){
            success?success():false;
        }

        function loginFailure(response,failure){
            failure?failure(response):false;
        }

        function logoffSuccess(response,success){
            success?success():false;
        }

        function logoffFailure(response,failure){
            failure?failure(response):false;
        }

        // logout method returns a promise

        function logout(url, success, failure) {

            $log.info('starting logout...');

            ioService.del({
                url: url,
                success:function(response){
                    ioService.clearAuth();
                    logoffSuccess(response,success);
                },
                failure:function(response){
                    ioService.clearAuth();
                    logoffFailure(response,failure);
                }
            });
            return false;
        }

        /** Call Params
            # url : Call URL
            # data : postdata
            # timeout : global defined
            # saveLocal : TODO on local storage if required
            # success : optional callback on io success
            # failure : optional callback on io failure
        */ 

        // login method returns a promise
        function login(url, data, header, success, failure) {

            $log.info('starting login...');

            ioService.post({
                url: url,
                data: data,
                saveLocal: false,
                success:function(response){
                    ioService.setAuth(header,response[header]);
                    loginSuccess(response,success);
                },
                failure:function(response){
                    ioService.clearAuth();
                    loginFailure(response,failure);
                }
            });
            return logout;
        }

        function setCredentials(username, password) {
            var authdata = Base64.encode(username + ':' + password);

            $rootScope.globals = {
                currentUser: {
                    username: username,
                    authdata: authdata
                }
            };

            $http.defaults.headers.common.Authorization = 'Basic ' + authdata;
            // TODO use a cookie here?
        }

        function clearCredentials() {
            $rootScope.globals = {};
            // TODO clear our cookie here

            $http.defaults.headers.common.Authorization = 'Basic';
        }

        return {
            logout: logout,
            login: login
        };
  }]);;/**
 * @ngdoc service
 * @name template
 * @module dlcui
 *
 *
 * @description
 * The dlcuiTemplate allows a developer to safely obtain a template based on a URL. This factory will lazy load the
 * template if not found in the cache.
 */
angular.module('dell.ngclarity.directives').factory('dlcuiTemplate', ['dlcuiGuid', '$q', '$templateRequest', '$templateCache', function(dlcuiGuid, $q, $templateRequest, $templateCache) {
  /**
   * Loads the specified template from the cache and if not found will load it using url.
   * @param {!string} templateUrl The template URL to load.
   * @returns {!promise} The promise to wait for the template to be loaded.
   */
  function _loadTemplate (templateUrl) {
    dlcui.assertStringWithLength(templateUrl);

    var defer = $q.defer();
    var template = $templateCache.get(templateUrl);

    if (!dlcui.isString(template)) {
      $templateRequest(templateUrl).then(function(data) {
        $templateCache.put(templateUrl, data);
        defer.resolve(data);
      });
    } else {
      defer.resolve(template);
    }

    return defer.promise;
  }

  /**
   * Adds the template to the cache by generating a unique key.
   * @param {!String} template The template to add
   * @param {$scope} optScope The scope associated with a component and if specified will be
   * monitored and the template removed when destroyed.
   * @returns {string} The Template URL/Key
   */
  function _addTempTemplate (template, optScope) {
    dlcui.assertString(template);

    var key = ['temp', dlcuiGuid.new()].join('/');
    $templateCache.put(key, template);

    if (optScope) {
      optScope.$on('$destroy', function() {
        $templateCache.remove(key);
      });
    }

    return key;
  }

  /**
   * Helper method that converts a template string to a template url if required.
   * @param {!Object} item The object containing the template url and/or string.
   * @param {!String} optPropertyUrlName The name of the property that should contain the url.
   * @param {!String} optPropertyTemplateName The name of the property that should contain the template
   * @param {$scope} optScope The scope associated with a component and if specified will be
   * monitored and the template removed when destroyed.
   * @returns {String|null} The URL if it can be found.
   */
  function _extractTemplateUrl (item, optPropertyUrlName, optPropertyTemplateName, optScope) {
    dlcui.assertObject(item, 'The object containing the template properties must exist');
    dlcui.assertStringWithLength(optPropertyUrlName, 'A name for the property that defines the ');
    dlcui.assertStringWithLength(optPropertyTemplateName);

    var propertyUrlName = optPropertyUrlName || 'templateUrl';
    var propertyTemplateName = optPropertyTemplateName || 'template';

    if (dlcui.isStringWithLength(item[propertyUrlName])) {
      return item[propertyUrlName];
    } else if (dlcui.isStringWithLength(item[propertyTemplateName])) {
      item[propertyUrlName] = _addTempTemplate(item[propertyTemplateName], optScope);
      return item[propertyUrlName];
    }

    return null;
  }

  return {
    add: _addTempTemplate,
    load: _loadTemplate,
    convertTemplateToUrl: _extractTemplateUrl
  };
}]);



// https://d3js.org v7.8.5 Copyright 2010-2023 Mike Bostock
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){"use strict";function n(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function e(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function r(t){let r,o,a;function u(t,n,e=0,i=t.length){if(e<i){if(0!==r(n,n))return i;do{const r=e+i>>>1;o(t[r],n)<0?e=r+1:i=r}while(e<i)}return e}return 2!==t.length?(r=n,o=(e,r)=>n(t(e),r),a=(n,e)=>t(n)-e):(r=t===n||t===e?t:i,o=t,a=t),{left:u,center:function(t,n,e=0,r=t.length){const i=u(t,n,e,r-1);return i>e&&a(t[i-1],n)>-a(t[i],n)?i-1:i},right:function(t,n,e=0,i=t.length){if(e<i){if(0!==r(n,n))return i;do{const r=e+i>>>1;o(t[r],n)<=0?e=r+1:i=r}while(e<i)}return e}}}function i(){return 0}function o(t){return null===t?NaN:+t}const a=r(n),u=a.right,c=a.left,f=r(o).center;var s=u;const l=d(y),h=d((function(t){const n=y(t);return(t,e,r,i,o)=>{n(t,e,(r<<=2)+0,(i<<=2)+0,o<<=2),n(t,e,r+1,i+1,o),n(t,e,r+2,i+2,o),n(t,e,r+3,i+3,o)}}));function d(t){return function(n,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(void 0!==a?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!e&&!r)return n;const u=e&&t(e),c=r&&t(r),f=i.slice();return u&&c?(p(u,f,i,o,a),p(u,i,f,o,a),p(u,f,i,o,a),g(c,i,f,o,a),g(c,f,i,o,a),g(c,i,f,o,a)):u?(p(u,i,f,o,a),p(u,f,i,o,a),p(u,i,f,o,a)):c&&(g(c,i,f,o,a),g(c,f,i,o,a),g(c,i,f,o,a)),n}}function p(t,n,e,r,i){for(let o=0,a=r*i;o<a;)t(n,e,o,o+=r,1)}function g(t,n,e,r,i){for(let o=0,a=r*i;o<r;++o)t(n,e,o,o+a,r)}function y(t){const n=Math.floor(t);if(n===t)return function(t){const n=2*t+1;return(e,r,i,o,a)=>{if(!((o-=a)>=i))return;let u=t*r[i];const c=a*t;for(let t=i,n=i+c;t<n;t+=a)u+=r[Math.min(o,t)];for(let t=i,f=o;t<=f;t+=a)u+=r[Math.min(o,t+c)],e[t]=u/n,u-=r[Math.max(i,t-c)]}}(t);const e=t-n,r=2*t+1;return(t,i,o,a,u)=>{if(!((a-=u)>=o))return;let c=n*i[o];const f=u*n,s=f+u;for(let t=o,n=o+f;t<n;t+=u)c+=i[Math.min(a,t)];for(let n=o,l=a;n<=l;n+=u)c+=i[Math.min(a,n+f)],t[n]=(c+e*(i[Math.max(o,n-s)]+i[Math.min(a,n+s)]))/r,c-=i[Math.max(o,n-f)]}}function v(t,n){let e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}function _(t){return 0|t.length}function b(t){return!(t>0)}function m(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function x(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(e=n-i,i+=e/++r,o+=e*(n-i));else{let a=-1;for(let u of t)null!=(u=n(u,++a,t))&&(u=+u)>=u&&(e=u-i,i+=e/++r,o+=e*(u-i))}if(r>1)return o/(r-1)}function w(t,n){const e=x(t,n);return e?Math.sqrt(e):e}function M(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class T{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}class InternMap extends Map{constructor(t,n=N){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(A(this,t))}has(t){return super.has(A(this,t))}set(t,n){return super.set(S(this,t),n)}delete(t){return super.delete(E(this,t))}}class InternSet extends Set{constructor(t,n=N){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(A(this,t))}add(t){return super.add(S(this,t))}delete(t){return super.delete(E(this,t))}}function A({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function S({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function E({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function N(t){return null!==t&&"object"==typeof t?t.valueOf():t}function k(t){return t}function C(t,...n){return F(t,k,k,n)}function P(t,...n){return F(t,Array.from,k,n)}function z(t,n){for(let e=1,r=n.length;e<r;++e)t=t.flatMap((t=>t.pop().map((([n,e])=>[...t,n,e]))));return t}function $(t,n,...e){return F(t,k,n,e)}function D(t,n,...e){return F(t,Array.from,n,e)}function R(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function F(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const a=new InternMap,u=r[o++];let c=-1;for(const t of i){const n=u(t,++c,i),e=a.get(n);e?e.push(t):a.set(n,[t])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}function q(t,n){return Array.from(n,(n=>t[n]))}function U(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&2!==e.length||n.length>1){const r=Uint32Array.from(t,((t,n)=>n));return n.length>1?(n=n.map((n=>t.map(n))),r.sort(((t,e)=>{for(const r of n){const n=O(r[t],r[e]);if(n)return n}}))):(e=t.map(e),r.sort(((t,n)=>O(e[t],e[n])))),q(t,r)}return t.sort(I(e))}function I(t=n){if(t===n)return O;if("function"!=typeof t)throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||0===r?r:(0===t(e,e))-(0===t(n,n))}}function O(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}var B=Array.prototype.slice;function Y(t){return()=>t}const L=Math.sqrt(50),j=Math.sqrt(10),H=Math.sqrt(2);function X(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=L?10:o>=j?5:o>=H?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(t*f),c=Math.round(n*f),u/f<t&&++u,c/f>n&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(t/f),c=Math.round(n/f),u*f<t&&++u,c*f>n&&--c),c<u&&.5<=e&&e<2?X(t,n,2*e):[u,c,f]}function G(t,n,e){if(!((e=+e)>0))return[];if((t=+t)===(n=+n))return[t];const r=n<t,[i,o,a]=r?X(n,t,e):X(t,n,e);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let t=0;t<u;++t)c[t]=(o-t)/-a;else for(let t=0;t<u;++t)c[t]=(o-t)*a;else if(a<0)for(let t=0;t<u;++t)c[t]=(i+t)/-a;else for(let t=0;t<u;++t)c[t]=(i+t)*a;return c}function V(t,n,e){return X(t=+t,n=+n,e=+e)[2]}function W(t,n,e){e=+e;const r=(n=+n)<(t=+t),i=r?V(n,t,e):V(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Z(t,n,e){let r;for(;;){const i=V(t,n,e);if(i===r||0===i||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function K(t){return Math.max(1,Math.ceil(Math.log(v(t))/Math.LN2)+1)}function Q(){var t=k,n=M,e=K;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a,u=r.length,c=new Array(u);for(i=0;i<u;++i)c[i]=t(r[i],i,r);var f=n(c),l=f[0],h=f[1],d=e(c,l,h);if(!Array.isArray(d)){const t=h,e=+d;if(n===M&&([l,h]=Z(l,h,e)),(d=G(l,h,e))[0]<=l&&(a=V(l,h,e)),d[d.length-1]>=h)if(t>=h&&n===M){const t=V(l,h,e);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else d.pop()}for(var p=d.length,g=0,y=p;d[g]<=l;)++g;for(;d[y-1]>h;)--y;(g||y<p)&&(d=d.slice(g,y),p=y-g);var v,_=new Array(p+1);for(i=0;i<=p;++i)(v=_[i]=[]).x0=i>0?d[i-1]:l,v.x1=i<p?d[i]:h;if(isFinite(a)){if(a>0)for(i=0;i<u;++i)null!=(o=c[i])&&l<=o&&o<=h&&_[Math.min(p,Math.floor((o-l)/a))].push(r[i]);else if(a<0)for(i=0;i<u;++i)if(null!=(o=c[i])&&l<=o&&o<=h){const t=Math.floor((l-o)*a);_[Math.min(p,t+(d[t]<=o))].push(r[i])}}else for(i=0;i<u;++i)null!=(o=c[i])&&l<=o&&o<=h&&_[s(d,o,0,p)].push(r[i]);return _}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:Y(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:Y([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Y(Array.isArray(t)?B.call(t):t),r):e},r}function J(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function tt(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e<n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function nt(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e>n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function et(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e>n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function rt(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=void 0===i?O:I(i);r>e;){if(r-e>600){const o=r-e+1,a=n-e+1,u=Math.log(o),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(o-c)/o)*(a-o/2<0?-1:1);rt(t,n,Math.max(e,Math.floor(n-a*c/o+f)),Math.min(r,Math.floor(n+(o-a)*c/o+f)),i)}const o=t[n];let a=e,u=r;for(it(t,e,n),i(t[r],o)>0&&it(t,e,r);a<u;){for(it(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}0===i(t[e],o)?it(t,e,u):(++u,it(t,u,r)),u<=n&&(e=u+1),n<=u&&(r=u-1)}return t}function it(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function ot(t,e=n){let r,i=!1;if(1===e.length){let o;for(const a of t){const t=e(a);(i?n(t,o)>0:0===n(t,t))&&(r=a,o=t,i=!0)}}else for(const n of t)(i?e(n,r)>0:0===e(n,n))&&(r=n,i=!0);return r}function at(t,n,e){if(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e)),(r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return nt(t);if(n>=1)return J(t);var r,i=(r-1)*n,o=Math.floor(i),a=J(rt(t,o).subarray(0,o+1));return a+(nt(t.subarray(o+1))-a)*(i-o)}}function ut(t,n,e=o){if((r=t.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),u=+e(t[a],a,t);return u+(+e(t[a+1],a+1,t)-u)*(i-a)}}function ct(t,n,e=o){if(!isNaN(n=+n)){if(r=Float64Array.from(t,((n,r)=>o(e(t[r],r,t)))),n<=0)return et(r);if(n>=1)return tt(r);var r,i=Uint32Array.from(t,((t,n)=>n)),a=r.length-1,u=Math.floor(a*n);return rt(i,u,0,a,((t,n)=>O(r[t],r[n]))),(u=ot(i.subarray(0,u+1),(t=>r[t])))>=0?u:-1}}function ft(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function st(t,n){return[t,n]}function lt(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function ht(t,e=n){if(1===e.length)return et(t,e);let r,i=-1,o=-1;for(const n of t)++o,(i<0?0===e(n,n):e(n,r)<0)&&(r=n,i=o);return i}var dt=pt(Math.random);function pt(t){return function(n,e=0,r=n.length){let i=r-(e=+e);for(;i;){const r=t()*i--|0,o=n[i+e];n[i+e]=n[r+e],n[r+e]=o}return n}}function gt(t){if(!(i=t.length))return[];for(var n=-1,e=nt(t,yt),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r}function yt(t){return t.length}function vt(t){return t instanceof InternSet?t:new InternSet(t)}function _t(t,n){const e=t[Symbol.iterator](),r=new Set;for(const t of n){const n=bt(t);if(r.has(n))continue;let i,o;for(;({value:i,done:o}=e.next());){if(o)return!1;const t=bt(i);if(r.add(t),Object.is(n,t))break}}return!0}function bt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function mt(t){return t}var xt=1,wt=2,Mt=3,Tt=4,At=1e-6;function St(t){return"translate("+t+",0)"}function Et(t){return"translate(0,"+t+")"}function Nt(t){return n=>+t(n)}function kt(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Ct(){return!this.__axis}function Pt(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,f=t===xt||t===Tt?-1:1,s=t===Tt||t===wt?"x":"y",l=t===xt||t===Mt?St:Et;function h(h){var d=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,p=null==i?n.tickFormat?n.tickFormat.apply(n,e):mt:i,g=Math.max(o,0)+u,y=n.range(),v=+y[0]+c,_=+y[y.length-1]+c,b=(n.bandwidth?kt:Nt)(n.copy(),c),m=h.selection?h.selection():h,x=m.selectAll(".domain").data([null]),w=m.selectAll(".tick").data(d,n).order(),M=w.exit(),T=w.enter().append("g").attr("class","tick"),A=w.select("line"),S=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(T),A=A.merge(T.append("line").attr("stroke","currentColor").attr(s+"2",f*o)),S=S.merge(T.append("text").attr("fill","currentColor").attr(s,f*g).attr("dy",t===xt?"0em":t===Mt?"0.71em":"0.32em")),h!==m&&(x=x.transition(h),w=w.transition(h),A=A.transition(h),S=S.transition(h),M=M.transition(h).attr("opacity",At).attr("transform",(function(t){return isFinite(t=b(t))?l(t+c):this.getAttribute("transform")})),T.attr("opacity",At).attr("transform",(function(t){var n=this.parentNode.__axis;return l((n&&isFinite(n=n(t))?n:b(t))+c)}))),M.remove(),x.attr("d",t===Tt||t===wt?a?"M"+f*a+","+v+"H"+c+"V"+_+"H"+f*a:"M"+c+","+v+"V"+_:a?"M"+v+","+f*a+"V"+c+"H"+_+"V"+f*a:"M"+v+","+c+"H"+_),w.attr("opacity",1).attr("transform",(function(t){return l(b(t)+c)})),A.attr(s+"2",f*o),S.attr(s,f*g).text(p),m.filter(Ct).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===wt?"start":t===Tt?"end":"middle"),m.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h.offset=function(t){return arguments.length?(c=+t,h):c},h}var zt={value:()=>{}};function $t(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Dt(r)}function Dt(t){this._=t}function Rt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Ft(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=zt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Dt.prototype=$t.prototype={constructor:Dt,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=Ft(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Ft(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=Rt(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Dt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var qt="http://www.w3.org/1999/xhtml",Ut={svg:"http://www.w3.org/2000/svg",xhtml:qt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function It(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ut.hasOwnProperty(n)?{space:Ut[n],local:t}:t}function Ot(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===qt&&n.documentElement.namespaceURI===qt?n.createElement(t):n.createElementNS(e,t)}}function Bt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yt(t){var n=It(t);return(n.local?Bt:Ot)(n)}function Lt(){}function jt(t){return null==t?Lt:function(){return this.querySelector(t)}}function Ht(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Xt(){return[]}function Gt(t){return null==t?Xt:function(){return this.querySelectorAll(t)}}function Vt(t){return function(){return this.matches(t)}}function Wt(t){return function(n){return n.matches(t)}}var Zt=Array.prototype.find;function Kt(){return this.firstElementChild}var Qt=Array.prototype.filter;function Jt(){return Array.from(this.children)}function tn(t){return new Array(t.length)}function nn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function en(t,n,e,r,i,o){for(var a,u=0,c=n.length,f=o.length;u<f;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new nn(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function rn(t,n,e,r,i,o,a){var u,c,f,s=new Map,l=n.length,h=o.length,d=new Array(l);for(u=0;u<l;++u)(c=n[u])&&(d[u]=f=a.call(c,c.__data__,u,n)+"",s.has(f)?i[u]=c:s.set(f,c));for(u=0;u<h;++u)f=a.call(t,o[u],u,o)+"",(c=s.get(f))?(r[u]=c,c.__data__=o[u],s.delete(f)):e[u]=new nn(t,o[u]);for(u=0;u<l;++u)(c=n[u])&&s.get(d[u])===c&&(i[u]=c)}function on(t){return t.__data__}function an(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function un(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function cn(t){return function(){this.removeAttribute(t)}}function fn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sn(t,n){return function(){this.setAttribute(t,n)}}function ln(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function hn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function dn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function pn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function gn(t){return function(){this.style.removeProperty(t)}}function yn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function vn(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function _n(t,n){return t.style.getPropertyValue(n)||pn(t).getComputedStyle(t,null).getPropertyValue(n)}function bn(t){return function(){delete this[t]}}function mn(t,n){return function(){this[t]=n}}function xn(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function wn(t){return t.trim().split(/^|\s+/)}function Mn(t){return t.classList||new Tn(t)}function Tn(t){this._node=t,this._names=wn(t.getAttribute("class")||"")}function An(t,n){for(var e=Mn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Sn(t,n){for(var e=Mn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function En(t){return function(){An(this,t)}}function Nn(t){return function(){Sn(this,t)}}function kn(t,n){return function(){(n.apply(this,arguments)?An:Sn)(this,t)}}function Cn(){this.textContent=""}function Pn(t){return function(){this.textContent=t}}function zn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function $n(){this.innerHTML=""}function Dn(t){return function(){this.innerHTML=t}}function Rn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Fn(){this.nextSibling&&this.parentNode.appendChild(this)}function qn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Un(){return null}function In(){var t=this.parentNode;t&&t.removeChild(this)}function On(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Bn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Yn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Ln(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function jn(t,n,e){var r=pn(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Hn(t,n){return function(){return jn(this,t,n)}}function Xn(t,n){return function(){return jn(this,t,n.apply(this,arguments))}}nn.prototype={constructor:nn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Tn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Gn=[null];function Vn(t,n){this._groups=t,this._parents=n}function Wn(){return new Vn([[document.documentElement]],Gn)}function Zn(t){return"string"==typeof t?new Vn([[document.querySelector(t)]],[document.documentElement]):new Vn([[t]],Gn)}Vn.prototype=Wn.prototype={constructor:Vn,select:function(t){"function"!=typeof t&&(t=jt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,f=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),f[s]=a);return new Vn(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Ht(t.apply(this,arguments))}}(t):Gt(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,f=0;f<c;++f)(a=u[f])&&(r.push(t.call(a,a.__data__,f,u)),i.push(a));return new Vn(r,i)},selectChild:function(t){return this.select(null==t?Kt:function(t){return function(){return Zt.call(this.children,t)}}("function"==typeof t?t:Wt(t)))},selectChildren:function(t){return this.selectAll(null==t?Jt:function(t){return function(){return Qt.call(this.children,t)}}("function"==typeof t?t:Wt(t)))},filter:function(t){"function"!=typeof t&&(t=Vt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],f=0;f<u;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&c.push(o);return new Vn(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,on);var e=n?rn:en,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),f=0;f<o;++f){var s=r[f],l=i[f],h=l.length,d=an(t.call(s,s&&s.__data__,f,r)),p=d.length,g=u[f]=new Array(p),y=a[f]=new Array(p);e(s,l,g,y,c[f]=new Array(h),d,n);for(var v,_,b=0,m=0;b<p;++b)if(v=g[b]){for(b>=m&&(m=b+1);!(_=y[m])&&++m<p;);v._next=_||null}}return(a=new Vn(a,r))._enter=u,a._exit=c,a},enter:function(){return new Vn(this._enter||this._groups.map(tn),this._parents)},exit:function(){return new Vn(this._exit||this._groups.map(tn),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var f,s=e[c],l=r[c],h=s.length,d=u[c]=new Array(h),p=0;p<h;++p)(f=s[p]||l[p])&&(d[p]=f);for(;c<i;++c)u[c]=e[c];return new Vn(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=un);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,f=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(f[s]=a);f.sort(n)}return new Vn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=It(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?fn:cn:"function"==typeof n?e.local?dn:hn:e.local?ln:sn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?gn:"function"==typeof n?vn:yn)(t,n,null==e?"":e)):_n(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?bn:"function"==typeof n?xn:mn)(t,n)):this.node()[t]},classed:function(t,n){var e=wn(t+"");if(arguments.length<2){for(var r=Mn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?kn:n?En:Nn)(e,n))},text:function(t){return arguments.length?this.each(null==t?Cn:("function"==typeof t?zn:Pn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$n:("function"==typeof t?Rn:Dn)(t)):this.node().innerHTML},raise:function(){return this.each(Fn)},lower:function(){return this.each(qn)},append:function(t){var n="function"==typeof t?t:Yt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Yt(t),r=null==n?Un:"function"==typeof n?n:jt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(In)},clone:function(t){return this.select(t?Bn:On)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Ln:Yn,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,f=0,s=u.length;f<s;++f)for(r=0,c=u[f];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?Xn:Hn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Kn=0;function Qn(){return new Jn}function Jn(){this._="@"+(++Kn).toString(36)}function te(t){let n;for(;n=t.sourceEvent;)t=n;return t}function ne(t,n){if(t=te(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}Jn.prototype=Qn.prototype={constructor:Jn,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};const ee={passive:!1},re={capture:!0,passive:!1};function ie(t){t.stopImmediatePropagation()}function oe(t){t.preventDefault(),t.stopImmediatePropagation()}function ae(t){var n=t.document.documentElement,e=Zn(t).on("dragstart.drag",oe,re);"onselectstart"in n?e.on("selectstart.drag",oe,re):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ue(t,n){var e=t.document.documentElement,r=Zn(t).on("dragstart.drag",null);n&&(r.on("click.drag",oe,re),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var ce=t=>()=>t;function fe(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:u,dx:c,dy:f,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:s}})}function se(t){return!t.ctrlKey&&!t.button}function le(){return this.parentNode}function he(t,n){return null==n?{x:t.x,y:t.y}:n}function de(){return navigator.maxTouchPoints||"ontouchstart"in this}function pe(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ge(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ye(){}fe.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ve=.7,_e=1/ve,be="\\s*([+-]?\\d+)\\s*",me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",we=/^#([0-9a-f]{3,8})$/,Me=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),Te=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),Ae=new RegExp(`^rgba\\(${be},${be},${be},${me}\\)$`),Se=new RegExp(`^rgba\\(${xe},${xe},${xe},${me}\\)$`),Ee=new RegExp(`^hsl\\(${me},${xe},${xe}\\)$`),Ne=new RegExp(`^hsla\\(${me},${xe},${xe},${me}\\)$`),ke={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ce(){return this.rgb().formatHex()}function Pe(){return this.rgb().formatRgb()}function ze(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=we.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?$e(n):3===e?new qe(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?De(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?De(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Me.exec(t))?new qe(n[1],n[2],n[3],1):(n=Te.exec(t))?new qe(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ae.exec(t))?De(n[1],n[2],n[3],n[4]):(n=Se.exec(t))?De(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ee.exec(t))?Le(n[1],n[2]/100,n[3]/100,1):(n=Ne.exec(t))?Le(n[1],n[2]/100,n[3]/100,n[4]):ke.hasOwnProperty(t)?$e(ke[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function $e(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function De(t,n,e,r){return r<=0&&(t=n=e=NaN),new qe(t,n,e,r)}function Re(t){return t instanceof ye||(t=ze(t)),t?new qe((t=t.rgb()).r,t.g,t.b,t.opacity):new qe}function Fe(t,n,e,r){return 1===arguments.length?Re(t):new qe(t,n,e,null==r?1:r)}function qe(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Ue(){return`#${Ye(this.r)}${Ye(this.g)}${Ye(this.b)}`}function Ie(){const t=Oe(this.opacity);return`${1===t?"rgb(":"rgba("}${Be(this.r)}, ${Be(this.g)}, ${Be(this.b)}${1===t?")":`, ${t})`}`}function Oe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Be(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ye(t){return((t=Be(t))<16?"0":"")+t.toString(16)}function Le(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Xe(t,n,e,r)}function je(t){if(t instanceof Xe)return new Xe(t.h,t.s,t.l,t.opacity);if(t instanceof ye||(t=ze(t)),!t)return new Xe;if(t instanceof Xe)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new Xe(a,u,c,t.opacity)}function He(t,n,e,r){return 1===arguments.length?je(t):new Xe(t,n,e,null==r?1:r)}function Xe(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ge(t){return(t=(t||0)%360)<0?t+360:t}function Ve(t){return Math.max(0,Math.min(1,t||0))}function We(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}pe(ye,ze,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ce,formatHex:Ce,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return je(this).formatHsl()},formatRgb:Pe,toString:Pe}),pe(qe,Fe,ge(ye,{brighter(t){return t=null==t?_e:Math.pow(_e,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ve:Math.pow(ve,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qe(Be(this.r),Be(this.g),Be(this.b),Oe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ue,formatHex:Ue,formatHex8:function(){return`#${Ye(this.r)}${Ye(this.g)}${Ye(this.b)}${Ye(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ie,toString:Ie})),pe(Xe,He,ge(ye,{brighter(t){return t=null==t?_e:Math.pow(_e,t),new Xe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ve:Math.pow(ve,t),new Xe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new qe(We(t>=240?t-240:t+120,i,r),We(t,i,r),We(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xe(Ge(this.h),Ve(this.s),Ve(this.l),Oe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oe(this.opacity);return`${1===t?"hsl(":"hsla("}${Ge(this.h)}, ${100*Ve(this.s)}%, ${100*Ve(this.l)}%${1===t?")":`, ${t})`}`}}));const Ze=Math.PI/180,Ke=180/Math.PI,Qe=.96422,Je=1,tr=.82521,nr=4/29,er=6/29,rr=3*er*er,ir=er*er*er;function or(t){if(t instanceof ur)return new ur(t.l,t.a,t.b,t.opacity);if(t instanceof pr)return gr(t);t instanceof qe||(t=Re(t));var n,e,r=lr(t.r),i=lr(t.g),o=lr(t.b),a=cr((.2225045*r+.7168786*i+.0606169*o)/Je);return r===i&&i===o?n=e=a:(n=cr((.4360747*r+.3850649*i+.1430804*o)/Qe),e=cr((.0139322*r+.0971045*i+.7141733*o)/tr)),new ur(116*a-16,500*(n-a),200*(a-e),t.opacity)}function ar(t,n,e,r){return 1===arguments.length?or(t):new ur(t,n,e,null==r?1:r)}function ur(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function cr(t){return t>ir?Math.pow(t,1/3):t/rr+nr}function fr(t){return t>er?t*t*t:rr*(t-nr)}function sr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function lr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hr(t){if(t instanceof pr)return new pr(t.h,t.c,t.l,t.opacity);if(t instanceof ur||(t=or(t)),0===t.a&&0===t.b)return new pr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ke;return new pr(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function dr(t,n,e,r){return 1===arguments.length?hr(t):new pr(t,n,e,null==r?1:r)}function pr(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function gr(t){if(isNaN(t.h))return new ur(t.l,0,0,t.opacity);var n=t.h*Ze;return new ur(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}pe(ur,ar,ge(ye,{brighter(t){return new ur(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new ur(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new qe(sr(3.1338561*(n=Qe*fr(n))-1.6168667*(t=Je*fr(t))-.4906146*(e=tr*fr(e))),sr(-.9787684*n+1.9161415*t+.033454*e),sr(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),pe(pr,dr,ge(ye,{brighter(t){return new pr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new pr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return gr(this).rgb()}}));var yr=-.14861,vr=1.78277,_r=-.29227,br=-.90649,mr=1.97294,xr=mr*br,wr=mr*vr,Mr=vr*_r-br*yr;function Tr(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ar)return new Ar(t.h,t.s,t.l,t.opacity);t instanceof qe||(t=Re(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Mr*r+xr*n-wr*e)/(Mr+xr-wr),o=r-i,a=(mr*(e-i)-_r*o)/br,u=Math.sqrt(a*a+o*o)/(mr*i*(1-i)),c=u?Math.atan2(a,o)*Ke-120:NaN;return new Ar(c<0?c+360:c,u,i,t.opacity)}(t):new Ar(t,n,e,null==r?1:r)}function Ar(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Sr(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Er(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return Sr((e-r/n)*n,a,i,o,u)}}function Nr(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return Sr((e-r/n)*n,i,o,a,u)}}pe(Ar,Tr,ge(ye,{brighter(t){return t=null==t?_e:Math.pow(_e,t),new Ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ve:Math.pow(ve,t),new Ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Ze,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new qe(255*(n+e*(yr*r+vr*i)),255*(n+e*(_r*r+br*i)),255*(n+e*(mr*r)),this.opacity)}}));var kr=t=>()=>t;function Cr(t,n){return function(e){return t+e*n}}function Pr(t,n){var e=n-t;return e?Cr(t,e>180||e<-180?e-360*Math.round(e/360):e):kr(isNaN(t)?n:t)}function zr(t){return 1==(t=+t)?$r:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):kr(isNaN(n)?e:n)}}function $r(t,n){var e=n-t;return e?Cr(t,e):kr(isNaN(t)?n:t)}var Dr=function t(n){var e=zr(n);function r(t,n){var r=e((t=Fe(t)).r,(n=Fe(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=$r(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Rr(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Fe(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var Fr=Rr(Er),qr=Rr(Nr);function Ur(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Ir(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Or(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Gr(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Br(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Yr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Lr(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Gr(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hr=new RegExp(jr.source,"g");function Xr(t,n){var e,r,i,o=jr.lastIndex=Hr.lastIndex=0,a=-1,u=[],c=[];for(t+="",n+="";(e=jr.exec(t))&&(r=Hr.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Yr(e,r)})),o=Hr.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)u[(e=c[r]).i]=e.x(t);return u.join("")})}function Gr(t,n){var e,r=typeof n;return null==n||"boolean"===r?kr(n):("number"===r?Yr:"string"===r?(e=ze(n))?(n=e,Dr):Xr:n instanceof ze?Dr:n instanceof Date?Br:Ir(n)?Ur:Array.isArray(n)?Or:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Lr:Yr)(t,n)}function Vr(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Wr,Zr=180/Math.PI,Kr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qr(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Zr,skewX:Math.atan(c)*Zr,scaleX:a,scaleY:u}}function Jr(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,n,null,e);u.push({i:c-4,x:Yr(t,i)},{i:c-2,x:Yr(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Yr(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Yr(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,c),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Yr(t,e)},{i:u-2,x:Yr(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var n,e=-1,r=c.length;++e<r;)u[(n=c[e]).i]=n.x(t);return u.join("")}}}var ti=Jr((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Kr:Qr(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),ni=Jr((function(t){return null==t?Kr:(Wr||(Wr=document.createElementNS("http://www.w3.org/2000/svg","g")),Wr.setAttribute("transform",t),(t=Wr.transform.baseVal.consolidate())?Qr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Kr)}),", ",")",")");function ei(t){return((t=Math.exp(t))+1/t)/2}var ri=function t(n,e,r){function i(t,i){var o,a,u=t[0],c=t[1],f=t[2],s=i[0],l=i[1],h=i[2],d=s-u,p=l-c,g=d*d+p*p;if(g<1e-12)a=Math.log(h/f)/n,o=function(t){return[u+t*d,c+t*p,f*Math.exp(n*t*a)]};else{var y=Math.sqrt(g),v=(h*h-f*f+r*g)/(2*f*e*y),_=(h*h-f*f-r*g)/(2*h*e*y),b=Math.log(Math.sqrt(v*v+1)-v),m=Math.log(Math.sqrt(_*_+1)-_);a=(m-b)/n,o=function(t){var r=t*a,i=ei(b),o=f/(e*y)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(n*r+b)-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[u+o*d,c+o*p,f*i/ei(n*r+b)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4);function ii(t){return function(n,e){var r=t((n=He(n)).h,(e=He(e)).h),i=$r(n.s,e.s),o=$r(n.l,e.l),a=$r(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var oi=ii(Pr),ai=ii($r);function ui(t){return function(n,e){var r=t((n=dr(n)).h,(e=dr(e)).h),i=$r(n.c,e.c),o=$r(n.l,e.l),a=$r(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}var ci=ui(Pr),fi=ui($r);function si(t){return function n(e){function r(n,r){var i=t((n=Tr(n)).h,(r=Tr(r)).h),o=$r(n.s,r.s),a=$r(n.l,r.l),u=$r(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}var li=si(Pr),hi=si($r);function di(t,n){void 0===n&&(n=t,t=Gr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}var pi,gi,yi=0,vi=0,_i=0,bi=1e3,mi=0,xi=0,wi=0,Mi="object"==typeof performance&&performance.now?performance:Date,Ti="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ai(){return xi||(Ti(Si),xi=Mi.now()+wi)}function Si(){xi=0}function Ei(){this._call=this._time=this._next=null}function Ni(t,n,e){var r=new Ei;return r.restart(t,n,e),r}function ki(){Ai(),++yi;for(var t,n=pi;n;)(t=xi-n._time)>=0&&n._call.call(void 0,t),n=n._next;--yi}function Ci(){xi=(mi=Mi.now())+wi,yi=vi=0;try{ki()}finally{yi=0,function(){var t,n,e=pi,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:pi=n);gi=t,zi(r)}(),xi=0}}function Pi(){var t=Mi.now(),n=t-mi;n>bi&&(wi-=n,mi=t)}function zi(t){yi||(vi&&(vi=clearTimeout(vi)),t-xi>24?(t<1/0&&(vi=setTimeout(Ci,t-Mi.now()-wi)),_i&&(_i=clearInterval(_i))):(_i||(mi=Mi.now(),_i=setInterval(Pi,bi)),yi=1,Ti(Ci)))}function $i(t,n,e){var r=new Ei;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Ei.prototype=Ni.prototype={constructor:Ei,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ai():+e)+(null==n?0:+n),this._next||gi===this||(gi?gi._next=this:pi=this,gi=this),this._call=t,this._time=e,zi()},stop:function(){this._call&&(this._call=null,this._time=1/0,zi())}};var Di=$t("start","end","cancel","interrupt"),Ri=[],Fi=0,qi=1,Ui=2,Ii=3,Oi=4,Bi=5,Yi=6;function Li(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=qi,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var f,s,l,h;if(e.state!==qi)return c();for(f in i)if((h=i[f]).name===e.name){if(h.state===Ii)return $i(a);h.state===Oi?(h.state=Yi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=Yi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if($i((function(){e.state===Ii&&(e.state=Oi,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=Ui,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ui){for(e.state=Ii,r=new Array(l=e.tween.length),f=0,s=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=Bi,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);e.state===Bi&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=Yi,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ni(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:Di,tween:Ri,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Fi})}function ji(t,n){var e=Xi(t,n);if(e.state>Fi)throw new Error("too late; already scheduled");return e}function Hi(t,n){var e=Xi(t,n);if(e.state>Ii)throw new Error("too late; already running");return e}function Xi(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Gi(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Ui&&e.state<Bi,e.state=Yi,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Vi(t,n){var e,r;return function(){var i=Hi(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Wi(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Hi(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=u;break}c===f&&i.push(u)}o.tween=i}}function Zi(t,n,e){var r=t._id;return t.each((function(){var t=Hi(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Xi(t,r).value[n]}}function Ki(t,n){var e;return("number"==typeof n?Yr:n instanceof ze?Dr:(e=ze(n))?(n=e,Dr):Xr)(t,n)}function Qi(t){return function(){this.removeAttribute(t)}}function Ji(t){return function(){this.removeAttributeNS(t.space,t.local)}}function to(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function no(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function eo(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttribute(t)}}function ro(t,n,e){var r,i,o;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,c));this.removeAttributeNS(t.space,t.local)}}function io(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function oo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function ao(t,n){return function(){ji(this,t).delay=+n.apply(this,arguments)}}function uo(t,n){return n=+n,function(){ji(this,t).delay=n}}function co(t,n){return function(){Hi(this,t).duration=+n.apply(this,arguments)}}function fo(t,n){return n=+n,function(){Hi(this,t).duration=n}}var so=Wn.prototype.constructor;function lo(t){return function(){this.style.removeProperty(t)}}var ho=0;function po(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function go(t){return Wn().transition(t)}function yo(){return++ho}var vo=Wn.prototype;po.prototype=go.prototype={constructor:po,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=jt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,f=r[a],s=f.length,l=o[a]=new Array(s),h=0;h<s;++h)(u=f[h])&&(c=t.call(u,u.__data__,h,f))&&("__data__"in u&&(c.__data__=u.__data__),l[h]=c,Li(l[h],n,e,h,l,Xi(u,e)));return new po(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Gt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,f=r[u],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var h,d=t.call(c,c.__data__,l,f),p=Xi(c,e),g=0,y=d.length;g<y;++g)(h=d[g])&&Li(h,n,e,g,d,p);o.push(d),a.push(c)}return new po(o,a,n,e)},selectChild:vo.selectChild,selectChildren:vo.selectChildren,filter:function(t){"function"!=typeof t&&(t=Vt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],f=0;f<u;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&c.push(o);return new po(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,f=n[u],s=e[u],l=f.length,h=a[u]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new po(a,this._parents,this._name,this._id)},selection:function(){return new so(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=yo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,f=0;f<c;++f)if(a=u[f]){var s=Xi(a,n);Li(a,t,e,f,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new po(r,this._parents,t,e)},call:vo.call,nodes:vo.nodes,node:vo.node,size:vo.size,empty:vo.empty,each:vo.each,on:function(t,n){var e=this._id;return arguments.length<2?Xi(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ji:Hi;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=It(t),r="transform"===e?ni:Ki;return this.attrTween(t,"function"==typeof n?(e.local?ro:eo)(e,r,Zi(this,"attr."+t,n)):null==n?(e.local?Ji:Qi)(e):(e.local?no:to)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=It(t);return this.tween(e,(r.local?io:oo)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?ti:Ki;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=_n(this,t),a=(this.style.removeProperty(t),_n(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,lo(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=_n(this,t),u=e(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=_n(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u))}}(t,r,Zi(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var c=Hi(this,t),f=c.on,s=null==c.value[a]?o||(o=lo(n)):void 0;f===e&&i===s||(r=(e=f).copy()).on(u,i=s),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=_n(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Zi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Xi(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Vi:Wi)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ao:uo)(n,t)):Xi(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?co:fo)(n,t)):Xi(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Hi(this,t).ease=n}}(n,t)):Xi(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Hi(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},c={value:function(){0==--i&&o()}};e.each((function(){var e=Hi(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:vo[Symbol.iterator]};function _o(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function bo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var mo=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),xo=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),wo=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Mo=Math.PI,To=Mo/2;function Ao(t){return(1-Math.cos(Mo*t))/2}function So(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Eo(t){return((t*=2)<=1?So(1-t):2-So(t-1))/2}function No(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ko=4/11,Co=6/11,Po=8/11,zo=3/4,$o=9/11,Do=10/11,Ro=15/16,Fo=21/22,qo=63/64,Uo=1/ko/ko;function Io(t){return(t=+t)<ko?Uo*t*t:t<Po?Uo*(t-=Co)*t+zo:t<Do?Uo*(t-=$o)*t+Ro:Uo*(t-=Fo)*t+qo}var Oo=1.70158,Bo=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(Oo),Yo=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(Oo),Lo=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(Oo),jo=2*Math.PI,Ho=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=jo);function i(t){return n*So(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*jo)},i.period=function(e){return t(n,e)},i}(1,.3),Xo=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=jo);function i(t){return 1-n*So(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*jo)},i.period=function(e){return t(n,e)},i}(1,.3),Go=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=jo);function i(t){return((t=2*t-1)<0?n*So(-t)*Math.sin((r-t)/e):2-n*So(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*jo)},i.period=function(e){return t(n,e)},i}(1,.3),Vo={time:null,delay:0,duration:250,ease:bo};function Wo(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Wn.prototype.interrupt=function(t){return this.each((function(){Gi(this,t)}))},Wn.prototype.transition=function(t){var n,e;t instanceof po?(n=t._id,t=t._name):(n=yo(),(e=Vo).time=Ai(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,f=0;f<c;++f)(a=u[f])&&Li(a,t,n,f,u,e||Wo(a,n));return new po(r,this._parents,t,n)};var Zo=[null];var Ko=t=>()=>t;function Qo(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Jo(t){t.preventDefault(),t.stopImmediatePropagation()}var ta={name:"drag"},na={name:"space"},ea={name:"handle"},ra={name:"center"};const{abs:ia,max:oa,min:aa}=Math;function ua(t){return[+t[0],+t[1]]}function ca(t){return[ua(t[0]),ua(t[1])]}var fa={name:"x",handles:["w","e"].map(va),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},sa={name:"y",handles:["n","s"].map(va),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},la={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(va),input:function(t){return null==t?null:ca(t)},output:function(t){return t}},ha={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},da={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},pa={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ga={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ya={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function va(t){return{type:t}}function _a(t){return!t.ctrlKey&&!t.button}function ba(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ma(){return navigator.maxTouchPoints||"ontouchstart"in this}function xa(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function wa(t){var n,e=ba,r=_a,i=ma,o=!0,a=$t("start","brush","end"),u=6;function c(n){var e=n.property("__brush",g).selectAll(".overlay").data([va("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ha.overlay).merge(e).each((function(){var t=xa(this).extent;Zn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([va("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ha.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return ha[t.type]})),n.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){var t=Zn(this),n=xa(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(e){if((!n||e.touches)&&r.apply(this,arguments)){var i,a,u,c,l,h,d,p,g,y,v,_=this,b=e.target.__data__.type,m="selection"===(o&&e.metaKey?b="overlay":b)?ta:o&&e.altKey?ra:ea,x=t===sa?null:ga[b],w=t===fa?null:ya[b],M=xa(_),T=M.extent,A=M.selection,S=T[0][0],E=T[0][1],N=T[1][0],k=T[1][1],C=0,P=0,z=x&&w&&o&&e.shiftKey,$=Array.from(e.touches||[e],(t=>{const n=t.identifier;return(t=ne(t,_)).point0=t.slice(),t.identifier=n,t}));Gi(_);var D=s(_,arguments,!0).beforestart();if("overlay"===b){A&&(g=!0);const n=[$[0],$[1]||$[0]];M.selection=A=[[i=t===sa?S:aa(n[0][0],n[1][0]),u=t===fa?E:aa(n[0][1],n[1][1])],[l=t===sa?N:oa(n[0][0],n[1][0]),d=t===fa?k:oa(n[0][1],n[1][1])]],$.length>1&&I(e)}else i=A[0][0],u=A[0][1],l=A[1][0],d=A[1][1];a=i,c=u,h=l,p=d;var R=Zn(_).attr("pointer-events","none"),F=R.selectAll(".overlay").attr("cursor",ha[b]);if(e.touches)D.moved=U,D.ended=O;else{var q=Zn(e.view).on("mousemove.brush",U,!0).on("mouseup.brush",O,!0);o&&q.on("keydown.brush",(function(t){switch(t.keyCode){case 16:z=x&&w;break;case 18:m===ea&&(x&&(l=h-C*x,i=a+C*x),w&&(d=p-P*w,u=c+P*w),m=ra,I(t));break;case 32:m!==ea&&m!==ra||(x<0?l=h-C:x>0&&(i=a-C),w<0?d=p-P:w>0&&(u=c-P),m=na,F.attr("cursor",ha.selection),I(t));break;default:return}Jo(t)}),!0).on("keyup.brush",(function(t){switch(t.keyCode){case 16:z&&(y=v=z=!1,I(t));break;case 18:m===ra&&(x<0?l=h:x>0&&(i=a),w<0?d=p:w>0&&(u=c),m=ea,I(t));break;case 32:m===na&&(t.altKey?(x&&(l=h-C*x,i=a+C*x),w&&(d=p-P*w,u=c+P*w),m=ra):(x<0?l=h:x>0&&(i=a),w<0?d=p:w>0&&(u=c),m=ea),F.attr("cursor",ha[b]),I(t));break;default:return}Jo(t)}),!0),ae(e.view)}f.call(_),D.start(e,m.name)}function U(t){for(const n of t.changedTouches||[t])for(const t of $)t.identifier===n.identifier&&(t.cur=ne(n,_));if(z&&!y&&!v&&1===$.length){const t=$[0];ia(t.cur[0]-t[0])>ia(t.cur[1]-t[1])?v=!0:y=!0}for(const t of $)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);g=!0,Jo(t),I(t)}function I(t){const n=$[0],e=n.point0;var r;switch(C=n[0]-e[0],P=n[1]-e[1],m){case na:case ta:x&&(C=oa(S-i,aa(N-l,C)),a=i+C,h=l+C),w&&(P=oa(E-u,aa(k-d,P)),c=u+P,p=d+P);break;case ea:$[1]?(x&&(a=oa(S,aa(N,$[0][0])),h=oa(S,aa(N,$[1][0])),x=1),w&&(c=oa(E,aa(k,$[0][1])),p=oa(E,aa(k,$[1][1])),w=1)):(x<0?(C=oa(S-i,aa(N-i,C)),a=i+C,h=l):x>0&&(C=oa(S-l,aa(N-l,C)),a=i,h=l+C),w<0?(P=oa(E-u,aa(k-u,P)),c=u+P,p=d):w>0&&(P=oa(E-d,aa(k-d,P)),c=u,p=d+P));break;case ra:x&&(a=oa(S,aa(N,i-C*x)),h=oa(S,aa(N,l+C*x))),w&&(c=oa(E,aa(k,u-P*w)),p=oa(E,aa(k,d+P*w)))}h<a&&(x*=-1,r=i,i=l,l=r,r=a,a=h,h=r,b in da&&F.attr("cursor",ha[b=da[b]])),p<c&&(w*=-1,r=u,u=d,d=r,r=c,c=p,p=r,b in pa&&F.attr("cursor",ha[b=pa[b]])),M.selection&&(A=M.selection),y&&(a=A[0][0],h=A[1][0]),v&&(c=A[0][1],p=A[1][1]),A[0][0]===a&&A[0][1]===c&&A[1][0]===h&&A[1][1]===p||(M.selection=[[a,c],[h,p]],f.call(_),D.brush(t,m.name))}function O(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else ue(t.view,g),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),F.attr("cursor",ha.overlay),M.selection&&(A=M.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(A)&&(M.selection=null,f.call(_)),D.end(t,m.name)}}function d(t){s(this,arguments).moved(t)}function p(t){s(this,arguments).ended(t)}function g(){var n=this.__brush||{selection:null};return n.extent=ca(e.apply(this,arguments)),n.dim=t,n}return c.move=function(n,e,r){n.tween?n.on("start.brush",(function(t){s(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){s(this,arguments).end(t)})).tween("brush",(function(){var n=this,r=n.__brush,i=s(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=Gr(o,a);function c(t){r.selection=1===t&&null===a?null:u(t),f.call(n),i.brush()}return null!==o&&null!==a?c:c(1)})):n.each((function(){var n=this,i=arguments,o=n.__brush,a=t.input("function"==typeof e?e.apply(n,i):e,o.extent),u=s(n,i).beforestart();Gi(n),o.selection=null===a?null:a,f.call(n),u.start(r).brush(r).end(r)}))},c.clear=function(t,n){c.move(t,null,n)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,n){return this.starting?(this.starting=!1,this.emit("start",t,n)):this.emit("brush",t),this},brush:function(t,n){return this.emit("brush",t,n),this},end:function(t,n){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,n)),this},emit:function(n,e,r){var i=Zn(this.that).datum();a.call(n,this.that,new Qo(n,{sourceEvent:e,target:c,selection:t.output(this.state.selection),mode:r,dispatch:a}),i)}},c.extent=function(t){return arguments.length?(e="function"==typeof t?t:Ko(ca(t)),c):e},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:Ko(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Ko(!!t),c):i},c.handleSize=function(t){return arguments.length?(u=+t,c):u},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}var Ma=Math.abs,Ta=Math.cos,Aa=Math.sin,Sa=Math.PI,Ea=Sa/2,Na=2*Sa,ka=Math.max,Ca=1e-12;function Pa(t,n){return Array.from({length:n-t},((n,e)=>t+e))}function za(t,n){var e=0,r=null,i=null,o=null;function a(a){var u,c=a.length,f=new Array(c),s=Pa(0,c),l=new Array(c*c),h=new Array(c),d=0;a=Float64Array.from({length:c*c},n?(t,n)=>a[n%c][n/c|0]:(t,n)=>a[n/c|0][n%c]);for(let n=0;n<c;++n){let e=0;for(let r=0;r<c;++r)e+=a[n*c+r]+t*a[r*c+n];d+=f[n]=e}u=(d=ka(0,Na-e*c)/d)?e:Na/c;{let n=0;r&&s.sort(((t,n)=>r(f[t],f[n])));for(const e of s){const r=n;if(t){const t=Pa(1+~c,c).filter((t=>t<0?a[~t*c+e]:a[e*c+t]));i&&t.sort(((t,n)=>i(t<0?-a[~t*c+e]:a[e*c+t],n<0?-a[~n*c+e]:a[e*c+n])));for(const r of t)if(r<0){(l[~r*c+e]||(l[~r*c+e]={source:null,target:null})).target={index:e,startAngle:n,endAngle:n+=a[~r*c+e]*d,value:a[~r*c+e]}}else{(l[e*c+r]||(l[e*c+r]={source:null,target:null})).source={index:e,startAngle:n,endAngle:n+=a[e*c+r]*d,value:a[e*c+r]}}h[e]={index:e,startAngle:r,endAngle:n,value:f[e]}}else{const t=Pa(0,c).filter((t=>a[e*c+t]||a[t*c+e]));i&&t.sort(((t,n)=>i(a[e*c+t],a[e*c+n])));for(const r of t){let t;if(e<r?(t=l[e*c+r]||(l[e*c+r]={source:null,target:null}),t.source={index:e,startAngle:n,endAngle:n+=a[e*c+r]*d,value:a[e*c+r]}):(t=l[r*c+e]||(l[r*c+e]={source:null,target:null}),t.target={index:e,startAngle:n,endAngle:n+=a[e*c+r]*d,value:a[e*c+r]},e===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const n=t.source;t.source=t.target,t.target=n}}h[e]={index:e,startAngle:r,endAngle:n,value:f[e]}}n+=u}}return(l=Object.values(l)).groups=h,o?l.sort(o):l}return a.padAngle=function(t){return arguments.length?(e=ka(0,t),a):e},a.sortGroups=function(t){return arguments.length?(r=t,a):r},a.sortSubgroups=function(t){return arguments.length?(i=t,a):i},a.sortChords=function(t){return arguments.length?(null==t?o=null:(n=t,o=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,a):o&&o._;var n},a}const $a=Math.PI,Da=2*$a,Ra=1e-6,Fa=Da-Ra;function qa(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}let Ua=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?qa:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return qa;const e=10**n;return function(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,r){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+r}`}bezierCurveTo(t,n,e,r,i,o){this._append`C${+t},${+n},${+e},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,e,r,i){if(t=+t,n=+n,e=+e,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,u=e-t,c=r-n,f=o-t,s=a-n,l=f*f+s*s;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(l>Ra)if(Math.abs(s*u-c*f)>Ra&&i){let h=e-o,d=r-a,p=u*u+c*c,g=h*h+d*d,y=Math.sqrt(p),v=Math.sqrt(l),_=i*Math.tan(($a-Math.acos((p+l-g)/(2*y*v)))/2),b=_/v,m=_/y;Math.abs(b-1)>Ra&&this._append`L${t+b*f},${n+b*s}`,this._append`A${i},${i},0,0,${+(s*h>f*d)},${this._x1=t+m*u},${this._y1=n+m*c}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,r,i,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(r),u=e*Math.sin(r),c=t+a,f=n+u,s=1^o,l=o?r-i:i-r;null===this._x1?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Ra||Math.abs(this._y1-f)>Ra)&&this._append`L${c},${f}`,e&&(l<0&&(l=l%Da+Da),l>Fa?this._append`A${e},${e},0,1,${s},${t-a},${n-u}A${e},${e},0,1,${s},${this._x1=c},${this._y1=f}`:l>Ra&&this._append`A${e},${e},0,${+(l>=$a)},${s},${this._x1=t+e*Math.cos(i)},${this._y1=n+e*Math.sin(i)}`)}rect(t,n,e,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+r}h${-e}Z`}toString(){return this._}};function Ia(){return new Ua}Ia.prototype=Ua.prototype;var Oa=Array.prototype.slice;function Ba(t){return function(){return t}}function Ya(t){return t.source}function La(t){return t.target}function ja(t){return t.radius}function Ha(t){return t.startAngle}function Xa(t){return t.endAngle}function Ga(){return 0}function Va(){return 10}function Wa(t){var n=Ya,e=La,r=ja,i=ja,o=Ha,a=Xa,u=Ga,c=null;function f(){var f,s=n.apply(this,arguments),l=e.apply(this,arguments),h=u.apply(this,arguments)/2,d=Oa.call(arguments),p=+r.apply(this,(d[0]=s,d)),g=o.apply(this,d)-Ea,y=a.apply(this,d)-Ea,v=+i.apply(this,(d[0]=l,d)),_=o.apply(this,d)-Ea,b=a.apply(this,d)-Ea;if(c||(c=f=Ia()),h>Ca&&(Ma(y-g)>2*h+Ca?y>g?(g+=h,y-=h):(g-=h,y+=h):g=y=(g+y)/2,Ma(b-_)>2*h+Ca?b>_?(_+=h,b-=h):(_-=h,b+=h):_=b=(_+b)/2),c.moveTo(p*Ta(g),p*Aa(g)),c.arc(0,0,p,g,y),g!==_||y!==b)if(t){var m=v-+t.apply(this,arguments),x=(_+b)/2;c.quadraticCurveTo(0,0,m*Ta(_),m*Aa(_)),c.lineTo(v*Ta(x),v*Aa(x)),c.lineTo(m*Ta(b),m*Aa(b))}else c.quadraticCurveTo(0,0,v*Ta(_),v*Aa(_)),c.arc(0,0,v,_,b);if(c.quadraticCurveTo(0,0,p*Ta(g),p*Aa(g)),c.closePath(),f)return c=null,f+""||null}return t&&(f.headRadius=function(n){return arguments.length?(t="function"==typeof n?n:Ba(+n),f):t}),f.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:Ba(+t),f):r},f.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:Ba(+t),f):r},f.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:Ba(+t),f):i},f.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ba(+t),f):o},f.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:Ba(+t),f):a},f.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:Ba(+t),f):u},f.source=function(t){return arguments.length?(n=t,f):n},f.target=function(t){return arguments.length?(e=t,f):e},f.context=function(t){return arguments.length?(c=null==t?null:t,f):c},f}var Za=Array.prototype.slice;function Ka(t,n){return t-n}var Qa=t=>()=>t;function Ja(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=tu(t,n[r]))return e;return 0}function tu(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,u=a-1;o<a;u=o++){var c=t[o],f=c[0],s=c[1],l=t[u],h=l[0],d=l[1];if(nu(c,l,n))return 0;s>r!=d>r&&e<(h-f)*(r-s)/(d-s)+f&&(i=-i)}return i}function nu(t,n,e){var r,i,o,a;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],a=n[r],i<=o&&o<=a||a<=o&&o<=i)}function eu(){}var ru=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function iu(){var t=1,n=1,e=K,r=u;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(Ka);else{const e=M(t,ou);for(n=G(...Z(e[0],e[1],n),n);n[n.length-1]>=e[1];)n.pop();for(;n[1]<e[0];)n.shift()}return n.map((n=>o(t,n)))}function o(e,i){const o=null==i?NaN:+i;if(isNaN(o))throw new Error(`invalid value: ${i}`);var u=[],c=[];return function(e,r,i){var o,u,c,f,s,l,h=new Array,d=new Array;o=u=-1,f=au(e[0],r),ru[f<<1].forEach(p);for(;++o<t-1;)c=f,f=au(e[o+1],r),ru[c|f<<1].forEach(p);ru[f<<0].forEach(p);for(;++u<n-1;){for(o=-1,f=au(e[u*t+t],r),s=au(e[u*t],r),ru[f<<1|s<<2].forEach(p);++o<t-1;)c=f,f=au(e[u*t+t+o+1],r),l=s,s=au(e[u*t+o+1],r),ru[c|f<<1|s<<2|l<<3].forEach(p);ru[f|s<<3].forEach(p)}o=-1,s=e[u*t]>=r,ru[s<<2].forEach(p);for(;++o<t-1;)l=s,s=au(e[u*t+o+1],r),ru[s<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+u],c=[t[1][0]+o,t[1][1]+u],f=a(r),s=a(c);(n=d[f])?(e=h[s])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(c),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(c),d[n.end=s]=n):(n=h[s])?(e=d[f])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(c),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=f]=n):h[f]=d[s]={start:f,end:s,ring:[r,c]}}ru[s<<3].forEach(p)}(e,o,(function(t){r(t,e,o),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?u.push([t]):c.push(t)})),c.forEach((function(t){for(var n,e=0,r=u.length;e<r;++e)if(-1!==Ja((n=u[e])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:i,coordinates:u}}function a(n){return 2*n[0]+n[1]*(t+1)*4}function u(e,r,i){e.forEach((function(e){var o=e[0],a=e[1],u=0|o,c=0|a,f=uu(r[c*t+u]);o>0&&o<t&&u===o&&(e[0]=cu(o,uu(r[c*t+u-1]),f,i)),a>0&&a<n&&c===a&&(e[1]=cu(a,uu(r[(c-1)*t+u]),f,i))}))}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.floor(e[0]),o=Math.floor(e[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?Qa(Za.call(t)):Qa(t),i):e},i.smooth=function(t){return arguments.length?(r=t?u:eu,i):r===u},i}function ou(t){return isFinite(t)?t:NaN}function au(t,n){return null!=t&&+t>=n}function uu(t){return null==t||isNaN(t=+t)?-1/0:t}function cu(t,n,e,r){const i=r-n,o=e-n,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function fu(t){return t[0]}function su(t){return t[1]}function lu(){return 1}const hu=134217729,du=33306690738754706e-32;function pu(t,n,e,r,i){let o,a,u,c,f=n[0],s=r[0],l=0,h=0;s>f==s>-f?(o=f,f=n[++l]):(o=s,s=r[++h]);let d=0;if(l<t&&h<e)for(s>f==s>-f?(a=f+o,u=o-(a-f),f=n[++l]):(a=s+o,u=o-(a-s),s=r[++h]),o=a,0!==u&&(i[d++]=u);l<t&&h<e;)s>f==s>-f?(a=o+f,c=a-o,u=o-(a-c)+(f-c),f=n[++l]):(a=o+s,c=a-o,u=o-(a-c)+(s-c),s=r[++h]),o=a,0!==u&&(i[d++]=u);for(;l<t;)a=o+f,c=a-o,u=o-(a-c)+(f-c),f=n[++l],o=a,0!==u&&(i[d++]=u);for(;h<e;)a=o+s,c=a-o,u=o-(a-c)+(s-c),s=r[++h],o=a,0!==u&&(i[d++]=u);return 0===o&&0!==d||(i[d++]=o),d}function gu(t){return new Float64Array(t)}const yu=22204460492503146e-32,vu=11093356479670487e-47,_u=gu(4),bu=gu(8),mu=gu(12),xu=gu(16),wu=gu(4);function Mu(t,n,e,r,i,o){const a=(n-o)*(e-i),u=(t-i)*(r-o),c=a-u,f=Math.abs(a+u);return Math.abs(c)>=33306690738754716e-32*f?c:-function(t,n,e,r,i,o,a){let u,c,f,s,l,h,d,p,g,y,v,_,b,m,x,w,M,T;const A=t-i,S=e-i,E=n-o,N=r-o;m=A*N,h=hu*A,d=h-(h-A),p=A-d,h=hu*N,g=h-(h-N),y=N-g,x=p*y-(m-d*g-p*g-d*y),w=E*S,h=hu*E,d=h-(h-E),p=E-d,h=hu*S,g=h-(h-S),y=S-g,M=p*y-(w-d*g-p*g-d*y),v=x-M,l=x-v,_u[0]=x-(v+l)+(l-M),_=m+v,l=_-m,b=m-(_-l)+(v-l),v=b-w,l=b-v,_u[1]=b-(v+l)+(l-w),T=_+v,l=T-_,_u[2]=_-(T-l)+(v-l),_u[3]=T;let k=function(t,n){let e=n[0];for(let r=1;r<t;r++)e+=n[r];return e}(4,_u),C=yu*a;if(k>=C||-k>=C)return k;if(l=t-A,u=t-(A+l)+(l-i),l=e-S,f=e-(S+l)+(l-i),l=n-E,c=n-(E+l)+(l-o),l=r-N,s=r-(N+l)+(l-o),0===u&&0===c&&0===f&&0===s)return k;if(C=vu*a+du*Math.abs(k),k+=A*s+N*u-(E*f+S*c),k>=C||-k>=C)return k;m=u*N,h=hu*u,d=h-(h-u),p=u-d,h=hu*N,g=h-(h-N),y=N-g,x=p*y-(m-d*g-p*g-d*y),w=c*S,h=hu*c,d=h-(h-c),p=c-d,h=hu*S,g=h-(h-S),y=S-g,M=p*y-(w-d*g-p*g-d*y),v=x-M,l=x-v,wu[0]=x-(v+l)+(l-M),_=m+v,l=_-m,b=m-(_-l)+(v-l),v=b-w,l=b-v,wu[1]=b-(v+l)+(l-w),T=_+v,l=T-_,wu[2]=_-(T-l)+(v-l),wu[3]=T;const P=pu(4,_u,4,wu,bu);m=A*s,h=hu*A,d=h-(h-A),p=A-d,h=hu*s,g=h-(h-s),y=s-g,x=p*y-(m-d*g-p*g-d*y),w=E*f,h=hu*E,d=h-(h-E),p=E-d,h=hu*f,g=h-(h-f),y=f-g,M=p*y-(w-d*g-p*g-d*y),v=x-M,l=x-v,wu[0]=x-(v+l)+(l-M),_=m+v,l=_-m,b=m-(_-l)+(v-l),v=b-w,l=b-v,wu[1]=b-(v+l)+(l-w),T=_+v,l=T-_,wu[2]=_-(T-l)+(v-l),wu[3]=T;const z=pu(P,bu,4,wu,mu);m=u*s,h=hu*u,d=h-(h-u),p=u-d,h=hu*s,g=h-(h-s),y=s-g,x=p*y-(m-d*g-p*g-d*y),w=c*f,h=hu*c,d=h-(h-c),p=c-d,h=hu*f,g=h-(h-f),y=f-g,M=p*y-(w-d*g-p*g-d*y),v=x-M,l=x-v,wu[0]=x-(v+l)+(l-M),_=m+v,l=_-m,b=m-(_-l)+(v-l),v=b-w,l=b-v,wu[1]=b-(v+l)+(l-w),T=_+v,l=T-_,wu[2]=_-(T-l)+(v-l),wu[3]=T;const $=pu(z,mu,4,wu,xu);return xu[$-1]}(t,n,e,r,i,o,f)}const Tu=Math.pow(2,-52),Au=new Uint32Array(512);class Su{static from(t,n=zu,e=$u){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=n(r),i[2*o+1]=e(r)}return new Su(i)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,u=1/0,c=-1/0,f=-1/0;for(let n=0;n<o;n++){const e=t[2*n],r=t[2*n+1];e<a&&(a=e),r<u&&(u=r),e>c&&(c=e),r>f&&(f=r),this._ids[n]=n}const s=(a+c)/2,l=(u+f)/2;let h,d,p,g=1/0;for(let n=0;n<o;n++){const e=Eu(s,l,t[2*n],t[2*n+1]);e<g&&(h=n,g=e)}const y=t[2*h],v=t[2*h+1];g=1/0;for(let n=0;n<o;n++){if(n===h)continue;const e=Eu(y,v,t[2*n],t[2*n+1]);e<g&&e>0&&(d=n,g=e)}let _=t[2*d],b=t[2*d+1],m=1/0;for(let n=0;n<o;n++){if(n===h||n===d)continue;const e=ku(y,v,_,b,t[2*n],t[2*n+1]);e<m&&(p=n,m=e)}let x=t[2*p],w=t[2*p+1];if(m===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];Cu(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(n[e++]=i,r=this._dists[i])}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Mu(y,v,_,b,x,w)<0){const t=d,n=_,e=b;d=p,_=x,b=w,p=t,x=n,w=e}const M=function(t,n,e,r,i,o){const a=e-t,u=r-n,c=i-t,f=o-n,s=a*a+u*u,l=c*c+f*f,h=.5/(a*f-u*c),d=t+(f*s-u*l)*h,p=n+(a*l-c*s)*h;return{x:d,y:p}}(y,v,_,b,x,w);this._cx=M.x,this._cy=M.y;for(let n=0;n<o;n++)this._dists[n]=Eu(t[2*n],t[2*n+1],M.x,M.y);Cu(this._ids,this._dists,0,o-1),this._hullStart=h;let T=3;e[h]=n[p]=d,e[d]=n[h]=p,e[p]=n[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(y,v)]=h,i[this._hashKey(_,b)]=d,i[this._hashKey(x,w)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,a,u=0;u<this._ids.length;u++){const c=this._ids[u],f=t[2*c],s=t[2*c+1];if(u>0&&Math.abs(f-o)<=Tu&&Math.abs(s-a)<=Tu)continue;if(o=f,a=s,c===h||c===d||c===p)continue;let l=0;for(let t=0,n=this._hashKey(f,s);t<this._hashSize&&(l=i[(n+t)%this._hashSize],-1===l||l===e[l]);t++);l=n[l];let g,y=l;for(;g=e[y],Mu(f,s,t[2*y],t[2*y+1],t[2*g],t[2*g+1])>=0;)if(y=g,y===l){y=-1;break}if(-1===y)continue;let v=this._addTriangle(y,c,e[y],-1,-1,r[y]);r[c]=this._legalize(v+2),r[y]=v,T++;let _=e[y];for(;g=e[_],Mu(f,s,t[2*_],t[2*_+1],t[2*g],t[2*g+1])<0;)v=this._addTriangle(_,c,g,r[c],-1,r[_]),r[c]=this._legalize(v+2),e[_]=_,T--,_=g;if(y===l)for(;g=n[y],Mu(f,s,t[2*g],t[2*g+1],t[2*y],t[2*y+1])<0;)v=this._addTriangle(g,c,y,-1,r[y],r[g]),this._legalize(v+2),r[g]=v,e[y]=y,T--,y=g;this._hullStart=n[c]=y,e[y]=n[_]=c,e[c]=_,i[this._hashKey(f,s)]=c,i[this._hashKey(t[2*y],t[2*y+1])]=y}this.hull=new Uint32Array(T);for(let t=0,n=this._hullStart;t<T;t++)this.hull[t]=n,n=e[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:r}=this;let i=0,o=0;for(;;){const a=e[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=Au[--i];continue}const c=a-a%3,f=u+(t+1)%3,s=c+(a+2)%3,l=n[o],h=n[t],d=n[f],p=n[s];if(Nu(r[2*l],r[2*l+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){n[t]=p,n[a]=l;const r=e[s];if(-1===r){let n=this._hullStart;do{if(this._hullTri[n]===s){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,r),this._link(a,e[o]),this._link(o,s);const u=c+(a+1)%3;i<Au.length&&(Au[i++]=u)}else{if(0===i)break;t=Au[--i]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=e,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Eu(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function Nu(t,n,e,r,i,o,a,u){const c=t-a,f=n-u,s=e-a,l=r-u,h=i-a,d=o-u,p=s*s+l*l,g=h*h+d*d;return c*(l*g-p*d)-f*(s*g-p*h)+(c*c+f*f)*(s*d-l*h)<0}function ku(t,n,e,r,i,o){const a=e-t,u=r-n,c=i-t,f=o-n,s=a*a+u*u,l=c*c+f*f,h=.5/(a*f-u*c),d=(f*s-u*l)*h,p=(a*l-c*s)*h;return d*d+p*p}function Cu(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=t[i],o=n[r];let a=i-1;for(;a>=e&&n[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=e+1,o=r;Pu(t,e+r>>1,i),n[t[e]]>n[t[r]]&&Pu(t,e,r),n[t[i]]>n[t[r]]&&Pu(t,i,r),n[t[e]]>n[t[i]]&&Pu(t,e,i);const a=t[i],u=n[a];for(;;){do{i++}while(n[t[i]]<u);do{o--}while(n[t[o]]>u);if(o<i)break;Pu(t,i,o)}t[e+1]=t[o],t[o]=a,r-i+1>=o-e?(Cu(t,n,i,r),Cu(t,n,e,o-1)):(Cu(t,n,e,o-1),Cu(t,n,i,r))}}function Pu(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function zu(t){return t[0]}function $u(t){return t[1]}const Du=1e-6;class Ru{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const r=(t=+t)+(e=+e),i=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Du||Math.abs(this._y1-i)>Du)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,e,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class Fu{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class qu{constructor(t,[n,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:r}=this;let i,o;const a=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let r,u,c=0,f=0,s=e.length;c<s;c+=3,f+=2){const s=2*e[c],l=2*e[c+1],h=2*e[c+2],d=t[s],p=t[s+1],g=t[l],y=t[l+1],v=t[h],_=t[h+1],b=g-d,m=y-p,x=v-d,w=_-p,M=2*(b*w-m*x);if(Math.abs(M)<1e-9){if(void 0===i){i=o=0;for(const e of n)i+=t[2*e],o+=t[2*e+1];i/=n.length,o/=n.length}const e=1e9*Math.sign((i-d)*w-(o-p)*x);r=(d+v)/2-e*w,u=(p+_)/2+e*x}else{const t=1/M,n=b*b+m*m,e=x*x+w*w;r=d+(w*n-m*e)*t,u=p+(b*e-x*n)*t}a[f]=r,a[f+1]=u}let u,c,f,s=n[n.length-1],l=4*s,h=t[2*s],d=t[2*s+1];r.fill(0);for(let e=0;e<n.length;++e)s=n[e],u=l,c=h,f=d,l=4*s,h=t[2*s],d=t[2*s+1],r[u+2]=r[l]=f-d,r[u+3]=r[l+1]=h-c}render(t){const n=null==t?t=new Ru:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let n=0,r=e.length;n<r;++n){const r=e[n];if(r<n)continue;const i=2*Math.floor(n/3),a=2*Math.floor(r/3),u=o[i],c=o[i+1],f=o[a],s=o[a+1];this._renderSegment(u,c,f,s,t)}let u,c=i[i.length-1];for(let n=0;n<i.length;++n){u=c,c=i[n];const e=2*Math.floor(r[c]/3),f=o[e],s=o[e+1],l=4*u,h=this._project(f,s,a[l+2],a[l+3]);h&&this._renderSegment(f,s,h[0],h[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new Ru:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new Ru:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||n.lineTo(r[t],r[t+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new Fu;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,r,i){let o;const a=this._regioncode(t,n),u=this._regioncode(e,r);0===a&&0===u?(i.moveTo(t,n),i.lineTo(e,r)):(o=this._clipSegment(t,n,e,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let r=0,i=n.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(n[r]===t[o]&&n[r+1]===t[o+1]&&n[(r+2)%i]===t[(o+a-2)%a]&&n[(r+3)%i]===t[(o+a-1)%a]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,o=e[t];if(-1===o)return null;const a=[];let u=o;do{const e=Math.floor(u/3);if(a.push(n[2*e],n[2*e+1]),u=u%3==2?u-2:u+1,i[u]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,r=4*t;return this._simplify(e[r]||e[r+1]?this._clipInfinite(t,n,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(t,n))}_clipFinite(t,n){const e=n.length;let r,i,o,a,u=null,c=n[e-2],f=n[e-1],s=this._regioncode(c,f),l=0;for(let h=0;h<e;h+=2)if(r=c,i=f,c=n[h],f=n[h+1],o=s,s=this._regioncode(c,f),0===o&&0===s)a=l,l=0,u?u.push(c,f):u=[c,f];else{let n,e,h,d,p;if(0===o){if(null===(n=this._clipSegment(r,i,c,f,o,s)))continue;[e,h,d,p]=n}else{if(null===(n=this._clipSegment(c,f,r,i,s,o)))continue;[d,p,e,h]=n,a=l,l=this._edgecode(e,h),a&&l&&this._edge(t,a,l,u,u.length),u?u.push(e,h):u=[e,h]}a=l,l=this._edgecode(d,p),a&&l&&this._edge(t,a,l,u,u.length),u?u.push(d,p):u=[d,p]}if(u)a=l,l=this._edgecode(u[0],u[1]),a&&l&&this._edge(t,a,l,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}_clipSegment(t,n,e,r,i,o){const a=i<o;for(a&&([t,n,e,r,i,o]=[e,r,t,n,o,i]);;){if(0===i&&0===o)return a?[e,r,t,n]:[t,n,e,r];if(i&o)return null;let u,c,f=i||o;8&f?(u=t+(e-t)*(this.ymax-n)/(r-n),c=this.ymax):4&f?(u=t+(e-t)*(this.ymin-n)/(r-n),c=this.ymin):2&f?(c=n+(r-n)*(this.xmax-t)/(e-t),u=this.xmax):(c=n+(r-n)*(this.xmin-t)/(e-t),u=this.xmin),i?(t=u,n=c,i=this._regioncode(t,n)):(e=u,r=c,o=this._regioncode(e,r))}}_clipInfinite(t,n,e,r,i,o){let a,u=Array.from(n);if((a=this._project(u[0],u[1],e,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(let n,e=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);e<r;e+=2)n=i,i=this._edgecode(u[e],u[e+1]),n&&i&&(e=this._edge(t,n,i,u,e),r=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,n,e,r,i){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}r[i]===e&&r[i+1]===o||!this.contains(t,e,o)||(r.splice(i,0,e,o),i+=2)}return i}_project(t,n,e,r){let i,o,a,u=1/0;if(r<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/r)<u&&(a=this.ymin,o=t+(u=i)*e)}else if(r>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/r)<u&&(a=this.ymax,o=t+(u=i)*e)}if(e>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/e)<u&&(o=this.xmax,a=n+(u=i)*r)}else if(e<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/e)<u&&(o=this.xmin,a=n+(u=i)*r)}return[o,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const e=(n+2)%t.length,r=(n+4)%t.length;(t[n]===t[e]&&t[e]===t[r]||t[n+1]===t[e+1]&&t[e+1]===t[r+1])&&(t.splice(e,2),n-=2)}t.length||(t=null)}return t}}const Uu=2*Math.PI,Iu=Math.pow;function Ou(t){return t[0]}function Bu(t){return t[1]}function Yu(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class Lu{static from(t,n=Ou,e=Bu,r){return new Lu("length"in t?function(t,n,e,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=n.call(r,i,a,t),o[2*a+1]=e.call(r,i,a,t)}return o}(t,n,e,r):Float64Array.from(function*(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}(t,n,e,r)))}constructor(t){this._delaunator=new Su(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let t=0;t<n.length;t+=3){const r=2*n[t],i=2*n[t+1],o=2*n[t+2];if((e[o]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},((t,n)=>n)).sort(((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]));const t=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,e=n.length/2;t<e;++t){const e=Yu(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new Su(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,n=e.length;t<n;++t){const n=i[t%3==2?t-2:t+1];-1!==e[t]&&-1!==o[n]||(o[n]=t)}for(let t=0,n=r.length;t<n;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new qu(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const n=a.indexOf(t);return n>0&&(yield a[n-1]),void(n<a.length-1&&(yield a[n+1]))}const u=n[t];if(-1===u)return;let c=u,f=-1;do{if(yield f=o[c],c=c%3==2?c-2:c+1,o[c]!==t)return;if(c=i[c],-1===c){const n=e[(r[t]+1)%e.length];return void(n!==f&&(yield n))}}while(c!==u)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=e;let i;for(;(i=this._step(e,t,n))>=0&&i!==e&&i!==r;)e=i;return i}_step(t,n,e){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:c}=this;if(-1===r[t]||!c.length)return(t+1)%(c.length>>1);let f=t,s=Iu(n-c[2*t],2)+Iu(e-c[2*t+1],2);const l=r[t];let h=l;do{let r=u[h];const l=Iu(n-c[2*r],2)+Iu(e-c[2*r+1],2);if(l<s&&(s=l,f=r),h=h%3==2?h-2:h+1,u[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Iu(n-c[2*h],2)+Iu(e-c[2*h+1],2)<s)return h;break}}while(h!==l);return f}render(t){const n=null==t?t=new Ru:void 0,{points:e,halfedges:r,triangles:i}=this;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o<n)continue;const a=2*i[n],u=2*i[o];t.moveTo(e[a],e[a+1]),t.lineTo(e[u],e[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){void 0!==n||t&&"function"==typeof t.moveTo||(n=t,t=null),n=null==n?2:+n;const e=null==t?t=new Ru:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],o=r[e+1];t.moveTo(i+n,o),t.arc(i,o,n,0,Uu)}return e&&e.value()}renderHull(t){const n=null==t?t=new Ru:void 0,{hull:e,points:r}=this,i=2*e[0],o=e.length;t.moveTo(r[i],r[i+1]);for(let n=1;n<o;++n){const i=2*e[n];t.lineTo(r[i],r[i+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Fu;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new Ru:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[a],r[a+1]),n.lineTo(r[u],r[u+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Fu;return this.renderTriangle(t,n),n.value()}}var ju={},Hu={},Xu=34,Gu=10,Vu=13;function Wu(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Zu(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Ku(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Qu(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Ku(-n,6):n>9999?"+"+Ku(n,6):Ku(n,4))+"-"+Ku(t.getUTCMonth()+1,2)+"-"+Ku(t.getUTCDate(),2)+(o?"T"+Ku(e,2)+":"+Ku(r,2)+":"+Ku(i,2)+"."+Ku(o,3)+"Z":i?"T"+Ku(e,2)+":"+Ku(r,2)+":"+Ku(i,2)+"Z":r||e?"T"+Ku(e,2)+":"+Ku(r,2)+"Z":"")}function Ju(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,c=o<=0,f=!1;function s(){if(c)return Hu;if(f)return f=!1,ju;var n,r,i=a;if(t.charCodeAt(i)===Xu){for(;a++<o&&t.charCodeAt(a)!==Xu||t.charCodeAt(++a)===Xu;);return(n=a)>=o?c=!0:(r=t.charCodeAt(a++))===Gu?f=!0:r===Vu&&(f=!0,t.charCodeAt(a)===Gu&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(n=a++))===Gu)f=!0;else if(r===Vu)f=!0,t.charCodeAt(a)===Gu&&++a;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===Gu&&--o,t.charCodeAt(o-1)===Vu&&--o;(r=s())!==Hu;){for(var l=[];r!==ju&&r!==Hu;)l.push(r),r=s();n&&null==(l=n(l,u++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Qu(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Wu(t);return function(r,i){return n(e(r),i,t)}}(t,n):Wu(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Zu(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Zu(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var tc=Ju(","),nc=tc.parse,ec=tc.parseRows,rc=tc.format,ic=tc.formatBody,oc=tc.formatRows,ac=tc.formatRow,uc=tc.formatValue,cc=Ju("\t"),fc=cc.parse,sc=cc.parseRows,lc=cc.format,hc=cc.formatBody,dc=cc.formatRows,pc=cc.formatRow,gc=cc.formatValue;const yc=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function vc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function _c(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function bc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function mc(t,n){return fetch(t,n).then(bc)}function xc(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),mc(n,e).then((function(n){return t(n,r)}))}}var wc=xc(nc),Mc=xc(fc);function Tc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Ac(t){return(n,e)=>mc(n,e).then((n=>(new DOMParser).parseFromString(n,t)))}var Sc=Ac("application/xml"),Ec=Ac("text/html"),Nc=Ac("image/svg+xml");function kc(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,c,f,s,l,h,d=t._root,p={data:r},g=t._x0,y=t._y0,v=t._x1,_=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((f=n>=(o=(g+v)/2))?g=o:v=o,(s=e>=(a=(y+_)/2))?y=a:_=a,i=d,!(d=d[l=s<<1|f]))return i[l]=p,t;if(u=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===u&&e===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(f=n>=(o=(g+v)/2))?g=o:v=o,(s=e>=(a=(y+_)/2))?y=a:_=a}while((l=s<<1|f)==(h=(c>=a)<<1|u>=o));return i[h]=d,i[l]=p,t}function Cc(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Pc(t){return t[0]}function zc(t){return t[1]}function $c(t,n,e){var r=new Dc(null==n?Pc:n,null==e?zc:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Dc(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Rc(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var Fc=$c.prototype=Dc.prototype;function qc(t){return function(){return t}}function Uc(t){return 1e-6*(t()-.5)}function Ic(t){return t.x+t.vx}function Oc(t){return t.y+t.vy}function Bc(t){return t.index}function Yc(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}Fc.copy=function(){var t,n,e=new Dc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Rc(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Rc(n));return e},Fc.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return kc(this.cover(n,e),n,e,t)},Fc.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),c=1/0,f=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<c&&(c=r),r>s&&(s=r),i<f&&(f=i),i>l&&(l=i));if(c>s||f>l)return this;for(this.cover(c,f).cover(s,l),e=0;e<o;++e)kc(this,a[e],u[e],t[e]);return this},Fc.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,c=i-e||1,f=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=f,f=a,c*=2,u){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Fc.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Fc.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Fc.find=function(t,n,e){var r,i,o,a,u,c,f,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Cc(g,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(a=c.x1)<s||(u=c.y1)<l))if(g.length){var y=(i+a)/2,v=(o+u)/2;p.push(new Cc(g[3],y,v,a,u),new Cc(g[2],i,v,y,u),new Cc(g[1],y,o,a,v),new Cc(g[0],i,o,y,v)),(f=(n>=v)<<1|t>=y)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=c)}else{var _=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),m=_*_+b*b;if(m<e){var x=Math.sqrt(e=m);s=t-x,l=n-x,h=t+x,d=n+x,r=g.data}}return r},Fc.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,c,f,s,l,h,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((f=o>=(u=(p+y)/2))?p=u:y=u,(s=a>=(c=(g+v)/2))?g=c:v=c,n=d,!(d=d[l=s<<1|f]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},Fc.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Fc.root=function(){return this._root},Fc.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Fc.visit=function(t){var n,e,r,i,o,a,u=[],c=this._root;for(c&&u.push(new Cc(c,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&c.length){var f=(r+o)/2,s=(i+a)/2;(e=c[3])&&u.push(new Cc(e,f,s,o,a)),(e=c[2])&&u.push(new Cc(e,r,s,f,a)),(e=c[1])&&u.push(new Cc(e,f,i,o,s)),(e=c[0])&&u.push(new Cc(e,r,i,f,s))}return this},Fc.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Cc(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,c=n.x1,f=n.y1,s=(a+c)/2,l=(u+f)/2;(o=i[0])&&e.push(new Cc(o,a,u,s,l)),(o=i[1])&&e.push(new Cc(o,s,u,c,l)),(o=i[2])&&e.push(new Cc(o,a,l,s,f)),(o=i[3])&&e.push(new Cc(o,s,l,c,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Fc.x=function(t){return arguments.length?(this._x=t,this):this._x},Fc.y=function(t){return arguments.length?(this._y=t,this):this._y};const Lc=1664525,jc=1013904223,Hc=4294967296;function Xc(t){return t.x}function Gc(t){return t.y}var Vc=Math.PI*(3-Math.sqrt(5));function Wc(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Zc(t){return(t=Wc(Math.abs(t)))?t[1]:NaN}var Kc,Qc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jc(t){if(!(n=Qc.exec(t)))throw new Error("invalid format: "+t);var n;return new tf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function tf(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function nf(t,n){var e=Wc(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Jc.prototype=tf.prototype,tf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ef={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>nf(100*t,n),r:nf,s:function(t,n){var e=Wc(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Kc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wc(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rf(t){return t}var of,af=Array.prototype.map,uf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cf(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?rf:(n=af.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(t.substring(i-=u,i+u)),!((c+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?rf:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(af.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",f=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Jc(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,v=t.trim,_=t.type;"n"===_?(g=!0,_="g"):ef[_]||(void 0===y&&(y=12),v=!0,_="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",m="$"===h?o:/[%p]/.test(_)?c:"",x=ef[_],w=/[defgprs%]/.test(_);function M(t){var i,o,c,h=b,M=m;if("c"===_)M=x(t)+M,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:x(Math.abs(t),y),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),T&&0==+t&&"+"!==l&&(T=!1),h=(T?"("===l?l:f:"-"===l||"("===l?"":l)+h,M=("s"===_?uf[8+Kc/3]:"")+M+(T&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var A=h.length+t.length+M.length,S=A<p?new Array(p-A+1).join(n):"";switch(g&&d&&(t=r(S+t,S.length?p-M.length:1/0),S=""),e){case"<":t=h+t+M+S;break;case"=":t=h+S+t+M;break;case"^":t=S.slice(0,A=S.length>>1)+h+t+M+S.slice(A);break;default:t=S+h+t+M}return u(t)}return y=void 0===y?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=Jc(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Zc(n)/3))),i=Math.pow(10,-r),o=uf[8+r/3];return function(t){return e(i*t)+o}}}}function ff(n){return of=cf(n),t.format=of.format,t.formatPrefix=of.formatPrefix,of}function sf(t){return Math.max(0,-Zc(Math.abs(t)))}function lf(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Zc(n)/3)))-Zc(Math.abs(t)))}function hf(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Zc(n)-Zc(t))+1}t.format=void 0,t.formatPrefix=void 0,ff({thousands:",",grouping:[3],currency:["$",""]});var df=1e-6,pf=1e-12,gf=Math.PI,yf=gf/2,vf=gf/4,_f=2*gf,bf=180/gf,mf=gf/180,xf=Math.abs,wf=Math.atan,Mf=Math.atan2,Tf=Math.cos,Af=Math.ceil,Sf=Math.exp,Ef=Math.hypot,Nf=Math.log,kf=Math.pow,Cf=Math.sin,Pf=Math.sign||function(t){return t>0?1:t<0?-1:0},zf=Math.sqrt,$f=Math.tan;function Df(t){return t>1?0:t<-1?gf:Math.acos(t)}function Rf(t){return t>1?yf:t<-1?-yf:Math.asin(t)}function Ff(t){return(t=Cf(t/2))*t}function qf(){}function Uf(t,n){t&&Of.hasOwnProperty(t.type)&&Of[t.type](t,n)}var If={Feature:function(t,n){Uf(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Uf(e[r].geometry,n)}},Of={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Bf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Bf(e[r],n,0)},Polygon:function(t,n){Yf(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Yf(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Uf(e[r],n)}};function Bf(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Yf(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Bf(t[e],n,1);n.polygonEnd()}function Lf(t,n){t&&If.hasOwnProperty(t.type)?If[t.type](t,n):Uf(t,n)}var jf,Hf,Xf,Gf,Vf,Wf,Zf,Kf,Qf,Jf,ts,ns,es,rs,is,os,as=new T,us=new T,cs={point:qf,lineStart:qf,lineEnd:qf,polygonStart:function(){as=new T,cs.lineStart=fs,cs.lineEnd=ss},polygonEnd:function(){var t=+as;us.add(t<0?_f+t:t),this.lineStart=this.lineEnd=this.point=qf},sphere:function(){us.add(_f)}};function fs(){cs.point=ls}function ss(){hs(jf,Hf)}function ls(t,n){cs.point=hs,jf=t,Hf=n,Xf=t*=mf,Gf=Tf(n=(n*=mf)/2+vf),Vf=Cf(n)}function hs(t,n){var e=(t*=mf)-Xf,r=e>=0?1:-1,i=r*e,o=Tf(n=(n*=mf)/2+vf),a=Cf(n),u=Vf*a,c=Gf*o+u*Tf(i),f=u*r*Cf(i);as.add(Mf(f,c)),Xf=t,Gf=o,Vf=a}function ds(t){return[Mf(t[1],t[0]),Rf(t[2])]}function ps(t){var n=t[0],e=t[1],r=Tf(e);return[r*Tf(n),r*Cf(n),Cf(e)]}function gs(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ys(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function vs(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function _s(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function bs(t){var n=zf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var ms,xs,ws,Ms,Ts,As,Ss,Es,Ns,ks,Cs,Ps,zs,$s,Ds,Rs,Fs={point:qs,lineStart:Is,lineEnd:Os,polygonStart:function(){Fs.point=Bs,Fs.lineStart=Ys,Fs.lineEnd=Ls,rs=new T,cs.polygonStart()},polygonEnd:function(){cs.polygonEnd(),Fs.point=qs,Fs.lineStart=Is,Fs.lineEnd=Os,as<0?(Wf=-(Kf=180),Zf=-(Qf=90)):rs>df?Qf=90:rs<-df&&(Zf=-90),os[0]=Wf,os[1]=Kf},sphere:function(){Wf=-(Kf=180),Zf=-(Qf=90)}};function qs(t,n){is.push(os=[Wf=t,Kf=t]),n<Zf&&(Zf=n),n>Qf&&(Qf=n)}function Us(t,n){var e=ps([t*mf,n*mf]);if(es){var r=ys(es,e),i=ys([r[1],-r[0],0],r);bs(i),i=ds(i);var o,a=t-Jf,u=a>0?1:-1,c=i[0]*bf*u,f=xf(a)>180;f^(u*Jf<c&&c<u*t)?(o=i[1]*bf)>Qf&&(Qf=o):f^(u*Jf<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*bf)<Zf&&(Zf=o):(n<Zf&&(Zf=n),n>Qf&&(Qf=n)),f?t<Jf?js(Wf,t)>js(Wf,Kf)&&(Kf=t):js(t,Kf)>js(Wf,Kf)&&(Wf=t):Kf>=Wf?(t<Wf&&(Wf=t),t>Kf&&(Kf=t)):t>Jf?js(Wf,t)>js(Wf,Kf)&&(Kf=t):js(t,Kf)>js(Wf,Kf)&&(Wf=t)}else is.push(os=[Wf=t,Kf=t]);n<Zf&&(Zf=n),n>Qf&&(Qf=n),es=e,Jf=t}function Is(){Fs.point=Us}function Os(){os[0]=Wf,os[1]=Kf,Fs.point=qs,es=null}function Bs(t,n){if(es){var e=t-Jf;rs.add(xf(e)>180?e+(e>0?360:-360):e)}else ts=t,ns=n;cs.point(t,n),Us(t,n)}function Ys(){cs.lineStart()}function Ls(){Bs(ts,ns),cs.lineEnd(),xf(rs)>df&&(Wf=-(Kf=180)),os[0]=Wf,os[1]=Kf,es=null}function js(t,n){return(n-=t)<0?n+360:n}function Hs(t,n){return t[0]-n[0]}function Xs(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var Gs={sphere:qf,point:Vs,lineStart:Zs,lineEnd:Js,polygonStart:function(){Gs.lineStart=tl,Gs.lineEnd=nl},polygonEnd:function(){Gs.lineStart=Zs,Gs.lineEnd=Js}};function Vs(t,n){t*=mf;var e=Tf(n*=mf);Ws(e*Tf(t),e*Cf(t),Cf(n))}function Ws(t,n,e){++ms,ws+=(t-ws)/ms,Ms+=(n-Ms)/ms,Ts+=(e-Ts)/ms}function Zs(){Gs.point=Ks}function Ks(t,n){t*=mf;var e=Tf(n*=mf);$s=e*Tf(t),Ds=e*Cf(t),Rs=Cf(n),Gs.point=Qs,Ws($s,Ds,Rs)}function Qs(t,n){t*=mf;var e=Tf(n*=mf),r=e*Tf(t),i=e*Cf(t),o=Cf(n),a=Mf(zf((a=Ds*o-Rs*i)*a+(a=Rs*r-$s*o)*a+(a=$s*i-Ds*r)*a),$s*r+Ds*i+Rs*o);xs+=a,As+=a*($s+($s=r)),Ss+=a*(Ds+(Ds=i)),Es+=a*(Rs+(Rs=o)),Ws($s,Ds,Rs)}function Js(){Gs.point=Vs}function tl(){Gs.point=el}function nl(){rl(Ps,zs),Gs.point=Vs}function el(t,n){Ps=t,zs=n,t*=mf,n*=mf,Gs.point=rl;var e=Tf(n);$s=e*Tf(t),Ds=e*Cf(t),Rs=Cf(n),Ws($s,Ds,Rs)}function rl(t,n){t*=mf;var e=Tf(n*=mf),r=e*Tf(t),i=e*Cf(t),o=Cf(n),a=Ds*o-Rs*i,u=Rs*r-$s*o,c=$s*i-Ds*r,f=Ef(a,u,c),s=Rf(f),l=f&&-s/f;Ns.add(l*a),ks.add(l*u),Cs.add(l*c),xs+=s,As+=s*($s+($s=r)),Ss+=s*(Ds+(Ds=i)),Es+=s*(Rs+(Rs=o)),Ws($s,Ds,Rs)}function il(t){return function(){return t}}function ol(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function al(t,n){return xf(t)>gf&&(t-=Math.round(t/_f)*_f),[t,n]}function ul(t,n,e){return(t%=_f)?n||e?ol(fl(t),sl(n,e)):fl(t):n||e?sl(n,e):al}function cl(t){return function(n,e){return xf(n+=t)>gf&&(n-=Math.round(n/_f)*_f),[n,e]}}function fl(t){var n=cl(t);return n.invert=cl(-t),n}function sl(t,n){var e=Tf(t),r=Cf(t),i=Tf(n),o=Cf(n);function a(t,n){var a=Tf(n),u=Tf(t)*a,c=Cf(t)*a,f=Cf(n),s=f*e+u*r;return[Mf(c*i-s*o,u*e-f*r),Rf(s*i+c*o)]}return a.invert=function(t,n){var a=Tf(n),u=Tf(t)*a,c=Cf(t)*a,f=Cf(n),s=f*i-c*o;return[Mf(c*i+f*o,u*e+s*r),Rf(s*e-u*r)]},a}function ll(t){function n(n){return(n=t(n[0]*mf,n[1]*mf))[0]*=bf,n[1]*=bf,n}return t=ul(t[0]*mf,t[1]*mf,t.length>2?t[2]*mf:0),n.invert=function(n){return(n=t.invert(n[0]*mf,n[1]*mf))[0]*=bf,n[1]*=bf,n},n}function hl(t,n,e,r,i,o){if(e){var a=Tf(n),u=Cf(n),c=r*e;null==i?(i=n+r*_f,o=n-c/2):(i=dl(a,i),o=dl(a,o),(r>0?i<o:i>o)&&(i+=r*_f));for(var f,s=i;r>0?s>o:s<o;s-=c)f=ds([a,-u*Tf(s),-u*Cf(s)]),t.point(f[0],f[1])}}function dl(t,n){(n=ps(n))[0]-=t,bs(n);var e=Df(-n[1]);return((-n[2]<0?-e:e)+_f-df)%_f}function pl(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:qf,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function gl(t,n){return xf(t[0]-n[0])<df&&xf(t[1]-n[1])<df}function yl(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function vl(t,n,e,r,i){var o,a,u=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(gl(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*df}u.push(e=new yl(r,t,null,!0)),c.push(e.o=new yl(r,null,e,!1)),u.push(e=new yl(a,t,null,!1)),c.push(e.o=new yl(a,null,e,!0))}})),u.length){for(c.sort(n),_l(u),_l(c),o=0,a=c.length;o<a;++o)c[o].e=e=!e;for(var f,s,l=u[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=f.length;o<a;++o)i.point((s=f[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}f=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function _l(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function bl(t){return xf(t[0])<=gf?t[0]:Pf(t[0])*((xf(t[0])+gf)%_f-gf)}function ml(t,n){var e=bl(n),r=n[1],i=Cf(r),o=[Cf(e),-Tf(e),0],a=0,u=0,c=new T;1===i?r=yf+df:-1===i&&(r=-yf-df);for(var f=0,s=t.length;f<s;++f)if(h=(l=t[f]).length)for(var l,h,d=l[h-1],p=bl(d),g=d[1]/2+vf,y=Cf(g),v=Tf(g),_=0;_<h;++_,p=m,y=w,v=M,d=b){var b=l[_],m=bl(b),x=b[1]/2+vf,w=Cf(x),M=Tf(x),A=m-p,S=A>=0?1:-1,E=S*A,N=E>gf,k=y*w;if(c.add(Mf(k*S*Cf(E),v*M+k*Tf(E))),a+=N?A+S*_f:A,N^p>=e^m>=e){var C=ys(ps(d),ps(b));bs(C);var P=ys(o,C);bs(P);var z=(N^A>=0?-1:1)*Rf(P[2]);(r>z||r===z&&(C[0]||C[1]))&&(u+=N^A>=0?1:-1)}}return(a<-df||a<df&&c<-pf)^1&u}function xl(t,n,e,r){return function(i){var o,a,u,c=n(i),f=pl(),s=n(f),l=!1,h={point:d,lineStart:g,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=_,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=y,a=ft(a);var t=ml(o,r);a.length?(l||(i.polygonStart(),l=!0),vl(a,Ml,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function g(){h.point=p,c.lineStart()}function y(){h.point=d,c.lineEnd()}function v(t,n){u.push([t,n]),s.point(t,n)}function _(){s.lineStart(),u=[]}function b(){v(u[0][0],u[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=f.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&c){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(wl))}return h}}function wl(t){return t.length>1}function Ml(t,n){return((t=t.x)[0]<0?t[1]-yf-df:yf-t[1])-((n=n.x)[0]<0?n[1]-yf-df:yf-n[1])}al.invert=al;var Tl=xl((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?gf:-gf,c=xf(o-e);xf(c-gf)<df?(t.point(e,r=(r+a)/2>0?yf:-yf),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&c>=gf&&(xf(e-i)<df&&(e-=i*df),xf(o-u)<df&&(o-=u*df),r=function(t,n,e,r){var i,o,a=Cf(t-e);return xf(a)>df?wf((Cf(n)*(o=Tf(r))*Cf(e)-Cf(r)*(i=Tf(n))*Cf(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*yf,r.point(-gf,i),r.point(0,i),r.point(gf,i),r.point(gf,0),r.point(gf,-i),r.point(0,-i),r.point(-gf,-i),r.point(-gf,0),r.point(-gf,i);else if(xf(t[0]-n[0])>df){var o=t[0]<n[0]?gf:-gf;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-gf,-yf]);function Al(t){var n=Tf(t),e=6*mf,r=n>0,i=xf(n)>df;function o(t,e){return Tf(t)*Tf(e)>n}function a(t,e,r){var i=[1,0,0],o=ys(ps(t),ps(e)),a=gs(o,o),u=o[0],c=a-u*u;if(!c)return!r&&t;var f=n*a/c,s=-n*u/c,l=ys(i,o),h=_s(i,f);vs(h,_s(o,s));var d=l,p=gs(h,d),g=gs(d,d),y=p*p-g*(gs(h,h)-1);if(!(y<0)){var v=zf(y),_=_s(d,(-p-v)/g);if(vs(_,h),_=ds(_),!r)return _;var b,m=t[0],x=e[0],w=t[1],M=e[1];x<m&&(b=m,m=x,x=b);var T=x-m,A=xf(T-gf)<df;if(!A&&M<w&&(b=w,w=M,M=b),A||T<df?A?w+M>0^_[1]<(xf(_[0]-m)<df?w:M):w<=_[1]&&_[1]<=M:T>gf^(m<=_[0]&&_[0]<=x)){var S=_s(d,(-p+v)/g);return vs(S,h),[_,ds(S)]}}}function u(n,e){var i=r?t:gf-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return xl(o,(function(t){var n,e,c,f,s;return{lineStart:function(){f=c=!1,s=1},point:function(l,h){var d,p=[l,h],g=o(l,h),y=r?g?0:u(l,h):g?u(l+(l<0?gf:-gf),h):0;if(!n&&(f=c=g)&&t.lineStart(),g!==c&&(!(d=a(n,p))||gl(n,d)||gl(p,d))&&(p[2]=1),g!==c)s=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var v;y&e||!(v=a(p,n,!0))||(s=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!g||n&&gl(n,p)||t.point(p[0],p[1]),n=p,c=g,e=y},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return s|(f&&c)<<1}}}),(function(n,r,i,o){hl(o,t,e,i,n,r)}),r?[0,-t]:[-gf,t-gf])}var Sl,El,Nl,kl,Cl=1e9,Pl=-Cl;function zl(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,f){var s=0,l=0;if(null==i||(s=a(i,u))!==(l=a(o,u))||c(i,o)<0^u>0)do{f.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+u+4)%4)!==l);else f.point(o[0],o[1])}function a(r,i){return xf(r[0]-t)<df?i>0?0:3:xf(r[0]-e)<df?i>0?2:1:xf(r[1]-n)<df?i>0?1:0:i>0?3:2}function u(t,n){return c(t.x,n.x)}function c(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var c,f,s,l,h,d,p,g,y,v,_,b=a,m=pl(),x={point:w,lineStart:function(){x.point=M,f&&f.push(s=[]);v=!0,y=!1,p=g=NaN},lineEnd:function(){c&&(M(l,h),d&&y&&m.rejoin(),c.push(m.result()));x.point=w,y&&b.lineEnd()},polygonStart:function(){b=m,c=[],f=[],_=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=f.length;e<i;++e)for(var o,a,u=f[e],c=1,s=u.length,l=u[0],h=l[0],d=l[1];c<s;++c)o=h,a=d,h=(l=u[c])[0],d=l[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=_&&n,i=(c=ft(c)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&vl(c,u,n,o,a),a.polygonEnd());b=a,c=f=s=null}};function w(t,n){i(t,n)&&b.point(t,n)}function M(o,a){var u=i(o,a);if(f&&s.push([o,a]),v)l=o,h=a,d=u,v=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&y)b.point(o,a);else{var c=[p=Math.max(Pl,Math.min(Cl,p)),g=Math.max(Pl,Math.min(Cl,g))],m=[o=Math.max(Pl,Math.min(Cl,o)),a=Math.max(Pl,Math.min(Cl,a))];!function(t,n,e,r,i,o){var a,u=t[0],c=t[1],f=0,s=1,l=n[0]-u,h=n[1]-c;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<f)return;a<s&&(s=a)}else if(l>0){if(a>s)return;a>f&&(f=a)}if(a=i-u,l||!(a<0)){if(a/=l,l<0){if(a>s)return;a>f&&(f=a)}else if(l>0){if(a<f)return;a<s&&(s=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>f&&(f=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<s&&(s=a)}return f>0&&(t[0]=u+f*l,t[1]=c+f*h),s<1&&(n[0]=u+s*l,n[1]=c+s*h),!0}}}}}(c,m,t,n,e,r)?u&&(b.lineStart(),b.point(o,a),_=!1):(y||(b.lineStart(),b.point(c[0],c[1])),b.point(m[0],m[1]),u||b.lineEnd(),_=!1)}p=o,g=a,y=u}return x}}var $l={sphere:qf,point:qf,lineStart:function(){$l.point=Rl,$l.lineEnd=Dl},lineEnd:qf,polygonStart:qf,polygonEnd:qf};function Dl(){$l.point=$l.lineEnd=qf}function Rl(t,n){El=t*=mf,Nl=Cf(n*=mf),kl=Tf(n),$l.point=Fl}function Fl(t,n){t*=mf;var e=Cf(n*=mf),r=Tf(n),i=xf(t-El),o=Tf(i),a=r*Cf(i),u=kl*e-Nl*r*o,c=Nl*e+kl*r*o;Sl.add(Mf(zf(a*a+u*u),c)),El=t,Nl=e,kl=r}function ql(t){return Sl=new T,Lf(t,$l),+Sl}var Ul=[null,null],Il={type:"LineString",coordinates:Ul};function Ol(t,n){return Ul[0]=t,Ul[1]=n,ql(Il)}var Bl={Feature:function(t,n){return Ll(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Ll(e[r].geometry,n))return!0;return!1}},Yl={Sphere:function(){return!0},Point:function(t,n){return jl(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(jl(e[r],n))return!0;return!1},LineString:function(t,n){return Hl(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Hl(e[r],n))return!0;return!1},Polygon:function(t,n){return Xl(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Xl(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Ll(e[r],n))return!0;return!1}};function Ll(t,n){return!(!t||!Yl.hasOwnProperty(t.type))&&Yl[t.type](t,n)}function jl(t,n){return 0===Ol(t,n)}function Hl(t,n){for(var e,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Ol(t[o],n)))return!0;if(o>0&&(i=Ol(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<pf*i)return!0;e=r}return!1}function Xl(t,n){return!!ml(t.map(Gl),Vl(n))}function Gl(t){return(t=t.map(Vl)).pop(),t}function Vl(t){return[t[0]*mf,t[1]*mf]}function Wl(t,n,e){var r=lt(t,n-df,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Zl(t,n,e){var r=lt(t,n-df,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function Kl(){var t,n,e,r,i,o,a,u,c,f,s,l,h=10,d=h,p=90,g=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:_()}}function _(){return lt(Af(r/p)*p,e,p).map(s).concat(lt(Af(u/g)*g,a,g).map(l)).concat(lt(Af(n/h)*h,t,h).filter((function(t){return xf(t%p)>df})).map(c)).concat(lt(Af(o/d)*d,i,d).filter((function(t){return xf(t%g)>df})).map(f))}return v.lines=function(){return _().map((function(t){return{type:"LineString",coordinates:t}}))},v.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(l(a).slice(1),s(e).reverse().slice(1),l(u).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),v.precision(y)):[[r,u],[e,a]]},v.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),v.precision(y)):[[n,o],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],v):[p,g]},v.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],v):[h,d]},v.precision=function(h){return arguments.length?(y=+h,c=Wl(o,i,90),f=Zl(n,t,y),s=Wl(u,a,90),l=Zl(r,e,y),v):y},v.extentMajor([[-180,-90+df],[180,90-df]]).extentMinor([[-180,-80-df],[180,80+df]])}var Ql,Jl,th,nh,eh=t=>t,rh=new T,ih=new T,oh={point:qf,lineStart:qf,lineEnd:qf,polygonStart:function(){oh.lineStart=ah,oh.lineEnd=fh},polygonEnd:function(){oh.lineStart=oh.lineEnd=oh.point=qf,rh.add(xf(ih)),ih=new T},result:function(){var t=rh/2;return rh=new T,t}};function ah(){oh.point=uh}function uh(t,n){oh.point=ch,Ql=th=t,Jl=nh=n}function ch(t,n){ih.add(nh*t-th*n),th=t,nh=n}function fh(){ch(Ql,Jl)}var sh=oh,lh=1/0,hh=lh,dh=-lh,ph=dh,gh={point:function(t,n){t<lh&&(lh=t);t>dh&&(dh=t);n<hh&&(hh=n);n>ph&&(ph=n)},lineStart:qf,lineEnd:qf,polygonStart:qf,polygonEnd:qf,result:function(){var t=[[lh,hh],[dh,ph]];return dh=ph=-(hh=lh=1/0),t}};var yh,vh,_h,bh,mh=gh,xh=0,wh=0,Mh=0,Th=0,Ah=0,Sh=0,Eh=0,Nh=0,kh=0,Ch={point:Ph,lineStart:zh,lineEnd:Rh,polygonStart:function(){Ch.lineStart=Fh,Ch.lineEnd=qh},polygonEnd:function(){Ch.point=Ph,Ch.lineStart=zh,Ch.lineEnd=Rh},result:function(){var t=kh?[Eh/kh,Nh/kh]:Sh?[Th/Sh,Ah/Sh]:Mh?[xh/Mh,wh/Mh]:[NaN,NaN];return xh=wh=Mh=Th=Ah=Sh=Eh=Nh=kh=0,t}};function Ph(t,n){xh+=t,wh+=n,++Mh}function zh(){Ch.point=$h}function $h(t,n){Ch.point=Dh,Ph(_h=t,bh=n)}function Dh(t,n){var e=t-_h,r=n-bh,i=zf(e*e+r*r);Th+=i*(_h+t)/2,Ah+=i*(bh+n)/2,Sh+=i,Ph(_h=t,bh=n)}function Rh(){Ch.point=Ph}function Fh(){Ch.point=Uh}function qh(){Ih(yh,vh)}function Uh(t,n){Ch.point=Ih,Ph(yh=_h=t,vh=bh=n)}function Ih(t,n){var e=t-_h,r=n-bh,i=zf(e*e+r*r);Th+=i*(_h+t)/2,Ah+=i*(bh+n)/2,Sh+=i,Eh+=(i=bh*t-_h*n)*(_h+t),Nh+=i*(bh+n),kh+=3*i,Ph(_h=t,bh=n)}var Oh=Ch;function Bh(t){this._context=t}Bh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,_f)}},result:qf};var Yh,Lh,jh,Hh,Xh,Gh=new T,Vh={point:qf,lineStart:function(){Vh.point=Wh},lineEnd:function(){Yh&&Zh(Lh,jh),Vh.point=qf},polygonStart:function(){Yh=!0},polygonEnd:function(){Yh=null},result:function(){var t=+Gh;return Gh=new T,t}};function Wh(t,n){Vh.point=Zh,Lh=Hh=t,jh=Xh=n}function Zh(t,n){Hh-=t,Xh-=n,Gh.add(zf(Hh*Hh+Xh*Xh)),Hh=t,Xh=n}var Kh=Vh;let Qh,Jh,td,nd;class ed{constructor(t){this._append=null==t?rd:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return rd;if(n!==Qh){const t=10**n;Qh=n,Jh=function(n){let e=1;this._+=n[0];for(const r=n.length;e<r;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Jh}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==td||this._append!==Jh){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,td=t,Jh=this._append,nd=this._,this._=n}this._+=nd}}result(){const t=this._;return this._="",t.length?t:null}}function rd(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function id(t){return function(n){var e=new od;for(var r in t)e[r]=t[r];return e.stream=n,e}}function od(){}function ad(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Lf(e,t.stream(mh)),n(mh.result()),null!=r&&t.clipExtent(r),t}function ud(t,n,e){return ad(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}function cd(t,n,e){return ud(t,[[0,0],n],e)}function fd(t,n,e){return ad(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}function sd(t,n,e){return ad(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}od.prototype={constructor:od,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ld=16,hd=Tf(30*mf);function dd(t,n){return+n?function(t,n){function e(r,i,o,a,u,c,f,s,l,h,d,p,g,y){var v=f-r,_=s-i,b=v*v+_*_;if(b>4*n&&g--){var m=a+h,x=u+d,w=c+p,M=zf(m*m+x*x+w*w),T=Rf(w/=M),A=xf(xf(w)-1)<df||xf(o-l)<df?(o+l)/2:Mf(x,m),S=t(A,T),E=S[0],N=S[1],k=E-r,C=N-i,P=_*k-v*C;(P*P/b>n||xf((v*k+_*C)/b-.5)>.3||a*h+u*d+c*p<hd)&&(e(r,i,o,a,u,c,E,N,A,m/=M,x/=M,w,g,y),y.point(E,N),e(E,N,A,m,x,w,f,s,l,h,d,p,g,y))}}return function(n){var r,i,o,a,u,c,f,s,l,h,d,p,g={point:y,lineStart:v,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=m},polygonEnd:function(){n.polygonEnd(),g.lineStart=v}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function v(){s=NaN,g.point=_,n.lineStart()}function _(r,i){var o=ps([r,i]),a=t(r,i);e(s,l,f,h,d,p,s=a[0],l=a[1],f=r,h=o[0],d=o[1],p=o[2],ld,n),n.point(s,l)}function b(){g.point=y,n.lineEnd()}function m(){v(),g.point=x,g.lineEnd=w}function x(t,n){_(r=t,n),i=s,o=l,a=h,u=d,c=p,g.point=_}function w(){e(s,l,f,h,d,p,i,o,r,a,u,c,ld,n),g.lineEnd=b,b()}return g}}(t,n):function(t){return id({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var pd=id({point:function(t,n){this.stream.point(t*mf,n*mf)}});function gd(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=Tf(o),u=Cf(o),c=a*t,f=u*t,s=a/t,l=u/t,h=(u*e-a*n)/t,d=(u*n+a*e)/t;function p(t,o){return[c*(t*=r)-f*(o*=i)+n,e-f*t-c*o]}return p.invert=function(t,n){return[r*(s*t-l*n+h),i*(d-l*t-s*n)]},p}function yd(t){return vd((function(){return t}))()}function vd(t){var n,e,r,i,o,a,u,c,f,s,l=150,h=480,d=250,p=0,g=0,y=0,v=0,_=0,b=0,m=1,x=1,w=null,M=Tl,T=null,A=eh,S=.5;function E(t){return c(t[0]*mf,t[1]*mf)}function N(t){return(t=c.invert(t[0],t[1]))&&[t[0]*bf,t[1]*bf]}function k(){var t=gd(l,0,0,m,x,b).apply(null,n(p,g)),r=gd(l,h-t[0],d-t[1],m,x,b);return e=ul(y,v,_),u=ol(n,r),c=ol(e,u),a=dd(u,S),C()}function C(){return f=s=null,E}return E.stream=function(t){return f&&s===t?f:f=pd(function(t){return id({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(A(s=t)))))},E.preclip=function(t){return arguments.length?(M=t,w=void 0,C()):M},E.postclip=function(t){return arguments.length?(A=t,T=r=i=o=null,C()):A},E.clipAngle=function(t){return arguments.length?(M=+t?Al(w=t*mf):(w=null,Tl),C()):w*bf},E.clipExtent=function(t){return arguments.length?(A=null==t?(T=r=i=o=null,eh):zl(T=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==T?null:[[T,r],[i,o]]},E.scale=function(t){return arguments.length?(l=+t,k()):l},E.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],k()):[h,d]},E.center=function(t){return arguments.length?(p=t[0]%360*mf,g=t[1]%360*mf,k()):[p*bf,g*bf]},E.rotate=function(t){return arguments.length?(y=t[0]%360*mf,v=t[1]%360*mf,_=t.length>2?t[2]%360*mf:0,k()):[y*bf,v*bf,_*bf]},E.angle=function(t){return arguments.length?(b=t%360*mf,k()):b*bf},E.reflectX=function(t){return arguments.length?(m=t?-1:1,k()):m<0},E.reflectY=function(t){return arguments.length?(x=t?-1:1,k()):x<0},E.precision=function(t){return arguments.length?(a=dd(u,S=t*t),C()):zf(S)},E.fitExtent=function(t,n){return ud(E,t,n)},E.fitSize=function(t,n){return cd(E,t,n)},E.fitWidth=function(t,n){return fd(E,t,n)},E.fitHeight=function(t,n){return sd(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&N,k()}}function _d(t){var n=0,e=gf/3,r=vd(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*mf,e=t[1]*mf):[n*bf,e*bf]},i}function bd(t,n){var e=Cf(t),r=(e+Cf(n))/2;if(xf(r)<df)return function(t){var n=Tf(t);function e(t,e){return[t*n,Cf(e)/n]}return e.invert=function(t,e){return[t/n,Rf(e*n)]},e}(t);var i=1+e*(2*r-e),o=zf(i)/r;function a(t,n){var e=zf(i-2*r*Cf(n))/r;return[e*Cf(t*=r),o-e*Tf(t)]}return a.invert=function(t,n){var e=o-n,a=Mf(t,xf(e))*Pf(e);return e*r<0&&(a-=gf*Pf(t)*Pf(e)),[a/r,Rf((i-(t*t+e*e)*r*r)/(2*r))]},a}function md(){return _d(bd).scale(155.424).center([0,33.6442])}function xd(){return md().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wd(t){return function(n,e){var r=Tf(n),i=Tf(e),o=t(r*i);return o===1/0?[2,0]:[o*i*Cf(n),o*Cf(e)]}}function Md(t){return function(n,e){var r=zf(n*n+e*e),i=t(r),o=Cf(i),a=Tf(i);return[Mf(n*o,r*a),Rf(r&&e*o/r)]}}var Td=wd((function(t){return zf(2/(1+t))}));Td.invert=Md((function(t){return 2*Rf(t/2)}));var Ad=wd((function(t){return(t=Df(t))&&t/Cf(t)}));function Sd(t,n){return[t,Nf($f((yf+n)/2))]}function Ed(t){var n,e,r,i=yd(t),o=i.center,a=i.scale,u=i.translate,c=i.clipExtent,f=null;function s(){var o=gf*a(),u=i(ll(i.rotate()).invert([0,0]));return c(null==f?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Sd?[[Math.max(u[0]-o,f),n],[Math.min(u[0]+o,e),r]]:[[f,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),s()):a()},i.translate=function(t){return arguments.length?(u(t),s()):u()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?f=n=e=r=null:(f=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==f?null:[[f,n],[e,r]]},s()}function Nd(t){return $f((yf+t)/2)}function kd(t,n){var e=Tf(t),r=t===n?Cf(t):Nf(e/Tf(n))/Nf(Nd(n)/Nd(t)),i=e*kf(Nd(t),r)/r;if(!r)return Sd;function o(t,n){i>0?n<-yf+df&&(n=-yf+df):n>yf-df&&(n=yf-df);var e=i/kf(Nd(n),r);return[e*Cf(r*t),i-e*Tf(r*t)]}return o.invert=function(t,n){var e=i-n,o=Pf(r)*zf(t*t+e*e),a=Mf(t,xf(e))*Pf(e);return e*r<0&&(a-=gf*Pf(t)*Pf(e)),[a/r,2*wf(kf(i/o,1/r))-yf]},o}function Cd(t,n){return[t,n]}function Pd(t,n){var e=Tf(t),r=t===n?Cf(t):(e-Tf(n))/(n-t),i=e/r+t;if(xf(r)<df)return Cd;function o(t,n){var e=i-n,o=r*t;return[e*Cf(o),i-e*Tf(o)]}return o.invert=function(t,n){var e=i-n,o=Mf(t,xf(e))*Pf(e);return e*r<0&&(o-=gf*Pf(t)*Pf(e)),[o/r,i-Pf(r)*zf(t*t+e*e)]},o}Ad.invert=Md((function(t){return t})),Sd.invert=function(t,n){return[t,2*wf(Sf(n))-yf]},Cd.invert=Cd;var zd=1.340264,$d=-.081106,Dd=893e-6,Rd=.003796,Fd=zf(3)/2;function qd(t,n){var e=Rf(Fd*Cf(n)),r=e*e,i=r*r*r;return[t*Tf(e)/(Fd*(zd+3*$d*r+i*(7*Dd+9*Rd*r))),e*(zd+$d*r+i*(Dd+Rd*r))]}function Ud(t,n){var e=Tf(n),r=Tf(t)*e;return[e*Cf(t)/r,Cf(n)/r]}function Id(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Od(t,n){return[Tf(n)*Cf(t),Cf(n)]}function Bd(t,n){var e=Tf(n),r=1+Tf(t)*e;return[e*Cf(t)/r,Cf(n)/r]}function Yd(t,n){return[Nf($f((yf+n)/2)),-t]}function Ld(t,n){return t.parent===n.parent?1:2}function jd(t,n){return t+n.x}function Hd(t,n){return Math.max(t,n.y)}function Xd(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Gd(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=Wd)):void 0===n&&(n=Vd);for(var e,r,i,o,a,u=new Qd(t),c=[u];e=c.pop();)if((i=n(e.data))&&(a=(i=Array.from(i)).length))for(e.children=i,o=a-1;o>=0;--o)c.push(r=i[o]=new Qd(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(Kd)}function Vd(t){return t.children}function Wd(t){return Array.isArray(t)?t[1]:null}function Zd(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Kd(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Qd(t){this.data=t,this.depth=this.height=0,this.parent=null}function Jd(t){return null==t?null:tp(t)}function tp(t){if("function"!=typeof t)throw new Error;return t}function np(){return 0}function ep(t){return function(){return t}}qd.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=e=(r*(zd+$d*i+o*(Dd+Rd*i))-n)/(zd+3*$d*i+o*(7*Dd+9*Rd*i)))*r)*i*i,!(xf(e)<pf));++a);return[Fd*t*(zd+3*$d*i+o*(7*Dd+9*Rd*i))/Tf(r),Rf(Cf(r)/Fd)]},Ud.invert=Md(wf),Id.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(xf(e)>df&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Od.invert=Md(Rf),Bd.invert=Md((function(t){return 2*wf(t)})),Yd.invert=function(t,n){return[-n,2*wf(Sf(t))-yf]},Qd.prototype=Gd.prototype={constructor:Qd,count:function(){return this.eachAfter(Xd)},each:function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},eachAfter:function(t,n){for(var e,r,i,o=this,a=[o],u=[],c=-1;o=a.pop();)if(u.push(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r]);for(;o=u.pop();)t.call(n,o,++c,this);return this},eachBefore:function(t,n){for(var e,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(n,i,++a,this),e=i.children)for(r=e.length-1;r>=0;--r)o.push(e[r]);return this},find:function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return Gd(this).eachBefore(Zd)},[Symbol.iterator]:function*(){var t,n,e,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e])}while(o.length)}};const rp=1664525,ip=1013904223,op=4294967296;function ap(){let t=1;return()=>(t=(rp*t+ip)%op)/op}function up(t,n){for(var e,r,i=0,o=(t=function(t,n){let e,r,i=t.length;for(;i;)r=n()*i--|0,e=t[i],t[i]=t[r],t[r]=e;return t}(Array.from(t),n)).length,a=[];i<o;)e=t[i],r&&sp(r,e)?++i:(r=hp(a=cp(a,e)),i=0);return r}function cp(t,n){var e,r;if(lp(n,t))return[n];for(e=0;e<t.length;++e)if(fp(n,t[e])&&lp(dp(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(fp(dp(t[e],t[r]),n)&&fp(dp(t[e],n),t[r])&&fp(dp(t[r],n),t[e])&&lp(pp(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function fp(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function sp(t,n){var e=t.r-n.r+1e-9*Math.max(t.r,n.r,1),r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function lp(t,n){for(var e=0;e<n.length;++e)if(!sp(t,n[e]))return!1;return!0}function hp(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return dp(t[0],t[1]);case 3:return pp(t[0],t[1],t[2])}}function dp(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,u=n.r,c=o-e,f=a-r,s=u-i,l=Math.sqrt(c*c+f*f);return{x:(e+o+c/l*s)/2,y:(r+a+f/l*s)/2,r:(l+i+u)/2}}function pp(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,u=n.y,c=n.r,f=e.x,s=e.y,l=e.r,h=r-a,d=r-f,p=i-u,g=i-s,y=c-o,v=l-o,_=r*r+i*i-o*o,b=_-a*a-u*u+c*c,m=_-f*f-s*s+l*l,x=d*p-h*g,w=(p*m-g*b)/(2*x)-r,M=(g*y-p*v)/x,T=(d*b-h*m)/(2*x)-i,A=(h*v-d*y)/x,S=M*M+A*A-1,E=2*(o+w*M+T*A),N=w*w+T*T-o*o,k=-(Math.abs(S)>1e-6?(E+Math.sqrt(E*E-4*S*N))/(2*S):N/E);return{x:r+w+M*k,y:i+T+A*k,r:k}}function gp(t,n,e){var r,i,o,a,u=t.x-n.x,c=t.y-n.y,f=u*u+c*c;f?(i=n.r+e.r,i*=i,a=t.r+e.r,i>(a*=a)?(r=(f+a-i)/(2*f),o=Math.sqrt(Math.max(0,a/f-r*r)),e.x=t.x-r*u-o*c,e.y=t.y-r*c+o*u):(r=(f+i-a)/(2*f),o=Math.sqrt(Math.max(0,i/f-r*r)),e.x=n.x+r*u-o*c,e.y=n.y+r*c+o*u)):(e.x=n.x+e.r,e.y=n.y)}function yp(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function vp(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function _p(t){this._=t,this.next=null,this.previous=null}function bp(t,n){if(!(o=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,r,i,o,a,u,c,f,s,l,h;if((e=t[0]).x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;gp(r,e,i=t[2]),e=new _p(e),r=new _p(r),i=new _p(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(c=3;c<o;++c){gp(e._,r._,i=t[c]),i=new _p(i),f=r.next,s=e.previous,l=r._.r,h=e._.r;do{if(l<=h){if(yp(f._,i._)){r=f,e.next=r,r.previous=e,--c;continue t}l+=f._.r,f=f.next}else{if(yp(s._,i._)){(e=s).next=r,r.previous=e,--c;continue t}h+=s._.r,s=s.previous}}while(f!==s.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,a=vp(e);(i=i.next)!==r;)(u=vp(i))<a&&(e=i,a=u);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=up(e,n),c=0;c<o;++c)(e=t[c]).x-=i.x,e.y-=i.y;return i.r}function mp(t){return Math.sqrt(t.value)}function xp(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function wp(t,n,e){return function(r){if(i=r.children){var i,o,a,u=i.length,c=t(r)*n||0;if(c)for(o=0;o<u;++o)i[o].r+=c;if(a=bp(i,e),c)for(o=0;o<u;++o)i[o].r-=c;r.r=a+c}}}function Mp(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Tp(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Ap(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,f=t.value&&(r-n)/t.value;++u<c;)(o=a[u]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*f}var Sp={depth:-1},Ep={},Np={};function kp(t){return t.id}function Cp(t){return t.parentId}function Pp(t){let n=t.length;if(n<2)return"";for(;--n>1&&!zp(t,n););return t.slice(0,n)}function zp(t,n){if("/"===t[n]){let e=0;for(;n>0&&"\\"===t[--n];)++e;if(0==(1&e))return!0}return!1}function $p(t,n){return t.parent===n.parent?1:2}function Dp(t){var n=t.children;return n?n[0]:t.t}function Rp(t){var n=t.children;return n?n[n.length-1]:t.t}function Fp(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function qp(t,n,e){return t.a.parent===n.parent?t.a:e}function Up(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function Ip(t,n,e,r,i){for(var o,a=t.children,u=-1,c=a.length,f=t.value&&(i-e)/t.value;++u<c;)(o=a[u]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*f}Up.prototype=Object.create(Qd.prototype);var Op=(1+Math.sqrt(5))/2;function Bp(t,n,e,r,i,o){for(var a,u,c,f,s,l,h,d,p,g,y,v=[],_=n.children,b=0,m=0,x=_.length,w=n.value;b<x;){c=i-e,f=o-r;do{s=_[m++].value}while(!s&&m<x);for(l=h=s,y=s*s*(g=Math.max(f/c,c/f)/(w*t)),p=Math.max(h/y,y/l);m<x;++m){if(s+=u=_[m].value,u<l&&(l=u),u>h&&(h=u),y=s*s*g,(d=Math.max(h/y,y/l))>p){s-=u;break}p=d}v.push(a={value:s,dice:c<f,children:_.slice(b,m)}),a.dice?Ap(a,e,r,i,w?r+=f*s/w:o):Ip(a,e,r,w?e+=c*s/w:i,o),w-=s,b=m}return v}var Yp=function t(n){function e(t,e,r,i,o){Bp(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Op);var Lp=function t(n){function e(t,e,r,i,o){if((a=t._squarify)&&a.ratio===n)for(var a,u,c,f,s,l=-1,h=a.length,d=t.value;++l<h;){for(c=(u=a[l]).children,f=u.value=0,s=c.length;f<s;++f)u.value+=c[f].value;u.dice?Ap(u,e,r,i,d?r+=(o-r)*u.value/d:o):Ip(u,e,r,d?e+=(i-e)*u.value/d:i,o),d-=u.value}else t._squarify=a=Bp(n,t,e,r,i,o),a.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Op);function jp(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function Hp(t,n){return t[0]-n[0]||t[1]-n[1]}function Xp(t){const n=t.length,e=[0,1];let r,i=2;for(r=2;r<n;++r){for(;i>1&&jp(t[e[i-2]],t[e[i-1]],t[r])<=0;)--i;e[i++]=r}return e.slice(0,i)}var Gp=Math.random,Vp=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Gp),Wp=function t(n){function e(t,e){return arguments.length<2&&(e=t,t=0),t=Math.floor(t),e=Math.floor(e)-t,function(){return Math.floor(n()*e+t)}}return e.source=t,e}(Gp),Zp=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Gp),Kp=function t(n){var e=Zp.source(n);function r(){var t=e.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(Gp),Qp=function t(n){function e(t){return(t=+t)<=0?()=>0:function(){for(var e=0,r=t;r>1;--r)e+=n();return e+r*n()}}return e.source=t,e}(Gp),Jp=function t(n){var e=Qp.source(n);function r(t){if(0==(t=+t))return n;var r=e(t);return function(){return r()/t}}return r.source=t,r}(Gp),tg=function t(n){function e(t){return function(){return-Math.log1p(-n())/t}}return e.source=t,e}(Gp),ng=function t(n){function e(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-n(),t)}}return e.source=t,e}(Gp),eg=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(n()+t)}}return e.source=t,e}(Gp),rg=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-n())/t)})}return e.source=t,e}(Gp),ig=function t(n){var e=Zp.source(n)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-n())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),a=t<1?()=>Math.pow(n(),1/t):()=>1;return function(){do{do{var t=e(),u=1+o*t}while(u<=0);u*=u*u;var c=1-n()}while(c>=1-.0331*t*t*t*t&&Math.log(c)>=.5*t*t+i*(1-u+Math.log(u)));return i*u*a()*r}}return r.source=t,r}(Gp),og=function t(n){var e=ig.source(n);function r(t,n){var r=e(t),i=e(n);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(Gp),ag=function t(n){var e=rg.source(n),r=og.source(n);function i(t,n){return t=+t,(n=+n)>=1?()=>t:n<=0?()=>0:function(){for(var i=0,o=t,a=n;o*a>16&&o*(1-a)>16;){var u=Math.floor((o+1)*a),c=r(u,o-u+1)();c<=a?(i+=u,o-=u,a=(a-c)/(1-c)):(o=u-1,a/=c)}for(var f=a<.5,s=e(f?a:1-a),l=s(),h=0;l<=o;++h)l+=s();return i+(f?h:o-h)}}return i.source=t,i}(Gp),ug=function t(n){function e(t,e,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=n=>Math.pow(n,t)),e=null==e?0:+e,r=null==r?1:+r,function(){return e+r*i(-Math.log1p(-n()))}}return e.source=t,e}(Gp),cg=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){return t+e*Math.tan(Math.PI*n())}}return e.source=t,e}(Gp),fg=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){var r=n();return t+e*Math.log(r/(1-r))}}return e.source=t,e}(Gp),sg=function t(n){var e=ig.source(n),r=ag.source(n);function i(t){return function(){for(var i=0,o=t;o>16;){var a=Math.floor(.875*o),u=e(a)();if(u>o)return i+r(a-1,o/u)();i+=a,o-=u}for(var c=-Math.log1p(-n()),f=0;c<=o;++f)c-=Math.log1p(-n());return i+f}}return i.source=t,i}(Gp);const lg=1/4294967296;function hg(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function dg(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const pg=Symbol("implicit");function gg(){var t=new InternMap,n=[],e=[],r=pg;function i(i){let o=t.get(i);if(void 0===o){if(r!==pg)return r;t.set(i,o=n.push(i)-1)}return e[o%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new InternMap;for(const r of e)t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return gg(n,e).unknown(r)},hg.apply(i,arguments),i}function yg(){var t,n,e=gg().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,u=!1,c=0,f=0,s=.5;function l(){var e=r().length,l=a<o,h=l?a:o,d=l?o:a;t=(d-h)/Math.max(1,e-c+2*f),u&&(t=Math.floor(t)),h+=(d-h-t*(e-c))*s,n=t*(1-c),u&&(h=Math.round(h),n=Math.round(n));var p=lt(e).map((function(n){return h+t*n}));return i(l?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,l()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,l()):u},e.padding=function(t){return arguments.length?(c=Math.min(1,f=+t),l()):c},e.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),l()):c},e.paddingOuter=function(t){return arguments.length?(f=+t,l()):f},e.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),l()):s},e.copy=function(){return yg(r(),[o,a]).round(u).paddingInner(c).paddingOuter(f).align(s)},hg.apply(l(),arguments)}function vg(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vg(n())},t}function _g(t){return+t}var bg=[0,1];function mg(t){return t}function xg(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function wg(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=xg(i,r),o=e(a,o)):(r=xg(r,i),o=e(o,a)),function(t){return o(r(t))}}function Mg(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=xg(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=s(t,n,1,r)-1;return o[e](i[e](n))}}function Tg(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ag(){var t,n,e,r,i,o,a=bg,u=bg,c=Gr,f=mg;function s(){var t=Math.min(a.length,u.length);return f!==mg&&(f=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?Mg:wg,i=o=null,l}function l(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,c)))(t(f(n)))}return l.invert=function(e){return f(n((o||(o=r(u,a.map(t),Yr)))(e)))},l.domain=function(t){return arguments.length?(a=Array.from(t,_g),s()):a.slice()},l.range=function(t){return arguments.length?(u=Array.from(t),s()):u.slice()},l.rangeRound=function(t){return u=Array.from(t),c=Vr,s()},l.clamp=function(t){return arguments.length?(f=!!t||mg,s()):f!==mg},l.interpolate=function(t){return arguments.length?(c=t,s()):c},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,s()}}function Sg(){return Ag()(mg,mg)}function Eg(n,e,r,i){var o,a=W(n,e,r);switch((i=Jc(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(n),Math.abs(e));return null!=i.precision||isNaN(o=lf(a,u))||(i.precision=o),t.formatPrefix(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=hf(a,Math.max(Math.abs(n),Math.abs(e))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=sf(a))||(i.precision=o-2*("%"===i.type))}return t.format(i)}function Ng(t){var n=t.domain;return t.ticks=function(t){var e=n();return G(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Eg(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,c=o[a],f=o[u],s=10;for(f<c&&(i=c,c=f,f=i,i=a,a=u,u=i);s-- >0;){if((i=V(c,f,e))===r)return o[a]=c,o[u]=f,n(o);if(i>0)c=Math.floor(c/i)*i,f=Math.ceil(f/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,f=Math.floor(f*i)/i}r=i}return t},t}function kg(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Cg(t){return Math.log(t)}function Pg(t){return Math.exp(t)}function zg(t){return-Math.log(-t)}function $g(t){return-Math.exp(-t)}function Dg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Rg(t){return(n,e)=>-t(-n,e)}function Fg(n){const e=n(Cg,Pg),r=e.domain;let i,o,a=10;function u(){return i=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}(a),o=function(t){return 10===t?Dg:t===Math.E?Math.exp:n=>Math.pow(t,n)}(a),r()[0]<0?(i=Rg(i),o=Rg(o),n(zg,$g)):n(Cg,Pg),e}return e.base=function(t){return arguments.length?(a=+t,u()):a},e.domain=function(t){return arguments.length?(r(t),u()):r()},e.ticks=t=>{const n=r();let e=n[0],u=n[n.length-1];const c=u<e;c&&([e,u]=[u,e]);let f,s,l=i(e),h=i(u);const d=null==t?10:+t;let p=[];if(!(a%1)&&h-l<d){if(l=Math.floor(l),h=Math.ceil(h),e>0){for(;l<=h;++l)for(f=1;f<a;++f)if(s=l<0?f/o(-l):f*o(l),!(s<e)){if(s>u)break;p.push(s)}}else for(;l<=h;++l)for(f=a-1;f>=1;--f)if(s=l>0?f/o(-l):f*o(l),!(s<e)){if(s>u)break;p.push(s)}2*p.length<d&&(p=G(e,u,d))}else p=G(l,h,Math.min(h-l,d)).map(o);return c?p.reverse():p},e.tickFormat=(n,r)=>{if(null==n&&(n=10),null==r&&(r=10===a?"s":","),"function"!=typeof r&&(a%1||null!=(r=Jc(r)).precision||(r.trim=!0),r=t.format(r)),n===1/0)return r;const u=Math.max(1,a*n/e.ticks().length);return t=>{let n=t/o(Math.round(i(t)));return n*a<a-.5&&(n*=a),n<=u?r(t):""}},e.nice=()=>r(kg(r(),{floor:t=>o(Math.floor(i(t))),ceil:t=>o(Math.ceil(i(t)))})),e}function qg(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Ug(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Ig(t){var n=1,e=t(qg(n),Ug(n));return e.constant=function(e){return arguments.length?t(qg(n=+e),Ug(n)):n},Ng(e)}function Og(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Bg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yg(t){return t<0?-t*t:t*t}function Lg(t){var n=t(mg,mg),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(mg,mg):.5===e?t(Bg,Yg):t(Og(e),Og(1/e)):e},Ng(n)}function jg(){var t=Lg(Ag());return t.copy=function(){return Tg(t,jg()).exponent(t.exponent())},hg.apply(t,arguments),t}function Hg(t){return Math.sign(t)*t*t}const Xg=new Date,Gg=new Date;function Vg(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=n=>(t(n=new Date(+n)),n),i.ceil=e=>(t(e=new Date(e-1)),n(e,1),t(e),e),i.round=t=>{const n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=(t,e)=>(n(t=new Date(+t),null==e?1:Math.floor(e)),t),i.range=(e,r,o)=>{const a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;let u;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=e=>Vg((n=>{if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})),e&&(i.count=(n,r)=>(Xg.setTime(+n),Gg.setTime(+r),t(Xg),t(Gg),Math.floor(e(Xg,Gg))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?n=>r(n)%t==0:n=>i.count(0,n)%t==0):i:null)),i}const Wg=Vg((()=>{}),((t,n)=>{t.setTime(+t+n)}),((t,n)=>n-t));Wg.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Vg((n=>{n.setTime(Math.floor(n/t)*t)}),((n,e)=>{n.setTime(+n+e*t)}),((n,e)=>(e-n)/t)):Wg:null);const Zg=Wg.range,Kg=1e3,Qg=6e4,Jg=36e5,ty=864e5,ny=6048e5,ey=2592e6,ry=31536e6,iy=Vg((t=>{t.setTime(t-t.getMilliseconds())}),((t,n)=>{t.setTime(+t+n*Kg)}),((t,n)=>(n-t)/Kg),(t=>t.getUTCSeconds())),oy=iy.range,ay=Vg((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kg)}),((t,n)=>{t.setTime(+t+n*Qg)}),((t,n)=>(n-t)/Qg),(t=>t.getMinutes())),uy=ay.range,cy=Vg((t=>{t.setUTCSeconds(0,0)}),((t,n)=>{t.setTime(+t+n*Qg)}),((t,n)=>(n-t)/Qg),(t=>t.getUTCMinutes())),fy=cy.range,sy=Vg((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kg-t.getMinutes()*Qg)}),((t,n)=>{t.setTime(+t+n*Jg)}),((t,n)=>(n-t)/Jg),(t=>t.getHours())),ly=sy.range,hy=Vg((t=>{t.setUTCMinutes(0,0,0)}),((t,n)=>{t.setTime(+t+n*Jg)}),((t,n)=>(n-t)/Jg),(t=>t.getUTCHours())),dy=hy.range,py=Vg((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qg)/ty),(t=>t.getDate()-1)),gy=py.range,yy=Vg((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/ty),(t=>t.getUTCDate()-1)),vy=yy.range,_y=Vg((t=>{t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+n)}),((t,n)=>(n-t)/ty),(t=>Math.floor(t/ty))),by=_y.range;function my(t){return Vg((n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),((t,n)=>{t.setDate(t.getDate()+7*n)}),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qg)/ny))}const xy=my(0),wy=my(1),My=my(2),Ty=my(3),Ay=my(4),Sy=my(5),Ey=my(6),Ny=xy.range,ky=wy.range,Cy=My.range,Py=Ty.range,zy=Ay.range,$y=Sy.range,Dy=Ey.range;function Ry(t){return Vg((n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)}),((t,n)=>(n-t)/ny))}const Fy=Ry(0),qy=Ry(1),Uy=Ry(2),Iy=Ry(3),Oy=Ry(4),By=Ry(5),Yy=Ry(6),Ly=Fy.range,jy=qy.range,Hy=Uy.range,Xy=Iy.range,Gy=Oy.range,Vy=By.range,Wy=Yy.range,Zy=Vg((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,n)=>{t.setMonth(t.getMonth()+n)}),((t,n)=>n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())),(t=>t.getMonth())),Ky=Zy.range,Qy=Vg((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)}),((t,n)=>n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth())),Jy=Qy.range,tv=Vg((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n)}),((t,n)=>n.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));tv.every=t=>isFinite(t=Math.floor(t))&&t>0?Vg((n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),((n,e)=>{n.setFullYear(n.getFullYear()+e*t)})):null;const nv=tv.range,ev=Vg((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)}),((t,n)=>n.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));ev.every=t=>isFinite(t=Math.floor(t))&&t>0?Vg((n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),((n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null;const rv=ev.range;function iv(t,n,e,i,o,a){const u=[[iy,1,Kg],[iy,5,5e3],[iy,15,15e3],[iy,30,3e4],[a,1,Qg],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,Jg],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,ty],[i,2,1728e5],[e,1,ny],[n,1,ey],[n,3,7776e6],[t,1,ry]];function c(n,e,i){const o=Math.abs(e-n)/i,a=r((([,,t])=>t)).right(u,o);if(a===u.length)return t.every(W(n/ry,e/ry,i));if(0===a)return Wg.every(Math.max(W(n,e,i),1));const[c,f]=u[o/u[a-1][2]<u[a][2]/o?a-1:a];return c.every(f)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:c(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},c]}const[ov,av]=iv(ev,Qy,Fy,_y,hy,cy),[uv,cv]=iv(tv,Zy,xy,py,sy,ay);function fv(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sv(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lv(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function hv(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,f=mv(i),s=xv(i),l=mv(o),h=xv(o),d=mv(a),p=xv(a),g=mv(u),y=xv(u),v=mv(c),_=xv(c),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Yv,e:Yv,f:Gv,g:i_,G:a_,H:Lv,I:jv,j:Hv,L:Xv,m:Vv,M:Wv,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:k_,s:C_,S:Zv,u:Kv,U:Qv,V:t_,w:n_,W:e_,x:null,X:null,y:r_,Y:o_,Z:u_,"%":N_},m={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:c_,e:c_,f:d_,g:T_,G:S_,H:f_,I:s_,j:l_,L:h_,m:p_,M:g_,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:k_,s:C_,S:y_,u:v_,U:__,V:m_,w:x_,W:w_,x:null,X:null,y:M_,Y:A_,Z:E_,"%":N_},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=_.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return T(t,n,e,r)},d:zv,e:zv,f:Uv,g:Nv,G:Ev,H:Dv,I:Dv,j:$v,L:qv,m:Pv,M:Rv,p:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=s.get(r[0].toLowerCase()),e+r[0].length):-1},q:Cv,Q:Ov,s:Bv,S:Fv,u:Mv,U:Tv,V:Av,w:wv,W:Sv,x:function(t,n,r){return T(t,e,n,r)},X:function(t,n,e){return T(t,r,n,e)},y:Nv,Y:Ev,Z:kv,"%":Iv};function w(t,n){return function(e){var r,i,o,a=[],u=-1,c=0,f=t.length;for(e instanceof Date||(e=new Date(+e));++u<f;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=pv[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=lv(1900,void 0,1);if(T(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=sv(lv(o.y,0,1))).getUTCDay(),r=i>4||0===i?qy.ceil(r):qy(r),r=yy.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=fv(lv(o.y,0,1))).getDay(),r=i>4||0===i?wy.ceil(r):wy(r),r=py.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?sv(lv(o.y,0,1)).getUTCDay():fv(lv(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,sv(o)):fv(o)}}function T(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(r>=c)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in pv?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var dv,pv={"-":"",_:" ",0:"0"},gv=/^\s*\d+/,yv=/^%/,vv=/[\\^$*+?|[\]().{}]/g;function _v(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function bv(t){return t.replace(vv,"\\$&")}function mv(t){return new RegExp("^(?:"+t.map(bv).join("|")+")","i")}function xv(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function wv(t,n,e){var r=gv.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Mv(t,n,e){var r=gv.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Tv(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Av(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Sv(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ev(t,n,e){var r=gv.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Nv(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function kv(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Cv(t,n,e){var r=gv.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Pv(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function zv(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function $v(t,n,e){var r=gv.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Dv(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Rv(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Fv(t,n,e){var r=gv.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function qv(t,n,e){var r=gv.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Uv(t,n,e){var r=gv.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Iv(t,n,e){var r=yv.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Ov(t,n,e){var r=gv.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Bv(t,n,e){var r=gv.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Yv(t,n){return _v(t.getDate(),n,2)}function Lv(t,n){return _v(t.getHours(),n,2)}function jv(t,n){return _v(t.getHours()%12||12,n,2)}function Hv(t,n){return _v(1+py.count(tv(t),t),n,3)}function Xv(t,n){return _v(t.getMilliseconds(),n,3)}function Gv(t,n){return Xv(t,n)+"000"}function Vv(t,n){return _v(t.getMonth()+1,n,2)}function Wv(t,n){return _v(t.getMinutes(),n,2)}function Zv(t,n){return _v(t.getSeconds(),n,2)}function Kv(t){var n=t.getDay();return 0===n?7:n}function Qv(t,n){return _v(xy.count(tv(t)-1,t),n,2)}function Jv(t){var n=t.getDay();return n>=4||0===n?Ay(t):Ay.ceil(t)}function t_(t,n){return t=Jv(t),_v(Ay.count(tv(t),t)+(4===tv(t).getDay()),n,2)}function n_(t){return t.getDay()}function e_(t,n){return _v(wy.count(tv(t)-1,t),n,2)}function r_(t,n){return _v(t.getFullYear()%100,n,2)}function i_(t,n){return _v((t=Jv(t)).getFullYear()%100,n,2)}function o_(t,n){return _v(t.getFullYear()%1e4,n,4)}function a_(t,n){var e=t.getDay();return _v((t=e>=4||0===e?Ay(t):Ay.ceil(t)).getFullYear()%1e4,n,4)}function u_(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+_v(n/60|0,"0",2)+_v(n%60,"0",2)}function c_(t,n){return _v(t.getUTCDate(),n,2)}function f_(t,n){return _v(t.getUTCHours(),n,2)}function s_(t,n){return _v(t.getUTCHours()%12||12,n,2)}function l_(t,n){return _v(1+yy.count(ev(t),t),n,3)}function h_(t,n){return _v(t.getUTCMilliseconds(),n,3)}function d_(t,n){return h_(t,n)+"000"}function p_(t,n){return _v(t.getUTCMonth()+1,n,2)}function g_(t,n){return _v(t.getUTCMinutes(),n,2)}function y_(t,n){return _v(t.getUTCSeconds(),n,2)}function v_(t){var n=t.getUTCDay();return 0===n?7:n}function __(t,n){return _v(Fy.count(ev(t)-1,t),n,2)}function b_(t){var n=t.getUTCDay();return n>=4||0===n?Oy(t):Oy.ceil(t)}function m_(t,n){return t=b_(t),_v(Oy.count(ev(t),t)+(4===ev(t).getUTCDay()),n,2)}function x_(t){return t.getUTCDay()}function w_(t,n){return _v(qy.count(ev(t)-1,t),n,2)}function M_(t,n){return _v(t.getUTCFullYear()%100,n,2)}function T_(t,n){return _v((t=b_(t)).getUTCFullYear()%100,n,2)}function A_(t,n){return _v(t.getUTCFullYear()%1e4,n,4)}function S_(t,n){var e=t.getUTCDay();return _v((t=e>=4||0===e?Oy(t):Oy.ceil(t)).getUTCFullYear()%1e4,n,4)}function E_(){return"+0000"}function N_(){return"%"}function k_(t){return+t}function C_(t){return Math.floor(+t/1e3)}function P_(n){return dv=hv(n),t.timeFormat=dv.format,t.timeParse=dv.parse,t.utcFormat=dv.utcFormat,t.utcParse=dv.utcParse,dv}t.timeFormat=void 0,t.timeParse=void 0,t.utcFormat=void 0,t.utcParse=void 0,P_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var z_="%Y-%m-%dT%H:%M:%S.%LZ";var $_=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(z_),D_=$_;var R_=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse(z_),F_=R_;function q_(t){return new Date(t)}function U_(t){return t instanceof Date?+t:+new Date(+t)}function I_(t,n,e,r,i,o,a,u,c,f){var s=Sg(),l=s.invert,h=s.domain,d=f(".%L"),p=f(":%S"),g=f("%I:%M"),y=f("%I %p"),v=f("%a %d"),_=f("%b %d"),b=f("%B"),m=f("%Y");function x(t){return(c(t)<t?d:u(t)<t?p:a(t)<t?g:o(t)<t?y:r(t)<t?i(t)<t?v:_:e(t)<t?b:m)(t)}return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?h(Array.from(t,U_)):h().map(q_)},s.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},s.tickFormat=function(t,n){return null==n?x:f(n)},s.nice=function(t){var e=h();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(kg(e,t)):s},s.copy=function(){return Tg(s,I_(t,n,e,r,i,o,a,u,c,f))},s}function O_(){var t,n,e,r,i,o=0,a=1,u=mg,c=!1;function f(n){return null==n||isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,c?Math.max(0,Math.min(1,n)):n))}function s(t){return function(n){var e,r;return arguments.length?([e,r]=n,u=t(e,r),f):[u(0),u(1)]}}return f.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),n=r(a=+a),e=t===n?0:1/(n-t),f):[o,a]},f.clamp=function(t){return arguments.length?(c=!!t,f):c},f.interpolator=function(t){return arguments.length?(u=t,f):u},f.range=s(Gr),f.rangeRound=s(Vr),f.unknown=function(t){return arguments.length?(i=t,f):i},function(i){return r=i,t=i(o),n=i(a),e=t===n?0:1/(n-t),f}}function B_(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Y_(){var t=Lg(O_());return t.copy=function(){return B_(t,Y_()).exponent(t.exponent())},dg.apply(t,arguments)}function L_(){var t,n,e,r,i,o,a,u=0,c=.5,f=1,s=1,l=mg,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-n)*(s*t<s*n?r:i),l(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,l=di(t,[e,r,i]),d):[l(0),l(.5),l(1)]}}return d.domain=function(a){return arguments.length?([u,c,f]=a,t=o(u=+u),n=o(c=+c),e=o(f=+f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),s=n<t?-1:1,d):[u,c,f]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.range=p(Gr),d.rangeRound=p(Vr),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(u),n=a(c),e=a(f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),s=n<t?-1:1,d}}function j_(){var t=Lg(L_());return t.copy=function(){return B_(t,j_()).exponent(t.exponent())},dg.apply(t,arguments)}function H_(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}var X_=H_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),G_=H_("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),V_=H_("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),W_=H_("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Z_=H_("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),K_=H_("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Q_=H_("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),J_=H_("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),tb=H_("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),nb=H_("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),eb=t=>Fr(t[t.length-1]),rb=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(H_),ib=eb(rb),ob=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(H_),ab=eb(ob),ub=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(H_),cb=eb(ub),fb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(H_),sb=eb(fb),lb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(H_),hb=eb(lb),db=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(H_),pb=eb(db),gb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(H_),yb=eb(gb),vb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(H_),_b=eb(vb),bb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(H_),mb=eb(bb),xb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(H_),wb=eb(xb),Mb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(H_),Tb=eb(Mb),Ab=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(H_),Sb=eb(Ab),Eb=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(H_),Nb=eb(Eb),kb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(H_),Cb=eb(kb),Pb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(H_),zb=eb(Pb),$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(H_),Db=eb($b),Rb=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(H_),Fb=eb(Rb),qb=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(H_),Ub=eb(qb),Ib=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(H_),Ob=eb(Ib),Bb=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(H_),Yb=eb(Bb),Lb=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(H_),jb=eb(Lb),Hb=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(H_),Xb=eb(Hb),Gb=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(H_),Vb=eb(Gb),Wb=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(H_),Zb=eb(Wb),Kb=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(H_),Qb=eb(Kb),Jb=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(H_),tm=eb(Jb),nm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(H_),em=eb(nm);var rm=hi(Tr(300,.5,0),Tr(-240,.5,1)),im=hi(Tr(-100,.75,.35),Tr(80,1.5,.8)),om=hi(Tr(260,.75,.35),Tr(80,1.5,.8)),am=Tr();var um=Fe(),cm=Math.PI/3,fm=2*Math.PI/3;function sm(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var lm=sm(H_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),hm=sm(H_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),dm=sm(H_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),pm=sm(H_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function gm(t){return function(){return t}}const ym=Math.abs,vm=Math.atan2,_m=Math.cos,bm=Math.max,mm=Math.min,xm=Math.sin,wm=Math.sqrt,Mm=1e-12,Tm=Math.PI,Am=Tm/2,Sm=2*Tm;function Em(t){return t>=1?Am:t<=-1?-Am:Math.asin(t)}function Nm(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new Ua(n)}function km(t){return t.innerRadius}function Cm(t){return t.outerRadius}function Pm(t){return t.startAngle}function zm(t){return t.endAngle}function $m(t){return t&&t.padAngle}function Dm(t,n,e,r,i,o,a){var u=t-e,c=n-r,f=(a?o:-o)/wm(u*u+c*c),s=f*c,l=-f*u,h=t+s,d=n+l,p=e+s,g=r+l,y=(h+p)/2,v=(d+g)/2,_=p-h,b=g-d,m=_*_+b*b,x=i-o,w=h*g-p*d,M=(b<0?-1:1)*wm(bm(0,x*x*m-w*w)),T=(w*b-_*M)/m,A=(-w*_-b*M)/m,S=(w*b+_*M)/m,E=(-w*_+b*M)/m,N=T-y,k=A-v,C=S-y,P=E-v;return N*N+k*k>C*C+P*P&&(T=S,A=E),{cx:T,cy:A,x01:-s,y01:-l,x11:T*(i/x-1),y11:A*(i/x-1)}}var Rm=Array.prototype.slice;function Fm(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function qm(t){this._context=t}function Um(t){return new qm(t)}function Im(t){return t[0]}function Om(t){return t[1]}function Bm(t,n){var e=gm(!0),r=null,i=Um,o=null,a=Nm(u);function u(u){var c,f,s,l=(u=Fm(u)).length,h=!1;for(null==r&&(o=i(s=a())),c=0;c<=l;++c)!(c<l&&e(f=u[c],c,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,u),+n(f,c,u));if(s)return o=null,s+""||null}return t="function"==typeof t?t:void 0===t?Im:gm(t),n="function"==typeof n?n:void 0===n?Om:gm(n),u.x=function(n){return arguments.length?(t="function"==typeof n?n:gm(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:gm(+t),u):n},u.defined=function(t){return arguments.length?(e="function"==typeof t?t:gm(!!t),u):e},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u}function Ym(t,n,e){var r=null,i=gm(!0),o=null,a=Um,u=null,c=Nm(f);function f(f){var s,l,h,d,p,g=(f=Fm(f)).length,y=!1,v=new Array(g),_=new Array(g);for(null==o&&(u=a(p=c())),s=0;s<=g;++s){if(!(s<g&&i(d=f[s],s,f))===y)if(y=!y)l=s,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),h=s-1;h>=l;--h)u.point(v[h],_[h]);u.lineEnd(),u.areaEnd()}y&&(v[s]=+t(d,s,f),_[s]=+n(d,s,f),u.point(r?+r(d,s,f):v[s],e?+e(d,s,f):_[s]))}if(p)return u=null,p+""||null}function s(){return Bm().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?Im:gm(+t),n="function"==typeof n?n:gm(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?Om:gm(+e),f.x=function(n){return arguments.length?(t="function"==typeof n?n:gm(+n),r=null,f):t},f.x0=function(n){return arguments.length?(t="function"==typeof n?n:gm(+n),f):t},f.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:gm(+t),f):r},f.y=function(t){return arguments.length?(n="function"==typeof t?t:gm(+t),e=null,f):n},f.y0=function(t){return arguments.length?(n="function"==typeof t?t:gm(+t),f):n},f.y1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:gm(+t),f):e},f.lineX0=f.lineY0=function(){return s().x(t).y(n)},f.lineY1=function(){return s().x(t).y(e)},f.lineX1=function(){return s().x(r).y(n)},f.defined=function(t){return arguments.length?(i="function"==typeof t?t:gm(!!t),f):i},f.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),f):a},f.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),f):o},f}function Lm(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function jm(t){return t}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var Hm=Gm(Um);function Xm(t){this._curve=t}function Gm(t){function n(n){return new Xm(t(n))}return n._curve=t,n}function Vm(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Gm(t)):n()._curve},t}function Wm(){return Vm(Bm().curve(Hm))}function Zm(){var t=Ym().curve(Hm),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Vm(e())},delete t.lineX0,t.lineEndAngle=function(){return Vm(r())},delete t.lineX1,t.lineInnerRadius=function(){return Vm(i())},delete t.lineY0,t.lineOuterRadius=function(){return Vm(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(Gm(t)):n()._curve},t}function Km(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}Xm.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};class Qm{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}class Jm{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,0===this._point)this._point=1;else{const e=Km(this._x0,this._y0),r=Km(this._x0,this._y0=(this._y0+n)/2),i=Km(t,this._y0),o=Km(t,n);this._context.moveTo(...e),this._context.bezierCurveTo(...r,...i,...o)}this._x0=t,this._y0=n}}function tx(t){return new Qm(t,!0)}function nx(t){return new Qm(t,!1)}function ex(t){return new Jm(t)}function rx(t){return t.source}function ix(t){return t.target}function ox(t){let n=rx,e=ix,r=Im,i=Om,o=null,a=null,u=Nm(c);function c(){let c;const f=Rm.call(arguments),s=n.apply(this,f),l=e.apply(this,f);if(null==o&&(a=t(c=u())),a.lineStart(),f[0]=s,a.point(+r.apply(this,f),+i.apply(this,f)),f[0]=l,a.point(+r.apply(this,f),+i.apply(this,f)),a.lineEnd(),c)return a=null,c+""||null}return c.source=function(t){return arguments.length?(n=t,c):n},c.target=function(t){return arguments.length?(e=t,c):e},c.x=function(t){return arguments.length?(r="function"==typeof t?t:gm(+t),c):r},c.y=function(t){return arguments.length?(i="function"==typeof t?t:gm(+t),c):i},c.context=function(n){return arguments.length?(null==n?o=a=null:a=t(o=n),c):o},c}const ax=wm(3);var ux={draw(t,n){const e=.59436*wm(n+mm(n/28,.75)),r=e/2,i=r*ax;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},cx={draw(t,n){const e=wm(n/Tm);t.moveTo(e,0),t.arc(0,0,e,0,Sm)}},fx={draw(t,n){const e=wm(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}};const sx=wm(1/3),lx=2*sx;var hx={draw(t,n){const e=wm(n/lx),r=e*sx;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},dx={draw(t,n){const e=.62625*wm(n);t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},px={draw(t,n){const e=.87559*wm(n-mm(n/7,2));t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},gx={draw(t,n){const e=wm(n),r=-e/2;t.rect(r,r,e,e)}},yx={draw(t,n){const e=.4431*wm(n);t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}};const vx=xm(Tm/10)/xm(7*Tm/10),_x=xm(Sm/10)*vx,bx=-_m(Sm/10)*vx;var mx={draw(t,n){const e=wm(.8908130915292852*n),r=_x*e,i=bx*e;t.moveTo(0,-e),t.lineTo(r,i);for(let n=1;n<5;++n){const o=Sm*n/5,a=_m(o),u=xm(o);t.lineTo(u*e,-a*e),t.lineTo(a*r-u*i,u*r+a*i)}t.closePath()}};const xx=wm(3);var wx={draw(t,n){const e=-wm(n/(3*xx));t.moveTo(0,2*e),t.lineTo(-xx*e,-e),t.lineTo(xx*e,-e),t.closePath()}};const Mx=wm(3);var Tx={draw(t,n){const e=.6824*wm(n),r=e/2,i=e*Mx/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const Ax=-.5,Sx=wm(3)/2,Ex=1/wm(12),Nx=3*(Ex/2+1);var kx={draw(t,n){const e=wm(n/Nx),r=e/2,i=e*Ex,o=r,a=e*Ex+e,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(Ax*r-Sx*i,Sx*r+Ax*i),t.lineTo(Ax*o-Sx*a,Sx*o+Ax*a),t.lineTo(Ax*u-Sx*c,Sx*u+Ax*c),t.lineTo(Ax*r+Sx*i,Ax*i-Sx*r),t.lineTo(Ax*o+Sx*a,Ax*a-Sx*o),t.lineTo(Ax*u+Sx*c,Ax*c-Sx*u),t.closePath()}},Cx={draw(t,n){const e=.6189*wm(n-mm(n/6,1.7));t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}};const Px=[cx,fx,hx,gx,mx,wx,kx],zx=[cx,px,Cx,Tx,ux,yx,dx];function $x(){}function Dx(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Rx(t){this._context=t}function Fx(t){this._context=t}function qx(t){this._context=t}function Ux(t,n){this._basis=new Rx(t),this._beta=n}Rx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dx(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Fx.prototype={areaStart:$x,areaEnd:$x,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Dx(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Dx(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ux.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*n[c]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Ix=function t(n){function e(t){return 1===n?new Rx(t):new Ux(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Ox(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Bx(t,n){this._context=t,this._k=(1-n)/6}Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ox(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ox(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Yx=function t(n){function e(t){return new Bx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Lx(t,n){this._context=t,this._k=(1-n)/6}Lx.prototype={areaStart:$x,areaEnd:$x,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ox(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jx=function t(n){function e(t){return new Lx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Hx(t,n){this._context=t,this._k=(1-n)/6}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ox(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Xx=function t(n){function e(t){return new Hx(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Gx(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Mm){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Mm){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*f+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Vx(t,n){this._context=t,this._alpha=n}Vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Gx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Wx=function t(n){function e(t){return n?new Vx(t,n):new Bx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Zx(t,n){this._context=t,this._alpha=n}Zx.prototype={areaStart:$x,areaEnd:$x,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Gx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Kx=function t(n){function e(t){return n?new Zx(t,n):new Lx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Qx(t,n){this._context=t,this._alpha=n}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gx(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Jx=function t(n){function e(t){return n?new Qx(t,n):new Hx(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function tw(t){this._context=t}function nw(t){return t<0?-1:1}function ew(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(nw(o)+nw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function rw(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function iw(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function ow(t){this._context=t}function aw(t){this._context=new uw(t)}function uw(t){this._context=t}function cw(t){this._context=t}function fw(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function sw(t,n){this._context=t,this._t=n}function lw(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function hw(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function dw(t,n){return t[n]}function pw(t){const n=[];return n.key=t,n}function gw(t){var n=t.map(yw);return hw(t).sort((function(t,e){return n[t]-n[e]}))}function yw(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}function vw(t){var n=t.map(_w);return hw(t).sort((function(t,e){return n[t]-n[e]}))}function _w(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}tw.prototype={areaStart:$x,areaEnd:$x,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iw(this,this._t0,rw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,iw(this,rw(this,e=ew(this,t,n)),e);break;default:iw(this,this._t0,e=ew(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(aw.prototype=Object.create(ow.prototype)).point=function(t,n){ow.prototype.point.call(this,n,t)},uw.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=fw(t),i=fw(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},sw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var bw=t=>()=>t;function mw(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xw(t,n,e){this.k=t,this.x=n,this.y=e}xw.prototype={constructor:xw,scale:function(t){return 1===t?this:new xw(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new xw(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ww=new xw(1,0,0);function Mw(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ww;return t.__zoom}function Tw(t){t.stopImmediatePropagation()}function Aw(t){t.preventDefault(),t.stopImmediatePropagation()}function Sw(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Ew(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Nw(){return this.__zoom||ww}function kw(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Cw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pw(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Mw.prototype=xw.prototype,t.Adder=T,t.Delaunay=Lu,t.FormatSpecifier=tf,t.InternMap=InternMap,t.InternSet=InternSet,t.Node=Qd,t.Path=Ua,t.Voronoi=qu,t.ZoomTransform=xw,t.active=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>qi&&e.name===n)return new po([[t]],Zo,n,+r);return null},t.arc=function(){var t=km,n=Cm,e=gm(0),r=null,i=Pm,o=zm,a=$m,u=null,c=Nm(f);function f(){var f,s,l=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-Am,p=o.apply(this,arguments)-Am,g=ym(p-d),y=p>d;if(u||(u=f=c()),h<l&&(s=h,h=l,l=s),h>Mm)if(g>Sm-Mm)u.moveTo(h*_m(d),h*xm(d)),u.arc(0,0,h,d,p,!y),l>Mm&&(u.moveTo(l*_m(p),l*xm(p)),u.arc(0,0,l,p,d,y));else{var v,_,b=d,m=p,x=d,w=p,M=g,T=g,A=a.apply(this,arguments)/2,S=A>Mm&&(r?+r.apply(this,arguments):wm(l*l+h*h)),E=mm(ym(h-l)/2,+e.apply(this,arguments)),N=E,k=E;if(S>Mm){var C=Em(S/l*xm(A)),P=Em(S/h*xm(A));(M-=2*C)>Mm?(x+=C*=y?1:-1,w-=C):(M=0,x=w=(d+p)/2),(T-=2*P)>Mm?(b+=P*=y?1:-1,m-=P):(T=0,b=m=(d+p)/2)}var z=h*_m(b),$=h*xm(b),D=l*_m(w),R=l*xm(w);if(E>Mm){var F,q=h*_m(m),U=h*xm(m),I=l*_m(x),O=l*xm(x);if(g<Tm)if(F=function(t,n,e,r,i,o,a,u){var c=e-t,f=r-n,s=a-i,l=u-o,h=l*c-s*f;if(!(h*h<Mm))return[t+(h=(s*(n-o)-l*(t-i))/h)*c,n+h*f]}(z,$,I,O,q,U,D,R)){var B=z-F[0],Y=$-F[1],L=q-F[0],j=U-F[1],H=1/xm(function(t){return t>1?0:t<-1?Tm:Math.acos(t)}((B*L+Y*j)/(wm(B*B+Y*Y)*wm(L*L+j*j)))/2),X=wm(F[0]*F[0]+F[1]*F[1]);N=mm(E,(l-X)/(H-1)),k=mm(E,(h-X)/(H+1))}else N=k=0}T>Mm?k>Mm?(v=Dm(I,O,z,$,h,k,y),_=Dm(q,U,D,R,h,k,y),u.moveTo(v.cx+v.x01,v.cy+v.y01),k<E?u.arc(v.cx,v.cy,k,vm(v.y01,v.x01),vm(_.y01,_.x01),!y):(u.arc(v.cx,v.cy,k,vm(v.y01,v.x01),vm(v.y11,v.x11),!y),u.arc(0,0,h,vm(v.cy+v.y11,v.cx+v.x11),vm(_.cy+_.y11,_.cx+_.x11),!y),u.arc(_.cx,_.cy,k,vm(_.y11,_.x11),vm(_.y01,_.x01),!y))):(u.moveTo(z,$),u.arc(0,0,h,b,m,!y)):u.moveTo(z,$),l>Mm&&M>Mm?N>Mm?(v=Dm(D,R,q,U,l,-N,y),_=Dm(z,$,I,O,l,-N,y),u.lineTo(v.cx+v.x01,v.cy+v.y01),N<E?u.arc(v.cx,v.cy,N,vm(v.y01,v.x01),vm(_.y01,_.x01),!y):(u.arc(v.cx,v.cy,N,vm(v.y01,v.x01),vm(v.y11,v.x11),!y),u.arc(0,0,l,vm(v.cy+v.y11,v.cx+v.x11),vm(_.cy+_.y11,_.cx+_.x11),y),u.arc(_.cx,_.cy,N,vm(_.y11,_.x11),vm(_.y01,_.x01),!y))):u.arc(0,0,l,w,x,y):u.lineTo(D,R)}else u.moveTo(0,0);if(u.closePath(),f)return u=null,f+""||null}return f.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Tm/2;return[_m(r)*e,xm(r)*e]},f.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:gm(+n),f):t},f.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:gm(+t),f):n},f.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:gm(+t),f):e},f.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:gm(+t),f):r},f.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:gm(+t),f):i},f.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:gm(+t),f):o},f.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:gm(+t),f):a},f.context=function(t){return arguments.length?(u=null==t?null:t,f):u},f},t.area=Ym,t.areaRadial=Zm,t.ascending=n,t.autoType=function(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;yc&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t},t.axisBottom=function(t){return Pt(Mt,t)},t.axisLeft=function(t){return Pt(Tt,t)},t.axisRight=function(t){return Pt(wt,t)},t.axisTop=function(t){return Pt(xt,t)},t.bin=Q,t.bisect=s,t.bisectCenter=f,t.bisectLeft=c,t.bisectRight=u,t.bisector=r,t.blob=function(t,n){return fetch(t,n).then(vc)},t.blur=function(t,n){if(!((n=+n)>=0))throw new RangeError("invalid r");let e=t.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!n)return t;const r=y(n),i=t.slice();return r(t,i,0,e,1),r(i,t,0,e,1),r(t,i,0,e,1),t},t.blur2=l,t.blurImage=h,t.brush=function(){return wa(la)},t.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},t.brushX=function(){return wa(fa)},t.brushY=function(){return wa(sa)},t.buffer=function(t,n){return fetch(t,n).then(_c)},t.chord=function(){return za(!1,!1)},t.chordDirected=function(){return za(!0,!1)},t.chordTranspose=function(){return za(!1,!0)},t.cluster=function(){var t=Ld,n=1,e=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(jd,0)/t.length}(e),n.y=function(t){return 1+t.reduce(Hd,0)}(e)):(n.x=o?a+=t(n,o):0,n.y=0,o=n)}));var u=function(t){for(var n;n=t.children;)t=n[0];return t}(i),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),f=u.x-t(u,c)/2,s=c.x+t(c,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-f)/(s-f)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},t.color=ze,t.contourDensity=function(){var t=fu,n=su,e=lu,r=960,i=500,o=20,a=2,u=3*o,c=r+2*u>>a,f=i+2*u>>a,s=Qa(20);function h(r){var i=new Float32Array(c*f),s=Math.pow(2,-a),h=-1;for(const o of r){var d=(t(o,++h,r)+u)*s,p=(n(o,h,r)+u)*s,g=+e(o,h,r);if(g&&d>=0&&d<c&&p>=0&&p<f){var y=Math.floor(d),v=Math.floor(p),_=d-y-.5,b=p-v-.5;i[y+v*c]+=(1-_)*(1-b)*g,i[y+1+v*c]+=_*(1-b)*g,i[y+1+(v+1)*c]+=_*b*g,i[y+(v+1)*c]+=(1-_)*b*g}}return l({data:i,width:c,height:f},o*s),i}function d(t){var n=h(t),e=s(n),r=Math.pow(2,2*a);return Array.isArray(e)||(e=G(Number.MIN_VALUE,J(n)/r,e)),iu().size([c,f]).thresholds(e.map((t=>t*r)))(n).map(((t,n)=>(t.value=+e[n],p(t))))}function p(t){return t.coordinates.forEach(g),t}function g(t){t.forEach(y)}function y(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,a)-u,t[1]=t[1]*Math.pow(2,a)-u}function _(){return c=r+2*(u=3*o)>>a,f=i+2*u>>a,d}return d.contours=function(t){var n=h(t),e=iu().size([c,f]),r=Math.pow(2,2*a),i=t=>{t=+t;var i=p(e.contour(n,t*r));return i.value=t,i};return Object.defineProperty(i,"max",{get:()=>J(n)/r}),i},d.x=function(n){return arguments.length?(t="function"==typeof n?n:Qa(+n),d):t},d.y=function(t){return arguments.length?(n="function"==typeof t?t:Qa(+t),d):n},d.weight=function(t){return arguments.length?(e="function"==typeof t?t:Qa(+t),d):e},d.size=function(t){if(!arguments.length)return[r,i];var n=+t[0],e=+t[1];if(!(n>=0&&e>=0))throw new Error("invalid size");return r=n,i=e,_()},d.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),_()},d.thresholds=function(t){return arguments.length?(s="function"==typeof t?t:Array.isArray(t)?Qa(Za.call(t)):Qa(t),d):s},d.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*t*t+1)-1)/2,_()},d},t.contours=iu,t.count=v,t.create=function(t){return Zn(Yt(t).call(document.documentElement))},t.creator=Yt,t.cross=function(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(m)).map(_),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(b))return o;for(;;){o.push(i.map(((n,e)=>t[e][n])));let a=r;for(;++i[a]===e[a];){if(0===a)return n?o.map(n):o;i[a--]=0}}},t.csv=wc,t.csvFormat=rc,t.csvFormatBody=ic,t.csvFormatRow=ac,t.csvFormatRows=oc,t.csvFormatValue=uc,t.csvParse=nc,t.csvParseRows=ec,t.cubehelix=Tr,t.cumsum=function(t,n){var e=0,r=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:i=>e+=+n(i,r++,t)||0)},t.curveBasis=function(t){return new Rx(t)},t.curveBasisClosed=function(t){return new Fx(t)},t.curveBasisOpen=function(t){return new qx(t)},t.curveBumpX=tx,t.curveBumpY=nx,t.curveBundle=Ix,t.curveCardinal=Yx,t.curveCardinalClosed=jx,t.curveCardinalOpen=Xx,t.curveCatmullRom=Wx,t.curveCatmullRomClosed=Kx,t.curveCatmullRomOpen=Jx,t.curveLinear=Um,t.curveLinearClosed=function(t){return new tw(t)},t.curveMonotoneX=function(t){return new ow(t)},t.curveMonotoneY=function(t){return new aw(t)},t.curveNatural=function(t){return new cw(t)},t.curveStep=function(t){return new sw(t,.5)},t.curveStepAfter=function(t){return new sw(t,1)},t.curveStepBefore=function(t){return new sw(t,0)},t.descending=e,t.deviation=w,t.difference=function(t,...n){t=new InternSet(t);for(const e of n)for(const n of e)t.delete(n);return t},t.disjoint=function(t,n){const e=n[Symbol.iterator](),r=new InternSet;for(const n of t){if(r.has(n))return!1;let t,i;for(;({value:t,done:i}=e.next())&&!i;){if(Object.is(n,t))return!1;r.add(t)}}return!0},t.dispatch=$t,t.drag=function(){var t,n,e,r,i=se,o=le,a=he,u=de,c={},f=$t("start","drag","end"),s=0,l=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",y).on("touchmove.drag",v,ee).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,u){if(!r&&i.call(this,a,u)){var c=b(this,o.call(this,a,u),a,u,"mouse");c&&(Zn(a.view).on("mousemove.drag",p,re).on("mouseup.drag",g,re),ae(a.view),ie(a),e=!1,t=a.clientX,n=a.clientY,c("start",a))}}function p(r){if(oe(r),!e){var i=r.clientX-t,o=r.clientY-n;e=i*i+o*o>l}c.mouse("drag",r)}function g(t){Zn(t.view).on("mousemove.drag mouseup.drag",null),ue(t.view,e),oe(t),c.mouse("end",t)}function y(t,n){if(i.call(this,t,n)){var e,r,a=t.changedTouches,u=o.call(this,t,n),c=a.length;for(e=0;e<c;++e)(r=b(this,u,t,n,a[e].identifier,a[e]))&&(ie(t),r("start",t,a[e]))}}function v(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=c[r[n].identifier])&&(oe(t),e("drag",t,r[n]))}function _(t){var n,e,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<o;++n)(e=c[i[n].identifier])&&(ie(t),e("end",t,i[n]))}function b(t,n,e,r,i,o){var u,l,d,p=f.copy(),g=ne(o||e,n);if(null!=(d=a.call(t,new fe("beforestart",{sourceEvent:e,target:h,identifier:i,active:s,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return u=d.x-g[0]||0,l=d.y-g[1]||0,function e(o,a,f){var y,v=g;switch(o){case"start":c[i]=e,y=s++;break;case"end":delete c[i],--s;case"drag":g=ne(f||a,n),y=s}p.call(o,t,new fe(o,{sourceEvent:a,subject:d,target:h,identifier:i,active:y,x:g[0]+u,y:g[1]+l,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:ce(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:ce(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:ce(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:ce(!!t),h):u},h.on=function(){var t=f.on.apply(f,arguments);return t===f?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h},t.dragDisable=ae,t.dragEnable=ue,t.dsv=function(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Ju(t);return mc(n,e).then((function(t){return i.parse(t,r)}))},t.dsvFormat=Ju,t.easeBack=Lo,t.easeBackIn=Bo,t.easeBackInOut=Lo,t.easeBackOut=Yo,t.easeBounce=Io,t.easeBounceIn=function(t){return 1-Io(1-t)},t.easeBounceInOut=function(t){return((t*=2)<=1?1-Io(1-t):Io(t-1)+1)/2},t.easeBounceOut=Io,t.easeCircle=No,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleInOut=No,t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCubic=bo,t.easeCubicIn=function(t){return t*t*t},t.easeCubicInOut=bo,t.easeCubicOut=function(t){return--t*t*t+1},t.easeElastic=Xo,t.easeElasticIn=Ho,t.easeElasticInOut=Go,t.easeElasticOut=Xo,t.easeExp=Eo,t.easeExpIn=function(t){return So(1-+t)},t.easeExpInOut=Eo,t.easeExpOut=function(t){return 1-So(t)},t.easeLinear=t=>+t,t.easePoly=wo,t.easePolyIn=mo,t.easePolyInOut=wo,t.easePolyOut=xo,t.easeQuad=_o,t.easeQuadIn=function(t){return t*t},t.easeQuadInOut=_o,t.easeQuadOut=function(t){return t*(2-t)},t.easeSin=Ao,t.easeSinIn=function(t){return 1==+t?1:1-Math.cos(t*To)},t.easeSinInOut=Ao,t.easeSinOut=function(t){return Math.sin(t*To)},t.every=function(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(!n(r,++e,t))return!1;return!0},t.extent=M,t.fcumsum=function(t,n){const e=new T;let r=-1;return Float64Array.from(t,void 0===n?t=>e.add(+t||0):i=>e.add(+n(i,++r,t)||0))},t.filter=function(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");const e=[];let r=-1;for(const i of t)n(i,++r,t)&&e.push(i);return e},t.flatGroup=function(t,...n){return z(P(t,...n),n)},t.flatRollup=function(t,n,...e){return z(D(t,n,...e),e)},t.forceCenter=function(t,n){var e,r=1;function i(){var i,o,a=e.length,u=0,c=0;for(i=0;i<a;++i)u+=(o=e[i]).x,c+=o.y;for(u=(u/a-t)*r,c=(c/a-n)*r,i=0;i<a;++i)(o=e[i]).x-=u,o.y-=c}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i},t.forceCollide=function(t){var n,e,r,i=1,o=1;function a(){for(var t,a,c,f,s,l,h,d=n.length,p=0;p<o;++p)for(a=$c(n,Ic,Oc).visitAfter(u),t=0;t<d;++t)c=n[t],l=e[c.index],h=l*l,f=c.x+c.vx,s=c.y+c.vy,a.visit(g);function g(t,n,e,o,a){var u=t.data,d=t.r,p=l+d;if(!u)return n>f+p||o<f-p||e>s+p||a<s-p;if(u.index>c.index){var g=f-u.x-u.vx,y=s-u.y-u.vy,v=g*g+y*y;v<p*p&&(0===g&&(v+=(g=Uc(r))*g),0===y&&(v+=(y=Uc(r))*y),v=(p-(v=Math.sqrt(v)))/v*i,c.vx+=(g*=v)*(p=(d*=d)/(h+d)),c.vy+=(y*=v)*p,u.vx-=g*(p=1-p),u.vy-=y*p)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function c(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=qc(null==t?1:+t)),a.initialize=function(t,e){n=t,r=e,c()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:qc(+n),c(),a):t},a},t.forceLink=function(t){var n,e,r,i,o,a,u=Bc,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=qc(30),s=1;function l(r){for(var i=0,u=t.length;i<s;++i)for(var c,f,l,h,d,p,g,y=0;y<u;++y)f=(c=t[y]).source,h=(l=c.target).x+l.vx-f.x-f.vx||Uc(a),d=l.y+l.vy-f.y-f.vy||Uc(a),h*=p=((p=Math.sqrt(h*h+d*d))-e[y])/p*r*n[y],d*=p,l.vx-=h*(g=o[y]),l.vy-=d*g,f.vx+=h*(g=1-g),f.vy+=d*g}function h(){if(r){var a,c,f=r.length,s=t.length,l=new Map(r.map(((t,n)=>[u(t,n,r),t])));for(a=0,i=new Array(f);a<s;++a)(c=t[a]).index=a,"object"!=typeof c.source&&(c.source=Yc(l,c.source)),"object"!=typeof c.target&&(c.target=Yc(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(s);a<s;++a)c=t[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(s),d(),e=new Array(s),p()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+f(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t,n){r=t,a=n,h()},l.links=function(n){return arguments.length?(t=n,h(),l):t},l.id=function(t){return arguments.length?(u=t,l):u},l.iterations=function(t){return arguments.length?(s=+t,l):s},l.strength=function(t){return arguments.length?(c="function"==typeof t?t:qc(+t),d(),l):c},l.distance=function(t){return arguments.length?(f="function"==typeof t?t:qc(+t),p(),l):f},l},t.forceManyBody=function(){var t,n,e,r,i,o=qc(-30),a=1,u=1/0,c=.81;function f(e){var i,o=t.length,a=$c(t,Xc,Gc).visitAfter(l);for(r=e,i=0;i<o;++i)n=t[i],a.visit(h)}function s(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function l(t){var n,e,r,o,a,u=0,c=0;if(t.length){for(r=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(u+=n.value,c+=e,r+=e*n.x,o+=e*n.y);t.x=r/c,t.y=o/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=i[n.data.index]}while(n=n.next)}t.value=u}function h(t,o,f,s){if(!t.value)return!0;var l=t.x-n.x,h=t.y-n.y,d=s-o,p=l*l+h*h;if(d*d/c<p)return p<u&&(0===l&&(p+=(l=Uc(e))*l),0===h&&(p+=(h=Uc(e))*h),p<a&&(p=Math.sqrt(a*p)),n.vx+=l*t.value*r/p,n.vy+=h*t.value*r/p),!0;if(!(t.length||p>=u)){(t.data!==n||t.next)&&(0===l&&(p+=(l=Uc(e))*l),0===h&&(p+=(h=Uc(e))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==n&&(d=i[t.data.index]*r/p,n.vx+=l*d,n.vy+=h*d)}while(t=t.next)}}return f.initialize=function(n,r){t=n,e=r,s()},f.strength=function(t){return arguments.length?(o="function"==typeof t?t:qc(+t),s(),f):o},f.distanceMin=function(t){return arguments.length?(a=t*t,f):Math.sqrt(a)},f.distanceMax=function(t){return arguments.length?(u=t*t,f):Math.sqrt(u)},f.theta=function(t){return arguments.length?(c=t*t,f):Math.sqrt(c)},f},t.forceRadial=function(t,n,e){var r,i,o,a=qc(.1);function u(t){for(var a=0,u=r.length;a<u;++a){var c=r[a],f=c.x-n||1e-6,s=c.y-e||1e-6,l=Math.sqrt(f*f+s*s),h=(o[a]-l)*i[a]*t/l;c.vx+=f*h,c.vy+=s*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+a(r[n],n,r)}}return"function"!=typeof t&&(t=qc(+t)),null==n&&(n=0),null==e&&(e=0),u.initialize=function(t){r=t,c()},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:qc(+t),c(),u):a},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:qc(+n),c(),u):t},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(t){return arguments.length?(e=+t,u):e},u},t.forceSimulation=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,u=new Map,c=Ni(l),f=$t("tick","end"),s=function(){let t=1;return()=>(t=(Lc*t+jc)%Hc)/Hc}();function l(){h(),f.call("tick",n),e<r&&(c.stop(),f.call("end",n))}function h(r){var c,f,s=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,u.forEach((function(t){t(e)})),c=0;c<s;++c)null==(f=t[c]).fx?f.x+=f.vx*=a:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=a:(f.y=f.fy,f.vy=0);return n}function d(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*Vc;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function p(n){return n.initialize&&n.initialize(t,s),n}return null==t&&(t=[]),d(),n={tick:h,restart:function(){return c.restart(l),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),u.forEach(p),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},randomSource:function(t){return arguments.length?(s=t,u.forEach(p),n):s},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,p(e)),n):u.get(t)},find:function(n,e,r){var i,o,a,u,c,f=0,s=t.length;for(null==r?r=1/0:r*=r,f=0;f<s;++f)(a=(i=n-(u=t[f]).x)*i+(o=e-u.y)*o)<r&&(c=u,r=a);return c},on:function(t,e){return arguments.length>1?(f.on(t,e),n):f.on(t)}}},t.forceX=function(t){var n,e,r,i=qc(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=qc(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:qc(+t),a(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:qc(+n),a(),o):t},o},t.forceY=function(t){var n,e,r,i=qc(.1);function o(t){for(var i,o=0,a=n.length;o<a;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function a(){if(n){var o,a=n.length;for(e=new Array(a),r=new Array(a),o=0;o<a;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=qc(null==t?0:+t)),o.initialize=function(t){n=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:qc(+t),a(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:qc(+n),a(),o):t},o},t.formatDefaultLocale=ff,t.formatLocale=cf,t.formatSpecifier=Jc,t.fsum=function(t,n){const e=new T;if(void 0===n)for(let n of t)(n=+n)&&e.add(n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&e.add(i)}return+e},t.geoAlbers=xd,t.geoAlbersUsa=function(){var t,n,e,r,i,o,a=xd(),u=md().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=md().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function l(){return t=n=null,s}return s.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),c.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),l()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(f),r=u.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+df,s+.12*n+df],[o-.214*n-df,s+.234*n-df]]).stream(f),i=c.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+df,s+.166*n+df],[o-.115*n-df,s+.234*n-df]]).stream(f),l()},s.fitExtent=function(t,n){return ud(s,t,n)},s.fitSize=function(t,n){return cd(s,t,n)},s.fitWidth=function(t,n){return fd(s,t,n)},s.fitHeight=function(t,n){return sd(s,t,n)},s.scale(1070)},t.geoArea=function(t){return us=new T,Lf(t,cs),2*us},t.geoAzimuthalEqualArea=function(){return yd(Td).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=Td,t.geoAzimuthalEquidistant=function(){return yd(Ad).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=Ad,t.geoBounds=function(t){var n,e,r,i,o,a,u;if(Qf=Kf=-(Wf=Zf=1/0),is=[],Lf(t,Fs),e=is.length){for(is.sort(Hs),n=1,o=[r=is[0]];n<e;++n)Xs(r,(i=is[n])[0])||Xs(r,i[1])?(js(r[0],i[1])>js(r[0],r[1])&&(r[1]=i[1]),js(i[0],r[1])>js(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=js(r[1],i[0]))>a&&(a=u,Wf=i[0],Kf=r[1])}return is=os=null,Wf===1/0||Zf===1/0?[[NaN,NaN],[NaN,NaN]]:[[Wf,Zf],[Kf,Qf]]},t.geoCentroid=function(t){ms=xs=ws=Ms=Ts=As=Ss=Es=0,Ns=new T,ks=new T,Cs=new T,Lf(t,Gs);var n=+Ns,e=+ks,r=+Cs,i=Ef(n,e,r);return i<pf&&(n=As,e=Ss,r=Es,xs<df&&(n=ws,e=Ms,r=Ts),(i=Ef(n,e,r))<pf)?[NaN,NaN]:[Mf(e,n)*bf,Rf(r/i)*bf]},t.geoCircle=function(){var t,n,e=il([0,0]),r=il(90),i=il(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=bf,e[1]*=bf}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*mf,c=i.apply(this,arguments)*mf;return t=[],n=ul(-a[0]*mf,-a[1]*mf,0).invert,hl(o,u,c,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:il([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:il(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:il(+t),a):i},a},t.geoClipAntimeridian=Tl,t.geoClipCircle=Al,t.geoClipExtent=function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=zl(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},t.geoClipRectangle=zl,t.geoConicConformal=function(){return _d(kd).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=kd,t.geoConicEqualArea=md,t.geoConicEqualAreaRaw=bd,t.geoConicEquidistant=function(){return _d(Pd).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Pd,t.geoContains=function(t,n){return(t&&Bl.hasOwnProperty(t.type)?Bl[t.type]:Ll)(t,n)},t.geoDistance=Ol,t.geoEqualEarth=function(){return yd(qd).scale(177.158)},t.geoEqualEarthRaw=qd,t.geoEquirectangular=function(){return yd(Cd).scale(152.63)},t.geoEquirectangularRaw=Cd,t.geoGnomonic=function(){return yd(Ud).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=Ud,t.geoGraticule=Kl,t.geoGraticule10=function(){return Kl()()},t.geoIdentity=function(){var t,n,e,r,i,o,a,u=1,c=0,f=0,s=1,l=1,h=0,d=null,p=1,g=1,y=id({point:function(t,n){var e=b([t,n]);this.stream.point(e[0],e[1])}}),v=eh;function _(){return p=u*s,g=u*l,o=a=null,b}function b(e){var r=e[0]*p,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+c,i+f]}return b.invert=function(e){var r=e[0]-c,i=e[1]-f;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/p,i/g]},b.stream=function(t){return o&&a===t?o:o=y(v(a=t))},b.postclip=function(t){return arguments.length?(v=t,d=e=r=i=null,_()):v},b.clipExtent=function(t){return arguments.length?(v=null==t?(d=e=r=i=null,eh):zl(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),_()):null==d?null:[[d,e],[r,i]]},b.scale=function(t){return arguments.length?(u=+t,_()):u},b.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],_()):[c,f]},b.angle=function(e){return arguments.length?(n=Cf(h=e%360*mf),t=Tf(h),_()):h*bf},b.reflectX=function(t){return arguments.length?(s=t?-1:1,_()):s<0},b.reflectY=function(t){return arguments.length?(l=t?-1:1,_()):l<0},b.fitExtent=function(t,n){return ud(b,t,n)},b.fitSize=function(t,n){return cd(b,t,n)},b.fitWidth=function(t,n){return fd(b,t,n)},b.fitHeight=function(t,n){return sd(b,t,n)},b},t.geoInterpolate=function(t,n){var e=t[0]*mf,r=t[1]*mf,i=n[0]*mf,o=n[1]*mf,a=Tf(r),u=Cf(r),c=Tf(o),f=Cf(o),s=a*Tf(e),l=a*Cf(e),h=c*Tf(i),d=c*Cf(i),p=2*Rf(zf(Ff(o-r)+a*c*Ff(i-e))),g=Cf(p),y=p?function(t){var n=Cf(t*=p)/g,e=Cf(p-t)/g,r=e*s+n*h,i=e*l+n*d,o=e*u+n*f;return[Mf(i,r)*bf,Mf(o,zf(r*r+i*i))*bf]}:function(){return[e*bf,r*bf]};return y.distance=p,y},t.geoLength=ql,t.geoMercator=function(){return Ed(Sd).scale(961/_f)},t.geoMercatorRaw=Sd,t.geoNaturalEarth1=function(){return yd(Id).scale(175.295)},t.geoNaturalEarth1Raw=Id,t.geoOrthographic=function(){return yd(Od).scale(249.5).clipAngle(90+df)},t.geoOrthographicRaw=Od,t.geoPath=function(t,n){let e,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Lf(t,e(r))),r.result()}return a.area=function(t){return Lf(t,e(sh)),sh.result()},a.measure=function(t){return Lf(t,e(Kh)),Kh.result()},a.bounds=function(t){return Lf(t,e(mh)),mh.result()},a.centroid=function(t){return Lf(t,e(Oh)),Oh.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,eh):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new ed(i)):new Bh(n=t),"function"!=typeof o&&r.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return null===n&&(r=new ed(i)),a},a.projection(t).digits(i).context(n)},t.geoProjection=yd,t.geoProjectionMutator=vd,t.geoRotation=ll,t.geoStereographic=function(){return yd(Bd).scale(250).clipAngle(142)},t.geoStereographicRaw=Bd,t.geoStream=Lf,t.geoTransform=function(t){return{stream:id(t)}},t.geoTransverseMercator=function(){var t=Ed(Yd),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=Yd,t.gray=function(t,n){return new ur(t,0,0,null==n?1:n)},t.greatest=ot,t.greatestIndex=function(t,e=n){if(1===e.length)return tt(t,e);let r,i=-1,o=-1;for(const n of t)++o,(i<0?0===e(n,n):e(n,r)>0)&&(r=n,i=o);return i},t.group=C,t.groupSort=function(t,e,r){return(2!==e.length?U($(t,e,r),(([t,e],[r,i])=>n(e,i)||n(t,r))):U(C(t,r),(([t,r],[i,o])=>e(r,o)||n(t,i)))).map((([t])=>t))},t.groups=P,t.hcl=dr,t.hierarchy=Gd,t.histogram=Q,t.hsl=He,t.html=Ec,t.image=function(t,n){return new Promise((function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t}))},t.index=function(t,...n){return F(t,k,R,n)},t.indexes=function(t,...n){return F(t,Array.from,R,n)},t.interpolate=Gr,t.interpolateArray=function(t,n){return(Ir(n)?Ur:Or)(t,n)},t.interpolateBasis=Er,t.interpolateBasisClosed=Nr,t.interpolateBlues=Xb,t.interpolateBrBG=ib,t.interpolateBuGn=wb,t.interpolateBuPu=Tb,t.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},t.interpolateCool=om,t.interpolateCubehelix=li,t.interpolateCubehelixDefault=rm,t.interpolateCubehelixLong=hi,t.interpolateDate=Br,t.interpolateDiscrete=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},t.interpolateGnBu=Sb,t.interpolateGreens=Vb,t.interpolateGreys=Zb,t.interpolateHcl=ci,t.interpolateHclLong=fi,t.interpolateHsl=oi,t.interpolateHslLong=ai,t.interpolateHue=function(t,n){var e=Pr(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},t.interpolateInferno=dm,t.interpolateLab=function(t,n){var e=$r((t=ar(t)).l,(n=ar(n)).l),r=$r(t.a,n.a),i=$r(t.b,n.b),o=$r(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateMagma=hm,t.interpolateNumber=Yr,t.interpolateNumberArray=Ur,t.interpolateObject=Lr,t.interpolateOrRd=Nb,t.interpolateOranges=em,t.interpolatePRGn=ab,t.interpolatePiYG=cb,t.interpolatePlasma=pm,t.interpolatePuBu=zb,t.interpolatePuBuGn=Cb,t.interpolatePuOr=sb,t.interpolatePuRd=Db,t.interpolatePurples=Qb,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return am.h=360*t-100,am.s=1.5-1.5*n,am.l=.8-.9*n,am+""},t.interpolateRdBu=hb,t.interpolateRdGy=pb,t.interpolateRdPu=Fb,t.interpolateRdYlBu=yb,t.interpolateRdYlGn=_b,t.interpolateReds=tm,t.interpolateRgb=Dr,t.interpolateRgbBasis=Fr,t.interpolateRgbBasisClosed=qr,t.interpolateRound=Vr,t.interpolateSinebow=function(t){var n;return t=(.5-t)*Math.PI,um.r=255*(n=Math.sin(t))*n,um.g=255*(n=Math.sin(t+cm))*n,um.b=255*(n=Math.sin(t+fm))*n,um+""},t.interpolateSpectral=mb,t.interpolateString=Xr,t.interpolateTransformCss=ti,t.interpolateTransformSvg=ni,t.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},t.interpolateViridis=lm,t.interpolateWarm=im,t.interpolateYlGn=Ob,t.interpolateYlGnBu=Ub,t.interpolateYlOrBr=Yb,t.interpolateYlOrRd=jb,t.interpolateZoom=ri,t.interrupt=Gi,t.intersection=function(t,...n){t=new InternSet(t),n=n.map(vt);t:for(const e of t)for(const r of n)if(!r.has(e)){t.delete(e);continue t}return t},t.interval=function(t,n,e){var r=new Ei,i=n;return null==n?(r.restart(t,n,e),r):(r._restart=r.restart,r.restart=function(t,n,e){n=+n,e=null==e?Ai():+e,r._restart((function o(a){a+=i,r._restart(o,i+=n,e),t(a)}),n,e)},r.restart(t,n,e),r)},t.isoFormat=D_,t.isoParse=F_,t.json=function(t,n){return fetch(t,n).then(Tc)},t.lab=ar,t.lch=function(t,n,e,r){return 1===arguments.length?hr(t):new pr(e,n,t,null==r?1:r)},t.least=function(t,e=n){let r,i=!1;if(1===e.length){let o;for(const a of t){const t=e(a);(i?n(t,o)<0:0===n(t,t))&&(r=a,o=t,i=!0)}}else for(const n of t)(i?e(n,r)<0:0===e(n,n))&&(r=n,i=!0);return r},t.leastIndex=ht,t.line=Bm,t.lineRadial=Wm,t.link=ox,t.linkHorizontal=function(){return ox(tx)},t.linkRadial=function(){const t=ox(ex);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return ox(nx)},t.local=Qn,t.map=function(t,n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof n)throw new TypeError("mapper is not a function");return Array.from(t,((e,r)=>n(e,r,t)))},t.matcher=Vt,t.max=J,t.maxIndex=tt,t.mean=function(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e},t.median=function(t,n){return at(t,.5,n)},t.medianIndex=function(t,n){return ct(t,.5,n)},t.merge=ft,t.min=nt,t.minIndex=et,t.mode=function(t,n){const e=new InternMap;if(void 0===n)for(let n of t)null!=n&&n>=n&&e.set(n,(e.get(n)||0)+1);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&e.set(i,(e.get(i)||0)+1)}let r,i=0;for(const[t,n]of e)n>i&&(i=n,r=t);return r},t.namespace=It,t.namespaces=Ut,t.nice=Z,t.now=Ai,t.pack=function(){var t=null,n=1,e=1,r=np;function i(i){const o=ap();return i.x=n/2,i.y=e/2,t?i.eachBefore(xp(t)).eachAfter(wp(r,.5,o)).eachBefore(Mp(1)):i.eachBefore(xp(mp)).eachAfter(wp(np,1,o)).eachAfter(wp(r,i.r/Math.min(n,e),o)).eachBefore(Mp(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=Jd(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:ep(+t),i):r},i},t.packEnclose=function(t){return up(t,ap())},t.packSiblings=function(t){return bp(t,ap()),t},t.pairs=function(t,n=st){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e},t.partition=function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&Ap(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,a=r.x1-e,u=r.y1-e;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(n,o)),r&&i.eachBefore(Tp),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},t.path=Ia,t.pathRound=function(t=3){return new Ua(+t)},t.permute=q,t.pie=function(){var t=jm,n=Lm,e=null,r=gm(0),i=gm(Sm),o=gm(0);function a(a){var u,c,f,s,l,h=(a=Fm(a)).length,d=0,p=new Array(h),g=new Array(h),y=+r.apply(this,arguments),v=Math.min(Sm,Math.max(-Sm,i.apply(this,arguments)-y)),_=Math.min(Math.abs(v)/h,o.apply(this,arguments)),b=_*(v<0?-1:1);for(u=0;u<h;++u)(l=g[p[u]=u]=+t(a[u],u,a))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(g[t],g[e])})):null!=e&&p.sort((function(t,n){return e(a[t],a[n])})),u=0,f=d?(v-h*b)/d:0;u<h;++u,y=s)c=p[u],s=y+((l=g[c])>0?l*f:0)+b,g[c]={data:a[c],index:u,value:l,startAngle:y,endAngle:s,padAngle:_};return g}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:gm(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:gm(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:gm(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:gm(+t),a):o},a},t.piecewise=di,t.pointRadial=Km,t.pointer=ne,t.pointers=function(t,n){return t.target&&(t=te(t),void 0===n&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,(t=>ne(t,n)))},t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,a=0,u=t[i-1],c=0;++r<i;)n=u,u=t[r],c+=e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o/(c*=3),a/c]},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],a=n[0],u=n[1],c=o[0],f=o[1],s=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>u!=f>u&&a<(c-e)*(u-r)/(f-r)+e&&(s=!s),c=e,f=r;return s},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Hp),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Xp(r),a=Xp(i),u=a[0]===o[0],c=a[a.length-1]===o[o.length-1],f=[];for(n=o.length-1;n>=0;--n)f.push(t[r[o[n]][2]]);for(n=+u;n<a.length-c;++n)f.push(t[r[a[n]][2]]);return f},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],c=0;++r<i;)n=a,e=u,n-=a=(o=t[r])[0],e-=u=o[1],c+=Math.hypot(n,e);return c},t.precisionFixed=sf,t.precisionPrefix=lf,t.precisionRound=hf,t.quadtree=$c,t.quantile=at,t.quantileIndex=ct,t.quantileSorted=ut,t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.quickselect=rt,t.radialArea=Zm,t.radialLine=Wm,t.randomBates=Jp,t.randomBernoulli=eg,t.randomBeta=og,t.randomBinomial=ag,t.randomCauchy=cg,t.randomExponential=tg,t.randomGamma=ig,t.randomGeometric=rg,t.randomInt=Wp,t.randomIrwinHall=Qp,t.randomLcg=function(t=Math.random()){let n=0|(0<=t&&t<1?t/lg:Math.abs(t));return()=>(n=1664525*n+1013904223|0,lg*(n>>>0))},t.randomLogNormal=Kp,t.randomLogistic=fg,t.randomNormal=Zp,t.randomPareto=ng,t.randomPoisson=sg,t.randomUniform=Vp,t.randomWeibull=ug,t.range=lt,t.rank=function(t,e=n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let r=Array.from(t);const i=new Float64Array(r.length);2!==e.length&&(r=r.map(e),e=n);const o=(t,n)=>e(r[t],r[n]);let a,u;return(t=Uint32Array.from(r,((t,n)=>n))).sort(e===n?(t,n)=>O(r[t],r[n]):I(o)),t.forEach(((t,n)=>{const e=o(t,void 0===a?t:a);e>=0?((void 0===a||e>0)&&(a=t,u=n),i[t]=u):i[t]=NaN})),i},t.reduce=function(t,n,e){if("function"!=typeof n)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:e}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)e=n(e,o,++a,t);return e},t.reverse=function(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()},t.rgb=Fe,t.ribbon=function(){return Wa()},t.ribbonArrow=function(){return Wa(Va)},t.rollup=$,t.rollups=D,t.scaleBand=yg,t.scaleDiverging=function t(){var n=Ng(L_()(mg));return n.copy=function(){return B_(n,t())},dg.apply(n,arguments)},t.scaleDivergingLog=function t(){var n=Fg(L_()).domain([.1,1,10]);return n.copy=function(){return B_(n,t()).base(n.base())},dg.apply(n,arguments)},t.scaleDivergingPow=j_,t.scaleDivergingSqrt=function(){return j_.apply(null,arguments).exponent(.5)},t.scaleDivergingSymlog=function t(){var n=Ig(L_());return n.copy=function(){return B_(n,t()).constant(n.constant())},dg.apply(n,arguments)},t.scaleIdentity=function t(n){var e;function r(t){return null==t||isNaN(t=+t)?e:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=Array.from(t,_g),r):n.slice()},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t(n).unknown(e)},n=arguments.length?Array.from(n,_g):[0,1],Ng(r)},t.scaleImplicit=pg,t.scaleLinear=function t(){var n=Sg();return n.copy=function(){return Tg(n,t())},hg.apply(n,arguments),Ng(n)},t.scaleLog=function t(){const n=Fg(Ag()).domain([1,10]);return n.copy=()=>Tg(n,t()).base(n.base()),hg.apply(n,arguments),n},t.scaleOrdinal=gg,t.scalePoint=function(){return vg(yg.apply(null,arguments).paddingInner(1))},t.scalePow=jg,t.scaleQuantile=function t(){var e,r=[],i=[],o=[];function a(){var t=0,n=Math.max(1,i.length);for(o=new Array(n-1);++t<n;)o[t-1]=ut(r,t/n);return u}function u(t){return null==t||isNaN(t=+t)?e:i[s(o,t)]}return u.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:r[0],n<o.length?o[n]:r[r.length-1]]},u.domain=function(t){if(!arguments.length)return r.slice();r=[];for(let n of t)null==n||isNaN(n=+n)||r.push(n);return r.sort(n),a()},u.range=function(t){return arguments.length?(i=Array.from(t),a()):i.slice()},u.unknown=function(t){return arguments.length?(e=t,u):e},u.quantiles=function(){return o.slice()},u.copy=function(){return t().domain(r).range(i).unknown(e)},hg.apply(u,arguments)},t.scaleQuantize=function t(){var n,e=0,r=1,i=1,o=[.5],a=[0,1];function u(t){return null!=t&&t<=t?a[s(o,t,0,i)]:n}function c(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*e)/(i+1);return u}return u.domain=function(t){return arguments.length?([e,r]=t,e=+e,r=+r,c()):[e,r]},u.range=function(t){return arguments.length?(i=(a=Array.from(t)).length-1,c()):a.slice()},u.invertExtent=function(t){var n=a.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},u.unknown=function(t){return arguments.length?(n=t,u):u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([e,r]).range(a).unknown(n)},hg.apply(Ng(u),arguments)},t.scaleRadial=function t(){var n,e=Sg(),r=[0,1],i=!1;function o(t){var r=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(e(t));return isNaN(r)?n:i?Math.round(r):r}return o.invert=function(t){return e.invert(Hg(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain()},o.range=function(t){return arguments.length?(e.range((r=Array.from(t,_g)).map(Hg)),o):r.slice()},o.rangeRound=function(t){return o.range(t).round(!0)},o.round=function(t){return arguments.length?(i=!!t,o):i},o.clamp=function(t){return arguments.length?(e.clamp(t),o):e.clamp()},o.unknown=function(t){return arguments.length?(n=t,o):n},o.copy=function(){return t(e.domain(),r).round(i).clamp(e.clamp()).unknown(n)},hg.apply(o,arguments),Ng(o)},t.scaleSequential=function t(){var n=Ng(O_()(mg));return n.copy=function(){return B_(n,t())},dg.apply(n,arguments)},t.scaleSequentialLog=function t(){var n=Fg(O_()).domain([1,10]);return n.copy=function(){return B_(n,t()).base(n.base())},dg.apply(n,arguments)},t.scaleSequentialPow=Y_,t.scaleSequentialQuantile=function t(){var e=[],r=mg;function i(t){if(null!=t&&!isNaN(t=+t))return r((s(e,t,1)-1)/(e.length-1))}return i.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(n),i},i.interpolator=function(t){return arguments.length?(r=t,i):r},i.range=function(){return e.map(((t,n)=>r(n/(e.length-1))))},i.quantiles=function(t){return Array.from({length:t+1},((n,r)=>at(e,r/t)))},i.copy=function(){return t(r).domain(e)},dg.apply(i,arguments)},t.scaleSequentialSqrt=function(){return Y_.apply(null,arguments).exponent(.5)},t.scaleSequentialSymlog=function t(){var n=Ig(O_());return n.copy=function(){return B_(n,t()).constant(n.constant())},dg.apply(n,arguments)},t.scaleSqrt=function(){return jg.apply(null,arguments).exponent(.5)},t.scaleSymlog=function t(){var n=Ig(Ag());return n.copy=function(){return Tg(n,t()).constant(n.constant())},hg.apply(n,arguments)},t.scaleThreshold=function t(){var n,e=[.5],r=[0,1],i=1;function o(t){return null!=t&&t<=t?r[s(e,t,0,i)]:n}return o.domain=function(t){return arguments.length?(e=Array.from(t),i=Math.min(e.length,r.length-1),o):e.slice()},o.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(e.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var n=r.indexOf(t);return[e[n-1],e[n]]},o.unknown=function(t){return arguments.length?(n=t,o):n},o.copy=function(){return t().domain(e).range(r).unknown(n)},hg.apply(o,arguments)},t.scaleTime=function(){return hg.apply(I_(uv,cv,tv,Zy,xy,py,sy,ay,iy,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},t.scaleUtc=function(){return hg.apply(I_(ov,av,ev,Qy,Fy,yy,hy,cy,iy,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},t.scan=function(t,n){const e=ht(t,n);return e<0?void 0:e},t.schemeAccent=G_,t.schemeBlues=Hb,t.schemeBrBG=rb,t.schemeBuGn=xb,t.schemeBuPu=Mb,t.schemeCategory10=X_,t.schemeDark2=V_,t.schemeGnBu=Ab,t.schemeGreens=Gb,t.schemeGreys=Wb,t.schemeOrRd=Eb,t.schemeOranges=nm,t.schemePRGn=ob,t.schemePaired=W_,t.schemePastel1=Z_,t.schemePastel2=K_,t.schemePiYG=ub,t.schemePuBu=Pb,t.schemePuBuGn=kb,t.schemePuOr=fb,t.schemePuRd=$b,t.schemePurples=Kb,t.schemeRdBu=lb,t.schemeRdGy=db,t.schemeRdPu=Rb,t.schemeRdYlBu=gb,t.schemeRdYlGn=vb,t.schemeReds=Jb,t.schemeSet1=Q_,t.schemeSet2=J_,t.schemeSet3=tb,t.schemeSpectral=bb,t.schemeTableau10=nb,t.schemeYlGn=Ib,t.schemeYlGnBu=qb,t.schemeYlOrBr=Bb,t.schemeYlOrRd=Lb,t.select=Zn,t.selectAll=function(t){return"string"==typeof t?new Vn([document.querySelectorAll(t)],[document.documentElement]):new Vn([Ht(t)],Gn)},t.selection=Wn,t.selector=jt,t.selectorAll=Gt,t.shuffle=dt,t.shuffler=pt,t.some=function(t,n){if("function"!=typeof n)throw new TypeError("test is not a function");let e=-1;for(const r of t)if(n(r,++e,t))return!0;return!1},t.sort=U,t.stack=function(){var t=gm([]),n=hw,e=lw,r=dw;function i(i){var o,a,u=Array.from(t.apply(this,arguments),pw),c=u.length,f=-1;for(const t of i)for(o=0,++f;o<c;++o)(u[o][f]=[0,+r(t,u[o].key,f,i)]).data=t;for(o=0,a=Fm(n(u));o<c;++o)u[a[o]].index=o;return e(u,a),u}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:gm(Array.from(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:gm(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?hw:"function"==typeof t?t:gm(Array.from(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?lw:t,i):e},i},t.stackOffsetDiverging=function(t,n){if((u=t.length)>0)for(var e,r,i,o,a,u,c=0,f=t[n[0]].length;c<f;++c)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}lw(t,n)}},t.stackOffsetNone=lw,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}lw(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,c=0,f=0;u<i;++u){for(var s=t[n[u]],l=s[a][1]||0,h=(l-(s[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=l,f+=h*l}e[a-1][1]+=e[a-1][0]=o,c&&(o-=f/c)}e[a-1][1]+=e[a-1][0]=o,lw(t,n)}},t.stackOrderAppearance=gw,t.stackOrderAscending=vw,t.stackOrderDescending=function(t){return vw(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(_w),o=gw(t),a=0,u=0,c=[],f=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],c.push(e)):(u+=i[e],f.push(e));return f.reverse().concat(c)},t.stackOrderNone=hw,t.stackOrderReverse=function(t){return hw(t).reverse()},t.stratify=function(){var t,n=kp,e=Cp;function r(r){var i,o,a,u,c,f,s,l,h=Array.from(r),d=n,p=e,g=new Map;if(null!=t){const n=h.map(((n,e)=>function(t){t=`${t}`;let n=t.length;zp(t,n-1)&&!zp(t,n-2)&&(t=t.slice(0,-1));return"/"===t[0]?t:`/${t}`}(t(n,e,r)))),e=n.map(Pp),i=new Set(n).add("");for(const t of e)i.has(t)||(i.add(t),n.push(t),e.push(Pp(t)),h.push(Np));d=(t,e)=>n[e],p=(t,n)=>e[n]}for(a=0,i=h.length;a<i;++a)o=h[a],f=h[a]=new Qd(o),null!=(s=d(o,a,r))&&(s+="")&&(l=f.id=s,g.set(l,g.has(l)?Ep:f)),null!=(s=p(o,a,r))&&(s+="")&&(f.parent=s);for(a=0;a<i;++a)if(s=(f=h[a]).parent){if(!(c=g.get(s)))throw new Error("missing: "+s);if(c===Ep)throw new Error("ambiguous: "+s);c.children?c.children.push(f):c.children=[f],f.parent=c}else{if(u)throw new Error("multiple roots");u=f}if(!u)throw new Error("no root");if(null!=t){for(;u.data===Np&&1===u.children.length;)u=u.children[0],--i;for(let t=h.length-1;t>=0&&(f=h[t]).data===Np;--t)f.data=null}if(u.parent=Sp,u.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(Kd),u.parent=null,i>0)throw new Error("cycle");return u}return r.id=function(t){return arguments.length?(n=Jd(t),r):n},r.parentId=function(t){return arguments.length?(e=Jd(t),r):e},r.path=function(n){return arguments.length?(t=Jd(n),r):t},r},t.style=_n,t.subset=function(t,n){return _t(n,t)},t.sum=function(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e},t.superset=_t,t.svg=Nc,t.symbol=function(t,n){let e=null,r=Nm(i);function i(){let i;if(e||(e=i=r()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),i)return e=null,i+""||null}return t="function"==typeof t?t:gm(t||cx),n="function"==typeof n?n:gm(void 0===n?64:+n),i.type=function(n){return arguments.length?(t="function"==typeof n?n:gm(n),i):t},i.size=function(t){return arguments.length?(n="function"==typeof t?t:gm(+t),i):n},i.context=function(t){return arguments.length?(e=null==t?null:t,i):e},i},t.symbolAsterisk=ux,t.symbolCircle=cx,t.symbolCross=fx,t.symbolDiamond=hx,t.symbolDiamond2=dx,t.symbolPlus=px,t.symbolSquare=gx,t.symbolSquare2=yx,t.symbolStar=mx,t.symbolTimes=Cx,t.symbolTriangle=wx,t.symbolTriangle2=Tx,t.symbolWye=kx,t.symbolX=Cx,t.symbols=Px,t.symbolsFill=Px,t.symbolsStroke=zx,t.text=mc,t.thresholdFreedmanDiaconis=function(t,n,e){const r=v(t),i=at(t,.75)-at(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1},t.thresholdScott=function(t,n,e){const r=v(t),i=w(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1},t.thresholdSturges=K,t.tickFormat=Eg,t.tickIncrement=V,t.tickStep=W,t.ticks=G,t.timeDay=py,t.timeDays=gy,t.timeFormatDefaultLocale=P_,t.timeFormatLocale=hv,t.timeFriday=Sy,t.timeFridays=$y,t.timeHour=sy,t.timeHours=ly,t.timeInterval=Vg,t.timeMillisecond=Wg,t.timeMilliseconds=Zg,t.timeMinute=ay,t.timeMinutes=uy,t.timeMonday=wy,t.timeMondays=ky,t.timeMonth=Zy,t.timeMonths=Ky,t.timeSaturday=Ey,t.timeSaturdays=Dy,t.timeSecond=iy,t.timeSeconds=oy,t.timeSunday=xy,t.timeSundays=Ny,t.timeThursday=Ay,t.timeThursdays=zy,t.timeTickInterval=cv,t.timeTicks=uv,t.timeTuesday=My,t.timeTuesdays=Cy,t.timeWednesday=Ty,t.timeWednesdays=Py,t.timeWeek=xy,t.timeWeeks=Ny,t.timeYear=tv,t.timeYears=nv,t.timeout=$i,t.timer=Ni,t.timerFlush=ki,t.transition=go,t.transpose=gt,t.tree=function(){var t=$p,n=1,e=1,r=null;function i(i){var c=function(t){for(var n,e,r,i,o,a=new Up(t,0),u=[a];n=u.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(e=n.children[i]=new Up(r[i],i)),e.parent=n;return(a.parent=new Up(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(u);else{var f=i,s=i,l=i;i.eachBefore((function(t){t.x<f.x&&(f=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)}));var h=f===s?1:t(f,s)/2,d=h-f.x,p=n/(s.x+h+d),g=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,a=n,u=e,c=o.parent.children[0],f=o.m,s=a.m,l=u.m,h=c.m;u=Rp(u),o=Dp(o),u&&o;)c=Dp(c),(a=Rp(a)).a=n,(i=u.z+l-o.z-f+t(u._,o._))>0&&(Fp(qp(u,n,r),n,i),f+=i,s+=i),l+=u.m,f+=o.m,h+=c.m,s+=a.m;u&&!Rp(a)&&(a.t=u,a.m+=l-s),o&&!Dp(c)&&(c.t=o,c.m+=f-h,r=n)}return r}(n,i,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},t.treemap=function(){var t=Yp,n=!1,e=1,r=1,i=[0],o=np,a=np,u=np,c=np,f=np;function s(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(Tp),t}function l(n){var e=i[n.depth],r=n.x0+e,s=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),n.x0=r,n.y0=s,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=f(n)-e,s+=a(n)-e,(l-=u(n)-e)<r&&(r=l=(r+l)/2),(h-=c(n)-e)<s&&(s=h=(s+h)/2),t(n,r,s,l,h))}return s.round=function(t){return arguments.length?(n=!!t,s):n},s.size=function(t){return arguments.length?(e=+t[0],r=+t[1],s):[e,r]},s.tile=function(n){return arguments.length?(t=tp(n),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:ep(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:ep(+t),s):a},s.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:ep(+t),s):u},s.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:ep(+t),s):c},s.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:ep(+t),s):f},s},t.treemapBinary=function(t,n,e,r,i){var o,a,u=t.children,c=u.length,f=new Array(c+1);for(f[0]=a=o=0;o<c;++o)f[o+1]=a+=u[o].value;!function t(n,e,r,i,o,a,c){if(n>=e-1){var s=u[n];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=c)}var l=f[n],h=r/2+l,d=n+1,p=e-1;for(;d<p;){var g=d+p>>>1;f[g]<h?d=g+1:p=g}h-f[d-1]<f[d]-h&&n+1<d&&--d;var y=f[d]-l,v=r-y;if(a-i>c-o){var _=r?(i*v+a*y)/r:a;t(n,d,y,i,o,_,c),t(d,e,v,_,o,a,c)}else{var b=r?(o*v+c*y)/r:c;t(n,d,y,i,o,a,b),t(d,e,v,i,b,a,c)}}(0,c,t.value,n,e,r,i)},t.treemapDice=Ap,t.treemapResquarify=Lp,t.treemapSlice=Ip,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?Ip:Ap)(t,n,e,r,i)},t.treemapSquarify=Yp,t.tsv=Mc,t.tsvFormat=lc,t.tsvFormatBody=hc,t.tsvFormatRow=pc,t.tsvFormatRows=dc,t.tsvFormatValue=gc,t.tsvParse=fc,t.tsvParseRows=sc,t.union=function(...t){const n=new InternSet;for(const e of t)for(const t of e)n.add(t);return n},t.unixDay=_y,t.unixDays=by,t.utcDay=yy,t.utcDays=vy,t.utcFriday=By,t.utcFridays=Vy,t.utcHour=hy,t.utcHours=dy,t.utcMillisecond=Wg,t.utcMilliseconds=Zg,t.utcMinute=cy,t.utcMinutes=fy,t.utcMonday=qy,t.utcMondays=jy,t.utcMonth=Qy,t.utcMonths=Jy,t.utcSaturday=Yy,t.utcSaturdays=Wy,t.utcSecond=iy,t.utcSeconds=oy,t.utcSunday=Fy,t.utcSundays=Ly,t.utcThursday=Oy,t.utcThursdays=Gy,t.utcTickInterval=av,t.utcTicks=ov,t.utcTuesday=Uy,t.utcTuesdays=Hy,t.utcWednesday=Iy,t.utcWednesdays=Xy,t.utcWeek=Fy,t.utcWeeks=Ly,t.utcYear=ev,t.utcYears=rv,t.variance=x,t.version="7.8.5",t.window=pn,t.xml=Sc,t.zip=function(){return gt(arguments)},t.zoom=function(){var t,n,e,r=Sw,i=Ew,o=Pw,a=kw,u=Cw,c=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],s=250,l=ri,h=$t("start","zoom","end"),d=500,p=150,g=0,y=10;function v(t){t.property("__zoom",Nw).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",S).filter(u).on("touchstart.zoom",E).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,n){return(n=Math.max(c[0],Math.min(c[1],n)))===t.k?t:new xw(n,t.x,t.y)}function b(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new xw(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,n,e,r){t.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=w(t,o).event(r),u=i.apply(t,o),c=null==e?m(u):"function"==typeof e?e.apply(t,o):e,f=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),s=t.__zoom,h="function"==typeof n?n.apply(t,o):n,d=l(s.invert(c).concat(f/s.k),h.invert(c).concat(f/h.k));return function(t){if(1===t)t=h;else{var n=d(t),e=f/n[2];t=new xw(e,c[0]-n[0]*e,c[1]-n[1]*e)}a.zoom(null,t)}}))}function w(t,n,e){return!e&&t.__zooming||new M(t,n)}function M(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function T(t,...n){if(r.apply(this,arguments)){var e=w(this,n).event(t),i=this.__zoom,u=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,a.apply(this,arguments)))),s=ne(t);if(e.wheel)e.mouse[0][0]===s[0]&&e.mouse[0][1]===s[1]||(e.mouse[1]=i.invert(e.mouse[0]=s)),clearTimeout(e.wheel);else{if(i.k===u)return;e.mouse=[s,i.invert(s)],Gi(this),e.start()}Aw(t),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),p),e.zoom("mouse",o(b(_(i,u),e.mouse[0],e.mouse[1]),e.extent,f))}}function A(t,...n){if(!e&&r.apply(this,arguments)){var i=t.currentTarget,a=w(this,n,!0).event(t),u=Zn(t.view).on("mousemove.zoom",(function(t){if(Aw(t),!a.moved){var n=t.clientX-s,e=t.clientY-l;a.moved=n*n+e*e>g}a.event(t).zoom("mouse",o(b(a.that.__zoom,a.mouse[0]=ne(t,i),a.mouse[1]),a.extent,f))}),!0).on("mouseup.zoom",(function(t){u.on("mousemove.zoom mouseup.zoom",null),ue(t.view,a.moved),Aw(t),a.event(t).end()}),!0),c=ne(t,i),s=t.clientX,l=t.clientY;ae(t.view),Tw(t),a.mouse=[c,this.__zoom.invert(c)],Gi(this),a.start()}}function S(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,a=ne(t.changedTouches?t.changedTouches[0]:t,this),u=e.invert(a),c=e.k*(t.shiftKey?.5:2),l=o(b(_(e,c),a,u),i.apply(this,n),f);Aw(t),s>0?Zn(this).transition().duration(s).call(x,l,a,t):Zn(this).call(v.transform,l,a,t)}}function E(e,...i){if(r.apply(this,arguments)){var o,a,u,c,f=e.touches,s=f.length,l=w(this,i,e.changedTouches.length===s).event(e);for(Tw(e),a=0;a<s;++a)c=[c=ne(u=f[a],this),this.__zoom.invert(c),u.identifier],l.touch0?l.touch1||l.touch0[2]===c[2]||(l.touch1=c,l.taps=0):(l.touch0=c,o=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(l.taps<2&&(n=c[0],t=setTimeout((function(){t=null}),d)),Gi(this),l.start())}}function N(t,...n){if(this.__zooming){var e,r,i,a,u=w(this,n).event(t),c=t.changedTouches,s=c.length;for(Aw(t),e=0;e<s;++e)i=ne(r=c[e],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var l=u.touch0[0],h=u.touch0[1],d=u.touch1[0],p=u.touch1[1],g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g,y=(y=p[0]-h[0])*y+(y=p[1]-h[1])*y;r=_(r,Math.sqrt(g/y)),i=[(l[0]+d[0])/2,(l[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(b(r,i,a),u.extent,f))}}function k(t,...r){if(this.__zooming){var i,o,a=w(this,r).event(t),u=t.changedTouches,c=u.length;for(Tw(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),i=0;i<c;++i)o=u[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=ne(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<y)){var f=Zn(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return v.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",Nw),t!==i?x(t,n,e,r):i.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},v.scaleBy=function(t,n,e,r){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)}),e,r)},v.scaleTo=function(t,n,e,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==e?m(t):"function"==typeof e?e.apply(this,arguments):e,u=r.invert(a),c="function"==typeof n?n.apply(this,arguments):n;return o(b(_(r,c),a,u),t,f)}),e,r)},v.translateBy=function(t,n,e,r){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),f)}),null,r)},v.translateTo=function(t,n,e,r,a){v.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,u=null==r?m(t):"function"==typeof r?r.apply(this,arguments):r;return o(ww.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,f)}),r,a)},M.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Zn(this.that).datum();h.call(t,this.that,new mw(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:h}),n)}},v.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:bw(+t),v):a},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:bw(!!t),v):r},v.touchable=function(t){return arguments.length?(u="function"==typeof t?t:bw(!!t),v):u},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:bw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],v):[c[0],c[1]]},v.translateExtent=function(t){return arguments.length?(f[0][0]=+t[0][0],f[1][0]=+t[1][0],f[0][1]=+t[0][1],f[1][1]=+t[1][1],v):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(s=+t,v):s},v.interpolate=function(t){return arguments.length?(l=t,v):l},v.on=function(){var t=h.on.apply(h,arguments);return t===h?v:t},v.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,v):Math.sqrt(g)},v.tapDistance=function(t){return arguments.length?(y=+t,v):y},v},t.zoomIdentity=ww,t.zoomTransform=Mw}));

angular.module('FDC').run(['$templateCache', function($templateCache) {
  'use strict';

  $templateCache.put('fabric/cablesOptics/cablesOptics.html',
    "<div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-sm-11\"> <div class=\"section-title\">{{'general.cablesAndOptics' | translate}}</div> </div> <div class=\"col-sm-1\"> <help-directive aria-label=\"Cables and Optics Help Document\"></help-directive> </div> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <div class=\"panel panel-default solution-sec\"> <div class=\"panel-body\"> <form name=\"cablesOpticsForm\" class=\"form-cables-optics\"> <div class=\"row\"> <div class=\"col-sm-3\"> <label>{{'general.cablesOptics.useCase' | translate}}</label> </div> <div class=\"col-sm-2\"> <dlcui-radio ng-model=\"cablesOpticsPortal.viewModel.usecase\" name=\"useCase\" value=\"sw2sw\"> {{'general.cablesOptics.switchToSwitch' | translate}} </dlcui-radio> </div> <div class=\"col-sm-2\"> <dlcui-radio ng-model=\"cablesOpticsPortal.viewModel.usecase\" name=\"useCase\" value=\"sw2se\"> {{'general.cablesOptics.serverToSwitch' | translate}} </dlcui-radio> </div> <div class=\"col-sm-2\"> <dlcui-radio ng-model=\"cablesOpticsPortal.viewModel.usecase\" name=\"useCase\" value=\"sw2st\"> {{'general.cablesOptics.storageToSwitch' | translate}} </dlcui-radio> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label>{{'general.cablesOptics.networkProduct' | translate}}</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : cablesOpticsForm.fdc_input_network_product.$invalid}\"> <select class=\"form-control\" name=\"fdc_input_network_product\" ng-model=\"cablesOpticsPortal.viewModel.network_product\" ng-options=\"key for (key,item) in cablesOpticsPortal.networkProducts\" validation-directive uib-tooltip=\"\"> <option value=\"\">ALL</option> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label>{{'general.cablesOptics.dataRate' | translate}}</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : cablesOpticsForm.fdc_cableOptic_data_rate.$invalid}\"> <select class=\"form-control\" ng-model=\"cablesOpticsPortal.viewModel.data_rate\" ng-options=\"item for item in cablesOpticsPortal.dataRates\" name=\"fdc_cableOptic_data_rate\" validation-directive uib-tooltip=\"\"> <option value=\"\">ALL</option> </select> </div> </div> </form> <hr> <div class=\"table-responsive table-cables-optics\"> <table class=\"table table-striped table-condensed table-hover table-bordered\"> <thead> <tr> <th>{{'general.cablesOptics.networkProductId' | translate}}</th> <th>{{'general.cablesOptics.transceiver' | translate}}/{{'general.cablesOptics.cableType' | translate}} </th> <th>{{'general.cablesOptics.partNo' | translate}}</th> <th>{{'general.cablesOptics.factoryMOD' | translate}}</th> <th>{{'general.cablesOptics.factorySKU' | translate}}</th> <th>{{'general.cablesOptics.custKitMOD' | translate}}</th> <th>{{'general.cablesOptics.custKitSKU' | translate}}</th> <th>{{'general.cablesOptics.dataRate' | translate}}</th> <th>{{'general.cablesOptics.formFactor' | translate}}</th> <th>{{'general.cablesOptics.reach' | translate}}</th> <th>{{'general.cablesOptics.softwareRelease' | translate}}</th> </tr> </thead> <tbody ng-show=\"cablesOpticsPortal.data.length\"> <tr ng-repeat=\"row in cablesOpticsPortal.data\"> <td>{{row.model}}</td> <td>{{row.transceiver_cable_type}}</td> <td>{{row.dell_part_no}}</td> <td>{{row.factory_install_mod}}</td> <td>{{row.factory_install_sku}}</td> <td>{{row.cust_kit_mod}}</td> <td>{{row.cust_kit_sku}}</td> <td>{{row.data_rate}}</td> <td>{{row.form_factor}}</td> <td>{{row.reach}}</td> <td>{{row.version}}</td> </tr> </tbody> <tbody ng-show=\"!cablesOpticsPortal.data.length\"> <tr> <td colspan=\"11\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/configConversion/configConversion.html',
    "<!DOCTYPE html> <div class=\"container-fluid config-conversion\"> <div class=\"row\"> <div class=\"col-sm-11\"> <div class=\"section-title\"><h3 style=\"font-weight: 700;font-size: 17px\">{{'general.OS9toOS10Conversion' | translate}}</h3></div> </div> <div class=\"col-sm-1\"> <help-directive tabindex=\"0\" help-index=\"config_conversion\" aria-label=\"OS9 to OS10 Config Conversion Help Document\"></help-directive> </div> </div> <script type=\"text/ng-template\" id=\"group-template.html\"><div class=\"panel-heading\">\r" +
    "\n" +
    "\t\t  <h4 class=\"panel-title\">\r" +
    "\n" +
    "\t\t\t<div tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\">\r" +
    "\n" +
    "\t\t\t  <span uib-accordion-header ng-class=\"{'text-muted': isDisabled}\">\r" +
    "\n" +
    "\t\t\t\t{{heading}}\r" +
    "\n" +
    "\t\t\t  </span>\r" +
    "\n" +
    "\t\t\t</div>\r" +
    "\n" +
    "\t\t  </h4>\r" +
    "\n" +
    "\t\t</div>\r" +
    "\n" +
    "\t\t<div class=\"panel-collapse collapse\" uib-collapse=\"!isOpen\">\r" +
    "\n" +
    "\t\t  <div class=\"panel-body\" ng-transclude></div>\r" +
    "\n" +
    "\t\t</div></script> <div class=\"panel panel-default config-panel\"> <div class=\"panel-body\"> <div class=\"row\" ng-show=\"allConfig.length > 1\"> <div class=\"col-sm-3 pull-right text-right\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"downloadAllConfig()\" name=\"configDownloadAll\"><span class=\"glyphicon glyphicon-save\"></span> {{'general.downloadAll' | translate}}</button> </div> </div> <div class=\"row\" nv-file-drop=\"\" uploader=\"uploader\" filters=\"queueLimit, customFilter\"> <div class=\"col-sm-3\" ng-class=\"{'col-sm-push-2' : !allConfig.length}\"> <div class=\"row\"> <div class=\"col-sm-9\"> <h3>{{'general.selectConfigFile' | translate}}</h3> </div> <div class=\"col-sm-3\" style=\"margin-top:15px;margin-bottom:0px\"> <help-directive tabindex=\"0\" help-index=\"home\" solution=\"os9to10\" aria-label=\"Click here to know the supported commands\"></help-directive> </div> </div> <div ng-show=\"uploader.isHTML5\"> <!-- Example: nv-file-drop=\"\" uploader=\"{Object}\" options=\"{Object}\" filters=\"{String}\" --> <div nv-file-drop=\"\" uploader=\"uploader\"> <div nv-file-over=\"\" uploader=\"uploader\" over-class=\"file-over-class\" class=\"well my-drop-zone file-upload\" name=\"fileUploadDrop\"> {{'general.dragFileHere' | translate}} </div> </div> </div> <p class=\"text-center\">{{'general.OR' | translate}}</p> <!-- Example: nv-file-select=\"\" uploader=\"{Object}\" options=\"{Object}\" filters=\"{String}\" --> {{'general.browseConfigFile' | translate}} <input tabindex=\"0\" type=\"file\" name=\"convertFile\" class=\"form-control\" nv-file-select=\"\" uploader=\"uploader\" name=\"fileUploadBrowse\"> <div class=\"row v-space20\"> <div class=\"col-sm-12\" ng-repeat=\"item in uploader.queue\"> <div class=\"row\"> <div class=\"col-sm-12\">{{'general.name' | translate}} : <strong>{{ item.file.name }}</strong> </div> <div class=\"col-sm-12\">{{'general.size' | translate}} : <strong>{{ item.file.size/1024 | number:2 }} KB</strong> </div> </div> <div class=\"v-space20\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-click=\"uploadFile(item)\" ng-keypress=\"uploadFile(item)\" ng-disabled=\"item.isReady || item.isUploading || item.isSuccess\" name=\"uploadFile\"> <span class=\"glyphicon glyphicon-upload\"></span> {{'general.upload' | translate}} </dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-click=\"removeFile(item)\" ng-keypress=\"removeFile(item)\" name=\"removeUpload\"> <span class=\"glyphicon glyphicon-trash\"></span> {{'general.remove' | translate}} </dlcui-button> </div> </div> </div> <div class=\"v-space20\" ng-if=\"allConfig.length\"> <strong>{{'general.note' | translate}}:</strong> Fabric Design Center will parse Dell EMC OS9 switch configurations and translate to OS10 configurations for the same switch model. This feature is in Beta and some configurations may not be translated. Please review the output before loading the generated configuration on the switch.<br><br> If specific configurations are not translated correctly, Please report the missing configurations to <b><u><a style=\"font-size: 18px\" href=\"mailto:fdc-feedback@dell.com\">fdc-feedback@dell.com</a></u></b> along with sample configuration file. </div> </div> <div class=\"col-sm-5 col-sm-push-3 v-space30\" style=\"text-align:justify\" ng-if=\"!allConfig.length\"> <strong>{{'general.note' | translate}}:</strong> Fabric Design Center will parse Dell EMC OS9 switch configurations and translate to OS10 configurations for the same switch model. This feature is in Beta and some configurations may not be translated. Please review the output before loading the generated configuration on the switch.<br><br> If specific configurations are not translated correctly, Please report the missing configurations to <b><u><a style=\"font-size: 18px\" href=\"mailto:fdc-feedback@dell.com\">fdc-feedback@dell.com</a></u></b> along with sample configuration file. </div> <div class=\"col-sm-9\" ng-show=\"allConfig.length\"> <uib-accordion close-others=\"oneAtATime\"> <div uib-accordion-group class=\"config-accordian panel-default\" is-open=\"config.isOpen\" ng-repeat=\"config in allConfig\" template-url=\"group-template.html\"> <uib-accordion-heading> <strong>Config view</strong>, <strong>File:</strong> {{config.file_name}} <i class=\"pull-right glyphicon\" ng-class=\"{'glyphicon-chevron-down': config.isOpen, 'glyphicon-chevron-right': !config.isOpen}\"></i> </uib-accordion-heading> <div class=\"row\"> <div class=\"col-sm-2 pull-right text-right\"> <button type=\"button\" class=\"btn btn-link\" ng-click=\"saveConfig(config.os10_config_actuals)\" name=\"configDownload{{$index}}\"><span class=\"glyphicon glyphicon-save\"></span> {{'general.download' | translate}}</button> </div> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <div class=\"well file-upload-desc config-os10\"> <diff-view base-title=\"OS9\" new-title=\"OS10\" class=\"text-selectable\" base-text=\"{{config.os9_config}}\" new-text=\"{{config.os10_config}}\"></diff-view> </div> </div> <!--div>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t<div class=\"col-sm-6\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t<div class=\"well file-upload-desc config-os10\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t<p style=\"user-select:text;-moz-user-select:text;-ms-user-select:text\" ng-repeat=\"os9 in config.os9_config | configFormat track by $index\">{{os9}}</p>\r" +
    "\n" +
    "\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t<div class=\"col-sm-6\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t<div class=\"well file-upload-desc config-os10\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t<p style=\"user-select:text;-moz-user-select:text;-ms-user-select:text\" ng-repeat=\"os10 in config.os10_config | configFormat track by $index\">{{os10}}</p>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t</div--> </div> </div> </uib-accordion> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/bond/bondTmpl.html',
    "<div ng-init=\"getfabrictype()\"> <div class=\"row cux-dialog__header\" selected=\"true\" ng-if=\"clusterDefaults.type != 'ISILON_BACKEND_STORAGE' && model.bonds && model.bonds.length!=0\"> <div class=\"col-sm-12\"> <h4>{{'fabricInput.teamingBonding' | translate}}</h4> </div> </div> <div class=\"row\" ng-if=\"clusterDefaults.type != 'ISILON_BACKEND_STORAGE' && model.bonds && model.bonds.length!=0\"> <div class=\"col-sm-push-2 col-sm-3\"> <label>{{'fabricInput.interfaces' | translate}}</label> </div> <div class=\"col-sm-push-2 col-sm-5 text-center\"> <label>{{'fabricInput.loadBalancingLAGmode' | translate}}</label> </div> </div> <div class=\"row\" ng-if=\"clusterDefaults.type != 'ISILON_BACKEND_STORAGE' &&  model.bonds && model.bonds.length!=0\" ng-repeat=\"nicBond in model.bonds\"> <div class=\"col-sm-2\" ng-if=\"nicBond.type!='interface'\"> <label for=\"fdc_cluster_bond{{$index}}\">{{nicBond.name}}</label> </div> <div class=\"col-sm-3\" ng-if=\"nicBond.type!='interface'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_bond{{$index}}.$invalid }\"> <div tabindex=\"1\" ng-dropdown-multiselect=\"\" ng-model=\"nicBond.ports\" options=\"(where=='SERVEREDIT' ||\r" +
    "\n" +
    "         ($index == 0 && (clusterDefaults.type == 'ISILON_STORAGE'||clusterDefaults.type == 'POWERSCALE_STORAGE'||clusterDefaults.type == 'POWERSTORE_STORAGE'||\r" +
    "\n" +
    "         (clusterDefaults.type == 'ASHCI' &&clusterForm.fdc_cluster_solutiontypeOption.$modelValue =='Switchless' )))) ? nicBond.disableports : nicBond.bondList\" selected-model=\"nicBond.ports\" extra-settings=\"where=='SERVEREDIT'?nicBond.nicEditSettings:nicBond.nicSelectSettings\" events=\"nicBond.bondEvent\" id=\"fdc_cluster_bond{{$index}}\" name=\"fdc_cluster_bond{{$index}}\" ng-dropdown-required uib-tooltip=\"\" title=\"{{nicBond.ports.length}} Ports selected\"> </div> </div> <div class=\"col-sm-5\" ng-if=\"nicBond.type!='interface' && fabricType=='Enterprise SONiC Fabric'\"> <select tabindex=\"1\" class=\"form-control\" ng-disabled=\"false\" ng-model=\"nicBond.lagMode\" name=\"fdc_cluster_lagMode{{$index}}\" ng-options=\"item for item in model.lagMode|filter:item='!Switch Independent/Active-Standby'\" title=\"{{ nicBond.lagMode }}\" uib-tooltip=\"{{'fabricInput.lagModeInfo' | translate}}\" tooltip-trigger=\"'focus'\" tooltip-placement=\"top-left\" tooltip-enable=\"(nicBond.lagMode != 'Switch Independent/Active-Standby' && $index == 0) && lacpWarning\"> </select> </div> <div class=\"col-sm-5\" ng-if=\"nicBond.type!='interface' && fabricType!='Enterprise SONiC Fabric'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_lagMode{{$index}}.$invalid }\"> <select tabindex=\"1\" class=\"form-control\" ng-disabled=\"false\" ng-model=\"nicBond.lagMode\" name=\"fdc_cluster_lagMode{{$index}}\" ng-options=\"item for item in model.lagMode\" title=\"{{ nicBond.lagMode }}\" uib-tooltip=\"{{'fabricInput.lagModeInfo' | translate}}\" tooltip-trigger=\"'focus'\" tooltip-placement=\"top-left\" tooltip-enable=\"clusterForm.fdc_cluster_lagMode{{$index}}.$invalid || ((nicBond.lagMode != 'Switch Independent/Active-Standby' && $index == 0) && lacpWarning)\"> </select> </div> <div class=\"col-sm-2\" ng-if=\"nicBond.type!='interface'\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <!--li ng-if=\"($last && where!='SERVEREDIT') &&clusterForm.fdc_cluster_solutiontypeOption.$modelValue !='Switchless' && model.ports.length\"><button type=\"button\" class=\"btn btn-link\" ng-click=\"add($index)\" name=\"fdc_cluster_add_bond{{$index}}\"><span class=\"glyphicon glyphicon-plus\"></span></button></li--> <li ng-if=\"($last && where!='SERVEREDIT') && clusterDefaults.type != 'POWERSTORE_STORAGE1'&&clusterForm.fdc_cluster_solutiontypeOption.$modelValue !='Switchless' && model.ports.length\"><button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" ng-click=\"add($index)\" name=\"fdc_cluster_add_bond{{$index}}\"><span class=\"glyphicon glyphicon-plus\"></span></button></li> <li ng-if=\"($last && $index > 0 && where!='SERVEREDIT' && clusterDefaults.type!='HCI_NSX_VXRAIL' && clusterDefaults.type!='GENERIC_COMPUTE' && clusterDefaults.type!='ISILON_BACKEND_STORAGE' && nicBond.name!='System Bond')\"><button tabindex=\"1\" selected=\"true\" type=\"button\" class=\"btn btn-link\" ng-click=\"remove()\" name=\"fdc_cluster_remove_bond{{$index}}\"><span class=\"glyphicon glyphicon-minus\"></span></button></li> <li ng-if=\"($last && $index > 0 && where!='SERVEREDIT' && clusterDefaults.type=='GENERIC_COMPUTE' && nicBond.name!='System Bond')\"><button type=\"button\" class=\"btn btn-link\" tabindex=\"1\" selected=\"true\" ng-click=\"remove()\" name=\"fdc_cluster_remove_bond{{$index}}\"><span class=\"glyphicon glyphicon-minus\"></span></button></li> <li ng-if=\"($last && $index > 1 && where!='SERVEREDIT' && (clusterDefaults.type=='HCI_NSX_VXRAIL'||clusterDefaults.type=='ISILON_BACKEND_STORAGE'))\"><button type=\"button\" tabindex=\"1\" class=\"btn btn-link\" ng-click=\"remove()\" name=\"fdc_cluster_remove_bond{{$index}}\"><span class=\"glyphicon glyphicon-minus\"></span></button></li> </ul> </div> </div> <div class=\"row cux-dialog__header\" selected=\"true\" ng-if=\"clusterDefaults.type != 'ISILON_BACKEND_STORAGE' &&  model.interfaces && model.interfaces.length!=0\"> <div class=\"col-sm-12\"> <h4>{{'fabricInput.san_interfaces' | translate}}</h4> </div> </div> <div class=\"row\" ng-if=\"clusterDefaults.type != 'ISILON_BACKEND_STORAGE' && model.bonds && model.bonds.length!=0\" ng-repeat=\"nicBond in model.bonds\"> <div class=\"col-sm-2\" ng-if=\"nicBond.type=='interface'\"> <!--select class=\"form-control\" ng-disabled=\"(where=='SERVEREDIT' ||clusterDefaults.type == 'ISILON_BACKEND_STORAGE')\" ng-model=\"nicBond.name\" \r" +
    "\n" +
    "            name=\"fdc_cluster_interface{{$index}}\" ng-options=\"item for item in clusterDefaults.san_networks.san_interfaces\" \r" +
    "\n" +
    "             title=\"{{ interface.name }}\" extra-settings=\"where=='SERVEREDIT'?nicBond.nicEditSettings:nicBond.nicSelectSettings\" events=\"nicBond.bondEvent\" uib-tooltip=\"\" tooltip-trigger=\"'focus'\" tooltip-placement=\"top-left\" \r" +
    "\n" +
    "             tooltip-enable=\"\">\r" +
    "\n" +
    "            </select--> <!--select class=\"form-control\" ng-disabled=\"(where=='SERVEREDIT' ||clusterDefaults.type == 'ISILON_BACKEND_STORAGE')\" ng-model=\"nicBond.name\" \r" +
    "\n" +
    "            name=\"fdc_cluster_interface{{$index}}\" ng-options=\"item.name for item in clusterDefaults.san_networks_\" \r" +
    "\n" +
    "             title=\"{{ interface.name }}\" uib-tooltip=\"\" tooltip-trigger=\"'focus'\" tooltip-placement=\"top-left\" \r" +
    "\n" +
    "             tooltip-enable=\"\">\r" +
    "\n" +
    "            </select--> <label for=\"fdc_cluster_interface{{$index}}\">{{nicBond.name}}</label> </div> <div class=\"col-sm-3\" ng-if=\"nicBond.type=='interface'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_interface{{$index}}.$invalid }\"> <div tabindex=\"1\" ng-dropdown-multiselect=\"\" ng-model=\"nicBond.ports\" options=\"(where=='SERVEREDIT' ||\r" +
    "\n" +
    "        ($index == 2 && (clusterDefaults.type == 'ISILON_STORAGE'||clusterDefaults.type == 'POWERSCALE_STORAGE'||clusterDefaults.type == 'POWERSTORE_STORAGE'||\r" +
    "\n" +
    "        (clusterDefaults.type == 'ASHCI' &&clusterForm.fdc_cluster_solutiontypeOption.$modelValue =='Switchless' )))) ? nicBond.disableports : nicBond.bondList\" selected-model=\"nicBond.ports\" extra-settings=\"where=='SERVEREDIT'?nicBond.nicEditSettings:nicBond.nicSelectSettings\" events=\"nicBond.bondEvent\" id=\"fdc_cluster_interface{{$index}}\" name=\"fdc_cluster_interface{{$index}}\" ng-dropdown-required uib-tooltip=\"\" title=\"{{nicBond.ports.length}} Ports selected\"> </div> </div> </div> <div class=\"row cux-dialog__header\" ng-if=\"clusterDefaults.type == 'ISILON_BACKEND_STORAGE' && model.interfaces && model.interfaces.length!=0\"> <div class=\"col-sm-12\"> <h4>{{'fabricInput.interfaces' | translate}}</h4> </div> </div> <div class=\"row\" ng-if=\"clusterDefaults.type == 'ISILON_BACKEND_STORAGE'  && model.interfaces && model.interfaces.length!=0\"> <div class=\"col-sm-push-2 col-sm-3\"> <label>{{'fabricInput.interfaces' | translate}}</label> </div> </div> <div ng-if=\" clusterDefaults.type == 'ISILON_BACKEND_STORAGE' && model.interfaces && model.interfaces.length!=0\"> <div class=\"row\" ng-repeat=\"interface in model.interfaces\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_interface{{$index}}\">{{interface.name}}</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_interface{{$index}}.$invalid }\"> <select tabindex=\"1\" class=\"form-control\" ng-disabled=\"(where=='SERVEREDIT' ||true|| clusterDefaults.type == 'ISILON_BACKEND_STORAGE')\" ng-model=\"interface.ports[0]\" name=\"fdc_cluster_interface{{$index}}\" ng-options=\"item.name for item in interface.ports\" id=\"fdc_cluster_interface{{$index}}\" title=\"{{ interface.name }}\" uib-tooltip=\"\" tooltip-trigger=\"'focus'\" tooltip-placement=\"top-left\" tooltip-enable=\"\"> </select> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/chassisClusterDetails.html',
    "<section class=\"cux-dialog cluster-modal\" tabindex=\"0\" aria-labelledby=\"fdc_add_scalable_fabric\" role=\"dialog\" aria-label=\"true\" aria-modal=\"true\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h3 class=\"cux-dialog__header-title\" ng-if=\"chassisinput.fabricArchitectureType!='Full Switch Mode'\">{{title}}</h3> <h3 class=\"cux-dialog__header-title\" ng-if=\"chassisinput.fabricArchitectureType=='Full Switch Mode'\">Enter Chassis Details</h3> </div> <div class=\"col-sm-2\"> <help-directive help-index=\"cluster\" aria-label=\"{{title}} Help Document\" solution=\"{{help.solution}}\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\" scroll-to-bottom=\"chassisvlan.vmNetworks\"> <!-- Cluster form to handle validation for the inner components--> <form name=\"clusterForm\" tabindex=\"0\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <!-- Cluster directive to get appliance details--> <!--cluster ng-if=\"modalDefaults.type != 'UNITY_STORAGE'\" model=\"clusterinput\" input-model=\"modalDefaults\" where=\"{{mode}}\"></cluster--> <clusterchassis model=\"chassisinput\" input-model=\"modalDefaults\" where=\"{{mode}}\"></clusterchassis> <!--node ng-if=\"modalDefaults.type == 'UNITY_STORAGE'\" model=\"clusterinput\" input-model=\"modalDefaults\" where=\"{{mode}}\"></node--> <!-- Bond Directive to show Ports and its association in the cluster--> <link model=\"chassisinput\" where=\"{{mode}}\"> <!-- Vlan directive to associate ports and Bonds in a cluster--> <mxvlan-builder vlan-list=\"chassisvlan\" uplinkbond-list=\"chassisinput.uplinkvlans\" cluster-type=\"{{chassisinput.clusterType}}\"> </mxvlan-builder></form> </div> <div class=\"row col-sm-3\" style=\"font-size: 12px\"> <span class=\"notes\" aria-label=\"All fields are mandatory\">* All fields are mandatory.</span> </div> <footer class=\"cux-dialog__footer\"> <chassis-actions where=\"{{mode}}\" modal=\"modal\"></chassis-actions> </footer> </section>"
  );


  $templateCache.put('fabric/design/input/cluster/clusterTmpl.html',
    "<div> <div class=\"row\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_name\">{{'fabricOutput.clusterName' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_name.$invalid}\"> <input tabindex=\"1\" type=\"text\" ng-if=\"inputModel.deploymentType=='Nokia NFVi'\" class=\"form-control\" id=\"fdc_cluster_name\" name=\"fdc_cluster_name\" ng-model=\"clusterinput.name\" required validation-directive ng-disabled=\"inputModel.deploymentType=='Nokia NFVi'?true:false\" uib-tooltip=\"\" ng-minlength=\"3\" ng-maxlength=\"16\" pattern-msg=\"Cluster Name must start and end with alphanumeric character ranging from 3-16 characters and contains atmost one special character\"> <input tabindex=\"1\" type=\"text\" ng-if=\"inputModel.deploymentType!='Nokia NFVi'\" class=\"form-control\" id=\"fdc_cluster_name\" name=\"fdc_cluster_name\" ng-model=\"clusterinput.name\" required validation-directive uib-tooltip=\"\" ng-minlength=\"3\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+[_-]?[A-Za-z0-9]+$/\" pattern-msg=\"Cluster Name must start and end with alphanumeric character ranging from 3-16 characters and contains atmost one special character\"> </div> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_applianceInfo\" ng-if=\"inputModel.type != 'ASHCI' && inputModel.type != 'HCI_POWERFLEX_Appliance'\">{{'fabricOutput.applianceModel' | translate}}</label> <label for=\"fdc_cluster_applianceInfo\" ng-if=\"inputModel.type == 'ASHCI'\">{{'fabricOutput.serverModel' | translate}}</label> </div> <div class=\"col-sm-4\" ng-if=\"inputModel.type != 'HCI_POWERFLEX_Appliance'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_applianceInfo.$dirty && clusterForm.fdc_cluster_applianceInfo.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.applianceInfo\" ng-options=\"item.displayName for item in inputModel.applianceTypes | orderBy:displayName:inputModel.type != 'HCI_VXRAIL'\" id=\"fdc_cluster_applianceInfo\" name=\"fdc_cluster_applianceInfo\" ng-disabled=\"where=='SERVEREDIT'?true:false\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\" ng-if=\"inputModel.type == 'HCI_POWERFLEX_Appliance'\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_deploymentModel\" ng-if=\"inputModel.type == 'HCI_POWERFLEX_Appliance'\">{{'fabricOutput.powerStoreDeploymentModel' | translate}}</label> </div> <!--div class=\"col-sm-2\"></div>\r" +
    "\n" +
    "            <div class=\"col-sm-4\"></div--> <div class=\"col-sm-4\" ng-if=\"inputModel.type == 'HCI_POWERFLEX_Appliance'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_deploymentModel.$dirty && clusterForm.fdc_cluster_deploymentModel.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.deploymentModel\" ng-options=\"item as item for item in inputModel.DeploymentModel\" id=\"fdc_cluster_deploymentModel\" name=\"fdc_cluster_deploymentModel\" ng-disabled=\"where=='SERVEREDIT'?true:false\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_applianceInfo\">{{'fabricOutput.applianceModel' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_applianceInfo.$dirty && clusterForm.fdc_cluster_applianceInfo.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.applianceInfo\" ng-options=\"item.displayName for item in inputModel.applianceTypes | orderBy:'displayName'\" id=\"fdc_cluster_applianceInfo\" name=\"fdc_cluster_applianceInfo\" ng-disabled=\"where=='SERVEREDIT'?true:(inputModel.type=='HCI_POWERFLEX_Appliance' && clusterinput.deploymentModel == undefined)?true:false\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\" ng-if=\"inputModel.type == 'ASHCI'\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_solutiontypeOption\">{{'general.solution_type' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_solutiontypeOption.$dirty && clusterForm.fdc_cluster_solutiontypeOption.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.solution_type\" id=\"fdc_cluster_solutiontypeOption\" name=\"fdc_cluster_solutiontypeOption\" ng-options=\"item for item in clusterinput.cluster_subtype_options | filter:myFilter\" title=\"{{ clusterinput.solution_type }}\" ng-disabled=\"(where=='SERVEREDIT') || (clusterinput.solution_typedisable)? true :clusterinput.applianceInfo.name=='AX-640(x12 drive)'?true: false\" validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_networkOption\">{{'general.networkConnectivityOption' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_networkOption.$dirty && clusterForm.fdc_cluster_networkOption.$invalid}\"> <select tabindex=\"1&quot;\" class=\"form-control\" ng-model=\"clusterinput.networkConnectivityOption\" id=\"fdc_cluster_networkOption\" name=\"fdc_cluster_networkOption\" ng-options=\"item for item in clusterinput.network_options\" title=\"{{ clusterinput.networkConnectivityOption }}\" ng-disabled=\"(where=='SERVEREDIT') || (clusterinput.solution_typedisable)?true:clusterinput.solution_type=='Switchless'?true:clusterinput.solution_type=='Quick Start'?true:clusterinput.applianceInfo.name=='AX-640(x12 drive)'?true:false\" validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_currentNodes\">{{'fabricOutput.numberOfNodes' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_currentNodes.$invalid}\"> <input tabindex=\"1\" type=\"number\" class=\"form-control\" ng-model=\"clusterinput.currentNodes\" id=\"fdc_cluster_currentNodes\" name=\"fdc_cluster_currentNodes\" required min=\"{{inputModel.minCurrentNodes}}\" max=\"{{inputModel.futureNodes+inputModel.currentNodes-clusterinput.futureNodes}}\" ng-pattern=\"/^-?[0-9][^\\.]*$/\" ng-disabled=\"where=='SERVEREDIT'?true:clusterinput.solution_type=='Quick Start'?true:false\" integer validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label for=\"fdc_cluster_futureNodes\" ng-switch-when=\"UNITY_STORAGE\">{{'fabricOutput.CNAconnectivity' | translate}}</label> <label for=\"fdc_cluster_futureNodes\" ng-switch-when=\"PowerStore\">{{'fabricOutput.CNAconnectivity' | translate}}</label> <label for=\"fdc_cluster_futureNodes\" ng-switch-default>{{'fabricOutput.projectedFutureNodes' | translate}}</label> </div> <div ng-if=\"(inputModel.type != 'UNITY_STORAGE' && inputModel.type != 'PowerStore')\" class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_futureNodes.$invalid}\"> <input tabindex=\"1\" type=\"number\" class=\"form-control\" ng-model=\"clusterinput.futureNodes\" id=\"fdc_cluster_futureNodes\" name=\"fdc_cluster_futureNodes\" required min=\"0\" max=\"{{inputModel.futureNodes+inputModel.currentNodes-clusterinput.currentNodes}}\" ng-pattern=\"/^-?[0-9][^\\.]*$/\" ng-disabled=\"where=='SERVEREDIT'?true:clusterinput.solution_type=='Switchless'?true:clusterinput.solution_type=='Quick Start'?true:false\" integer validation-directive uib-tooltip=\"\"> </div> <div ng-if=\"(inputModel.type == 'UNITY_STORAGE'||inputModel.type == 'PowerStore')\"> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_cnaCard.$dirty && clusterForm.fdc_cluster_cnaCard_requiredCount.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.cnaCard.requiredCount\" id=\"fdc_cluster_cnaCard_requiredCount\" name=\"fdc_cluster_cnaCard_requiredCount\" ng-options=\"item for item in clusterinput.cnaCardCountOptions\" title=\"{{ clusterinput.cnaCard.requiredCount }}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_cnaCard.$dirty && clusterForm.fdc_cluster_cnaCard.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.cnaCard\" id=\"fdc_cluster_cnaCard\" name=\"fdc_cluster_cnaCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.cnaCard\" required ng-disabled=\"where=='SERVEREDIT'?true:false\" validation-directive uib-tooltip=\"\" title=\"{{ clusterinput.cnaCard.name }}\"> </select> </div> </div> </div> <div class=\"row\" ng-if=\"inputModel.type != 'ISILON_BACKEND_STORAGE'\"> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label for=\"fdc_cluster_ndcCard\" ng-switch-when=\"UNITY_STORAGE\">{{'fabricOutput.frontEndConnectivity' | translate}}</label> <label for=\"fdc_cluster_ndcCard\" ng-switch-when=\"PowerStore\">{{'fabricOutput.frontEndConnectivity' | translate}}</label> <label for=\"fdc_cluster_ndcCard\" ng-switch-when=\"ISILON_STORAGE\">{{'fabricOutput.frontEndConnectivity' | translate}}</label> <label for=\"fdc_cluster_ndcCard\" ng-switch-when=\"POWERSCALE_STORAGE\">{{'fabricOutput.frontEndConnectivity' | translate}}</label> <label for=\"fdc_cluster_ndcCard\" ng-switch-when=\"HCI_VXRAIL\">{{'fabricOutput.nodeConnectivityVxRail' | translate}}</label> <label for=\"fdc_cluster_ndcCard\" ng-switch-default>{{'fabricOutput.nodeConnectivity' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_ndcCard.$dirty && clusterForm.fdc_cluster_ndcCard_requiredCount.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.ndcCard.requiredCount\" id=\"fdc_cluster_ndcCard_requiredCount\" name=\"fdc_cluster_ndcCard_requiredCount\" ng-options=\"item for item in clusterinput.ndcCardCountOptions\" ng-disabled=\"(where=='SERVEREDIT'?true:inputModel.type=='HCI_POWERFLEX_Appliance' && clusterinput.deploymentModel == undefined)?true:(inputModel.type == 'ASHCI' && clusterinput.applianceInfo.name=='AX-640(x12 drive)')?true: inputModel.type == 'ASHCI' && clusterinput.solution_type!='Switchless'?false:true\" title=\"{{ clusterinput.ndcCard.requiredCount }}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_ndcCard.$dirty && clusterForm.fdc_cluster_ndcCard.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.ndcCard\" id=\"fdc_cluster_ndcCard\" name=\"fdc_cluster_ndcCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.ndcCard\" required ng-disabled=\"where=='SERVEREDIT'?true:clusterinput.ndcCard.requiredCount==0?true:(inputModel.type=='HCI_POWERFLEX_Appliance' && clusterinput.deploymentModel == undefined)?true:false\" validation-directive uib-tooltip=\"\" title=\"{{ clusterinput.ndcCard.name }}\"> </select> </div> <div ng-if=\"inputModel.type == 'ECS_STORAGE'\"> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label for=\"fdc_cluster_network_separation_options\">{{'fabricOutput.NetworkSeparation' | translate}}</label> </div> <div class=\"col-sm-4 mar-right-fix\"> <select tabindex=\"1\" class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.network_separation\" id=\"fdc_cluster_network_separation_options\" name=\"fdc_cluster_network_separation_options\" ng-options=\"item for item in clusterinput.network_separation_options\" ng-disabled=\"(where=='SERVEREDIT') ? true :false\" title=\"{{ clusterinput.network_separation_options }}\" uib-tooltip=\"{{'fabricInput.PCIwarning' | translate}}\" tooltip-trigger=\"'focus'\" tooltip-placement=\"bottom-left\" tooltip-is-open=\"(inputModel.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL') && clusterinput.PCIcountWarning)\" tooltip-enable=\"(inputModel.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL') && clusterinput.PCIcountWarning)\"> </select> </div> </div> <div ng-if=\"inputModel.type != 'ISILON_STORAGE' && inputModel.type != 'ISILON_BACKEND_STORAGE' && inputModel.type != 'ECS_STORAGE' && inputModel.type != 'POWERSCALE_STORAGE'\"> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label for=\"fdc_cluster_optionalCard\" ng-switch-when=\"UNITY_STORAGE\">{{'fabricOutput.frontEndIOmodules' | translate}}</label> <label for=\"fdc_cluster_optionalCard\" ng-switch-when=\"PowerStore\">{{'fabricOutput.frontEndIOmodules' | translate}}</label> <label for=\"fdc_cluster_optionalCard\" ng-switch-default>{{'fabricOutput.noOfOptionalNIC' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_optionalCard_requiredCount.$dirty && clusterForm.fdc_cluster_optionalCard_requiredCount.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.optionalCard.requiredCount\" name=\"fdc_cluster_optionalCard_requiredCount\" id=\"fdc_cluster_optionalCard_requiredCount\" ng-options=\"item for item in clusterinput.optionalCardCountOptions\" ng-disabled=\"(where=='SERVEREDIT' || !clusterinput.optionalCard || clusterinput.PCIcountDisable) ? true : (inputModel.type=='HCI_POWERFLEX_Appliance' && clusterinput.deploymentModel == undefined)?true:false\" title=\"{{ clusterinput.optionalCard.requiredCount }}\" uib-tooltip=\"{{'fabricInput.PCIwarning' | translate}}\" tooltip-trigger=\"'focus'\" tooltip-placement=\"bottom-left\" tooltip-is-open=\"(inputModel.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL') && clusterinput.PCIcountWarning) ||(inputModel.type=='ASHCI')\" tooltip-enable=\"(inputModel.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL') && clusterinput.PCIcountWarning)||(inputModel.type=='ASHCI')\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_optionalCard.$dirty && clusterForm.fdc_cluster_optionalCard.$invalid}\" uib-tooltip=\"Switchless implements back-to-back NIC connections\" tooltip-trigger=\"'hover focus'\" tooltip-placement=\"bottom-right\" tooltip-is-open=\"clusterinput.solution_type=='Switchless' \" tooltip-enable=\"clusterinput.solution_type=='Switchless'\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.optionalCard\" id=\"fdc_cluster_optionalCard\" name=\"fdc_cluster_optionalCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.optionalCard\" title=\"{{ clusterinput.optionalCard.name }}\" ng-disabled=\"((where=='SERVEREDIT' || !clusterinput.optionalCard) || clusterinput.PCIdisable||clusterinput.solution_type=='Quick Start') ? true : (inputModel.type=='HCI_POWERFLEX_Appliance' && clusterinput.deploymentModel == undefined)?true:false\" validation-directive uib-tooltip=\"\"> </select> </div> </div> </div> <div class=\"row\" ng-if=\"inputModel.type == 'ISILON_BACKEND_STORAGE'\"> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label for=\"fdc_cluster_backEndCard\" ng-switch-when=\"ISILON_BACKEND_STORAGE\">{{'fabricOutput.backEndConnectivity' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_backEndCard.$dirty && clusterForm.fdc_cluster_backEndCard.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.backEndCard\" id=\"fdc_cluster_backEndCard\" name=\"fdc_cluster_backEndCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.backEndCard\" required ng-disabled=\"where=='SERVEREDIT'?true:clusterinput.backEndCard.requiredCount==0?true:(inputModel.type=='HCI_POWERFLEX_Appliance' && clusterinput.deploymentModel == undefined)?true:false\" validation-directive uib-tooltip=\"\" title=\"{{ clusterinput.backEndCard.name }}\"> </select> </div> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_networkResiliency\">Network Resilience</label> </div> <div class=\"col-sm-4\"> <div class=\"row\"> <div class=\"col-sm-1\"> <input tabindex=\"1\" type=\"checkbox\" name=\"fdc_cluster_networkResiliency\" ng-model=\"clusterinput.networkResiliency\" id=\"fdc_cluster_networkResiliency\" disabled=\"disabled\"> <label class=\"notes\" for=\"fdc_cluster_networkResiliency\" id=\"fdc_cluster_networkResiliency\" title=\"{{'clusterinput.networkResiliency'| translate}}\"></label> </div> <div class=\"col-sm-10\"> <label class=\"notes\">The resulting configuration includes Redundant backend path.</label> </div> </div> </div> </div> <div class=\"row\" ng-if=\"inputModel.type == 'ASHCI'\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_storageProtocol\">{{'general.storageSupportProtocol' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_storageProtocol.$dirty && clusterForm.fdc_cluster_storageProtocol.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.storageProtocol\" id=\"fdc_cluster_storageProtocol\" name=\"fdc_cluster_storageProtocol\" ng-options=\"item for item in clusterinput.storage_type| filter:filter_storagetypes\" title=\"{{ clusterinput.storageProtocol }}\" ng-disabled=\"(where=='SERVEREDIT') ? true : false\" validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\" ng-if=\"clusterinput.backEndCard != undefined && inputModel.type != 'ISILON_BACKEND_STORAGE'\"> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label for=\"fdc_cluster_backEndCard_requiredCount\" ng-switch-default>{{'fabricOutput.backEndConnectivity' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_backEndCard.$dirty && clusterForm.fdc_cluster_backEndCard_requiredCount.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.backEndCard.requiredCount\" id=\"fdc_cluster_backEndCard_requiredCount\" name=\"fdc_cluster_backEndCard_requiredCount\" ng-options=\"item for item in clusterinput.backEndCardCountOptions\" ng-disabled=\"(where=='SERVEREDIT'?true:false)\" title=\"{{ clusterinput.backEndCard.requiredCount }}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_backEndCard.$dirty && clusterForm.fdc_cluster_backEndCard.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.backEndCard\" id=\"fdc_cluster_backEndCard\" name=\"fdc_cluster_backEndCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.backEndCard\" required ng-disabled=\"where=='SERVEREDIT'?true:clusterinput.backEndCard.requiredCount==0?true:(inputModel.type=='HCI_POWERFLEX_Appliance' && clusterinput.deploymentModel == undefined)?true:false\" validation-directive uib-tooltip=\"\" title=\"{{ clusterinput.backEndCard.name }}\"> </select> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/cluster/nodeTmpl.html',
    "<div> <div class=\"row\" ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_name\">{{'fabricOutput.clusterName' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_name.$invalid}\"> <input type=\"text\" class=\"form-control\" id=\"fdc_cluster_name\" name=\"fdc_cluster_name\" ng-model=\"clusterinput.name\" required validation-directive uib-tooltip=\"\" ng-minlength=\"3\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+[_-]?[A-Za-z0-9]+$/\" pattern-msg=\"Cluster Name must start and end with alphanumeric character ranging from 3-16 characters and contains atmost one special character\"> </div> <div class=\"col-sm-2\" ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\"> <label for=\"fdc_cluster_deploymentModel\">{{'fabricOutput.powerStoreDeploymentModel' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_deploymentModel.$dirty && clusterForm.fdc_cluster_deploymentModel.$invalid}\" ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\"> <select class=\"form-control\" id=\"fdc_cluster_deploymentModel\" ng-model=\"clusterinput.deploymentModel\" ng-options=\"item as item for item in inputModel.DeploymentModel\" name=\"fdc_cluster_deploymentModel\" ng-disabled=\"where=='SERVEREDIT'?true:false\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\"> <div ng-hide=\"true\" ng-if=\"(inputModel.type == 'UNITY_STORAGE')\"> <input type=\"text\" class=\"form-control\" ng-model=\"clusterinput.name\"> </div> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label for=\"fdc_cluster_applianceInfo\" ng-switch-when=\"UNITY_STORAGE\">{{'fabricOutput.unityModel' | translate}}</label> <label for=\"fdc_cluster_applianceInfo\" ng-switch-when=\"POWERSTORE_STORAGE\">{{'fabricOutput.powerStoreModel' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_applianceInfo.$dirty && clusterForm.fdc_cluster_applianceInfo.$invalid}\"> <select class=\"form-control\" ng-model=\"clusterinput.applianceInfo\" ng-options=\"item.displayName for item in inputModel.applianceTypes | filter:myFilter_applianceInfo \" id=\"fdc_cluster_applianceInfo\" name=\"fdc_cluster_applianceInfo\" ng-disabled=\"(where=='SERVEREDIT' || (inputModel.type=='POWERSTORE_STORAGE' && clusterinput.deploymentModel == undefined))\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-2\" ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\"> <label for=\"fdc_cluster_currentNodes\">{{'fabricOutput.numberOfAppliance' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_currentNodes.$invalid}\" ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\"> <input type=\"number\" class=\"form-control\" ng-model=\"clusterinput.currentNodes\" id=\"fdc_cluster_currentNodes\" name=\"fdc_cluster_currentNodes\" required ng-pattern=\"/^-?[0-9][^\\.]*$/\" integer min=\"{{inputModel.minCurrentNodes}}\" max=\"{{inputModel.currentNodes+inputModel.futureNodes}}\" ng-disabled=\"where=='SERVEREDIT'?true:false\" validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-2\" ng-if=\"(inputModel.type == 'UNITY_STORAGE')\"> <label for=\"fdc_cluster_currentNodes\">{{'fabricOutput.numberOfStorage' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_currentNodes.$invalid}\" ng-if=\"(inputModel.type == 'UNITY_STORAGE')\"> <input type=\"number\" class=\"form-control\" ng-model=\"2\" name=\"fdc_cluster_currentNodes\" id=\"fdc_cluster_currentNodes\" required ng-pattern=\"/^-?[0-9][^\\.]*$/\" ng-disabled=\"true\" integer validation-directive uib-tooltip=\"\"> </div> </div> <div class=\"row\" ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_expansionModules\">{{'fabricOutput.expansionModules' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_expansionModules.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"clusterinput.expansionModules\" name=\"fdc_cluster_expansionModules\" id=\"fdc_cluster_expansionModules\" required ng-pattern=\"/^-?[0-9][^\\.]*$/\" integer min=\"0\" max=\"3\" ng-disabled=\"where=='SERVEREDIT'?true:false\" validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-2\" ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\"> <label for=\"fdc_cluster_ndcCard\">{{'fabricOutput.mezzcard' | translate}}</label> </div> <div ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\" class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_ndcCard.$dirty && clusterForm.fdc_cluster_ndcCard_requiredCount.$invalid}\"> <select class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.ndcCard.requiredCount\" name=\"fdc_cluster_ndcCard_requiredCount\" ng-options=\"item for item in clusterinput.ndcCardCountOptions\" ng-disabled=\"true\" title=\"{{ clusterinput.ndcCard.requiredCount }}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div ng-if=\"(inputModel.type == 'POWERSTORE_STORAGE')\" class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_ndcCard.$dirty && clusterForm.fdc_cluster_ndcCard.$invalid}\"> <select class=\"form-control\" ng-model=\"clusterinput.ndcCard\" id=\"fdc_cluster_ndcCard\" name=\"fdc_cluster_ndcCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.ndcCard\" required ng-disabled=\"where=='SERVEREDIT' || clusterinput.deploymentModel == undefined\" validation-directive uib-tooltip=\"\" title=\"{{ clusterinput.ndcCard.name }}\"> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-2\" ng-if=\"(inputModel.type != 'POWERSTORE_STORAGE')\"> <label for=\"fdc_cluster_ndcCard\">{{'fabricOutput.frontEndConnectivity' | translate}}</label> </div> <div ng-if=\"(inputModel.type != 'POWERSTORE_STORAGE')\" class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_ndcCard.$dirty && clusterForm.fdc_cluster_ndcCard_requiredCount.$invalid}\"> <select class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.ndcCard.requiredCount\" name=\"fdc_cluster_ndcCard_requiredCount\" ng-options=\"item for item in clusterinput.ndcCardCountOptions\" ng-disabled=\"true\" title=\"{{ clusterinput.ndcCard.requiredCount }}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"(inputModel.type != 'POWERSTORE_STORAGE')\" class=\"pull-left multiple\"> <label>x</label> </div> <div ng-if=\"(inputModel.type != 'POWERSTORE_STORAGE')\" class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_ndcCard.$dirty && clusterForm.fdc_cluster_ndcCard.$invalid}\"> <select class=\"form-control\" ng-model=\"clusterinput.ndcCard\" id=\"fdc_cluster_ndcCard\" name=\"fdc_cluster_ndcCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.ndcCard\" required ng-disabled=\"where=='SERVEREDIT'?true:false\" validation-directive uib-tooltip=\"\" title=\"{{ clusterinput.ndcCard.name }}\"> </select> </div> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label for=\"fdc_cluster_optionalCard\" ng-switch-when=\"UNITY_STORAGE\">{{'fabricOutput.frontEndIOmodules' | translate}}</label> <label for=\"fdc_cluster_optionalCard\" ng-switch-when=\"POWERSTORE_STORAGE\">{{'fabricOutput.IOmodules' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_optionalCard_requiredCount.$dirty && clusterForm.fdc_cluster_optionalCard_requiredCount.$invalid}\"> <select class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.optionalCard.requiredCount\" name=\"fdc_cluster_optionalCard_requiredCount\" ng-options=\"item for item in clusterinput.optionalCardCountOptions\" ng-disabled=\"(where=='SERVEREDIT' || !clusterinput.optionalCard || clusterinput.PCIcountDisable) ? true : false\" title=\"{{ clusterinput.optionalCard.requiredCount }}\" uib-tooltip=\"{{'fabricInput.PCIwarning' | translate}}\" tooltip-trigger=\"'focus'\" tooltip-placement=\"top-left\" tooltip-is-open=\"inputModel.type == 'HCI_VSANREADY' && clusterinput.PCIcountWarning\" tooltip-enable=\"inputModel.type == 'HCI_VSANREADY' && clusterinput.PCIcountWarning\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_optionalCard.$dirty && clusterForm.fdc_cluster_optionalCard.$invalid}\"> <select class=\"form-control\" ng-model=\"clusterinput.optionalCard\" name=\"fdc_cluster_optionalCard\" id=\"fdc_cluster_optionalCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.optionalCard\" title=\"{{ clusterinput.optionalCard.name }}\" ng-disabled=\"((where=='SERVEREDIT' || !clusterinput.optionalCard) || clusterinput.PCIdisable) ? true : false\" validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\" ng-if=\"(inputModel.type == 'UNITY_STORAGE') && (clusterinput.cnaCard)\"> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_cnaCard\">{{'fabricOutput.CNAconnectivity' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_cnaCard.$dirty && clusterForm.fdc_cluster_cnaCard_requiredCount.$invalid}\"> <select class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.cnaCard.requiredCount\" id=\"fdc_cluster_cnaCard_requiredCount\" name=\"fdc_cluster_cnaCard_requiredCount\" ng-options=\"item for item in clusterinput.cnaCardCountOptions\" title=\"{{ clusterinput.cnaCard.requiredCount }}\" ng-disabled=\"where=='SERVEREDIT'?true:false\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_cnaCard.$dirty && clusterForm.fdc_cluster_cnaCard.$invalid}\"> <select class=\"form-control\" ng-model=\"clusterinput.cnaCard\" id=\"fdc_cluster_cnaCard\" name=\"fdc_cluster_cnaCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.cnaCard\" required ng-disabled=\"where=='SERVEREDIT'?true:false\" validation-directive uib-tooltip=\"\" title=\"{{ clusterinput.cnaCard.name }}\"> </select> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/clusterActions/clusterActions.html',
    "<menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"1\" role=\"status\" ng-click=\"where=='SERVEREDIT'?updateCluster(true):addCluster()\" ng-keypress=\"where=='SERVEREDIT'?updateCluster(true):addCluster()\" name=\"fdc_cluster_input_ok\" ng-disabled=\"clusterAdd\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"1\" ng-click=\"modal.dismiss()\" ng-keypress=\"modal.dismiss()\" name=\"fdc_cluster_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu>"
  );


  $templateCache.put('fabric/design/input/clusterDetails.html',
    "<section class=\"cux-dialog cluster-modal\" aria-labelledby=\"fdc_add_cluster\" role=\"dialog\" aria-modal=\"true\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h3 class=\"cux-dialog__header-title\">{{title}}</h3> </div> <div class=\"col-sm-2\"> <help-directive tabindex=\"0\" help-index=\"cluster\" aria-label=\"{{title}} Help Document\" solution=\"{{help.solution}}\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\" scroll-to-bottom=\"clustervlan.vmNetworks\"> <!-- Cluster form to handle validation for the inner components--> <fieldset> <legend><form name=\"clusterForm\" tabindex=\"0\" id=\"comboBoxLabel\" aria-labelledby=\"comboBoxLabel\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <!-- Cluster directive to get appliance details--> <cluster ng-if=\"(modalDefaults.type != 'UNITY_STORAGE'&& modalDefaults.type != 'POWERSTORE_STORAGE')\" model=\"clusterinput\" input-model=\"modalDefaults\" where=\"{{mode}}\"></cluster> <node ng-if=\"(modalDefaults.type == 'UNITY_STORAGE'||modalDefaults.type == 'POWERSTORE_STORAGE')\" model=\"clusterinput\" input-model=\"modalDefaults\" where=\"{{mode}}\"></node> <!-- Bond Directive to show Ports and its association in the cluster--> <bonding model=\"clusterinput\" where=\"{{mode}}\"></bonding> <!-- Vlan directive to associate ports and Bonds in a cluster--> <vlan-builder ng-if=\"(modalDefaults.type == 'POWERSTORE_STORAGE'||modalDefaults.type == 'UNITY_STORAGE' || modalDefaults.type == 'HCI_POWERFLEX_Appliance'  || modalDefaults.type == 'HCI_VXFLEX' || modalDefaults.type == 'GENERIC_COMPUTE')\" vlan-list=\"clustervlan\" bond-list=\"clusterinput.bondingports\" fsn-list=\"clusterinput.fsnList\" san-list=\"clusterinput.bonds\" san-networks=\"modalDefaults.san_networks\" cluster-type=\"{{clusterinput.clusterType}}\"></vlan-builder> <vlan-builder ng-if=\"(modalDefaults.type != 'ISILON_BACKEND_STORAGE' && modalDefaults.type != 'POWERSTORE_STORAGE' && modalDefaults.type != 'UNITY_STORAGE' && modalDefaults.type != 'HCI_POWERFLEX_Appliance' && modalDefaults.type != 'HCI_VXFLEX' && modalDefaults.type != 'GENERIC_COMPUTE')\" vlan-list=\"clustervlan\" bond-list=\"clusterinput.bonds\" cluster-type=\"{{clusterinput.clusterType}}\"></vlan-builder> </form></legend> </fieldset> </div> <div class=\"row col-sm-3\" style=\"font-size: 12px\"> <span class=\"notes\" aria-labelledby=\"All fields are mandatory\">* All fields are mandatory.</span> </div> <footer class=\"cux-dialog__footer\"> <cluster-actions where=\"{{mode}}\" modal=\"modal\"></cluster-actions> </footer> </section>"
  );


  $templateCache.put('fabric/design/input/fabric/addnetworkFabricModal.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h1 class=\"cux-dialog__header-title\">{{title}}</h1> </div> <div class=\"col-sm-push-2\"> <help-directive help-index=\"fabric_edit\" aria-label=\"{{title}} Help Document\" label=\"\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\"> <!-- network fabric form to handle validation for the inner components--> <form name=\"networkFabricForm\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <fabric-detail input-model=\"fabricInputModel\"></fabric-detail> <!--fabric-rack input-model=\"workloadRacks\"></fabric-rack--> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"1\" ng-click=\"addFabricDetails(networkFabricForm)\" ng-keypress=\"addFabricDetails(networkFabricForm)\" name=\"fdc_network_fabric_input_ok\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"1\" ng-click=\"modal.dismiss()\" ng-keypress=\"modal.dismiss()\" name=\"fdc_network_fabric_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/input/fabric/addsuperspineModal.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h1 class=\"cux-dialog__header-title\">Super Spine Details</h1> </div> <div class=\"col-sm-push-2\"> <help-directive help-index=\"fabric_edit\" aria-label=\"Help Document\" label=\"\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\"> <!-- network fabric form to handle validation for the inner components--> <form name=\"networkFabricForm\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <superspine-detail input-model=\"fabricInputModel\"></superspine-detail> <!--fabric-rack input-model=\"workloadRacks\"></fabric-rack--> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"5\" ng-keypress=\"addsuperspine(networkFabricForm)\" ng-click=\"addsuperspine(networkFabricForm)\" name=\"fdc_network_fabric_input_ok\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"5\" ng-keypress=\"modal.dismiss()\" ng-click=\"modal.dismiss()\" name=\"fdc_network_fabric_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/input/fabric/editsuperspineModal.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h1 class=\"cux-dialog__header-title\">Edit Super Spine Settings</h1> </div> <div class=\"col-sm-push-2\"> <help-directive help-index=\"fabric_edit\" aria-label=\"Help Document\" label=\"\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\"> <!-- network fabric form to handle validation for the inner components--> <form name=\"networkFabricForm\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <superspine-detail input-model=\"fabricInputModel\"></superspine-detail> <!--fabric-rack input-model=\"workloadRacks\"></fabric-rack--> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"5\" ng-click=\"editsuperspine(networkFabricForm)\" ng-keypress=\"editsuperspine(networkFabricForm)\" name=\"fdc_network_fabric_input_ok\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"5\" ng-click=\"modal.dismiss()\" ng-keypress=\"modal.dismiss()\" name=\"fdc_network_fabric_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/input/fabric/fabricDetailsTmpl.html',
    "<div> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_fabricName\">{{'fabricInput.networkFabric.fabricName' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricName.$dirty && networkFabricForm.fdc_fabricName.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" title=\"{{inputModel.fabricName}}\" ng-required=\"true\" ng-model=\"inputModel.fabricName\" id=\"fdc_fabricName\" name=\"fdc_fabricName\" required validation-directive uib-tooltip=\"\" ng-minlength=\"2\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+-?[A-Za-z0-9]+$/\"> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.fabricName}} </div> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_deployment_type\">{{'fabricInput.networkFabric.fabric_type' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_deployment_type.$dirty && networkFabricForm.fdc_deployment_type.$invalid}\"> <div class=\"row\" ng-if=\"inputModel.deploymentType=='Nokia NFVi'\"> <div class=\"input-group\" style=\"width:95%;float:right\"> <select tabindex=\"0\" class=\"form-control\" ng-disabled=\"canEdit\" ng-model=\"inputModel.deploymentType\" id=\"fdc_deployment_type\" name=\"fdc_deployment_type\" ng-options=\"item for item in inputModel.deploymentTypeoptions\" title=\"{{inputModel.deploymentType}}\" validation-directive uib-tooltip=\"\"> </select> <div class=\"input-group-addon\" style=\"background-color: white;border:None;padding:0px 6px\"> <nokiahelp-directive tabindex=\"0\" aria-label=\"Nokia NFVi Help Document\" help-index=\"nokia_index\"></nokiahelp-directive> </div> </div> </div> <div class=\"row\" ng-if=\"inputModel.deploymentType!='Nokia NFVi'\"> <div class=\"col-sm-12\"> <select tabindex=\"0\" class=\"form-control\" ng-disabled=\"canEdit\" ng-model=\"inputModel.deploymentType\" id=\"fdc_deployment_type\" name=\"fdc_deployment_type\" ng-options=\"item for item in inputModel.deploymentTypeoptions\" title=\"{{inputModel.deploymentType}}\" validation-directive uib-tooltip=\"\"> </select> </div> </div> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-2 col-xs-2\"> {{inputModel.deploymentType}} </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_networkType\">{{'fabricInput.networkFabric.networkDesign' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_networkType.$dirty && networkFabricForm.fdc_networkType.$invalid}\"> <select tabindex=\"0\" id=\"fdc_networkType\" name=\"fdc_networkType\" ng-disabled=\"canEdit||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'\" class=\"form-control\" ng-model=\"inputModel.selectedNetworkType\" name=\"fdc_network_design\" ng-options=\"item.networkType for item in inputModel.networkDefaults\" title=\"{{inputModel.networkType}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.networkType}} </div> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_uplink_connectivity\">{{'fabricInput.networkFabric.uplinkConnectivity' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_uplink_connectivity.$dirty && networkFabricForm.fdc_uplink_connectivity.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-disabled=\"canEdit||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'\" ng-model=\"inputModel.selectedUplinkProtocol\" id=\"fdc_uplink_connectivity\" name=\"fdc_uplink_connectivity\" ng-options=\"item.protocol as item.protocol for item in inputModel.selectedNetworkType.upLinkInfo\" title=\"{{inputModel.selectedUplinkProtocol}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-2 col-xs-2\"> {{inputModel.selectedUplinkProtocol}} </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3\" ng-if=\"inputModel.selectedUplinkProtocol=='Layer 2'\"> <label for=\"mlag\">{{'fabricInput.networkFabric.multichassisLagToUplink' | translate}}</label> </div> <div ng-if=\"$parent.editfabric && (inputModel.selectedUplinkProtocol=='Layer 2')\" class=\"col-sm-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_mlag.$dirty && networkFabricForm.fdc_mlag.$invalid}\"> <input tabindex=\"0\" type=\"checkbox\" ng-disabled=\"canEdit\" ng-model=\"inputModel.uplinkEnableMLAG\" name=\"fdc_mlag\" id=\"mlag\" aria-labelledby=\"mlagLabel\"> <label for=\"mlag\" id=\"mlagLabel\"> <!--{{'fabricInput.networkFabric.multichassisLagToUplink' | translate}}</label>--> </div> <div ng-if=\"!$parent.editfabric && (inputModel.selectedUplinkProtocol=='Layer 2')\" class=\"col-sm-3 col-xs-3\"> {{inputModel.uplinkEnableMLAG ? 'Yes' : 'No'}} </div> <div class=\"col-sm-3\"> <label for=\"fdc_interlink_protocolType\">{{'fabricInput.networkFabric.interlinkRoutingProtocol' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_interlink_protocolType.$dirty && networkFabricForm.fdc_interlink_protocolType.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-disabled=\"canEdit || inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'\" ng-model=\"inputModel.selectedFabricLinkProtocolType\" id=\"fdc_interlink_protocolType\" name=\"fdc_interlink_protocolType\" ng-options=\"item as item for item in inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType\" title=\"{{inputModel.selectedFabricLinkProtocolType}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.selectedFabricLinkProtocolType || 'NA'}} </div> <div class=\"col-sm-3\" ng-if=\"inputModel.selectedUplinkProtocol=='Layer 3'\"> <label for=\"fdc_fabric_upLinkProtocolType\">{{'fabricInput.networkFabric.uplinkRoutingProtocol' | translate}}</label> </div> <div ng-if=\"$parent.editfabric && (inputModel.selectedUplinkProtocol=='Layer 3')\" class=\"col-sm-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabric_upLinkProtocolType.$dirty && networkFabricForm.fdc_fabric_upLinkProtocolType.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-if=\"inputModel.network_overlay_type != 'BGP EVPN'\" ng-disabled=\"canEdit||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'\" ng-model=\"inputModel.selectedUplinkProtocolType\" ng-options=\"item as item for item in inputModel.selectedUplinkProtocolTypes\" title=\"{{inputModel.selectedUplinkProtocolType}}\" id=\"fdc_fabric_upLinkProtocolType\" name=\"fdc_fabric_upLinkProtocolType\" required validation-directive uib-tooltip=\"\"> </select> <select tabindex=\"0\" class=\"form-control\" ng-if=\"inputModel.network_overlay_type == 'BGP EVPN'\" ng-disabled=\"canEdit||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'\" ng-model=\"inputModel.selectedUplinkProtocolType\" ng-options=\"item as item for item in inputModel.selectedUplinkProtocolTypes|filter:'!OSPF'\" title=\"{{inputModel.selectedUplinkProtocolType}}\" id=\"fdc_fabric_upLinkProtocolType\" name=\"fdc_fabric_upLinkProtocolType\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-3 col-xs-3\" ng-if=\"!$parent.editfabric && (inputModel.selectedUplinkProtocol=='Layer 3')\"> {{inputModel.selectedUplinkProtocolType}} </div> </div> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_upLinkInfo_count\">{{'fabricInput.networkFabric.uplinkBandwidth' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> <div class=\"col-sm-4 custompadding mar-right-fix\" ng-class=\"{'has-error' : networkFabricForm.fdc_upLinkInfo_count.$dirty && networkFabricForm.fdc_upLinkInfo_count.$invalid}\"> <input tabindex=\"0\" type=\"number\" class=\"form-control\" title=\"{{inputModel.upLinkInfo.count}}\" ng-model=\"inputModel.upLinkInfo.count\" id=\"fdc_upLinkInfo_count\" name=\"fdc_upLinkInfo_count\" min=\"0\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^[123456789]+[0-9]*$/\"> </div> <div class=\"pull-left multiple\" style=\"padding: 5px 5px 0px\"> <label for=\"fdc_upLinkInfo_bandwidth\">x</label> </div> <div class=\"col-sm-7 custompadding\" ng-if=\"inputModel.deploymentType != 'Nokia NFVi'\" ng-class=\"{'has-error' :networkFabricForm.fdc_upLinkInfo_bandwidth.$dirty && networkFabricForm.fdc_upLinkInfo_bandwidth.$invalid}\"> <select tabindex=\"0\" style=\"width:110%\" class=\"form-control\" ng-model=\"inputModel.selectedUplinkBandwidth\" id=\"fdc_upLinkInfo_bandwidth\" name=\"fdc_upLinkInfo_bandwidth\" ng-options=\"item.display_name for item in inputModel.selectedSpineSwitch.uplink.capacities \" title=\"{{ inputModel.selectedUplinkBandwidth.display_name }}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-7 custompadding\" ng-if=\"inputModel.deploymentType == 'Nokia NFVi'\" ng-class=\"{'has-error' :networkFabricForm.fdc_upLinkInfo_bandwidth.$dirty && networkFabricForm.fdc_upLinkInfo_bandwidth.$invalid}\"> <select tabindex=\"0\" style=\"width:110%\" class=\"form-control\" ng-model=\"inputModel.selectedUplinkBandwidth\" id=\"fdc_upLinkInfo_bandwidth\" name=\"fdc_upLinkInfo_bandwidth\" ng-options=\"item.display_name for item in inputModel.selectedborderLeafSwitch.uplink.capacities \" title=\"{{ inputModel.selectedUplinkBandwidth.display_name }}\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.upLinkInfo.count}}x{{inputModel.selectedUplinkBandwidth.display_name}} </div> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_leafSwitchModel\">{{'fabricInput.networkFabric.defaultToRSwitches' | translate}}</label> </div> <div ng-if=\"(!$parent.editFromLogical && $parent.editfabric)||($parent.editFromLogical && inputModel.deploymentType=='Enterprise SONiC Fabric')\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_leafSwitchModel.$dirty && networkFabricForm.fdc_leafSwitchModel.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"inputModel.selectedLeafSwitch\" id=\"fdc_leafSwitchModel\" name=\"fdc_leafSwitchModel\" ng-options=\"item.switchModel for item in inputModel.switchDefaults\" title=\"{{inputModel.leafSwitchModel}}\" validation-directive uib-tooltip=\"\" ng-disabled=\"canEdit || showSwitchAsDisable || $parent.editfabric\"> </select> </div> <div ng-if=\"$parent.editFromLogical && inputModel.deploymentType!='Enterprise SONiC Fabric'\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_leafSwitchModel.$dirty && networkFabricForm.fdc_leafSwitchModel.$invalid}\"> <select tabindex=\"0\" class=\"selet-filter form-control\" ng-model=\"inputModel.selectedLeafSwitch\" id=\"fdc_leafSwitchModel\" name=\"fdc_leafSwitchModel\" ng-options=\"item.switchModel for item in inputModel.switchDefaults\" title=\"{{inputModel.leafSwitchModel}}\" validation-directive uib-tooltip=\"\" ng-disabled=\"canEdit || showSwitchAsDisable\"> </select> <span uib-dropdown class=\"pull-right selet-filter\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" aria-label=\"Filter switches based on Solution/Bandwidth/Physical Type\" id=\"simple-dropdown\" uib-dropdown-toggle ng-click=\"$event.stopPropagation();\"> <span class=\"glyphicon glyphicon-filter\"></span> </button> <ul class=\"dropdown-menu\" uib-dropdown-menu aria-labelledby=\"simple-dropdown\"> <a class=\"header\" tabindex=\"0\" ng-keypress=\"save_filter_type(val)\" ng-click=\"save_filter_type('show all')\">Show All</a> <li ng-repeat=\"(key,value) in inputModel.filter_switch_options\"> <ul> <li class=\"header\"> {{key}} </li> <li ng-repeat=\"val in value\"> <a tabindex=\"0\" ng-keypress=\"save_filter_type(val)\" ng-click=\"save_filter_type(val)\">{{val}}</a> </li> </ul> </li> </ul></span> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.leafSwitchModel}} </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_spineSwitchModel\">{{'fabricInput.networkFabric.defaultSpineSwitches' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_spineSwitchModel.$dirty && networkFabricForm.fdc_spineSwitchModel.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"inputModel.selectedSpineSwitch\" id=\"fdc_spineSwitchModel\" name=\"fdc_spineSwitchModel\" ng-options=\"item.spineModel for item in inputModel.selectedLeafSwitch.spines | filter:(inputModel.selectedNetworkType.networkType == 'Top of Rack Fabric' ? '' : {is2TierSupported:true})\" title=\"{{inputModel.selectedSpineSwitch.spineModel}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.selectedSpineSwitch.spineModel}} </div> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_fabricLinkInfo_overAllBandwidth\">{{'fabricInput.networkFabric.defaultAccessLayerOverSubscriptionRatio' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$dirty && networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$invalid}\"> <div class=\"input-group\"> <input tabindex=\"0\" ng-disabled=\"true\" ng-if=\"inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'\" type=\"text\" ng-required=\"true\" class=\"form-control\" id=\"fdc_overAllBandwidth\" name=\"fdc_overAllBandwidth\"> <input tabindex=\"0\" ng-disabled=\"true\" ng-if=\"inputModel.deploymentType=='Nokia NFVi'\" type=\"number\" ng-required=\"true\" class=\"form-control\" title=\"{{inputModel.selectedLeafSwitch.defaultBandwidthToRack}}\" ng-model=\"inputModel.selectedLeafSwitch.defaultBandwidthToRack\" id=\"fdc_fabricLinkInfo_overAllBandwidth\" name=\"fdc_fabricLinkInfo_overAllBandwidth\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^[123456789]+[0-9]*$/\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$dirty && networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$invalid}\"> <input tabindex=\"0\" ng-disabled=\"canEdit\" ng-if=\"inputModel.selectedNetworkType.networkType!='Top of Rack Fabric' && inputModel.deploymentType!='Nokia NFVi'\" type=\"number\" ng-required=\"true\" class=\"form-control\" title=\"{{inputModel.selectedLeafSwitch.defaultBandwidthToRack}}\" ng-model=\"inputModel.selectedLeafSwitch.defaultBandwidthToRack\" id=\"fdc_fabricLinkInfo_overAllBandwidth\" name=\"fdc_fabricLinkInfo_overAllBandwidth\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^[123456789]+[0-9]*$/\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$dirty && networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$invalid}\"> <div class=\"input-group-addon\"><strong>G</strong></div> </div> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.selectedNetworkType.networkType=='Top of Rack Fabric' ? 'NA' : inputModel.selectedLeafSwitch.defaultBandwidthToRack + 'G'}} </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\" ng-if=\"inputModel.deploymentType=='Nokia NFVi'\"> <label for=\"fdc_borderleafSwitchModel\">{{'fabricInput.networkFabric.defaultBLSwitches' | translate}}</label> </div> <div ng-if=\"(!$parent.editFromLogical && $parent.editfabric && inputModel.deploymentType=='Nokia NFVi')\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_borderleafSwitchModel.$dirty && networkFabricForm.fdc_borderleafSwitchModel.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"inputModel.selectedborderLeafSwitch\" id=\"fdc_borderleafSwitchModel\" name=\"fdc_borderleafSwitchModel\" ng-options=\"item.switchModel for item in inputModel.border_leaf_switchDefaults\" title=\"{{inputModel.borderleafSwitchModel}}\" validation-directive uib-tooltip=\"\" ng-disabled=\"canEdit || showSwitchAsDisable || $parent.editfabric\"> </select> </div> <div ng-if=\"$parent.editFromLogical && inputModel.deploymentType=='Nokia NFVi'\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_borderleafSwitchModel.$dirty && networkFabricForm.fdc_borderleafSwitchModel.$invalid}\"> <select tabindex=\"0\" class=\"selet-filter form-control\" ng-model=\"inputModel.selectedborderLeafSwitch\" id=\"fdc_borderleafSwitchModel\" name=\"fdc_borderleafSwitchModel\" ng-options=\"item.switchModel for item in inputModel.border_leaf_switchDefaults\" title=\"{{inputModel.borderleafSwitchModel}}\" validation-directive uib-tooltip=\"\" ng-disabled=\"canEdit || showSwitchAsDisable\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.borderleafSwitchModel}} </div> </div> <div class=\"row\"> <div ng-if=\"!$parent.editFromLogical&&!$parent.genericFabricInputs.fabricDefaults.defaultRacksGenerated\" class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_noOfRacks\">Number of Workload Racks</label> </div> <div ng-if=\"!$parent.editFromLogical&&!$parent.genericFabricInputs.fabricDefaults.defaultRacksGenerated\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_noOfRacks.$dirty && networkFabricForm.fdc_noOfRacks.$invalid}\"> <input tabindex=\"0\" ng-disabled=\"canEdit || inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'\" type=\"number\" class=\"form-control\" title=\"{{inputModel.noOfRacks}}\" ng-model=\"inputModel.noOfRacks\" id=\"fdc_noOfRacks\" name=\"fdc_noOfRacks\" required validation-directive uib-tooltip=\"\" min=\"1\" max=\"{{maxRackCount}}\" ng-pattern=\"/^[123456789]+[0-9]*$/\" ng-class=\"{'has-error' : networkFabricForm.fdc_noOfRacks.$dirty && networkFabricForm.fdc_noOfRacks.$invalid}\"> </div> <div ng-show=\"inputModel.selectedNetworkType.networkType == 'Layer 3 Leaf and Spine'\" class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_network_overlay_type\">{{'fabricInput.networkFabric.networkOverlay' | translate}}</label> </div> <div ng-show=\"inputModel.selectedNetworkType.networkType == 'Layer 3 Leaf and Spine'\" ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_networkOverlay.$dirty && networkFabricForm.fdc_networkOverlay.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"inputModel.network_overlay_type\" id=\"fdc_network_overlay_type\" name=\"fdc_network_overlay_type\" ng-options=\"item as item for item in inputModel.selectedNetworkType.network_overlay_options\" title=\"{{inputModel.network_overlay_type}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-show=\"inputModel.selectedNetworkType.networkType == 'Layer 3 Leaf and Spine'\" ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.network_overlay_type}} </div> </div> <div class=\"row\"> <div ng-show=\"inputModel.network_overlay_type=='BGP EVPN' && !$parent.editFromLogical\" class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_irb_type\">{{'fabricInput.networkFabric.irb_type' | translate}}</label> </div> <div ng-show=\"inputModel.network_overlay_type=='BGP EVPN'\" ng-if=\"$parent.editfabric&&!$parent.editFromLogical\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_irb_type.$dirty && networkFabricForm.fdc_irb_type.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"inputModel.irb_type\" id=\"fdc_irb_type\" name=\"fdc_irb_type\" ng-options=\"item for item in inputModel.irb_type_options|filter:filter_irb_type\" title=\"{{inputModel.irb_type}}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div ng-show=\"inputModel.network_overlay_type=='BGP EVPN'\" ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.irb_type}} </div> <div ng-show=\"inputModel.deploymentType == 'Enterprise SONiC Fabric'\" ng-if=\"!$parent.editFromLogical\" class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_dci_or_superspine\"><span>{{'fabricInput.networkFabric.enable_additional_features' | translate}}</span> <a tabindex=\"0\" style=\"pointer-events: auto\" style=\"background-color: white;border:None;padding:0px 10px\" title=\"{{inputModel.feature_help}}\" href=\"\" name=\"enable_add\"><span ng-if=\"!ref\" class=\"glyphicon glyphicon-question-sign\"></span> </a> </label> </div> <div ng-show=\"inputModel.deploymentType == 'Enterprise SONiC Fabric'\" ng-if=\"$parent.editfabric&&!$parent.editFromLogical\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_dci_or_superspine.$dirty && networkFabricForm.fdc_dci_or_superspine.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"inputModel.dci_or_superspine\" id=\"fdc_dci_or_superspine\" name=\"fdc_dci_or_superspine\" ng-options=\"item for item in ['None','Super Spine','DCI']\" ng-attr-title=\"{{inputModel.definition[inputModel.dci_or_superspine]}}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div ng-show=\"inputModel.deploymentType == 'Enterprise SONiC Fabric'\" ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.dci_or_superspine}} </div> <div ng-if=\"inputModel.deploymentType == 'Nokia NFVi'\" class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_nokia_version\">{{'fabricInput.networkFabric.nokia_version' | translate}}</label> </div> <div ng-if=\"inputModel.deploymentType == 'Nokia NFVi' && $parent.editfabric&&!$parent.editFromLogical\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_nokia_version.$dirty && networkFabricForm.fdc_nokia_version.$invalid}\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"inputModel.nokia_version\" id=\"fdc_nokia_version\" name=\"fdc_nokia_version\" ng-options=\"item for item in inputModel.nokia_version_list\" title=\"{{inputModel.nokia_version}}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"inputModel.deploymentType == 'Nokia NFVi'&& !$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.nokia_version}} </div> </div> </div> <!-- end of the Component Div statement-->"
  );


  $templateCache.put('fabric/design/input/fabric/fabricDetailsTmplBE.html',
    "<div> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.fabricName' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricName.$dirty && networkFabricForm.fdc_fabricName.$invalid}\"> <input type=\"text\" class=\"form-control\" title=\"{{inputModel.fabricName}}\" ng-required=\"true\" ng-model=\"inputModel.fabricName\" name=\"fdc_fabricName\" required validation-directive uib-tooltip=\"\" ng-minlength=\"2\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+-?[A-Za-z0-9]+$/\"> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.fabricName}} </div> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.fabric_type' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_deployment_type.$dirty && networkFabricForm.fdc_deployment_type.$invalid}\"> <select class=\"form-control\" ng-disabled=\"canEdit\" ng-model=\"inputModel.deploymentType\" name=\"fdc_deployment_type\" ng-options=\"item for item in inputModel.deploymentTypeoptions\" title=\"{{inputModel.deploymentType}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-2 col-xs-2\"> {{inputModel.deploymentType}} </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.networkDesign' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_networkType.$dirty && networkFabricForm.fdc_networkType.$invalid}\"> <select name=\"fdc_networkType\" ng-disabled=\"canEdit||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'\" class=\"form-control\" ng-model=\"inputModel.selectedNetworkType\" name=\"fdc_network_design\" ng-options=\"item.networkType for item in inputModel.networkDefaults\" title=\"{{inputModel.networkType}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.networkType}} </div> <div class=\"col-sm-3\"> <label>{{'fabricInput.networkFabric.interlinkRoutingProtocol' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_interlink_protocolType.$dirty && networkFabricForm.fdc_interlink_protocolType.$invalid}\"> <select class=\"form-control\" ng-disabled=\"canEdit || inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'\" ng-model=\"inputModel.selectedFabricLinkProtocolType\" name=\"fdc_interlink_protocolType\" ng-options=\"item as item for item in inputModel.selectedNetworkType.fabricLinkInfo[0].protocolType\" title=\"{{inputModel.selectedFabricLinkProtocolType}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.selectedFabricLinkProtocolType || 'NA'}} </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.defaultToRSwitches' | translate}}</label> </div> <div ng-if=\"$parent.editFromLogical\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_leafSwitchModel.$dirty && networkFabricForm.fdc_leafSwitchModel.$invalid}\"> <select class=\"form-control\" ng-model=\"inputModel.selectedLeafSwitch\" name=\"fdc_leafSwitchModel\" ng-options=\"item.switchModel for item in inputModel.switchDefaults\" title=\"{{inputModel.leafSwitchModel}}\" validation-directive uib-tooltip=\"\" ng-disabled=\"canEdit || showSwitchAsDisable\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.leafSwitchModel}} </div> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.defaultSpineSwitches' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_spineSwitchModel.$dirty && networkFabricForm.fdc_spineSwitchModel.$invalid}\"> <select class=\"form-control\" ng-model=\"inputModel.selectedSpineSwitch\" name=\"fdc_spineSwitchModel\" ng-options=\"item.spineModel for item in inputModel.selectedLeafSwitch.spines | filter:(inputModel.selectedNetworkType.networkType == 'Top of Rack Fabric' ? '' : {is2TierSupported:true})\" title=\"{{inputModel.selectedSpineSwitch.spineModel}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.selectedSpineSwitch.spineModel}} </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.defaultAccessLayerOverSubscriptionRatio' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$dirty && networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$invalid}\"> <div class=\"input-group\"> <input ng-disabled=\"true\" ng-if=\"inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'\" type=\"text\" ng-required=\"true\" class=\"form-control\" name=\"fdc_overAllBandwidth\"> <input ng-disabled=\"true\" ng-if=\"inputModel.selectedNetworkType.networkType!='Top of Rack Fabric'\" type=\"number\" ng-required=\"true\" class=\"form-control\" title=\"{{inputModel.selectedLeafSwitch.defaultBandwidthToRack}}\" ng-model=\"inputModel.selectedLeafSwitch.defaultBandwidthToRack\" name=\"fdc_fabricLinkInfo_overAllBandwidth\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^[123456789]+[0-9]*$/\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$dirty && networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$invalid}\"> <div class=\"input-group-addon\"><strong>G</strong></div> </div> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.selectedNetworkType.networkType=='Top of Rack Fabric' ? 'NA' : inputModel.selectedLeafSwitch.defaultBandwidthToRack + 'G'}} </div> </div> <!-- End of row--> </div> <!-- end of the Component Div statement-->"
  );


  $templateCache.put('fabric/design/input/fabric/fabricRacksTmpl.html',
    "<div class=\"row\"> <div class=\"col-sm-12\" style=\"border-bottom: 1px solid #ccc;margin: 0 0 15px 0\"> <h3 style=\"float:left\">{{'fabricInput.workloadRacks.title' | translate}}</h3> <ul class=\"list-unstyled list-inline cluster-actions\" style=\"float:left\"> <!--li style=\"margin-top:17px\">\r" +
    "\n" +
    "\t\t\t\t\t\t <input type=\"number\"  style=\"width:50px\" class=\"form-control\" title=\"\"  name=\"fabricDetails.upLinkCount\" ng-min=\"0\" ng-max=\"10\"/>\r" +
    "\n" +
    "\t\t\t\t\t</li--> <li style=\"margin-top:17px\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-disabled=\"!$parent.genericFabricInputs.fabricDefaults.defaultRacksGenerated || selectedNetworkType=='Top of Rack Fabric'|| deploymentType=='Nokia NFVi'\" name=\"addrack{{$index}}\" aria-label=\"Add Rack to the Fabric\" ng-click=\"addRackFn()\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong>Add {{'fabricInput.workloadRacks.addRack'|translate}}</strong> </button> </li> </ul> </div> <div class=\"col-sm-12 col-xs-12\"> <h5><strong>Note:</strong> Use \"+Workload\" to add workload clusters into the Racks</h5> </div> <div class=\"col-sm-12 col-xs-12\"> <div class=\"row\"> <div class=\"col-xs-12\"> <table class=\"table table-striped table-condensed table-bordered\" id=\"racksTable\"> <thead> <tr> <th width=\"1%\" rowspan=\"2\"></th> <th width=\"5%\" rowspan=\"2\">{{'fabricInput.workloadRacks.rackno' | translate}}</th> <th width=\"5%\" rowspan=\"2\">{{'fabricInput.workloadRacks.rackname' | translate}}</th> <th width=\"5%\" rowspan=\"2\">{{'fabricInput.workloadRacks.switches' | translate}}</th> <th width=\"15%\" class=\"text-center\" colspan=\"3\">{{'fabricInput.workloadRacks.workload' | translate}}</th> <th width=\"5%\" rowspan=\"2\">{{'fabricInput.workloadRacks.uplinkConnections' | translate}}</th> <th width=\"5%\" rowspan=\"2\">{{'fabricInput.workloadRacks.rackOverSubscriptionRatio' | translate}}</th> <th width=\"5%\" rowspan=\"2\">{{'fabricInput.workloadRacks.edgerack' | translate}}</th> <th width=\"10%\" rowspan=\"2\">{{'fabricInput.workloadRacks.actions' | translate}}</th> </tr> <tr> <th width=\"5%\">{{'fabricInput.workloadRacks.ports' | translate}}</th> <th width=\"5%\">{{'fabricInput.workloadRacks.bandwidth' | translate}}</th> <th width=\"5%\">{{'fabricInput.workloadRacks.rackspace' | translate}}</th> </tr> </thead> <tbody ng-if=\"inputModel.length\" ng-repeat=\"row in inputModel\" ng-click=\"row.isCollapsed = !row.isCollapsed\" ng-switch on=\"isSelected(row)\"> <tr> <td> <button tabindex=\"0\" aria-label=\"{{row.isCollapsed ?'Collapsed':'Expanded'}}\" type=\"button\" class=\"btn btn-link btn-sm\" name=\"clusterExp{{$index}\"> <span class=\"glyphicon glyphicon-chevron-{{row.isCollapsed ? 'down' : 'right'}}\"></span> </button> </td> <td width=\"3%\" name=\"rackno{{$index}}\">{{$index+1}}</td> <td class=\"col-sm-1\" name=\"rackname{{$index}}\">{{row.rackName}}</td> <td class=\"col-sm-1\" name=\"switches{{$index}}\">{{row.switchModel}}</td> <td width=\"3%\" name=\"ports{{$index}}\">{{row.downLinkInfo.count}}</td> <td width=\"3%\" name=\"bandwidth{{$index}}\">{{row.downLinkInfo.bandwidth}}</td> <td width=\"3%\" name=\"rackspace{{$index}}\">{{row.rackSpace}}</td> <td class=\"col-sm-1\" name=\"uplinkconnection{{$index}}\">{{row.upLinkInfo.count}} X {{row.upLinkInfo.bandwidth}}</td> <td class=\"col-sm-1\" name=\"racksubscriptionratio{{$index}}\">{{row.osRatio}}</td> <td width=\"3%\" name=\"edgerack{{$index}}\"> <!--input type=\"checkbox\" ng-model=\"row.isEdgeRack\" name=\"row_edge{{$index}}\" id=\"edge{{$index}}\" ng-disabled=\"true\"/>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t<label for=\"edge{{$index}}\" /--> <span ng-if=\"row.isEdgeRack\" class=\"glyphicon glyphicon-ok\" style=\"color:#0076CE\" title=\"{{row.isEdgeRack}}\"></span> <span ng-if=\"!row.isEdgeRack\" class=\"glyphicon glyphicon-remove\" style=\"color:#0076CE\" title=\"{{row.isEdgeRack}}\"></span> </td> <td width=\"10%\" name=\"actions{{$index}}\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" aria-label=\"Edit Rack {{$index}}\" ng-click=\"$event.stopPropagation();editRackFn(row)\" name=\"row_rack_edit{{$index}}\" ng-disabled=\"deploymentType=='Nokia NFVi'\"> <span class=\"glyphicon glyphicon-edit\"></span> </button> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" aria-label=\"Delete Rack {{$index}}\" ng-click=\"$event.stopPropagation();deleteRackFn(row)\" name=\"row_rack_delete{{$index}}\" ng-disabled=\"deploymentType=='Nokia NFVi'\"> <span class=\"glyphicon glyphicon-trash\"></span> </button> <span uib-dropdown> <button tabindex=\"0\" type=\"button\" aria-label=\"Click Add Workload to add clusters\" ng-disabled=\"(deploymentType=='Nokia NFVi'||row.switchModel=='Generic-GNS3-Switch')\" class=\"btn btn-link\" id=\"simple-dropdown{{$index}}\" uib-dropdown-toggle ng-click=\"$event.stopPropagation();\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong>Workload</strong> </button> <ul class=\"dropdown-menu fabric-rack\" uib-dropdown-menu aria-labelledby=\"simple-dropdown{{$index}}\"> <li ng-repeat=\"choice in fabricSolutions\" ng-if=\"!choice.hidegroup  && (deploymentType=='OS10 Fabric' || (deploymentType=='Enterprise SONiC Fabric' && !choice.hidesonicworkload) || (deploymentType=='Nokia NFVi' && !choice.hidesonicworkload))\"> <a tabindex=\"0\" ng-if=\"choice.group!='Backend'\">{{choice.group}}</a> <ul ng-if=\"choice.group!='Backend'\"> <li ng-repeat=\"list in choice.data\" ng-if=\"!list.hideInRackView && (deploymentType=='OS10 Fabric' || (deploymentType=='Enterprise SONiC Fabric' && !list.hidesonicworkload && list.name !== 'XC' && list.name !== 'Unity') || (deploymentType=='Nokia NFVi' && !list.hidesonicworkload && list.name !== 'XC' && list.name !== 'Unity'))\"> <a tabindex=\"0\" href=\"\" name=\"soution{{list.name}}\" ng-click=\"workLoadAdd(list, row.rackId)\">{{list.shortLabel}}</a> </li> </ul> </li> </ul> </span> </td> </tr> <tr ng-switch-when=\"true\"> <td colspan=\"11\" class=\"rack-cluster-table\"> <h3>{{'fabricInput.clusterNodeDetails' | translate}}</h3> <table class=\"table table-hover table-bordered\"> <thead> <tr> <th>Name</th> <th>Type</th> <th>No of Nodes</th> <th>Device Type</th> <th>Actions</th> </tr> </thead> <tbody ng-if=\"row.clusterInfos.length\"> <tr ng-repeat=\"cluster in row.clusterInfos\"> <td>{{cluster.name}}</td> <td>{{cluster.clusterType}}</td> <td>{{cluster.noOfNodes}}</td> <td>{{cluster.deviceType}}</td> <td> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"$event.stopPropagation();editWorkLoad(cluster, row.rackId)\" name=\"row_cluster_edit{{$index}}\"> <span class=\"glyphicon glyphicon-edit\"></span> </button> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"$event.stopPropagation();deleteCluster(cluster)\" name=\"row_cluster_delete{{$index}}\" ng-disabled=\"deploymentType=='Nokia NFVi'\"> <span class=\"glyphicon glyphicon-trash\"></span> </button> </td> </tr> </tbody> <tbody ng-if=\"!row.clusterInputs.length\"> <tr> <td colspan=\"5\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </td> </tr> </tbody> <tbody ng-if=\"!inputModel.length\"> <tr> <td colspan=\"11\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> <!--tbody ng-show=\"isLoading\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t<tr>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t<td colspan=\"12\" class=\"text-center\">{{'general.loading' | translate}}</td>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t</tr>\r" +
    "\n" +
    "\t\t\t\t\t\t\t</tbody--> </table> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/fabric/networkFabricModal.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h1 class=\"cux-dialog__header-title\">{{title}}</h1> </div> <div class=\"col-sm-push-2\"> <help-directive help-index=\"fabric_edit\" aria-label=\"{{title}} Help Document\" label=\"\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\"> <!-- network fabric form to handle validation for the inner components--> <form name=\"networkFabricForm\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <fabric-detail tabindex=\"1\" input-model=\"fabricInputModel\"></fabric-detail> <!--fabric-rack input-model=\"workloadRacks\"></fabric-rack--> </form> </div> <div class=\"row col-sm-3\" style=\"font-size: 12px\"> <span class=\"notes\" aria-label=\"All fields are mandatory\">* All fields are mandatory.</span> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"1\" ng-click=\"editFabricDetails(networkFabricForm)\" ng-keypress=\"editFabricDetails(networkFabricForm)\" name=\"fdc_network_fabric_input_ok\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"1\" ng-click=\"modal.dismiss()\" ng-keypress=\"modal.dismiss()\" name=\"fdc_network_fabric_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/input/fabric/networkFabricModal_BE.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h1 class=\"cux-dialog__header-title\">{{title}}</h1> </div> <div class=\"col-sm-push-2\"> <help-directive help-index=\"fabric_edit\" aria-label=\"{{title}} Help Document\" label=\"\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\"> <!-- network fabric form to handle validation for the inner components--> <form name=\"networkFabricForm\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <isilonbefabric input-model=\"fabricInputModel\"></isilonbefabric> <!--fabric-rack input-model=\"workloadRacks\"></fabric-rack--> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"5\" ng-click=\"editFabricDetails(networkFabricForm)\" ng-keypress=\"editFabricDetails(networkFabricForm)\" name=\"fdc_network_fabric_input_ok\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"5\" ng-click=\"modal.dismiss()\" ng-keypress=\"modal.dismiss()\" name=\"fdc_network_fabric_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/input/fabric/superspineDetails.html',
    "<div> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_fabricName\" id=\"fabricNameLabel\">{{'fabricInput.networkFabric.fabricName' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricName.$dirty && networkFabricForm.fdc_fabricName.$invalid}\"> <input tabindex=\"1\" type=\"text\" class=\"form-control\" title=\"{{inputModel.fabricName}}\" ng-disabled=\"$parent.isEditingDisabled\" ng-required=\"true\" ng-model=\"inputModel.fabricName\" aria-describedby=\"fabricNameError\" name=\"fdc_fabricName\" required validation-directive uib-tooltip=\"\" ng-minlength=\"2\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+-?[A-Za-z0-9]+$/\"> <p id=\"fabricNameError\" role=\"alert\" ng-show=\"networkFabricForm.fdc_fabricName.$dirty && networkFabricForm.fdc_fabricName.$invalid\" style=\"color: red\"> Fabric name must be alphanumeric. </p> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.fabricName}} </div> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.networkDesign' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_networkType.$dirty && networkFabricForm.fdc_networkType.$invalid}\"> <select tabindex=\"1\" name=\"fdc_networkType\" ng-disabled=\"true||canEdit||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'\" class=\"form-control\" ng-model=\"inputModel.selectedNetworkType\" name=\"fdc_network_design\" ng-options=\"item.networkType for item in inputModel.networkDefaults\" title=\"{{inputModel.networkType}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.networkType}} </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.defaultSpineSwitches' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_spineSwitchModel.$dirty && networkFabricForm.fdc_spineSwitchModel.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"inputModel.selectedSpineSwitch\" name=\"fdc_spineSwitchModel\" ng-options=\"item.spineModel for item in inputModel.selectedLeafSwitch.spines | filter:(inputModel.selectedNetworkType.networkType == 'Top of Rack Fabric' ? '' : {is2TierSupported:true})\" title=\"{{inputModel.selectedSpineSwitch.spineModel}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'\"> </select> </div> <div ng-if=\"True && !$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.selectedSpineSwitch.spineModel}} </div> <div class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.totalbandwidth' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$dirty && networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$invalid}\"> <div class=\"input-group\"> <input tabindex=\"1\" ng-disabled=\"true\" ng-if=\"inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'\" type=\"text\" ng-required=\"true\" class=\"form-control\" name=\"fdc_overAllBandwidth\"> <input tabindex=\"1\" ng-disabled=\"true\" ng-if=\"inputModel.deploymentType=='Nokia NFVi'\" type=\"number\" ng-required=\"true\" class=\"form-control\" title=\"{{inputModel.selectedLeafSwitch.defaultBandwidthToRack}}\" ng-model=\"inputModel.selectedLeafSwitch.defaultBandwidthToRack\" name=\"fdc_fabricLinkInfo_overAllBandwidth\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^[123456789]+[0-9]*$/\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$dirty && networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$invalid}\"> <input tabindex=\"1\" ng-disabled=\"canEdit\" ng-if=\"inputModel.selectedNetworkType.networkType!='Top of Rack Fabric' && inputModel.deploymentType!='Nokia NFVi'\" type=\"number\" ng-required=\"true\" class=\"form-control\" title=\"{{inputModel.selectedLeafSwitch.defaultBandwidthToRack}}\" ng-model=\"inputModel.selectedLeafSwitch.defaultBandwidthToRack\" name=\"fdc_fabricLinkInfo_overAllBandwidth\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^[123456789]+[0-9]*$/\" ng-class=\"{'has-error' : networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$dirty && networkFabricForm.fdc_fabricLinkInfo_overAllBandwidth.$invalid}\"> <div class=\"input-group-addon\"><strong>G</strong></div> </div> </div> <div ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.selectedNetworkType.networkType=='Top of Rack Fabric' ? 'NA' : inputModel.selectedLeafSwitch.defaultBandwidthToRack + 'G'}} </div> </div> <!-- End of row--> <div class=\"row\"> <div ng-show=\"inputModel.selectedNetworkType.networkType == 'Super Spine'\" class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.networkOverlay' | translate}}</label> </div> <div ng-show=\"inputModel.selectedNetworkType.networkType == 'Super Spine'\" ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_networkOverlay.$dirty && networkFabricForm.fdc_networkOverlay.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"inputModel.network_overlay_type\" name=\"fdc_network_overlay_type\" ng-options=\"item as item for item in inputModel.selectedNetworkType.network_overlay_options\" title=\"{{inputModel.network_overlay_type}}\" validation-directive uib-tooltip=\"\" ng-disabled=\"true||inputModel.network_overlay_type=='NSX Overlay(BGP EVPN)'||inputModel.disable_overlay_type\"> </select> </div> <div ng-show=\"inputModel.selectedNetworkType.networkType == 'Super Spine'\" ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.network_overlay_type}} </div> <div ng-if=\"inputModel.selectedNetworkType.networkType == 'Super Spine'\" class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.noofSuperspines' | translate}}</label> </div> <div ng-if=\"$parent.editfabric\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_noOfSpines.$dirty && networkFabricForm.fdc_noOfSpines.$invalid}\"> <input tabindex=\"1\" ng-disabled=\"canEdit || inputModel.selectedNetworkType.networkType=='Top of Rack Fabric'\" type=\"number\" class=\"form-control\" title=\"{{inputModel.noOfSpines}}\" ng-model=\"inputModel.noOfSpines\" name=\"fdc_noOfSpines\" required validation-directive uib-tooltip=\"\" min=\"2\" max=\"8\" ng-pattern=\"/^[123456789]+[0-9]*$/\" ng-class=\"{'has-error' : networkFabricForm.fdc_noOfSpines.$dirty && networkFabricForm.fdc_noOfSpines.$invalid}\"> </div> </div> <div class=\"row\"> <div ng-show=\"inputModel.network_overlay_type=='BGP EVPN' && !$parent.editFromLogical\" class=\"col-sm-3 col-xs-3\"> <label>{{'fabricInput.networkFabric.irb_type' | translate}}</label> </div> <div ng-show=\"inputModel.network_overlay_type=='BGP EVPN'\" ng-if=\"$parent.editfabric&&!$parent.editFromLogical\" class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricForm.fdc_irb_type.$dirty && networkFabricForm.fdc_irb_type.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"inputModel.irb_type\" name=\"fdc_irb_type\" ng-options=\"item for item in inputModel.irb_type_options\" title=\"{{inputModel.irb_type}}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div ng-show=\"inputModel.network_overlay_type=='BGP EVPN'\" ng-if=\"!$parent.editfabric\" class=\"col-sm-3 col-xs-3\"> {{inputModel.irb_type}} </div> </div> </div> <!-- end of the Component Div statement-->"
  );


  $templateCache.put('fabric/design/input/fabricInput.html',
    "<div class=\"container-fluid fabric-input-sec\"> <div class=\"row\"> <div class=\"col-sm-11\"> </div> <div class=\"col-sm-1\"> <help-directive tabindex=\"0\" help-index=\"home\" aria-label=\"{{title}} Help Document\" solution=\"{{help.solution}}\"></help-directive> </div> </div> <div class=\"panel panel-default\"> <div class=\"panel-body\"> <div class=\"row v-space20\"> <div class=\"col-sm-12\"> <div class=\"row\"> <form name=\"fdc_fabric_form\" novalidate> <div class=\"col-sm-4\"> <label for=\"fdc_network_fabric_name\" class=\"content-title\">{{'fabricInput.networkName' | translate}}</label> <label aria-label=\"Required\">*</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : fdc_fabric_form.fdc_network_fabric_name.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" id=\"fdc_network_fabric_name\" name=\"fdc_network_fabric_name\" ng-model=\"fabricInputs.name\" required ng-minlength=\"2\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+[-]?[A-Za-z0-9]+$/\" pattern-msg=\"Fabric Name must start and end with alphanumeric character ranging from 2-16 characters and contains atmost one special character\" validation-directive uib-tooltip=\"\"> </div> </form> <div class=\"col-sm-5\"> <span uib-dropdown class=\"pull-right\" ng-if=\"help.ref[help.solution].length\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" id=\"simple-dropdown\" uib-dropdown-toggle> <span class=\"glyphicon glyphicon-book\"></span> <strong>Reference Documents</strong> </button> <ul class=\"dropdown-menu referenc-architecture\" uib-dropdown-menu aria-labelledby=\"simple-dropdown\"> <li tabindex=\"0\" ng-repeat=\"ref in help.ref[help.solution]\"> <help-directive aria-label=\"{{ref.label}} Help Document\" ref=\"{{ref.link}}\" label=\"{{ref.label}}\"></help-directive> </li> </ul> </span> </div> </div> <div class=\"row\" ng-if=\"fabricInputs.clusterDefaults.compute && fabricInputs.clusterDefaults.compute.type != 'HCI_XC'\"> <div class=\"col-sm-4\"> <label for=\"vxrailVersion\" class=\"content-title\" ng-if=\"fabricInputs.clusterDefaults.compute.type == 'HCI_VXRAIL'||fabricInputs.clusterDefaults.compute.type == 'HCI_NSX_VXRAIL'\">VxRail version</label> <label for=\"vsanVersion\" class=\"content-title\" ng-if=\"fabricInputs.clusterDefaults.compute.type == 'HCI_VSANREADY'\">vSAN version</label> </div> <div class=\"col-sm-3\"> <select tabindex=\"0\" class=\"form-control\" ng-if=\"fabricInputs.clusterDefaults.compute.type == 'HCI_VXRAIL'||fabricInputs.clusterDefaults.compute.type == 'HCI_NSX_VXRAIL'\" ng-model=\"fabricInputs.version\" ng-options=\"item for item in fabricInputs.versionlist.vxrail\" id=\"vxrailVersion\" name=\"vxrailVersion\"> </select> <select tabindex=\"0\" class=\"form-control\" ng-if=\"fabricInputs.clusterDefaults.compute.type == 'HCI_VSANREADY'\" ng-model=\"fabricInputs.version\" ng-options=\"item for item in fabricInputs.versionlist.vsanreadynodes\" id=\"vsanVersion\" name=\"vsanVersion\"> </select> </div> </div> <div class=\"row\" ng-if=\"fabricInputs.clusterDefaults.compute && fabricInputs.type == 'NVMeTCPSupport'\"> <div class=\"col-sm-4\"> <label for=\"ip_san_topology\" class=\"content-title\">Topology Type</label> </div> <div class=\"col-sm-3\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"fabricInputs.ip_san_topology\" ng-options=\"item for item in ['Converged','Dedicated-SAN']\" id=\"ip_san_topology\" name=\"ip_san_topology\"> </select> </div> </div> <div class=\"row\" ng-if=\"fabricInputs.clusterDefaults.compute && fabricInputs.type == 'NVMeTCPSupport' || fabricInputs.clusterDefaults.compute && fabricInputs.type == 'HCI_VXRAIL' || fabricInputs.clusterDefaults.compute && fabricInputs.type == 'HCI_POWERFLEX_Appliance' || fabricInputs.clusterDefaults.compute && fabricInputs.type == 'ISILON_BACKEND_STORAGE' || fabricInputs.clusterDefaults.compute && fabricInputs.type == 'ISILON_STORAGE' || fabricInputs.clusterDefaults.compute && fabricInputs.type == 'POWERSTORE_STORAGE' || fabricInputs.clusterDefaults.compute && fabricInputs.type == 'GENERIC_COMPUTE' || fabricInputs.clusterDefaults.compute && fabricInputs.type == 'HCI_NSX_VXRAIL'\"> <div class=\"col-sm-4\"> <label for=\"ip_san_topology\" class=\"content-title\">Fabric Type</label> </div> <div class=\"col-sm-3\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"fabricInputs.deploymentType\" ng-options=\"item for item in ['Enterprise SONiC Fabric','OS10 Fabric']\" id=\"deploymentType\" name=\"deploymentType\"> </select> </div> </div> <div class=\"row v-space20\" ng-show=\"fabricInputs.type=='NVMeTCPSupport'\"> <div class=\"col-sm-5\"> <input tabindex=\"0\" type=\"checkbox\" name=\"fdc_allow_single_rack_deployment\" ng-model=\"fabricInputs.enableSingleRackDeployment\" id=\"fdc_allow_single_rack_deployment\"> <label class=\"notes\" for=\"fdc_allow_single_rack_deployment\" id=\"fdc_allow_single_rack_deployment\" title=\"{{'fabricInput.enableSingleRackDeploymentText'| translate}}\"> {{'fabricInput.enableSingleRackDeploymentText'| translate}}</label> </div> </div> </div> </div> <div class=\"\" ng-class=\"{'outerPanel': (fabricInputs.clusterDefaults.compute.type == 'HCI_VSANREADY'||fabricInputs.clusterDefaults.compute.type == 'HCI_NSX_VXRAIL')}\"> <div class=\"row\" ng-repeat=\"(defaultKey, defaultVal) in fabricInputs.clusterDefaults\"> <div class=\"col-sm-12\"> <div class=\"row v-space20\" ng-show=\"(fabricInputs.clusterDefaults.compute.type == 'HCI_VSANREADY' || fabricInputs.clusterDefaults.compute.type == 'HCI_NSX_VXRAIL') && (defaultKey=='management'||defaultKey=='edge')\"> <div class=\"col-sm-5\"> <input tabindex=\"0\" type=\"checkbox\" name=\"fdc_allow_single_rack_deployment\" ng-model=\"fabricInputs.enableSingleRackDeployment\" id=\"fdc_allow_single_rack_deployment\"> <label class=\"notes\" for=\"fdc_allow_single_rack_deployment\" id=\"fdc_allow_single_rack_deployment\" title=\"{{'fabricInput.enableSingleRackComputeDeploymentText'| translate}}\">{{'fabricInput.enableSingleRackComputeDeploymentText'| translate}}</label> </div> </div> <div class=\"row v-space20\"> <div class=\"col-sm-5\"> <div class=\"content-title cluster-details-title\"> <span ng-if=\"clusterTypeLength > 1 && fabricInputs.clusterDefaults.compute.type != 'HCI_NSX_VXRAIL' \">{{'general.clusterType.' + defaultKey | translate}} - </span> <span ng-if=\"clusterTypeLength > 1 && fabricInputs.clusterDefaults.compute.type == 'HCI_NSX_VXRAIL' \">{{'general.clusterType.' + defaultKey +'_nsx'| translate}} </span> <!--span ng-if=\"fabricInputs.clusterDefaults.compute.type == 'GENERIC_COMPUTE'\">Server </span--> <span ng-if=\"fabricInputs.clusterDefaults.compute.type == 'ISILON_BACKEND_STORAGE'\">{{'general.nodePoolDetails'|translate}} </span> <span ng-if=\"(fabricInputs.clusterDefaults.compute.type == 'HCI_NSX_VXRAIL' && defaultKey!='compute')\"> - {{'general.clusterDetails' | translate}}</span> <span ng-if=\"(fabricInputs.clusterDefaults.compute.type != 'UNITY_STORAGE' && fabricInputs.clusterDefaults.compute.type != 'ISILON_BACKEND_STORAGE' && fabricInputs.clusterDefaults.compute.type != 'HCI_NSX_VXRAIL')\">{{'fabricInput.clusterDetails' | translate}}</span> <span ng-if=\"(fabricInputs.clusterDefaults.compute.type == 'UNITY_STORAGE')\">{{'general.nodeDetails' | translate}}</span> </div> </div> </div> </div> <div class=\"col-sm-12\" ng-class=\"{clusterPanel:(fabricInputs.clusterDefaults.compute.type !='HCI_VSANREADY' && fabricInputs.clusterDefaults[defaultKey].type != 'HCI_NSX_VXRAIL')}\"> <div class=\"row v-space20\" ng-show=\"(fabricInputs.clusterDefaults.compute.type!='ISILON_BACKEND_STORAGE' && fabricInputs.clusterDefaults.compute.type != 'UNITY_STORAGE')  && fabricInputs.type!='NVMeTCPSupport' && fabricInputs.clusterDefaults.compute.type != 'HCI_VSANREADY'&& fabricInputs.clusterDefaults[defaultKey].type != 'HCI_NSX_VXRAIL'\"> <div class=\"col-sm-5\"> <input tabindex=\"0\" type=\"checkbox\" name=\"fdc_allow_single_rack_deployment\" ng-model=\"fabricInputs.enableSingleRackDeployment\" id=\"fdc_allow_single_rack_deployment\"> <label class=\"notes\" for=\"fdc_allow_single_rack_deployment\" id=\"fdc_allow_single_rack_deployment\" title=\"{{'fabricInput.enableSingleRackDeploymentText'| translate}}\">{{'fabricInput.enableSingleRackDeploymentText'| translate}}</label> </div> </div> <div class=\"row v-space20\" ng-show=\"fabricInputs.clusterDefaults.compute.type=='ISILON_BACKEND_STORAGE'\"> <div class=\"col-sm-5\"> <input tabindex=\"0\" type=\"checkbox\" name=\"fdc_enable_leaf_and_spine\" ng-model=\"fabricInputs.enableLeafSpine\" id=\"fdc_enable_leaf_and_spine\"> <label class=\"notes\" for=\"fdc_enable_leaf_and_spine\" id=\"fdc_enable_leaf_and_spine\" title=\"{{'fabricInput.enableLeafSpine'| translate}}\">{{'fabricInput.enableLeafSpineOption'| translate}}</label> </div> </div> <div class=\"row v-space20\"> <div class=\"col-sm-8\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button tabindex=\"0\" aria-label=\"Add new cluster\" type=\"button\" class=\"btn btn-link\" ng-click=\"openClusterModal(defaultVal, defaultKey)\" name=\"fdc_add_cluster{{defaultKey}}\" id=\"fdc_add_cluster\" ng-disabled=\"(defaultKey == 'management' && fabricInputs.clusterInputs[defaultKey].length)||(defaultKey == 'edge' && fabricInputs.clusterInputs[defaultKey].length)\"> <span class=\"glyphicon glyphicon-plus\"></span> {{'general.add' | translate}}</button> </li> <li> <button tabindex=\"0\" aria-label=\"Delete cluster\" role=\"dialog\" aria-modal=\"true\" type=\"button\" class=\"btn btn-link\" ng-click=\"delete(defaultVal, defaultKey)\" name=\"fdc_delete_cluster{{defaultKey}}\" ng-disabled=\"!fabricInputs.clusterInputs[defaultKey].length\"> <span class=\"glyphicon glyphicon-trash\"></span> {{'general.delete' | translate}}</button> </li> </ul> </div> <div class=\"col-sm-2 col-sm-push-2 text-right\" ng-if=\"fabricInputs.clusterDefaults[defaultKey].type!='ISILON_BACKEND_STORAGE'\"> <label style=\"margin-top:5px\"> <strong>{{fabricInputs.clusterInputs[defaultKey].length}}</strong> {{'fabricInput.clustersAvailable' | translate}}</label> </div> <div class=\"col-sm-2 col-sm-push-2 text-right\" ng-if=\"fabricInputs.clusterDefaults[defaultKey].type=='ISILON_BACKEND_STORAGE'\"> <label style=\"margin-top:5px\"> <strong>{{fabricInputs.clusterInputs[defaultKey].length}}</strong> {{'fabricInput.nodepoolAvailable' | translate}}</label> </div> </div> <div class=\"row\"> <div class=\"col-sm-12 table-responsive\"> <table class=\"table table-striped table-condensed table-hover table-bordered\" id=\"clusterTable\"> <thead> <tr> <th> <input tabindex=\"0\" type=\"checkbox\" ng-model=\"defaultVal.isAllSelected\" ng-click=\"toggleAll(defaultVal, defaultKey)\" name=\"fdc_select_all_cluster{{defaultKey}}\" id=\"fdcSelecteAll{{defaultKey}}\" ng-disabled=\"!fabricInputs.clusterInputs[defaultKey].length\"> <label for=\"fdcSelecteAll{{defaultKey}}\" id=\"fdc_SelecteAll{{defaultKey}}\"></label> </th> <th>{{'general.name' | translate}}</th> <th>{{'general.model' | translate}}</th> <th ng-if=\"fabricInputs.clusterDefaults.compute.type != 'POWERSTORE_STORAGE'\">{{'fabricInput.noOfNode' | translate}}</th> <th ng-if=\"fabricInputs.clusterDefaults.compute.type != 'POWERSTORE_STORAGE'\">{{'fabricInput.maxNodes' | translate}}</th> <th ng-if=\"fabricInputs.clusterDefaults.compute.type == 'POWERSTORE_STORAGE'\">{{'fabricInput.noofappliance' | translate}}</th> <th ng-if=\"fabricInputs.clusterDefaults.compute.type == 'POWERSTORE_STORAGE'\">{{'fabricInput.maxappliance' | translate}}</th> <!--<th *ngIf=\"(fabricInputs.clusterDefaults.compute.type != 'POWERSTORE_STORAGE'); else elseBlock\">{{'fabricInput.noOfNode' | translate}}</th>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t<th> <ng-template #elseBlock>{{'fabricInput.noofappliance' | translate}}</ng-template></th>--> <th ng-if=\"fabricInputs.clusterDefaults.compute.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL')\">{{'fabricInput.clusterType' | translate}}</th> <th>{{'general.actions' | translate}}</th> </tr> </thead> <tbody ng-show=\"fabricInputs.clusterInputs[defaultKey].length > 0\"> <tr ng-repeat=\"row in fabricInputs.clusterInputs[defaultKey]\"> <td name=\"{{defaultKey}}checkbox{{$index}}\"> <input tabindex=\"0\" type=\"checkbox\" ng-model=\"row.isSelected\" ng-change=\"optionToggled(defaultVal, defaultKey)\" name=\"{{defaultKey}}fdc_select_cluster{{$index}}\" id=\"{{defaultKey}}fdcSelect{{$index}}\"> <label for=\"{{defaultKey}}fdcSelect{{$index}}\" id=\"{{defaultKey}}fdc_Select{{$index}}\"></label> </td> <td name=\"{{defaultKey}}clusterInputName{{$index}}\">{{row.name}}</td> <td name=\"{{defaultKey}}clusterModel{{$index}}\">{{row.applianceInfo.displayName}}</td> <td name=\"{{defaultKey}}currentNodes{{$index}}\">{{row.currentNodes}}</td> <td name=\"{{defaultKey}}futureNodes{{$index}}\">{{row.futureNodes}}</td> <td name=\"{{defaultKey}}clusterType{{$index}}\" ng-if=\"fabricInputs.clusterDefaults.compute.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL')\">{{row.clusterSubType}}</td> <td name=\"{{defaultKey}}editButton{{$index}}\"> <button tabindex=\"0\" type=\"button\" aria-label=\"Edit cluster {{$index}}\" class=\"btn btn-link\" ng-click=\"edit($index, defaultVal, defaultKey)\" name=\"{{defaultKey}}fdc_edit_cluster{{$index}}\"> <span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button> </td> </tr> </tbody> <tbody tbody ng-show=\"fabricInputs.clusterInputs[defaultKey].length == 0\"> <tr> <!--td ng-if=\"fabricInputs.clusterDefaults.compute.type != 'HCI_VSANREADY'\" colspan=\"6\" class=\"text-center\">{{'general.noDataAvailable'\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t| translate}}!</td--> <td colspan=\"{{fabricInputs.clusterDefaults.compute.type == 'HCI_VSANREADY' ? '7' : '6'}}\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> </div> </div> </div> <!--div class=\"row\">\r" +
    "\n" +
    "\t\t\t\t\t\t<div class=\"col-sm-10 col-sm-push-1\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t<hr />\r" +
    "\n" +
    "\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t</div--> <div class=\"row\"> <div class=\"col-sm-12\"> <button role=\"link\" tabindex=\"0\" aria-label=\"Navigate to Fabric Output\" type=\"primary\" class=\"dlcui-button dlcui-primary pull-right\" name=\"getRecommendation\" ng-click=\"getRecommendation()\" ng-keypress=\"getRecommendation()\">{{'general.next' | translate}} >></button> <!--dlcui-button tabindex=\"20\" type=\"primary\" name=\"getRecommendation\" ng-click=\"getRecommendation()\" ng-keypress=\"getRecommendation()\" class=\"pull-right\">{{'general.next'\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t| translate}} >></dlcui-button--> </div> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/mxchassis/chassis/clusterChassisTmpl.html',
    "<div> <div class=\"row\"> <div class=\"col-sm-2\" ng-if=\"fabricArchitectureType!='Full Switch Mode'\"> <label for=\"fdc_cluster_name\">MX Fabric Name</label> </div> <div class=\"col-sm-2\" ng-if=\"fabricArchitectureType=='Full Switch Mode'\"> <label for=\"fdc_cluster_name\">MX Chassis Name</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_name.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"chassisinput.name\" id=\"fdc_cluster_name\" name=\"fdc_cluster_name\" required validation-directive uib-tooltip=\"\" ng-minlength=\"2\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+[_-]?[A-Za-z0-9]+$/\" pattern-msg=\"Allowed any one occurence of special char either '_' or '-' \"> </div> <div class=\"col-sm-2\"> <label for=\"fdc_cluster_noofchassis\">No Of Chassis</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_noofchassis.$invalid}\"> <input type=\"number\" ng-if=\"fabricArchitectureType!='Full Switch Mode'\" class=\"form-control\" ng-model=\"chassisinput.numberOfChassis\" name=\"fdc_cluster_noofchassis\" id=\"fdc_cluster_noofchassis\" required min=\"2\" max=\"10\" integer validation-directive uib-tooltip=\"\" ng-disabled=\"where=='SERVEREDIT'?true:false\"> <input type=\"number\" ng-if=\"fabricArchitectureType=='Full Switch Mode'\" class=\"form-control\" ng-model=\"chassisinput.numberOfChassis\" name=\"fdc_cluster_noofchassis\" id=\"fdc_cluster_noofchassis\" required min=\"1\" max=\"10\" integer validation-directive uib-tooltip=\"\" ng-disabled=\"true\"> </div> </div> <div class=\"row\"></div> <fieldset> <legend><label style=\"font-size:13px\">Network Fabrics</label></legend> <div class=\"row\"> <div class=\"col-sm-1\"> <legend><label for=\"fdc_configureFCoE_FabricA_networkfabric\"></label></legend> </div> <div class=\"col-sm-4\"> <legend><input ng-disabled=\"where=='SERVEREDIT'?true:true\" type=\"checkbox\" class=\"form-control\" title=\"{{chassisinput.configure_fabricA}}\" ng-model=\"chassisinput.configure_fabricA\" name=\"fdc_configure_FabricA_networkfabric\" id=\"fdc_configure_FabricA_networkfabric\"><label for=\"fdc_configure_FabricA_networkfabric\"> Fabric-A</label></legend> </div> <div class=\"col-sm-push-2 col-sm-4\"> <input type=\"checkbox\" class=\"form-control\" title=\"{{chassisinput.configure_fabricB}}\" ng-model=\"chassisinput.configure_fabricB\" name=\"fdc_configure_FabricA_networkfabric\" id=\"fdc_configure_FabricB_networkfabric\"><label for=\"fdc_configure_FabricB_networkfabric\"> Fabric-B</label> </div> </div> <div class=\"row\"> <div class=\"col-sm-push-1 col-sm-4\"> <!--select class=\"form-control\" ng-model=\"chassisinput.configure_fcoe_fabricA\" name=\"fdc_configureFCoE_FabricA_networkfabric\" ng-options=\"item.value as item.name for item in chassisinput.selectConfigureOptions\"\r" +
    "\n" +
    "                            title=\"{{inputModel.configure_fcoe_fabricA }}\" required validation-directive uib-tooltip=\"\">\r" +
    "\n" +
    "                        </select--> <input ng-disabled=\"where=='SERVEREDIT'?true:fabricArchitectureType=='Full Switch Mode'?true:false\" type=\"checkbox\" class=\"form-control\" title=\"{{chassisinput.configure_fcoe_fabricA}}\" ng-model=\"chassisinput.configure_fcoe_fabricA\" name=\"fdc_configureFCoE_FabricA_networkfabric\" id=\"fdc_configureFCoE_FabricA_networkfabric\"><label for=\"fdc_configureFCoE_FabricA_networkfabric\"> FC/FCoE on Fabric-A</label> </div> <div class=\"col-sm-push-3 col-sm-4\"> <!--select class=\"form-control\" ng-model=\"chassisinput.configure_fcoe_fabricA\" name=\"fdc_configureFCoE_FabricA_networkfabric\" ng-options=\"item.value as item.name for item in chassisinput.selectConfigureOptions\"\r" +
    "\n" +
    "                    title=\"{{inputModel.configure_fcoe_fabricA }}\" required validation-directive uib-tooltip=\"\">\r" +
    "\n" +
    "                </select--> <input ng-disabled=\"where=='SERVEREDIT'?true:fabricArchitectureType=='Full Switch Mode'?true:false || chassisinput.configure_fabricB==false\" type=\"checkbox\" class=\"form-control\" title=\"{{chassisinput.configure_fcoe_fabricB}}\" ng-model=\"chassisinput.configure_fcoe_fabricB\" name=\"fdc_configureFCoE_FabricA_networkfabric\" id=\"fdc_configureFCoE_FabricB_networkfabric\"><label for=\"fdc_configureFCoE_FabricB_networkfabric\"> FC/FCoE on Fabric-B</label> </div> </div> </fieldset> <div class=\"row\"> </div> <!--div class=\"row\">\r" +
    "\n" +
    "            <div class=\"col-sm-push-2 col-sm-4\">\r" +
    "\n" +
    "                     <div ng-if=\"chassisinput.configure_fabricA==true&&chassisinput.configure_fcoe_fabricA==true\">                   \r" +
    "\n" +
    "                           <div class=\"pull-left text-center\" style=\"width:40%\" ng-class=\"{'has-error' : clusterForm.fdc_upLinkInfo_count.$dirty && clusterForm.fdc_upLinkInfo_count.$invalid}\">\r" +
    "\n" +
    "                                <label>Fcoe bandwidth</label>\r" +
    "\n" +
    "                            </div>\r" +
    "\n" +
    "                            <div  style=\"width:50%\" class=\"pull-left mar-right-fix\" ng-class=\"{'has-error' :clusterForm.fdc_upLinkInfo_bandwidth.$dirty && clusterForm.fdc_upLinkInfo_bandwidth.$invalid}\">\r" +
    "\n" +
    "                                <div class=\"input-group\">\r" +
    "\n" +
    "                                            <select ng-disabled=\"where=='SERVEREDIT'?true:false\" class=\"custom-select form-control\" ng-model=\"chassisinput.fcoe_bandwidth_fabricA.bandwidth\" name=\"fdc_upLinkInfo_bandwidth\" ng-options=\"item as item for item in chassisinput.fcoeBandwidths.bandwidth\"\r" +
    "\n" +
    "                                                title=\"{{ chassisinput.fcoe_bandwidth_fabricA.bandwidth }}\"  required validation-directive uib-tooltip=\"\" id=\"fcoeFabricABandwidthOptions\">\r" +
    "\n" +
    "                                            </select>\r" +
    "\n" +
    "                                            <div class=\"input-group-addon\">\r" +
    "\n" +
    "                                                <strong>Gbps</strong>\r" +
    "\n" +
    "                                            </div>\r" +
    "\n" +
    "                                </div>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                       </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"col-sm-push-4 col-sm-4\">\r" +
    "\n" +
    "                     <div ng-if=\"chassisinput.configure_fabricB==true&&chassisinput.configure_fcoe_fabricB==true\">                   \r" +
    "\n" +
    "                           <div class=\"pull-left text-center\" style=\"width:40%\" ng-class=\"{'has-error' : clusterForm.fdc_upLinkInfo_count.$dirty && clusterForm.fdc_upLinkInfo_count.$invalid}\">\r" +
    "\n" +
    "                                 <label>Fcoe bandwidth</label>\r" +
    "\n" +
    "                            </div>\r" +
    "\n" +
    "                            <div  style=\"width:50%\" class=\"pull-left mar-right-fix\" ng-class=\"{'has-error' :clusterForm.fdc_upLinkInfo_bandwidth.$dirty && clusterForm.fdc_upLinkInfo_bandwidth.$invalid}\">\r" +
    "\n" +
    "                               <div class=\"input-group\">\r" +
    "\n" +
    "                                        <select ng-disabled=\"where=='SERVEREDIT'?true:false\" class=\"custom-select form-control\" ng-model=\"chassisinput.fcoe_bandwidth_fabricB.bandwidth\" name=\"fdc_upLinkInfo_bandwidth\" ng-options=\"item as item for item in chassisinput.fcoeBandwidths.bandwidth\"\r" +
    "\n" +
    "                                            title=\"{{ chassisinput.fcoe_bandwidth_fabricB.bandwidth }}\"  required validation-directive uib-tooltip=\"\" id=\"fcoeFabricABandwidthOptions\">\r" +
    "\n" +
    "                                        </select>\r" +
    "\n" +
    "                                        <div class=\"input-group-addon\">\r" +
    "\n" +
    "                                            <strong>Gbps</strong>\r" +
    "\n" +
    "                                        </div>\r" +
    "\n" +
    "                                </div>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                 </div>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        \r" +
    "\n" +
    "    </div--> </div>"
  );


  $templateCache.put('fabric/design/input/mxchassis/chassisActions/chassisActions.html',
    "<menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"0\" aria-describedby=\"Ok\" ng-click=\"where=='SERVEREDIT'?updateCluster(true):addCluster()\" ng-keypress=\"where=='SERVEREDIT'?updateCluster(true):addCluster()\" name=\"fdc_cluster_input_ok\" role=\"status\" ng-disabled=\"clusterAdd\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"0\" aria-describedby=\"Cancel\" ng-click=\"modal.dismiss()\" ng-keypress=\"modal.dismiss()\" name=\"fdc_cluster_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu>"
  );


  $templateCache.put('fabric/design/input/mxchassis/link/linkTmpl.html',
    "<div> <div class=\"row cux-dialog__header\"> <div class=\"col-sm-6\"> <h4><strong>Fabric Uplinks</strong><span style=\"width: 150px;font-size:13px\"> <strong ng-if=\"fabricArchitectureType!='Full Switch Mode'\"> (per Mx9116)</strong> <strong ng-if=\"fabricArchitectureType=='Full Switch Mode'\"> (per Mx5108)</strong> </span></h4> </div> <div class=\"col-sm-2\"> <h4><strong><span style=\"width: 150px;font-size:15px\"><label for=\"fdc_deviceType\">Leaf Switch</label></span></strong></h4> </div> <div class=\"col-sm-3\"> <select class=\"custom-select form-control\" ng-model=\"chassisinput.deviceType\" name=\"fdc_deviceType\" id=\"fdc_deviceType\" ng-options=\"item as item for item in chassisinput.supported_switches\" title=\"{{ chassisinput.deviceType }}\" ng-disabled=\"where=='SERVEREDIT'?true:where=='ADD_IN'?true:false\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-2\"> </div> <div class=\"col-sm-5 text-right\"> <label>Uplink Bandwidth</label> </div> <!--div class=\"col-sm-5 text-center\">\r" +
    "\n" +
    "        <label>LAG Mode</label>\r" +
    "\n" +
    "    </div--> </div> <div ng-repeat=\"uplink in chassisinput.chassisfabricInfos\"> <div class=\"row\" ng-repeat=\"uplinkInfos in uplink.uplinkInfos\"> <div class=\"col-sm-1\"></div> <div class=\"col-sm-4\"> <label for=\"{{uplinkInfos.name}}\">{{uplinkInfos.name}}</label> </div> <div class=\"col-sm-7\"> <div class=\"col-sm-3 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_upLinkInfo_count{{$parent.$index}}{{$index}}.$dirty && clusterForm.fdc_upLinkInfo_count{{$parent.$index}}{{$index}}.$invalid}\"> <select ng-if=\"uplinkInfos.linkInputType=='Ethernet'\" ng-disabled=\"where=='SERVEREDIT'?true:fabricArchitectureType=='Full Switch Mode'?true:false\" class=\"custom-select form-control\" ng-model=\"uplinkInfos.count\" name=\"fdc_upLinkInfo_count\" ng-options=\"item as item for item in chassisinput.uplink_bw_count[chassisinput.bw_index[$parent.$parent.$index]]\" title=\"{{ uplinkInfos.count }}\" required validation-directive uib-tooltip=\"\" id=\"{{uplinkInfos.name}}\"> </select> <select ng-if=\"uplinkInfos.linkInputType=='FCOE'\" ng-disabled=\"where=='SERVEREDIT'?true:false\" class=\"custom-select form-control\" ng-model=\"uplinkInfos.count\" name=\"fdc_upLinkInfo_count\" ng-options=\"item as item for item in chassisinput.fcoeBandwidths.count\" title=\"{{ uplinkInfos.count }}\" required validation-directive uib-tooltip=\"\" id=\"{{uplinkInfos.name}}\"> </select> </div> <div class=\"col-sm-1 pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-4 mar-right-fix\" ng-class=\"{'has-error' :clusterForm.fdc_upLinkInfo_bandwidth.$dirty && clusterForm.fdc_upLinkInfo_bandwidth.$invalid}\"> <div class=\"input-group\"> <select ng-if=\"uplinkInfos.linkInputType=='Ethernet'\" ng-disabled=\"where=='SERVEREDIT'?true:false\" class=\"custom-select form-control\" name=\"fdc_upLinkInfo_bandwidth\" ng-model=\"uplinkInfos.bandwidth\" ng-options=\"item as item for item in chassisinput.uplink_bws  | filter:bandwidthfilter\" ng-change=\"storeindex($parent.$parent.$index,uplinkInfos.bandwidth)\" title=\"{{ uplinkInfos.bandwidth }}\" required validation-directive uib-tooltip=\"\" id=\"uplinkBandwidthOptions\"> </select> <select ng-if=\"uplinkInfos.linkInputType=='FCOE'\" ng-disabled=\"where=='SERVEREDIT'?true:false\" class=\"custom-select form-control\" ng-model=\"uplinkInfos.bandwidth\" name=\"fdc_upLinkInfo_bandwidth\" ng-options=\"item as item for item in chassisinput.fcoeBandwidths.bandwidth\" title=\"{{ uplinkInfos.bandwidth }}\" required validation-directive uib-tooltip=\"\" id=\"uplinkBandwidthOptions\"> </select> <div class=\"input-group-addon\"> <strong>GB</strong> </div> </div> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/mxchassis/vlan/mxvlanBuilderTmpl.html',
    "<div> <div class=\"row cux-dialog__header\"> <div class=\"col-sm-4\"> <h4>{{'fabricOutput.vlanInformation' | translate}}</h4> </div> </div> <div class=\"row\"> <div class=\"col-sm-push-2 col-sm-1 custompadding text-center\"> <label>{{'general.ID' | translate}}</label> </div> <div class=\"col-sm-push-2 col-sm-3 custompadding text-center\"> <label>{{'general.name' | translate}}</label> </div> <div class=\"col-sm-push-2 custompadding col-sm-2\"> <label>Uplink</label> </div> <div class=\"col-sm-push-2 col-sm-2 custompadding text-center\"> <label>Network Types</label> </div> </div> <div ng-repeat=\"(vlankey, vlan) in vlanList\"> <div ng-if=\"(!isArray(vlan))&& vlan\" class=\"row\"> <div class=\"col-sm-2 custompadding\"> <label for=\"fdc_cluster_{{vlankey}}_name\" ng-if=\"vlankey=='mgmt'\">Native VLAN</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='pvtMgmt'\">{{'fabricInput.pvtMgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='vSan'\">{{'fabricInput.vSanVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='vMotion'\">{{'fabricInput.vMotionVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmMgmt'\">{{'fabricInput.svmMgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData1'\">{{'fabricInput.svmData1Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData2'\">{{'fabricInput.svmData2Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='fault1'\">{{'fabricInput.fault1' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='fault2'\">{{'fabricInput.fault2' | translate}}</label> </div> <div class=\"col-sm-1 custompadding\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_vlanId.$invalid}\"> <input type=\"number\" to-number integer min=\"1\" max=\"4096\" class=\"form-control\" ng-model=\"vlan.vlanId\" name=\"fdc_cluster_{{vlankey}}_vlanId\" id=\"fdc_cluster_{{vlankey}}_vlanId\" required validation-directive uib-tooltip=\"\" ng-disabled=\"vlankey=='pvtMgmt'||vlan.vlan_type=='native'\"> </div> <div class=\"col-sm-3 custompadding\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_name.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"vlan.name\" name=\"fdc_cluster_{{vlankey}}_name\" id=\"fdc_cluster_{{vlankey}}_name\" required validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-2 custompadding\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_{{$index}}.$dirty && clusterForm.fdc_cluster_{{vlankey}}_{{$index}}.$invalid}\"> <!--select class=\"form-control\" ng-model=\"vlan.associatedChassisUplinks[0]\" name=\"fdc_cluster_{{vlankey}}_{{$index}}\" ng-options=\"item.name as item.name for item in uplinkbondList\"\r" +
    "\n" +
    "                    title=\"{{ vlanList.associatedChassisUplinks[0] }}\" required validation-directive uib-tooltip=\"\">\r" +
    "\n" +
    "                </select--> <div style=\"width:77%\" ng-dropdown-multiselect=\"\" ng-model=\"vlan.associatedChassisUplinks_list\" options=\"uplinkbondList\" selected-model=\"vlan.associatedChassisUplinks_list\" extra-settings=\"nicSelectSettings\" name=\"fdc_cluster_{{vlankey}}_{{$index}}\" ng-dropdown-required uib-tooltip=\"\" title=\"{{vlan.associatedChassisUplinks_list.length}} Uplinks selected\"> </div> </div> <div class=\"col-sm-3 custompadding\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_networktype.$dirty && fdc_cluster_{{vlankey}}__networktype.$invalid}\"> <div class=\"col-sm-11 custompadding\"> <span ng-hide=\"true\">{{vlan.network_type=vlan.networktype.id}}</span> <select style=\"width:97%\" class=\"form-control\" ng-model=\"vlan.networktype\" name=\"fdc_cluster_{{vlankey}}__networktype\" ng-options=\"item as item.name for item in chassisinput.networkTypes track by item.id \" title=\"{{ vlan.networktype.description }}\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> </div> <div ng-if=\"(isArray(vlan))&& vlan.length>0\" class=\"row\" ng-repeat=\"vmnetworkvlan in vlan\"> <div class=\"col-sm-2 custompadding\"> <!--label ng-if=\"$index == 0\">{{'fabricInput.vmNetworks' | translate}}</label--> <label for=\"fdc_cluster_{{vlankey}}_vlanId_{{$index}}\" ng-if=\"$index == 0\">Workload VLAN</label> </div> <div class=\"col-sm-1 custompadding\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_vlanId_{{$index}}.$invalid}\"> <input type=\"number\" to-number integer min=\"1\" max=\"4096\" class=\"form-control\" ng-model=\"vmnetworkvlan.vlanId\" required validation-directive uib-tooltip=\"\" name=\"fdc_cluster_{{vlankey}}_vlanId_{{$index}}\" id=\"fdc_cluster_{{vlankey}}_vlanId_{{$index}}\"> </div> <div class=\"col-sm-3 custompadding\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_name_{{$index}}.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"vmnetworkvlan.name\" required validation-directive uib-tooltip=\"\" name=\"fdc_cluster_{{vlankey}}_name_{{$index}}\"> </div> <div class=\"col-sm-2 custompadding\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_{{$index}}.$dirty && clusterForm.fdc_cluster_{{vlankey}}_{{$index}}.$invalid}\"> <!--select class=\"form-control\" ng-model=\"vmnetworkvlan.associatedChassisUplinks[0]\" name=\"fdc_cluster_{{vlankey}}_{{$index}}\" ng-options=\"item.name as item.name for item in uplinkbondList\"\r" +
    "\n" +
    "                    title=\"{{ vlanList.associatedChassisUplinks[0] }}\" required validation-directive uib-tooltip=\"\">\r" +
    "\n" +
    "                </select--> <div style=\"width:77%\" ng-dropdown-multiselect=\"\" ng-model=\"vmnetworkvlan.associatedChassisUplinks_list\" options=\"uplinkbondList\" selected-model=\"vmnetworkvlan.associatedChassisUplinks_list\" extra-settings=\"nicSelectSettings\" name=\"fdc_cluster_{{vlankey}}_{{$index}}\" ng-dropdown-required uib-tooltip=\"\" title=\"{{vmvlan.associatedChassisUplinks_list.length}} Uplinks selected\"> </div> </div> <div class=\"col-sm-4 custompadding\"> <div class=\"col-sm-8 custompadding\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_networktype.$dirty && fdc_cluster_{{vlankey}}__networktype.$invalid}\"> <span ng-hide=\"true\">{{vmnetworkvlan.network_type=vmnetworkvlan.networktype.id}}</span> <select class=\"form-control\" ng-model=\"vmnetworkvlan.networktype\" name=\"fdc_cluster_{{vlankey}}__networktype\" ng-options=\"item as item.name for item in chassisinput.networkTypes track by item.id\" title=\"{{vmnetworkvlan.networktype.description}}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-4 custompadding\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\" style=\"padding:0\"> <button type=\"button\" class=\"btn btn-link\" aria-label=\"Add Guest Vlan\" ng-click=\"addGuestVlan()\" name=\"fdc_vlan_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li style=\"padding:0\"> <button type=\"button\" class=\"btn btn-link\" aria-label=\"Remove Guest Vlan\" ng-click=\"removeGuestVlan($index)\" name=\"fdc_vlan_remove{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> </div> </div> </div> <div ng-if=\"(isArray(vlan))&& vlan.length==0\" class=\"row\"> <div class=\"col-sm-2 custompadding\"> <label>Workload VLAN</label> </div> <div class=\"col-sm-9 custompadding\"> <p style=\"width:96%\" class=\"well well-box text-muted text-center\">Add Workload VLANs as required.</p> </div> <div class=\"col-sm-1 custompadding\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\"> <button type=\"button\" class=\"btn btn-link\" aria-label=\"Add Guest Vlan\" ng-click=\"addGuestVlan()\" name=\"fdc_vlan_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> </ul> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/mxfabricInput.html',
    "<div class=\"container-fluid fabric-input-sec\"> <div class=\"row\"> <div class=\"col-sm-11\"> </div> <div tabindex=\"0\" class=\"col-sm-1\"> <help-directive help-index=\"home\" aria-label=\"MX Help Document\" solution=\"{{help.solution}}\"></help-directive> </div> </div> <div class=\"panel panel-default\"> <div class=\"panel-body\"> <div class=\"row v-space20\"> <div class=\"col-sm-12\"> <div class=\"row\"> <form name=\"fdc_fabric_form\" novalidate> <div class=\"col-sm-4\"> <label for=\"fdc_network_fabric_name\" class=\"content-title\">{{'fabricInput.networkName' | translate}}</label> <label aria-label=\"Required\">*</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : fdc_fabric_form.fdc_network_fabric_name.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" id=\"fdc_network_fabric_name\" name=\"fdc_network_fabric_name\" ng-model=\"fabricInputs.name\" required ng-minlength=\"0\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+[-]?[A-Za-z0-9]+$/\" pattern-msg=\"Fabric Name must start and end with alphanumeric character ranging from 2-16 characters and contains atmost one special character\" validation-directive uib-tooltip=\"\"> </div> </form> <div class=\"col-sm-5\"> <span uib-dropdown class=\"pull-right\" ng-if=\"help.ref[help.solution].length\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" id=\"simple-dropdown\" uib-dropdown-toggle> <span class=\"glyphicon glyphicon-book\"></span> <strong>Reference Documents</strong> </button> <ul class=\"dropdown-menu referenc-architecture\" uib-dropdown-menu aria-labelledby=\"simple-dropdown\"> <li ng-repeat=\"ref in help.ref[help.solution]\"> <help-directive aria-label=\"Help Document\" ref=\"{{ref.link}}\" label=\"{{ref.label}}\"></help-directive> </li> </ul> </span> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\"> <label for=\"mxfabrictype\" class=\"content-title\">{{'fabricInput.mxfabrics.fabricsArch' | translate}}</label> </div> <div class=\"col-sm-3\"> <select tabindex=\"0\" class=\"form-control\" ng-model=\"fabricInputs.fabricArchitectureType\" ng-options=\"item as item for item in fabricInputs.mxfabrictype.fabriclist|filter:item='!ScalableFabric without SmartFabric Mode'\" id=\"mxfabrictype\" name=\"mxfabrictype\" ng-disabled=\"true\"> </select> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <div class=\"row v-space20\"> <div class=\"col-sm-5\"> <div class=\"content-title cluster-details-title\"> <span>{{'fabricInput.mxfabrics.fabrictype'| translate}} </span> </div> </div> </div> </div> <div class=\"col-sm-12\"> <div class=\"row v-space20\"> <div class=\"col-sm-5\"> <input tabindex=\"0\" type=\"checkbox\" name=\"fdc_allow_single_pod_deployment\" ng-model=\"fabricInputs.enableSinglePodDeployment\" id=\"fdc_allow_single_pod_deployment\"> <label class=\"notes\" for=\"fdc_allow_single_pod_deployment\" id=\"fdc_allow_single_pod_deployment\" title=\"{{'fabricInput.enableSinglePodDeploymentText'| translate}}\">{{'fabricInput.enableSinglePodDeploymentText'| translate}}</label> </div> </div> <div class=\"row v-space20\"> <div class=\"col-sm-8\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" id=\"fdc_add_scalable_fabric\" ng-click=\"openClusterChassisModal(fabricInputs.clusterChassisDefaults, fabricInputs.clusterChassisDefaults['clusterType'])\" name=\"fdc_add_cluster{{defaultKey}}\"> <span class=\"glyphicon glyphicon-plus\"></span> {{'general.add' | translate}}</button> </li> <li> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"delete(defaultVal, defaultKey)\" name=\"fdc_delete_cluster{{defaultKey}}\"> <span class=\"glyphicon glyphicon-trash\"></span> {{'general.delete' | translate}}</button> </li> </ul> </div> <div class=\"col-sm-2 col-sm-push-2 text-right\"> <label style=\"margin-top:5px\"> <strong>{{fabricInputs.mxFabricClusterInputs.length}}</strong> {{'fabricInput.mxfabrics.fabricsAvailable' | translate}}</label> </div> </div> <div class=\"row\"> <div class=\"col-sm-12 table-responsive\"> <table class=\"table table-striped table-condensed table-hover table-bordered\" id=\"clusterChassisTable\"> <thead> <tr> <th> <input tabindex=\"0\" type=\"checkbox\" ng-model=\"allItems.isAllSelected\" ng-click=\"toggleAll()\" name=\"fdc_select_all_cluster{{defaultKey}}\" id=\"fdcSelecteAll{{defaultKey}}\" ng-disabled=\"!fabricInputs.mxFabricClusterInputs.length\"> <label for=\"fdcSelecteAll{{defaultKey}}\" id=\"fdc_SelecteAll{{defaultKey}}\"></label> </th> <th ng-if=\"fabricInputs.fabricArchitectureType=='ScalableFabric with SmartFabric Mode'\">{{'fabricInput.mxfabrics.fabricsno' | translate}}</th> <th ng-if=\"fabricInputs.fabricArchitectureType=='Full Switch Mode'\">{{'fabricInput.mxfabrics.chassisno' | translate}}</th> <th ng-if=\"fabricInputs.fabricArchitectureType=='ScalableFabric with SmartFabric Mode'\">{{'fabricInput.mxfabrics.fabricsname' | translate}}</th> <th ng-if=\"fabricInputs.fabricArchitectureType=='Full Switch Mode'\">{{'fabricInput.mxfabrics.chassisname' | translate}}</th> <th>{{'fabricInput.mxfabrics.fabricA' | translate}}</th> <th>{{'fabricInput.mxfabrics.fabricB' | translate}}</th> <th>{{'fabricInput.mxfabrics.fcoe_fabricA' |translate}}</th> <th>{{'fabricInput.mxfabrics.fcoe_fabricB' | translate}}</th> <th>{{'fabricInput.mxfabrics.noOfChassis' |translate}}</th> <th>{{'general.actions' | translate}}</th> </tr> </thead> <tbody ng-show=\"fabricInputs.mxFabricClusterInputs.length>0\" ng-repeat=\"row in fabricInputs.mxFabricClusterInputs\"> <tr> <td name=\"{{defaultKey}}checkbox{{$index}}\"> <input tabindex=\"0\" type=\"checkbox\" ng-model=\"row.isSelected\" ng-change=\"optionToggled(row)\" name=\"{{defaultKey}}fdc_select_cluster{{$index}}\" id=\"{{defaultKey}}fdcSelect{{$index}}\"> <label for=\"{{defaultKey}}fdcSelect{{$index}}\" id=\"{{defaultKey}}fdc_Select{{$index}}\"></label> </td> <td name=\"{{defaultKey}}fabricsno{{$index}}\">{{$index+1}}</td> <td name=\"{{defaultKey}}fabricsname{{$index}}\">{{row.name}}</td> <td width=\"10%\" name=\"isFabricA{{$index}}\"> <span ng-if=\"row.configure_fabricA\" class=\"glyphicon glyphicon-ok\" style=\"color:#0076CE\" title=\"{{row.configure_fabricA}}\"></span> <span ng-if=\"!row.configure_fabricA\" class=\"glyphicon glyphicon-remove\" style=\"color:#0076CE\" title=\"{{row.configure_fabricA}}\"></span> </td> <td width=\"10%\" name=\"isFabricB{{$index}}\"> <span ng-if=\"row.configure_fabricB\" class=\"glyphicon glyphicon-ok\" style=\"color:#0076CE\" title=\"{{row.configure_fabricB}}\"></span> <span ng-if=\"!row.configure_fabricB\" class=\"glyphicon glyphicon-remove\" style=\"color:#0076CE\" title=\"{{row.configure_fabricB}}\"></span> </td> <td width=\"10%\" name=\"isFCoEFabricA{{$index}}\"> <span ng-if=\"row.configure_fcoe_fabricA\" class=\"glyphicon glyphicon-ok\" style=\"color:#0076CE\" title=\"{{row.configure_fcoe_fabricA}}\"></span> <span ng-if=\"!row.configure_fcoe_fabricA\" class=\"glyphicon glyphicon-remove\" style=\"color:#0076CE\" title=\"{{row.configure_fcoe_fabricA}}\"></span> </td> <td width=\"10%\" name=\"isFCoEFabricB{{$index}}\"> <span ng-if=\"row.configure_fcoe_fabricB\" class=\"glyphicon glyphicon-ok\" style=\"color:#0076CE\" title=\"{{row.configure_fcoe_fabricB}}\"></span> <span ng-if=\"!row.configure_fcoe_fabricB\" class=\"glyphicon glyphicon-remove\" style=\"color:#0076CE\" title=\"{{row.configure_fcoe_fabricB}}\"></span> </td> <td name=\"{{defaultKey}}noOfChassis{{$index}}\">{{row.numberOfChassis}}</td> <td name=\"{{defaultKey}}editButton{{$index}}\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"edit($index,fabricInputs.clusterChassisDefaults, fabricInputs.clusterChassisDefaults['clusterType'])\" name=\"{{defaultKey}}fdc_edit_cluster{{$index}}\"> <span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button> </td> </tr> </tbody> <tbody ng-show=\"fabricInputs.mxFabricClusterInputs.length==0\"> <tr> <!--td ng-if=\"fabricInputs.clusterChassisDefaults.compute.type != 'HCI_VSANREADY'\" colspan=\"6\" class=\"text-center\">{{'general.noDataAvailable'\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t| translate}}!</td--> <td colspan=\"9\" class=\"text-center\">{{'fabricInput.mxfabrics.noDataAvailable' | translate}}</td> </tr> </tbody> </table> </div> </div> </div> </div> <!--div class=\"row\">\r" +
    "\n" +
    "\t\t\t\t\t\t<div class=\"col-sm-10 col-sm-push-1\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t<hr />\r" +
    "\n" +
    "\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t</div--> <div class=\"row\"> <div class=\"col-sm-12\"> <button role=\"link\" tabindex=\"0\" aria-label=\"Navigate to Fabric Output\" type=\"primary\" class=\"dlcui-button dlcui-primary pull-right\" name=\"getRecommendation\" ng-click=\"getRecommendation()\" ng-keypress=\"getRecommendation()\">{{'general.next' | translate}} >></button> <!--dlcui-button type=\"primary\" name=\"getRecommendation\" ng-click=\"getRecommendation()\" ng-keypress=\"getRecommendation()\" class=\"pull-right\">{{'general.next'\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t| translate}} >></dlcui-button--> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/networkFabric.html',
    "<div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-sm-11\"> <div class=\"section-title\" name=\"fdc_turnkey_network_fabric_page_title\"><h3 style=\"font-weight: 700;font-size: 17px\">{{'general.turnkeyNetworkDesign' | translate}}</h3></div> </div> <div class=\"col-sm-1\"> <help-directive tabindex=\"2\" aria-label=\"Turnkey Network Design Help\" help-index=\"fdc_architectures\"></help-directive> </div> </div> <div class=\"panel panel-default solution-sec\" ng-repeat=\"fabric in items\"> <div class=\"panel-body\"> <div class=\"row fabric-row\"> <div class=\"col-sm-12 fabric-name\"><h4 style=\"font-weight: 700;font-size: 17px\">{{fabric.name}}</h4></div> <div ng-if=\"!list.hide\" class=\"col-sm-3 fabric-content\" ng-repeat=\"(key, list) in fabric.data\" ng-attr-title=\"{{list.disabled ? 'Under Development – Solution will be enabled shortly.':list.label}}\" ng-class=\"{'fabric-content-disabled': list.disabled}\" ng-click=\"list.disabled ? '' : goTo(list)\" name=\"networkFabric{{$index}}\" custom-directive menu=\"fabric.data\" index=\"$index\" list=\"list\" key=\"key\"> <a tabindex=\"2\" name=\"{{list.name}}\" href><img ng-src=\"{{list.img}}\" alt=\"\" pic-load=\"onImgLoad($event)\" class=\"img-responsive col-sm-10 solution-img\"> <span class=\"content-item col-sm-10\">{{list.label}}</span> </a> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/ownNetwork.html',
    "<!DOCTYPE html> <style type=\"text/css\">.content-title label{\r" +
    "\n" +
    "\tfont-size:16px;\r" +
    "\n" +
    "\t}</style> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-sm-8\"> <div class=\"section-title\" name=\"build_your_own_network\"><h3 style=\"font-weight: 700;font-size: 17px\">{{title}}</h3></div> </div> <div class=\"col-sm-4\"> <div class=\"row\"> <div class=\"col-sm-9\"> <span uib-dropdown class=\"pull-right\" ng-if=\"help.ref[help.solution].length\"> <button tabindex=\"3\" type=\"button\" class=\"btn btn-link\" id=\"ref-docs-simple-dropdown\" uib-dropdown-toggle ng-keydown=\"handleKeydown($event, 0)\"> <span class=\"glyphicon glyphicon-book\"></span> <strong>Reference Documents</strong> </button> <ul class=\"dropdown-menu referenc-architecture\" uib-dropdown-menu aria-labelledby=\"ref-docs-simple-dropdown\"> <li ng-repeat=\"ref in help.ref[help.solution]\" style=\"font-size:11px;padding:0px\"> <help-directive aria-label=\"{{title}} Help Document\" ref=\"{{ref.link}}\" label=\"{{ref.label}}\" ng-keydown=\"handleKeydown($event, 0)\"></help-directive> </li> </ul> </span> </div> <div class=\"col-sm-1\"></div> <div class=\"col-sm-1\"> <span class=\"pull-right\"> <button tabindex=\"3\" type=\"button\" class=\"btn btn-link\" id=\"gns3\" uib-dropdown-toggle ng-click=\"gns3()\" ng-keydown=\"handleKeydown($event, 1)\"> <span><img src=\"styles/images/gns3.png\" aria-label=\"On selectiing GNS3, data will be filled automatically\" name=\"GNS3\" alt=\"GNS3\" width=\"30px\" height=\"30px\"></span> </button> </span> </div> <div class=\"col-sm-1 pull-right\"> <help-directive aria-label=\"BYON Help Document\" tabindex=\"3\" id=\"help\" help-index=\"build_your_own_network\" ng-keydown=\"handleKeydown($event, 2)\"></help-directive> </div> </div> </div> </div> <div class=\"row fabric-row\"> <div class=\"col-sm-12\"> <div class=\"panel panel-default solution-sec\"> <div class=\"panel-body\"> <form name=\"networkFabricForm\" class=\"form-horizontal form-spacing content-title cluster-form\" novalidate> <dlcui-content-pane class=\"dlcui-unit dlcui-two-thirds\" dlcui-title=\"Fabric Details\"> <ul ng-show=\"!editfabric\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" role=\"button\" aria-expanded=\"false\" ng-click=\"editfabricFn()\" class=\"btn btn-link\" name=\"fdc_edit_bom\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> <fabric-detail input-model=\"genericFabricInputs.fabricDefaults\"></fabric-detail> <div class=\"row\" ng-show=\"editfabric\"> <div class=\"col-sm-3\" style=\"font-size: 12px\"> <span class=\"notes\" id=\"edit\" aria-labelledby=\"All fields are mandatory\">* All fields are mandatory.</span> </div> <hr> <div class=\"col-sm-9\"></div> <div class=\"col-sm-3\" style=\"text-align: right\"> <dlcui-button tabindex=\"0\" id=\"apply\" aria-labelledby=\"Apply\" type=\"primary\" ng-click=\"generateWorkloadRacks()\" ng-keypress=\"generateWorkloadRacks()\" name=\"fdc_bom_input_ok\">{{'general.apply' | translate}}<div id=\"Fabric Creation Rack edited successfully\" role=\"status\" aria-live=\"polite\"></div></dlcui-button> <dlcui-button tabindex=\"0\" id=\"cancel\" aria-labelledby=\"Cancel\" type=\"danger\" ng-if=\"genericFabricInputs.fabricDefaults.defaultRacksGenerated\" ng-click=\"cancelfabricFn()\" ng-keypress=\"=&quot;cancelfabricFn()&quot;\" name=\"fdc_bom_input_cancel\">{{'DLCUI_CANCEL' | translate}}</dlcui-button> </div> </div> </dlcui-content-pane> <generic-fabric-rack input-model=\"genericFabricInputs.workloadRacks\"></generic-fabric-rack> <div class=\"row\"> <div class=\"col-sm-12\"> <button role=\"link\" aria-label=\"Navigate to Fabric Output\" tabindex=\"0\" type=\"primary\" class=\"dlcui-button dlcui-primary pull-right\" ng-disabled=\"!genericFabricInputs.fabricDefaults.defaultRacksGenerated || editfabric\" name=\"getRecommendation\" ng-click=\"nextButtonOperation()\" ng-keypress=\"nextButtonOperation()\">{{'general.next' | translate}} >></button> <!--dlcui-button tabindex=\"8\" ng-disabled=\"!genericFabricInputs.fabricDefaults.defaultRacksGenerated || editfabric\" type=\"primary\" name=\"getRecommendation\" ng-click=\"nextButtonOperation()\" ng-keypress=\"nextButtonOperation()\" class=\"pull-right\">{{'general.next' | translate}} >></dlcui-button--> </div> </div> </form> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/portValidation.html',
    "<div> <div class=\"modal-header\"> <h3 class=\"modal-title alert alert-warning\" id=\"modal-title\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <strong>Unused Ports</strong> </h3> </div> <div class=\"modal-body\" id=\"modal-body\"> <p> The appliance have <strong>{{portCount}}</strong> extra ports that have are not being considered in the design.<br><br> To include all the appliance ports when selecting the ToR Switch, please add additional bonds with the unused ports.<br> </p> <p><strong>Do you want to proceed with selected ports only?</strong></p> </div> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" ng-click=\"portValidationCluster()\" name=\"warningOk\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"resumecluster()\" ng-keypress=\"resumecluster()\" name=\"warningCancel\">{{'general.cancel' | translate}}</dlcui-button> </div> "
  );


  $templateCache.put('fabric/design/input/rack/addRackOnFabric.html',
    "<div> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"modal-title\"> <div class=\"alert alert-warning\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <strong>Warning!</strong> </div> </h3> <span> <strong> {{fabricRackAddErrorModel.message}}.</strong> </span> </div> <div class=\"modal-body\" id=\"modal-body\"> <form name=\"addRackWarning\"> <div ng-if=\"firstblock\"><!--this block is shown when both addSpine and upgradeSpine are true--> <div class=\"row\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input tabindex=\"27\" type=\"radio\" ng-model=\"fabricRackAddErrorModel.editSpine\" name=\"addSpineSel\" value=\"add\" id=\"addSpine\"> <label for=\"addSpine\"> Add Spine</label> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input tabindex=\"27\" type=\"radio\" ng-model=\"fabricRackAddErrorModel.editSpine\" name=\"upgradeSpineSel\" value=\"upgrade\" id=\"upgradeSpine\"> <label for=\"upgradeSpine\"> Upgrade Spine</label> </div> </div> </div> </div> <div ng-if=\"!firstblock\"><!-- this block is shown when any one of the option (addSpine or upgradeSpine) is true --> <div class=\"row\" ng-if=\"fabricRackAddErrorModel.addSpine=='add'\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input tabindex=\"27\" type=\"radio\" ng-model=\"fabricRackAddErrorModel.addSpine\" name=\"spineSel\" value=\"add\" id=\"addSpine\"> <label for=\"addSpine\"> Add Spine</label> </div> </div> </div> <div class=\"row\" ng-if=\"fabricRackAddErrorModel.upgradeSpine=='upgrade'\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input tabindex=\"27\" type=\"radio\" ng-model=\"fabricRackAddErrorModel.upgradeSpine\" name=\"spineSel\" value=\"upgrade\" id=\"upgradeSpine\"> <label for=\"upgradeSpine\"> Upgrade Spine</label> </div> </div> </div> </div> <div class=\"row\" ng-if=\"fabricRackAddErrorModel.upgradeLeaf!=false\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input tabindex=\"27\" type=\"radio\" name=\"leafSel\" ng-model=\"fabricRackAddErrorModel.upgradeLeaf\" ng-value=\"true\" id=\"upgradeLeaf\"> <label for=\"upgradeLeaf\"> Upgrade Leaf</label> </div> </div> </div> </form> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" tabindex=\"27\" ng-keypress=\"sendWorkLoadData()\" ng-click=\"sendWorkLoadData()\" name=\"warningOk\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"27\" ng-keypress=\"$dismiss()\" ng-click=\"$dismiss()\" name=\"warningCancel\">{{'general.cancel' | translate}}</dlcui-button> <!--dlcui-button type=\"primary\" ng-if=\"fabricRackAddErrorModel.upgradeLeaf==true\" ng-click=\"$dismiss()\" name=\"warningOk\">{{'general.OK' | translate}}</dlcui-button--> </div> </div>"
  );


  $templateCache.put('fabric/design/input/rack/networkFabricRackModal.html',
    "<section class=\"cux-dialog cluster-modal\" role=\"dialog\" aria-modal=\"true\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h1 class=\"cux-dialog__header-title\">{{racktitle}}</h1> </div> <div class=\"col-sm-push-2\"> <help-directive aria-label=\"{{racktitle}} Help Document\" help-index=\"build_your_own_network\" label=\"\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\" style=\"height:209px\"> <!-- network fabric rack create form to handle validation for the inner components--> <form name=\"networkFabricRackForm\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_rackName\">{{'fabricInput.workloadRacks.rackname' | translate}}</label> </div> <div class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricRackForm.fdc_rackName.$dirty && networkFabricRackForm.fdc_rackName.$invalid}\"> <input tabindex=\"1\" type=\"text\" class=\"form-control\" title=\"\" ng-model=\"rackDefaults.rackName\" id=\"fdc_rackName\" name=\"fdc_rackName\" required validation-directive uib-tooltip=\"\"> </div> <!--div class=\"col-sm-2 col-xs-2\">\r" +
    "\n" +
    "                    <label>{{'fabricInput.workloadRacks.mgmtfabrack' | translate}}</label>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"col-sm-1 col-xs-1\">\r" +
    "\n" +
    "                     <input type=\"checkbox\"  name=\"fdc_rack_mgmt\" id=\"mgmtrack\" ng-model=\"defaults.isMgmtRack\"/><label for=\"mgmtrack\"/> \r" +
    "\n" +
    "                </div--> <div class=\"col-sm-2 col-xs-2\"> <label for=\"edgerack\">{{'fabricInput.workloadRacks.edgefabrack' | translate}}</label> </div> <div class=\"col-sm-1 col-xs-1\"> <input tabindex=\"1\" type=\"checkbox\" name=\"fdc_isEdgeRack\" aria-label=\"{{rackDefaults.isEdgeRack?'Checked':'Unchecked'}}\" id=\"edgerack\" ng-model=\"rackDefaults.isEdgeRack\" ng-disabled=\"rackDefaults.fabricType == 'Layer_2_TOR' || rackDefaults.edge_rack_fixed\"> <label for=\"edgerack\"> </div> <div class=\"col-sm-3 col-xs-3\" ng-if=\"networkFabricRackForm.fdc_isEdgeRack.$dirty && networkFabricRackForm.fdc_isEdgeRack.$invalid\"> <span style=\"color:red\">{{edgeRack_errorMessage}}</span> </div> <div class=\"col-sm-3 col-xs-3\" ng-if=\"show_edge_rack_error\"> <span style=\"color:red\">{{edgeRack_errorMessage}}</span> </div> </div><!-- End of row--> <!--div class=\"row\" ng-if=\"networkFabricRackForm.fdc_isEdgeRack.$dirty && networkFabricRackForm.fdc_isEdgeRack.$invalid\">\r" +
    "\n" +
    "            <div class=\"col-sm-6 col-xs-6\"></div>\r" +
    "\n" +
    "            <div class=\"col-sm-6 col-xs-6\"><span class=\"help-block\" style=\"color:red\" >{{edgeRack_errorMessage}}</span></div>\r" +
    "\n" +
    "          </div--> <!--rack-cluster input-model=\"rackDefaults\"></rack-cluster--> <rack-details input-model=\"rackDefaults\"></rack-details> </form></div> <div class=\"row col-sm-3\" style=\"font-size: 12px\"> <span class=\"notes\" aria-label=\"All fields are mandatory\">* All fields are mandatory.</span> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"1\" type=\"primary\" ng-disabled=\"networkFabricRackForm.$invalid\" ng-keypress=\"rackDefaults.dialogMode == 'Add' ?addRackFn():editRackUpdateFn()\" ng-click=\"rackDefaults.dialogMode == 'Add' ?addRackFn():editRackUpdateFn()\" name=\"fdc_network_fabric_rack_input_ok\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button tabindex=\"1\" type=\"danger\" ng-keypress=\"modal.dismiss()\" ng-click=\"modal.dismiss()\" name=\"fdc_network_fabric_rack_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer>  </section>"
  );


  $templateCache.put('fabric/design/input/rack/rackClusterTmpl.html',
    "<div class=\"row\"> <div class=\"col-sm-12\"> <h4 style=\"float:left\">{{'fabricInput.workloadClusters.title' | translate}}</h4> <!--ul class=\"list-unstyled list-inline cluster-actions\" style=\"float:left\">\r" +
    "\n" +
    "\t\t\t\t\t<li style=\"margin-top:17px\">\r" +
    "\n" +
    "\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-link\"  name=\"addcluster\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus\"></span></button>\r" +
    "\n" +
    "\t\t\t\t\t</li>\r" +
    "\n" +
    "\t\t\t\t</ul--> </div> <div class=\"col-sm-12 col-xs-12\"> <div class=\"row\"> <div class=\"col-xs-12\"> <table class=\"table table-striped table-condensed table-hover table-bordered\" id=\"clusterTable\"> <thead> <tr> <th class=\"col-sm-2\">{{'fabricInput.workloadClusters.name' | translate}}</th> <th class=\"col-sm-1\">{{'fabricInput.workloadClusters.type' | translate}}</th> <th class=\"col-sm-2\">{{'fabricInput.workloadClusters.noOfNodes' | translate}}</th> <th class=\"col-sm-2\">{{'fabricInput.workloadClusters.rackspace' | translate}}</th> <th class=\"col-sm-1\">{{'fabricInput.workloadClusters.porttype' | translate}}</th> <th class=\"col-sm-2\">{{'fabricInput.workloadClusters.portcount' | translate}}</th> <th class=\"col-sm-2\">{{'fabricInput.workloadClusters.actions' | translate}}</th> </tr> </thead> <tbody ng-if=\"clusters.clusterInputs.length>0\"> <tr ng-repeat=\"row in clusters.clusterInputs\"> <td class=\"col-sm-2\" name=\"clustername{{$index}}\"></td> <td class=\"col-sm-1\" name=\"clustertype{{$index}}\"></td> <td class=\"col-sm-2\" name=\"noOfNodes{{$index}}\"></td> <td class=\"col-sm-2\" name=\"rackspace{{$index}}\"></td> <td class=\"col-sm-1\" name=\"porttype{{$index}}\"></td> <td class=\"col-sm-2\" name=\"portcount{{$index}}\"></td> <td class=\"col-sm-2\" name=\"clusteractions{{$index}}\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button type=\"button\" class=\"btn btn-link\" name=\"row_cluster_edit{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span></button> </li> <li> <button type=\"button\" class=\"btn btn-link\" name=\"row_cluster_delete{{$index}}\"> <span class=\"glyphicon glyphicon-trash\"></span></button> </li> </ul> </td> </tr> </tbody> <tbody ng-if=\"clusters.clusterInputs.length==0\"> <tr> <td colspan=\"7\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/input/rack/rackDetailsTmpl.html',
    "<div> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_switchModel\">{{'fabricInput.workloadRacks.torswitches' | translate}}</label> </div> <div class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricRackForm.fdc_switchModel.$dirty && networkFabricRackForm.fdc_switchModel.$invalid}\"> <select tabindex=\"1\" class=\"selet-filter form-control\" ng-model=\"defaults.selectedSwitchModel\" id=\"fdc_switchModel\" name=\"fdc_switchModel\" ng-options=\"item.device_type for item in defaults.switchDefaults\" title=\"{{defaults.switchModel }}\" validation-directive uib-tooltip=\"\"> </select> <span uib-dropdown class=\"pull-right selet-filter\"> <button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" id=\"simple-dropdown\" aria-label=\"Filter switches based on Solution/BandwidthPhysical Type\" uib-dropdown-toggle> <span class=\"glyphicon glyphicon-filter\"></span> </button> <ul class=\"dropdown-menu\" uib-dropdown-menu aria-labelledby=\"simple-dropdown\"> <a tabindex=\"1\" class=\"header\" ng-keypress=\"save_filter_type('show all')\" ng-click=\"save_filter_type('show all')\">Show All</a> <li ng-repeat=\"(key,value) in defaults.filter_switch_options\"> <ul> <li class=\"header\"> {{key}} </li> <li ng-repeat=\"val in value\"> <a tabindex=\"1\" ng-keypress=\"save_filter_type(val)\" ng-click=\"save_filter_type(val)\">{{val}}</a> </li> </ul> </li> </ul> </span> </div> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_rack_name\">{{'fabricInput.workloadRacks.portsused' | translate}}</label> </div> <div class=\"col-sm-3 col-xs-3\"> <input tabindex=\"1\" type=\"number\" ng-model=\"defaults.downLinkInfo.count\" ng-disabled=\"true\" class=\"form-control\" title=\"\" id=\"fdc_rack_name\" name=\"fdc_rack_name\"> </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_upLinkInfo_overAllBandwidth\">{{'fabricInput.workloadRacks.uplinkConnections' | translate}}</label> </div> <div class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricRackForm.fdc_upLinkInfo_overAllBandwidth.$dirty && networkFabricRackForm.fdc_upLinkInfo_overAllBandwidth.$invalid}\"> <div class=\"input-group\"> <input tabindex=\"1\" type=\"number\" class=\"form-control\" title=\"{{defaults.upLinkInfo.overAllBandwidth}}\" ng-model=\"defaults.upLinkInfo.overAllBandwidth\" id=\"fdc_upLinkInfo_overAllBandwidth\" name=\"fdc_upLinkInfo_overAllBandwidth\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^[123456789]+[0-9]*$/\" ng-disabled=\"defaults.fabricType == 'Layer_2_TOR'\"> <div class=\"input-group-addon\"> <strong>G</strong> </div> </div> </div> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_workload_rack_osRatio\">{{'fabricInput.workloadRacks.projectedOverSubscriptionRatio' | translate}}</label> </div> <div class=\"col-sm-3 col-xs-3\" ng-class=\"{'has-error' : networkFabricRackForm.fdc_workload_rack_osRatio.$dirty && networkFabricRackForm.fdc_workload_rack_osRatio.$invalid}\"> <input tabindex=\"1\" type=\"text\" ng-disabled=\"true\" class=\"form-control\" ng-model=\"defaults.osRatio\" id=\"fdc_workload_rack_osRatio\" name=\"fdc_workload_rack_osRatio\" validation-directive uib-tooltip=\"\"> </div> </div> <!-- End of row--> <div class=\"row\"> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_islInfo_count\">{{'fabricInput.workloadRacks.torswitchconnections' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : networkFabricRackForm.fdc_islInfo_count.$dirty && networkFabricRackForm.fdc_islInfo_count.$invalid}\"> <input tabindex=\"1\" type=\"number\" class=\"form-control\" title=\"{{defaults.islInfo.count}}\" ng-model=\"defaults.islLinkCapacity.count\" id=\"fdc_islInfo_count\" name=\"fdc_islInfo_count\" min=\"2\" max=\"20\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^[123456789]+[0-9]*$/\"> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-2 mar-left-fix\" ng-class=\"{'has-error' :networkFabricRackForm.fdc_islInfo_bandwidth.$dirty && networkFabricRackForm.fdc_islInfo_bandwidth.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"defaults.islLinkCapacity\" name=\"fdc_islInfo_bandwidth\" ng-options=\"item.displayName for item in defaults.selectedSwitchModel.isl_link.capacity\" title=\"{{defaults.islInfo.displayName}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-3 col-xs-3\"> <label for=\"fdc_rack_bw\">{{'fabricInput.workloadRacks.bwallocated' | translate}}</label> </div> <div class=\"col-sm-3 col-xs-3\"> <input tabindex=\"1\" type=\"text\" ng-model=\"defaults.downLinkInfo.bandwidth\" ng-disabled=\"true\" class=\"form-control\" title=\"\" id=\"fdc_rack_bw\" name=\"fdc_rack_name\"> </div> </div> <!-- End of row--> </div> <!--End of Container-->"
  );


  $templateCache.put('fabric/design/input/vlan/vlanBuilderTmpl.html',
    "<div> <div class=\"row cux-dialog__header\"> <div class=\"col-sm-4\"> <h4>{{'fabricOutput.vlanInformation' | translate}}</h4> </div> </div> <div class=\"row\"> <div class=\"col-sm-push-3 col-sm-2 text-center\" ng-class=\"{'col-sm-1':(clusterType=='POWERSTORE_STORAGE' ||clusterType=='UNITY_STORAGE' || clusterType=='HCI_POWERFLEX_Appliance'|| clusterType=='HCI_VXFLEX'|| clusterType=='GENERIC_COMPUTE')}\"> <label>{{'general.ID' | translate}}</label> </div> <div class=\"col-sm-push-3 col-sm-3 text-center\" ng-class=\"{'col-sm-2':(clusterType=='POWERSTORE_STORAGE' ||clusterType=='UNITY_STORAGE' || clusterType=='HCI_POWERFLEX_Appliance'|| clusterType=='HCI_VXFLEX'|| clusterType=='GENERIC_COMPUTE')}\"> <label>{{'general.name' | translate}}</label> </div> <div class=\"col-sm-push-3 col-sm-2 text-center\"> <label>{{'fabricInput.NICteamBond' | translate}}</label> </div> <div class=\"col-sm-push-3 col-sm-2 text-center\" ng-if=\"clusterType=='POWERSTORE_STORAGE'|| clusterType=='UNITY_STORAGE' || clusterType=='HCI_POWERFLEX_Appliance'|| clusterType=='HCI_VXFLEX' || clusterType=='GENERIC_COMPUTE'\"> <label>{{'fabricInput.tor' | translate}}</label> </div> </div> <div ng-repeat=\"(vlankey, vlan) in vlanList\" ng-if=\"(clusterType!='POWERSTORE_STORAGE' && clusterType!='HCI_POWERFLEX_Appliance' &&  clusterType!='HCI_VXFLEX') || (clusterType=='POWERSTORE_STORAGE' && clusterForm.fdc_cluster_deploymentModel.$modelValue) ||(clusterType=='HCI_POWERFLEX_Appliance' && clusterForm.fdc_cluster_deploymentModel.$modelValue)||(clusterType=='HCI_VXFLEX' && clusterForm.fdc_cluster_applianceInfo.$modelValue)\"> <div class=\"row\" ng-if=\"separatensx(vlankey,vlan)\"> <div class=\"col-sm-12\"><hr></div> <div class=\"col-sm-4\"><h5>NSX Vlans</h5></div> </div> <div ng-if=\"(!isArray(vlan))&& vlan\" class=\"row\"> <div class=\"col-sm-3\"> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='mgmt' && clusterType!='POWERSTORE_STORAGE' && clusterType!='HCI_POWERFLEX_Appliance' && clusterType!='ECS_STORAGE' && clusterType!='HCI_VXRAIL'\">{{'fabricInput.mgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='mgmt' && clusterType=='POWERSTORE_STORAGE' && clusterType!='HCI_POWERFLEX_Appliance'\">{{'fabricInput.nativeVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='mgmt' && clusterType!='POWERSTORE_STORAGE' && clusterType=='HCI_POWERFLEX_Appliance'\">{{'fabricInput.hyperMgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='mgmt' && clusterType=='ECS_STORAGE'\">{{'fabricInput.publicVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='mgmt' && clusterType=='HCI_VXRAIL'\">{{'fabricInput.extmgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='native' && clusterType=='ECS_STORAGE'\">{{'fabricInput.publicVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='nas'\">{{'fabricInput.nasVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='native'&& clusterType!='ECS_STORAGE'\">{{'fabricInput.nativeVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='san'\">{{'fabricInput.sanVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='storage'\">{{'fabricInput.storageVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='pvtMgmt'\">{{'fabricInput.pvtMgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='vSan'\">{{'fabricInput.vSanVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='replication1'\">{{'fabricInput.replication1Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='replication2'\">{{'fabricInput.replication2Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='saphanatraffic' && clusterType=='HCI_VXRAIL'\">{{'fabricInput.witnesstraffic' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='saphanatraffic' && clusterType!='HCI_VXRAIL'\">{{'fabricInput.saphanatraffic' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='oracledb_public'\">{{'fabricInput.oracledb_publicVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='oracledb_rac_private'\">{{'fabricInput.oracledb_rac_privateVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='uplink01' && clusterType=='HCI_NSX_VXRAIL'\">{{'fabricInput.uplink01Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='uplink02' && clusterType=='HCI_NSX_VXRAIL'\">{{'fabricInput.uplink02Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='edgeoverlay' && clusterType=='HCI_NSX_VXRAIL'\">{{'fabricInput.edgeoverlayVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='hostoverlay' && clusterType=='HCI_NSX_VXRAIL'\">{{'fabricInput.hostoverlayVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='vMotion' && clusterType!='HCI_POWERFLEX_Appliance'\">{{'fabricInput.vMotionVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='vMotion' && clusterType=='HCI_POWERFLEX_Appliance'\">{{'fabricInput.hyperMigrationVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='osinstallation' && clusterType=='HCI_POWERFLEX_Appliance'\">{{'fabricInput.osinstallationVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmMgmt' && clusterType!='POWERSTORE_STORAGE' && clusterType!='HCI_POWERFLEX_Appliance'\">{{'fabricInput.svmMgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmMgmt' && clusterType=='POWERSTORE_STORAGE' && clusterType!='HCI_POWERFLEX_Appliance'\">{{'fabricInput.mgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmMgmt' && clusterType!='POWERSTORE_STORAGE' && clusterType=='HCI_POWERFLEX_Appliance'\">{{'fabricInput.osmgmtVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData1' && clusterType!='HCI_POWERFLEX_Appliance' && clusterType != 'ECS_STORAGE'\">{{'fabricInput.svmData1Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData2' && clusterType!='HCI_POWERFLEX_Appliance' && clusterType != 'ECS_STORAGE'\">{{'fabricInput.svmData2Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData1' && clusterType=='HCI_POWERFLEX_Appliance'\">{{'fabricInput.powerflexappData1Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData2' && clusterType=='HCI_POWERFLEX_Appliance'\">{{'fabricInput.powerflexappData2Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData3' && clusterType=='HCI_POWERFLEX_Appliance'\">{{'fabricInput.powerflexappData3Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData4' && clusterType=='HCI_POWERFLEX_Appliance'\">{{'fabricInput.powerflexappData4Vlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData1' && clusterType=='ECS_STORAGE'\">{{'fabricInput.dataVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='svmData2' && clusterType=='ECS_STORAGE'\">{{'fabricInput.replicationVlan' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='fault1'&& (clusterForm.fdc_cluster_solutiontypeOption.$modelValue!='Switchless') && clusterType=='POWERSTORE_STORAGE'\">Storage Vlan</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='fault1'&& (clusterForm.fdc_cluster_solutiontypeOption.$modelValue!='Switchless') && clusterType!='POWERSTORE_STORAGE'\">{{'fabricInput.fault1' | translate}}</label> <label for=\"fdc_cluster_{{vlankey}}_vlanId\" ng-if=\"vlankey=='fault2' && (clusterForm.fdc_cluster_solutiontypeOption.$modelValue!='Switchless')\">{{'fabricInput.fault2' | translate}}</label> </div> <div class=\"col-sm-2\" ng-if=\"!(clusterForm.fdc_cluster_solutiontypeOption.$modelValue=='Switchless'&& (vlankey=='fault1'|| vlankey=='fault2'))\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_vlanId.$dirty && clusterForm.fdc_cluster_{{vlankey}}_vlanId.$invalid,'col-sm-1':(clusterType=='POWERSTORE_STORAGE'||clusterType=='UNITY_STORAGE'|| clusterType=='GENERIC_COMPUTE'||clusterType=='HCI_POWERFLEX_Appliance'|| clusterType=='HCI_VXFLEX'),'custompadding':clusterType=='POWERSTORE_STORAGE'||clusterType=='HCI_POWERFLEX_Appliance'|| clusterType=='HCI_VXFLEX'||clusterType=='GENERIC_COMPUTE'}\"> <input type=\"number\" tabindex=\"1\" to-number integer min=\"1\" max=\"4096\" class=\"form-control\" ng-model=\"vlan.vlanId\" id=\"fdc_cluster_{{vlankey}}_vlanId\" name=\"fdc_cluster_{{vlankey}}_vlanId\" required validation-directive uib-tooltip=\"\" ng-disabled=\"vlankey=='pvtMgmt'|| (vlankey=='hostoverlay' && clusterType=='HCI_NSX_VXRAIL' && vlan.hidehostoverlay == true)|| (vlan.vlan_type=='native' && clusterType!='POWERSTORE_STORAGE')\"> </div> <div class=\"col-sm-3\" ng-if=\"!(clusterForm.fdc_cluster_solutiontypeOption.$modelValue=='Switchless'&& (vlankey=='fault1'|| vlankey=='fault2'))\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_name.$invalid,'col-sm-2':clusterType=='POWERSTORE_STORAGE'|| clusterType=='HCI_VXFLEX'||clusterType=='UNITY_STORAGE' || clusterType=='GENERIC_COMPUTE' ||clusterType=='HCI_POWERFLEX_Appliance'}\"> <input type=\"text\" tabindex=\"1\" class=\"form-control\" title=\"{{vlan.name}}\" ng-model=\"vlan.name\" name=\"fdc_cluster_{{vlankey}}_name\" required validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-2\" ng-if=\"!(clusterForm.fdc_cluster_solutiontypeOption.$modelValue=='Switchless'&& (vlankey=='fault1'|| vlankey=='fault2'))\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_bond.$dirty && clusterForm.fdc_cluster_{{vlankey}}_bond.$invalid}\"> <!--select class=\"form-control\" ng-show=\"vlankey=='edgeoverlay' || vlankey=='hostoverlay'||vlankey=='uplink01'||vlankey=='uplink02'\"ng-model=\"vlan.bond\" name=\"fdc_cluster_{{vlankey}}_{{$index}}\" ng-options=\"bond_.name as bond_.name for bond_ in bondList|filter:myFilter\"\r" +
    "\n" +
    "                    title=\"{{vlan.bond}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"clusterType == 'HCI_VXRAIL'||(clusterType=='HCI_NSX_VXRAIL'&& (vlankey=='edgeoverlay'||vlankey=='hostoverlay'||vlankey=='uplink01'||vlankey=='uplink02'))\">\r" +
    "\n" +
    "                </select>\r" +
    "\n" +
    "                <select class=\"form-control\" ng-show=\"vlankey!='edgeoverlay' && vlankey!='hostoverlay'&&vlankey!='uplink01'&&vlankey!='uplink02'\" ng-model=\"vlan.bond\" name=\"fdc_cluster_{{vlankey}}_{{$index}}\" ng-options=\"bond_.name as bond_.name for bond_ in bondList|filter:myFilter_overlaybonds\"\r" +
    "\n" +
    "                    title=\"{{vlan.bond}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"clusterType == 'HCI_VXRAIL'||(clusterType=='HCI_NSX_VXRAIL' && (vlankey=='edgeoverlay'||vlankey=='hostoverlay'||vlankey=='uplink01'||vlankey=='uplink02'))\">\r" +
    "\n" +
    "                </select--> <select tabindex=\"1\" class=\"form-control\" ng-model=\"vlan.bond\" name=\"fdc_cluster_{{vlankey}}_bond\" ng-options=\"bond_.name as bond_.name for bond_ in bondList|filter:myFilter_overlaybonds|filter:filter_vlan_bonds_other_than_storage\" title=\"{{vlan.bond}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"clusterType == 'SAP_HANA'|| (clusterType == 'HCI_VXRAIL' && ((clusterinput.version != '7.0' && (vlankey == 'mgmt' || vlankey=='vSan' || vlankey=='vMotion'||vlankey =='pvtMgmt'))|| (clusterinput.version == '7.0' && (vlankey == 'mgmt'||vlankey=='pvtMgmt'))))||(clusterType == 'POWERSTORE_STORAGE' && (vlankey=='mgmt'||vlankey=='svmMgmt'||vlankey=='vMotion'))\"> </select> </div> <div class=\"col-sm-2 text-center\" ng-if=\"(clusterType=='POWERSTORE_STORAGE') || (clusterType=='HCI_POWERFLEX_Appliance')|| (clusterType=='HCI_VXFLEX') || (clusterType=='GENERIC_COMPUTE') || (clusterType=='UNITY_STORAGE')\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_torSwitch.$dirty && clusterForm.fdc_cluster_{{vlankey}}_torSwitch.$invalid}\"> <select tabindex=\"1\" ng-if=\"vlan.bond.indexOf('ond')<0\" class=\"form-control\" ng-model=\"vlan.torSwitch\" name=\"fdc_cluster_{{vlankey}}_torSwitch\" ng-options=\"item for item in clusterinput.tor\" title=\"{{vlan.tor}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"false\"> </select> <select tabindex=\"1\" ng-if=\"vlan.bond.indexOf('ond')>0\" class=\"form-control\" ng-model=\"vlan.torSwitch\" name=\"fdc_cluster_{{vlankey}}_torSwitch\" ng-options=\"item for item in ['NA','Leaf Pair']\" title=\"{{vlan.tor}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"true\"> </select> </div> </div> <div ng-if=\"((isArray(vlan))&& vlan.length>0)\" class=\"row\" ng-repeat=\"vmnetworkvlan in vlan\"> <div class=\"col-sm-3\"> <!--label ng-if=\"$index == 0 && clusterType == 'POWERSTORE_STORAGE'\">{{'fabricInput.vmNetworks' | translate}}</label--> <label ng-if=\"$index == 0 && clusterType == 'UNITY_STORAGE'\">{{'fabricInput.stNetworks' | translate}}</label> <label ng-if=\"$index == 0 && clusterType == 'ECS_STORAGE'\">{{'fabricInput.stNetworks' | translate}}</label> <label ng-if=\"$index == 0 && clusterType == 'GENERIC_COMPUTE' && vlankey!='storageNetworks'\">{{'fabricInput.appNetworks' | translate}}</label> <label ng-if=\"$index == 0 && vlankey=='vmNetworks' && clusterType == 'POWERSTORE_STORAGE' && clusterForm.fdc_cluster_deploymentModel.$modelValue=='PowerStore T/Q models'\">{{'fabricInput.nasNetworks' | translate}}</label> <label ng-if=\"$index == 0 && vlankey=='vmNetworks' &&clusterType != 'GENERIC_COMPUTE' && clusterType != 'UNITY_STORAGE' && clusterType != 'ECS_STORAGE' && (clusterType != 'POWERSTORE_STORAGE' || clusterForm.fdc_cluster_deploymentModel.$modelValue!='PowerStore T/Q models')\">{{'fabricInput.vmNetworks' | translate}}</label> <label ng-if=\"$index == 0 && (clusterType == 'POWERSTORE_STORAGE'|| clusterType=='GENERIC_COMPUTE') && vlankey=='storageNetworks'\">{{'fabricInput.storageNetworks' | translate}}</label> </div> <div class=\"col-sm-2\" ng-if=\"clusterType!='GENERIC_COMPUTE'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_vlanId_{{$index}}.$invalid,'col-sm-1':(clusterType=='POWERSTORE_STORAGE'||clusterType=='UNITY_STORAGE'||clusterType=='HCI_POWERFLEX_Appliance'||clusterType=='HCI_VXFLEX'|| clusterType=='GENERIC_COMPUTE'),'custompadding':(clusterType=='POWERSTORE_STORAGE'||clusterType=='HCI_POWERFLEX_Appliance'||clusterType=='GENERIC_COMPUTE'|| clusterType=='HCI_VXFLEX'||clusterType=='UNITY_STORAGE')}\"> <input tabindex=\"1\" type=\"number\" to-number integer min=\"1\" max=\"4096\" nodirtycheck class=\"form-control\" ng-model=\"vmnetworkvlan.vlanId\" required validation-directive uib-tooltip=\"\" name=\"fdc_cluster_{{vlankey}}_vlanId_{{$index}}\"> </div> <div class=\"col-sm-2\" ng-if=\"clusterType=='GENERIC_COMPUTE'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_vlanId_{{$index}}.$invalid,'col-sm-1':(clusterType=='POWERSTORE_STORAGE'||clusterType=='UNITY_STORAGE'||clusterType=='HCI_POWERFLEX_Appliance'||clusterType=='HCI_VXFLEX'|| clusterType=='GENERIC_COMPUTE'),'custompadding':(clusterType=='POWERSTORE_STORAGE'||clusterType=='HCI_POWERFLEX_Appliance'||clusterType=='GENERIC_COMPUTE'|| clusterType=='HCI_VXFLEX'||clusterType=='UNITY_STORAGE')}\"> <input tabindex=\"1\" type=\"number\" ng-disabled=\"vlankey=='storageNetworks'\" to-number integer min=\"1\" max=\"4096\" nodirtycheck class=\"form-control\" ng-model=\"vmnetworkvlan.vlanId\" required validation-directive uib-tooltip=\"\" name=\"fdc_cluster_{{vlankey}}_vlanId_{{$index}}\"> </div> <div class=\"col-sm-3\" ng-if=\"clusterType!='GENERIC_COMPUTE'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_name_{{$index}}.$invalid,'col-sm-2':(clusterType=='POWERSTORE_STORAGE'|| clusterType=='GENERIC_COMPUTE'||clusterType=='HCI_POWERFLEX_Appliance'|| clusterType=='HCI_VXFLEX'||clusterType=='UNITY_STORAGE')}\"> <input tabindex=\"1\" type=\"text\" class=\"form-control\" title=\"{{vmnetworkvlan.name}}\" ng-model=\"vmnetworkvlan.name\" required validation-directive uib-tooltip=\"\" name=\"fdc_cluster_{{vlankey}}_name_{{$index}}\"> </div> <div class=\"col-sm-3\" ng-if=\"clusterType=='GENERIC_COMPUTE'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_name_{{$index}}.$invalid,'col-sm-2':(clusterType=='POWERSTORE_STORAGE'|| clusterType=='GENERIC_COMPUTE'||clusterType=='HCI_POWERFLEX_Appliance'|| clusterType=='HCI_VXFLEX'||clusterType=='UNITY_STORAGE')}\"> <!--input type=\"text\" ng-disabled=\"vlankey=='storageNetworks'\" class=\"form-control\" title=\"{{vmnetworkvlan.name}}\" ng-model=\"vmnetworkvlan.name\" required validation-directive uib-tooltip=\"\" name=\"fdc_cluster_{{vlankey}}_name_{{$index}}\"/--> <input tabindex=\"1\" type=\"text\" ng-if=\"vlankey!='storageNetworks'\" class=\"form-control\" title=\"{{vmnetworkvlan.name}}\" ng-model=\"vmnetworkvlan.name\" required validation-directive uib-tooltip=\"\" name=\"fdc_cluster_{{vlankey}}_name_{{$index}}\"> <select ng-if=\"vlankey=='storageNetworks' && clusterType=='GENERIC_COMPUTE'\" class=\"form-control\" ng-model=\"vmnetworkvlan.name\" name=\"fdc_cluster_{{vlankey}}_name_{{$index}}\" ng-options=\"item.name as item.name for item in sanNetworks.storage_vlans\" ng-disabled=\"clusterType == 'POWERSTORE_STORAGE' && vlankey=='vmNetworks'\" title=\"{{vmnetworkvlan.name}}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-2\" ng-if=\"clusterType!='GENERIC_COMPUTE'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_bond_{{$index}}.$dirty && clusterForm.fdc_cluster_{{vlankey}}_bond_{{$index}}.$invalid}\"> <select tabindex=\"1\" ng-if=\"vlankey=='storageNetworks' && clusterType=='GENERIC_COMPUTE'\" class=\"form-control\" ng-model=\"vmnetworkvlan.bond\" name=\"fdc_cluster_{{vlankey}}_bond_{{$index}}\" ng-options=\"item.name as item.name for item in sanList|filter:filter_powerstore_stnetworks\" ng-disabled=\"clusterType == 'POWERSTORE_STORAGE' && vlankey=='vmNetworks'\" title=\"{{vmnetworkvlan.bond}}\" required validation-directive uib-tooltip=\"\"> </select> <select tabindex=\"1\" ng-if=\"vlankey=='storageNetworks' && clusterType!='GENERIC_COMPUTE'\" class=\"form-control\" ng-model=\"vmnetworkvlan.bond\" name=\"fdc_cluster_{{vlankey}}_bond_{{$index}}\" ng-options=\"item.name as item.name for item in bondList|filter:filter_powerstore_stnetworks\" ng-disabled=\"clusterType == 'POWERSTORE_STORAGE' && vlankey=='vmNetworks'\" title=\"{{vmnetworkvlan.bond}}\" required validation-directive uib-tooltip=\"\"> </select> <select tabindex=\"1\" ng-if=\"vlankey=='vmNetworks' && clusterType!='POWERSTORE_STORAGE'\" class=\"form-control\" ng-model=\"vmnetworkvlan.bond\" name=\"fdc_cluster_{{vlankey}}_bond_{{$index}}\" ng-options=\"item.name as item.name for item in bondList|filter:filter_vlan_bonds_other_than_storage\" ng-disabled=\"clusterType == 'POWERSTORE_STORAGE1' && vlankey=='vmNetworks'\" title=\"{{vmnetworkvlan.bond}}\" required validation-directive uib-tooltip=\"\"> </select> <div class=\"row col-sm-12\" ng-if=\"vlankey=='vmNetworks' && clusterType=='POWERSTORE_STORAGE'\" ng-dropdown-multiselect=\"\" ng-model=\"vmnetworkvlan.fsn\" options=\"fsnList\" selected-model=\"vmnetworkvlan.fsn\" extra-settings=\"myDropdownSettings\" name=\"fdc_cluster_{{vlankey}}_bond_{{$index}}\" id=\"fdc_cluster_{{vlankey}}_bond_{{$index}}\"> </div> </div> <div class=\"col-sm-2\" ng-if=\"clusterType=='GENERIC_COMPUTE'\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_bond_{{$index}}.$dirty && clusterForm.fdc_cluster_{{vlankey}}_bond_{{$index}}.$invalid}\"> <select tabindex=\"1\" ng-disabled=\"vlankey=='storageNetworks1'\" ng-if=\"vlankey=='storageNetworks' && clusterType=='GENERIC_COMPUTE'\" class=\"form-control\" ng-model=\"vmnetworkvlan.bond\" name=\"fdc_cluster_{{vlankey}}_bond_{{$index}}\" ng-options=\"item.name as item.name for item in bondList\" ng-disabled=\"clusterType == 'POWERSTORE_STORAGE' && vlankey=='vmNetworks'\" title=\"{{vmnetworkvlan.bond}}\" required validation-directive uib-tooltip=\"\"> </select> <select tabindex=\"1\" ng-disabled=\"vlankey=='storageNetworks'\" ng-if=\"vlankey=='storageNetworks' && clusterType!='GENERIC_COMPUTE'\" class=\"form-control\" ng-model=\"vmnetworkvlan.bond\" name=\"fdc_cluster_{{vlankey}}_bond_{{$index}}\" ng-options=\"item.name as item.name for item in bondList|filter:filter_powerstore_stnetworks\" ng-disabled=\"clusterType == 'POWERSTORE_STORAGE' && vlankey=='vmNetworks'\" title=\"{{vmnetworkvlan.bond}}\" required validation-directive uib-tooltip=\"\"> </select> <select tabindex=\"1\" ng-if=\"vlankey=='vmNetworks'\" class=\"form-control\" ng-model=\"vmnetworkvlan.bond\" name=\"fdc_cluster_{{vlankey}}_bond_{{$index}}\" ng-options=\"item.name as item.name for item in bondList|filter:filter_vlan_bonds_other_than_storage\" ng-disabled=\"clusterType == 'POWERSTORE_STORAGE1' && vlankey=='vmNetworks'\" title=\"{{vmnetworkvlan.bond}}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"col-sm-2 text-center\" ng-if=\"(clusterType=='POWERSTORE_STORAGE') || (clusterType=='HCI_POWERFLEX_Appliance') || (clusterType=='HCI_VXFLEX')||(clusterType=='UNITY_STORAGE') || (clusterType=='GENERIC_COMPUTE1')\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_torSwitch_{{$index}}.$dirty && clusterForm.fdc_cluster_{{vlankey}}_torSwitch_{{$index}}.$invalid}\"> <select tabindex=\"1\" ng-if=\"vmnetworkvlan.bond.indexOf('ond')<0\" class=\"form-control\" ng-model=\"vmnetworkvlan.torSwitch\" name=\"fdc_cluster_{{vlankey}}_torSwitch_{{$index}}\" ng-options=\"item for item in clusterinput.tor\" title=\"{{vmnetworkvlan.torSwitch}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"false\"> </select> <select tabindex=\"1\" ng-if=\"vmnetworkvlan.bond.indexOf('ond')>0\" class=\"form-control\" ng-model=\"vmnetworkvlan.torSwitch\" name=\"fdc_cluster_{{vlankey}}_torSwitch_{{$index}}\" ng-options=\"item for item in ['NA','Leaf Pair']\" title=\"{{vmnetworkvlan.torSwitch}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"true\"> </select> </div> <div class=\"col-sm-2 text-center\" ng-if=\"(clusterType=='GENERIC_COMPUTE')\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_{{vlankey}}_torSwitch_{{$index}}.$dirty && clusterForm.fdc_cluster_{{vlankey}}_torSwitch_{{$index}}.$invalid}\"> <select tabindex=\"1\" ng-disabled=\"vlankey=='storageNetworks'\" ng-if=\"vmnetworkvlan.bond.indexOf('ond')<0\" class=\"form-control\" ng-model=\"vmnetworkvlan.torSwitch\" name=\"fdc_cluster_{{vlankey}}_torSwitch_{{$index}}\" ng-options=\"item for item in clusterinput.tor\" title=\"{{vmnetworkvlan.torSwitch}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"false\"> </select> <select tabindex=\"1\" ng-disabled=\"vlankey=='storageNetworks'\" ng-if=\"vmnetworkvlan.bond.indexOf('ond')>0\" class=\"form-control\" ng-model=\"vmnetworkvlan.torSwitch\" name=\"fdc_cluster_{{vlankey}}_torSwitch_{{$index}}\" ng-options=\"item for item in ['NA','Leaf Pair']\" title=\"{{vmnetworkvlan.torSwitch}}\" required validation-directive uib-tooltip=\"\" ng-disabled=\"true\"> </select> </div> <div class=\"col-sm-2\"> <ul class=\"list-unstyled list-inline cluster-actions\" ng-if=\"vlankey=='vmNetworks'\"> <li ng-if=\"$last\"> <button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" aria-label=\"Add Guest Vlan\" ng-click=\"addGuestVlan(vlankey)\" name=\"fdc_vlan_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li ng-if=\"(clusterType == 'UNITY_STORAGE'||clusterType == 'POWERSTORE_STORAGE') && $index >= 1 || (clusterType != 'UNITY_STORAGE'||clusterType != 'POWERSTORE_STORAGE') && $index >= 0\"> <button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" aria-label=\"Remove Guest Vlan\" ng-click=\"removeGuestVlan($index,vlankey)\" name=\"fdc_vlan_remove{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> <ul class=\"list-unstyled list-inline cluster-actions\" ng-if=\"vlankey=='storageNetworks'&&clusterType!='GENERIC_COMPUTE'\"> <li ng-if=\"$last && vlanList['storageNetworks'].length<32\"> <button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" aria-label=\"Add Storage Vlan\" ng-click=\"addStorageVlan(vlankey)\" name=\"fdc_vlan_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li ng-if=\"(clusterType == 'POWERSTORE_STORAGE') && $index >= 0\"> <button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" aria-label=\"Remove Storage Vlan\" ng-click=\"removeStorageVlan($index,vlankey)\" name=\"fdc_vlan_remove{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> </div> </div> <div ng-if=\"(isArray(vlan))&& vlan.length==0\" class=\"row\"> <div class=\"col-sm-3\"> <label ng-if=\"clusterType == 'UNITY_STORAGE'|| clusterType == 'ECS_STORAGE'\">{{'fabricInput.stNetworks' | translate}}</label> <!--label ng-if=\"clusterType == 'POWERSTORE_STORAGE'\">{{'fabricInput.sanNetworks' | translate}}</label--> <label ng-if=\"clusterType == 'GENERIC_COMPUTE'\">{{'fabricInput.appNetworks' | translate}}</label> <label ng-if=\"clusterType != 'GENERIC_COMPUTE' && clusterType != 'UNITY_STORAGE' && clusterType != 'ECS_STORAGE' && clusterType != 'POWERSTORE_STORAGE'\">{{'fabricInput.vmNetworks' | translate}}</label> <label ng-if=\"clusterType == 'POWERSTORE_STORAGE' && vlankey == 'storageNetworks'\"> <span>{{'fabricInput.storageNetworks' | translate}}</span> </label> <label ng-if=\"clusterType == 'POWERSTORE_STORAGE' && vlankey == 'vmNetworks'\"> <span ng-if=\"clusterForm.fdc_cluster_deploymentModel.$modelValue=='PowerStore T/Q models'\">{{'fabricInput.nasNetworks' | translate}}</span> <span ng-if=\"clusterForm.fdc_cluster_deploymentModel.$modelValue!='PowerStore T/Q models'\">{{'fabricInput.vmNetworks' | translate}}</span> </label> </div> <div class=\"col-sm-7\" ng-class=\"{'custompadding':clusterType=='POWERSTORE_STORAGE'||clusterType=='GENERIC_COMPUTE'}\"> <p ng-if=\"clusterType != 'GENERIC_COMPUTE' && clusterType != 'UNITY_STORAGE' && clusterType != 'ECS_STORAGE'&& clusterType != 'POWERSTORE_STORAGE'\" class=\"well well-box text-muted text-center\">{{'fabricInput.vmNetworksReq' | translate}}</p> <p ng-if=\"clusterType == 'GENERIC_COMPUTE'\" class=\"well well-box text-muted text-center\">{{'fabricInput.appNetworksReq' | translate}}</p> <p ng-if=\"clusterType == 'UNITY_STORAGE' || clusterType == 'ECS_STORAGE'\" class=\"well well-box text-muted text-center\">{{'fabricInput.stNetworksReq' | translate}}</p> <p ng-if=\"clusterType == 'POWERSTORE_STORAGE'\" class=\"well well-box taext-muted text-center\"> <span ng-if=\"clusterForm.fdc_cluster_deploymentModel.$modelValue=='PowerStore T/Q models' && vlankey == 'storageNetworks'\">{{'fabricInput.stNetworksReq' | translate}}</span> <span ng-if=\"clusterForm.fdc_cluster_deploymentModel.$modelValue=='PowerStore T/Q models' && vlankey != 'storageNetworks'\">{{'fabricInput.nasNetworksReq' | translate}}</span> <span ng-if=\"clusterForm.fdc_cluster_deploymentModel.$modelValue!='PowerStore T/Q models'\">{{'fabricInput.vmNetworksReq' | translate}}</span> </p> <!--p ng-if=\"clusterType == 'POWERSTORE_STORAGE'\" class=\"well well-box text-muted text-center\">{{'fabricInput.sanNetworks' | translate}}</p--> </div> <div class=\"col-sm-2\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last && vlankey=='vmNetworks'\"> <button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" aria-label=\"Add Guest Vlan\" ng-click=\"addGuestVlan(vlankey)\" name=\"fdc_vlan_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li ng-if=\"vlankey=='storageNetworks'\"> <button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" aria-label=\"Add Storage Vlan\" ng-click=\"addStorageVlan(vlankey)\" name=\"fdc_stvlan_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> </ul> </div> <div class=\"col-sm-12\" ng-if=\"clusterType == 'POWERSTORE_STORAGE'\" style=\"font-size:12px\"> <span class=\"notes\" aria-label=\"Multiple Selection is enabled in NAS Networks to allow users to create FSN of combination of port or a User Defined Bond.\"> Multiple Selection is enabled in NAS Networks to allow users to create FSN of combination of port or a User Defined Bond.</span> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/output/StretchClusterModal.html',
    "<section class=\"cux-dialog cluster-modal\" style=\"width:500px\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Stretch Cluster</h1> </div> <div class=\"col-sm-push-5\"> <help-directive aria-label=\"Help Document\" help-index=\"vxrail_cluster\"></help-directive> </div> </div> <div ng-show=\"modal.node.moveNodeError\" class=\"alert alert-danger alert-dismissdialog-alert\"> <span class=\"glyphicon glyphicon-remove dialog-glyphicon\"> <strong>Error! </strong>{{modal.node.moveNodeErrorMsg}} </div> <div> <form name=\"moveNodeInClusterModal\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-4\"> <label>Select Rack(s)</label> </div> <div class=\"col-sm-6\"> <div class=\"rack-box\" style=\"height:200px;overflow:auto\"> <h5 style=\"margin-top:6px\" class=\"cluster-title\" ng-if=\"(modal.cluster_data.clusterType != 'UNITY_STORAGE'||modal.cluster_data.clusterType != 'PowerStore')\"><span class=\"glyphicon glyphicon-th-list\"></span><strong> Racks</strong></h5> <div ng-repeat=\"item in modal.racks\" ng-class=\"{'active': isActive[item.id]}\" class=\"rack rack-server\" ng-click=\"add_racks(item)\"> {{item.name}} </div> </div> </div> </div> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-disabled=\"moveNodeInClusterModal.$invalid\" ng-click=\"StretchCluster()\">Stretch</dlcui-button> <dlcui-button type=\"secondary\" ng-click=\"modal.hide()\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/SwitchWarning.html',
    "<section class=\"cux-dialog cluster-modal\"> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"modal-title\"> <div class=\"alert alert-warning\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <strong>Warning!</strong> </div> </h3> <span> <strong> {{warning_message}}.</strong> </span> </div> <div class=\"modal-body\" id=\"modal-body\"> <form id=\"switchwarningmodal\"> <div class=\"row\"> <div class=\"col-sm-1\"> <input type=\"radio\" name=\"server_facing_ports\" ng-model=\"server_facing_ports\" id=\"with_server_facing_ports\" value=\"false\"> <label class=\"notes\" for=\"with_server_facing_ports\" id=\"with_server_facing_ports\" title=\"With Node Facing Ports\">Yes</label> </div> <div class=\"col-sm-1\"> <input type=\"radio\" name=\"server_facing_ports\" ng-model=\"server_facing_ports\" id=\"without_server_facing_ports\" value=\"true\"> <label class=\"notes\" for=\"without_server_facing_ports\" id=\"without_server_facing_ports\" title=\"Without Node Facing Ports\">No</label> </div> </div> </form> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" ng-click=\"$close(server_facing_ports)\" name=\"warningOk\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"$close('cancel')\" name=\"warningCancel\">{{'general.cancel' | translate}}</dlcui-button> </div> </section>"
  );


  $templateCache.put('fabric/design/output/addClusterOnRack.html',
    "<div> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"modal-title\"> <div class=\"alert alert-warning\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <strong>Warning!</strong> </div> </h3> <span> <strong> {{rackClusterModel.warning_message}}.</strong> </span> </div> <div class=\"modal-body\" id=\"modal-body\"> <form name=\"addRackWarning\"> <div ng-if=\"!rackClusterModel.upgrade_tor.length && (rackClusterModel.racks.length || rackClusterModel.add_new_rack)\"> <div class=\"row\"> <div class=\"col-sm-4\"> <input type=\"radio\" ng-model=\"rackClusterModel.rackOption\" name=\"rackSel\" value=\"additional\" id=\"additionalRack\" ng-disabled=\"!rackClusterModel.racks.length\" required alidation-directive uib-tooltip=\"\"> <label for=\"additionalRack\"> Select additional Rack</label> </div> <div class=\"col-sm-2\" ng-class=\"{'has-error' : addRackWarning.selectedRack.$dirty && addRackWarning.selectedRack.$invalid}\"> <select class=\"form-control\" ng-model=\"rackClusterModel.selectedRack\" ng-options=\"item.rack_name for item in rackClusterModel.racks\" ng-disabled=\"rackClusterModel.rackOption != 'additional'\" name=\"selectedRack\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\"> <input type=\"radio\" ng-model=\"rackClusterModel.rackOption\" name=\"rackSel1\" value=\"new\" ng-checked=\"true\" id=\"newRack\" required validation-directive uib-tooltip=\"\"> <label for=\"newRack\"> Add New Rack</label> </div> </div> </div> <div class=\"row\" ng-if=\"rackClusterModel.upgrade_tor.length\"> <div class=\"col-sm-4\"> <label>Upgrade Leaf Switch</label> </div> <div class=\"col-sm-2\" ng-class=\"{'has-error' : addRackWarning.selectedLeaf.$dirty && addRackWarning.selectedLeaf.$invalid}\"> <select class=\"form-control\" ng-model=\"rackClusterModel.upgradeSwitch\" ng-options=\"item for item in rackClusterModel.upgrade_tor\" name=\"selectedLeaf\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div ng-if=\"rackClusterModel.upgrade_fabrics\"> <div class=\"row\" ng-init=\"rackClusterModel.upgrade_fabrics='true'\"> <div class=\"col-sm-8 form-control\" style=\"border:None;border-top:1px solid #e5e5e5;box-shadow:None;padding-top:3px\" ng-class=\"{'has-error' : addRackWarning.upgradefabric.$dirty && addRackWarning.upgradefabric.$invalid}\"> <input type=\"radio\" ng-model=\"rackClusterModel.upgrade_fabrics\" name=\"upgradefabric\" id=\"upgradefabric\" value=\"true\" ng-checked=\"true\" required validation-directive uib-tooltip=\"\" ng-disabled=\"true\"> <label for=\"upgradefabric\"> Unable to add cluster in existing backend fabric. Do you like to upgrade fabrics?.</label> </div> </div> </div> </form></div> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" ng-click=\"sendWorkLoadData()\" name=\"warningOk\" ng-disabled=\"addRackWarning.rackSel.$invalid && addRackWarning.$invalid\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"$dismiss()\" name=\"warningCancel\">{{'general.cancel' | translate}}</dlcui-button> </div> "
  );


  $templateCache.put('fabric/design/output/addNodeModal.html',
    "<section class=\"cux-dialog cluster-modal\" style=\"width:550px\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Add Node</h1> </div> <div class=\"col-sm-push-5\"> <help-directive aria-label=\"Help Document\" help-index=\"vxrail_cluster\"></help-directive> </div> </div> <div ng-show=\"modal.node.addNodeError\" class=\"alert alert-danger alert-dismissdialog-alert\"> <span class=\"glyphicon glyphicon-remove dialog-glyphicon\"> <strong>Error! </strong>{{modal.node.addNodeErrorMsg}} </div> </header> <div class=\"cux-dialog__content\"> <form name=\"addNodeInClusterModal\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <!--div class=\"row\">\r" +
    "\n" +
    "            <div class=\"col-sm-6\">\r" +
    "\n" +
    "              <label>Node Name </label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"col-sm-6\">\r" +
    "\n" +
    "              <input type=\"text\" class=\"form-control\" name=\"fdc_cluster_addNode_logicalview_name\" ng-model=\"modal.node.name\" required disabled/>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "          </div--> <!--div class=\"row\">\r" +
    "\n" +
    "            <div class=\"col-sm-6\">\r" +
    "\n" +
    "              <label>VxRail Model </label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"col-sm-6\">  \r" +
    "\n" +
    "               <select class=\"form-control\" name=\"fdc_cluster_vxRailModel\" ng-options=\"item.name as item.displayName for item in modal.node.applianceTypes\" ng-model=\"modal.node.vxRailModelInfo\"></select>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "          </div--> <div class=\"row\"> <div class=\"col-sm-4\"> <label>{{'fabricOutput.applianceModel' | translate}}</label> </div> <div class=\"col-sm-6\" ng-class=\"{'has-error' : addNodeInClusterModal.fdc_cluster_applianceInfo.$dirty && addNodeInClusterModal.fdc_cluster_applianceInfo.$invalid}\"> <select class=\"form-control\" ng-model=\"modal.node.applianceInfo\" ng-options=\"item.displayName for item in defaults.applianceTypes | orderBy:'displayName'\" name=\"fdc_cluster_applianceInfo\" ng-disabled=\"isChassis\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\"> <label>No of Nodes </label> </div> <div class=\"col-sm-6\" ng-class=\"{'has-error' : addNodeInClusterModal.fdc_cluster_node_count.$dirty && addNodeInClusterModal.fdc_cluster_node_count.$invalid}\"> <input type=\"Number\" class=\"form-control\" name=\"fdc_cluster_node_count\" ng-model=\"modal.node.count\" validation-directive uib-tooltip=\"\" required min=\"1\" placeholder=\"1\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\" ng-switch=\"selectedCluster.clusterType\"> <label ng-switch-when=\"UNITY_STORAGE\">{{'fabricOutput.frontEndConnectivity' | translate}}</label> <label ng-switch-when=\"ISILON_STORAGE\" powerscale_storage>{{'fabricOutput.frontEndConnectivity' | translate}}</label> <label ng-switch-when=\"POWERSTORE_STORAGE\">{{'fabricOutput.mezzcard' | translate}}</label> <label ng-switch-default>{{'fabricOutput.nodeConnectivity' | translate}}</label> </div> <div class=\"col-sm-2 mar-right-fix\" ng-class=\"{'has-error' : addNodeInClusterModal.fdc_cluster_ndcCard.$dirty && addNodeInClusterModal.fdc_cluster_ndcCard_requiredCount.$invalid}\"> <select class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"modal.node.ndcCard.requiredCount\" name=\"fdc_cluster_ndcCard_requiredCount\" ng-options=\"item for item in modal.node.ndcCardCountOptions\" ng-disabled=\"true\" title=\"{{ modal.node.ndcCard.requiredCount }}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-6 mar-left-fix\" ng-class=\"{'has-error' : addNodeInClusterModal.fdc_cluster_ndcCard.$dirty && addNodeInClusterModal.fdc_cluster_ndcCard.$invalid}\"> <select class=\"form-control\" ng-model=\"modal.node.ndcCard\" name=\"fdc_cluster_ndcCard\" ng-options=\"item.name for item in modal.node.applianceInfo.ndcCard\" required ng-disabled=\"true\" validation-directive uib-tooltip=\"\" title=\"{{ modal.node.ndcCard.name }}\"> </select> </div> </div> <div class=\"row\"> <div ng-if=\"selectedCluster.clusterType != 'ISILON_STORAGE' && selectedCluster.clusterType != 'ECS_STORAGE' && selectedCluster.clusterType != 'POWERSCALE_STORAGE'  \"> <div class=\"col-sm-4\" ng-switch=\"selectedCluster.clusterType\"> <label ng-switch-when=\"UNITY_STORAGE\">{{'fabricOutput.frontEndIOmodules' | translate}}</label> <label ng-switch-when=\"POWERSTORE_STORAGE\">{{'fabricOutput.frontEndIOmodules' | translate}}</label> <label ng-switch-default>{{'fabricOutput.noOfOptionalNIC' | translate}}</label> </div> <div class=\"col-sm-2 mar-right-fix\" ng-class=\"{'has-error' : addNodeInClusterModal.fdc_cluster_optionalCard_requiredCount.$dirty && addNodeInClusterModal.fdc_cluster_optionalCard_requiredCount.$invalid}\"> <select class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"modal.node.optionalCard.requiredCount\" name=\"fdc_cluster_optionalCard_requiredCount\" ng-options=\"item for item in modal.node.optionalCardCountOptions\" ng-disabled=\"true\" title=\"{{ modal.node.optionalCard.requiredCount }}\" uib-tooltip=\"{{'fabricInput.PCIwarning' | translate}}\" tooltip-trigger=\"'focus'\" tooltip-placement=\"top-left\" tooltip-is-open=\"defaults.type == 'HCI_VSANREADY' && modal.node.PCIcountWarning\" tooltip-enable=\"defaults.type == 'HCI_VSANREADY' && modal.node.PCIcountWarning\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-6 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_optionalCard.$dirty && clusterForm.fdc_cluster_optionalCard.$invalid}\"> <select class=\"form-control\" ng-model=\"modal.node.optionalCard\" name=\"fdc_cluster_optionalCard\" ng-options=\"item.name for item in modal.node.applianceInfo.optionalCard\" title=\"{{ modal.node.optionalCard.name }}\" ng-disabled=\"true\" validation-directive uib-tooltip=\"\"> </select> </div> </div> </div> <div class=\"row\" ng-if=\"selectedCluster.clusterType=='SAP_HANA'\"> <div class=\"col-sm-12\">Note: Based on number of nodes standby nodes will be added.</div> </div> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-disabled=\"addNodeInClusterModal.$invalid\" ng-click=\"validateAddNode()\">Add</dlcui-button> <dlcui-button type=\"secondary\" ng-click=\"modal.hide()\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/addOptionsOnFabricEdit.html',
    "<div> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"modal-title\"> <div class=\"alert alert-warning\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <strong>Warning!</strong> </div> </h3> <span> <strong> {{fabricEditOptionsErrorModel.message}}</strong> </span> </div> <div class=\"modal-body\" id=\"modal-body\"> <form name=\"addRackWarning\"> <div ng-if=\"firstblock\"><!--this block is shown when both addSpine and upgradeSpine are true--> <div class=\"row\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input type=\"radio\" ng-model=\"fabricEditOptionsErrorModel.editSpine\" name=\"addSpineSel\" value=\"add\" id=\"addSpine\"> <label for=\"addSpine\"> Add Spine</label> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input type=\"radio\" ng-model=\"fabricEditOptionsErrorModel.editSpine\" name=\"upgradeSpineSel\" value=\"upgrade\" id=\"upgradeSpine\"> <label for=\"upgradeSpine\"> Upgrade Spine</label> </div> </div> </div> </div> <div ng-if=\"!firstblock\"><!-- this block is shown when any one of the option (addSpine or upgradeSpine) is true --> <div class=\"row\" ng-if=\"fabricEditOptionsErrorModel.addSpine=='add'\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input type=\"radio\" ng-model=\"fabricEditOptionsErrorModel.addSpine\" name=\"spineSel\" value=\"add\" id=\"addSpine\"> <label for=\"addSpine\"> Add Spine</label> </div> </div> </div> <div class=\"row\" ng-if=\"fabricEditOptionsErrorModel.upgradeSpine=='upgrade'\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input type=\"radio\" ng-model=\"fabricEditOptionsErrorModel.upgradeSpine\" name=\"spineSel\" value=\"upgrade\" id=\"upgradeSpine\"> <label for=\"upgradeSpine\"> Upgrade Spine</label> </div> </div> </div> </div> <div class=\"row\" ng-if=\"fabricEditOptionsErrorModel.upgradeLeaf==true\"> <div class=\"col-sm-4\"> <div class=\"radio\"> <input type=\"radio\" name=\"leafSel\" ng-value=\"true\" id=\"upgradeLeaf\" ng-disabled=\"true\"> <label for=\"upgradeLeaf\"> Upgrade Leaf</label> </div> </div> </div> </form> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" ng-click=\"sendWorkLoadData()\" name=\"warningOk\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"$dismiss()\" name=\"warningCancel\">{{'general.cancel' | translate}}</dlcui-button> </div> </div>"
  );


  $templateCache.put('fabric/design/output/addPodChassisModal.html',
    "<section class=\"cux-dialog cluster-modal\" style=\"width:550px\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Add Chassis</h1> </div> <div class=\"col-sm-push-5\"> <help-directive aria-label=\"Help Document\" help-index=\"vxrail_cluster\"></help-directive> </div> </div> <div ng-show=\"modal.node.addNodeError\" class=\"alert alert-danger alert-dismissdialog-alert\"> <span class=\"glyphicon glyphicon-remove dialog-glyphicon\"> <strong>Error! </strong>{{modal.node.addNodeErrorMsg}} </div> </header> <div class=\"cux-dialog__content\"> <form name=\"addChassisInPodFabricsModal\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-4\"> <label>Number of Chassis </label> </div> <div class=\"col-sm-6\" ng-class=\"{'has-error' : addChassisInPodFabricsModal.fdc_cluster_node_count.$dirty && addChassisInPodFabricsModal.fdc_cluster_node_count.$invalid}\"> <input type=\"Number\" class=\"form-control\" name=\"fdc_cluster_node_count\" ng-model=\"modal.node.count\" validation-directive uib-tooltip=\"\" required min=\"1\" placeholder=\"1\"> </div> </div> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-disabled=\"addChassisInPodFabricsModal.$invalid\" ng-click=\"validatePodChassis()\">Add</dlcui-button> <dlcui-button type=\"secondary\" ng-click=\"modal.hide()\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/autoPopulateModal.html',
    "<style>.smallform {\r" +
    "\n" +
    "        padding-bottom: 8%;\r" +
    "\n" +
    "    }\r" +
    "\n" +
    "\r" +
    "\n" +
    "    .smallform label {\r" +
    "\n" +
    "        font-size: 14px;\r" +
    "\n" +
    "    }</style> <section class=\"cux-dialog cluster-modal\" style=\"width:500px\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-8\"> <h1 class=\"cux-dialog__header-title\">{{'fabricOutput.networksettings.fabricsettings.autopopulate.title' | translate}}</h1> </div> <div class=\"col-sm-push-3\"> <help-directive aria-label=\"Help Document\" help-index=\"fabric_details\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\"> <form name=\"autopopulateForm\" class=\"form-horizontal form-spacing smallform cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-6\"> <label ng-if=\"type=='router'\"> {{'fabricOutput.networksettings.fabricsettings.autopopulate.loopbackAddress' | translate}}</label> <label ng-if=\"type=='uplink'\">{{'fabricOutput.networksettings.fabricsettings.autopopulate.nwAddress' | translate}}</label> </div> <div class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.nwAddress.$dirty && autopopulateForm.nwAddress.$invalid}\"> <input type=\"text\" style=\"width:150px\" ng-model=\"autopopulateModel.nwAddress\" class=\"form-control\" name=\"nwAddress\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.nwmask.$dirty && autopopulateForm.nwmask.$invalid}\"> <input type=\"number\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.nwMask\" name=\"nwmask\" validation-directive uib-tooltip=\"\" required min=\"0\" max=\"32\" placeholder=\"24\"> </div> </div> </div> <!--the below code is applicable for uplink protocol other than ospf for local asn support for single tier--> <div ng-if=\"uplink.upLinkProtocolType!='OSPF' && type=='router' && uplink.tiers==1\"> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.localLeafASN' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.asn1.$dirty && autopopulateForm.asn1.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"autopopulateModel.asn1\" name=\"asn1\" validation-directive uib-tooltip=\"\" min=\"0\" max=\"65536\" required> </div> </div> <div class=\"row\" ng-if=\"uplink.upLinkProtocolType!='iBGP'\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.leafASNIncr' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.asnInc1.$dirty && autopopulateForm.asnInc1.$invalid}\"> <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"autopopulateModel.asnInc1\" name=\"asnInc1\" validation-directive uib-tooltip=\"\" required> </div> </div> </div> <!--end of local asn for single tier--> <!--the below code is applicable for uplink protocol other than ospf for local asn support for multi tier--> <div ng-if=\"type=='router' && uplink.tiers>1\"> <div class=\"row\" ng-if=\"uplink.fabricType!='Layer_2_TOR'\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.localSpineASN' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.asn.$dirty && autopopulateForm.asn.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"autopopulateModel.asn\" name=\"asn\" validation-directive uib-tooltip=\"\" min=\"0\" max=\"65536\" required> </div> </div> <div class=\"row\" ng-if=\"uplink.fabricType!='Layer_2_TOR' && showAsnInc\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.spineASNIncr' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.asnInc.$dirty && autopopulateForm.asnInc.$invalid}\"> <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"autopopulateModel.asnInc\" name=\"asnInc\" validation-directive uib-tooltip=\"\" required> </div> </div> <div class=\"row\" ng-if=\"uplink.fabricType!='Layer_2_Leaf_Spine'\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.localLeafASN' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.asn1.$dirty && autopopulateForm.asn1.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"autopopulateModel.asn1\" name=\"asn1\" validation-directive uib-tooltip=\"\" min=\"0\" max=\"65536\" required> </div> </div> <div class=\"row\" ng-if=\"uplink.fabricType!='Layer_2_Leaf_Spine' && showAsnInc\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.leafASNIncr' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.asnInc1.$dirty && autopopulateForm.asnInc1.$invalid}\"> <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"autopopulateModel.asnInc1\" name=\"asnInc1\" validation-directive uib-tooltip=\"\" required> </div> </div> </div> <!--end of local asn for single tier--> <!--the below code is applicable for uplink protocol other than ospf for remote asn configuration--> <div ng-if=\"(type=='uplink' && uplink.upLinkProtocolType=='eBGP')\"> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.remoteASN' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.remoteAsn.$dirty && autopopulateForm.remoteAsn.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"autopopulateModel.remoteAsn\" name=\"remoteAsn\" validation-directive uib-tooltip=\"\" min=\"0\" max=\"65536\" required> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.remoteASNIncr' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.remoteAsnInc.$dirty && autopopulateForm.remoteAsnInc.$invalid}\"> <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"autopopulateModel.remoteAsnInc\" name=\"remoteAsnInc\" validation-directive uib-tooltip=\"\" required> </div> </div> </div> <!--end of local asn--> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-disabled=\"autopopulateForm.$invalid||autopopulateForm.$pristine\" ng-if=\"type=='router'\" ng-click=\"generateAutoCompleteRouterSettings(autopopulateForm)\">{{'general.generate' | translate}}</dlcui-button> <dlcui-button type=\"primary\" ng-disabled=\"autopopulateForm.$invalid||autopopulateForm.$pristine\" ng-if=\"type=='uplink'\" ng-click=\"generateAutoCompleteUplinkSettings(autopopulateForm)\">{{'general.generate' | translate}}</dlcui-button> <dlcui-button type=\"secondary\" ng-click=\"modal.hide()\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/bom.html',
    "<div class=\"container-fluid\" busy-tracker=\"isLoaded\" busy-config=\"spinjs\" id=\"bomSection\"> <div class=\"row custom-\"> <div class=\"col-sm-12\"> <div class=\"col-sm-9\"> </div> <div class=\"dropdown pull-right\"> <button tabindex=\"0\" class=\"btn btn-primary\" name=\"download_wiring\" keypressbutton event=\"$event\" index=\"$index\" keypress-button><span class=\"glyphicon glyphicon-save\"></span> Download </button> <div class=\"dropdown-content\"> <a tabindex=\"0\" href=\"\" class=\"dropdown-divider\" ng-repeat=\"download_value in bm.viewmodel.format\" keypress-button ng-keydown=\"handleKeyDown($event, $index, download_value, bm.viewmodel.format)\" ng-click=\"downloadBomForFabric(download_value)\">{{download_value.label}}</a> </div> </div> </div> </div> <dlcui-content-pane class=\"dlcui-unit dlcui-two-thirds\" dlcui-title=\"Bill of Material Settings\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" aria-expanded=\"false\" role=\"button\" class=\"btn btn-link\" ng-click=\"editfabric()\" ng-keypress=\"editfabric()\" name=\"fdc_edit_bom\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> <div class=\"container-fluid\"> <form name=\"form.bomfabric\" class=\"form-horizontal cluster-form\" style=\"user-select:text;-moz-user-select:text;-ms-user-select:text\" novalidate> <div class=\"row\"> <div class=\"col-sm-6 form-spacing\"> <div class=\"row\"> <div class=\"col-sm-7\"> <label for=\"fdc_bom_output_content_airflow\" name=\"fdc_bom_output_label_airflow\">{{'fabricOutput.bom.edit.airflow' | translate}}</label> </div> <div class=\"col-sm-4\"> <select tabindex=\"0\" id=\"fdc_bom_output_content_airflow\" name=\"fdc_bom_output_content_airflow_edit\" ng-if=\"edit\" class=\"form-control\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.switch_air_flow\" ng-options=\"o as o for o  in bm.viewmodel.bomdefaults.bom_defaults.switch_air_flow\"></select> <span name=\"fdc_bom_output_content_airflow\" id=\"fdc_bom_output_content_airflow\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.switch_air_flow}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-7\"> <label for=\"bomRedtpowersupply\" name=\"fdc_bom_output_label_redtpowersupply\">{{'fabricOutput.bom.edit.redtpowersupply' | translate}}</label> </div> <div class=\"col-sm-4\"> <div ng-if=\"edit\"> <input tabindex=\"0\" type=\"checkbox\" value=\"\" name=\"bom_redtpowersupply\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.redundant_power_supply_switches\" id=\"bomRedtpowersupply\"> <label id=\"bom_Redtpowersupply\" for=\"bomRedtpowersupply\"></label> </div> <span name=\"fdc_bom_output_content_redtpowersupply\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.redundant_power_supply_switches|booleanYesNoDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-7\"> <label for=\"fdc_bom_output_content_cablelength_edit\" name=\"fdc_bom_output_label_cablelength\">{{'fabricOutput.bom.edit.cablelength' | translate}}</label> </div> <div class=\"col-sm-4\"> <div> <select tabindex=\"0\" id=\"fdc_bom_output_content_cablelength_edit\" name=\"fdc_bom_output_content_cablelength_edit\" ng-if=\"edit\" class=\"form-control\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.cable_length_spine2tor\" ng-options=\"o as o for o  in bm.viewmodel.bomdefaults.bom_defaults.cable_length_spine2tor\"></select> <span name=\"fdc_bom_output_content_cablelength\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.cable_length_spine2tor}}</span> </div> </div> </div> <div class=\"row\" ng-if=\"bm.viewmodel.bomdefaults.bom_defaults.out_of_band_mgmt_switch.length>1\"> <div class=\"col-sm-7\"> <label for=\"bomOutBound\" name=\"fdc_bom_output_label_mgmt\">{{'fabricOutput.bom.edit.mgmt' | translate}}</label> </div> <div class=\"col-sm-4\"> <div ng-if=\"edit\"> <input tabindex=\"0\" type=\"checkbox\" value=\"\" name=\"bom_use_out_of_band_mgmt\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.use_out_of_band_mgmt\" id=\"bomOutBound\"> <label id=\"bom_OutBound\" for=\"bomOutBound\"></label> </div> <span name=\"fdc_bom_output_content_mgmt\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.use_out_of_band_mgmt|booleanYesNoDisplay}}</span> </div> </div> </div> <!--div class=\"row\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t<div class=\"col-sm-7\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t<label name=\"fdc_bom_output_label_taa\">{{'fabricOutput.bom.edit.taa' | translate}}</label>\r" +
    "\n" +
    "\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t\t<div class=\"col-sm-4\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t<div ng-if=\"edit\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" value=\"\" name=\"bom_taa\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.taa\" id=\"bomTaa\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t<label id=\"bom_Taa\" for=\"bomTaa\"></label>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t<span name=\"fdc_bom_output_content_taa\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.taa|booleanYesNoDisplay}}</span>\r" +
    "\n" +
    "\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t</div--> <div class=\"col-sm-5 form-spacing\"> <div class=\"row\"> <div class=\"col-sm-7\"> <label for=\"fdc_bom_output_content_powersupply_edit\" name=\"fdc_bom_output_label_powersupply\">{{'fabricOutput.bom.edit.powersupply' | translate}}</label> </div> <div class=\"col-sm-4\"> <select tabindex=\"0\" id=\"fdc_bom_output_content_powersupply_edit\" name=\"fdc_bom_output_content_powersupply_edit\" ng-if=\"edit\" class=\"form-control\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.power_supply\" ng-options=\"o as o for o  in bm.viewmodel.bomdefaults.bom_defaults.power_supply\"></select> <span name=\"fdc_bom_output_content_powersupply\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.power_supply}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-7\"> <label for=\"fdc_bom_output_content_torswreplacement_edit\" name=\"fdc_bom_output_label_torswreplacement\">{{'fabricOutput.bom.edit.torswreplacement' | translate}}</label> </div> <div class=\"col-sm-4\"> <select tabindex=\"0\" id=\"fdc_bom_output_content_torswreplacement_edit\" name=\"fdc_bom_output_content_torswreplacement_edit\" ng-if=\"edit\" class=\"form-control\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.tor_placement\" ng-options=\"o as o for o  in bm.viewmodel.bomdefaults.bom_defaults.tor_placement\"></select> <span name=\"fdc_bom_output_content_torswreplacement\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.tor_placement}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-7\"> <label for=\"bom_directcables\" name=\"fdc_bom_output_label_directcables\">{{'fabricOutput.bom.edit.directcables' | translate}}</label> </div> <div class=\"col-sm-4\"> <div ng-if=\"edit\"> <input tabindex=\"0\" type=\"checkbox\" id=\"bom_directcables\" value=\"\" name=\"bom_directcables\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.use_DAC_where_possible\" id=\"bomDirectcables\"> <label id=\"bom_Directcables\" for=\"bomDirectcables\"></label> </div> <span name=\"fdc_bom_output_content_directcables\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.use_DAC_where_possible|booleanYesNoDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"bm.viewmodel.bomdefaults.bom_fabric_model.use_out_of_band_mgmt\"> <div class=\"col-sm-7\"> <label for=\"fdc_bom_output_mgmt_switch_edit\" name=\"fdc_bom_output_mgmt_switch\">{{'fabricOutput.bom.edit.out_of_band_mgmt_switch' | translate}}</label> </div> <div class=\"col-sm-4\"> <select tabindex=\"0\" id=\"fdc_bom_output_mgmt_switch_edit\" name=\"fdc_bom_output_mgmt_switch_edit\" ng-if=\"edit\" class=\"form-control\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.out_of_band_mgmt_switch\" ng-disabled=\"bm.viewmodel.bomdefaults.bom_defaults.out_of_band_mgmt_switch.length == 1\" ng-options=\"o as o for o  in bm.viewmodel.bomdefaults.bom_defaults.out_of_band_mgmt_switch\"></select> <span name=\"fdc_bom_output_mgmt_switch\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.out_of_band_mgmt_switch}}</span> </div> </div> <!--div class=\"row\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t<div class=\"col-sm-7\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t<label name=\"fdc_bom_output_label_powercord\">{{'fabricOutput.bom.edit.powercord' | translate}}</label>\r" +
    "\n" +
    "\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t\t<div class=\"col-sm-4\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t<select name=\"fdc_bom_output_content_powercord_edit\" ng-if=\"edit\" class=\"form-control\" ng-model=\"bm.viewmodel.bomdefaults.bom_fabric_model.power_cord\" ng-options=\"o as o for o  in bm.viewmodel.bomdefaults.bom_defaults.power_cord\"></select>\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t<span name=\"fdc_bom_output_content_powercord\" ng-if=\"!edit\">{{bm.viewmodel.bomdefaults.bom_fabric_model.power_cord}}</span>\r" +
    "\n" +
    "\t\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t</div--> </div> </div> </form> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" role=\"status\" ng-keypress=\"updateBomFabric()\" ng-click=\"updateBomFabric()\" name=\"fdc_bom_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelGeneratedBom()\" ng-click=\"cancelGeneratedBom()\" name=\"fdc_bom_input_cancel\">{{'DLCUI_CANCEL' | translate}}</dlcui-button> </menu> </footer> </div> </dlcui-content-pane> <div class=\"panel panel-default\"> <div class=\"panel-body\"> <div class=\"container-fluid\" ng-repeat=\"eachbom in generatedBomData\" style=\"user-select:text;-moz-user-select:text;-ms-user-select:text\"> <div name=\"fdc_bom_input_bomcontent_{{$index}}\" class=\"content-title\"><h3 style=\"margin:0px\">{{eachbom.name}}</h3></div> <table name=\"fdc_bom_input_table_{{$index}}\" class=\"table table-bordered\" ng-repeat=\"i in eachbom.summaryitems\" ng-if=\"eachbom.summaryitems\"> <thead> <tr> <th name=\"fdc_bom_input_tableheader_summaryitem_model_{{$parent.$index}}\" class=\"col-md-3\">{{'fabricOutput.bom.table_headers.header1' | translate}}</th> <th name=\"fdc_bom_input_tableheader_summaryitem_desc_{{$parent.$index}}\" class=\"col-md-7\">{{'fabricOutput.bom.table_headers.header2' | translate}}</th> <th name=\"fdc_bom_input_tableheader_summaryitem_qty_{{$parent.$index}}\" class=\"col-md-2\">{{'fabricOutput.bom.table_headers.header3' | translate}}</th> </tr> </thead> <tbody> <tr ng-repeat=\"item in i\"> <td name=\"fdc_bom_input_tablerow_summaryitem_model_{{$parent.$index}}_{{$index}}\">{{item.name}}<button tabindex=\"0\" ng-if=\"item.supported_optics_cables\" class=\"col-xs-1 btn btn-link pull-right\" ng-click=\"EditOpticsCables(item.name,item.supported_optics_cables)\" aria-label=\"Edit {{item.supported_optics_cables.type}} Cable for {{item.name}}\"><span class=\"glyphicon glyphicon-edit\"></span></button></td> <td name=\"fdc_bom_input_tablerow_summaryitem_desc_{{$parent.$index}}_{{$index}}\">{{item.description}}</td> <td name=\"fdc_bom_input_tablerow_summaryitem_qty_{{$parent.$index}}_{{$index}}\">{{item.quantity}}</td> </tr> </tbody> </table> </div> <div class=\"container-fluid\" style=\"color:red;user-select:text;-moz-user-select:text;-ms-user-select:text\"> <div name=\"note\" class=\"content-title\">Note:</div> <ol> <li>Please use sales quote tools to select options for <ul> <li>Airflow</li> <li>Operating System</li> <li>Cables and optics</li> <li>AC or DC Power Supply</li> <li>Country specific power cords</li> <li>TAA options</li> <li>ProSupport and ProDeploy</li> </ul> </li> <li>Please refer the product <a tabindex=\"0\" href=\"#\" onclick=\"MyWindow=window.open('https://www.dell.com/en-us/work/shop/switches/sf/switches?~ck=bt','Product details','width=800,height=400'); return false\" style=\"font-size: 20px;color:#0076CE\" aria-label=\"Ethernet Networking Switches\"><b><u>link</u></b></a> pages in BoM screen for details on the product. </li> </ol> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/output/clusterInput.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Edit Cluster</h1> </div> <div class=\"col-sm-push-5\"> <help-directive aria-label=\"Help Document\" help-index=\"vxrail_cluster\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\"> <form name=\"form.clusterinput\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-3\"> <label>Cluster Name </label> </div> <div class=\"col-sm-3\"> <input type=\"text\" class=\"form-control\" name=\"fdc_cluster_name\" ng-model=\"clusterinput.name\" required> </div> <div class=\"col-sm-3\"> <label>VxRail Model </label> </div> <div class=\"col-sm-3\"> <select class=\"form-control\" ng-model=\"clusterinput.vxRailModelInfo\" ng-options=\"item.name for item in inputModel.applianceTypes\" name=\"fdc_cluster_vxRailModel\" disabled=\"disabled\"> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label>No of VxRail Nodes</label> </div> <div class=\"col-sm-3\"> <input type=\"number\" class=\"form-control\" placeholder=\"\" ng-model=\"clusterinput.currentNodes\" name=\"fdc_cluster_currentNodes\" required disabled=\"disabled\"> </div> <div class=\"col-sm-3\"> <label>Projected Future Nodes</label> </div> <div class=\"col-sm-3\"> <input type=\"number\" class=\"form-control\" placeholder=\"\" ng-model=\"clusterinput.futureNodes\" name=\"fdc_cluster_futureNodes\" disabled=\"disabled\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label>{{'fabricOutput.logicalView.cluster.applianceConnectivityInfo' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\"> <input type=\"number\" class=\"form-control\" placeholder=\"\" ng-model=\"clusterinput.applianceConnectivityInfo.count\" name=\"fdc_cluster_applianceConnectivityInfo_count\" disabled=\"disabled\"> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-2 mar-left-fix\"> <select class=\"form-control\" ng-model=\"clusterinput.applianceConnectivityInfo\" name=\"fdc_cluster_applianceConnectivityInfo\" ng-options=\"item.bandwidth +''+item.unit +' '+ item.physicalType for item in clusterinput.vxRailModelInfo.applianceConnectivity\" disabled=\"disabled\" title=\"{{ clusterinput.applianceConnectivityInfo.bandwidth +''+clusterinput.applianceConnectivityInfo.unit +' '+ clusterinput.applianceConnectivityInfo.physicalType}}\"> </select> </div> <div class=\"col-sm-3\"> <label>{{'fabricOutput.noOfOptionalNIC' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\"> <input type=\"number\" class=\"form-control\" ng-model=\"clusterinput.optionalNicsCount\" name=\"fdc_cluster_optionalNicsCount\" disabled=\"disabled\"> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-2 mar-left-fix\"> <input type=\"text\" ng-disabled=\"true\" class=\"form-control\" name=\"fdc_cluster_optionalNicsPort\" value=\"{{clusterinput.applianceConnectivityInfo.bandwidth +''+clusterinput.applianceConnectivityInfo.unit +' '+ clusterinput.applianceConnectivityInfo.physicalType}}\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label>Network Resilience</label> </div> <div class=\"col-sm-3\"> <div class=\"checkbox\"> <label><input type=\"checkbox\" value=\"\" ng-model=\"clusterinput.networkResiliency\" name=\"fdc_cluster_networkResiliency\" disabled=\"disabled\"></label> </div> </div> <div class=\"col-sm-3\"> <label>Pre-Configure projected node</label> </div> <div class=\"col-sm-1\"> <div class=\"checkbox\"> <label><input type=\"checkbox\" value=\"\" ng-model=\"clusterinput.preconfigureFutureNodes\" name=\"fdc_cluster_preconfigureFutureNodes\" disabled=\"disabled\"></label> </div> </div> </div> </form> <form name=\"form.clustervlan\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-11 cux-dialog__header\"> <h3>VLAN Information</h3> </div> <div class=\"col-sm-1\"> <help-directive aria-label=\"Help Document\" help-index=\"vxrail_vlan\"></help-directive> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> </div> <div class=\"col-sm-3 text-center\"> <label>ID</label> </div> <div class=\"col-sm-3 text-center\"> <label>Name</label> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label>VxRail Management VLAN</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.clustervlan.mgmt_vlanId.$dirty && form.clustervlan.mgmt_vlanId.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"clustervlan.mgmt.vlanId\" name=\"mgmt_vlanId\" required validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.clustervlan.mgmt_name.$dirty && form.clustervlan.mgmt_name.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"clustervlan.mgmt.name\" name=\"mgmt_name\" required validation-directive uib-tooltip=\"\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label>vSAN VLAN</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.clustervlan.vSan_vlanId.$dirty && form.clustervlan.vSan_vlanId.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"clustervlan.vSan.vlanId\" name=\"vSan_vlanId\" validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.clustervlan.vSan_name.$dirty && form.clustervlan.vSan_name.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"clustervlan.vSan.name\" name=\"vSan_name\" validation-directive uib-tooltip=\"\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label>vMotion VLAN</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.clustervlan.vMotion_vlanId.$dirty && form.clustervlan.vMotion_vlanId.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"clustervlan.vMotion.vlanId\" name=\"vMotion_vlanId\" validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.clustervlan.vMotion_name.$dirty && form.clustervlan.vMotion_name.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"clustervlan.vMotion.name\" name=\"vMotion_name\" validation-directive uib-tooltip=\"\"> </div> </div> <div class=\"row\" ng-repeat=\"gVLAN in clustervlan.guestVlans\"> <div class=\"col-sm-3\"> <label ng-if=\"$index == 0\">Pre-Configure VM Networks</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.clustervlan.guestVlans_vlanId_{{$index}}.$dirty && form.clustervlan.guestVlans_vlanId_{{$index}}.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"clustervlan.guestVlans[$index].vlanId\" name=\"guestVlans_vlanId_{{$index}}\" validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.clustervlan.guestVlans_name_{{$index}}.$dirty && form.clustervlan.guestVlans_name_{{$index}}.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"clustervlan.guestVlans[$index].name\" name=\"guestVlans_name_{{$index}}\" validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-3\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\"><button type=\"button\" class=\"btn btn-link\" ng-click=\"addGuestVLAN()\" name=\"fdc_vlan_add_cluster{{$index}}\"><span class=\"glyphicon glyphicon-plus\"></span></button></li> <li ng-if=\"$index != 0\"><button type=\"button\" class=\"btn btn-link\" ng-click=\"deleteGuestVLAN($index)\" name=\"fdc_vlan_delete_cluster{{$index}}\"><span class=\"glyphicon glyphicon-minus\"></span></button></li> </ul> </div> </div> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-click=\"updateCluster()\" name=\"fdc_cluster_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"modal.dismiss()\" name=\"fdc_cluster_input_cancel\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/configDownload.html',
    "<div class=\"panel panel-default output-sec\"> <div class=\"container-fluid\" ng-if=\"deploymentType!='Enterprise SONiC Fabric'\"> <div class=\"content-title\"></div> <div class=\"row networkconf_content\" edit-mode=\"true\"> <div class=\"col-sm-2 networkconf_menu\"> <ul class=\"nav nav-pills nav-stacked\"> <li> <a href tabindex=\"0\" aria-labelledby=\"SwitchConfiguration\" role=\"dialog\" aria-modal=\"true\" id=\"switchconfig\" ng-click=\"settabactive('Switch Configuration')\" ng-attr-id=\"{{active_menu=='Switch Configuration' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> Switch Configuration </a> </li> <li> <a href tabindex=\"0\" aria-labelledby=\"DHCPConfiguration\" role=\"dialog\" aria-modal=\"true\" id=\"dhcpconfig\" ng-click=\"loadDHCP();settabactive('DHCP & ZTD Configuration')\" ng-attr-id=\"{{active_menu=='DHCP & ZTD Configuration' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> DHCP & ZTD Configuration </a> </li> </ul> </div> <div class=\"col-sm-10\"> <div ng-show=\"active_menu=='Switch Configuration'\" ng-controller=\"downloadSwitchConfigCtrl as switchconfig\" ng-include=\"'fabric/design/output/download.switchconfig.html'\"> </div> <div ng-show=\"active_menu=='DHCP & ZTD Configuration'\" ng-controller=\"dhcpConfigCtrl as dhcpConfig\" ng-include=\"'fabric/design/output/download.dhcpconfig.html'\"> </div> </div> </div> <!--dlng-wizard style=\"height: 200px\" display=\"vertical\" edit-mode=\"true\">\r" +
    "\n" +
    "            <dlng-wizard-step dlng-title=\"Switch Configuration\">\r" +
    "\n" +
    "                <div tabindex=\"0\" ng-controller=\"downloadSwitchConfigCtrl as switchconfig\" ng-include=\"'fabric/design/output/download.switchconfig.html'\">\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </dlng-wizard-step>\r" +
    "\n" +
    "\r" +
    "\n" +
    "            <dlng-wizard-step on-enter=\"loadDHCP()\"  dlng-title=\"DHCP & ZTD Configuration\">\r" +
    "\n" +
    "                <div tabindex=\"0\" ng-controller=\"dhcpConfigCtrl as dhcpConfig\" ng-include=\"'fabric/design/output/download.dhcpconfig.html'\">\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </dlng-wizard-step>\r" +
    "\n" +
    "        </dlng-wizard--> </div> <div class=\"container-fluid\" ng-if=\"deploymentType=='Enterprise SONiC Fabric'\"> <div class=\"content-title\"></div> <div class=\"row networkconf_content\" edit-mode=\"true\"> <div class=\"col-sm-2 networkconf_menu\"> <ul class=\"nav nav-pills nav-stacked\"> <li> <a tabindex=\"0\" aria-labelledby=\"SwitchConfiguration\" role=\"dialog\" aria-modal=\"true\" id=\"switchconfig\" href ng-click=\"settabactive('Switch Configuration')\" ng-attr-id=\"{{active_menu=='Switch Configuration' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> Switch Configuration </a> </li> <li> <a tabindex=\"0\" aria-labelledby=\"DHCPConfiguration\" role=\"dialog\" aria-modal=\"true\" id=\"dhcpconfig\" href ng-click=\"loadDHCP();settabactive('DHCP & ZTD Configuration')\" ng-attr-id=\"{{active_menu=='DHCP & ZTD Configuration' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> DHCP & ZTD Configuration </a> </li> </ul> </div> <div class=\"col-sm-10\"> <div ng-show=\"active_menu=='Switch Configuration'\" ng-controller=\"downloadSwitchConfigCtrl as switchconfig\" ng-include=\"'fabric/design/output/download.switchconfig.html'\"> </div> <div ng-show=\"active_menu=='DHCP & ZTD Configuration'\" ng-controller=\"dhcpConfigCtrl as dhcpConfig\" ng-include=\"'fabric/design/output/download.dhcpconfig_sonic.html'\"> </div> </div> </div> <!--dlng-wizard style=\"height: 200px\" display=\"vertical\" edit-mode=\"true\">\r" +
    "\n" +
    "            <dlng-wizard-step dlng-title=\"Switch Configuration\">\r" +
    "\n" +
    "                <div ng-controller=\"downloadSwitchConfigCtrl as switchconfig\" ng-include=\"'fabric/design/output/download.switchconfig.html'\">\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </dlng-wizard-step>\r" +
    "\n" +
    "            <dlng-wizard-step on-enter=\"loadDHCP()\"  dlng-title=\"DHCP & ZTP Configuration\">\r" +
    "\n" +
    "                <div ng-controller=\"dhcpConfigCtrl as dhcpConfig\" ng-include=\"'fabric/design/output/download.dhcpconfig_sonic.html'\">\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </dlng-wizard-step>            \r" +
    "\n" +
    "        </dlng-wizard--> </div> </div>"
  );


  $templateCache.put('fabric/design/output/contextmenu.template.html',
    "<ul id=\"contextmenu-node\"> <li class=\"contextmenu-item\" ng-repeat=\"(key, value) in contextMenuItems\">{{value.name}}</li><li> </li></ul>"
  );


  $templateCache.put('fabric/design/output/dciworkflow.html',
    "<div style=\"top:100px\"> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"modal-title\"> <div class=\"alert alert-warning\"> <span class=\"glyphicon glyphicon-info-sign\"></span> <strong>DCI WORKFLOW</strong> </div> </h3> <span ng-if=\"options != 'HCI_POWERFLEX_Appliance'\"> <strong> <ol> <li>Go Logical View screen and ensure that workloads are added. If not added perform the below steps.</li> <ol type=\"i\"> <li>Click on the rack</li> <li>From the properties window, click + Add Workload button.</li> </ol> <li>Go to Network Configuration screen and perform the following steps. <ol type=\"i\"> <li>In Management IP Configuration section, edit the management IP configuration of the switches, if required.</li> <li>In Workload Networks section, click Details, and select the VLAN to edit the VNI ID.</li> <li>Click +Tenant, and then click Edit to add or emove tenants .</li> <li>Click DCI Settings and Import L2 and L3 VNIs of the other site. </li> <li>Update the Router Settings in Network Configuration if needed.</li> </ol> </li> <li>Download the Configuration of one site from Configuration Download Page.</li> <li>Follow the same steps and create next site fabric separately.</li> </ol> </strong> </span> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" ng-click=\"$dismiss()\" name=\"warning_edit_RackOk\">{{'general.OK' | translate}}</dlcui-button> <!--dlcui-button type=\"danger\" ng-click=\"$dismiss()\" name=\"warning_edit_rack_Cancel\">{{'general.cancel' | translate}}</dlcui-button--> </div> </div>"
  );


  $templateCache.put('fabric/design/output/deleteModal.html',
    "<div role=\"dialog\" tabindex=\"0\" aria-modal=\"true\" aria-labelledby=\"deleteHeading\"> <div> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"deleteHeading\"> <div class=\"alert\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <span>Delete</span> </div> </h3> <span style=\"padding: 0 15px\"> Are you sure you want to Delete?.<br><br> </span> </div> </div> <div class=\"modal-footer\"> <button tabindex=\"0\" type=\"primary\" class=\"dlcui-button dlcui-primary\" ng-click=\"$close('ok')\" ng-keypress=\"$close('ok')\" name=\"warning_delete_Ok\">{{'general.OK' | translate}}</button> <dlcui-button type=\"danger\" class=\"cancel\" tabindex=\"1\" ng-click=\"$dismiss()\" ng-keypress=\"$dismiss()\" name=\"warning_delete_Cancel\">{{'general.cancel' | translate}}</dlcui-button> </div> </div>"
  );


  $templateCache.put('fabric/design/output/download.dhcpconfig.html',
    "<style type=\"text/css\">.fieldset{\r" +
    "\n" +
    "    padding: .35em .625em .75em; \r" +
    "\n" +
    "    margin: 0 2px;\r" +
    "\n" +
    "    border: 1px solid #c0c0c0;\r" +
    "\n" +
    "}\r" +
    "\n" +
    ".fieldset .legend{\r" +
    "\n" +
    "    width: auto;\r" +
    "\n" +
    "    margin-bottom: 0;\r" +
    "\n" +
    "    font-size: 14px;\r" +
    "\n" +
    "    border-bottom: none;\r" +
    "\n" +
    "}\r" +
    "\n" +
    ".dlng-step-wizard .dlng-step-wizard-content.dlng-step-wizard-step-vertical .dlng-step-wizard-transclude {\r" +
    "\n" +
    "    padding: 10px;\r" +
    "\n" +
    "}</style> <!--type:ftp/tftp--> <div class=\"col-sm-12\"> <form name=\"form.dhcpinput\" class=\"form-horizontal form-spacing\"> <div class=\"row\"> <div class=\"col-sm-4\"> <h4 class=\".nav-tabs\">DHCP & ZTD Configuration</h4> </div> <div class=\"col-sm-2\"> <h5><b name=\"os\"><label for=\"ostype\">Operating System:</label></b></h5> </div> <div class=\"col-sm-2\"> <select tabindex=\"0\" id=\"ostype\" name=\"ostype\" class=\"form-control\" ng-options=\"item.name for item in dhcpmodel.filtertypes\" ng-model=\"dhcpmodel.filteredType\" ng-init=\"dhcpmodel.filteredType = dhcpmodel.filtertypes[0]\" ng-disabled=\"true\"></select> </div> <div class=\"col-sm-4\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <li class=\"pull-right list-unstyled list-inline cluster-actions\"><button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"openEditMacModal()\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span>Edit MAC Address</button></li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label for=\"protocol_http\">Protocol Type</label> </div> <div class=\"col-sm-7\"> <!--dlcui-radio ng-model=\"viewmodel.fileServerProtocol\" name=\"protocol_ftp\" value=\"ftp\">FTP</dlcui-radio>&nbsp;&nbsp;\r" +
    "\n" +
    "\t\t\t\t<dlcui-radio ng-model=\"viewmodel.fileServerProtocol\" name=\"protocol_tftp\" value=\"tftp\">TFTP</dlcui-radio><br--> <!--dlcui-radio ng-model=\"viewmodel.fileServerProtocol\" id=\"protocol_http\" name=\"protocol_http\" value=\"http\">HTTP</dlcui-radio><br--> <input type=\"radio\" ng-model=\"viewmodel.fileServerProtocol\" id=\"protocol_http\" name=\"protocol_http\" value=\"http\"> <label for=\"protocol_http\">HTTP</label><br> </div> </div> <!--IP Address:--> <div class=\"row\"> <div class=\"col-sm-5\"> <label for=\"ipaddresslabel\" name=\"ipaddresslabel\">IP Address</label> <span class=\"notes\" style=\"font-size: 12px\" id=\"edit_required\" aria-labelledby=\"This values is required\">* This value is required.</span> </div> <div class=\"col-sm-7\" ng-class=\"{'has-error' : form.dhcpinput.dhcp_ip.$dirty && form.dhcpinput.dhcp_ip.$invalid}\"> <input tabindex=\"0\" type=\"text\" ng-model=\"viewmodel.fileServerIp\" name=\"dhcp_ip\" class=\"form-control\" required validation-directive uib-tooltip=\"\" id=\"ipaddresslabel\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> </div> <!--set username:--> <div ng-if=\"viewmodel.fileServerProtocol=='ftp'\" class=\"row\"> <div class=\"col-sm-5\"> <label for=\"dhcp_username\" name=\"usernamelabel\">Username</label> </div> <div class=\"col-sm-7\" ng-class=\"{'has-error' : form.dhcpinput.dhcp_username.$dirty && form.dhcpinput.dhcp_username.$invalid}\"> <input tabindex=\"0\" type=\"text\" ng-model=\"viewmodel.username\" id=\"dhcp_username\" name=\"dhcp_username\" class=\"form-control\" required validation-directive uib-tooltip=\"\"> </div> </div> <!--password:--> <div ng-if=\"viewmodel.fileServerProtocol=='ftp'\" class=\"row\"> <div class=\"col-sm-5\"> <label for=\"dhcp_password\" name=\"passwordlabel\">Password</label> </div> <div class=\"col-sm-7\" ng-class=\"{'has-error' : form.dhcpinput.dhcp_password.$dirty && form.dhcpinput.dhcp_password.$invalid}\"> <input tabindex=\"0\" id=\"dhcp_password\" name=\"dhcp_password\" ng-model=\"viewmodel.password\" type=\"password\" class=\"form-control\" required validation-directive uib-tooltip=\"\"> </div> </div> <div class=\"row\" ng-repeat=\"model in dhcpmodel.modelsImage\"> <div class=\"col-sm-5\"> <label for=\"switchImage{{model.model}}\" name=\"switchModel\">{{model.model}}</label> </div> <div class=\"col-sm-7\"> <select tabindex=\"0\" id=\"switchImage{{model.model}}\" name=\"switchImage\" class=\"form-control\" ng-options=\"item for item in model.images\" ng-model=\"viewmodel.modelsImage[$index].image\" ng-init=\"viewmodel.modelsImage[$index].image = model.images[0]; viewmodel.modelsImage[$index].modelType = model.model\"></select> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> </div> <div class=\"col-sm-7\"> <dlcui-fancy-button dlcui-type=\"primary\" tabindex=\"0\" ng-click=\"downloadDHCP()\" ng-keypress=\"downloadDHCP()\" name=\"dhcpconfigbutton\" class=\"pull-right\"> <dlcui-font-icon icon=\"download-alt\"></dlcui-font-icon> Download </dlcui-fancy-button> </div> </div> </form> </div>"
  );


  $templateCache.put('fabric/design/output/download.dhcpconfig_sonic.html',
    "<style type=\"text/css\">.fieldset{\r" +
    "\n" +
    "    padding: .35em .625em .75em; \r" +
    "\n" +
    "    margin: 0 2px;\r" +
    "\n" +
    "    border: 1px solid #c0c0c0;\r" +
    "\n" +
    "}\r" +
    "\n" +
    ".fieldset .legend{\r" +
    "\n" +
    "    width: auto;\r" +
    "\n" +
    "    margin-bottom: 0;\r" +
    "\n" +
    "    font-size: 14px;\r" +
    "\n" +
    "    border-bottom: none;\r" +
    "\n" +
    "}\r" +
    "\n" +
    ".dlng-step-wizard .dlng-step-wizard-content.dlng-step-wizard-step-vertical .dlng-step-wizard-transclude {\r" +
    "\n" +
    "    padding: 10px;\r" +
    "\n" +
    "}</style> <!--type:ftp/tftp--> <div class=\"col-sm-12\"> <form name=\"form.dhcpinput\" class=\"form-horizontal form-spacing\"> <div class=\"row\"> <div class=\"col-sm-4\"> <h4 class=\".nav-tabs\">DHCP & ZTP Configuration</h4> </div> <div class=\"col-sm-2\"> <h5><b name=\"os\">Operating System:</b></h5> </div> <div class=\"col-sm-2\"> <select tabindex=\"29\" name=\"ostype\" class=\"form-control\" ng-options=\"item.name for item in dhcpmodel.filtertypes\" ng-model=\"dhcpmodel.filteredType\" ng-init=\"dhcpmodel.filteredType = dhcpmodel.filtertypes[1]\" ng-disabled=\"true\"></select> </div> <div class=\"col-sm-4\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <li class=\"pull-right list-unstyled list-inline cluster-actions\"><button tabindex=\"29\" type=\"button\" class=\"btn btn-link\" ng-click=\"openEditMacModal()\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span>Edit MAC Address</button></li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Protocol Type</label> </div> <div class=\"col-sm-7\"> <!--dlcui-radio ng-model=\"viewmodel.fileServerProtocol\" name=\"protocol_ftp\" value=\"ftp\">FTP</dlcui-radio>&nbsp;&nbsp;\r" +
    "\n" +
    "\t\t\t\t<dlcui-radio ng-model=\"viewmodel.fileServerProtocol\" name=\"protocol_tftp\" value=\"tftp\">TFTP</dlcui-radio><br--> <dlcui-radio tabindex=\"29\" ng-model=\"viewmodel.fileServerProtocol\" name=\"protocol_http\" value=\"http\">HTTP</dlcui-radio><br> </div> </div> <!--IP Address:--> <div class=\"row\"> <div class=\"col-sm-5\"> <label name=\"ipaddresslabel\">IP Address</label> </div> <div class=\"col-sm-7\" ng-class=\"{'has-error' : form.dhcpinput.dhcp_ip.$dirty && form.dhcpinput.dhcp_ip.$invalid}\"> <input tabindex=\"29\" type=\"text\" ng-model=\"viewmodel.fileServerIp\" name=\"dhcp_ip\" class=\"form-control\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> </div> <!--set username:--> <div ng-if=\"viewmodel.fileServerProtocol=='ftp'\" class=\"row\"> <div class=\"col-sm-5\"> <label name=\"usernamelabel\">Username</label> </div> <div class=\"col-sm-7\" ng-class=\"{'has-error' : form.dhcpinput.dhcp_username.$dirty && form.dhcpinput.dhcp_username.$invalid}\"> <input tabindex=\"29\" type=\"text\" ng-model=\"viewmodel.username\" name=\"dhcp_username\" class=\"form-control\" required validation-directive uib-tooltip=\"\"> </div> </div> <!--password:--> <div ng-if=\"viewmodel.fileServerProtocol=='ftp'\" class=\"row\"> <div class=\"col-sm-5\"> <label name=\"passwordlabel\">Password</label> </div> <div class=\"col-sm-7\" ng-class=\"{'has-error' : form.dhcpinput.dhcp_password.$dirty && form.dhcpinput.dhcp_password.$invalid}\"> <input tabindex=\"29\" name=\"dhcp_password\" ng-model=\"viewmodel.password\" type=\"password\" class=\"form-control\" required validation-directive uib-tooltip=\"\"> </div> </div> <div class=\"row\" ng-repeat=\"model in dhcpmodel.modelsImage\"> <div class=\"col-sm-5\"> <label name=\"switchModel\">{{model.model}}</label> </div> <div class=\"col-sm-7\"> <select tabindex=\"29\" name=\"switchImage\" class=\"form-control\" ng-options=\"item for item in model.images\" ng-model=\"viewmodel.modelsImage[$index].image\" ng-init=\"viewmodel.modelsImage[$index].image = model.images[0]; viewmodel.modelsImage[$index].modelType = model.model\"></select> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> </div> <div class=\"col-sm-7\"> <dlcui-fancy-button tabindex=\"29\" dlcui-type=\"primary\" ng-keypress=\"downloadDHCP()\" ng-click=\"downloadDHCP()\" name=\"dhcpconfigbutton\" class=\"pull-right\"> <dlcui-font-icon icon=\"download-alt\"></dlcui-font-icon> Download </dlcui-fancy-button> </div> </div> </form> </div>"
  );


  $templateCache.put('fabric/design/output/download.switchconfig.html',
    "<div class=\"row\"> <div class=\"col-sm-2\"> <h4 class=\".nav-tabs\" role=\"dialog\" aria-modal=\"true\" id=\"switchconfig\" aria-labelledby=\"Switch Configuration\">Switch Configuration</h4> </div> <div class=\"col-sm-2\"> <b name=\"type\"><label for=\"switchConfigType\">Configuration Type:</label></b> </div> <div class=\"col-sm-2\"> <select tabindex=\"0\" id=\"switchConfigType\" name=\"switchConfigType\" class=\"form-control\" ng-options=\"item.label for item in viewmodel.switchConfig\" ng-model=\"viewmodel.selectedConfig\" title=\"{{viewmodel.selectedConfig.label}}\"></select> </div> <div class=\"col-sm-2\"> <b name=\"os\"><label for=\"ostype\">Operating System:</label></b> </div> <div class=\"col-sm-2\"> <select tabindex=\"0\" id=\"ostype\" name=\"ostype\" class=\"form-control\" ng-options=\"item.label for item in viewmodel.selectedConfig.os\" ng-model=\"viewmodel.filteredType\" ng-disabled=\"false\" title=\"{{viewmodel.filteredType.label}}\"></select> </div> <div class=\"col-sm-2\"> <button tabindex=\"0\" class=\"btn btn-primary\" name=\"downloadall\" ng-keypress=\"validateAllConfig();\" ng-click=\"validateAllConfig();\"><span class=\"glyphicon glyphicon-save\"></span> Download All</button> </div> </div> <div class=\"row\" ng-if=\"viewmodel.backend_switches\"> <div class=\"col-sm-12\"> <table st-table=\"viewmodel.backend_switches\" class=\"table table-striped table-bordered\" name=\"BackendSwitchesWiringTable\"> <tbody ng-repeat=\"(key,backend_switches) in viewmodel.backend_switches\" ng-click=\"backend_switches.isCollapsed = !backend_switches.isCollapsed\" ng-switch on=\"isSelected(backend_switches)\"> <tr> <td> <button tabindex=\"0\" aria-label=\"Expand or Collapse the config of the {{key}}\" type=\"button\" class=\"btn btn-link btn-sm\" name=\"fabricsExp{{$index}}\"> <span class=\"glyphicon glyphicon-chevron-{{backend_switches.isCollapsed ? 'down' : 'right'}}\"></span> </button> <label>{{key}}</label> </td> </tr> <tr ng-switch-when=\"true\"> <td colspan=\"3\" class=\"wiring-chassis-table\"> <div class=\"col-sm-12\"> <table st-table=\"backend_switches\" class=\"table table-striped table-bordered\" id=\"switchConfigDownloadTable\"> <thead> <tr> <th name=\"switchname\" width=\"33%\">Switch Name</th> <th name=\"switchmodel\" width=\"33%\">Switch Model</th> <th name=\"actions\" width=\"33%\">Actions</th> </tr> </thead> <tbody> <!--tr  ng-repeat=\"switch in viewmodel.switches | filter:{type:viewmodel.filteredType.name}\"\"--> <tr ng-repeat=\"switch in backend_switches\" style=\"height:45px\"> <td>{{switch.name}}<span class=\"notes\" ng-if=\"switch.edge\"><b> Edge Leaf</b></span></td> <td>{{switch.model}}</td> <td> <a tabindex=\"0\" href=\"\" aria-label=\"View Switch Configuration {{switch.name}}\" ng-click=\"$event.stopPropagation();viewConfig(switch.id)\" role=\"button\" name=\"viewConfig{{$index}}\"> <dlcui-font-icon title=\"View Switch Configuration\" icon=\"list-alt\" style=\"color:#0076CE\"></dlcui-font-icon> </a>&nbsp;&nbsp;&nbsp; <a tabindex=\"0\" href=\"\" aria-label=\"Download Switch Configuration {{switch.name}}\" ng-click=\"$event.stopPropagation();downloadConfig(switch.id, switch.name)\" role=\"button\" name=\"downloadConfig{{$index}}\"> <dlcui-font-icon title=\"Download Switch Configuration\" icon=\"download-alt\" style=\"color:#0076CE\"></dlcui-font-icon></a> </td> </tr> </tbody> <!--tfoot>\r" +
    "\n" +
    "                              <tr>\r" +
    "\n" +
    "                                <td colspan=\"2\" class=\"text-center\">\r" +
    "\n" +
    "                                  <div st-pagination=\"\" st-items-by-page=\"vm.itemsByPage\" st-displayed-pages=\"7\"></div>\r" +
    "\n" +
    "                                </td>\r" +
    "\n" +
    "                              </tr>\r" +
    "\n" +
    "                              </tfoot--> </table> </div> </td> </tr> </tbody> </table> </div> </div> <div class=\"row\" ng-if=\"viewmodel.fsm_chassis_switches\"> <div class=\"col-sm-12\"> <h4>Chassis</h4> <table st-table=\"viewmodel.fsm_chassis_switches\" class=\"table table-striped table-bordered\" name=\"chassisSwitchTable\"> <thead> <tr> <th width=\"1%\"></th> <th name=\"fabric_chassis_name\" width=\"33%\">Chassis</th> </tr> </thead> <tbody ng-repeat=\"(key,value) in viewmodel.fsm_chassis_switches\" ng-click=\"value.isCollapsed = !value.isCollapsed\" ng-switch on=\"isSelected(value)\"> <tr> <td> <button aria-label=\"Expand or Collapse the config of the {{value.name}}\" tabindex=\"0\" type=\"button\" class=\"btn btn-link btn-sm\" name=\"fabricsExp{{$index}}\"> <span class=\"glyphicon glyphicon-chevron-{{value.isCollapsed ? 'down' : 'right'}}\"></span> </button> </td> <td>{{value.name}}</td> </tr> <tr ng-switch-when=\"true\"> <td colspan=\"3\" class=\"wiring-chassis-table\"> <div class=\"col-sm-12\"> <table st-table=\"value.switches\" class=\"table table-striped table-bordered\" name=\"chassisConfigTable\"> <thead> <tr> <!--th name=\"icon\"></th--> <th name=\"chassis_switch_name\" width=\"33%\">Switch Name</th> <th name=\"chassis_switch_model\" width=\"33%\">Switch Model</th> <th name=\"chassis_switch_config\" width=\"33%\">Actions</th> </tr> </thead> <tbody> <tr ng-repeat=\"chassisSwitches in value.switches\" style=\"height:45px\"> <td>{{chassisSwitches.name}}</td> <td>{{chassisSwitches.model}}</td> <td> <a href=\"\" tabindex=\"0\" aria-label=\"View Switch Configuration\" ng-click=\"viewConfig(chassisSwitches.id)\" role=\"button\" name=\"viewConfig{{$index}}\"> <dlcui-font-icon title=\"View Switch Configuration\" icon=\"list-alt\" style=\"color:#0076CE\"></dlcui-font-icon> </a>&nbsp;&nbsp;&nbsp; <a href=\"\" tabindex=\"0\" aria-label=\"Download Switch Configuration\" ng-click=\"downloadConfig(chassisSwitches.id, chassisSwitches.name)\" role=\"button\" name=\"downloadConfig{{$index}}\"> <dlcui-font-icon title=\"Download Switch Configuration\" icon=\"download-alt\" style=\"color:#0076CE\"></dlcui-font-icon></a> </td> </tr> </tbody> </table> </div> </td> </tr> </tbody> </table> </div> </div> <div class=\"row\" ng-if=\"False\"> <div class=\"col-sm-12\"> <h3>Scalable Fabrics</h3> <table st-table=\"viewmodel.chassis\" class=\"table table-striped table-bordered\" id=\"switchConfigDownloadTable\"> <thead> <tr> <!--th name=\"icon\"></th--> <th name=\"scalable_fabric_name\" width=\"33%\">Scalable Fabric Name</th> <th name=\"chassis_name\" width=\"33%\">Chassis Name</th> <th name=\"wiringdiagram\" width=\"33%\">Actions</th> </tr> </thead> <tbody> <!--tr  ng-repeat=\"switch in wiring.viewmodel.switches | filter:{type:wiring.viewmodel.filteredType.name}\"\"--> <tr ng-repeat=\"chassis in viewmodel.chassis\" style=\"height:45px\"> <!--td>\r" +
    "\n" +
    "                <button type=\"button\" class=\"btn btn-link btn-sm\" ng-disabled=\"!switch.clusterInputs.length\" name=\"clusterExp{{$index}\">\r" +
    "\n" +
    "                  <span class=\"glyphicon glyphicon-chevron-{{switch.isCollapsed ? 'down' : 'right'}}\"></span>\r" +
    "\n" +
    "                </button>\r" +
    "\n" +
    "          </td--> <td>{{chassis.fabric_name}}</td> <td>{{chassis.name}}</td> <td> <a href=\"\" tabindex=\"0\" ng-click=\"viewConfig(chassis.id)\" role=\"button\" name=\"viewConfig{{$index}}\"> <dlcui-font-icon title=\"View Switch Configuration\" icon=\"list-alt\" style=\"color:#0076CE\"></dlcui-font-icon> </a>&nbsp;&nbsp;&nbsp; <a href=\"\" tabindex=\"0\" ng-click=\"downloadConfig(chassis.id, chassis.name)\" role=\"button\" name=\"downloadConfig{{$index}}\"> <dlcui-font-icon title=\"Download Switch Configuration\" icon=\"download-alt\" style=\"color:#0076CE\"></dlcui-font-icon></a> </td> </tr> </tbody> </table></div> </div> <div ng-if=\"deploymentType=='OS10 Fabric'\"><strong>Note:</strong><br> - For S4148 Series and Z9264F-ON switch port profile information, refer \"readme.txt\" from \"Download All\" zip file<br> - \"# PRE-CONFIG\" and \"# POST-CONFIG\" generated by default in ASCII configuration file to support ZTD.<br> - Ignore the error line during configuration deployment without ZTD.<br> - DHCP configuration generation not supported.<br> - Azure Stack HCI Engineering team recommends using DCB (PFC/ETS) for all RoCE based deployments on switchports used for RDMA traffic.<br> </div> <div ng-if=\"False && deploymentType=='Enterprise SONiC Fabric'\"><strong>Note:</strong><br> - If ip vrf timeout issue occurs in Sonic 4.0.1, rerun the configuration.<br> - If media-fec-mode error ocurs in Sonic 4.0.2, then configure the breakout ports manually and run the configuration.<br> </div>"
  );


  $templateCache.put('fabric/design/output/download.wiring.html',
    "<div class=\"panel panel-default output-sec\"> <div class=\"panel-body\"> <div class=\"container-fluid form-spacing\"> <div class=\"row\"> <div class=\"col-sm-3 pull-right\"> <div class=\"dropdown\"> <button tabindex=\"0\" class=\"btn btn-primary\" name=\"download_wiring\" keypressbutton event=\"$event\" keypress-button> <!--</button>keypress-button ng-keydown=\"highlightWiringOptions($event)\">--> <span class=\"glyphicon glyphicon-save\"></span> Download </button> <div class=\"dropdown-content\"> <a tabindex=\"0\" href=\"\" class=\"dropdown-divider\" ng-keydown=\"handleKeyDown($event, $index, download_value.name, wiring.viewmodel.wiring_options)\" ng-repeat=\"download_value in wiring.viewmodel.wiring_options\" ng-class=\"{'highlight': download_value.isSelected}\" ng-click=\"downloadWiringForAllSwitches(download_value.name)\">{{download_value.label}}</a> </div> </div> <button tabindex=\"0\" type=\"button\" class=\"btn btn-primary\" ng-click=\"openurl()\" name=\"deploy_sfm\"> Deploy in SFM </button> </div> </div> <!--div class = \"row\">\r" +
    "\n" +
    "            <div class=\"col-sm-3 dropdown pull-right\">\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "          </div>\r" +
    "\n" +
    "          <div class=\"row\">                        \r" +
    "\n" +
    "            <iframe src=\"demo_iframe.htm\" name=\"iframe_a\" height=\"300px\" width=\"100%\" title=\"Iframe Example\"></iframe>\r" +
    "\n" +
    "            <p><a href=\"https://www.w3schools.com\" target=\"iframe_a\">W3Schools.com</a></p>\r" +
    "\n" +
    "          </div--> <!--div class=\"row\">\r" +
    "\n" +
    "        <div class=\"col-sm-8\">\r" +
    "\n" +
    "        </div>        \r" +
    "\n" +
    "        <div class=\"col-sm-1\">\r" +
    "\n" +
    "          <h5><b name=\"type\">Select Format: </b></h5>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        <div class=\"col-sm-1 download_diagram\">\r" +
    "\n" +
    "          <select name=\"wiringDownloadFormat\" class=\"form-control\" style=\"font-size:13px;\" ng-options=\"item.name as item.label for item in [{'name':'pdf','label':'PDF'},{'name':'svg','label':'SVG'},{'name':'jpg','label':'JPG'},{'name':'png','label':'PNG'},{'name':'json','label':'JSON'}]\" ng-model=\"format\"\r" +
    "\n" +
    "          title=\"{{format}}\"></select>\r" +
    "\n" +
    "        </div>        \r" +
    "\n" +
    "        <div class=\"col-sm-1\">\r" +
    "\n" +
    "            <dlcui-fancy-button dlcui-type=\"primary\" name=\"download\" ng-click=\"downloadWiringForAllSwitches(format);\">\r" +
    "\n" +
    "              <dlcui-font-icon title=\"download\" icon=\"download-alt\" style=\"color:white\"></dlcui-font-icon>&nbsp;Download\r" +
    "\n" +
    "            </dlcui-fancy-button>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        </div--> <div class=\"row\" ng-if=\"False && wiring.viewmodel.switches\"><!--Since we are showing in collapsed bar we removed this and added in backend switches--> <div class=\"col-sm-12\"> <h3>Switches</h3> <table st-table=\"wiring.viewmodel.switches\" class=\"table table-striped table-bordered\" name=\"wiringTable\"> <thead> <tr> <th name=\"switchname\" width=\"33%\">Switch Name</th> <th name=\"switchmodel\" width=\"33%\">Switch Model</th> <th name=\"wiringdiagram\" width=\"33%\">Wiring Diagram</th> </tr> </thead> <tbody ng-if=\"wiring.viewmodel.switches.length\" ng-repeat=\"switch in wiring.viewmodel.switches\"> <tr> <td>{{switch.name}}<span class=\"notes\" ng-if=\"switch.edge\"><b> Edge Leaf</b></span></td> <td>{{switch.model}}</td> <td> <a role=\"button\" tabindex=\"0\" href=\"\" aria-label=\"View wiring of Switch {{switch.name}}-{{switch.model}}\" name=\"viewWiring{{$index}}\" ng-controller=\"dlcuiModalController as mc\" ng-click=\"mc.open($parent.switch.id)\"> <dlcui-font-icon title=\"View Wiring\" icon=\"list-alt\" style=\"color:#0076CE\"></dlcui-font-icon> </a> </td> </tr> </tbody> <tbody ng-if=\"!wiring.viewmodel.switches.length\"> <tr> <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> </div> <div class=\"row\" ng-if=\"wiring.viewmodel.backend_switches\"> <div class=\"col-sm-12\"> <table st-table=\"wiring.viewmodel.backend_switches\" class=\"table table-striped table-bordered\" name=\"BackendSwitchesWiringTable\"> <tbody ng-repeat=\"(key,backend_switches) in wiring.viewmodel.backend_switches\" ng-click=\"backend_switches.isCollapsed = !backend_switches.isCollapsed\" ng-switch on=\"isSelected(backend_switches)\"> <tr> <td> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link btn-sm\" aria-label=\"To expand or Collapse Fabric {{$index}}\" name=\"fabricsExp{{$index}}\"> <span class=\"glyphicon glyphicon-chevron-{{backend_switches.isCollapsed ? 'down' : 'right'}}\"></span> </button> <label>{{key}}</label> </td> </tr> <tr ng-switch-when=\"true\"> <td colspan=\"3\" class=\"wiring-chassis-table\"> <div class=\"col-sm-12\"> <table st-table=\"value\" class=\"table table-striped table-bordered\" name=\"wiringTable\"> <thead> <tr> <!--th name=\"icon\"></th--> <th name=\"switch_name\" width=\"33%\">Switch Name</th> <th name=\"switch_model\" width=\"33%\">Switch Model</th> <th name=\"wiringdiagram\" width=\"33%\">Wiring Diagram</th> </tr> </thead> <tbody> <tr ng-repeat=\"backend_switch in backend_switches\" style=\"height:45px\"> <td>{{backend_switch.name}}</td> <td>{{backend_switch.model}}</td> <td> <a tabindex=\"0\" role=\"button\" href=\"\" id=\"{{backend_switch.name}}\" aria-label=\"View wiring of Switch {{backend_switch.name}}-{{backend_switch.model}}\" name=\"viewWiring{{$index}}\" ng-controller=\"dlcuiModalController as mc\" ng-click=\"$event.stopPropagation();mc.open(backend_switch.id)\"> <dlcui-font-icon title=\"View wiring of Switch {{backend_switch.name}}-{{backend_switch.model}}\" icon=\"list-alt\" style=\"color:#0076CE\"></dlcui-font-icon> </a> </td> </tr> </tbody> </table> </div> </td> </tr> </tbody> <!--tbody ng-if=\"!Object.keys(wiring.viewmodel.chassis).length\">\r" +
    "\n" +
    "                <tr>\r" +
    "\n" +
    "                  <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td>\r" +
    "\n" +
    "                </tr>\r" +
    "\n" +
    "\t\t\t\t\t   </tbody--> </table> </div> </div> <div class=\"row\" ng-if=\"wiring.viewmodel.chassis\"> <div class=\"col-sm-12\"> <h3>Scalable Fabrics</h3> <table st-table=\"wiring.viewmodel.chassis\" class=\"table table-striped table-bordered\" name=\"fabricsWiringTable\"> <thead> <tr> <th width=\"1%\"></th> <th name=\"scalable_fabric_name\" width=\"33%\">Scalable Fabric Name</th> </tr> </thead> <tbody ng-repeat=\"(key,value) in wiring.viewmodel.chassis\" ng-click=\"value.isCollapsed = !value.isCollapsed\" ng-switch on=\"isSelected(value)\"> <tr> <td> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link btn-sm\" aria-label=\"To expand or Collapse Fabric {{$index}}\" name=\"fabricsExp{{$index}}\"> <span class=\"glyphicon glyphicon-chevron-{{value.isCollapsed ? 'down' : 'right'}}\"></span> </button> </td> <td>{{key}}</td> </tr> <tr ng-switch-when=\"true\"> <td colspan=\"3\" class=\"wiring-chassis-table\"> <div class=\"col-sm-12\"> <h3>Chassis</h3> <table st-table=\"value\" class=\"table table-striped table-bordered\" name=\"wiringTable\"> <thead> <tr> <!--th name=\"icon\"></th--> <th name=\"chassis_name\" width=\"33%\">Chassis Name</th> <th name=\"wiringdiagram\" width=\"33%\">Wiring Diagram</th> </tr> </thead> <tbody> <tr ng-repeat=\"chassis in value\" style=\"height:45px\"> <td>{{chassis.name}}</td> <td> <a tabindex=\"11\" role=\"button\" href=\"\" name=\"viewWiring{{chassis.id}}\" id=\"chassis.name\" aria-label=\"View wiring of chassis {{chassis.name}}\" ng-controller=\"dlcuiModalController as mc\" ng-click=\"$event.stopPropagation();mc.open($parent.chassis.id)\"> <dlcui-font-icon title=\"View wiring of chassis {{chassis.name}}\" icon=\"list-alt\" style=\"color:#0076CE\"></dlcui-font-icon> </a> </td> </tr> </tbody> </table> </div> </td> </tr> </tbody> <!--tbody ng-if=\"!Object.keys(wiring.viewmodel.chassis).length\">\r" +
    "\n" +
    "                <tr>\r" +
    "\n" +
    "                  <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td>\r" +
    "\n" +
    "                </tr>\r" +
    "\n" +
    "\t\t\t\t\t   </tbody--> </table> </div> </div> <div class=\"row\" ng-if=\"wiring.viewmodel.fsm_chassis_switches\"> <div class=\"col-sm-12\"> <h3>Chassis</h3> <table st-table=\"wiring.viewmodel.fsm_chassis_switches\" class=\"table table-striped table-bordered\" name=\"wiringTable\"> <thead> <tr> <th name=\"chassisname\" width=\"33%\">Chassis Name</th> <th name=\"wiringdiagram\" width=\"33%\">Wiring Diagram</th> </tr> </thead> <tbody ng-repeat=\"(key,value) in wiring.viewmodel.fsm_chassis_switches\"> <tr> <td>{{value.name}}</td> <td> <a tabindex=\"0\" role=\"button\" href=\"\" id=\"value.name\" aria-label=\"View wiring of Switch {{value.name}}\" name=\"viewWiring{{$index}}\" ng-controller=\"dlcuiModalController as mc\" ng-click=\"mc.open($parent.value.id)\"> <dlcui-font-icon title=\"View wiring of Switch {{value.name}}\" icon=\"list-alt\" style=\"color:#0076CE\"></dlcui-font-icon> </a> </td> </tr> </tbody> </table> </div> </div> </div></div></div>"
  );


  $templateCache.put('fabric/design/output/editOpticsModal.html',
    "<section class=\"cux-dialog cluster-modal\" style=\"width:700px\"> <header class=\"cux-dialog__header\"> <!--div class=\"row\">\r" +
    "\n" +
    "        <div class=\"col-sm-6\">\r" +
    "\n" +
    "          <h1 class=\"cux-dialog__header-title\">Edit {{modal.dac_optics_data.type}}</h1>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "      </div>\r" +
    "\n" +
    "    </header--> <div class=\"cux-dialog__content\"> <form name=\"form.editOpticsModal\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <fieldset> <legend>Edit {{modal.dac_optics_data.type}}</legend> <div class=\"row\"> <div class=\"col-sm-1\"></div> <div class=\"col-sm-3\"><b>{{modal.dac_optics_data.type}}</b></div> <div class=\"col-sm-8\"><b>Description</b></div> <div class=\"col-sm-12\"> <hr></div> </div> <div class=\"row\" ng-repeat=\"(name,option) in modal.dac_optics_data.Options\"> <div class=\"col-sm-4\"> <input tabindex=\"0\" type=\"radio\" value=\"{{name}}\" name=\"selcted_optics_{{name}}\" ng-model=\"modal.dac_optics_data.selected_optics\" id=\"selcted_optics_{{name}}\" aria-labelledby=\"Edit Optics Modal\"> <label id=\"selcted_optics_{{name}}\" for=\"selcted_optics_{{name}}\"> {{name}}</label> </div> <!--div class=\"col-sm-3\"><label id=\"selcted_optics_{{name}}\" for=\"selcted_optics_{{name}}\">{{name}}</label></div--> <div class=\"col-sm-8\">{{option}}</div> </div> </fieldset> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-disabled=\"form.editOpticsModal.$invalid\" ng-keypress=\"save_dac_optics(modal)\" ng-click=\"save_dac_optics(modal)\" disabled=\"disabled\">Save</dlcui-button> <dlcui-button tabindex=\"0\" type=\"secondary\" ng-keypress=\"modal.hide()\" ng-click=\"modal.hide()\">Cancel</dlcui-button> </menu> </footer> </header></section>"
  );


  $templateCache.put('fabric/design/output/editRackSupportedSwitchWarning.html',
    "<div> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"modal-title\"> <div class=\"alert alert-warning\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <strong>Warning!</strong> </div> </h3> <span ng-if=\"options == 'ASHCI'\"> <strong> ASHCI Fabric will not recommend this type of switch. Still want to proceed?.</strong> </span> <span ng-if=\"options == 'HCI_POWERFLEX_Appliance'\"> <strong> PowerFlex Appliance supports only S5048F, S4148F, S5224F, S5248F, S5296F. Still want to proceed?.</strong> </span> <span ng-if=\"options == 'POWERSCALE_STORAGE' || options == 'ISILON_STORAGE'\"> <strong> PowerScale solution does not support Z9864F. Still want to proceed?.</strong> </span> <span ng-if=\"options == 'ISILON_BACKEND_STORAGE'\"> <strong> PowerScale backend solution does not support Z9864F. Still want to proceed?.</strong> </span> <span ng-if=\"options == 'POWERSTORE_STORAGE'\"> <strong> NVMe/TCP Fabric solution does not support Z9864F. Still want to proceed?.</strong> </span> <span ng-if=\"options == 'HCI_VXRAIL'\"> <strong> VxRail solution does not support Z9864F. Still want to proceed?.</strong> </span> <span ng-if=\"options == 'HCI_NSX_VXRAIL'\"> <strong> VCF on VxRAIL solution does not support Z9864F. Still want to proceed?.</strong> </span> </div> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" ng-click=\"$close('ok')\" name=\"warning_edit_RackOk\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"$dismiss()\" name=\"warning_edit_rack_Cancel\">{{'general.cancel' | translate}}</dlcui-button> </div> "
  );


  $templateCache.put('fabric/design/output/editSwitchModal.html',
    "<section class=\"cux-dialog cluster-modal\" style=\"width:500px\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Edit Switch</h1> </div> </div> </header> <div class=\"cux-dialog__content\"> <form name=\"form.editSwitchInClusterModal\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Switch Name </label> </div> <div class=\"col-sm-6\"> <input type=\"text\" class=\"form-control\" name=\"fdc_cluster_editSwitch_logicalview_name\" ng-model=\"modal.switch.name\" required disabled=\"disabled\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>IP Address</label> </div> <div class=\"col-sm-6\"><input type=\"text\" class=\"form-control\" name=\"fdc_cluster_editSwitch_logicalview_ip\" ng-model=\"modal.switch.ipAddress\" required disabled=\"disabled\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Mac Address</label> </div> <div class=\"col-sm-6\"> <input type=\"text\" class=\"form-control\" name=\"fdc_cluster_editSwitch_logicalview_mac\" ng-model=\"modal.switch.mac\" required disabled=\"disabled\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Model</label> </div> <div class=\"col-sm-6\"> <input type=\"text\" class=\"form-control\" name=\"fdc_cluster_editSwitch_logicalview_model\" ng-model=\"modal.switch.model\" required disabled=\"disabled\"> </div> </div> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-click=\"modal.hide()\" disabled=\"disabled\">Save</dlcui-button> <dlcui-button type=\"secondary\" ng-click=\"modal.hide()\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/fabricOutput.html',
    "<div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-sm-10\"> <div class=\"section-title\"></div> </div> <div class=\"col-sm-2\"> <div class=\"pull-right section-title\"> <button tabindex=\"0\" class=\"btn btn-primary\" title=\"Save Design as JSON\" ng-click=\"exportFabric()\" name=\"export_fabric\"> <span class=\"glyphicon glyphicon-save\"></span> &nbsp;Save Design </button> <help-directive tabindex=\"0\" aria-label=\"Help Document\" help-index=\"fabric_details\" label=\"\"></help-directive> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <ul class=\"nav nav-pills\" role=\"tablist\"> <li role=\"presentation\" ng-repeat=\"tab in data\" custom-directive menu=\"data\" index=\"$index\"> <a tabindex=\"0\" id=\"{{tab.id}}\" role=\"tab\" href=\"\" ng-click=\"settabactive(tab, $index)\" aria-selected=\"{{tab.active == true}}\" aria-controls=\"panel{{$index}}\" ng-keydown=\"handleKeyDown($event, $index, tab)\" ng-class=\"{'active': tab.active == true}\" name=\"{{tab.label}}\">{{tab.label}} </a> </li> <li ng-if=\"settings=='DCI'\" class=\"pull-right\" style=\"padding: 10px 5px 5px 5px\"> <button tabindex=\"0\" type=\"button\" name=\"info\" class=\"btn btn-link\" ng-click=\"WarningModal()\"> <span class=\"glyphicon glyphicon-info-sign\"></span> <strong>Info</strong> </button> </li> </ul> <div id=\"panel0\" role=\"tabpanel\" aria-labelledby=\"Fabrics-tab\" tabindex=\"{{tabdata === 'Fabrics' ? 0 : -1}\" ng-show=\"tabdata=='Fabrics'\" dyn-controller=\"data[0].ctrl\" ng-include=\"data[0].tmpl\"></div> <div id=\"panel1\" role=\"tabpanel\" aria-labelledby=\"LogicalView-tab\" tabindex=\"{{tabdata === 'Logical View' ? 0 : -1}}\" style=\"margin:10px\" ng-show=\"tabdata=='Logical View'\" dyn-controller=\"data[1].ctrl\" ng-include=\"data[1].tmpl\"></div> <div id=\"panel2\" role=\"tabpanel\" aria-labelledby=\"NetworkView-tab\" tabindex=\"{{tabdata === 'Network View' ? 0 : -1}}\" style=\"margin:10px\" ng-show=\"tabdata=='Network View'\" dyn-controller=\"data[2].ctrl\" ng-include=\"data[2].tmpl\"></div> <div id=\"panel3\" role=\"tabpanel\" aria-labelledby=\"WiringDiagram-tab\" tabindex=\"{{tabdata === 'Wiring Diagram' ? 0 : -1}}\" style=\"margin:10px\" ng-show=\"tabdata=='Wiring Diagram'\" dyn-controller=\"data[3].ctrl\" ng-include=\"data[3].tmpl\"></div> <div id=\"panel4\" role=\"tabpanel\" aria-labelledby=\"BillOfMaterials-tab\" tabindex=\"{{tabdata === 'Bill of Materials' ? 0 : -1}}\" ng-show=\"tabdata=='Bill of Materials'\" dyn-controller=\"data[4].ctrl\" ng-include=\"data[4].tmpl\"></div> <div id=\"panel5\" role=\"tabpanel\" aria-labelledby=\"NetworkConfiguration-tab\" tabindex=\"{{tabdata === 'Network Configuration' ? 0 : -1}}\" ng-show=\"tabdata=='Network Configuration'\" dyn-controller=\"data[5].ctrl\" ng-include=\"data[5].tmpl\"></div> <div id=\"panel6\" role=\"tabpanel\" aria-labelledby=\"ConfigurationDownload-tab\" tabindex=\"{{tabdata === 'Configuration Download' ? 0 : -1}}\" ng-show=\"tabdata=='Configuration Download'\" dyn-controller=\"data[6].ctrl\" ng-include=\"data[6].tmpl\"></div> </div> </div> <!--div class=\"row\">\r" +
    "\n" +
    "    <div class=\"col-sm-12\">\r" +
    "\n" +
    "      <dlcui-tabset>\r" +
    "\n" +
    "        <dlcui-tab ng-repeat=\"tab in data\" label=\"{{tab.label}}\" name=\"{{tab.id}}\" tab-shown=\"tab.load ? tab.load() : ''\" active=\"tab.active\">\r" +
    "\n" +
    "          <div  dyn-controller=\"tab.ctrl\" ng-include=\"tab.tmpl\"></div>\r" +
    "\n" +
    "        </dlcui-tab>\r" +
    "\n" +
    "      </dlcui-tabset>\r" +
    "\n" +
    "    </div>\r" +
    "\n" +
    "  </div--> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview.html',
    "<div class=\"row\"> <div class=\"col-xs-8 logicalview-box\" id=\"fabric\" tabindex=\"0\" ng-keypress=\"setActiveProperty(logicalData, 'fabric')\" ng-click=\"setActiveProperty(logicalData, 'fabric')\" ng-class=\"{active: activeProperty == logicalData}\"> <!-- Rack pane --> <ui-carousel slides=\"rc.rackList1\" initial-slide=\"1\" slides-to-show=\"3\" slides-to-scroll=\"1\" infinite=\"true\" dots=\"false\" on-after-change=\"rc.initCarousel()\"> <carousel-item> <leaf-rack options=\"item\" select=\"rack\"></leaf-rack> </carousel-item> </ui-carousel> </div> <div class=\"col-xs-4\"> <!-- Property pane --> <div class=\"property-pane\"> <div class=\"property-header text-capitalize\"> <div class=\"col-xs-6 text-overflow\"> <span class=\"property-header-text\" title=\"{{prop.data.name}} - {{prop.type}} Properties\">{{prop.type != 'chassis' ? prop.data.name : ''}} <span ng-if=\"!propertyLoading\"><span ng-if=\"prop.type!='chassis'\">-</span> {{prop.type}} Properties</span> <span ng-if=\"propertyLoading\">{{propertyLoading}}</span> </span> </div> <div ng-if=\"(!prop.fabricsubtype || prop.fabricsubtype!='POD') \" class=\"col-xs-6\"> <button tabindex=\"0\" ng-if=\"editDisplay && showEdit(prop,logicalData) && (prop.type=='fabric' || prop.type!='fabric') && prop.data.topology !='Super Spine'\" type=\"button\" role=\"status\" name=\"editGeneric\" aria-label=\"Edit {{prop.type}}\" class=\"col-xs-4 btn btn-link pull-right\" ng-click=\"editGeneric(prop.type,logicalData.fabrics[0].id)\" ng-hide=\"prop.data.type == 'Spine' || prop.data.type=='Expansion' || (prop.data.clusterType != 'UNITY_STORAGE' && prop.type == 'node')\"> <span class=\"glyphicon glyphicon-edit\"></span> <strong>Edit</strong> </button> <!--span uib-dropdown ng-if=\"logicalData.fabrics.length>1\" class=\"pull-right\">\r" +
    "\n" +
    "                        <button ng-if=\"editDisplay && prop.type=='fabric' && showEdit(prop,logicalData)\" type=\"button\" name=\"editGeneric\" class=\"btn btn-link pull-right\" id=\"simple-dropdown\" uib-dropdown-toggle>\r" +
    "\n" +
    "                            <span class=\"glyphicon glyphicon-edit\"></span>\r" +
    "\n" +
    "                            <strong>Edit</strong>\r" +
    "\n" +
    "                        </button>\r" +
    "\n" +
    "                        <ul class=\"col-xs-6 dropdown-menu edit-fabrics pull-right\" uib-dropdown-menu aria-labelledby=\"simple-dropdown\">\r" +
    "\n" +
    "                            <li ng-repeat=\"choice in logicalData.fabrics\"  ng-if=\"logicalData.properties.designType=='NVMe-TCP'\">\r" +
    "\n" +
    "                                <a name=\"{{choice.id}}\" ng-click=\"editGeneric(prop.type,choice.id)\">{{choice.name}}</a>\r" +
    "\n" +
    "                            </li>\r" +
    "\n" +
    "                        </ul>\r" +
    "\n" +
    "                    </span--> <button tabindex=\"0\" aria-label=\"Delete {{prop.type}}\" role=\"status\" ng-if=\"deleteDisplay && ((prop.type=='rack' && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Delete Rack')>-1)) || (prop.type=='cluster' && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Delete Workload')>-1)) || (prop.type=='node' && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Delete Node')>-1)))\" type=\"button\" name=\"deleteGeneric\" class=\"col-xs-4 btn btn-link pull-right\" ng-click=\"deleteGeneric(prop.type)\" ng-hide=\"(prop.type=='rack' && logicalData.nodeRacks.length < 2)|| prop.data.type=='Expansion' || prop.data.type == 'Spine'\"> <span class=\"glyphicon glyphicon-trash\"></span> <strong>Delete</strong> </button> <button tabindex=\"0\" aria-label=\"Move {{prop.type}}\" ng-if=\"(deleteDisplay ||(prop.data.clusterType=='UNITY_STORAGE')) && logicalData.nodeRacks.length > 1 && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Move Node')>-1)\" type=\"button\" name=\"deleteGeneric\" class=\"col-xs-4 btn btn-link pull-right\" ng-click=\"MoveNodesModal(prop.type)\" ng-show=\"((prop.type=='node'||(prop.data.clusterType=='UNITY_STORAGE')) && logicalData.nodeRacks.length > 1)\"> <span class=\"glyphicon glyphicon-move\"></span> <strong>Move</strong> </button> <!--button ng-if=\"((prop.type=='node') && (prop.data.clusterType && prop.data.clusterType!='MX_CHASSIS'))\" name=\"logicalClusterMove\" type=\"button\" class=\"btn btn-link\"\r" +
    "\n" +
    "                        ng-click=\"MoveNodeModal()\">\r" +
    "\n" +
    "                        <span class=\"glyphicon glyphicon-move\"></span>\r" +
    "\n" +
    "                        <strong>Move Node</strong>\r" +
    "\n" +
    "                    </button--> </div> <div ng-if=\"prop.fabricsubtype && prop.fabricsubtype=='POD' \" class=\"col-xs-6\"> <button tabindex=\"0\" role=\"status\" aria-label=\"Edit {{prop.type}} settings\" ng-if=\"editDisplay\" type=\"button\" name=\"editGeneric\" class=\"btn btn-link pull-right\" ng-hide=\"prop.type=='pod'||prop.type=='chassis'||(prop.data.clusterType != 'UNITY_STORAGE' && prop.type == 'node')\" ng-click=\"editMixedFabric(prop)\"> <span class=\"glyphicon glyphicon-edit\"></span> <strong>Edit</strong> </button> <button tabindex=\"0\" aria-label=\"Delete {{prop.type}}\" role=\"status\" ng-if=\"deleteDisplay\" type=\"button\" name=\"deleteMxChassis\" class=\"btn btn-link pull-right\" ng-click=\"deleteMixedFabric(prop)\" ng-hide=\"prop.type=='fabric'||prop.type=='pod'\"> <span class=\"glyphicon glyphicon-edit\"></span> <strong>Delete</strong> </button> </div> </div> <div class=\"property-body\"> <div class=\"property-actions\"> <button aria-label=\"Add Appliance/Node to the Cluster\" tabindex=\"0\" ng-if=\"((prop.type=='cluster' || prop.type == 'chassis') && (prop.data.clusterType && prop.data.clusterType!='MX_CHASSIS') && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Add Node')>-1))\" name=\"logicalClusterAdd\" type=\"button\" class=\"btn btn-link\" ng-click=\"AddNodeModal()\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong ng-if=\"prop.data.clusterType=='POWERSTORE_STORAGE'\">Add Appliance</strong> <strong ng-if=\"prop.data.clusterType!='POWERSTORE_STORAGE'\">Add Nodes</strong> </button> <button tabindex=\"0\" aria-label=\"Move Appliance/Node to another cluster\" ng-if=\"(((prop.type=='cluster') && (prop.data.clusterType && prop.data.clusterType!='MX_CHASSIS'))) && prop.data.clusterType!='UNITY_STORAGE' && logicalData.nodeRacks.length > 1 && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Move Nodes')>-1)\" name=\"logicalClusterAdd\" type=\"button\" class=\"btn btn-link\" ng-click=\"MoveNodesModal(prop.type)\"> <span class=\"glyphicon glyphicon-move\"></span> <strong ng-if=\"prop.data.clusterType=='POWERSTORE_STORAGE'\" style=\"font-size:13px\">Move Appliance</strong> <strong ng-if=\"prop.data.clusterType!='POWERSTORE_STORAGE'\">Move Nodes</strong> </button> <button tabindex=\"0\" aria-label=\"Stretch Cluster across Rack(s)\" ng-if=\"(((prop.type=='cluster') && (prop.data.clusterType && prop.data.clusterType!='MX_CHASSIS'))) && prop.data.clusterType!='UNITY_STORAGE' && logicalData.nodeRacks.length > 1 && (irb_type=='No IRB'||irb_type=='Symmetric'||irb_type=='Asymmetric') && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Stretch Cluster')>-1)\" name=\"logicalClusterAdd\" type=\"button\" class=\"btn btn-link\" ng-click=\"StretchClusterModal()\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong ng-if=\"prop.data.clusterType!='UNITY_STORAGE'\">Stretch Cluster</strong> </button> <button tabindex=\"0\" aria-label=\"Add Chassis\" ng-if=\"(prop.type=='cluster'&&(prop.data.clusterType && prop.data.clusterType=='MX_CHASSIS' && logicalData.fabricArchitectureType !='Full Switch Mode'))\" name=\"logicalClusterAdd\" type=\"button\" class=\"btn btn-link\" ng-click=\"AddPodChassisModal()\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong>Add Chassis</strong> </button> <button tabindex=\"0\" aria-label=\"Add Scalable Fabric\" ng-if=\"prop.data.type=='POD'\" name=\"logicalScalableFabricAdd\" type=\"button\" class=\"btn btn-link\" ng-click=\"addScalableFabrics();\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong>Add Scalable Fabric</strong> </button> <span uib-dropdown> <button tabindex=\"0\" aria-label=\"Add Workload\" ng-if=\"prop.type=='rack' && prop.data.type=='Leaf' && prop.data.disable_add_workload != true && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Add Workload')>-1) &&(logicalData.properties.rackInfos[0].switchModel!='Generic-GNS3-Switch')\" type=\"button\" class=\"btn btn-link\" id=\"simple-dropdown\" uib-dropdown-toggle> <span class=\"glyphicon glyphicon-plus\"></span> <strong>Add Workload</strong> </button> <ul class=\"dropdown-menu dropdown-menu-left\" uib-dropdown-menu aria-labelledby=\"simple-dropdown\"> <li ng-repeat=\"choice in fabricSolutions\" ng-if=\"logicalData.properties.designType=='Oracle RAC'\"> <a>{{choice.group}}</a> <ul> <li ng-repeat=\"list in choice.data\" ng-if=\"!list.hideInRackView && list.name=='OracleRAC'\"> <a tabindex=\"0\" href=\"\" name=\"soution{{list.name}}\" ng-click=\"addWorkLoad(list, prop.data.id)\">{{list.shortLabel}}</a> </li> </ul> </li> <li ng-repeat=\"choice in fabricSolutions\" ng-if=\"logicalData.properties.designType=='vertical solutions'\"> <a>{{choice.group}}</a> <ul> <li ng-repeat=\"list in choice.data\" ng-if=\"!list.hideInRackView && list.name=='SAPHANA'\"> <a tabindex=\"0\" href=\"\" name=\"soution{{list.name}}\" ng-click=\"addWorkLoad(list, prop.data.id)\">{{list.shortLabel}}</a> </li> </ul> </li> <li ng-repeat=\"choice in fabricSolutions\" ng-if=\"logicalData.properties.designType=='Turnkey-Backend'\"> <a ng-if=\"choice.group=='Backend'\">{{choice.group}}</a> <ul ng-if=\"choice.group=='Backend'\"> <li ng-repeat=\"list in choice.data\" ng-if=\"!list.hideInRackView\"> <a tabindex=\"0\" href=\"\" name=\"soution{{list.name}}\" ng-click=\"addWorkLoad(list, prop.data.id)\">{{list.shortLabel}}</a> </li> </ul> </li> <li ng-repeat=\"choice in fabricSolutions\" ng-if=\"logicalData.properties.designType=='NVMe-TCP'\"> <a ng-if=\"choice.group=='NVMe TCP'\">{{choice.group}}</a> <ul ng-if=\"choice.group=='NVMe TCP'\"> <li ng-repeat=\"list in choice.data\" ng-if=\"!list.hideInRackView\"> <a tabindex=\"0\" href=\"\" name=\"soution{{list.name}}\" ng-click=\"addWorkLoad(list, prop.data.id)\">{{list.shortLabel}}</a> </li> </ul> </li> <li ng-repeat=\"choice in fabricSolutions\" ng-if=\"!choice.hidegroup && logicalData.properties.designType!='vertical solutions' && logicalData.properties.designType!='Turnkey-Backend' && logicalData.properties.designType!='NVMe-Backend'  && logicalData.properties.designType!='NVMe-TCP' && logicalData.properties.designType!='Oracle RAC' && (logicalData.properties.deploymentType=='OS10 Fabric' || (logicalData.properties.deploymentType=='GNS3 Fabric') || (logicalData.properties.deploymentType=='Enterprise SONiC Fabric' && !choice.hidesonicworkload) || (logicalData.properties.deploymentType=='Nokia NFVi' && !choice.hidesonicworkload))\"> <a ng-if=\"choice.group!='Backend' && choice.group!='NVMe TCP'\">{{choice.group}}</a> <ul ng-if=\"choice.group!='Backend' && choice.group!='NVMe TCP'\"> <li ng-repeat=\"list in choice.data\" ng-if=\"!list.hideInRackView\"> <a tabindex=\"0\" href=\"\" name=\"soution{{list.name}}\" ng-click=\"addWorkLoad(list, prop.data.id)\">{{list.shortLabel}}</a> </li> </ul> </li> </ul> </span> <button tabindex=\"0\" aria-label=\"Add Rack to the Fabric\" role=\"dialog\" aria-modal=\"true\" ng-if=\"prop.type=='fabric' && (logicalData.supported_operations == null || logicalData.supported_operations.indexOf('Add Rack')>-1) && prop.data.topology!='Top of Rack Fabric' && prop.data.topology !='Super Spine'\" type=\"button\" class=\"btn btn-link\" ng-click=\"addRack(prop.data.rackInfos.length)\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong>Add Rack</strong> </button> </div> <div class=\"property-content\" ng-if=\"logicalData.properties.deploymentType!='Nokia NFVi'\"> <div ng-include=\"'fabric/design/output/logicalviewPropertyTmpl.html'\"></div> </div> <div class=\"property-content\" ng-if=\"logicalData.properties.deploymentType=='Nokia NFVi'\"> <div ng-include=\"'fabric/design/output/logicalviewPropertyTmpl_cbis.html'\"></div> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview/carouselItem.template.html',
    "<div> <rack ng-if=\"item.type!='POD'\" options=\"item\" select=\"rack\"></rack> <pod ng-if=\"item.type=='POD'\" options=\"item\" select=\"pod\"></pod> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview/container.template.html',
    "<div> <div ng-if=\"options.type=='Leaf'\" class=\"rack-container\"> <div ng-repeat=\"cluster in options.clusters\" ng-show=\"options.clusters\" id=\"{{cluster.id}}\" ng-click=\"$event.stopPropagation();setProperty(cluster,'cluster', options.id, cluster.id);\" ng-class=\"{active: cluster== getProperty(), 'rack-cluster': (options.isCluster && cluster.clusterType != 'UNITY_STORAGE')}\"> <h5 class=\"cluster-title\" ng-if=\"(options.isCluster && cluster.clusterType != 'UNITY_STORAGE')\"><span class=\"glyphicon glyphicon-th\"></span> {{cluster.name}}</h5> <div ng-repeat=\"node in cluster.nodes\" ng-if=\"node.type=='Node'\" class=\"rack-node rack-server\" id=\"{{node.id}}\" ng-click=\"$event.stopPropagation(); setProperty(node,'node');\" ng-class=\"{active: node == getProperty(), reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\"> {{node.model}} </div> <div ng-repeat=\"chassis in cluster.nodes\" ng-if=\"chassis.type=='Chassis'\" class=\"rack-cluster cluster-chassis\" id=\"{{classis.id}}\" ng-class=\"{active: chassis == getProperty()}\" ng-click=\"$event.stopPropagation();setProperty(chassis, 'chassis', options.id, cluster.id);;\"> <div ng-repeat=\"node in chassis.nodes\" class=\"rack-node rack-server\" id=\"{{node.id}}\" ng-click=\"$event.stopPropagation();setProperty(node,'node');\" ng-class=\"{active: node == getProperty(), reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\"> {{node.model}} </div> </div> </div> <div ng-repeat=\"node in options.nodes\" class=\"rack-node rack-server\" ng-show=\"options.clusters\" id=\"{{node.id}}\" ng-click=\"setProperty(node, 'node');$event.stopPropagation();\" ng-class=\"{active: node == getProperty(), reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\"> {{node.model}} </div> </div> <div ng-if=\"options.type=='POD'\" class=\"pod-container\"> <div ng-repeat=\"cluster in options.clusters\" ng-show=\"options.clusters\" class=\"pod-cluster cluster-chassis\" id=\"{{cluster.id}}\" ng-click=\"$event.stopPropagation();setProperty(cluster,'cluster', options.id, cluster.id);\" ng-class=\"{active: cluster == getProperty()}\"> <h5 class=\"pod-cluster-title\"><span class=\"glyphicon glyphicon-th\"></span> {{cluster.name}}</h5> <div ng-repeat=\"chassis in cluster.chassis\" class=\"pod-node pod-server\" id=\"{{chassis.id}}\" ng-class=\"{active: chassis == getProperty()}\" ng-click=\"$event.stopPropagation(); setProperty(chassis, 'chassis', options.id, chassis.id);\"> <span class=\"pod-server text\">{{chassis.displayName}}</span> <!--div ng-repeat=\"node in chassis.chassis\" class=\"rack-node rack-server\" \r" +
    "\n" +
    "                        id=\"{{options.name | removeSpaces}}clusterNode{{node.name | removeSpaces}}\" ng-click=\"setProperty(node,'node');$event.stopPropagation();\" \r" +
    "\n" +
    "                        ng-class=\"{active: 'node' == getProperty(), reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\">\r" +
    "\n" +
    "\t\t\t\t\t\t{{node.model}}\r" +
    "\n" +
    "\t\t\t\t\t</div--> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview/fabricrack.template.html',
    "<div class=\"rack-leaf\"> <div class=\"tor-switch\"> <div class=\"rack-node rack-switch\" ng-repeat=\"switch in options.switches\" id=\"{{switch.id}}\" ng-click=\"setProperty(switch,'switch');$event.stopPropagation();\" ng-class=\"{active: switch == getProperty(), half: switch.chassisSize == '1U,half-width'}\"> {{switch.model}} </div> </div> <container options=\"options\"> <div class=\"management\" ng-show=\"options.mgmtSwitch\"> <div class=\"rack-node rack-switch\" ng-click=\"setProperty(options.mgmtSwitch,'management');$event.stopPropagation();\" id=\"{{options.mgmtSwitch.id}}\" ng-class=\"{active: options.mgmtSwitch == getProperty()}\"> {{options.mgmtSwitch.name}} </div> </div> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview/logicalbox.template.html',
    "<div class=\"logicalview-box\" id=\"fabric\" ng-click=\"$event.stopPropagation();setProperty(options, 'fabric');\" ng-class=\"{active: getProperty() == 'fabric'}\"> <!-- Rack pane --> <ui-carousel slides=\"slides\" initial-slide=\"1\" slides-to-show=\"3\" slides-to-scroll=\"1\" infinite=\"true\" dots=\"false\" on-after-change=\"init\"> <carousel-item> <fabric-item item=\"item\"></fabric-item> </carousel-item> </ui-carousel> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview/noderack.template.html',
    "<div class=\"rack-leaf\"> <div class=\"tor-switch\"> <div class=\"rack-node rack-switch\" ng-repeat=\"switch in options.switches\" id=\"{{switch.id}}\" ng-click=\"$event.stopPropagation(); setProperty(switch, 'switch',switch.name);\" ng-class=\"{active:getProperty() == switch, half: switch.chassisSize == '1U,half-width'}\"> {{switch.model}} </div> </div> <container options=\"options\"> <div class=\"management\" ng-show=\"options.mgmtSwitch\"> <div class=\"rack-node rack-switch\" ng-click=\"$event.stopPropagation(); setProperty(options.mgmtSwitch, 'management');\" id=\"{{options.name.mgmtSwitch.id}}\" ng-class=\"{active: options.mgmtSwitch ==getProperty()}\"> {{options.mgmtSwitch.name}} </div> </div> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview/pod.template.html',
    "<div class=\"rack-title\">{{options.name}}</div> <div class=\"pod-box\" ng-click=\"$event.stopPropagation();setProperty(options, 'pod');\" id=\"{{options.id}}\" ng-class=\"{active: getProperty() == options}\"> <div class=\"tor-switch\"> <div class=\"rack-node rack-switch\" ng-repeat=\"switch in options.switches\" id=\"{{options.name | removeSpaces}}torSwitch{{$index}}\" ng-click=\"setProperty(switch, 'switch',switch.name);$event.stopPropagation();\" ng-class=\"{active:getProperty() == switch.name, half: switch.chassisSize == '1U,half-width'}\"> {{switch.model}} </div> </div> <container options=\"options\"> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview/rack.template.html',
    "<div class=\"rack-title\">{{options.name}}</div> <div class=\"rack-box\" ng-click=\"$event.stopPropagation();setProperty(options, 'rack');\" id=\"{{options.id}}\" ng-class=\"{active: getProperty() == options}\"> <node-rack ng-if=\"options.type == 'Leaf'\" options=\"options\"> <spine-rack ng-if=\"options.type == 'Spine'\" options=\"options\"> <fabric-rack ng-if=\"options.type == 'fabric'\" options=\"options\"> </div> <div class=\"rack-footer\"></div> <div class=\"rack-foots\"> <div class=\"rack-foot\"></div> <div class=\"rack-footgaps\"></div> <div class=\"rack-foot\"></div> </div>"
  );


  $templateCache.put('fabric/design/output/logicalview/spinerack.template.html',
    "<div class=\"rack-spine\"> <div class=\"rack-node rack-switch\" ng-repeat=\"switch in options.switches\" id=\"{{switch.id}}\" ng-click=\"$event.stopPropagation();setProperty(switch,'switch');\" ng-class=\"{active: switch == property}\"> {{switch.model}} </div> </div>"
  );


  $templateCache.put('fabric/design/output/logicalviewPropertyTmpl.html',
    "<form name=\"logicalProperty\"> <div ng-if=\"prop.type=='cluster' && prop.data.description!='NA'\"> <div class=\"row property-list property-section\"> <div class=\"col-xs-12\"><label> {{'fabricOutput.logicalView.' + prop.type + \".description\" | translate}}</label></div> </div> <div class=\"row property-list\"> <div class=\"col-xs-12\"> {{prop.data.description}} </div> </div> </div> <div class=\"row property-list property-section\" ng-if=\"prop.type=='cluster'\"> <div class=\"col-xs-6\"> <label>Cluster Details</label> </div> </div> <div class=\"row property-list\" ng-repeat=\"(key, value) in prop.data\" ng-show=\"prop.data\" ng-if=\"prop.type!='fabric'\"> <div ng-if=\"(key != 'vlans' && key!='description' &&key != 'backend_switches' && key != 'hardware_info' && key!='outOfBand' && value != 'NA' && key != 'id' && key!='eolswitch' && key!='isCluster' && key!='showCluster' && key!='disable_add_workload') && (key != 'clusterSubType' && key != 'clusterInfos') && (key != 'cluster_id' && key != 'clusterType') && (key != 'clusterSubType' && key != 'nodeInfos')\"> <div class=\"col-xs-6\"> <label>{{'fabricOutput.logicalView.' + prop.type + \".\" + key | translate}}</label> </div> <div class=\"col-xs-6\"> {{value}} </div> </div> <div ng-if=\"key=='hardware_info' && value!='NA'\" style=\"margin-top:10px\"> <div class=\"row property-list property-section\"> <div class=\"col-xs-6\"><label> {{'fabricOutput.logicalView.' + prop.type + \".\" + key | translate}}</label></div> </div> <div class=\"row property-list\" ng-repeat=\"(k, val) in value\" ng-if=\"val\"> <div class=\"col-xs-6\"> <label>{{'fabricOutput.logicalView.' + prop.type + \".\" + k | translate}}</label> </div> <div class=\"col-xs-6\"> {{val}} </div> </div> </div> <div ng-if=\"key == 'vlans' && prop.data.clusterType!='ISILON_BACKEND_STORAGE'\" style=\"margin-top:10px\"> <div class=\"row property-list property-section\"> <div class=\"col-xs-4\"><label> VLANs</label></div> </div> <div class=\"row property-list\" ng-repeat=\"(k, val) in value\" ng-if=\"val && (((k != 'vmNetworks'||k != 'nasNetworks'||k != 'storageNetworks') && val.vlanId != undefined) || (k == 'vmNetworks'||k == 'nasNetworks'||k == 'storageNetworks'))\"> <div class=\"col-xs-6\" ng-if=\"prop.data.clusterType != 'POWERSTORE_STORAGE' && prop.data.clusterType!='ECS_STORAGE' && prop.data.clusterType != 'GENERIC_COMPUTE'\"> <label ng-if=\"((prop.data.clusterType != 'HCI_POWERFLEX_Appliance' || k=='vmNetworks') && k!='saphanatraffic')\">{{'fabricOutput.logicalView.' + prop.type + \".\" + k | translate}} </label> <label ng-if=\"prop.data.clusterType == 'HCI_POWERFLEX_Appliance' && k!='vmNetworks'\">{{'fabricOutput.logicalView.' + prop.type + \".\" + k+'_powerflexapp' | translate}} </label> <label ng-if=\"prop.data.clusterType == 'HCI_VXRAIL' && k=='saphanatraffic'\">{{'fabricOutput.logicalView.' + prop.type + \".\" +'witnesstraffic' | translate}} </label> <label ng-if=\"prop.data.clusterType != 'HCI_VXRAIL' && k=='saphanatraffic'\">{{'fabricOutput.logicalView.' + prop.type + \".\" + k | translate}} </label> </div> <div class=\"col-xs-6\" ng-if=\"prop.data.clusterType == 'POWERSTORE_STORAGE'\"> <label ng-if=\"k=='mgmt'\">{{'fabricOutput.logicalView.' + prop.type + \".native\" | translate}} </label> <label ng-if=\"k=='fault1'\">{{'fabricOutput.logicalView.' + prop.type + \".storage\" | translate}} </label> <label ng-if=\"k=='svmMgmt'\">{{'fabricOutput.logicalView.' + prop.type + \".mgmt\" | translate}} </label> <label ng-if=\"k!='svmMgmt'&& k!='fault1'&& k!='mgmt' &&k!='storageNetworks' && prop.data.deploymentModel=='PowerStore T/Q models'\">{{'fabricOutput.logicalView.' + prop.type + \".nasNetworks\" | translate}} </label> <label ng-if=\"k=='storageNetworks' && prop.data.deploymentModel=='PowerStore T/Q models'\">{{'fabricOutput.logicalView.' + prop.type + \".storageNetworks\" | translate}} </label> <label ng-if=\"k!='svmMgmt'&& k!='fault1'&& k!='mgmt' && prop.data.deploymentModel!='PowerStore T/Q models'\">{{'fabricOutput.logicalView.' + prop.type + \".\" + k | translate}} </label> </div> <div class=\"col-xs-6\" ng-if=\"prop.data.clusterType=='ECS_STORAGE'\"> <label ng-if=\"k=='mgmt'\">{{'fabricOutput.logicalView.' + prop.type + \".public\" | translate}} </label> <label ng-if=\"k=='svmData1'\">{{'fabricOutput.logicalView.' + prop.type + \".data\" | translate}} </label> <label ng-if=\"k=='svmData2'\">{{'fabricOutput.logicalView.' + prop.type + \".replication\" | translate}} </label> <label ng-if=\"k=='vmNetworks'\">{{'fabricOutput.logicalView.' + prop.type + \".storageNetworks\" | translate}} </label> </div> <div class=\"col-xs-6\" ng-if=\"prop.data.clusterType == 'GENERIC_COMPUTE'\"> <label ng-if=\"k!='vmNetworks' && k!='storageNetworks'\">{{'fabricOutput.logicalView.' + prop.type + \".\" + k | translate}} </label> <label ng-if=\"k=='vmNetworks'\">{{'fabricOutput.logicalView.' + prop.type + \".appNetworks\" | translate}} </label> </div> <div class=\"col-xs-4\"> <span ng-if=\"(k != 'vmNetworks'||k != 'nasNetworks' )\"> {{val.vlanId}}</span> <span ng-if=\"(k == 'vmNetworks'||k == 'nasNetworks'||k == 'storageNetworks')\"> <span ng-repeat=\"gVlan in val\">{{gVlan.vlanId}}<span ng-if=\"!$last\">,</span></span> </span> </div> </div> </div> <div ng-if=\"isArray(value)\"> <table class=\"table table-striped table-condensed table-hover table-bordered\"> <thead> <tr> <th ng-repeat=\"(keylist, valuelist) in value[0]\" ng-if=\"keylist!='id' && (!isArray(valuelist))\" class=\"text-capitalize\">{{keylist}}</th> </tr> </thead> <tbody> <tr ng-repeat=\"(rowkeylist, rowvaluelist) in value\"> <td ng-repeat=\"(columnkeylist, columnvaluelist) in rowvaluelist\" ng-if=\"columnkeylist!='id'  && (!isArray(columnvaluelist))\">{{columnvaluelist}}</td> </tr> </tbody> <tbody ng-show=\"isLoading\"> <tr> <td colspan=\"7\" class=\"text-center\">{{'general.loading' | translate}}</td> </tr> </tbody> </table> </div> </div> <div class=\"row property-list\" ng-repeat=\"(key, value) in prop.data\" ng-show=\"prop.data\" ng-if=\"prop.type=='fabric'\"> <div ng-if=\"(!isArray(value))\"> <div class=\"col-xs-6\"> <label class=\"text-capitalize\">{{'fabricOutput.logicalView.properties.' + key | translate}}</label> </div> <div class=\"col-xs-4\"> {{value}} </div> </div> <div ng-if=\"isArray(value)\"> <table class=\"table table-striped table-condensed table-hover table-bordered\"> <thead> <tr> <th ng-repeat=\"(keylist, valuelist) in value[0]\" ng-if=\"keylist!='id' && (!isArray(valuelist))\" class=\"text-capitalize\"> {{keylist == 'bandwidth'? keylist + '(Gbps)' : (keylist == 'rackSpace'? 'RackUnit' : keylist)}} </th> </tr> </thead> <tbody> <tr ng-repeat=\"(rowkeylist, rowvaluelist) in value\"> <td ng-repeat=\"(columnkeylist, columnvaluelist) in rowvaluelist\" ng-if=\"columnkeylist!='id'  && (!isArray(columnvaluelist))\">{{columnvaluelist}}</td> </tr> </tbody> <tbody ng-show=\"isLoading\"> <tr> <td colspan=\"7\" class=\"text-center\">{{'general.loading' | translate}}</td> </tr> </tbody> </table> </div> </div> </form>"
  );


  $templateCache.put('fabric/design/output/logicalviewPropertyTmpl_cbis.html',
    "<form name=\"logicalProperty\"> <div ng-if=\"prop.type=='cluster' && prop.data.description!='NA'\"> <div class=\"row property-list property-section\"> <div class=\"col-xs-12\"><label> {{'fabricOutput.logicalView.' + prop.type + \".description\" | translate}}</label></div> </div> <div class=\"row property-list\"> <div class=\"col-xs-12\"> {{prop.data.description}} </div> </div> </div> <div class=\"row property-list property-section\" ng-if=\"prop.type=='cluster'\"> <div class=\"col-xs-6\"> <label>Cluster Details</label> </div> </div> <div class=\"row property-list\" ng-repeat=\"(key, value) in prop.data\" ng-show=\"prop.data\" ng-if=\"prop.type!='fabric'\"> <div ng-if=\"(key != 'vlans' && key!='description' && key != 'hardware_info' && key!='outOfBand' && value != 'NA' && key != 'id' && key!='eolswitch' && key!='isCluster' && key!='showCluster' && key!='disable_add_workload') && (key != 'clusterSubType' && key != 'clusterInfos') && (key != 'cluster_id' && key != 'clusterType') && (key != 'clusterSubType' && key != 'nodeInfos')\"> <div class=\"col-xs-6\"> <label>{{'fabricOutput.logicalView.' + prop.type + \".\" + key | translate}}</label> </div> <div class=\"col-xs-6\"> {{value}} </div> </div> <div ng-if=\"key=='hardware_info' && value!='NA'\" style=\"margin-top:10px\"> <div class=\"row property-list property-section\"> <div class=\"col-xs-6\"><label> {{'fabricOutput.logicalView.' + prop.type + \".\" + key | translate}}</label></div> </div> <div class=\"row property-list\" ng-repeat=\"(k, val) in value\" ng-if=\"val\"> <div class=\"col-xs-6\"> <label>{{'fabricOutput.logicalView.' + prop.type + \".\" + k | translate}}</label> </div> <div class=\"col-xs-6\"> {{val}} </div> </div> </div> <div ng-if=\"key == 'vlans'\" style=\"margin-top:10px\"> <div class=\"row property-list property-section\"> <div class=\"col-xs-4\"><label> VLANs</label></div> </div> <div class=\"row property-list\" ng-repeat=\"(k, val) in value\" ng-if=\"(val && val.vlanId != undefined)\"> <div ng-if=\"k != 'vmNetworks'\" class=\"col-xs-8\"> <label>{{val.name}}</label> </div> <div ng-if=\"k != 'vmNetworks'\" class=\"col-xs-4\"> <span> {{val.vlanId}}</span> </div> </div> <div class=\"row property-list\" ng-repeat=\"(k, val) in value\" ng-if=\"k == 'vmNetworks'||k == 'nasNetworks'||k == 'storageNetworks'\"> <div ng-if=\"k == 'vmNetworks'\" ng-repeat=\"gVlan in val\"> <div class=\"col-xs-8\"> <label>{{gVlan.name}}</label> </div> <div class=\"col-xs-4\"> <span>{{gVlan.vlanId}}</span> </div> </div> </div> </div> <div ng-if=\"isArray(value)\"> <table class=\"table table-striped table-condensed table-hover table-bordered\"> <thead> <tr> <th ng-repeat=\"(keylist, valuelist) in value[0]\" ng-if=\"keylist!='id' && (!isArray(valuelist))\" class=\"text-capitalize\">{{keylist}}</th> </tr> </thead> <tbody> <tr ng-repeat=\"(rowkeylist, rowvaluelist) in value\"> <td ng-repeat=\"(columnkeylist, columnvaluelist) in rowvaluelist\" ng-if=\"columnkeylist!='id'  && (!isArray(columnvaluelist))\">{{columnvaluelist}}</td> </tr> </tbody> <tbody ng-show=\"isLoading\"> <tr> <td colspan=\"7\" class=\"text-center\">{{'general.loading' | translate}}</td> </tr> </tbody> </table> </div> </div> <div class=\"row property-list\" ng-repeat=\"(key, value) in prop.data\" ng-show=\"prop.data\" ng-if=\"prop.type=='fabric'\"> <div ng-if=\"(!isArray(value))\"> <div class=\"col-xs-6\"> <label class=\"text-capitalize\">{{'fabricOutput.logicalView.properties.' + key | translate}}</label> </div> <div class=\"col-xs-4\"> {{value}} </div> </div> <div ng-if=\"isArray(value)\"> <table class=\"table table-striped table-condensed table-hover table-bordered\"> <thead> <tr> <th ng-repeat=\"(keylist, valuelist) in value[0]\" ng-if=\"keylist!='id' && (!isArray(valuelist))\" class=\"text-capitalize\"> {{keylist == 'bandwidth'? keylist + '(Gbps)' : (keylist == 'rackSpace'? 'RackUnit' : keylist)}} </th> </tr> </thead> <tbody> <tr ng-repeat=\"(rowkeylist, rowvaluelist) in value\"> <td ng-repeat=\"(columnkeylist, columnvaluelist) in rowvaluelist\" ng-if=\"columnkeylist!='id'  && (!isArray(columnvaluelist))\">{{columnvaluelist}}</td> </tr> </tbody> <tbody ng-show=\"isLoading\"> <tr> <td colspan=\"7\" class=\"text-center\">{{'general.loading' | translate}}</td> </tr> </tbody> </table> </div> </div> </form>"
  );


  $templateCache.put('fabric/design/output/moveNodeModal.html',
    "<section class=\"cux-dialog cluster-modal\" style=\"width:550px\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Move Node</h1> </div> <div class=\"col-sm-push-5\"> <help-directive aria-label=\"Help Document\" help-index=\"vxrail_cluster\"></help-directive> </div> </div> <div ng-show=\"modal.node.moveNodeError\" class=\"alert alert-danger alert-dismissdialog-alert\"> <span class=\"glyphicon glyphicon-remove dialog-glyphicon\"> <strong>Error! </strong>{{modal.node.moveNodeErrorMsg}} </div> </header> <div class=\"cux-dialog__content\"> <form name=\"moveNodeInClusterModal\" class=\"form-horizontal form-spacing cluster-form\" novalidate> {{modal.rack}} <div class=\"row\"> <div class=\"col-sm-4\"> <label>Select Rack</label> </div> <div class=\"col-sm-6\" ng-class=\"{'has-error' : moveNodeInClusterModal.fdc_rack_name.$dirty && moveNodeInClusterModal.fdc_rack_name.$invalid}\"> <select class=\"form-control\" ng-model=\"modal.rack\" ng-options=\"item.id as item.name for item in modal.racks\" name=\"fdc_rack_name\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-disabled=\"moveNodeInClusterModal.$invalid\" ng-click=\"validateMoveNode()\">Move</dlcui-button> <dlcui-button type=\"secondary\" ng-click=\"modal.hide()\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/moveNodesModal.html',
    "<section class=\"cux-dialog cluster-modal\" style=\"width:500px\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Move Nodes</h1> </div> <div class=\"col-sm-push-5\"> <help-directive aria-label=\"Help Document\" help-index=\"vxrail_cluster\"></help-directive> </div> </div> <div ng-show=\"modal.node.moveNodeError\" class=\"alert alert-danger alert-dismissdialog-alert\"> <span class=\"glyphicon glyphicon-remove dialog-glyphicon\"> <strong>Error! </strong>{{modal.node.moveNodeErrorMsg}} </div> <div> <form name=\"moveNodeInClusterModal\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <!--div class=\"col-sm-4\">\r" +
    "\n" +
    "              <label>Select Node</label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"col-sm-6\" ng-class=\"{'has-error' : moveNodeInClusterModal.fdc_rack_name.$dirty && moveNodeInClusterModal.fdc_rack_name.$invalid}\">\r" +
    "\n" +
    "              \r" +
    "\n" +
    "              <select multiple=\"true\" class=\"mdb-select md-form\" ng-model=\"modal.node_id\" ng-options=\"item.id as item.name for item in modal.nodes\"\r" +
    "\n" +
    "                name=\"fdc_node_name\"  required validation-directive\r" +
    "\n" +
    "                uib-tooltip=\"\">\r" +
    "\n" +
    "              </select>\r" +
    "\n" +
    "            </div--> <div class=\"col-sm-4\"> <label>Select Rack to move nodes</label> </div> <div class=\"col-sm-6\" ng-class=\"{'has-error' : moveNodeInClusterModal.fdc_rack_name.$dirty && moveNodeInClusterModal.fdc_rack_name.$invalid}\" style=\"width: 280px\"> <select class=\"form-control\" ng-model=\"modal.rack\" ng-options=\"item.id as item.name for item in modal.racks\" name=\"fdc_rack_name\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\" ng-if=\"modal.nodes!=None\"> <div class=\"col-sm-4\"> <label>Select Node(s)</label> </div> <div class=\"col-sm-6\"> <div class=\"rack-box\" style=\"height:200px;overflow:auto\"> <h5 style=\"margin-top:6px\" class=\"cluster-title\" ng-if=\"(modal.cluster_data.clusterType != 'UNITY_STORAGE'||modal.cluster_data.clusterType != 'PowerStore')\"><span class=\"glyphicon glyphicon-th\"></span> {{modal.cluster_data.name}}</h5> <div ng-repeat=\"node in modal.nodes track by $index\" ng-if=\"node.type=='Node'\" class=\"rack-node rack-server\" id=\"{{modal.nodes.name | removeSpaces}}clusterNode{{modal.nodes.name | removeSpaces}}\" ng-class=\"{active: node == property, reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\" ng-click=\"add(node.id)\"> {{node.type}} </div> <div ng-repeat=\"chassis in modal.clusters.chassisInfo\" ng-if=\"modal.chassis\" class=\"rack-cluster cluster-chassis\" id=\"{{options.name | removeSpaces}}clusterNode{{chassis.name | removeSpaces}}\" ng-class=\"{active: chassis == property}\" ng-click=\"showProperty(chassis, 'chassis', options.id, cluster.id);$event.stopPropagation();\"> <div ng-repeat=\"chassis_node in chassis.nodes\" class=\"rack-node rack-server\"> <div ng-repeat=\"node in modal.nodes track by $index\" class=\"chassis-node\" ng-if=\"chassis_node == node.id\" ng-show=\"modal.nodes\" id=\"{{modal.clusters.name | removeSpaces}}node{{$index}}\" ng-class=\"{'active': isActive[node.id]}\" ng-click=\"add(node)\"> {{node.type}} </div> </div> </div> <div ng-repeat=\"node in modal.nodes track by $index\" ng-if=\"modal.chassis == false\" class=\"rack-node rack-server\" ng-show=\"modal.nodes\" id=\"{{modal.clusters.name | removeSpaces}}node{{$index}}\" ng-class=\"{'active': isActive[node.id]}\" ng-click=\"add(node)\"> {{node.type}} </div> </div> </div> </div></form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-disabled=\"moveNodeInClusterModal.$invalid\" ng-click=\"MoveNodes()\">Move</dlcui-button> <dlcui-button type=\"secondary\" ng-click=\"modal.hide()\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/networkView.html',
    "<div class=\"panel panel-default\" busy-tracker=\"isLoaded\" busy-config=\"spinjs\"> <div class=\"row\"> <div class=\"networkview-box\" style=\"width:100%\"> <network-view network-data=\"networkData\" export=\"exportImage(format)\"></network-view> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.asymmetricdetails.html',
    "<form name=\"form.irbdetailsModel\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"table-responsive\" ng-if=\"asymmetricirbdetails\"> <div class=\"row\" style=\"margin:5px;padding-bottom:5px\"> <div class=\"col-sm-5\" name=\"default_gateway\"><span>{{'fabricOutput.networksettings.fabricsettings.asymmetricdetailssettings.default_gateway' | translate}}</span> </div> <div ng-show=\"showEdit\" class=\"col-sm-5\" ng-class=\"{'has-error' : form.irbdetailsModel.default_gateway.$dirty && form.irbdetailsModel.default_gateway.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"asymmetricirbdetails.default_gateway\" name=\"default_gateway\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/\" placeholder=\"0.0.0.0\"> </div> <div ng-hide=\"showEdit\" class=\"col-sm-5\"> <span>{{asymmetricirbdetails.default_gateway| textDisplay}}</span> </div> </div> <!--div class='row' style=\"margin:5px;padding-bottom:5px;\">\r" +
    "\n" +
    "                    <div class=\"col-sm-5\" name=\"asymmetric_vni_id\"><span>{{'fabricOutput.networksettings.fabricsettings.asymmetricdetailssettings.asymmetric_vni_id' | translate}}</span>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                    <div ng-show=\"showEdit\" class=\"col-sm-5\" ng-class=\"{'has-error' : form.irbdetailsModel.asymmetric_vni_id_{{$index}}.$dirty && form.irbdetailsModel.asymmetric_vni_id_{{$index}}.$invalid}\">\r" +
    "\n" +
    "                        <input type=\"text\" class=\"form-control\" ng-model=\"asymmetricirbdetails.asymmetric_vni_id\" name=\"asymmetric_vni_id_{{$index}}\" required validation-directive\r" +
    "\n" +
    "                                uib-tooltip=\"\" ng-pattern='/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/'\r" +
    "\n" +
    "                                placeholder='0.0.0.0' />\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                    <div ng-hide=\"showEdit\" class=\"col-sm-5\">\r" +
    "\n" +
    "                            <span>{{asymmetricirbdetails.asymmetric_vni_id| textDisplay}}</span>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                </div--> <div class=\"row col-sm-12\" style=\"margin:5px\"> <table class=\"table table-striped table-bordered\" name=\"asymmetricirbdetailsTable\" id=\"asymmetricirbdetailsTable\" style=\"margin-bottom:50px\"> <thead> <tr> <th name=\"switchname\">{{'fabricOutput.networksettings.fabricsettings.routersettings.switchname' | translate}}</th> <th name=\"ip_address\">{{'fabricOutput.networksettings.fabricsettings.asymmetricdetailssettings.ip_address' | translate}}</th> </tr> </thead> <tbody ng-if=\"asymmetricirbdetails.switch_vlti_info.length>0\"> <tr ng-repeat=\"item in asymmetricirbdetails.switch_vlti_info track by item.switchId\"> <td name=\"switchname{{$index}}\"> <span>{{item.switchName| textDisplay}}</span> </td> <td name=\"ip_address_{{$index}}\"> <div ng-show=\"showEdit\" class=\"col-sm-4\" ng-class=\"{'has-error' : form.irbdetailsModel.ip_address_{{$index}}.$dirty && form.irbdetailsModel.ip_address_{{$index}}.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"item.ip_address\" name=\"ip_address_{{$index}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"showEdit\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.irbdetailsModel.ip_address_mask_{{$index}}.$dirty && form.irbdetailsModel.ip_address_mask_{{$index}}.$invalid}\"> <input type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.ip_address_mask\" name=\"ip_address_mask_{{$index}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"showEdit\" class=\"col-sm-3\"> <span>{{item.ip_address| textDisplay}}/{{item.ip_address_mask | textDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"asymmetricirbdetails.length==0\"> <tr> <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> </div> <div class=\"table-responsive\" ng-if=\"symmetricirbdetails\"> <div class=\"row\" style=\"margin:5px\"> <div class=\"col-sm-4\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.symmetric_vni' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-4\" style=\"padding-left:15px\" ng-class=\"{'has-error' : symmetricirbdetails.vni_id.$dirty && symmetricirbdetails.vni_id.$invalid}\"> <input type=\"number\" style=\"width:150px\" class=\"form-control\" ng-model=\"symmetricirbdetails.vni_id\" name=\"vni_id\" validation-directive uib-tooltip=\"\" required min=\"1/\"> </div> <div ng-hide=\"showEdit\" class=\"col-sm-4\"> <span>{{symmetricirbdetails.vni_id|textDisplay}}</span> </div> </div> </div> <div class=\"row col-sm-12\" style=\"margin:5px\" ng-if=\"asymmetricirbdetails == null && symmetricirbdetails == null\"> <span>{{'general.noDataAvailable' | translate}}!</span> </div> <div ng-show=\"showEdit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-click=\"updateirbdetails(form.irbdetailsModel)\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"cancelEditView()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form>"
  );


  $templateCache.put('fabric/design/output/networksettings.cbisrouterSettingsDefault.html',
    "<style>.smallform {\r" +
    "\n" +
    "        padding-bottom: 8%;\r" +
    "\n" +
    "    }\r" +
    "\n" +
    "\r" +
    "\n" +
    "    .smallform label {\r" +
    "\n" +
    "        font-size: 14px;\r" +
    "\n" +
    "    }</style> <form name=\"autopopulateForm\" class=\"form-horizontal form-spacing smallform cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.cbis_router_settings.leaf_loopbackAddress' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_loopbacks_leaf.$dirty && autopopulateForm.underlay_loopbacks_leaf.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:175px\" ng-model=\"autopopulateModel.underlay_loopbacks_leaf\" class=\"form-control\" name=\"underlay_loopbacks_leaf\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_loopbacks_leaf_mask.$dirty && autopopulateForm.underlay_loopbacks_leaf_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.underlay_loopbacks_leaf_mask\" name=\"underlay_loopbacks_leaf_mask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.underlay_loopbacks_leaf | textDisplay}}/{{autopopulateModel.underlay_loopbacks_leaf_mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.cbis_router_settings.spine_loopbackAddress' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_loopbacks_spine.$dirty && autopopulateForm.underlay_loopbacks_spine.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:175px\" ng-model=\"autopopulateModel.underlay_loopbacks_spine\" class=\"form-control\" name=\"underlay_loopbacks_spine\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_loopbacks_spine_mask.$dirty && autopopulateForm.underlay_loopbacks_spine_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.underlay_loopbacks_spine_mask\" name=\"underlay_loopbacks_spine_mask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.underlay_loopbacks_spine | textDisplay}}/{{autopopulateModel.underlay_loopbacks_spine_mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.cbis_router_settings.anycast_loopback' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.anycast_loopback.$dirty && autopopulateForm.anycast_loopback.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:175px\" ng-model=\"autopopulateModel.anycast_loopback\" class=\"form-control\" name=\"anycast_loopback\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.anycast_loopback_mask.$dirty && autopopulateForm.anycast_loopback_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.anycast_loopback_mask\" name=\"anycast_loopback_mask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.anycast_loopback | textDisplay}}/{{autopopulateModel.anycast_loopback_mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.cbis_router_settings.underlay_system_loopback' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_system_loopback.$dirty && autopopulateForm.underlay_system_loopback.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:175px\" ng-model=\"autopopulateModel.underlay_system_loopback\" class=\"form-control\" name=\"underlay_system_loopback\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_system_loopback_mask.$dirty && autopopulateForm.underlay_system_loopback_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.underlay_system_loopback_mask\" name=\"underlay_system_loopback_mask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.underlay_system_loopback | textDisplay}}/{{autopopulateModel.underlay_system_loopback_mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.cbis_router_settings.point_to_point_spinegroup1' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_point_to_point_links_spinegroup1.$dirty && autopopulateForm.underlay_point_to_point_links_spinegroup1.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:175px\" ng-model=\"autopopulateModel.underlay_point_to_point_links_spinegroup1\" class=\"form-control\" name=\"underlay_point_to_point_links_spinegroup1\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_point_to_point_links_spinegroup1_mask.$dirty && autopopulateForm.underlay_point_to_point_links_spinegroup1_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.underlay_point_to_point_links_spinegroup1_mask\" name=\"underlay_point_to_point_links_spinegroup1_mask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.underlay_point_to_point_links_spinegroup1 | textDisplay}}/{{autopopulateModel.underlay_point_to_point_links_spinegroup1_mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.cbis_router_settings.point_to_point_spinegroup2' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_point_to_point_links_spinegroup2.$dirty && autopopulateForm.underlay_point_to_point_links_spinegroup2.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:175px\" ng-model=\"autopopulateModel.underlay_point_to_point_links_spinegroup2\" class=\"form-control\" name=\"underlay_point_to_point_links_spinegroup2\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.underlay_point_to_point_links_spinegroup2_mask.$dirty && autopopulateForm.underlay_point_to_point_links_spinegroup2_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.underlay_point_to_point_links_spinegroup2_mask\" name=\"underlay_point_to_point_links_spinegroup2_mask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.underlay_point_to_point_links_spinegroup2 | textDisplay}}/{{autopopulateModel.underlay_point_to_point_links_spinegroup2_mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label> {{'fabricOutput.networksettings.fabricsettings.cbis_router_settings.bgp_passwords' | translate}}</label> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"></div> <div class=\"col-sm-9\"> <div class=\"row\"> <div class=\"col-sm-4\">Underlay Password</div> <div ng-show=\"showEdit\" class=\"col-sm-3\"> <input tabindex=\"0\" ng-attr-type=\"{{ showPassword['underlay'] ? 'text' : 'password' }}\" class=\"form-control\" ng-model=\"autopopulateModel.underlay_password\" name=\"underlay\" validation-directive uib-tooltip=\"\" required min=\"1\" placeholder=\"underlay password\"> <span ng-show=\"showEdit\" ng-click=\"toggleShowPassword('underlay')\" ng-class=\"{'fa fa-eye field-icon toggle-password': showPassword['underlay'],'fa fa-eye-slash field-icon toggle-password': !showPassword['underlay']}\"></span> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.underlay_password | passwordDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\">Overlay Password</div> <div ng-show=\"showEdit\" class=\"col-sm-3\"> <input tabindex=\"0\" ng-attr-type=\"{{ showPassword['overlay'] ? 'text' : 'password' }}\" class=\"form-control\" ng-model=\"autopopulateModel.overlay_password\" name=\"overlay\" validation-directive uib-tooltip=\"\" required min=\"1\" placeholder=\"overlay password\"> <span ng-show=\"showEdit\" ng-click=\"toggleShowPassword('overlay')\" ng-class=\"{'fa fa-eye field-icon toggle-password': showPassword['overlay'],'fa fa-eye-slash field-icon toggle-password': !showPassword['overlay']}\"></span> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.overlay_password | passwordDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\">VLT Password</div> <div ng-show=\"showEdit\" class=\"col-sm-3\"> <input tabindex=\"0\" ng-attr-type=\"{{ showPassword['vlt'] ? 'text' : 'password' }}\" class=\"form-control\" ng-model=\"autopopulateModel.vlt_password\" name=\"vlt\" validation-directive uib-tooltip=\"\" required min=\"1\" placeholder=\"vlt password\"> <span ng-show=\"showEdit\" ng-click=\"toggleShowPassword('vlt')\" ng-class=\"{'fa fa-eye field-icon toggle-password': showPassword['vlt'],'fa fa-eye-slash field-icon toggle-password': !showPassword['vlt']}\"></span> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.vlt_password | passwordDisplay}}</span> </div> </div> </div> </div> <div ng-show=\"showEdit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-disabled=\"autopopulateForm.$invalid\" ng-keypress=\"generateCBISRouterDefaults(autopopulateForm)\" ng-click=\"generateCBISRouterDefaults(autopopulateForm)\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelEditView()\" ng-click=\"cancelEditView()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> "
  );


  $templateCache.put('fabric/design/output/networksettings.cbisvlanDefault.html',
    "<section> <form name=\"cbisvlanAutoPopulateForm\" class=\"form-horizontal form-spacing smallform cluster-form\" novalidate> <table st-table=\"networkVlanDefaultModels\" class=\"table table-striped table-bordered\" id=\"cbisnetworkVLANtable\"> <thead> <tr> <th id=\"fdc_network\">Network</th> <th id=\"fdc_ip\">IP</th> </tr> </thead> <tbody ng-if=\"networkVlanDefaultModels.length>0\"> <tr ng-repeat=\"networkVlanDefaultModel in networkVlanDefaultModels\"> <td><span>{{networkVlanDefaultModel.name}}</span></td> <td> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{networkVlanDefaultModel.network | textDisplay}}/{{networkVlanDefaultModel.mask | textDisplay}}</span> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.network.$dirty && vlanAutoPopulateForm.network.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"networkVlanDefaultModel.network\" class=\"form-control\" name=\"loopbackNwAddress\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.mask.$dirty && vlanAutoPopulateForm.mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"networkVlanDefaultModel.mask\" name=\"network\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> </td> </tr> </tbody> </table> <!--div ng-repeat=\"networkVlanDefaultModel in networkVlanDefaultModels\">\r" +
    "\n" +
    "        <div class=\"row\">\r" +
    "\n" +
    "            <div class=\"col-sm-6\">\r" +
    "\n" +
    "                <label>{{networkVlanDefaultModel.name}}</label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-show=\"showEdit\" class=\"col-sm-6\">\r" +
    "\n" +
    "                <div class=\" pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.network.$dirty && vlanAutoPopulateForm.network.$invalid}\">\r" +
    "\n" +
    "                    <input type=\"text\" style=\"width:150px\" ng-model=\"networkVlanDefaultModel.network\" class=\"form-control\"\r" +
    "\n" +
    "                        name=\"loopbackNwAddress\" required validation-directive uib-tooltip=\"\" ng-pattern='/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/'\r" +
    "\n" +
    "                        placeholder='0.0.0.0' />\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"pull-left multiple\">\r" +
    "\n" +
    "                    <label>/</label>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\" pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.mask.$dirty && vlanAutoPopulateForm.mask.$invalid}\">\r" +
    "\n" +
    "                    <input type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"networkVlanDefaultModel.mask\"\r" +
    "\n" +
    "                        name=\"network\" validation-directive uib-tooltip=\"\" required ng-pattern='/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/'\r" +
    "\n" +
    "                        placeholder='24' />\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-hide=\"showEdit\" class=\"col-sm-6\">\r" +
    "\n" +
    "                <span>{{networkVlanDefaultModel.network | textDisplay}}/{{networkVlanDefaultModel.mask | textDisplay}}</span>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        <div class=\"row\">\r" +
    "\n" +
    "            <div class=\"col-sm-6\">\r" +
    "\n" +
    "                <label>Workload Network Subnet Size</label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-show=\"showEdit\" class=\"col-sm-5\">\r" +
    "\n" +
    "                <div class=\"pull-left multiple\">\r" +
    "\n" +
    "                    <label>/</label>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.subnetSize.$dirty && vlanAutoPopulateForm.subnetSize.$invalid}\">\r" +
    "\n" +
    "                    <input type=\"text\" style=\"width:50px;float:left\" class=\"form-control\" ng-model=\"networkVlanDefaultModel.subnetSize\"\r" +
    "\n" +
    "                        name=\"subnetSize\" validation-directive uib-tooltip=\"\" required ng-pattern='/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/'\r" +
    "\n" +
    "                        placeholder='24' />\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-hide=\"showEdit\" class=\"col-sm-6\">\r" +
    "\n" +
    "                <div class=\"pull-left multiple\">\r" +
    "\n" +
    "                    <label>/</label>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"pull-left multiple\">{{networkVlanDefaultModel.subnetSize| textDisplay}}</div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        <div class=\"row\" ng-if=\"false\">\r" +
    "\n" +
    "            <div class=\"col-sm-6\">\r" +
    "\n" +
    "                <label>Static VxLan Overlay</label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-show=\"showEdit\" class=\"col-sm-5\">\r" +
    "\n" +
    "                <div class=\"pull-left\">\r" +
    "\n" +
    "                    <input type=\"checkbox\" name=\"enableOverlay-check\" id=\"enableOverlay\" ng-model=\"networkVlanDefaultModel.enable_overlay\"\r" +
    "\n" +
    "                        ng-disabled=\"protocol.upLinkProtocol=='Layer 2' || protocol.fabricType == 'Layer_2_TOR'\">\r" +
    "\n" +
    "                    <label id=\"enableOverlay-check\" for=\"enableOverlay\"></label>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-hide=\"showEdit\" class=\"col-sm-6\">\r" +
    "\n" +
    "                <span name=\"enableOverlay-check-value\">{{networkVlanDefaultModel.enable_overlay|booleanYesNoDisplay}}</span>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "\r" +
    "\n" +
    "        <div class=\"row\" ng-if=\"false\">\r" +
    "\n" +
    "            <div class=\"col-sm-6\">\r" +
    "\n" +
    "                <label>Ip Interfaces</label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-show=\"showEdit\" class=\"col-sm-5\">\r" +
    "\n" +
    "                <div class=\"pull-left\">\r" +
    "\n" +
    "                    <input type=\"checkbox\" name=\"enableIp-check\" id=\"enableIp\" ng-model=\"networkVlanDefaultModel.enable_ip_interface\"\r" +
    "\n" +
    "                        ng-disabled=\"protocol.upLinkProtocol=='Layer 2' || protocol.fabricType == 'Layer_2_TOR'\">\r" +
    "\n" +
    "                    <label id=\"enableIp-check\" for=\"enableIp\"></label>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-hide=\"showEdit\" class=\"col-sm-6\">\r" +
    "\n" +
    "                <span name=\"enableIp-check-value\">{{networkVlanDefaultModel.enable_ip_interface|booleanYesNoDisplay}}</span>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        </div--> <div ng-show=\"showEdit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" role=\"status\" ng-disabled=\"vlanAutoPopulateForm.$invalid\" ng-keypress=\"generateCBISWorkloadVlansDefaults(vlanAutoPopulateForm)\" ng-click=\"generateCBISWorkloadVlansDefaults(vlanAutoPopulateForm)\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelEditView()\" ng-click=\"cancelEditView()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> </section>"
  );


  $templateCache.put('fabric/design/output/networksettings.cbisvlanHome.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">Workload Networks</h4> </div> <div class=\"col-sm-7\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <li ng-if=\"!summaryview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Summary View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"summary()\" name=\"fdc_button_summary\"><span class=\"glyphicon glyphicon-edit\"></span> Summary</button></li> <li ng-if=\"summaryview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Details View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"detail()\" name=\"fdc_button_detail\"><span class=\"glyphicon glyphicon-edit\"></span> Details</button></li> <li ng-if=\"showEditButton && summaryview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Edit View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"editButtonClick()\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div ng-if=\"summaryview == true && protocol.deploymentType=='Nokia NFVi'\" ng-controller=\"cbisvlanDefaultCtrl as vlanDefCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.cbisvlanDefault.html'\"></div> </div> <div ng-if=\"summaryview == false && protocol.deploymentType=='Nokia NFVi'\" ng-controller=\"vlanMgmtCtrl as vlanmgmt\"> <div ng-include=\"'fabric/design/output/networksettings.vlan.html'\"></div> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.credentials.html',
    "<form name=\"form.cliinput\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">CLI Credentials</h4> </div> <div class=\"col-sm-7\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button aria-label=\"Edit View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"editCLI()\" name=\"fdc_edit_cli\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Protocol</label> </div> <div class=\"col-sm-3\"> <select tabindex=\"0\" ng-show=\"edit\" class=\"form-control\" ng-model=\"cliinput.protocol\" name=\"cliinput_protocol\"> <option ng-selected=\"cliinput.protocol == item.value\" ng-repeat=\"item in protocols\" ng-value=\"item.value\">{{item.text}}</option> </select> <span ng-hide=\"edit\">{{cliinput.protocol}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>User Name</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.cliinput.cliinput_user.$dirty && form.cliinput.cliinput_user.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" placeholder=\"\" ng-model=\"cliinput.user\" name=\"cliinput_user\" ng-required=\"cliinput.password ||cliinput_confirmpassword|| cliinput.enablepassword || cliinput.confirmenablepassword\" validation-directive uib-tooltip=\"\" autocomplete=\"off\"> <span ng-hide=\"edit\">{{cliinput.user | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Password</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.cliinput.cliinput_password.$dirty && form.cliinput.cliinput_password.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" ng-attr-type=\"{{ showPassword['password'] ? 'text' : 'password' }}\" class=\"form-control\" placeholder=\"\" ng-model=\"cliinput.password\" name=\"cliinput_password\" ng-required=\"cliinput.user ||cliinput_confirmpassword|| cliinput.enablepassword || cliinput.confirmenablepassword\" validation-directive uib-tooltip=\"\"> <span ng-show=\"edit\" ng-click=\"toggleShowPassword('password')\" ng-class=\"{'fa fa-eye field-icon toggle-password': showPassword['password'],'fa fa-eye-slash field-icon toggle-password': !showPassword['password']}\"></span> <span ng-hide=\"edit\">{{cliinput.password | passwordDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Confirm Password</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.cliinput.cliinput_confirmpassword.$dirty && form.cliinput.cliinput_confirmpassword.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" ng-attr-type=\"{{ showPassword['confirm_password'] ? 'text' : 'password' }}\" class=\"form-control\" placeholder=\"\" ng-model=\"cliinput.confirmpassword\" name=\"cliinput_confirmpassword\" ng-required=\"cliinput.user||cliinput.password|| cliinput.enablepassword || cliinput.confirmenablepassword\" validation-directive uib-tooltip=\"\"> <span ng-show=\"edit\" ng-click=\"toggleShowPassword('confirm_password')\" ng-class=\"{'fa fa-eye field-icon toggle-password': showPassword['confirm_password'],'fa fa-eye-slash field-icon toggle-password': !showPassword['confirm_password']}\"></span> <span ng-hide=\"edit\">{{cliinput.confirmpassword | passwordDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\"> <div class=\"col-sm-5\"> <label>Enable Password</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.cliinput.cliinput_enablepassword.$dirty && form.cliinput.cliinput_enablepassword.$invalid}\"> <div> <input tabindex=\"0\" ng-show=\"edit\" ng-attr-type=\"{{ showPassword['enable_password'] ? 'text' : 'password' }}\" class=\"form-control\" placeholder=\"\" ng-model=\"cliinput.enablepassword\" name=\"cliinput_enablepassword\" validation-directive uib-tooltip=\"\"> <span ng-show=\"edit\" ng-click=\"toggleShowPassword('enable_password')\" ng-class=\"{'fa fa-eye field-icon toggle-password': showPassword['enable_password'],'fa fa-eye-slash field-icon toggle-password': !showPassword['enable_password']}\"></span> <span ng-hide=\"edit\">{{cliinput.enablepassword | passwordDisplay}}</span> </div> </div> </div> <div class=\"row\" ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\"> <div class=\"col-sm-5\"> <label>Confirm Enable Password</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.cliinput.cliinput_confirmenablepassword.$dirty && form.cliinput.cliinput_confirmenablepassword.$invalid}\"> <div> <input tabindex=\"0\" ng-show=\"edit\" ng-attr-type=\"{{ showPassword['confirm_enablepassword'] ? 'text' : 'password' }}\" class=\"form-control\" placeholder=\"\" ng-model=\"cliinput.confirmenablepassword\" name=\"cliinput_confirmenablepassword\" validation-directive uib-tooltip=\"\"> <span ng-show=\"edit\" ng-click=\"toggleShowPassword('confirm_enablepassword')\" ng-class=\"{'fa fa-eye field-icon toggle-password': showPassword['confirm_enablepassword'],'fa fa-eye-slash field-icon toggle-password': !showPassword['confirm_enablepassword']}\"></span> <span ng-hide=\"edit\">{{cliinput.confirmenablepassword | passwordDisplay}}</span> </div> </div> </div> </form> <div ng-show=\"edit\" class=\"cluster-modal\"> <!--div><strong>Note:</strong> Password should have atleast one uppercase, one lowercase, one number and  minimum length must be 9 </div--> <div><strong>Note:</strong> Be aware that your password may be considered too simple by the devices </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" role=\"status\" ng-disabled=\"form.cliinput.$invalid || form.cliinput.$pristine\" ng-keypress=\"setCLIInput()\" ng-click=\"setCLIInput()\" name=\"fdc_cli_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelCLIInput()\" ng-click=\"cancelCLIInput()\" name=\"fdc_cli_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.dci.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 ng-if=\"!dcidetails\" class=\".nav-tabs\">DCI Settings</h4> <h4 ng-if=\"dcidetails\" class=\".nav-tabs\">DCI Loopback Details</h4> </div> <div class=\"col-sm-7\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" type=\"button\" ng-if=\"!dcidetails && !edge_rack_warning\" class=\"btn btn-link\" ng-click=\"editDCI()\" title=\"Configure Loopback IP address for VTEP to handle external VxLAN tunnel and L2 VNI & L3 VNI for route target configuration.\" name=\"fdc_edit_dci\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> <li><button tabindex=\"0\" type=\"button\" ng-if=\"!dcidetails && !edge_rack_warning\" class=\"btn btn-link\" ng-click=\"details()\" title=\"DCI Loopback Details\" name=\"fdc_edit_dci_settings\"><span class=\"glyphicon glyphicon-edit\"></span> DCI Settings</button></li> <li><button tabindex=\"0\" type=\"button\" ng-if=\"dcidetails && !edge_rack_warning\" class=\"btn btn-link\" ng-click=\"editdcidetails()\" title=\"Edit DCI Loopback Details\" name=\"fdc_edit_dci\"><span class=\"glyphicon glyphicon-edit\"></span> Edit</button></li> <li><button tabindex=\"0\" type=\"button\" ng-if=\"dcidetails && !edge_rack_warning\" class=\"btn btn-link\" ng-click=\"summary()\" title=\"Summary\" name=\"fdc_edit_dci_summary\"><span class=\"glyphicon glyphicon-edit\"></span> Summary</button></li> </ul> </div> </div> <div class=\"row\" ng-if=\"edge_rack_warning\"> <div class=\"col-sm-3\"></div> <div class=\"col-sm-5\" style=\"font-size: 16px\"> <label>{{edge_rack_warning}}</label> </div> </div> <div ng-if=\"!dcidetails && !edge_rack_warning\"> <form name=\"form.dci_input\" class=\"form-horizontal form-spacing cluster-form cluster-modal\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <label for=\"loopbackId\">Loopback ID</label> </div> <div class=\"col-sm-7 custompadding\"> <div class=\"col-sm-12 custompadding\"> <div class=\"col-sm-5\" ng-class=\"{'has-error' : form.dci_input.loopbackId.$dirty && form.dci_input.loopbackId.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" title=\"Assign loopback IP address for VTEP to handle external VxLAN tunnel\" type=\"number\" min=\"2\" max=\"16383\" class=\"form-control\" ng-model=\"dci_input.loopbackId\" id=\"loopbackId\" name=\"loopbackId\" required validation-directive uib-tooltip=\"\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"loopbackId\">{{dci_input.loopbackId | textDisplay}}</span> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label for=\"loopback2_ip\">Loopback IP</label> </div> <div class=\"col-sm-7 custompadding\"> <div class=\"col-sm-12 custompadding\"> <div class=\"col-sm-5\" ng-show=\"edit\" ng-class=\"{'has-error' : form.dci_input.loopback2_ip.$dirty && form.dci_input.loopback2_ip.$invalid}\"> <input tabindex=\"0\" type=\"text\" title=\"Assign loopback IP address for VTEP to handle external VxLAN tunnel\" class=\"form-control\" ng-model=\"dci_input.loopback2_ip\" id=\"loopback2_ip\" name=\"loopback2_ip\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\" autocomplete=\"off\"> </div> <div ng-show=\"edit\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edit\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.dci_input.loopback2_NetMask.$dirty && form.dci_input.loopback2_NetMask.$invalid}\"> <input tabindex=\"51\" type=\"text\" title=\"Assign loopback IP address for VTEP to handle external VxLAN tunnel\" style=\"width:45px\" class=\"form-control\" ng-model=\"dci_input.loopback2_NetMask\" name=\"loopback2_NetMask\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(32)$/\" placeholder=\"32\" ng-disabled=\"false\"> </div> </div> </div> <div ng-hide=\"edit\" class=\"col-sm-3\"> <span>{{dci_input.loopback2_ip| textDisplay}}/{{dci_input.loopback2_NetMask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <label>L2 VNI <span>- Configure L2 VNI for importing VNI from other fabric.</span></label> </div> </div> <div class=\"row\" ng-if=\"dci_input.vlanvnimap && dci_input.vlanvnimap.length>0\"> <!--div class=\"col-sm-5\">\r" +
    "\n" +
    "            <label>L2 VNI Route Targets</label>\r" +
    "\n" +
    "        </div--> <div class=\"col-sm-12 table-responsive\"> <table class=\"table table-striped table-bordered\" name=\"dcivnitable\" id=\"dcivnitable\" style=\"width:100%\"> <thead> <tr> <th style=\"width:20%\" name=\"vlanid\">VLAN ID </th> <th style=\"width:33%\" name=\"vniid\">Export L2 VNI ID (Expose the local VNI to other fabric)</th> <th style=\"width:33%\" name=\"vniid\">Import L2 VNI ID (Import the VNI from other fabric)</th> </tr> </thead> <tbody> <tr ng-repeat=\"item in dci_input.vlanvnimap\" track by item.vlan_id> <td name=\"vlanid{{$index}}\"> <span><label for=\"vni_id_{{$index}}\">{{item.vlan_id| textDisplay}}</label></span> </td> <td name=\"vni_id_export{{$index}}\"> <span>{{item.vni_id_export| textDisplay}}</span> </td> <td name=\"vniid{{$index}}\" ng-class=\"{'has-error' : form.dci_input.vni_id_{{$index}}.$dirty && form.dci_input.vni_id_{{$index}}.$invalid}\"> <input ng-show=\"edit\" title=\"Configure L2 tunnel end points.\" type=\"text\" class=\"form-control\" ng-model=\"item.vni_id\" name=\"vni_id_{{$index}}\" id=\"vni_id_{{$index}}\" required validation-directive uib-tooltip=\"\"> <div ng-hide=\"edit\" class=\"col-sm-3\"> <span>{{item.vni_id| textDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"dci_inputdetails.length==0\"> <tr> <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table></div> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <label>L3 VNI <span>- Configure L3 VNI for route exchange with other fabric.</span></label> </div> </div> <div class=\"row\" ng-if=\"dci_input.vrfvnimap && dci_input.vrfvnimap.length>0\"> <div class=\"col-sm-12 table-responsive\"> <table class=\"table table-striped table-bordered\" name=\"dcivnitable\" id=\"dcivnitable\" style=\"width:100%\"> <thead> <tr> <th style=\"width:20%\" name=\"vlanid\">VRF</th> <th style=\"width:33%\" name=\"l3vniid\">Export L3 VNI ID (Expose L3 VNI to other fabric)</th> <th style=\"width:33%\" name=\"l3vniid\">Import L3 VNI ID (Import L3 VNI from other fabric)</th> </tr> </thead> <tbody> <tr ng-repeat=\"item in dci_input.vrfvnimap track by item.vrf_name\"> <td name=\"vrfname{{$index}}\"> <span><label for=\"l3vni_id_{{$index}}\">{{item.vrf_name| textDisplay}}</label></span> </td> <td name=\"l3vni_id_export{{$index}}\"> <span>{{item.l3vni_id_export| textDisplay}}</span> </td> <td name=\"l3vniid{{$index}}\" ng-class=\"{'has-error' : form.dci_input.l3vni_id_{{$index}}.$dirty && form.dci_input.l3vni_id_{{$index}}.$invalid}\"> <input ng-show=\"edit\" title=\"Configure L3 VNI of {{item.vrf_name}} from the other fabric.\" type=\"text\" class=\"form-control\" ng-model=\"item.l3vni_id\" name=\"l3vni_id_{{$index}}\" id=\"l3vni_id_{{$index}}\" required validation-directive uib-tooltip=\"\"> <div ng-hide=\"edit\" class=\"col-sm-3\"> <span>{{item.l3vni_id| textDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"dci_inputdetails.length==0\"> <tr> <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table></div> </div> <div class=\"row\"> <div class=\"col-sm-12 table-responsive\"> <label>Reminder: L2 VNI and L3 VNI imported will be used to configure other site.</label> </div> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"30\" type=\"primary\" ng-disabled=\"form.dci_input.$invalid\" ng-keypress=\"updateDCISettings()\" ng-click=\"updateDCISettings()\" name=\"fdc_dci_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"30\" type=\"danger\" ng-keypress=\"cancelDCI()\" ng-click=\"cancelDCI()\" name=\"fdc_dci_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> </div> <div ng-if=\"dcidetails && !edge_rack_warning\"> <form name=\"form.dci_inputdetails\" class=\"form-horizontal form-spacing cluster-form cluster-modal\" novalidate> <div class=\"table-responsive\"> <table class=\"table table-striped table-bordered\" name=\"dcisettingstable\" id=\"dcisettingstable\" style=\"margin-bottom:50px\"> <thead> <tr> <th name=\"switchname\">{{'fabricOutput.networksettings.ipdhcp.switchname' | translate}}</th> <th name=\"lb_ip\">{{'fabricOutput.networksettings.ipdhcp.lb_ip' | translate}}</th> </tr> </thead> <tbody ng-if=\"dci_inputdetails.length>0\"> <tr ng-repeat=\"item in dci_inputdetails track by item.switch_id\"> <td name=\"switchname{{$index}}\"> <span>{{item.switch_name| textDisplay}}</span> </td> <td name=\"lb_ip{{$index}}\"> <div ng-show=\"edit\" class=\"col-sm-6\" ng-class=\"{'has-error' : form.dci_inputdetails.lb_ip_{{item.switch_id}}.$dirty && form.dci_inputdetails.lb_ip_{{item.switch_id}}.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"item.lb_ip\" name=\"lb_ip_{{item.switch_id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edit\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edit\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.dci_inputdetails.lb_mask_{{item.switch_id}}.$dirty && form.dci_inputdetails.lb_mask_{{item.switch_id}}.$invalid}\"> <input type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.lb_mask\" name=\"lb_mask_{{item.switch_id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(32)$/\" placeholder=\"32\"> </div> <div ng-hide=\"edit\" class=\"col-sm-3\"> <span>{{item.lb_ip| textDisplay}}/{{item.lb_mask | textDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"dci_inputdetails.length==0\"> <tr> <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-click=\"updateDCI_LB_IPS()\" name=\"fdc_dci_settings_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"cancelDCISettings()\" name=\"fdc_dci_settings_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> </div> "
  );


  $templateCache.put('fabric/design/output/networksettings.dns.html',
    "<form name=\"form.dnsinput\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">DNS</h4> </div> <div class=\"col-sm-7\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" aria-label=\"Edit DNS View\" type=\"button\" class=\"btn btn-link\" ng-click=\"editDNS()\" name=\"fdc_edit_dns\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Enable</label> </div> <div class=\"col-sm-3 custompadding\" ng-show=\"edit\" ng-class=\"{'has-error' : form.dnsinput.enable_dns.$dirty && form.dnsinput.enable_dns.$invalid}\"> <input tabindex=\"0\" type=\"checkbox\" name=\"enabledns\" id=\"enabledns\" ng-model=\"dnsinput.enable\"> <label id=\"enabledns-check\" for=\"enabledns\"></label> </div> <div ng-hide=\"edit\"><span name=\"enableDns\">{{dnsinput.enable|booleanYesNoDisplay}}</span></div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Primary DNS</label> </div> <div class=\"col-sm-3 custompadding\" ng-class=\"{'has-error' : form.dnsinput.dns_primary.$dirty && form.dnsinput.dns_primary.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"dnsinput.primary\" name=\"dns_primary\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> <span ng-hide=\"edit\">{{dnsinput.primary | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Secondary DNS-1</label> </div> <div class=\"col-sm-3 custompadding\" ng-class=\"{'has-error' : form.dnsinput.dns_secondary1.$dirty && form.dnsinput.dns_secondary1.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"dnsinput.secondary1\" name=\"dns_secondary1\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> <span ng-hide=\"edit\">{{dnsinput.secondary1 | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Secondary DNS-2</label> </div> <div class=\"col-sm-3 custompadding\" ng-class=\"{'has-error' : form.dnsinput.dns_secondary2.$dirty && form.dnsinput.dns_secondary2.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"dnsinput.secondary2\" name=\"dns_secondary2\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> <span ng-hide=\"edit\">{{dnsinput.secondary2 | textDisplay}}</span> </div> </div> </form> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"0\" role=\"status\" ng-disabled=\"form.dnsinput.$invalid\" ng-keypress=\"setDNSInput()\" ng-click=\"setDNSInput()\" name=\"fdc_cli_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"0\" ng-keypress=\"cancelDNSInput()\" ng-click=\"cancelDNSInput()\" name=\"fdc_cli_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.fabricLink.html',
    "<form name=\"form.uplinksettings\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"table-responsive\"> <table st-table=\"fabricnetworksettings.linkSettingsInput\" class=\"table table-striped table-bordered\" name=\"linkSettingTable\" id=\"linkSettingTable\" ng-class=\"{'maxtable':edituplink}\"> <thead> <tr> <th class=\"col-sm-2\" name=\"linkdesc\">{{'fabricOutput.networksettings.fabricsettings.linksettings.linkdesc' | translate}}</th> <th class=\"col-sm-2\" name=\"network\">{{'fabricOutput.networksettings.fabricsettings.linksettings.network' | translate}}</th> <th class=\"col-sm-1\" name=\"src_switch\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcswitch' | translate}}</th> <th class=\"col-sm-1\" name=\"src_interface\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcinterface' | translate}}</th> <th class=\"col-sm-2\" name=\"src_ip\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcip' | translate}}</th> <th class=\"col-sm-1\" name=\"dest_switch\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destswitch' | translate}}</th> <th class=\"col-sm-1\" name=\"dest_interface\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destinterface' | translate}}</th> <th class=\"col-sm-2\" name=\"dest_ip\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destip' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.fabricLinkProtocolType!='OSPF'\" name=\"src_as\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcas' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.fabricLinkProtocolType!='OSPF'\" name=\"dest_as\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destas' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.fabricLinkProtocolType=='OSPF'\" name=\"area\">{{'fabricOutput.networksettings.fabricsettings.linksettings.area' | translate}}</th> </tr> </thead> <!--commenting this code now, will get it open when needed--> <!--tfoot>\r" +
    "\n" +
    "        <tr>\r" +
    "\n" +
    "            <th colspan=11>\r" +
    "\n" +
    "                 <footer class=\"pull-right cux-dialog__footer\">\r" +
    "\n" +
    "                        <div class=\"cux-button-set\">\r" +
    "\n" +
    "                            <dlcui-button  ng-disabled=\"!edituplink\" type=\"primary\"  ng-click=\"updateUplinkSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button>\r" +
    "\n" +
    "                            <dlcui-button  ng-disabled=\"!edituplink\" type=\"danger\"  ng-click=\"cancelUplinkSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                  </footer>\r" +
    "\n" +
    "            </th>\r" +
    "\n" +
    "        </tr>\r" +
    "\n" +
    "  </tfoot--> <!--show when there are rows in the table--> <tbody ng-if=\"fabricnetworksettings.linkSettingsInput.length>0\"> <tr ng-repeat=\"item in fabricnetworksettings.linkSettingsInput track by item.id\"> <td name=\"linkdesc{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.linkDescription| textDisplay}}</span> </div> </td> <td name=\"network{{$index}}\"> <div class=\"col-sm-12\"> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.networkAddress_{{item.id}}.$dirty && form.uplinksettings.networkAddress_{{item.id}}.$invalid}\"> <input type=\"text\" style=\"width:148px\" class=\"form-control\" ng-model=\"item.networkAddress\" name=\"networkAddress_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edituplink\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.networkIpNetMask_{{item.id}}.$dirty && form.uplinksettings.networkIpNetMask_{{item.id}}.$invalid}\"> <input type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.networkIpNetMask\" name=\"networkIpNetMask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.networkAddress| textDisplay}}/{{item.networkIpNetMask | textDisplay}}</span> </div> </td> <td name=\"src_switch{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.srcSwitchName| textDisplay}}</span> </div> </td> <td name=\"src_interface{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.srcPortName| textDisplay}}</span> </div> </td> <td name=\"src_ip{{$index}}\"> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.localIp_{{item.id}}.$dirty && form.uplinksettings.localIp_{{item.id}}.$invalid}\"> <input type=\"text\" style=\"width:148px\" class=\"form-control\" ng-model=\"item.localIp\" name=\"localIp_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edituplink\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.localIpNetMask_{{item.id}}.$dirty && form.uplinksettings.localIpNetMask_{{item.id}}.$invalid}\"> <input type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.localIpNetMask\" name=\"localIpNetMask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.localIp| textDisplay}}/{{item.localIpNetMask | textDisplay}}</span> </div> </td> <td name=\"dest_switch{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.dstSwitchName| textDisplay}}</span> </div> </td> <td name=\"dest_interface{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.dstPortName| textDisplay}}</span> </div> </td> <td name=\"dest_ip{{$index}}\"> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.remoteIp_{{item.id}}.$dirty && form.uplinksettings.remoteIp_{{item.id}}.$invalid}\"> <input type=\"text\" style=\"width:148px\" class=\"form-control\" ng-model=\"item.remoteIp\" name=\"remoteIp_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edituplink\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.remoteIpNetMask_{{item.id}}.$dirty && form.uplinksettings.remoteIpNetMask_{{item.id}}.$invalid}\"> <input type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.remoteIpNetMask\" name=\"remoteIpNetMask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.remoteIp| textDisplay}}/{{item.remoteIpNetMask | textDisplay}}</span> </div> </td> <td ng-if=\"uplink.fabricLinkProtocolType!='OSPF'\" name=\"src_as{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.localASN_{{item.id}}.$dirty && form.uplinksettings.localASN_{{item.id}}.$invalid}\"> <input type=\"number\" ng-disabled=\"true\" style=\"width:80px\" min=\"0\" max=\"65535\" class=\"form-control\" ng-model=\"item.localASN\" name=\"localASN_{{item.id}}\" required validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.localASN| numberDisplay}}</span> </div> </td> <td ng-if=\"uplink.fabricLinkProtocolType!='OSPF'\" name=\"dest_as{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.remoteASN_{{item.id}}.$dirty && form.uplinksettings.remoteASN_{{item.id}}.$invalid}\"> <span ng-if=\"uplink.fabricLinkProtocolType=='iBGP'\">{{item.remoteASN=item.localASN| numberDisplay}}</span> <input type=\"number\" ng-disabled=\"true\" style=\"width:80px\" min=\"0\" max=\"65535\" ng-if=\"uplink.fabricLinkProtocolType=='eBGP'\" class=\"form-control\" ng-model=\"item.remoteASN\" name=\"remoteASN_{{item.id}}\" required validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.remoteASN| numberDisplay}}</span> </div> </td> <td ng-if=\"uplink.fabricLinkProtocolType=='OSPF'\" name=\"area{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.areaId_{{item.id}}.$dirty && form.uplinksettings.areaId_{{item.id}}.$invalid}\"> <input type=\"number\" ng-disabled=\"true\" style=\"width:80px\" min=\"0\" max=\"65535\" class=\"form-control\" ng-model=\"item.areaId\" name=\"areaId_{{item.id}}\" required ng-pattern=\"/^\\d+$/\" validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.areaId| numberDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"fabricnetworksettings.linkSettingsInput.length==0\"> <tr> <td colspan=\"11\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> <div ng-show=\"edituplink\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-click=\"updateUplinkSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"cancelUplinkSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> <!--end of uplink form-->"
  );


  $templateCache.put('fabric/design/output/networksettings.fabricLink_vlti_vlan.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">VLTi Links</h4> </div> <div class=\"col-sm-7\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <li> <button type=\"button\" aria-label=\"Edit View\" ng-disabled=\"editvltivlan\" class=\"btn btn-link\" ng-click=\"editVltilinkSettings()\" name=\"fdc_edit_router_settings\"> <span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button> </li> </ul> </div> </div> <form name=\"form.vlti_vlans\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <!--show when there are no rows in the table--> <div class=\"table-responsive\"> <table class=\"table table-striped table-bordered\" name=\"linkSettingTable\"> <thead> <tr> <th>Switch Name</th> <th>Vlan Id</th> <th>Vlan Ip</th> </tr> </thead> <tbody ng-if=\"fabricnetworksettings.vltivlansInput.length>0\"> <tr ng-repeat=\"item in fabricnetworksettings.vltivlansInput track by item.id\"> <td name=\"vlti_vlan{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.switchName| textDisplay}}</span> </div> </td> <td name=\"vlanId{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.vlanId| textDisplay}}</span> </div> </td> <td name=\"vlanIp{{item.id}}\"> <div ng-show=\"editvltivlan\" class=\"pull-left\" ng-class=\"{'has-error' : form.vlti_vlans.vlanIp{{item.id}}.$dirty && form.vlti_vlans.vlanIp{{item.id}}.$invalid}\"> <input type=\"text\" style=\"width:148px\" class=\"form-control\" ng-model=\"item.vlanIp\" name=\"vlanIp_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"col-sm-12\" ng-hide=\"editvltivlan\"> <span>{{item.vlanIp| textDisplay}}</span> </div> </td> </tr> </tbody> <tbody ng-if=\"fabricnetworksettings.vltivlansInput.length==0\"> <tr> <td colspan=\"11\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> <!--end of uplinktable --> </div> <!--end of uplink table responsive--> <div ng-show=\"editvltivlan\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-click=\"updatevltiVlanSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"cancelvltiVlanSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> <!--end of uplink form-->"
  );


  $templateCache.put('fabric/design/output/networksettings.ipdhcp.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 ng-if=\"!ipdhcpdetails\" class=\".nav-tabs\">IP DHCP</h4> <h4 ng-if=\"ipdhcpdetails\" class=\".nav-tabs\">IP DHCP Settings</h4> </div> <div class=\"col-sm-7\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" type=\"button\" ng-if=\"!ipdhcpdetails\" class=\"btn btn-link\" aria-label=\"Edit IPDHCP View\" ng-click=\"editIPDHCP()\" name=\"fdc_edit_ipdhcp\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> <li><button tabindex=\"0\" type=\"button\" ng-if=\"!ipdhcpdetails\" class=\"btn btn-link\" aria-label=\"IPDHCP Details View\" ng-click=\"details()\" name=\"fdc_edit_ipdhcp\"><span class=\"glyphicon glyphicon-edit\"></span> {{'fabricOutput.networksettings.ipdhcp.title' | translate}}</button></li> <button tabindex=\"0\" type=\"button\" ng-if=\"ipdhcpdetails\" class=\"btn btn-link\" aria-label=\"Edit IPDHCP Details View\" ng-click=\"editIPDHCPDetails()\" name=\"fdc_edit_ipdhcp\"><span class=\"glyphicon glyphicon-edit\"></span> Edit</button> <button tabindex=\"0\" type=\"button\" ng-if=\"ipdhcpdetails\" class=\"btn btn-link\" aria-label=\"IPDHCP Summary View\" ng-click=\"summary()\" name=\"fdc_edit_ipdhcp\"><span class=\"glyphicon glyphicon-edit\"></span> Summary</button> </ul> </div> </div> <div ng-if=\"!ipdhcpdetails\"> <form name=\"form.ipdhcpinput\" class=\"form-horizontal form-spacing cluster-form cluster-modal\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Enable</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.ipdhcpinput.enable_ipdhcp.$dirty && form.ipdhcpinput.enable_ipdhcp.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"checkbox\" name=\"enable_ipdhcp\" id=\"enableipdhcp\" ng-model=\"ipdhcpinput.enable\"> <label ng-show=\"edit\" id=\"enableipdhcp-check\" for=\"enableipdhcp\"></label> <span ng-hide=\"edit\" name=\"enableipdhcp\">{{ipdhcpinput.enable|booleanYesNoDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>DHCP Gateway IP</label> </div> <div class=\"col-sm-7 custompadding\"> <div ng-if=\" ((isArray(ipdhcpinput.dhcp_gateway_ip))&& ipdhcpinput.dhcp_gateway_ip.length==0)\" class=\"col-sm-12 custompadding\"> <div class=\"col-sm-5\"> <span ng-hide=\"edit\">-</span> <p ng-show=\"edit\" class=\"well well-box text-muted text-center\">Add DHCP Gateway IP</p> </div> <div class=\"col-sm-1\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addDHCPGwIP()\" name=\"dhcp_gateway_ip{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> </ul> </div> </div> <div ng-if=\"(isArray(ipdhcpinput.dhcp_gateway_ip))&& ipdhcpinput.dhcp_gateway_ip.length>0\" class=\"col-sm-12 custompadding\" ng-repeat=\"item in ipdhcpinput.dhcp_gateway_ip track by $index\"> <div class=\"col-sm-5\" ng-class=\"{'has-error' : form.ipdhcpinput.dhcp_gateway_ip_{{$index}}.$dirty && form.ipdhcpinput.dhcp_gateway_ip_{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"ipdhcpinput.dhcp_gateway_ip[$index]\" name=\"dhcp_gateway_ip_{{$index}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> <span ng-hide=\"edit\">{{item | textDisplay}}</span> </div> <div class=\"col-sm-4\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\" style=\"padding:0\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addDHCPGwIP()\" name=\"dhcp_gateway_ip_{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li style=\"padding:0\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"removeDHCPGwIP($index)\" name=\"dhcp_gateway_ip_{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Loopback ID</label> </div> <div class=\"col-sm-7 custompadding\"> <div class=\"col-sm-12 custompadding\"> <div class=\"col-sm-5\" ng-class=\"{'has-error' : form.ipdhcpinput.loopbackId.$dirty && form.ipdhcpinput.loopbackId.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"number\" min=\"2\" max=\"16383\" class=\"form-control\" ng-model=\"ipdhcpinput.loopbackId\" name=\"loopbackId\" required validation-directive uib-tooltip=\"\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"loopbackId\">{{ipdhcpinput.loopbackId | textDisplay}}</span> </div> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Loopback IP</label> </div> <div class=\"col-sm-7 custompadding\"> <div class=\"col-sm-12 custompadding\"> <div class=\"col-sm-5\" ng-show=\"edit\" ng-class=\"{'has-error' : form.ipdhcpinput.loopbackIp.$dirty && form.ipdhcpinput.loopbackIp.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"ipdhcpinput.loopbackIp\" name=\"loopbackIp\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\" autocomplete=\"off\"> </div> <div ng-show=\"edit\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edit\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.ipdhcpinput.loopbackIp_mask.$dirty && form.ipdhcpinput.loopbackIp_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"ipdhcpinput.loopbackIp_mask\" name=\"loopbackIp_mask\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(2[0-4]|1[0-9]|[8-9])\\b/\" placeholder=\"24\" ng-disabled=\"false\"> </div> </div> </div> <div ng-hide=\"edit\" class=\"col-sm-3\"> <span>{{ipdhcpinput.loopbackIp| textDisplay}}/{{ipdhcpinput.loopbackIp_mask | textDisplay}}</span> </div> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-disabled=\"form.ipdhcpinput.$invalid\" ng-keypress=\"setIPDHCPInput()\" ng-click=\"setIPDHCPInput()\" name=\"fdc_ipdhcp_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelIPDHCPInput()\" ng-click=\"cancelIPDHCPInput()\" name=\"fdc_ipdhcp_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> </div> <div ng-if=\"ipdhcpdetails\"> <form name=\"form.ipdhcpinputdetails\" class=\"form-horizontal form-spacing cluster-form cluster-modal\" novalidate> <div class=\"table-responsive\"> <table class=\"table table-striped table-bordered\" name=\"ipdhcpSettingTable\" id=\"ipdhcpSettingTable\" style=\"margin-bottom:50px\"> <thead> <tr> <th name=\"switchname\">{{'fabricOutput.networksettings.ipdhcp.switchname' | translate}}</th> <th name=\"lb_ip\">{{'fabricOutput.networksettings.ipdhcp.lb_ip' | translate}}</th> </tr> </thead> <tbody ng-if=\"ipdhcpinputdetails.length>0\"> <tr ng-repeat=\"item in ipdhcpinputdetails track by item.switch_id\"> <td name=\"switchname{{$index}}\"> <span>{{item.switch_name| textDisplay}}</span> </td> <td name=\"lb_ip{{$index}}\"> <div ng-show=\"edit\" class=\"col-sm-6\" ng-class=\"{'has-error' : form.ipdhcpinputdetails.lb_ip_{{item.switch_id}}.$dirty && form.ipdhcpinputdetails.lb_ip_{{item.switch_id}}.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"item.lb_ip\" name=\"lb_ip_{{item.switch_id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edit\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edit\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.ipdhcpinputdetails.lb_mask_{{item.switch_id}}.$dirty && form.ipdhcpinputdetails.lb_mask_{{item.switch_id}}.$invalid}\"> <input type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.lb_mask\" name=\"lb_mask_{{item.switch_id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-2]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"edit\" class=\"col-sm-3\"> <span>{{item.lb_ip| textDisplay}}/{{item.lb_mask | textDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"ipdhcpinputdetails.length==0\"> <tr> <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-click=\"updateIPDHCPSettings()\" name=\"fdc_ipdhcpsettings_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"cancelIPDHCPSettings()\" name=\"fdc_ipdhcpsettings_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> </div> "
  );


  $templateCache.put('fabric/design/output/networksettings.ipmac.html',
    "<form name=\"form.ipmac\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <table st-table=\"viewmodel.ipmaclist\" class=\"table table-striped table-bordered\" name=\"mgmtIPTable\" id=\"managementIPtable\"> <thead> <tr> <th name=\"switchname\">Switch Host Name</th> <th name=\"switchmodel\">Switch Model</th> <th name=\"ipaddress\">Management IP Address</th> <th name=\"gateway\">Default Gateway</th> <!--th name=\"macaddress\">System MAC Address</th--> </tr> </thead> <tbody> <!--tr  ng-repeat=\"switch in ipmac.viewmodel.switches | filter:{type:ipmac.viewmodel.filteredType.name}\"\"--> <tr ng-repeat=\"switch in viewmodel.ipmaclist\" name=\"mgmtIProw{{$index}}\"> <!--td name=\"switchDeviceId{{$index}}\">{{switch.hostname}}</td--> <td name=\"switchDeviceId{{$index}}\"> <div ng-show=\"edit\" class=\"col-sm-6\" ng-class=\"{'has-error' : form.ipmac.name_{{switch.name}}.$dirty && form.ipmac.name_{{switch.name}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" maxlength=\"64\" style=\"width:150px\" ng-pattern=\"/^[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]$/\" ng-model=\"viewmodel.ipmaclist[$index].name\" name=\"name_{{switch.id}}\" required validation-directive uib-tooltip=\"\" required> </div> <div ng-hide=\"edit\" class=\"col-sm-8\"> <span name=\"name{{$index}}\">{{viewmodel.ipmaclist[$index].name}}</span> </div> </td> <td name=\"switchModel{{$index}}\">{{switch.model}}</td> <td name=\"managementIP{{$index}}\"> <div ng-show=\"edit\" class=\"col-sm-6\" ng-class=\"{'has-error' : form.ipmac.mgmtIP_{{switch.id}}.$dirty && form.ipmac.mgmtIP_{{switch.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"viewmodel.ipmaclist[$index].mgmtIP\" name=\"mgmtIP_{{switch.id}}\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edit\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edit\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.ipmac.netmask_{{switch.id}}.$dirty && form.ipmac.netmask_{{switch.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"viewmodel.ipmaclist[$index].netmask\" name=\"netmask_{{switch.id}}\" validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"edit\" class=\"col-sm-8\"> <span name=\"Switchipaddress{{$index}}\">{{viewmodel.ipmaclist[$index].mgmtIP | textDisplay}}/{{viewmodel.ipmaclist[$index].netmask | textDisplay}}</span> </div> </td> <td name=\"managementRoute{{$index}}\"> <div ng-show=\"edit\" class=\"col-sm-8\" ng-class=\"{'has-error' : form.ipmac.gatewayIP_{{switch.id}}.$dirty && form.ipmac.gatewayIP_{{switch.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"viewmodel.ipmaclist[$index].gatewayIP\" name=\"gatewayIP_{{switch.id}}\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <!--div ng-show=\"edit\" class=\"pull-left multiple\">\r" +
    "\n" +
    "\t\t\t\t<label>/</label>\r" +
    "\n" +
    "\t\t\t</div>\t\t\t\r" +
    "\n" +
    "\t\t\t <div  ng-show=\"edit\" class=\"col-sm-2\"\r" +
    "\n" +
    "\t\t\t\t\tng-class=\"{'has-error' : form.ipmac.gatewayMask_{{switch.id}}.$dirty && form.ipmac.gatewayMask_{{switch.id}}.$invalid}\">\r" +
    "\n" +
    "\t\t\t\t\t<input type=\"text\"  class=\"form-control\" ng-model=\"viewmodel.ipmaclist[$index].gatewayMask\"  name=\"gatewayMask_{{switch.id}}\"\r" +
    "\n" +
    "\t\t\t\t\tvalidation-directive uib-tooltip=\"\" \r" +
    "\n" +
    "\t\t\t\t\tng-pattern='/\\b(3[0]|2[0-9]|1[0-9]|[8-9])\\b/'\r" +
    "\n" +
    "\t\t\t\t\tplaceholder='24'/>\r" +
    "\n" +
    "\t\t\t</div--> <div ng-hide=\"edit\" class=\"col-sm-8\"> <span name=\"gatewayIPMask{{$index}}\">{{viewmodel.ipmaclist[$index].gatewayIP | textDisplay}}</span> </div> </td> <!--td name=\"systemMAC{{$index}}\">\r" +
    "\n" +
    "\t\t<div class=\"col-sm-12\"\r" +
    "\n" +
    "\t\tng-class=\"{'has-error' : form.ipmac.mac_{{switch.id}}.$dirty && form.ipmac.mac_{{switch.id}}.$invalid}\">\r" +
    "\n" +
    "        <input ng-show=\"edit\" type=\"text\"  class=\"form-control\" ng-model=\"viewmodel.ipmaclist[$index].mac\"  name=\"mac_{{switch.id}}\"\r" +
    "\n" +
    "\t\t\t\tvalidation-directive uib-tooltip=\"\"\r" +
    "\n" +
    "\t\t\t\tng-pattern='/^[0-9a-f]{2}([:-])(?:[0-9a-f]{2}\\1){4}[0-9a-f]{2}$/' \r" +
    "\n" +
    "\t\t\t\tplaceholder='00:00:00:00:00:00'/>\t\r" +
    "\n" +
    "\t\t\t\t<span ng-hide=\"edit\" name=\"ipmacSwitch{{$index}}\">{{viewmodel.ipmaclist[$index].mac | textDisplay}}</span>\r" +
    "\n" +
    "\t\t</div>\r" +
    "\n" +
    "\t</td--> </tr> </tbody> </table> </form> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-disabled=\"form.ipmac.$invalid||form.ipmac.$pristine\" ng-click=\"setIPInput()\" ng-keypress=\"setIPInput()\" name=\"fdc_cluster_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-click=\"cancelIPMAC()\" ng-keypress=\"cancelIPMAC()\" name=\"fdc_cluster_input_cancel\">Cancel</dlcui-button> </menu> </footer>  </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.ipmacmodal.html',
    "<section class=\"cux-dialog cluster-modal\" role=\"dialog\" aria-modal=\"true\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h1 class=\"cux-dialog__header-title\" aria-labelledby=\"MacAddressConfiguration\" role=\"dialog\" aria-modal=\"true\" id=\"macconfig\"> Mac Address Configuration </h1> </div> <div class=\"col-sm-push-2\"> <help-directive aria-label=\"Help Document\" tabindex=\"0\" help-index=\"fabric_details\" label=\"\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\"> <form name=\"form.ipmac\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <table st-table=\"viewmodel.ipmaclist\" class=\"table table-striped table-bordered\" name=\"mgmtIPTable\" id=\"managementIPtable\"> <thead> <tr> <th name=\"switchname\">Switch Host Name</th> <th name=\"switchmodel\">Switch Model</th> <th name=\"ipaddress\">Management IP Address</th> <th name=\"ipmac\">Mac Address</th> <!--th name=\"macaddress\">System MAC Address</th--> </tr> </thead> <tbody> <!--tr  ng-repeat=\"switch in ipmac.viewmodel.switches | filter:{type:ipmac.viewmodel.filteredType.name}\"\"--> <tr ng-repeat=\"switch in viewmodel.ipmaclist\" name=\"mgmtIProw{{$index}}\"> <td name=\"switchDeviceId{{$index}}\"><label for=\"mac_{{switch.id}}\">{{switch.name}}</label></td> <td name=\"switchModel{{$index}}\"><label for=\"mac_{{switch.id}}\">{{switch.model}}</label></td> <td name=\"managementIP{{$index}}\"><label for=\"mac_{{switch.id}}\">{{viewmodel.ipmaclist[$index].mgmtIP | textDisplay}}/{{viewmodel.ipmaclist[$index].netmask | textDisplay}}</label></td> <td name=\"systemMAC{{$index}}\"> <div class=\"col-sm-12\" ng-class=\"{'has-error' : form.ipmac.mac_{{switch.id}}.$dirty && form.ipmac.mac_{{switch.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"viewmodel.ipmaclist[$index].mac\" name=\"mac_{{$index}}\" id=\"mac_{{switch.id}}\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^[0-9a-f]{2}([:-])(?:[0-9a-f]{2}\\1){4}[0-9a-f]{2}$/\" placeholder=\"00:00:00:00:00:00\"> <!--span ng-hide=\"edit\" name=\"ipmacSwitch{{$index}}\">{{viewmodel.ipmaclist[$index].mac | textDisplay}}</span--> </div> </td> </tr> </tbody> </table> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"0\" ng-disabled=\"form.ipmac.$invalid||form.ipmac.$pristine\" ng-keypress=\"setIPInput()\" ng-click=\"setIPInput()\" name=\"fdc_cluster_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"0\" ng-keypress=\"cancelIPMAC()\" ng-click=\"cancelIPMAC()\" name=\"fdc_cluster_input_cancel\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/networksettings.management.html',
    "<form name=\"form.mgmtroute\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <label for=\"mgmtroute_mgmt_route_ip\">Management Subnet</label> </div> <div ng-show=\"edit\" class=\"col-sm-3\" ng-class=\"{'has-error' : form.mgmtroute.mgmtroute_mgmt_route_ip.$dirty && form.mgmtroute.mgmtroute_mgmt_route_ip.$invalid}\"> <input type=\"text\" tabindex=\"0\" class=\"form-control\" ng-model=\"mgmtroute.mgmt_route_ip\" id=\"mgmtroute_mgmt_route_ip\" name=\"mgmtroute_mgmt_route_ip\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edit\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edit\" class=\"col-sm-1\" ng-class=\"{'has-error' : form.mgmtroute.mgmtroute_mgmt_route_mask.$dirty && form.mgmtroute.mgmtroute_mgmt_route_mask.$invalid}\"> <input type=\"text\" tabindex=\"0\" class=\"form-control\" ng-model=\"mgmtroute.mgmt_route_mask\" name=\"mgmtroute_mgmtRoutemask\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"edit\" class=\"col-sm-3\"> <span>{{mgmtroute.mgmt_route_ip | textDisplay}}/{{mgmtroute.mgmt_route_mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label for=\"mgmtroute_mgmt_start_ip\">Starting IP Address</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.mgmtroute.mgmtroute_mgmt_start_ip.$dirty && form.mgmtroute.mgmtroute_mgmt_start_ip.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"mgmtroute.mgmt_start_ip\" id=\"mgmtroute_mgmt_start_ip\" name=\"mgmtroute_mgmt_start_ip\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> <span ng-hide=\"edit\">{{mgmtroute.mgmt_start_ip | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label for=\"mgmtroute_default_gateway\">Default Gateway</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.mgmtroute.mgmtroute_default_gateway.$dirty && form.mgmtroute.mgmtroute_default_gateway.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"mgmtroute.default_gateway\" id=\"mgmtroute_default_gateway\" name=\"mgmtroute_default_gateway\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> <span ng-hide=\"edit\">{{mgmtroute.default_gateway | textDisplay}}</span> </div> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <div class=\"row\"> <hr> <div class=\"col-sm-9\"></div> <div class=\"col-sm-3\" style=\"text-align: right\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-click=\"setmgmtroute()\" role=\"status\" ng-keypress=\"setmgmtroute()\" name=\"fdc_mgm_input_ok\" ng-disabled=\"form.mgmtroute.$invalid\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-click=\"cancelmgmtroute()\" ng-keypress=\"=&quot;cancelmgmtroute()&quot;\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </div> </div></div> <!--footer class=\"cux-dialog__footer\">\r" +
    "\n" +
    "\t\t<menu class=\"cux-button-set\">\r" +
    "\n" +
    "\t\t\t<dlcui-button tabindex=\"0\" type=\"primary\" ng-disabled=\"form.mgmtroute.$invalid\" ng-click=\"setmgmtroute()\" ng-keypress=\"setmgmtroute()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button>\r" +
    "\n" +
    "\t\t\t<dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelmgmtroute()\" ng-click=\"cancelmgmtroute()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button>\r" +
    "\n" +
    "\t\t</menu>\r" +
    "\n" +
    "\t</footer--> </form> "
  );


  $templateCache.put('fabric/design/output/networksettings.managementiproute.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">Management IP Configuration</h4> </div> <div class=\"col-sm-7\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <li ng-show=\"!summaryView\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Summary View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"summary()\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span> Summary</button></li> <li ng-show=\"summaryView\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Details View\" tabindex=\"0\" ng-disabled=\"disableDetails\" type=\"button\" class=\"btn btn-link\" ng-click=\"detail()\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span> Details</button></li> <li class=\"pull-right list-unstyled list-inline cluster-actions\"><button type=\"button\" aria-label=\"Edit View\" tabindex=\"0\" class=\"btn btn-link\" ng-click=\"editButtonClick()\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <!--div class=\"row\">\r" +
    "\n" +
    "\t\t<div class=\"col-sm-11\">\r" +
    "\n" +
    "\t\t\t <ol class=\"breadcrumb\">\r" +
    "\n" +
    "                <li><a ng-click=\"basic()\" ng-class=\"{'active': iproute == true}\" >Route</a></li>\r" +
    "\n" +
    "                <li><a ng-click=\"advance()\" ng-class=\"{'active': iproute == true}\">IP Configuration</a></li> \r" +
    "\n" +
    "               \r" +
    "\n" +
    "            </ol>\r" +
    "\n" +
    "\t\t</div>\r" +
    "\n" +
    "      \t\r" +
    "\n" +
    "</div--> <div ng-if=\"summaryView == true\" ng-controller=\"ManagementRouteCtrl as mrCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.management.html'\"></div> </div> <div ng-if=\"summaryView == false\" ng-controller=\"IPMacCtrl as ipmac\"> <div ng-include=\"'fabric/design/output/networksettings.ipmac.html'\"></div> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.ntp.html',
    "<form name=\"form.ntpinput\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">NTP</h4> </div> <div class=\"col-sm-7\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" aria-label=\"Edit View\" type=\"button\" class=\"btn btn-link\" ng-click=\"editNTP()\" name=\"fdc_edit_ntp\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Enable</label> </div> <div class=\"col-sm-3 custompadding\" ng-show=\"edit\" ng-class=\"{'has-error' : form.ntpinput.enable_ntp.$dirty && form.ntpinput.enable_ntp.$invalid}\"> <input tabindex=\"0\" type=\"checkbox\" name=\"enable_ntp\" id=\"enablentp\" ng-model=\"ntpinput.enable\"> <label id=\"enablentp-check\" for=\"enablentp\"></label> </div> <div ng-hide=\"edit\"><span name=\"enableDns\">{{ntpinput.enable|booleanYesNoDisplay}}</span></div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Primary NTP</label> </div> <div class=\"col-sm-3 custompadding\" ng-class=\"{'has-error' : form.ntpinput.ntp_primary.$dirty && form.ntpinput.ntp_primary.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" style=\"width:96%\" type=\"text\" class=\"form-control\" ng-model=\"ntpinput.primary\" name=\"ntp_primary\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> <span ng-hide=\"edit\">{{ntpinput.primary | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Secondary NTP</label> </div> <div class=\"col-sm-7 custompadding\"> <div ng-if=\" ((isArray(ntpinput.secondaries))&& ntpinput.secondaries.length==0)\" class=\"col-sm-12 custompadding\"> <span ng-hide=\"edit\">-</span> <div class=\"col-sm-5 custompadding\" ng-show=\"edit\"> <p class=\"well well-box text-muted text-center\">Add Secondary NTP</p> </div> <div class=\"col-sm-1\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addSecondaryNTP()\" name=\"fdc_ntp_secondary_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> </ul> </div> </div> <div ng-if=\"(isArray(ntpinput.secondaries))&& ntpinput.secondaries.length>0\" class=\"col-sm-12 custompadding\" ng-repeat=\"item in ntpinput.secondaries track by $index\"> <div class=\"col-sm-5 custompadding\" ng-class=\"{'has-error' : form.ntpinput.secondaryntp_{{$index}}.$dirty && form.ntpinput.secondaryntp_{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"ntpinput.secondaries[$index]\" name=\"secondaryntp_{{$index}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> <span ng-hide=\"edit\">{{item | textDisplay}}</span> </div> <div class=\"col-sm-4\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\" style=\"padding:0\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addSecondaryNTP()\" name=\"fdc_ntp_secondary_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li style=\"padding:0\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"removeSecondaryNTP($index)\" name=\"fdc_ntp_secondary_remove{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> </div> </div> </div> </div> </form> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" role=\"status\" ng-disabled=\"form.ntpinput.$invalid\" ng-keypress=\"setNTPInput()\" ng-click=\"setNTPInput()\" name=\"fdc_ntp_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelNTPInput()\" ng-click=\"cancelNTPInput()\" name=\"fdc_ntp_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.overlaysettings.html',
    "<table st-table=\"overlayMgmt.viewmodel.vlan\" class=\"table table-striped table-bordered\" id=\"networkVLANtable\"> <thead> <tr> <th id=\"fdc_bom_input_tableheader_cluster\">Cluster/Node</th> <th id=\"fdc_bom_input_tableheader_vlanid\">ID</th> <th ng-if=\"overlayMgmt.viewmodel.vlan[0].vnid ||(overlayMgmt.viewmodel.vlan[0].vnid>=0)\" id=\"fdc_bom_input_tableheader_vnid\">VNID</th> <th id=\"fdc_bom_input_tableheader_vlanname\">Name</th> <th id=\"fdc_bom_input_tableheader_vlantype\">Usage Type</th> <th id=\"fdc_bom_input_tableheader_ipconfig\">Edit IP Address</th> </tr> </thead> <tbody ng-if=\"overlayMgmt.viewmodel.vlan.length>0\"> <tr ng-repeat=\"vlan in overlayMgmt.viewmodel.vlan\"> <td id=\"fdc_bom_input_tablerow_cluster_{{$index}}\">{{vlan.cluster}}</td> <td id=\"fdc_bom_input_tablerow_vlanid_{{$index}}\">{{vlan.id}}</td> <td ng-if=\"overlayMgmt.viewmodel.vlan[0].vnid ||(overlayMgmt.viewmodel.vlan[0].vnid>=0)\" id=\"fdc_bom_input_tablerow_vnid_{{$index}}\" title=\"VxLan ID\">{{vlan.vnid}}</td> <td id=\"fdc_bom_input_tablerow_vlanname_{{$index}}\">{{vlan.name}}</td> <td ng-if=\"vlan.displayName == None\" id=\"fdc_bom_input_tablerow_vlantype_{{$index}}\">{{'fabricOutput.logicalView.cluster.' + vlan.type | translate}}</td> <td ng-if=\"vlan.displayName != None\" id=\"fdc_bom_input_tablerow_vlantype_{{$index}}\">{{vlan.displayName}}</td> <td id=\"fdc_bom_input_tablerow_ipconfig_{{$index}}\"> <button type=\"button\" tabindex=\"0\" class=\"btn btn-link\" id=\"openvlanconfig_{{$index}}\" ng-click=\"overlayMgmt.openVlanModal(vlan)\"> <dlcui-font-icon title=\"IP Configuration\" icon=\"edit\" style=\"color:#0076CE\"></dlcui-font-icon> </button> </td> </tr> <!--show when there are no rows in the table--> <tbody ng-if=\"overlayMgmt.viewmodel.vlan.length==0\"> <tr> <td colspan=\"6\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </tbody> </table>"
  );


  $templateCache.put('fabric/design/output/networksettings.overlaysettingsDefault.html',
    "<section> <form name=\"vlanAutoPopulateForm\" class=\"form-horizontal form-spacing smallform cluster-form\" novalidate> <div ng-repeat=\"(key,networkVlanDefaultModel) in nsxVlanDefaultModel\"> <div class=\"row\"> <div class=\"col-sm-6\"> <label>{{'fabricOutput.networksettings.fabricsettings.overlaysettings.' + key | translate}} Pool</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.network.$dirty && vlanAutoPopulateForm.network.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"networkVlanDefaultModel.network\" class=\"form-control\" name=\"loopbackNwAddress\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.mask.$dirty && vlanAutoPopulateForm.mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"networkVlanDefaultModel.mask\" name=\"network\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{networkVlanDefaultModel.network | textDisplay}}/{{networkVlanDefaultModel.mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>{{'fabricOutput.networksettings.fabricsettings.overlaysettings.' + key | translate}} Subnet Size</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-5\"> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.subnetSize.$dirty && vlanAutoPopulateForm.subnetSize.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px;float:left\" class=\"form-control\" ng-model=\"networkVlanDefaultModel.subnetSize\" name=\"subnetSize\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left multiple\">{{networkVlanDefaultModel.subnetSize| textDisplay}}</div> </div> </div> <div class=\"row\" ng-if=\"false\"> <div class=\"col-sm-6\"> <label>Static VxLan Overlay</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-5\"> <div class=\"pull-left\"> <input tabindex=\"0\" type=\"checkbox\" name=\"enableOverlay-check\" id=\"enableOverlay\" ng-model=\"networkVlanDefaultModel.enable_overlay\" ng-disabled=\"protocol.upLinkProtocol=='Layer 2' || protocol.fabricType == 'Layer_2_TOR'\"> <label id=\"enableOverlay-check\" for=\"enableOverlay\"></label> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span name=\"enableOverlay-check-value\">{{networkVlanDefaultModel.enable_overlay|booleanYesNoDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"false\"> <div class=\"col-sm-6\"> <label>Ip Interfaces</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-5\"> <div class=\"pull-left\"> <input tabindex=\"0\" type=\"checkbox\" name=\"enableIp-check\" id=\"enableIp\" ng-model=\"networkVlanDefaultModel.enable_ip_interface\" ng-disabled=\"protocol.upLinkProtocol=='Layer 2' || protocol.fabricType == 'Layer_2_TOR'\"> <label id=\"enableIp-check\" for=\"enableIp\"></label> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span name=\"enableIp-check-value\">{{networkVlanDefaultModel.enable_ip_interface|booleanYesNoDisplay}}</span> </div> </div> </div> <div ng-show=\"showEdit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-disabled=\"vlanAutoPopulateForm.$invalid\" ng-keypress=\"generateNSXVlansDefaults(vlanAutoPopulateForm)\" ng-click=\"generateNSXVlansDefaults(vlanAutoPopulateForm)\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"0\" ng-keypress=\"cancelEditView()\" ng-click=\"cancelEditView()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> </section>"
  );


  $templateCache.put('fabric/design/output/networksettings.overlaysettingsHome.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">{{'fabricOutput.networksettings.fabricsettings.overlaysettings.overlaysettingstitle'| translate}}</h4> </div> <div class=\"col-sm-7\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <li tabindex=\"0\" ng-if=\"!summaryview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Summary View\" type=\"button\" class=\"btn btn-link\" ng-click=\"summary()\" name=\"fdc_button_summary\"><span class=\"glyphicon glyphicon-edit\"></span> Summary</button></li> <li tabindex=\"0\" ng-if=\"summaryview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Details View\" type=\"button\" class=\"btn btn-link\" ng-click=\"detail()\" name=\"fdc_button_detail\"><span class=\"glyphicon glyphicon-edit\"></span> Details</button></li> <li tabindex=\"0\" ng-if=\"showEditButton && summaryview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Edit View\" type=\"button\" class=\"btn btn-link\" ng-click=\"editButtonClick()\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div ng-if=\"summaryview == true\" ng-controller=\"overlaysettingsDefaultCtrl as overlayDefCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.overlaysettingsDefault.html'\"></div> </div> <div ng-if=\"summaryview == false\" ng-controller=\"overlaysettingsMgmtCtrl as overlayMgmt\"> <div ng-include=\"'fabric/design/output/networksettings.overlaysettings.html'\"></div> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.routerSettings.html',
    "<form name=\"form.routersettings\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"table-responsive\"> <table class=\"table table-striped table-bordered\" name=\"routerSettingTable\" id=\"routerSettingTable\" style=\"margin-bottom:50px\"> <thead> <tr> <th name=\"switchname\">{{'fabricOutput.networksettings.fabricsettings.routersettings.switchname' | translate}}</th> <th name=\"loopbackip\">{{'fabricOutput.networksettings.fabricsettings.routersettings.loopbackip' | translate}}</th> <th ng-show=\"show_vtep_loopback\" name=\"vnetloopbackip\">{{'fabricOutput.networksettings.fabricsettings.routersettings.vnetloopbackip' | translate}}</th> <th ng-show=\"show_ASN\" name=\"asnnumber\">{{'fabricOutput.networksettings.fabricsettings.routersettings.asnno' | translate}}</th> </tr> </thead> <!--commenting this code now, it will be used when this page layout changes--> <!--tfoot>\r" +
    "\n" +
    "        <tr>\r" +
    "\n" +
    "            <th colspan=3>\r" +
    "\n" +
    "                 <footer class=\"pull-right cux-dialog__footer\">\r" +
    "\n" +
    "                        <div class=\"cux-button-set\">\r" +
    "\n" +
    "                            <dlcui-button ng-disabled=\"!editrouter\" type=\"primary\"  ng-click=\"updateRouterSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button>\r" +
    "\n" +
    "                            <dlcui-button ng-disabled=\"!editrouter\" type=\"danger\" ng-click=\"cancelRouterSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                  </footer>\r" +
    "\n" +
    "            </th>\r" +
    "\n" +
    "        </tr>\r" +
    "\n" +
    "  </tfoot--> <!--show when there are rows in the table--> <tbody ng-if=\"fabricnetworksettings.routersettings.length>0\"> <tr ng-repeat=\"item in fabricnetworksettings.routersettings track by item.id\"> <td name=\"switchname{{$index}}\"> <span>{{item.switchName| textDisplay}}</span> </td> <td name=\"loopbackip{{$index}}\"> <div ng-show=\"editrouter\" class=\"col-sm-6\" ng-class=\"{'has-error' : form.routersettings.loopbackIpAddress_{{item.id}}.$dirty && form.routersettings.loopbackIpAddress_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"item.loopbackIpAddress\" name=\"loopbackIpAddress_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"editrouter\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"editrouter\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.routersettings.loopbackNetMask_{{item.id}}.$dirty && form.routersettings.loopbackNetMask_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.loopbackNetMask\" name=\"loopbackNetMask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-2]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"editrouter\" class=\"col-sm-3\"> <span>{{item.loopbackIpAddress| textDisplay}}/{{item.loopbackNetMask | textDisplay}}</span> </div> </td> <td name=\"vteploopbackip{{$index}}\" ng-show=\"show_vtep_loopback\"> <div ng-show=\"editrouter\" class=\"col-sm-6\" ng-class=\"{'has-error' : form.routersettings.vtep_loopback_ip_{{item.id}}.$dirty && form.routersettings.vtep_loopback_ip_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"item.vtep_loopback_ip\" name=\"vtep_loopback_ip_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"editrouter\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"editrouter\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.routersettings.vtep_loopback_mask_{{item.id}}.$dirty && form.routersettings.vtep_loopback_mask_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.vtep_loopback_mask\" name=\"vtep_loopback_mask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-2]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"editrouter\" class=\"col-sm-3\"> <span>{{item.vtep_loopback_ip| textDisplay}}/{{item.vtep_loopback_mask | textDisplay}}</span> </div> </td> <td ng-show=\"show_ASN\" name=\"asnno{{$index}}\"> <div ng-show=\"editrouter\" class=\"col-sm-5\" ng-class=\"{'has-error' : form.routersettings.localASN_{{item.id}}.$dirty && form.routersettings.localASN_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"number\" class=\"form-control\" ng-model=\"item.localASN\" name=\"localASN_{{item.id}}\" min=\"0\" max=\"4294967295\" required validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"editrouter\" class=\"col-sm-5\"> <span>{{item.localASN| numberDisplay}}</span> </div> </td> <!--td ng-if=\"uplink.upLinkProtocolType=='OSPF'\" name=\"area{{$index}}\">\r" +
    "\n" +
    "                <div ng-show=\"editrouter\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.routersettings.areaId_{{item.id}}.$dirty && form.routersettings.areaId_{{item.id}}.$invalid}\">\r" +
    "\n" +
    "                    <input type=\"number\" style=\"width:50px\" class=\"form-control\" ng-model=\"item.areaId\" name=\"areaId_{{item.id}}\"\r" +
    "\n" +
    "                    required validation-directive uib-tooltip=\"\" />\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div ng-hide=\"editrouter\" class=\"col-sm-3\">\r" +
    "\n" +
    "                    <span>{{item.areaId| numberDisplay}}</span>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "         </td--> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"fabricnetworksettings.routersettings.length==0\"> <tr> <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> <div class=\"table-responsive\" ng-show=\"show_host_overlay_vtep_loopback\"> <div class=\"row\"> <span></span> </div> <table class=\"table table-striped table-bordered\" name=\"routerSettingTable\" id=\"routerSettingTable\" style=\"margin-bottom:50px\"> <thead> <tr> <th name=\"switchname\">{{'fabricOutput.networksettings.fabricsettings.routersettings.switchname' | translate}}</th> <th name=\"hostoverlayloopbackip\">{{'fabricOutput.networksettings.fabricsettings.routersettings.hostoverlayvtep' | translate}}</th> <th name=\"hostoverlaydefaultgateway\">{{'fabricOutput.networksettings.fabricsettings.routersettings.default_gateway' | translate}}</th> </tr> </thead> <!--commenting this code now, it will be used when this page layout changes--> <!--tfoot>\r" +
    "\n" +
    "        <tr>\r" +
    "\n" +
    "            <th colspan=3>\r" +
    "\n" +
    "                 <footer class=\"pull-right cux-dialog__footer\">\r" +
    "\n" +
    "                        <div class=\"cux-button-set\">\r" +
    "\n" +
    "                            <dlcui-button ng-disabled=\"!editrouter\" type=\"primary\"  ng-click=\"updateRouterSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button>\r" +
    "\n" +
    "                            <dlcui-button ng-disabled=\"!editrouter\" type=\"danger\" ng-click=\"cancelRouterSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                  </footer>\r" +
    "\n" +
    "            </th>\r" +
    "\n" +
    "        </tr>\r" +
    "\n" +
    "  </tfoot--> <!--show when there are rows in the table--> <tbody ng-if=\"fabricnetworksettings.routersettings.length>0\"> <tr ng-repeat=\"item in fabricnetworksettings.routersettings track by item.id\"> <td name=\"switchname{{$index}}\"> <span>{{item.switchName| textDisplay}}</span> </td> <td name=\"host_overlay_vtep_loopback{{$index}}\"> <div ng-show=\"editrouter\" class=\"col-sm-6\" ng-class=\"{'has-error' : form.routersettings.host_overlay_vtep_loopback_ip_{{item.id}}.$dirty && form.routersettings.host_overlay_vtep_loopback_ip_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"item.host_overlay_vtep_loopback_ip\" name=\"host_overlay_vtep_loopback_ip_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"editrouter\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"editrouter\" class=\"col-sm-2\" ng-class=\"{'has-error' : form.routersettings.host_overlay_vtep_loopback_mask_{{item.id}}.$dirty && form.routersettings.host_overlay_vtep_loopback_mask_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.host_overlay_vtep_loopback_mask\" name=\"host_overlay_vtep_loopback_mask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-2]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> <div ng-hide=\"editrouter\" class=\"col-sm-3\"> <span>{{item.host_overlay_vtep_loopback_ip| textDisplay}}/{{item.host_overlay_vtep_loopback_mask | textDisplay}}</span> </div> </td> <td name=\"host_overlay_default_gateway{{$index}}\"> <div ng-show=\"editrouter\" class=\"col-sm-6\" ng-class=\"{'has-error' : form.routersettings.host_overlay_default_gateway_{{item.id}}.$dirty && form.routersettings.host_overlay_default_gateway_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"item.host_overlay_default_gateway\" name=\"host_overlay_default_gateway_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\b/\" placeholder=\"0.0.0.0\"> </div> <div ng-hide=\"editrouter\" class=\"col-sm-3\"> <span>{{item.host_overlay_default_gateway| textDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"fabricnetworksettings.routersettings.length==0\"> <tr> <td colspan=\"3\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> <div ng-show=\"editrouter\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"0\" ng-keypress=\"updateRouterSettings()\" ng-click=\"updateRouterSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"0\" ng-keypress=\"cancelRouterSettings()\" ng-click=\"cancelRouterSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form>"
  );


  $templateCache.put('fabric/design/output/networksettings.routerSettingsDefault.html',
    "<style>.smallform {\r" +
    "\n" +
    "        padding-bottom: 8%;\r" +
    "\n" +
    "    }\r" +
    "\n" +
    "\r" +
    "\n" +
    "    .smallform label {\r" +
    "\n" +
    "        font-size: 14px;\r" +
    "\n" +
    "    }</style> <form name=\"autopopulateForm\" class=\"form-horizontal form-spacing smallform cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.loopbackAddress' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.loopbackNwAddress.$dirty && autopopulateForm.loopbackNwAddress.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"autopopulateModel.loopbackNwAddress\" class=\"form-control\" name=\"loopbackNwAddress\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.loopbackNwAddressNetMask.$dirty && autopopulateForm.loopbackNwAddressNetMask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.loopbackNwAddressNetMask\" name=\"loopbackNwAddressNetMask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.loopbackNwAddress | textDisplay}}/{{autopopulateModel.loopbackNwAddressNetMask | textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"showFabricLink && autopopulateModel.show_point_to_point_address\"> <div class=\"col-sm-6\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.interlink' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.fabriclinkNetwork.$dirty && autopopulateForm.fabriclinkNetwork.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"autopopulateModel.fabriclinkNetwork\" class=\"form-control\" name=\"fabriclinkNetwork\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.fabriclinkNetworkMask.$dirty && autopopulateForm.fabriclinkNetworkMask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.fabriclinkNetworkMask\" name=\"fabriclinkNetworkMask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.fabriclinkNetwork | textDisplay}}/{{autopopulateModel.fabriclinkNetworkMask | textDisplay}}</span> </div> </div> <div class=\"row\"> <hr> </div> <div class=\"row\" ng-if=\"showASN\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.asnno' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.privateASN.$dirty && autopopulateForm.privateASN.$invalid}\"> <input tabindex=\"0\" type=\"number\" style=\"width:150px\" class=\"form-control\" ng-model=\"autopopulateModel.privateASN\" name=\"privateASN\" validation-directive uib-tooltip=\"\" min=\"64512\" max=\"4294967295\" required> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.privateASN| textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"show_vtep_loopback\"> <div class=\"col-sm-6\"> <label> {{'fabricOutput.networksettings.fabricsettings.routersettings.vnetloopbackip' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.vteploopbackIP.$dirty && autopopulateForm.vteploopbackIP.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"autopopulateModel.vtep_loopback_ip\" class=\"form-control\" name=\"vteploopbackIP\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.vteploopbackMask.$dirty && autopopulateForm.vteploopbackMask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.vtep_loopback_mask\" name=\"vteploopbackMask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.vtep_loopback_ip | textDisplay}}/{{autopopulateModel.vtep_loopback_mask | textDisplay}}</span> </div> </div> <!--the below code is applicable for uplink protocol other than ospf for local asn support for single tier--> <!--div class=\"row\">\r" +
    "\n" +
    "                    <div class=\"col-sm-6\">\r" +
    "\n" +
    "                        <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.localLeafASN' | translate}}</label>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                    <div ng-show=\"showEdit\" class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.leafASN.$dirty && autopopulateForm.leafASN.$invalid}\">\r" +
    "\n" +
    "                        <input type=\"number\" class=\"form-control\" ng-model=\"autopopulateModel.leafASN\" name=\"leafASN\" validation-directive uib-tooltip=\"\"\r" +
    "\n" +
    "                            min=0 max=65536 required/>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                     <div ng-hide=\"showEdit\" class=\"col-sm-6\">\r" +
    "\n" +
    "                        <span>{{autopopulateModel.leafASN| textDisplay}}</span>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"row\">\r" +
    "\n" +
    "                    <div class=\"col-sm-6\">\r" +
    "\n" +
    "                        <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.leafASNIncr' | translate}}</label>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                    <div ng-show=\"showEdit\" class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.leafASNIncrement.$dirty && autopopulateForm.leafASNIncrement.$invalid}\">\r" +
    "\n" +
    "                        <input type=\"number\" min=0 class=\"form-control\" ng-model=\"autopopulateModel.leafASNIncrement\" name=\"leafASNIncrement\" validation-directive\r" +
    "\n" +
    "                            uib-tooltip=\"\" required />\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                     <div ng-hide=\"showEdit\" class=\"col-sm-6\">\r" +
    "\n" +
    "                        <span>{{autopopulateModel.leafASNIncrement| textDisplay}}</span>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                </div--> <!--end of local asn for single tier--> <!--the below code is applicable for uplink protocol other than ospf for local asn support for multi tier--> <!--div class=\"row\" >\r" +
    "\n" +
    "                    <div class=\"col-sm-6\">\r" +
    "\n" +
    "                        <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.spineASNIncr' | translate}}</label>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                    <div ng-show=\"showEdit\" class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.spineASNIncrement.$dirty && autopopulateForm.spineASNIncrement.$invalid}\">\r" +
    "\n" +
    "                        <input type=\"number\" min=0 class=\"form-control\" ng-model=\"autopopulateModel.spineASNIncrement\" name=\"spineASNIncrement\" validation-directive uib-tooltip=\"\"\r" +
    "\n" +
    "                            required />\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                    <div ng-hide=\"showEdit\" class=\"col-sm-6\">\r" +
    "\n" +
    "                        <span>{{autopopulateModel.spineASNIncrement| textDisplay}}</span>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                </div>                \r" +
    "\n" +
    "            </div--> <!--end of local asn for single tier--> <!--the below code is applicable for uplink protocol other than ospf for remote asn configuration--> <!--div class=\"row\">\r" +
    "\n" +
    "                    <div class=\"col-sm-6\">\r" +
    "\n" +
    "                        <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.remoteASN' | translate}}</label>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                    <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.remoteAsn.$dirty && autopopulateForm.remoteAsn.$invalid}\">\r" +
    "\n" +
    "                        <input type=\"number\" class=\"form-control\" ng-model=\"autopopulateModel.remoteAsn\" name=\"remoteAsn\" validation-directive uib-tooltip=\"\"\r" +
    "\n" +
    "                            min=0 max=65536 required/>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"row\">\r" +
    "\n" +
    "                    <div class=\"col-sm-6\">\r" +
    "\n" +
    "                        <label> {{'fabricOutput.networksettings.fabricsettings.autopopulate.remoteASNIncr' | translate}}</label>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                    <div class=\"col-sm-4\" ng-class=\"{'has-error' : autopopulateForm.remoteAsnInc.$dirty && autopopulateForm.remoteAsnInc.$invalid}\">\r" +
    "\n" +
    "                        <input type=\"number\" min=0 class=\"form-control\" ng-model=\"autopopulateModel.remoteAsnInc\" name=\"remoteAsnInc\" validation-directive\r" +
    "\n" +
    "                            uib-tooltip=\"\" required />\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                </div--> <!--end of local asn--> <div class=\"row\" ng-if=\"autopopulateModel.network_overlay_type == 'BGP EVPN' || autopopulateModel.network_overlay_type == 'NSX Overlay(BGP EVPN)'\"> <hr> </div> <div class=\"row\" ng-if=\"(autopopulateModel.network_overlay_type == 'BGP EVPN' || autopopulateModel.network_overlay_type == 'NSX Overlay(BGP EVPN)') && protocol.deploymentType !='Enterprise SONiC Fabric'\"> <div class=\"col-sm-6\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.ibgp_adjacency_vlan' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"pull-left\" style=\"padding-left:15px\" ng-class=\"{'has-error' : autopopulateForm.vlti_vlanid.$dirty && autopopulateForm.vlti_vlanid.$invalid}\"> <input tabindex=\"0\" type=\"number\" style=\"width:150px\" class=\"form-control\" ng-model=\"autopopulateModel.vlti_vlanid\" name=\"vlti_vlanid\" validation-directive uib-tooltip=\"\" required min=\"1\" max=\"4096\" placeholder=\"4000\"> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.vlti_vlanid|textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"autopopulateModel.network_overlay_type == 'BGP EVPN'  || autopopulateModel.network_overlay_type == 'NSX Overlay(BGP EVPN)'\"> <div class=\"col-sm-6\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.irb_type' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6 pull-left\" style=\"padding-left:15px\" ng-class=\"{'has-error' : autopopulateForm.irb_type.$dirty && autopopulateForm.irb_type.$invalid}\"> <select tabindex=\"0\" ng-options=\"irb_type for irb_type in irb_types\" style=\"width:150px\" class=\"form-control\" ng-model=\"autopopulateModel.irb_type\" name=\"irb_type\" uib-tooltip validation-directive required> </select> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.irb_type|textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"(autopopulateModel.irb_type == 'Asymmetric') && protocol.deploymentType !='Enterprise SONiC Fabric'\"> <div class=\"col-sm-1\"></div> <div class=\"col-sm-5\"> <label>{{'fabricOutput.networksettings.fabricsettings.asymmetricdetailssettings.asymmetric_vni_id' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.asymmetric_vni_id.$dirty && autopopulateForm.asymmetric_vni_id.$invalid}\"> <input tabindex=\"0\" type=\"number\" style=\"width:150px\" class=\"form-control\" ng-model=\"autopopulateModel.asymmetric_vni_id\" name=\"asymmetric_vni_id\" validation-directive uib-tooltip=\"\" required min=\"1\" placeholder=\"500\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.asymmetric_vni_id | textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"(autopopulateModel.irb_type =='Asymmetric') && protocol.deploymentType !='Enterprise SONiC Fabric'\"> <div class=\"col-sm-1\"></div> <div class=\"col-sm-5\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.vni_network_address' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.vni_network_address.$dirty && autopopulateForm.vni_network_address.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"autopopulateModel.vni_network_address\" class=\"form-control\" name=\"vni_network_address\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.vni_nw_mask.$dirty && autopopulateForm.vni_nw_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.vni_nw_mask\" name=\"vni_nw_mask\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.vni_network_address | textDisplay}}/{{autopopulateModel.vni_nw_mask | textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"(autopopulateModel.irb_type =='Symmetric') && protocol.deploymentType !='Enterprise SONiC Fabric'\"> <div class=\"col-sm-1\"></div> <div class=\"col-sm-5\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.symmetric_vni' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.symmetric_vni_id.$dirty && autopopulateForm.symmetric_vni_id.$invalid}\"> <input tabindex=\"0\" type=\"number\" style=\"width:150px\" class=\"form-control\" ng-model=\"autopopulateModel.symmetric_vni_id\" name=\"symmetric_vni_id\" validation-directive uib-tooltip=\"\" required min=\"1\" placeholder=\"3000\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.symmetric_vni_id | textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"(autopopulateModel.irb_type == 'Symmetric') && protocol.deploymentType =='Enterprise SONiC Fabric' && False\"> <div class=\"col-sm-1\"></div> <div class=\"col-sm-5\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.l3_vxlan_range' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"pull-left col-sm-6\" ng-class=\"{'has-error' : autopopulateForm.min_l3_vxlan_range.$dirty && autopopulateForm.min_l3_vxlan_range.$invalid}\"> <input tabindex=\"0\" type=\"number\" class=\"form-control\" style=\"width:150px\" ng-model=\"autopopulateModel.min_l3_vxlan_range\" name=\"min_l3_vxlan_range\" validation-directive uib-tooltip=\"\" min=\"1\" max=\"65534\" required> </div> <div ng-hide=\"showEdit\" class=\"col-sm-1\" style=\"width:25px\"> <span>{{autopopulateModel.min_l3_vxlan_range}}</span> </div> <!--div style=\"padding-left:25px;width:25px;\" class=\"col-sm-1 multiple\">\r" +
    "\n" +
    "                    <label>to</label>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div style=\"width:50px;\" ng-show=\"showEdit\" class=\"col-sm-1\" ng-class=\"{'has-error' : autopopulateForm.max_l3_vxlan_range.$dirty && autopopulateForm.max_l3_vxlan_range.$invalid}\">\r" +
    "\n" +
    "                    <input style=\"width:50px;\" type=\"number\" class=\"form-control\" ng-model=\"autopopulateModel.max_l3_vxlan_range\" name=\"max_l3_vxlan_range\" validation-directive uib-tooltip=\"\"\r" +
    "\n" +
    "                        min={{autopopulateModel.min_l3_vxlan_range}} max=65534 required/>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div ng-hide=\"showEdit\" class=\"col-sm-1\">\r" +
    "\n" +
    "                    <span>{{autopopulateModel.max_l3_vxlan_range}}</span>\r" +
    "\n" +
    "                </div--> </div> <div class=\"row\" ng-if=\"(autopopulateModel.irb_type == 'Symmetric' && protocol.deploymentType !='Enterprise SONiC Fabric')\"> <div class=\"col-sm-1\"></div> <div class=\"col-sm-5\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.vrf_name' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"pull-left col-sm-6\" ng-class=\"{'has-error' : autopopulateForm.vrf_name.$dirty && autopopulateForm.vrf_name.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" style=\"width:150px\" ng-model=\"autopopulateModel.vrf_name\" name=\"vrf_name\" validation-directive uib-tooltip=\"\" required> </div> <div ng-hide=\"showEdit\" class=\"col-sm-1\" style=\"width:25px\"> <span>{{autopopulateModel.vrf_name}}</span> </div> </div> <div class=\"row\" ng-if=\"(autopopulateModel.irb_type == 'Symmetric')\"> <div class=\"col-sm-1\"></div> <div class=\"col-sm-5\"> <label>{{'fabricOutput.networksettings.fabricsettings.autopopulate.external_vlan' | translate}}</label> </div> <div ng-show=\"showEdit\" class=\"pull-left col-sm-6\" ng-class=\"{'has-error' : autopopulateForm.external_vlan.$dirty && autopopulateForm.external_vlan.$invalid}\"> <input tabindex=\"0\" type=\"number\" class=\"form-control\" style=\"width:150px\" ng-model=\"autopopulateModel.external_vlan\" name=\"external_vlan\" validation-directive uib-tooltip=\"\" min=\"1\" max=\"65534\" required> </div> <div ng-hide=\"showEdit\" class=\"col-sm-1\" style=\"width:25px\"> <span>{{autopopulateModel.external_vlan}}</span> </div> </div> <div class=\"row\" ng-if=\"autopopulateModel.network_overlay_type == 'NSX Overlay(BGP EVPN)'\"> <hr> </div> <div class=\"row\" ng-if=\"autopopulateModel.network_overlay_type == 'NSX Overlay(BGP EVPN)'\"> <div class=\"col-sm-6\"> <label>{{'fabricOutput.networksettings.fabricsettings.routersettings.hostoverlayvtep' | translate}} </label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.host_overlay_vtep_loopback_ip.$dirty && autopopulateForm.host_overlay_vtep_loopback_ip.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"autopopulateModel.host_overlay_vtep_loopback_ip\" class=\"form-control\" name=\"host_overlay_vtep_loopback_ip\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.host_overlay_vtep_loopback_mask.$dirty && autopopulateForm.host_overlay_vtep_loopback_mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"autopopulateModel.host_overlay_vtep_loopback_mask\" name=\"network\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.host_overlay_vtep_loopback_ip | textDisplay}}/{{autopopulateModel.host_overlay_vtep_loopback_mask | textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"autopopulateModel.network_overlay_type == 'NSX Overlay(BGP EVPN)'\"> <div class=\"col-sm-6\"> <label>{{'fabricOutput.networksettings.fabricsettings.routersettings.helper_address' | translate}} </label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.helper_address.$dirty && autopopulateForm.helper_address.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"autopopulateModel.helper_address\" class=\"form-control\" name=\"helper_address\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.helper_address | textDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"autopopulateModel.network_overlay_type == 'NSX Overlay(BGP EVPN)'\"> <div class=\"col-sm-6\"> <label>{{'fabricOutput.networksettings.fabricsettings.routersettings.nsx_gateway_asn' | translate}} </label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : autopopulateForm.nsx_gateway_asn.$dirty && autopopulateForm.nsx_gateway_asn.$invalid}\"> <input tabindex=\"0\" type=\"number\" style=\"width:150px\" class=\"form-control\" ng-model=\"autopopulateModel.nsx_gateway_asn\" name=\"nsx_gateway_asn\" validation-directive uib-tooltip=\"\" min=\"64512\" max=\"4294967295\" required> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{autopopulateModel.nsx_gateway_asn | textDisplay}}</span> </div> </div>  <div ng-show=\"showEdit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-disabled=\"autopopulateForm.$invalid\" ng-keypress=\"generateRouterDefaults(autopopulateForm)\" ng-click=\"generateRouterDefaults(autopopulateForm)\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-click=\"cancelEditView()\" ng-keypress=\"cancelEditView()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> "
  );


  $templateCache.put('fabric/design/output/networksettings.routerSettingsHome.html',
    "<div class=\"row\"> <div class=\"col-sm-5\" ng-if=\"asymmetricirbsettings\"> <h4 class=\".nav-tabs\">IRB Settings Details</h4> </div> <div class=\"col-sm-5\" ng-if=\"!asymmetricirbsettings\"> <h4 class=\".nav-tabs\">Fabric Router (Leaf & Spine) Settings</h4> </div> <div class=\"col-sm-7\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <li ng-if=\"!summaryview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Summary View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"summary()\" name=\"fdc_button_summary\"><span class=\"glyphicon glyphicon-edit\"></span> Summary</button></li> <li ng-if=\"summaryview && !routersettingsview && (protocol.irb_type=='Asymmetric') && protocol.deploymentType !='Enterprise SONiC Fabric'\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"IRB Settings Details View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"asymmetricirbsettingsview()\" name=\"fdc_button_detail\"><span class=\"glyphicon glyphicon-edit\"></span> IRB Settings Details</button></li> <li ng-if=\"summaryview && !routersettingsview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" aria-label=\"Router Settings Details View\" ng-click=\"detail()\" name=\"fdc_button_detail\"><span class=\"glyphicon glyphicon-edit\"></span> Router Settings Details</button></li> <li ng-if=\"(protocol.fabricType=='Layer_3_Leaf_Spine')&&(summaryview && !routersettingsview) &&(protocol.showFabricLink)\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button tabindex=\"0\" aria-label=\"Fabric Link Settings View\" type=\"button\" class=\"btn btn-link\" ng-click=\"interlink()\" name=\"fdc_button_detail\"><span class=\"glyphicon glyphicon-edit\"></span> Fabric Link Settings Details</button></li> <li ng-if=\"showEditButton\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"editButtonClick()\" aria-label=\"Edit View\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div ng-if=\"summaryview && protocol.deploymentType !='Nokia NFVi'\" ng-controller=\"routerSettingsDefaultCtrl as rSetDefCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.routerSettingsDefault.html'\" ng-init=\"summaryView()\"></div> </div> <div ng-if=\"summaryview && protocol.deploymentType =='Nokia NFVi'\" ng-controller=\"cbisrouterSettingsDefaultCtrl as cbisrSetDefCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.cbisrouterSettingsDefault.html'\" ng-init=\"summaryView()\"></div> </div> <div ng-if=\"!summaryview && !routersettingsview && asymmetricirbsettings\" ng-controller=\"asymmetricdetailsCtrl as asymdetCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.asymmetricdetails.html'\" ng-init=\"detailView()\"></div> </div> <div ng-if=\"!summaryview && routersettingsview && !asymmetricirbsettings\" ng-controller=\"routerSettingsCtrl as rSetCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.routerSettings.html'\" ng-init=\"detailView()\"></div> </div> <div ng-if=\"!summaryview && !routersettingsview && !asymmetricirbsettings\" ng-controller=\"fabricLinkCtrl as fLnkCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.fabricLink.html'\" ng-init=\"interlinkView()\"></div> <div ng-if=\"protocol.network_overlay_type=='BGP EVPN'  && protocol.deploymentType !='Enterprise SONiC Fabric' && protocol.deploymentType !='Nokia NFVi1'\" ng-include=\"'fabric/design/output/networksettings.fabricLink_vlti_vlan.html'\" ng-init=\"interlinkView()\"></div> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.snmp.html',
    "<form name=\"form.snmpinput\" class=\"form-horizontal form-spacing cluster-form cluster-modal\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">SNMP</h4> </div> <div class=\"col-sm-7\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" aria-label=\"Edit View\" type=\"button\" class=\"btn btn-link\" ng-click=\"editSNMP()\" name=\"fdc_edit_snmp\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Enable</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.snmpinput.enable_snmp.$dirty && form.snmpinput.enable_snmp.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"checkbox\" name=\"enable_snmp\" id=\"enablesnmp\" ng-model=\"snmpinput.enable\"> <label ng-show=\"edit\" id=\"enablesnmp-check\" for=\"enablesnmp\"></label> <span ng-hide=\"edit\" name=\"enableSnmp\">{{snmpinput.enable|booleanYesNoDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Version</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.snmpinput.version.$dirty && form.snmpinput.version.$invalid}\"> <select tabindex=\"0\" ng-show=\"edit\" class=\"form-control\" ng-model=\"snmpinput.read_version\" name=\"version\" ng-options=\"item.value as item.name for item in [{name:'v1',value:'1'},{name:'v2c',value:'2c'}]\" required validation-directive uib-tooltip=\"\" title=\"{{ snmpinput.read_version }}\"> </select> <span ng-hide=\"edit\">{{snmpinput.read_version | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Community</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.snmpinput.read_community.$dirty && form.snmpinput.read_community.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"snmpinput.read_community\" name=\"read_community\" required validation-directive uib-tooltip=\"\" minlength=\"0\" maxlength=\"20\" autocomplete=\"off\"> <span ng-hide=\"edit\">{{snmpinput.read_community | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Contact</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.snmpinput.contact_info.$dirty && form.snmpinput.contact_info.$invalid}\"> <textarea tabindex=\"0\" ng-show=\"edit\" rows=\"3\" cols=\"3\" type=\"text\" class=\"form-control\" ng-model=\"snmpinput.contact_info\" name=\"contact_info\" required validation-directive uib-tooltip=\"\" maxlength=\"500\"></textarea> <span ng-hide=\"edit\">{{snmpinput.contact_info | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\"> <h4>Trap</h4> </div> </div> <div class=\"row cux-dialog__header\"> <div class=\"col-sm-5\"> <label>Enable</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.snmpinput.enable_snmp_trap.$dirty && form.snmpinput.enable_snmp_trap.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"checkbox\" name=\"enable_snmp_trap\" id=\"enablesnmptrap\" ng-model=\"snmpinput.enableTrap\"> <label ng-show=\"edit\" id=\"enablesnmptrap-check\" for=\"enablesnmptrap\"></label> <span ng-hide=\"edit\" name=\"enableTrap\">{{snmpinput.enableTrap|booleanYesNoDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-2 text-center\"> <label>Server</label> </div> <div class=\"col-sm-2 text-center\"> <label>Port</label> </div> <div class=\"col-sm-2 text-center\" ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\"> <label>Version</label> </div> <div class=\"col-sm-2 text-center\"> <label>Community</label> </div> </div> <div class=\"row\" ng-if=\" ((isArray(snmpinput.trap_info))&& snmpinput.trap_info.length==0)\"> <div class=\"col-sm-8\" ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\"> <p class=\"well well-box text-muted text-center\">No Trap(s) Found</p> </div> <div class=\"col-sm-6\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\"> <p class=\"well well-box text-muted text-center\">No Trap(s) Found</p> </div> <div class=\"col-sm-1\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addTrap()\" name=\"fdc_snmp_trap_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> </ul> </div> </div> <div class=\"row\" ng-if=\"(isArray(snmpinput.trap_info))&& snmpinput.trap_info.length>0\" ng-repeat=\"trap in snmpinput.trap_info track by $index\"> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.snmpinput.trap_destination_address_{{$index}}.$dirty && form.snmpinput.trap_destination_address_{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"trap.trap_destination_address\" name=\"trap_destination_address_{{$index}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"trap_destination_address_$index\">{{trap.trap_destination_address | textDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.snmpinput.trap_destination_port_{{$index}}.$dirty && form.snmpinput.trap_destination_port_{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-if=\"protocol.deploymentType != 'Enterprise SONiC Fabric'\" ng-show=\"edit\" type=\"number\" min=\"0\" max=\"65535\" class=\"form-control\" ng-model=\"trap.trap_destination_port\" name=\"trap_destination_port_{{$index}}\" required validation-directive uib-tooltip=\"\" min=\"0\" max=\"10000\" autocomplete=\"off\"> <input tabindex=\"0\" ng-if=\"protocol.deploymentType == 'Enterprise SONiC Fabric'\" ng-show=\"edit\" type=\"number\" min=\"1024\" max=\"65535\" class=\"form-control\" ng-model=\"trap.trap_destination_port\" name=\"trap_destination_port_{{$index}}\" required validation-directive uib-tooltip=\"\" min=\"0\" max=\"10000\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"trap_destination_port_$index\">{{trap.trap_destination_port|numberDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\" ng-class=\"{'has-error' : form.snmpinput.trap_version_$index.$dirty && form.snmpinput.trap_version_$index.$invalid}\"> <select tabindex=\"0\" ng-show=\"edit\" class=\"form-control\" ng-init=\"trap.trap_version='2c'\" ng-model=\"trap.trap_version\" name=\"trap_version_$index\" ng-options=\"item.value as item.name for item in [{name:'v1',value:'1'},{name:'v2c',value:'2c'}]\" required validation-directive uib-tooltip=\"\" title=\"{{ trap.trap_version }}\"> </select> <span ng-hide=\"edit\" name=\"trap_version_$index\">{{trap.trap_version|textDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.snmpinput.trap_community_{{$index}}.$dirty && form.snmpinput.trap_community_{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"trap.trap_community\" name=\"trap_community_{{$index}}\" required validation-directive uib-tooltip=\"\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"trap_community_$index\">{{trap.trap_community|textDisplay}}</span> </div> <div class=\"col-sm-2\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\" class=\"custompadding\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addTrap()\" name=\"fdc_snmp_trap_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li class=\"custompadding\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"removeTrap($index)\" name=\"fdc_snmp_trap_remove{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> </div> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"0\" ng-disabled=\"form.snmpinput.$invalid\" ng-keypress=\"setSNMPInput()\" ng-click=\"setSNMPInput()\" name=\"fdc_snmp_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"0\" ng-keypress=\"cancelSNMPInput()\" ng-click=\"cancelSNMPInput()\" name=\"fdc_snmp_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form>"
  );


  $templateCache.put('fabric/design/output/networksettings.syslog.html',
    "<form name=\"form.sysloginput\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">Syslog</h4> </div> <div class=\"col-sm-7\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" aria-label=\"Edit View\" type=\"button\" class=\"btn btn-link\" ng-click=\"editSyslog()\" name=\"fdc_edit_syslog\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Enable</label> </div> <div class=\"col-sm-3\" ng-show=\"edit\" ng-class=\"{'has-error' : form.sysloginput.enable_syslog.$dirty && form.sysloginput.enable_syslog.$invalid}\"> <input tabindex=\"0\" type=\"checkbox\" name=\"enablesyslog\" id=\"enablesyslog\" ng-model=\"sysloginput.enable\"> <label id=\"enablesyslog-check\" for=\"enablesyslog\"></label> </div> <div ng-hide=\"edit\"><span name=\"enableSyslog\" style=\"left: 13px;position: relative\">{{sysloginput.enable|booleanYesNoDisplay}}</span></div> </div> <div class=\"row\"> <div class=\"col-sm-5\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\"> <label>Destination Address:Port</label> </div> <div class=\"col-sm-5\" ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\"> <label>Destination Address</label> </div> <div class=\"col-sm-7\"> <div ng-if=\" ((isArray(sysloginput.syslog_entries))&& sysloginput.syslog_entries.length==0)\" class=\"col-sm-12 custompadding\"> <span ng-hide=\"edit\">-</span> <div class=\"col-sm-7 custompadding\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\" ng-show=\"edit\"> <p class=\"well well-box text-muted text-center\">Add Destination Address Port</p> </div> <div class=\"col-sm-7 custompadding\" ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\" ng-show=\"edit\"> <p class=\"well well-box text-muted text-center\">Add Destination Address</p> </div> <div class=\"col-sm-1\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addDestinationSyslog()\" name=\"fdc_syslog_secondary_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> </ul> </div> </div> <div ng-if=\"(isArray(sysloginput.syslog_entries))&& sysloginput.syslog_entries.length>0\" class=\"col-sm-12 custompadding\" ng-repeat=\"destsyslog in sysloginput.syslog_entries track by $index\"> <div class=\"col-sm-7 custompadding\" ng-show=\"edit\"> <div class=\"col-sm-6 custompadding\" ng-class=\"{'has-error' : form.sysloginput.destsyslog_destination_address{{$index}}.$dirty && form.sysloginput.destsyslog_destination_address{{$index}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" class=\"form-control\" ng-model=\"destsyslog.destination_address\" name=\"destsyslog_destination_address{{$index}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\" class=\"col-sm-1 custompadding\"> : </div> <div class=\"col-sm-2 custompadding\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\" ng-class=\"{'has-error' : form.sysloginput.destsyslog_destination_port{{$index}}.$dirty && form.sysloginput.destsyslog_destination_port{{$index}}.$invalid}\"> <input tabindex=\"0\" type=\"number\" class=\"form-control\" ng-model=\"destsyslog.destination_port\" name=\"destsyslog_destination_port{{$index}}\" validation-directive uib-tooltip=\"\" min=\"0\" max=\"65535\"> </div> </div> <div class=\"col-sm-7 custompadding\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\" ng-hide=\"edit\"> {{destsyslog.destination_address| textDisplay}}:{{destsyslog.destination_port| textDisplay}} </div> <div class=\"col-sm-7 custompadding\" ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\" ng-hide=\"edit\"> {{destsyslog.destination_address| textDisplay}} </div> <div class=\"col-sm-4\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\" style=\"padding:0\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addDestinationSyslog()\" name=\"fdc_syslog_secondary_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li style=\"padding:0\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"removeDestinationSyslog($index)\" name=\"fdc_syslog_secondary_remove{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> </div> </div> </div> </div> </form> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"0\" role=\"status\" ng-disabled=\"form.sysloginput.$invalid\" ng-keypress=\"setSyslogInput()\" ng-click=\"setSyslogInput()\" name=\"fdc_syslog_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"0\" ng-keypress=\"cancelSyslogInput()\" ng-click=\"cancelSyslogInput()\" name=\"fdc_syslog_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div>"
  );


  $templateCache.put('fabric/design/output/networksettings.tacacs.html',
    "<form name=\"form.tacacsinput\" class=\"form-horizontal form-spacing cluster-form cluster-modal\" novalidate> <div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">TACACS</h4> </div> <div class=\"col-sm-7\"> <ul ng-hide=\"edit\" class=\"pull-right list-unstyled list-inline cluster-actions\"> <li><button tabindex=\"0\" aria-label=\"Edit View\" type=\"button\" class=\"btn btn-link\" ng-click=\"editTACACS()\" name=\"fdc_edit_tacacs\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Enable</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.tacacsinput.enable_tacacs.$dirty && form.tacacsinput.enable_tacacs.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"checkbox\" name=\"enable_tacacs\" id=\"enabletacacs\" ng-model=\"tacacsinput.enable\"> <label ng-show=\"edit\" id=\"enabletacacs-check\" for=\"enabletacacs\"></label> <span ng-hide=\"edit\" name=\"enabletacacs\">{{tacacsinput.enable|booleanYesNoDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-5\"> <label>Timeout</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.tacacsinput.timeout.$dirty && form.tacacsinput.timeout.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" name=\"timeout\" id=\"timeout\" ng-model=\"tacacsinput.timeout\" min=\"1\" max=\"60\"> <label ng-show=\"edit\" id=\"timeout\" for=\"timeout\"></label> <span ng-hide=\"edit\" name=\"timeout\">{{tacacsinput.timeout}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-4\"> <h4><label>Hosts</label></h4> </div> </div> <div class=\"row\"> <div class=\"col-sm-2 text-center\"> <label>Name</label> </div> <div class=\"col-sm-2 text-center\"> <label>Key</label> </div> <div class=\"col-sm-2 text-center\"> <label>Port</label> </div> <div class=\"col-sm-2 text-center\"> <label>Priority</label> </div> <div class=\"col-sm-2 text-center\"> <label>Auth Type</label> </div> </div> <div class=\"row\" ng-if=\" ((isArray(tacacsinput.hosts))&& tacacsinput.hosts.length==0)\"> <div class=\"col-sm-10\"> <p class=\"well well-box text-muted text-center\">No Host(s) Found</p> </div> <div class=\"col-sm-1\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addHost()\" name=\"fdc_tacacs_host_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> </ul> </div> </div> <div class=\"row\" ng-if=\"(isArray(tacacsinput.hosts))&& tacacsinput.hosts.length>0\" ng-repeat=\"host in tacacsinput.hosts track by $index\"> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.tacacsinput.name_{{$index}}.$dirty && form.tacacsinput.name_{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"text\" class=\"form-control\" ng-model=\"host.name\" name=\"name_{{$index}}\" required validation-directive uib-tooltip=\"\" placeholder=\"0.0.0.0 or hostname\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"name_$index\">{{host.name | textDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.tacacsinput.key{{$index}}.$dirty && form.tacacsinput.port{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" ng-attr-type=\"{{ showPassword[$index] ? 'text' : 'password' }}\" class=\"form-control\" placeholder=\"\" ng-model=\"host.key\" ng-minlength=\"2\" ng-maxlength=\"32\" name=\"$index\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^[A-Za-z0-9]+$/\" pattern-msg=\"Key must contain only alphanumeric character ranging from 2-32 characters\" required validation-directive> <span ng-show=\"edit\" ng-click=\"toggleShowPassword($index)\" ng-class=\"{'fa fa-eye field-icon toggle-password': showPassword[$index],'fa fa-eye-slash field-icon toggle-password': !showPassword[$index]}\"></span> <span ng-hide=\"edit\" name=\"$index\">{{host.key|passwordDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.tacacsinput.port{{$index}}.$dirty && form.tacacsinput.port{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"number\" min=\"1\" max=\"65535\" class=\"form-control\" ng-model=\"host.port\" name=\"port{{$index}}\" required validation-directive uib-tooltip=\"\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"port_$index\">{{host.port|numberDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.tacacsinput.priority{{$index}}.$dirty && form.tacacsinput.priority{{$index}}.$invalid}\"> <input tabindex=\"0\" ng-show=\"edit\" type=\"number\" min=\"1\" max=\"64\" class=\"form-control\" ng-model=\"host.priority\" name=\"priority{{$index}}\" required validation-directive uib-tooltip=\"\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"priority_$index\">{{host.priority|numberDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.tacacsinput.auth_type_$index.$dirty && form.tacacsinput.auth_type_$index.$invalid}\"> <select tabindex=\"0\" ng-show=\"edit\" class=\"form-control\" ng-init=\"host.auth_type='pap'\" ng-model=\"host.auth_type\" name=\"auth_type_$index\" ng-options=\"item  for item in ['pap','chap','mschap','login']\" required validation-directive uib-tooltip=\"\" title=\"{{ host.auth_type }}\"> </select> <span ng-hide=\"edit\" name=\"auth_type_$index\">{{host.auth_type|textDisplay}}</span> </div> <div class=\"col-sm-2\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\" class=\"custompadding\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addHost()\" name=\"fdc_tacacs_host_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li class=\"custompadding\"> <button tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"removeHost($index)\" name=\"fdc_tacacs_host_remove{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> </div> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"0\" ng-disabled=\"form.tacacsinput.$invalid\" ng-keypress=\"setTACACSInput()\" ng-click=\"setTACACSInput()\" name=\"fdc_tacacs_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"0\" ng-keypress=\"cancelTACACSInput()\" ng-click=\"cancelTACACSInput()\" name=\"fdc_tacacs_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form>"
  );


  $templateCache.put('fabric/design/output/networksettings.tenant.html',
    "<form name=\"form.tenantinput\" class=\"form-horizontal form-spacing cluster-form cluster-modal\" novalidate> <!--div class=\"row\">\r" +
    "\n" +
    "\t\t<div class=\"col-sm-5\">\r" +
    "\n" +
    "\t\t\t<h4 class=\".nav-tabs\">Tenants</h4>\r" +
    "\n" +
    "\t\t</div> \r" +
    "\n" +
    "\t</div--> <div class=\"row\"> <div class=\"col-sm-2 text-center\"> <label>VRF Name</label> </div> <div class=\"col-sm-2 text-center\"> <label>VLAN ID</label> </div> <div class=\"col-sm-2 text-center\"> <label>VNI ID</label> </div> </div> <div class=\"row\" ng-if=\"((isArray(tenantinput.tenant_info)) && tenantinput.tenant_info.length==0)\"> <div class=\"col-sm-6\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\"> <p class=\"well well-box text-muted text-center\">No tenant detail found</p> </div> <div class=\"col-sm-2\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li class=\"custompadding\"> <button type=\"button\" class=\"btn btn-link\" ng-click=\"addTenant()\" name=\"fdc_tenant_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> </ul> </div> </div> <div class=\"row\" ng-repeat=\"vrf in tenantinput.tenant_info track by $index\"> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.tenantinput.tenant_info.vrfname{{$index}}.$dirty && form.tenantinput.tenant_info.vrfname{{$index}}.$invalid}\"> <input ng-show=\"edit\" type=\"text\" title=\"Map L3 VNI to a single VRF.\" class=\"form-control\" ng-model=\"vrf.vrf_name\" name=\"vrfname{{$index}}\" id=\"vrfname{{$index}}\" required validation-directive uib-tooltip=\"\" minlength=\"0\" maxlength=\"20\" autocomplete=\"off\"> <span ng-hide=\"edit\" name=\"vrf_name_$index\">{{vrf.vrf_name | textDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.tenantinput.tenant_info.min_l3_vxlan_range_{{$index}}.$dirty && form.tenantinput.tenant_info.min_l3_vxlan_range_{{$index}}.$invalid}\"> <input ng-show=\"edit\" title=\"Create L3 Vlan for L3 VNI.\" ng-disabled=\"protocol.irb_type=='Asymmetric'\" type=\"text\" min=\"2\" max=\"4094\" class=\"form-control\" ng-model=\"vrf.min_l3_vxlan_range\" name=\"min_l3_vxlan_range{{$index}}\" id=\"min_l3_vxlan_range{{$index}}\" required validation-directive uib-tooltip=\"\" autocomplete=\"off\"> <span ng-hide=\"edit\" ng-disabled=\"protocol.irb_type=='Asymmetric'\" name=\"min_l3_vxlan_range_$index\">{{vrf.min_l3_vxlan_range | textDisplay}}</span> </div> <div class=\"col-sm-2 text-center\" ng-class=\"{'has-error' : form.tenantinput.tenant_info.vni_id_{{$index}}.$dirty && form.tenantinput.tenant_info.vni_id_{{$index}}.$invalid}\"> <input ng-show=\"edit\" title=\"Configure L3 VNI to an intermediate VLAN.\" ng-disabled=\"protocol.irb_type=='Asymmetric'\" type=\"text\" min=\"2\" max=\"4094\" class=\"form-control\" ng-model=\"vrf.vni_id\" name=\"vni_id{{$index}}\" id=\"vni_id{{$index}}\" required validation-directive uib-tooltip=\"\" autocomplete=\"off\"> <span ng-hide=\"edit\" ng-disabled=\"protocol.irb_type=='Asymmetric'\" name=\"vni_id_$index\">{{vrf.vni_id | textDisplay}}</span> </div> <div class=\"col-sm-2\" ng-show=\"edit\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li ng-if=\"$last\" class=\"custompadding\"> <button type=\"button\" tabindex=\"0\" class=\"btn btn-link\" title=\"Click to add VRF\" ng-click=\"addTenant()\" name=\"fdc_tenant_add{{$index}}\"> <span class=\"glyphicon glyphicon-plus\"></span> </button> </li> <li class=\"custompadding\" ng-if=\"(protocol.irb_type=='Symmetric' && $index!=0 )|| (protocol.irb_type=='Asymmetric')\"> <button type=\"button\" tabindex=\"0\" class=\"btn btn-link\" title=\"Click to delete VRF\" ng-click=\"removeTenant($index)\" name=\"fdc_tenant_remove{{$index}}\"> <span class=\"glyphicon glyphicon-minus\"></span> </button> </li> </ul> </div> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <strong> Note: Associate VRF to VLAN in Workload Networks.</strong> </div> </div> <div ng-show=\"edit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-disabled=\"form.tenantinput.$invalid\" ng-click=\"setTenantInput()\" name=\"fdc_tenant_input_ok\">OK</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"cancelTenantInput()\" name=\"fdc_tenant_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form>"
  );


  $templateCache.put('fabric/design/output/networksettings.topologyuplinks.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">{{'fabricOutput.networksettings.fabricsettings.linksettings.uplinktitle' | translate}}</h4> </div> <div class=\"col-sm-7\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <!--li>\r" +
    "\n" +
    "                <button type=\"button\" ng-show=\"edituplink\" class=\"btn btn-link\" ng-click=\"autoPopulate('uplink')\" name=\"fdc_edit_router_autopopulate_settings\">\r" +
    "\n" +
    "                    <span class=\"glyphicon glyphicon-edit\"></span> {{'general.autopopulate' | translate}}</button>\r" +
    "\n" +
    "            </li--> <li> <button tabindex=\"0\" type=\"button\" aria-label=\"Edit View\" ng-disabled=\"edituplink\" class=\"btn btn-link\" ng-click=\"editUplinkSettings()\" name=\"fdc_edit_router_settings\"> <span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button> </li> </ul> </div> </div> <form name=\"form.uplinksettings\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"table-responsive\"> <table st-table=\"fabricnetworksettings.linkSettingsInput\" class=\"table table-striped table-bordered\" name=\"linkSettingTable\" id=\"linkSettingTable\" ng-class=\"{'maxtable':edituplink}\"> <thead> <tr> <th class=\"col-sm-2\" name=\"linkdesc\">{{'fabricOutput.networksettings.fabricsettings.linksettings.linkdesc' | translate}}</th> <th class=\"col-sm-2\" name=\"network\">{{'fabricOutput.networksettings.fabricsettings.linksettings.network' | translate}}</th> <th class=\"col-sm-1\" name=\"src_switch\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcswitch' | translate}}</th> <th class=\"col-sm-1\" name=\"src_interface\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcinterface' | translate}}</th> <th class=\"col-sm-2\" name=\"src_ip\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcip' | translate}}</th> <th class=\"col-sm-1\" name=\"dest_switch\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destswitch' | translate}}</th> <th class=\"col-sm-1\" name=\"dest_interface\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destinterface' | translate}}</th> <th class=\"col-sm-2\" name=\"dest_ip\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destip' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType!='OSPF'\" name=\"src_as\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcas' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType!='OSPF'\" name=\"dest_as\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destas' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType=='OSPF'\" name=\"area\">{{'fabricOutput.networksettings.fabricsettings.linksettings.area' | translate}}</th> </tr> </thead> <!--commenting this code now, will get it open when needed--> <!--tfoot>\r" +
    "\n" +
    "        <tr>\r" +
    "\n" +
    "            <th colspan=11>\r" +
    "\n" +
    "                 <footer class=\"pull-right cux-dialog__footer\">\r" +
    "\n" +
    "                        <div class=\"cux-button-set\">\r" +
    "\n" +
    "                            <dlcui-button  ng-disabled=\"!edituplink\" type=\"primary\"  ng-click=\"updateUplinkSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button>\r" +
    "\n" +
    "                            <dlcui-button  ng-disabled=\"!edituplink\" type=\"danger\"  ng-click=\"cancelUplinkSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                  </footer>\r" +
    "\n" +
    "            </th>\r" +
    "\n" +
    "        </tr>\r" +
    "\n" +
    "  </tfoot--> <!--show when there are rows in the table--> <tbody ng-if=\"fabricnetworksettings.linkSettingsInput.length>0\"> <tr ng-repeat=\"item in fabricnetworksettings.linkSettingsInput track by item.id\"> <td class=\"col-sm-2\" name=\"linkdesc{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.linkDescription| textDisplay}}</span> </div> </td> <td class=\"col-sm-2\" name=\"network{{$index}}\"> <div ng-hide=\"true\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.networkAddress_{{item.id}}.$dirty && form.uplinksettings.networkAddress_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" class=\"form-control\" ng-model=\"item.networkAddress\" name=\"networkAddress_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-hide=\"true\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-hide=\"true\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.networkIpNetMask_{{item.id}}.$dirty && form.uplinksettings.networkIpNetMask_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.networkIpNetMask\" name=\"networkIpNetMask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"0\"> </div> <div class=\"col-sm-12\"> <span>{{item.networkAddress| textDisplay}}/{{item.networkIpNetMask | textDisplay}}</span> </div> </td> <td class=\"col-sm-1\" name=\"src_switch{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.srcSwitchName| textDisplay}}</span> </div> </td> <td class=\"col-sm-1\" name=\"src_interface{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.srcPortName| textDisplay}}</span> </div> </td> <td class=\"col-sm-2\" name=\"src_ip{{$index}}\"> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.localIp_{{item.id}}.$dirty && form.uplinksettings.localIp_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" class=\"form-control\" ng-model=\"item.localIp\" name=\"localIp_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edituplink\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.localIpNetMask_{{item.id}}.$dirty && form.uplinksettings.localIpNetMask_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.localIpNetMask\" name=\"localIpNetMask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"0\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.localIp| textDisplay}}/{{item.localIpNetMask | textDisplay}}</span> </div> </td> <td class=\"col-sm-1\" name=\"dest_switch{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.dstSwitchName| textDisplay}}</span> </div> </td> <td class=\"col-sm-1\" name=\"dest_interface{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.dstPortName| textDisplay}}</span> </div> </td> <td class=\"col-sm-2\" name=\"dest_ip{{$index}}\"> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.remoteIp_{{item.id}}.$dirty && form.uplinksettings.remoteIp_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" class=\"form-control\" ng-model=\"item.remoteIp\" name=\"remoteIp_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edituplink\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.remoteIpNetMask_{{item.id}}.$dirty && form.uplinksettings.remoteIpNetMask_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.remoteIpNetMask\" name=\"remoteIpNetMask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"0\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.remoteIp| textDisplay}}/{{item.remoteIpNetMask | textDisplay}}</span> </div> </td> <td class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType!='OSPF'\" name=\"src_as{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.localASN_{{item.id}}.$dirty && form.uplinksettings.localASN_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"number\" ng-disabled=\"true\" style=\"width:80px\" min=\"0\" max=\"4294967295\" class=\"form-control\" ng-model=\"item.localASN\" name=\"localASN_{{item.id}}\" required validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.localASN| numberDisplay}}</span> </div> </td> <td class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType!='OSPF'\" name=\"dest_as{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.remoteASN_{{item.id}}.$dirty && form.uplinksettings.remoteASN_{{item.id}}.$invalid}\"> <span ng-if=\"uplink.upLinkProtocolType=='iBGP'\">{{item.remoteASN=item.localASN| numberDisplay}}</span> <input tabindex=\"0\" type=\"number\" ng-disabled=\"false\" style=\"width:80px\" min=\"1\" max=\"4199999999\" ng-if=\"uplink.upLinkProtocolType=='eBGP'\" class=\"form-control\" ng-model=\"item.remoteASN\" name=\"remoteASN_{{item.id}}\" required validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.remoteASN == 0 ? '-': item.remoteASN}}</span> </div> </td> <td class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType=='OSPF'\" name=\"area{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.areaId_{{item.id}}.$dirty && form.uplinksettings.areaId_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"number\" style=\"width:80px\" min=\"0\" max=\"4294967295\" class=\"form-control\" ng-model=\"item.areaId\" name=\"areaId_{{item.id}}\" required ng-pattern=\"/^\\d+$/\" validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.areaId | numberDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"fabricnetworksettings.linkSettingsInput.length==0\"> <tr> <td colspan=\"11\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> <!--end of uplinktable --> </div> <!--end of uplink table responsive--> <div ng-show=\"edituplink\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-keypress=\"updateUplinkSettings()\" ng-click=\"updateUplinkSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelUplinkSettings()\" ng-click=\"cancelUplinkSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> <!--end of uplink form-->"
  );


  $templateCache.put('fabric/design/output/networksettings.topologyuplinks_nokiacbis.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 class=\".nav-tabs\">{{'fabricOutput.networksettings.fabricsettings.linksettings.uplinktitle' | translate}}</h4> </div> <div class=\"col-sm-7\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <!--li>\r" +
    "\n" +
    "                <button type=\"button\" ng-show=\"edituplink\" class=\"btn btn-link\" ng-click=\"autoPopulate('uplink')\" name=\"fdc_edit_router_autopopulate_settings\">\r" +
    "\n" +
    "                    <span class=\"glyphicon glyphicon-edit\"></span> {{'general.autopopulate' | translate}}</button>\r" +
    "\n" +
    "            </li--> <li> <button tabindex=\"0\" aria-label=\"Edit View\" type=\"button\" ng-disabled=\"edituplink\" class=\"btn btn-link\" ng-click=\"editUplinkSettings()\" name=\"fdc_edit_router_settings\"> <span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button> </li> </ul> </div> </div> <form name=\"form.uplinksettings\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"table-responsive\"> <table st-table=\"fabricnetworksettings.linkSettingsInput\" class=\"table table-striped table-bordered\" name=\"linkSettingTable\" id=\"linkSettingTable\" ng-class=\"{'maxtable':edituplink}\"> <thead> <tr> <th class=\"col-sm-2\" name=\"linkdesc\">{{'fabricOutput.networksettings.fabricsettings.linksettings.linkdesc' | translate}}</th> <th class=\"col-sm-2\" name=\"vrf_name\">{{'fabricOutput.networksettings.fabricsettings.linksettings.vrf_name' | translate}}</th> <!--th class=\"col-sm-2\" name=\"network\">{{'fabricOutput.networksettings.fabricsettings.linksettings.network' | translate}}</th--> <th class=\"col-sm-1\" name=\"src_switch\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcswitch' | translate}}</th> <th class=\"col-sm-1\" name=\"src_interface\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcinterface' | translate}}</th> <!--th class=\"col-sm-2\" name=\"src_ip\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcip' | translate}}</th--> <th class=\"col-sm-1\" name=\"dest_switch\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destswitch' | translate}}</th> <th class=\"col-sm-1\" name=\"dest_interface\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destinterface' | translate}}</th> <th class=\"col-sm-2\" name=\"dest_ip\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destip' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType!='OSPF'\" name=\"src_as\">{{'fabricOutput.networksettings.fabricsettings.linksettings.srcas' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType!='OSPF'\" name=\"dest_as\">{{'fabricOutput.networksettings.fabricsettings.linksettings.destas' | translate}}</th> <th class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType=='OSPF'\" name=\"area\">{{'fabricOutput.networksettings.fabricsettings.linksettings.area' | translate}}</th> </tr> </thead> <tbody ng-if=\"fabricnetworksettings.linkSettingsInput.length>0\"> <tr ng-repeat=\"item in fabricnetworksettings.linkSettingsInput track by item.id\"> <td class=\"col-sm-2\" name=\"linkdesc{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.linkDescription| textDisplay}}</span> </div> </td> <td class=\"col-sm-2\" name=\"vrf_name{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.vrf_name| textDisplay}}</span> </div> </td> <!--td class=\"col-sm-2\" name=\"network{{$index}}\">\r" +
    "\n" +
    "                        <div ng-hide=\"true\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.networkAddress_{{item.id}}.$dirty && form.uplinksettings.networkAddress_{{item.id}}.$invalid}\">\r" +
    "\n" +
    "                            <input type=\"text\" style=\"width:150px\" class=\"form-control\" ng-model=\"item.networkAddress\" name=\"networkAddress_{{item.id}}\"\r" +
    "\n" +
    "                                required validation-directive uib-tooltip=\"\" ng-pattern='/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/'\r" +
    "\n" +
    "                                placeholder='0.0.0.0' />\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                        <div ng-hide=\"true\" class=\"pull-left multiple\">\r" +
    "\n" +
    "                            <label>/</label>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                        <div ng-hide=\"true\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.networkIpNetMask_{{item.id}}.$dirty && form.uplinksettings.networkIpNetMask_{{item.id}}.$invalid}\">\r" +
    "\n" +
    "                            <input type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.networkIpNetMask\" name=\"networkIpNetMask_{{item.id}}\"\r" +
    "\n" +
    "                                required validation-directive uib-tooltip=\"\" ng-pattern='/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/' placeholder='0'\r" +
    "\n" +
    "                            />\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                        <div class=\"col-sm-12\">\r" +
    "\n" +
    "                            <span>{{item.networkAddress| textDisplay}}/{{item.networkIpNetMask | textDisplay}}</span>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                    </td--> <td class=\"col-sm-1\" name=\"src_switch{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.srcSwitchName| textDisplay}}</span> </div> </td> <td class=\"col-sm-1\" name=\"src_interface{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.srcPortName| textDisplay}}</span> </div> </td> <!--td class=\"col-sm-2\" name=\"src_ip{{$index}}\">\r" +
    "\n" +
    "                        <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.localIp_{{item.id}}.$dirty && form.uplinksettings.localIp_{{item.id}}.$invalid}\">\r" +
    "\n" +
    "                            <input type=\"text\" style=\"width:150px\" class=\"form-control\" ng-model=\"item.localIp\" name=\"localIp_{{item.id}}\" required validation-directive\r" +
    "\n" +
    "                                uib-tooltip=\"\" ng-pattern='/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/'\r" +
    "\n" +
    "                                placeholder='0.0.0.0' />\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                        <div ng-show=\"edituplink\" class=\"pull-left multiple\">\r" +
    "\n" +
    "                            <label>/</label>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                        <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.localIpNetMask_{{item.id}}.$dirty && form.uplinksettings.localIpNetMask_{{item.id}}.$invalid}\">\r" +
    "\n" +
    "                            <input type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.localIpNetMask\" name=\"localIpNetMask_{{item.id}}\"\r" +
    "\n" +
    "                                required validation-directive uib-tooltip=\"\" ng-pattern='/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/' placeholder='0'\r" +
    "\n" +
    "                            />\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                        <div ng-hide=\"edituplink\" class=\"col-sm-12\">\r" +
    "\n" +
    "                            <span>{{item.localIp| textDisplay}}/{{item.localIpNetMask | textDisplay}}</span>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                    </td--> <td class=\"col-sm-1\" name=\"dest_switch{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.dstSwitchName| textDisplay}}</span> </div> </td> <td class=\"col-sm-1\" name=\"dest_interface{{$index}}\"> <div class=\"col-sm-12\"> <span>{{item.dstPortName| textDisplay}}</span> </div> </td> <td class=\"col-sm-2\" name=\"dest_ip{{$index}}\"> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.remoteIp_{{item.id}}.$dirty && form.uplinksettings.remoteIp_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" class=\"form-control\" ng-model=\"item.remoteIp\" name=\"remoteIp_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])[.](25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div ng-show=\"edituplink\" class=\"pull-left multiple\"> <label>/</label> </div> <div ng-show=\"edituplink\" class=\"pull-left\" ng-class=\"{'has-error' : form.uplinksettings.remoteIpNetMask_{{item.id}}.$dirty && form.uplinksettings.remoteIpNetMask_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:45px\" class=\"form-control\" ng-model=\"item.remoteIpNetMask\" name=\"remoteIpNetMask_{{item.id}}\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"0\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.remoteIp| textDisplay}}/{{item.remoteIpNetMask | textDisplay}}</span> </div> </td> <td class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType!='OSPF'\" name=\"src_as{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.localASN_{{item.id}}.$dirty && form.uplinksettings.localASN_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"number\" ng-disabled=\"true\" style=\"width:80px\" min=\"0\" max=\"4294967295\" class=\"form-control\" ng-model=\"item.localASN\" name=\"localASN_{{item.id}}\" required validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.localASN| numberDisplay}}</span> </div> </td> <td class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType!='OSPF'\" name=\"dest_as{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.remoteASN_{{item.id}}.$dirty && form.uplinksettings.remoteASN_{{item.id}}.$invalid}\"> <span ng-if=\"uplink.upLinkProtocolType=='iBGP'\">{{item.remoteASN=item.localASN| numberDisplay}}</span> <input tabindex=\"0\" type=\"number\" ng-disabled=\"false\" style=\"width:80px\" min=\"1\" max=\"4199999999\" ng-if=\"uplink.upLinkProtocolType=='eBGP'\" class=\"form-control\" ng-model=\"item.remoteASN\" name=\"remoteASN_{{item.id}}\" required validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.remoteASN == 0 ? '-': item.remoteASN}}</span> </div> </td> <td class=\"col-sm-1\" ng-if=\"uplink.upLinkProtocolType=='OSPF'\" name=\"area{{$index}}\"> <div ng-show=\"edituplink\" ng-class=\"{'has-error' : form.uplinksettings.areaId_{{item.id}}.$dirty && form.uplinksettings.areaId_{{item.id}}.$invalid}\"> <input tabindex=\"0\" type=\"number\" style=\"width:80px\" min=\"0\" max=\"4294967295\" class=\"form-control\" ng-model=\"item.areaId\" name=\"areaId_{{item.id}}\" required ng-pattern=\"/^\\d+$/\" validation-directive uib-tooltip=\"\"> </div> <div ng-hide=\"edituplink\" class=\"col-sm-12\"> <span>{{item.areaId | numberDisplay}}</span> </div> </td> </tr> </tbody> <!--show when there are no rows in the table--> <tbody ng-if=\"fabricnetworksettings.linkSettingsInput.length==0\"> <tr> <td colspan=\"11\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> <!--end of uplinktable --> </div> <!--end of uplink table responsive--> <div ng-show=\"edituplink\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-keypress=\"updateUplinkSettings()\" ng-click=\"updateUplinkSettings()\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelUplinkSettings()\" ng-click=\"cancelUplinkSettings()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> <!--end of uplink form-->"
  );


  $templateCache.put('fabric/design/output/networksettings.vlan.html',
    "<table st-table=\"vlanmgmt.viewmodel.vlan\" class=\"table table-striped table-bordered\" id=\"networkVLANtable\"> <thead> <tr> <th ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\" id=\"fdc_bom_input_tableheader_cluster\">Cluster Name</th> <th ng-if=\"protocol.deploymentType!='Enterprise SONiC Fabric'\" id=\"fdc_bom_input_tableheader_cluster\">Cluster/Node Name</th> <th id=\"fdc_bom_input_tableheader_vlanid\">Vlan ID</th> <th ng-if=\"vlanmgmt.viewmodel.vlan[0].vnid ||(vlanmgmt.viewmodel.vlan[0].vnid>=0)\" id=\"fdc_bom_input_tableheader_vnid\">VNID</th> <th id=\"fdc_bom_input_tableheader_vlanname\">Vlan Name</th> <th id=\"fdc_bom_input_tableheader_vlantype\">Usage Type</th> <th id=\"fdc_bom_input_tableheader_vlantype\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\">VRF Name</th> <th id=\"fdc_bom_input_tableheader_ipconfig\">Edit</th> </tr> </thead> <tbody ng-if=\"vlanmgmt.viewmodel.vlan.length>0\"> <tr ng-repeat=\"vlan in vlanmgmt.viewmodel.vlan\"> <td id=\"fdc_bom_input_tablerow_cluster_{{$index}}\">{{vlan.cluster}}</td> <td id=\"fdc_bom_input_tablerow_vlanid_{{$index}}\">{{vlan.id}}</td> <td ng-if=\"vlanmgmt.viewmodel.vlan[0].vnid ||(vlanmgmt.viewmodel.vlan[0].vnid>=0)\" id=\"fdc_bom_input_tablerow_vnid_{{$index}}\" title=\"VxLan ID\">{{vlan.vnid}}</td> <td id=\"fdc_bom_input_tablerow_vlanname_{{$index}}\">{{vlan.name}}</td> <td ng-if=\"vlan.displayName == None\" id=\"fdc_bom_input_tablerow_vlantype_{{$index}}\">{{'fabricOutput.logicalView.cluster.' + vlan.type | translate}}</td> <td ng-if=\"vlan.displayName != None\" id=\"fdc_bom_input_tablerow_vlantype_{{$index}}\">{{vlan.displayName}}</td> <td ng-if=\"vlan.vrf_name != None && protocol.deploymentType=='Enterprise SONiC Fabric'\" id=\"fdc_bom_input_tablerow_vrf_name_{{$index}}\">{{vlan.vrf_name}}</td> <td ng-if=\"vlan.vrf_name == None && protocol.deploymentType=='Enterprise SONiC Fabric'\" id=\"fdc_bom_input_tablerow_vrf_name_{{$index}}\">-</td> <td id=\"fdc_bom_input_tablerow_ipconfig_{{$index}}\"> <button type=\"button\" tabindex=\"0\" class=\"btn btn-link\" id=\"openvlanconfig_{{$index}}\" ng-click=\"vlanmgmt.openVlanModal(vlan)\"> <dlcui-font-icon title=\"IP Configuration\" icon=\"edit\" style=\"color:#0076CE\"></dlcui-font-icon> </button> </td> </tr> <!--show when there are no rows in the table--> <tbody ng-if=\"vlanmgmt.viewmodel.vlan.length==0\"> <tr> <td colspan=\"6\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </tbody> </table>"
  );


  $templateCache.put('fabric/design/output/networksettings.vlanDefault.html',
    "<section> <form name=\"vlanAutoPopulateForm\" class=\"form-horizontal form-spacing smallform cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Workload Network Pool</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.network.$dirty && vlanAutoPopulateForm.network.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:150px\" ng-model=\"networkVlanDefaultModel.network\" class=\"form-control\" name=\"loopbackNwAddress\" required validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.mask.$dirty && vlanAutoPopulateForm.mask.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px\" class=\"form-control\" ng-model=\"networkVlanDefaultModel.mask\" name=\"network\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span>{{networkVlanDefaultModel.network | textDisplay}}/{{networkVlanDefaultModel.mask | textDisplay}}</span> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Workload Network Subnet Size</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-5\"> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left\" ng-class=\"{'has-error' : vlanAutoPopulateForm.subnetSize.$dirty && vlanAutoPopulateForm.subnetSize.$invalid}\"> <input tabindex=\"0\" type=\"text\" style=\"width:50px;float:left\" class=\"form-control\" ng-model=\"networkVlanDefaultModel.subnetSize\" name=\"subnetSize\" validation-directive uib-tooltip=\"\" required ng-pattern=\"/\\b(3[0]|2[0-9]|1[0-9]|[0-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"pull-left multiple\">{{networkVlanDefaultModel.subnetSize| textDisplay}}</div> </div> </div> <div class=\"row\" ng-if=\"false\"> <div class=\"col-sm-6\"> <label>Static VxLan Overlay</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-5\"> <div class=\"pull-left\"> <input tabindex=\"0\" type=\"checkbox\" name=\"enableOverlay-check\" id=\"enableOverlay\" ng-model=\"networkVlanDefaultModel.enable_overlay\" ng-disabled=\"protocol.upLinkProtocol=='Layer 2' || protocol.fabricType == 'Layer_2_TOR'\"> <label id=\"enableOverlay-check\" for=\"enableOverlay\"></label> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span name=\"enableOverlay-check-value\">{{networkVlanDefaultModel.enable_overlay|booleanYesNoDisplay}}</span> </div> </div> <div class=\"row\" ng-if=\"false\"> <div class=\"col-sm-6\"> <label>Ip Interfaces</label> </div> <div ng-show=\"showEdit\" class=\"col-sm-5\"> <div class=\"pull-left\"> <input tabindex=\"0\" type=\"checkbox\" name=\"enableIp-check\" id=\"enableIp\" ng-model=\"networkVlanDefaultModel.enable_ip_interface\" ng-disabled=\"protocol.upLinkProtocol=='Layer 2' || protocol.fabricType == 'Layer_2_TOR'\"> <label id=\"enableIp-check\" for=\"enableIp\"></label> </div> </div> <div ng-hide=\"showEdit\" class=\"col-sm-6\"> <span name=\"enableIp-check-value\">{{networkVlanDefaultModel.enable_ip_interface|booleanYesNoDisplay}}</span> </div> </div>  <div ng-show=\"showEdit\" class=\"cluster-modal\"> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"0\" role=\"status\" type=\"primary\" ng-disabled=\"vlanAutoPopulateForm.$invalid\" ng-keypress=\"generateWorkloadVlansDefaults(vlanAutoPopulateForm)\" ng-click=\"generateWorkloadVlansDefaults(vlanAutoPopulateForm)\" name=\"fdc_mgm_input_ok\">OK</dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-keypress=\"cancelEditView()\" ng-click=\"cancelEditView()\" name=\"fdc_mgm_input_cancel\">Cancel</dlcui-button> </menu> </footer> </div> </form> </section>"
  );


  $templateCache.put('fabric/design/output/networksettings.vlanHome.html',
    "<div class=\"row\"> <div class=\"col-sm-5\"> <h4 ng-if=\"tenantview != true\" class=\".nav-tabs\">Workload Networks</h4> <h4 ng-if=\"tenantview == true\" class=\".nav-tabs\">Tenants</h4> </div> <div class=\"col-sm-7\"> <ul class=\"pull-right list-unstyled list-inline cluster-actions\"> <li ng-if=\"!summaryview && !tenantview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Summary View\" title=\"Summary View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"summary()\" name=\"fdc_button_detail\"><span class=\"glyphicon glyphicon-edit\"></span> Summary</button></li> <li ng-if=\"summaryview || tenantview\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Details View\" title=\"Details View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"detail()\" name=\"fdc_button_detail\"><span class=\"glyphicon glyphicon-edit\"></span> Details</button></li> <li ng-if=\"(showEditButton && summaryview)||(showEditButton && tenantview) \" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Edit View\" title=\"Edit View\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"editButtonClick()\" name=\"fdc_edit_ipmac\"><span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button></li> <li ng-if=\"!tenantview && protocol.deploymentType=='Enterprise SONiC Fabric'\" class=\"pull-right list-unstyled list-inline cluster-actions\"><button aria-label=\"Configure Vlan and VRF for tenant\" title=\"Configure Vlan and VRF for tenant\" tabindex=\"0\" type=\"button\" class=\"btn btn-link\" ng-click=\"addTenant()\" name=\"fdc_add_tenant\"><span class=\"glyphicon glyphicon-plus\"></span> Tenant</button></li> </ul> </div> </div> <div ng-if=\"summaryview == true && !tenantview\" ng-controller=\"vlanDefaultCtrl as vlanDefCtrl\"> <div ng-include=\"'fabric/design/output/networksettings.vlanDefault.html'\"></div> </div> <div ng-if=\"summaryview == false && !tenantview\" ng-controller=\"vlanMgmtCtrl as vlanmgmt\"> <div ng-include=\"'fabric/design/output/networksettings.vlan.html'\"></div> </div> <div ng-if=\"tenantview == true\" ng-controller=\"tenantValue as tenantValue\"> <div ng-include=\"'fabric/design/output/networksettings.tenant.html'\"></div> </div>"
  );


  $templateCache.put('fabric/design/output/networksettingsview.html',
    "<div class=\"panel panel-default output-sec\"> <div class=\"row custom-\" style=\"padding-top:3px;padding-right:13px\"> <div class=\"col-sm-12\"> <div class=\"col-sm-7\"></div> <div class=\"dropdown pull-right\"> <button tabindex=\"0\" class=\"btn btn-primary\" name=\"download_wiring\" ng-click=\"downloadNWForFabric('csv')\"><span class=\"glyphicon glyphicon-save\"></span> Download </button><!--keypressButton event=\"$event\" index=\"$index\" keypress-button><span class=\"glyphicon glyphicon-save\"></span> Download </button>--> </div> </div> </div> <div class=\"container-fluid\"> <div class=\"row networkconf_content\" edit-mode=\"true\"> <div class=\"col-sm-2 networkconf_menu\"> <ul class=\"nav nav-pills nav-stacked\"> <li role=\"tab\" id=\"ManagementIPConfiguration\"> <a tabindex=\"0\" ng-keydown=\"handleKeyDown($event, 'ManagementIPConfiguration', 0, 'WorkloadNetworks', 14, 'Syslog')\" href ng-click=\"loadMgmtIP();settabactive('Management IP Configuration')\" ng-attr-id=\"{{active_menu=='Management IP Configuration' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> Management IP Configuration </a> </li> <li role=\"tab\" id=\"WorkloadNetworks\" ng-if=\"protocol.fabricType!= 'Super_Spine' && protocol.deploymentType!='Nokia NFVi'\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'WorkloadNetworks', 1, 'CBISWorkloadNetworks', 0, 'ManagementIPConfiguration')\" ng-click=\"loadVlan();settabactive('Workload Networks')\" ng-attr-id=\"{{active_menu=='Workload Networks' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> Workload Networks </a> </li> <li role=\"tab\" id=\"CBISWorkloadNetworks\" ng-if=\"protocol.deploymentType=='Nokia NFVi'\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'CBISWorkloadNetworks', 2, 'TenantDetails', 1, 'WorkloadNetworks')\" ng-click=\"loadVlan();settabactive('CBIS Workload Networks')\" ng-attr-id=\"{{active_menu=='CBIS Workload Networks' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> Workload Networks </a> </li> <li role=\"tab\" id=\"TenantDetails\" ng-if=\"False && protocol.deploymentType=='Enterprise SONiC Fabric' && (protocol.irb_type=='Symmetric' || protocol.irb_type=='Asymmetric')\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'TenantDetails', 3, 'DCISettings', 2, 'CBISWorkloadNetworks')\" ng-click=\"loadTenant();settabactive('Tenant Details')\" ng-attr-id=\"{{active_menu=='Tenant Details' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> Tenant Networks </a> </li> <li role=\"tab\" id=\"DCISettings\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric' && protocol.dci_or_superspine=='DCI'\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event,'DCISettings', 4, 'CLICredentials', 3, 'TenantDetails')\" ng-click=\"loadDCI();settabactive('DCI Settings')\" ng-attr-id=\"{{active_menu=='DCI Settings' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> DCI Settings </a> </li> <li role=\"tab\" id=\"CLICredentials\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'CLICredentials', 5, 'FabricRouterSettings', 4, 'DCISettings')\" ng-click=\"loadCLI();settabactive('CLI Credentials')\" ng-attr-id=\"{{active_menu=='CLI Credentials' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> CLI Credentials </a> </li> <li role=\"tab\" id=\"FabricRouterSettings\" ng-if=\"protocol.upLinkProtocol=='Layer 3'\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'FabricRouterSettings', 6, 'FabricExternalNetworkSettings', 5, 'CLICredentials')\" ng-click=\"loadfabricsettings();settabactive('Fabric Router Settings')\"> Fabric {{'fabricOutput.networksettings.fabricsettings.routersettings.title' | translate}} </a> </li> <li role=\"tab\" id=\"FabricExternalNetworkSettings\" ng-if=\"protocol.upLinkProtocol=='Layer 3' && protocol.fabricType!= 'Super_Spine' && protocol.deploymentType!='Nokia NFVi'\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'FabricExternalNetworkSettings', 7, 'CBISFabricExternalNetworkSettings', 6, 'FabricRouterSettings')\" ng-click=\"loadfabricsettings();settabactive('Fabric External Network Settings')\"> Fabric External Network Settings </a> </li> <li role=\"tab\" id=\"CBISFabricExternalNetworkSettings\" ng-if=\"protocol.upLinkProtocol=='Layer 3' && protocol.deploymentType=='Nokia NFVi'\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event,'CBISFabricExternalNetworkSettings', 8, 'NTP', 7, 'FabricExternalNetworkSettings')\" ng-click=\"loadfabricsettings();settabactive('CBIS Fabric External Network Settings')\"> Fabric External Network Settings </a> </li> <li role=\"tab\" id=\"NTP\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'NTP', 9, 'SNMP', 8, 'CBISFabricExternalNetworkSettings')\" ng-click=\"loadNTP();settabactive('NTP')\" ng-attr-id=\"{{active_menu=='NTP' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> NTP </a> </li> <li role=\"tab\" id=\"SNMP\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'SNMP', 10, 'IPDHCP', 9, 'NTP')\" ng-click=\"loadSNMP();settabactive('SNMP')\" ng-attr-id=\"{{active_menu=='SNMP' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> SNMP </a> </li> <li role=\"tab\" id=\"IPDHCP\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'IPDHCP', 11, 'TACACS', 10, 'SNMP')\" ng-click=\"loadIPDHCP();settabactive('IP DHCP')\" ng-attr-id=\"{{active_menu=='IP DHCP' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> IP DHCP </a> </li> <li role=\"tab\" id=\"TACACS\" ng-if=\"protocol.deploymentType=='Enterprise SONiC Fabric'\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event,'TACACS', 12, 'DNS', 11, 'IPDHCP')\" ng-click=\"loadTACACS();settabactive('TACACS')\" ng-attr-id=\"{{active_menu=='TACACS' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> TACACS </a> </li> <li role=\"tab\" id=\"DNS\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event,'DNS', 13, 'Syslog', 12, 'TACACS')\" ng-click=\"loadDNS();settabactive('DNS')\" ng-attr-id=\"{{active_menu=='DNS' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> DNS </a> </li> <li role=\"tab\" id=\"Syslog\"> <a tabindex=\"0\" href ng-keydown=\"handleKeyDown($event, 'Syslog', 14, 'ManagementIPConfiguration', 13, 'DNS')\" ng-click=\"loadSyslog();settabactive('Syslog')\" ng-attr-id=\"{{active_menu=='Syslog' ? 'activenetworkconfmenu': 'inactivenetworkconfmenu'}}\" ng-class=\"{'active': tab.active}\"> Syslog </a> </li> </ul></div> <div class=\"col-sm-10\"> <div ng-show=\"active_menu=='Management IP Configuration'\" ng-controller=\"ManagementIPRouteCtrl as miprCtrl\" ng-include=\"'fabric/design/output/networksettings.managementiproute.html'\"> </div> <div ng-show=\"active_menu=='Workload Networks'\" ng-controller=\"vlanHomeCtrl as vlanHomeCtrl\" ng-include=\"'fabric/design/output/networksettings.vlanHome.html'\"> </div> <div ng-show=\"active_menu=='CBIS Workload Networks'\" ng-controller=\"cbisvlanHomeCtrl as vlanHomeCtrl\" ng-include=\"'fabric/design/output/networksettings.cbisvlanHome.html'\"> </div> <div ng-show=\"active_menu=='DCI Settings'\" ng-controller=\"dcisettings as dci\" ng-include=\"'fabric/design/output/networksettings.dci.html'\"> </div> <div ng-show=\"active_menu=='Tenant Details'\" ng-controller=\"tenantValue as tenant\" ng-include=\"'fabric/design/output/networksettings.tenant.html'\"> </div> <div ng-show=\"active_menu=='CLI Credentials'\" ng-controller=\"CLICredentialsCtrl as cli\" ng-include=\"'fabric/design/output/networksettings.credentials.html'\" ng-init=\"init(protocol)\"> </div> <div ng-show=\"active_menu== 'Fabric Router Settings'\" ng-controller=\"routerSettingsHomeCtrl as rSetCtrl\" ng-include=\"'fabric/design/output/networksettings.routerSettingsHome.html'\"> </div> <div ng-show=\"active_menu== 'Fabric External Network Settings'\" ng-controller=\"topologyLinksCtrl as tplCtrl\" ng-include=\"'fabric/design/output/networksettings.topologyuplinks.html'\"> </div> <div ng-show=\"active_menu== 'CBIS Fabric External Network Settings'\" ng-controller=\"topologyLinksCtrl as tplCtrl\" ng-include=\"'fabric/design/output/networksettings.topologyuplinks_nokiacbis.html'\"> </div> <div ng-show=\"active_menu=='NTP'\" ng-controller=\"NTPCtrl as ntp\" ng-include=\"'fabric/design/output/networksettings.ntp.html'\" ng-init=\"init(protocol)\"> </div> <div ng-show=\"active_menu=='SNMP'\" ng-controller=\"SNMPCtrl as snmp\" ng-include=\"'fabric/design/output/networksettings.snmp.html'\" ng-init=\"init(protocol)\"> </div> <div ng-show=\"active_menu=='IP DHCP'\" ng-controller=\"IPDHCPCtrl as ipdhcp\" ng-include=\"'fabric/design/output/networksettings.ipdhcp.html'\" ng-init=\"init(protocol)\"> </div> <div ng-show=\"active_menu=='TACACS'\" ng-controller=\"TACACSCtrl as tacacs\" ng-include=\"'fabric/design/output/networksettings.tacacs.html'\" ng-init=\"init(protocol)\"> </div> <div ng-show=\"active_menu=='DNS'\" ng-controller=\"DNSCtrl as dns\" ng-include=\"'fabric/design/output/networksettings.dns.html'\" ng-init=\"init(protocol)\"> </div> <div ng-show=\"active_menu=='Syslog'\" ng-controller=\"SyslogCtrl as syslog\" ng-include=\"'fabric/design/output/networksettings.syslog.html'\" ng-init=\"init(protocol)\"> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/design/output/networkview/networkview.template.html',
    "<div class=\"col-sm-12 networkview-legend\"> <div class=\"col-sm-4 legend-list\"> <div> <div class=\"legend-link\"></div><label class=\"legend-text\">PORT Link</label> </div> <div> <div class=\"legend-vlt\"></div><div class=\"legend-crosslink\"></div><label class=\"legend-text\">VLT/MCLAG Link</label> </div> </div> <div class=\"col-sm-5\"></div> <div class=\"dropdown pull-right\"> <button tabindex=\"0\" class=\"btn btn-primary\" keypressbutton event=\"$event\" keypress-button><span class=\"glyphicon glyphicon-save\"></span> Export </button> <div class=\"dropdown-content\"> <a tabindex=\"0\" href=\"\" class=\"dropdown-divider\" ng-repeat=\"view_value in [{'name':'svg','label':'SVG'},{'name':'jpg','label':'JPG'},{'name':'png','label':'PNG'}]\" ng-keydown=\"handleKeyDown($event, $index, view_value, [{'name':'svg','label':'SVG'},{'name':'jpg','label':'JPG'},{'name':'png','label':'PNG'}])\" ng-click=\"export({format:view_value.name})\" keypress-button>{{view_value.label}}</a> </div> </div> <div class=\"col-sm-12 networkview-wrap\" id=\"networktopology\"> <svg id=\"svgId\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" name=\"networkViewSvg\" height=\"2000\" class=\"svg-content\" aria-labelledby=\"network_view_info\"> <title id=\"network_view_info\">Network View describes the Fabric Topology,</title> <style type=\"text/css\">/* <![CDATA[ */\r" +
    "\n" +
    "            /* Network view  */\r" +
    "\n" +
    "            .networkview-box {\r" +
    "\n" +
    "            position: relative;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .networkview-wrap {\r" +
    "\n" +
    "            overflow-x: auto;\r" +
    "\n" +
    "            margin-bottom: 37px;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            text{\r" +
    "\n" +
    "            fill: rgb(61, 61, 61);\r" +
    "\n" +
    "            font-size: 13px;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .group-circle{\r" +
    "\n" +
    "            fill: white;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .rack1-box{\r" +
    "\n" +
    "            stroke: #36454F;\r" +
    "\n" +
    "            fill: white;\r" +
    "\n" +
    "            stroke-width:10px\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .pod1-box{\r" +
    "\n" +
    "            fill: transparent;\r" +
    "\n" +
    "            height: 970px;\r" +
    "\n" +
    "            stroke:none;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .rack2-box{\r" +
    "\n" +
    "            /*fill: rgba(0, 125, 184, 0.11);*/\r" +
    "\n" +
    "            fill:#f5f5f5;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .pod2-box{\r" +
    "\n" +
    "            /*fill: rgba(0, 125, 184, 0.11);*/\r" +
    "\n" +
    "            fill: aliceblue;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .node-box{\r" +
    "\n" +
    "            stroke: darkgrey;\r" +
    "\n" +
    "            fill: lightgrey;\r" +
    "\n" +
    "            width: 70px;\r" +
    "\n" +
    "            height: 30px;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .link,\r" +
    "\n" +
    "            .link-vlt,\r" +
    "\n" +
    "            .link-isl,.link-inta,\r" +
    "\n" +
    "            .link-uplink {\r" +
    "\n" +
    "            fill: none;\r" +
    "\n" +
    "            stroke:darkgrey;\r" +
    "\n" +
    "            stroke-width: 3px;\r" +
    "\n" +
    "            cursor: pointer;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .link-inta{\r" +
    "\n" +
    "            stroke:#0076CE;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .link-vlt {\r" +
    "\n" +
    "            stroke:darkgrey;\r" +
    "\n" +
    "            stroke-width: 7px;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .link-uplink {\r" +
    "\n" +
    "            stroke: #ccc;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .link-isl {\r" +
    "\n" +
    "            stroke:darkgrey;\r" +
    "\n" +
    "            stroke-width: 7px;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .ellipse-vlt,\r" +
    "\n" +
    "            .ellipse-isl {\r" +
    "\n" +
    "            stroke:black;\r" +
    "\n" +
    "            stroke-width: 2px;\r" +
    "\n" +
    "            fill:#0076CE;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .ellipse-isl {\r" +
    "\n" +
    "            fill:none;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .circle-isl {\r" +
    "\n" +
    "            stroke: black;\r" +
    "\n" +
    "            fill: none;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .server-line{\r" +
    "\n" +
    "            fill:#0076CE;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .server{\r" +
    "\n" +
    "            fill:#454343;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .server-link,.inta-server-link {\r" +
    "\n" +
    "            fill: none;\r" +
    "\n" +
    "            stroke:darkgrey;\r" +
    "\n" +
    "            stroke-width: 2px;\r" +
    "\n" +
    "            cursor: pointer;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .inta-server-link\r" +
    "\n" +
    "            {\r" +
    "\n" +
    "            stroke:#0076CE;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .chassislink{\r" +
    "\n" +
    "            fill: none;\r" +
    "\n" +
    "            stroke:#0076CE;\r" +
    "\n" +
    "            stroke-width: 1px;\r" +
    "\n" +
    "            cursor: pointer;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "\r" +
    "\n" +
    "            .group-text{\r" +
    "\n" +
    "            fill: black;\r" +
    "\n" +
    "            font-weight:1000;\r" +
    "\n" +
    "            font-size:14px;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .cloud-text{\r" +
    "\n" +
    "            fill: #fff;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .clusternode-text{\r" +
    "\n" +
    "            fill: black;\r" +
    "\n" +
    "            font-size:14px;\r" +
    "\n" +
    "            font-weight:800\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .servernode-text{\r" +
    "\n" +
    "            fill: #fff;\r" +
    "\n" +
    "            font-size:10px;\r" +
    "\n" +
    "            font-weight:800\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .chassisnode-big-icon{\r" +
    "\n" +
    "            font-family: 'clarity4';\r" +
    "\n" +
    "            font-size: 20;\r" +
    "\n" +
    "            fill:#f2af00\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .chassisnode-tiny-icon{\r" +
    "\n" +
    "            font-family: 'clarity4';\r" +
    "\n" +
    "            font-size: 15;\r" +
    "\n" +
    "            fill:#f2af00\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .chassisnode-big-text{\r" +
    "\n" +
    "            fill: #fff;\r" +
    "\n" +
    "            font-size:10px;\r" +
    "\n" +
    "            font-weight:bolder\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .chassisnode-small-text{\r" +
    "\n" +
    "            fill: #fff;\r" +
    "\n" +
    "            font-size:6px;\r" +
    "\n" +
    "            font-weight:bolder\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .chassisnode-tiny-text{\r" +
    "\n" +
    "            fill: #fff;\r" +
    "\n" +
    "            font-size:5px;\r" +
    "\n" +
    "            font-weight:bolder\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .hide-textnode {\r" +
    "\n" +
    "            visibility: hidden;\r" +
    "\n" +
    "            font-size: 6px\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .popover {\r" +
    "\n" +
    "            max-width: 350px;\r" +
    "\n" +
    "            /* pointer-events: none;*/\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .popover-scroll {\r" +
    "\n" +
    "            height: 200px;\r" +
    "\n" +
    "            overflow:auto;\r" +
    "\n" +
    "            /* pointer-events: none;*/\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            .popover-close{\r" +
    "\n" +
    "                top: 6px;\r" +
    "\n" +
    "                position: absolute;\r" +
    "\n" +
    "                right: 10px;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "\r" +
    "\n" +
    "            .tooltip-link {   \r" +
    "\n" +
    "            position: absolute;           \r" +
    "\n" +
    "            text-align: center;           \r" +
    "\n" +
    "            width: 60px;                  \r" +
    "\n" +
    "            height: 28px;                 \r" +
    "\n" +
    "            padding: 2px;             \r" +
    "\n" +
    "            font: 12px sans-serif;        \r" +
    "\n" +
    "            background: lightsteelblue;   \r" +
    "\n" +
    "            border: 0px;      \r" +
    "\n" +
    "            border-radius: 8px;           \r" +
    "\n" +
    "            pointer-events: none;         \r" +
    "\n" +
    "            }\r" +
    "\n" +
    "\r" +
    "\n" +
    "            .tooltip-hr {\r" +
    "\n" +
    "            margin-top: 5px;\r" +
    "\n" +
    "            margin-bottom: 5px\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "\r" +
    "\n" +
    "            .networkview-legend {\r" +
    "\n" +
    "            position: absolute;\r" +
    "\n" +
    "            left: 0px;\r" +
    "\n" +
    "            top: 10px;\r" +
    "\n" +
    "            border: 1px solid #888;\r" +
    "\n" +
    "            padding-top: 5px;\r" +
    "\n" +
    "            padding-right: 10px;\r" +
    "\n" +
    "            }\r" +
    "\n" +
    "            /* ]]> */</style> <g id=\"networkViewSvg\"></g> </svg> </div> </div>"
  );


  $templateCache.put('fabric/design/output/panelbutton.template.html',
    "<div class=\"media\" style=\"width:150px;border:1px solid black;border-radius:4px;height: 100px\"> <div class=\"media-top\" style=\"width:100%;height: 50px\"> <dlcui-fancy-button dlcui-type=\"primary\" name=\"exportWiring\" style=\"width:100%;height: 100%;background:#73C2FB\" data-toggle=\"collapse\" data-target=\"#demo1\" ng-click=\"vm.configExport()\"> <dlcui-font-icon title=\"download\" icon=\"wrench\" style=\"color:white\"></dlcui-font-icon> </dlcui-fancy-button> </div> <div class=\"media-body\" style=\"height: 50px\"> <h4 class=\"media-heading\" style=\"text-align:center;margin-top:15px\">{{options.title}}</h4> </div> </div>"
  );


  $templateCache.put('fabric/design/output/rack.template.html',
    "<div> <div ng-if=\"options.type!='POD'\" tabindex=\"0\"> <div class=\"rack-title\">{{options.name}}</div> <div class=\"rack-box\" tabindex=\"0\" ng-click=\"$event.stopPropagation();showProperty(options, 'rack');\" ng-keypress=\"$event.stopPropagation();showProperty(options, 'rack');\" id=\"{{options.name | removeSpaces}}rack\" ng-class=\"{active: options == property}\"> <div class=\"rack-leaf\" tabindex=\"0\" ng-if=\"options.type == 'Leaf'\"> <div class=\"management\" ng-show=\"options.mgmtSwitch\"> <div class=\"rack-node rack-switch\" tabindex=\"0\" ng-click=\"showProperty(options.mgmtSwitch,'switch');$event.stopPropagation();\" id=\"{{options.name | removeSpaces}}management\" ng-keypress=\"showProperty(options.mgmtSwitch,'switch');$event.stopPropagation();\" ng-class=\"{active: options.mgmtSwitch == property}\"> {{options.mgmtSwitch.name}} </div> </div> <div class=\"tor-switch\" tabindex=\"0\"> <div class=\"rack-node rack-switch\" tabindex=\"0\" ng-class=\"{EOL:options.eolswitch}\" ng-repeat=\"switch in options.switches\" id=\"{{options.name | removeSpaces}}torSwitch{{$index}}\" ng-click=\"showProperty(switch,'switch');$event.stopPropagation();\" ng-keypress=\"showProperty(switch,'switch');$event.stopPropagation();\" ng-class=\"{active: switch == property, half: switch.chassisSize == '1U,half-width'}\" custom-directive menu=\"options.switches\" index=\"$index\"> {{switch.model}}<span ng-if=\"options.eolswitch\"> (EOL) </span> </div> </div> <div tabindex=\"0\" class=\"rack-container\" tabindex=\"0\"> <div tabindex=\"0\" ng-repeat=\"cluster in options.clusters\" ng-show=\"options.clusters && options.showCluster\" id=\"{{options.name | removeSpaces}}cluster{{$index}}\" ng-click=\"showProperty(cluster,'cluster', options.id, cluster.id);$event.stopPropagation();\" ng-keypress=\"showProperty(cluster,'cluster', options.id, cluster.id);$event.stopPropagation();\" ng-class=\"{active: cluster == property, 'rack-cluster': (options.isCluster && cluster.clusterType != 'UNITY_STORAGE')}\" custom-directive menu=\"options.clusters\" index=\"$index\"> <h5 class=\"cluster-title\" ng-if=\"options.isCluster && cluster.clusterType != 'UNITY_STORAGE'\"> <span class=\"glyphicon glyphicon-th\"></span> {{cluster.name}}</h5> <div tabindex=\"0\" ng-repeat=\"node in cluster.nodes\" custom-directive menu=\"cluster.nodes\" index=\"$index\"> <div tabindex=\"0\" ng-if=\"node.displayName=='' && node.model!=''\" class=\"rack-node rack-server\" id=\"{{options.name | removeSpaces}}clusterNode{{node.name | removeSpaces}}\" ng-click=\"showProperty(node,'node');$event.stopPropagation();\" ng-keypress=\"showProperty(node,'node');$event.stopPropagation();\" ng-class=\"{active: node == property, reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\" custom-directive menu=\"cluster.nodes\" index=\"$index\"> {{node.model}} </div> <div tabindex=\"0\" ng-if=\"node.displayName!=''\" class=\"rack-node rack-server\" id=\"{{options.name | removeSpaces}}clusterNode{{node.name | removeSpaces}}\" ng-click=\"showProperty(node,'node');$event.stopPropagation();\" ng-keypress=\"showProperty(node,'node');$event.stopPropagation();\" ng-class=\"{active: node == property, reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\" custom-directive menu=\"cluster.nodes\" index=\"$index\"> {{node.displayName}} </div> <div tabindex=\"0\" ng-if=\"node.expansionModules && node.expansionModules.length>0\"> <div tabindex=\"18\" ng-if=\"expansionModule.type!=''\" ng-repeat=\"expansionModule in node.expansionModules\" class=\"rack-node node-expansion-module\" id=\"{{options.name | removeSpaces}}clusterNode{{expansionModule.name | removeSpaces}}\" ng-click=\"showProperty(expansionModule,'expansionModule');$event.stopPropagation();\" ng-keypress=\"showProperty(expansionModule,'expansionModule');$event.stopPropagation();\" ng-class=\"{active: expansionModule == property}\"> {{expansionModule.type}} </div> </div> </div> <div tabindex=\"0\" ng-repeat=\"chassis in cluster.nodes\" ng-if=\"chassis.type=='Chassis'\" class=\"rack-cluster cluster-chassis\" id=\"{{options.name | removeSpaces}}clusterNode{{chassis.name | removeSpaces}}\" ng-class=\"{active: chassis == property, 'isilon-chassis': chassis.clusterType == ('ISILON_STORAGE')}\" ng-click=\"showProperty(chassis, 'chassis', options.id, cluster.id);$event.stopPropagation();\" ng-keypress=\"showProperty(chassis, 'chassis', options.id, cluster.id);$event.stopPropagation();\"> <div tabindex=\"0\" ng-repeat=\"node in chassis.nodes\" class=\"rack-node rack-server\" id=\"{{options.name | removeSpaces}}clusterNode{{node.name | removeSpaces}}\" ng-click=\"showProperty(node,'node');$event.stopPropagation();\" ng-keypress=\"showProperty(node,'node');$event.stopPropagation();\" ng-class=\"{active: node == property, reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\"> {{node.model}} </div> </div> </div> <div ng-repeat=\"node in options.nodes\" class=\"rack-node rack-server\" ng-show=\"options.clusters\" id=\"{{options.name | removeSpaces}}node{{$index}}\" ng-click=\"showProperty(node,'node');$event.stopPropagation();\" ng-keypress=\"showProperty(node,'node');$event.stopPropagation();\" ng-class=\"{active: node == property, reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\" custom-directive menu=\"options.nodes\" index=\"$index\"> {{node.model}} </div> </div> </div> <div class=\"rack-spine\" tabindex=\"0\" ng-if=\"options.type == 'Spine'\"> <div tabindex=\"0\" class=\"rack-node rack-switch\" ng-repeat=\"switch in options.switches\" id=\"{{options.name | removeSpaces}}switch{{$index}}\" ng-click=\"showProperty(switch,'switch');$event.stopPropagation();\" ng-keypress=\"showProperty(switch,'switch');$event.stopPropagation();\" ng-class=\"{active: switch == property}\" custom-directive menu=\"options.switches\" index=\"$index\"> {{switch.model}} </div> <div class=\"rack-container\" ng-if=\"options.backend_switches\"> <div class=\"rack-cluster\"> <h5 class=\"cluster-title\"><span class=\"glyphicon glyphicon-th\"></span> Backend Switches</h5> <div class=\"rack-node rack-switch\" ng-class=\"{active: cluster == property}\" ng-repeat=\"switch in options.backend_switches\" id=\"{{options.name | removeSpaces}}switch{{$index}}\" ng-click=\"showProperty(switch,'switch');$event.stopPropagation();\" ng-keypress=\"showProperty(switch,'switch');$event.stopPropagation();\" ng-class=\"{active: switch == property}\" custom-directive menu=\"options.backend_switches\" index=\"$index\"> {{switch.model}} </div> </div> </div> </div> </div> <div class=\"rack-footer\"></div> <div class=\"rack-foots\"> <div class=\"rack-foot\"></div> <div class=\"rack-footgaps\"></div> <div class=\"rack-foot\"></div> </div> </div> <div ng-if=\"options.type=='POD'\"> <div class=\"rack-title\">{{options.name}}</div> <div class=\"pod-box\" ng-click=\"$event.stopPropagation();showProperty(options, 'pod');\" ng-keypress=\"$event.stopPropagation();showProperty(options, 'pod');\" id=\"{{options.id}}\" ng-class=\"{active: property == options}\"> <div class=\"tor-switch\"> <div class=\"rack-node rack-switch\" ng-repeat=\"switch in options.switches\" id=\"{{options.name | removeSpaces}}torSwitch{{$index}}\" ng-click=\"$event.stopPropagation();showProperty(switch, 'switch');\" ng-keypress=\"$event.stopPropagation();showProperty(switch, 'switch');\" ng-class=\"{active:property == switch, half: switch.chassisSize == '1U,half-width'}\" custom-directive menu=\"options.switches\" index=\"$index\"> {{switch.model}} </div> </div> <div class=\"pod-container\" tabindex=\"0\"> <div tabindex=\"0\" ng-repeat=\"cluster in options.clusters\" ng-show=\"options.clusters\" class=\"pod-cluster cluster-chassis\" id=\"{{cluster.id}}\" ng-click=\"$event.stopPropagation();showProperty(cluster, 'cluster', options.id, cluster.id);\" ng-keypress=\"$event.stopPropagation();showProperty(cluster, 'cluster', options.id, cluster.id);\" ng-class=\"{active: cluster == property}\" custom-directive menu=\"options.clusters\" index=\"$index\"> <h5 class=\"pod-cluster-title\"><span class=\"glyphicon glyphicon-th\"></span> {{cluster.name}}</h5> <div tabindex=\"0\" ng-repeat=\"chassis in cluster.chassis\" class=\"pod-node pod-server\" id=\"{{chassis.id}}\" ng-class=\"{active: chassis == property}\" ng-click=\"$event.stopPropagation(); showProperty(chassis, 'chassis', options.id, chassis.id);\" ng-keypress=\"$event.stopPropagation(); showProperty(chassis, 'chassis', options.id, chassis.id);\" custom-directive menu=\"cluster.chassis\" index=\"$index\"> <span class=\"pod-server text\">{{chassis.displayName}}</span> <!--div ng-repeat=\"node in chassis.chassis\" class=\"rack-node rack-server\" \r" +
    "\n" +
    "                                id=\"{{options.name | removeSpaces}}clusterNode{{node.name | removeSpaces}}\" ng-click=\"setProperty(node,'node');$event.stopPropagation();\" \r" +
    "\n" +
    "                                ng-class=\"{active: 'node' == getProperty(), reserved: (node.state == 'FUTURE'||node.state=='STANDBY')}\">\r" +
    "\n" +
    "                                {{node.model}}\r" +
    "\n" +
    "                            </div--> </div> </div> </div> </div> </div></div>"
  );


  $templateCache.put('fabric/design/output/settingsModal.html',
    "<div> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"modal-title\"> <div class=\"alert alert-warning\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <strong>Enable Settings</strong> </div> </h3> <span> <strong> Settings once set cannot be edited. Still want to proceed?.</strong><br><br> </span> <div> <dlcui-radio ng-model=\"settings\" name=\"SUPERSPINE\" value=\"Super Spine\"> Super Spine </dlcui-radio> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <dlcui-radio ng-model=\"settings\" name=\"DCI\" value=\"DCI\"> DCI Fabric &nbsp;</dlcui-radio> </div> </div> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" tabindex=\"13\" ng-disabled=\"settings=='NA'\" ng-click=\"$close(settings)\" ng-keypress=\"$close(settings)\" name=\"warning_edit_RackOk\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button type=\"danger\" tabindex=\"13\" ng-click=\"$dismiss()\" ng-keypress=\"$dismiss()\" name=\"warning_edit_rack_Cancel\">{{'general.cancel' | translate}}</dlcui-button> </div> "
  );


  $templateCache.put('fabric/design/output/spinerack.template.html',
    "<div class=\"fdcspinerack\"> <div class=\"fdcspineswitchescontainer\"> <div class=\"fdcspineswitchcontainer\"> <div class=\"fdcspineswitch\" ng-repeat=\"switch in options.switches\" ng-if=\"switch.type=='standalone'\"> {{switch.model}} </div> <div class=\"fdcspinevltiswitchcontainer\" ng-repeat=\"switch in options.switches\" ng-if=\"switch.type=='vlti'\"> <div class=\"fdcspineswitch fdcspinevltiswitch\" ng-repeat=\"vltiswitch in switch.vltiswitches\"> {{vltiswitch.model}} </div> </div> </div> </div> </div> <div class=\"fdcrackfooter\"> </div> <div class=\"fdcrackfoots\"> <div class=\"fdcrackfoot\"> </div> <div class=\"fdcfootgaps\"> </div> <div class=\"fdcrackfoot\"> </div> </div>"
  );


  $templateCache.put('fabric/design/output/stretchClusterWarning.html',
    "<div> <div class=\"modal-header\"> <h3 class=\"modal-title\" id=\"modal-title\"> <div class=\"alert alert-warning\"> <span class=\"glyphicon glyphicon-warning-sign\"></span> <strong>Warning!</strong> </div> </h3> <span> <strong> Do you want to stretch vlans across all racks?.</strong> </span> </div> </div> <div class=\"modal-footer\"> <dlcui-button type=\"primary\" ng-click=\"$close('yes')\" name=\"warning_edit_RackOk\">{{'general.YES' | translate}}</dlcui-button> <dlcui-button type=\"danger\" ng-click=\"$close('no')\" name=\"warning_edit_rack_Cancel\">{{'general.NO' | translate}}</dlcui-button> </div> "
  );


  $templateCache.put('fabric/design/output/superspine.html',
    "<div class=\"panel panel-default output-sec\"> <div class=\"container-fluid form-spacing\"> <div class=\"row\"> <div class=\"col-sm-5\"> <h2>Fabrics</h2> </div> <!--div ng-if=\"superspinedata[0].deploymentType!='OS10 Fabric' && settings=='NA'\" class=\"col-sm-7 pull-right\" style=\"padding:20px;\"style=\"margin-top:20px;margin-bottom: 10px;\">\r" +
    "\n" +
    "                <dlcui-fancy-button tabindex=\"10\" class=\"dropbtn\" ng-click=\"settingsModal()\" dlcui-type=\"primary\" name=\"sonic_settings\" style=\"float:right;\">\r" +
    "\n" +
    "                <dlcui-font-icon title=\"settings\" class=\"glyphicon glyphicon-cog\" style=\"color:white\"></dlcui-font-icon>&nbsp;Enable Additional Features\r" +
    "\n" +
    "                </dlcui-fancy-button>\r" +
    "\n" +
    "            </diV--> <!--div class=\"col-sm-2 btn btn-link\" ng-if=\"false\">\r" +
    "\n" +
    "                <input type=\"checkbox\" ng-disabled=\"superspinedata[0].fabrictype=='Super Spine'\" ng-model=\"enablesuperspine\" name=\"fdc_enablesuperspine\" id=\"enablesuperspine\" checked/>\r" +
    "\n" +
    "                <label for=\"enablesuperspine\" >  <strong> Enable Super Spine</strong></label>                    \r" +
    "\n" +
    "            </div--> <div class=\"col-sm-7\" ng-if=\"False && settings=='DCI'\"> <div class=\"row pull-right\" style=\"margin-top:20px;margin-bottom: 10px;margin-right:5px\"> <button tabindex=\"11\" type=\"button\" name=\"info\" class=\"btn btn-link\" ng-click=\"WarningModal()\"> <span class=\"glyphicon glyphicon-info-sign\"></span> <strong>Info</strong> </button> </div> </div> <div class=\"col-sm-7\" ng-if=\"settings=='Super Spine'\"> <div class=\"row\" style=\"margin-top:20px;margin-bottom: 10px\"> <div class=\"col-sm-5\"></div> <div class=\"col-sm-1\" ng-if=\"superspinedata[0].fabrictype=='Super Spine'\"></div> <div class=\"col-sm-3\" ng-if=\"superspinedata[0].fabrictype!='Super Spine'\"></div> <div class=\"col-sm-2\"> <button tabindex=\"11\" type=\"button\" name=\"addsuperspine\" class=\"btn btn-link\" ng-hide=\"superspinedata[0].leafswitchmodel=='Generic-GNS3-Switch' || superspinedata[0].deploymentType!='Enterprise SONiC Fabric'\" ng-disabled=\"superspinedata[0].fabrictype=='Super Spine'\" ng-click=\"addsuperspineModal()\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong>Add Super Spine</strong> </button> </div> <div class=\"col-sm-2\"> <button tabindex=\"11\" type=\"button\" name=\"addfabric\" class=\"btn btn-link pull-right\" ng-hide=\"superspinedata[0].leafswitchmodel=='Generic-GNS3-Switch' ||superspinedata[0].deploymentType!='Enterprise SONiC Fabric'\" ng-disabled=\"superspinedata[0].fabrictype!='Super Spine'\" ng-click=\"addnewFabricModal(fabric.id)\" ng-attr-title=\"\"> <span class=\"glyphicon glyphicon-plus\"></span> <strong>Add Fabric</strong> </button> </div> <div class=\"col-sm-2 dropdown\" ng-if=\"superspinedata[0].fabrictype=='Super Spine'\" style=\"padding:0px\" style=\"margin-top:20px;margin-bottom: 10px\"> <dlcui-fancy-button tabindex=\"11\" class=\"dropbtn\" dlcui-type=\"primary\" name=\"download_wiring\"> <dlcui-font-icon title=\"download\" icon=\"download-alt\" style=\"color:white\"></dlcui-font-icon>&nbsp;Download All </dlcui-fancy-button> <div class=\"dropdown-content\"> <a tabindex=\"11\" class=\"dropdown-divider\" href=\"\" ng-repeat=\"download_value in ['Wiring','Bill of Materials','Network Conf CSV','Config Download']\" ng-click=\"downloadAll(download_value)\">{{download_value}}</a> </div> </div> </div> </div> <!--div class=\"col-sm-1\" style=\"margin-top:20px;margin-bottom: 10px;\">\r" +
    "\n" +
    "                <button type=\"button\" name=\"editGeneric\" class=\"btn btn-link pull-right\" ng-hide=\"superspinedata[0].leafswitchmodel=='Generic-GNS3-Switch' || superspinedata[0].deploymentType!='Enterprise SONiC Fabric'\" ng-disabled=\"superspinedata[0].fabrictype=='Super Spine'\" ng-click=\"addsuperspineModal()\" >\r" +
    "\n" +
    "                    <span class=\"glyphicon glyphicon-plus\"></span>\r" +
    "\n" +
    "                    <strong>Add Super Spine</strong>\r" +
    "\n" +
    "                </button>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"col-sm-1\" style=\"margin-top:20px;margin-bottom: 10px;\">\r" +
    "\n" +
    "                <button type=\"button\" name=\"editGeneric\" class=\"btn btn-link pull-right\" ng-hide=\"superspinedata[0].leafswitchmodel=='Generic-GNS3-Switch' ||superspinedata[0].deploymentType!='Enterprise SONiC Fabric'\" ng-disabled=\"superspinedata[0].fabrictype!='Super Spine'\" ng-click=\"addnewFabricModal(fabric.id)\" ng-attr-title=\"\">\r" +
    "\n" +
    "                    <span class=\"glyphicon glyphicon-plus\"></span>\r" +
    "\n" +
    "                    <strong>Add Fabric</strong>\r" +
    "\n" +
    "                </button>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"col-sm-2 dropdown\" ng-if=\"superspinedata[0].fabrictype=='Super Spine'\" style=\"margin-top:20px;margin-bottom: 10px;padding:0px;\"style=\"margin-top:20px;margin-bottom: 10px;\">\r" +
    "\n" +
    "\t\t\t\t<dlcui-fancy-button class=\"dropbtn\" dlcui-type=\"primary\" name=\"download_wiring\">\r" +
    "\n" +
    "\t\t\t\t  <dlcui-font-icon title=\"download\" icon=\"download-alt\" style=\"color:white\"></dlcui-font-icon>&nbsp;Download All\r" +
    "\n" +
    "\t\t\t\t</dlcui-fancy-button>\r" +
    "\n" +
    "\t\t\t\t<div class=\"dropdown-content\">\r" +
    "\n" +
    "\t\t\t\t  <a class=\"dropdown-divider\" href=\"\" ng-repeat = \"download_value in ['Wiring','Bill of Materials','Network Configuration','Config Download']\" ng-click=\"downloadAll(download_value)\">{{download_value}}</a>\r" +
    "\n" +
    "\t\t\t\t</div>\r" +
    "\n" +
    "    \t\t</div--> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <table st-table=\"superspinedata\" class=\"table table-striped table-bordered\" name=\"wiringTable\"> <thead> <tr> <th name=\"fabricname\" width=\"18%\">Fabric Name</th> <th name=\"fabrictype\" width=\"18%\">Fabric Type</th> <th name=\"leafmodel\" width=\"18%\">Leaf Switch</th> <th name=\"spinemodel\" width=\"18%\">Spine Switch</th> <th width=\"28%\"></th> </tr> </thead> <tbody ng-if=\"superspinedata.length\" ng-repeat=\"fabric in superspinedata\"> <tr> <td>{{fabric.name}}</td> <td>{{fabric.fabrictype}}</td> <td>{{fabric.leafswitchmodel}}</td> <td>{{fabric.spineswitchmodel}}</td> <td> <ul class=\"nav navbar-nav nav-right\"> <li><button tabindex=\"0\" type=\"button\" name=\"editGeneric\" role=\"status\" aria-label=\"Edit Fabric\" class=\"btn btn-link\" aria-modal=\"true\" ng-if=\"fabric.fabrictype!='Super Spine'\" ng-click=\"editNetworkFabricModal(fabric.id,'superspine')\"> <span class=\"glyphicon glyphicon-edit\" style=\"color:#0076CE\"></span> <strong class=\"view-fabric\">Edit</strong> </button></li> <li ng-if=\"fabric.fabrictype=='Super Spine'\"><button tabindex=\"-1\" type=\"button\" role=\"status\" name=\"editGeneric\" aria-modal=\"true\" aria-label=\"Edit Fabric\" class=\"btn btn-link\" ng-if=\"fabric.fabrictype=='Super Spine'\" ng-click=\"editSuperSpineModal(fabric.id,'superspine')\"> <span class=\"glyphicon glyphicon-edit\" style=\"color:#0076CE\"></span> <strong class=\"view-fabric\">Edit</strong> </button></li> <li><button tabindex=\"0\" type=\"button\" name=\"deleteGeneric\" aria-label=\"Delete Fabric\" class=\"btn btn-link\" ng-disabled=\"$index==0\" ng-click=\"deleteFabrics(fabric.id)\"> <span class=\"glyphicon glyphicon-trash\" style=\"color:#0076CE\"></span> <strong class=\"view-fabric\">Delete</strong> </button></li> <li><button tabindex=\"0\" type=\"button\" name=\"viewGeneric\" aria-label=\"View Fabric Details\" class=\"btn btn-link\" ng-click=\"viewNetworkFabricModal(fabric.id,fabric.fabrictype)\"> <span class=\"glyphicon glyphicon-list view-fabric\"></span> <strong class=\"view-fabric\">View</strong> </button></li> </ul> </td> </tr> </tbody> <tbody ng-if=\"!superspinedata.length\"> <tr> <td colspan=\"5\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> </div> <div class=\"row\" ng-if=\"superspinedata[0].leafswitchmodel!='Generic-GNS3-Switch' &&  superspinedata[0].deploymentType!='OS10 Fabric'\"> <div class=\"notes col-sm-5\" ng-hide=\"superspinedata[0].deploymentType!='Enterprise SONiC Fabric'\" ng-if=\"!enablesuperspine && settings=='Super Spine'\"> <span style=\"color:red\">Note: Super Spine not added. Add Super Spine to add multiple fabrics.</span> </div> <div class=\"notes col-sm-5\" ng-if=\"enablesuperspine && settings=='Super Spine'\"> <span style=\"color:red\">Note: Super Spine enabled</span> </div> <div class=\"notes col-sm-5\" ng-if=\"settings=='DCI'\"> <span style=\"color:red\">Note: DCI enabled</span> </div> <!--div class=\"col-sm-7\" ng-if=\"superspinedata[0].fabrictype=='Super Spine'\">\r" +
    "\n" +
    "                <dlcui-fancy-button class=\"pull-right\" dlcui-type=\"primary\" name=\"downloadall\" ng-click=\"downloadAllConfig();\">\r" +
    "\n" +
    "                    <dlcui-font-icon title=\"download\" icon=\"download-alt\" style=\"color:white\"></dlcui-font-icon>&nbsp;Download All Configs\r" +
    "\n" +
    "                </dlcui-fancy-button>\r" +
    "\n" +
    "            </div--> </div> <!--div class=\"row\" ng-if=\"superspinedata[0].leafswitchmodel=='Generic-GNS3-Switch'\">\r" +
    "\n" +
    "            <div class=\"notes col-sm-4\" ng-if=\"!enablesuperspine\">                        \r" +
    "\n" +
    "                <span style=\"color:red;\">Note: Super spine not supported in GNS3.</span>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        <div class=\"row\" ng-if=\"superspinedata[0].deploymentType=='OS10 Fabric'\">\r" +
    "\n" +
    "            <div class=\"notes col-sm-4\" ng-if=\"!enablesuperspine\">                        \r" +
    "\n" +
    "                <span style=\"color:red;\">Note: Super spine not supported in OS10.</span>\r" +
    "\n" +
    "            </div>                \r" +
    "\n" +
    "        </div--> </div> </div>"
  );


  $templateCache.put('fabric/design/output/viewConfig.html',
    "<section class=\"cux-dialog cluster-modal\" role=\"dialog\" aria-modal=\"true\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Switch Configuration</h1> </div> <!--div class=\"col-sm-push-5\">\r" +
    "\n" +
    "          <help-directive help-index=\"fabric_details\"></help-directive>\r" +
    "\n" +
    "     </div--> </div> </header> <div class=\"cux-dialog__content\" id=\"viewConfigModal\"> <p style=\"user-select:text;-moz-user-select:text;-ms-user-select:text\" ng-repeat=\"config in fullconfig | configFormat track by $index\">{{config}}</p> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"danger\" name=\"Cancel\" tabindex=\"5\" ng-click=\"modal.dismiss()\" ng-keypress=\"modal.dismiss()\" name=\"fdc_switchconfig_cancel\">Cancel</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/design/output/vlanmodal.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Cluster:{{modal.cluster}}</h1> </div> <div class=\"col-sm-push-5\"> <help-directive aria-label=\"Help Document\" help-index=\"fabric_details\"></help-directive> </div> </div> <div ng-show=\"modal.saveIPMaskError\" class=\"alert alert-danger alert-dismissdialog-alert\"> <span class=\"glyphicon glyphicon-remove dialog-glyphicon\"> <strong>Error!</strong>{{modal.saveIPMaskError}} </div> </header> <div class=\"cux-dialog__content\"> <form name=\"form.vlanipmask\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <div class=\"row\"> <div class=\"col-sm-6\"> <label>ID</label> </div> <div class=\"col-sm-6\"> {{modal.id}} </div> </div> <div class=\"row\" ng-if=\"modal.viewmodel.networkType=='Static VXLAN'\"> <div class=\"col-sm-6\"> <label>VNID</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : form.vlanipmask.vnid.$dirty && form.vlanipmask.vnid.$invalid}\"> <input type=\"number\" style=\"width:150px\" class=\"form-control\" ng-model=\"modal.viewmodel.vnid\" name=\"vnid\" validation-directive uib-tooltip=\"\" min=\"1\" max=\"16777215\" required> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Name </label> </div> <div class=\"col-sm-6\"> {{modal.name}} </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Usage Type</label> </div> <div class=\"col-sm-6\" ng-if=\"modal.displayName == None\"> {{'fabricOutput.logicalView.cluster.' + modal.type | translate}} </div> <div class=\"col-sm-6\" ng-if=\"modal.displayName != None\"> {{modal.displayName}} </div> </div> <div class=\"row\" ng-if=\"false\"> <div class=\"col-sm-6\"> <label>Static VxLan Overlay</label> </div> <div class=\"col-sm-6\" ng-show=\"modal.viewmodel.vlanType=='pvtMgmt'\"> <input type=\"checkbox\" name=\"enableOverlay-checkPop\" id=\"enableOverlayPop\" ng-model=\"modal.viewmodel.enable_overlay\" ng-disabled=\"modal.protocol.upLinkProtocol=='Layer 2' || modal.protocol.fabricType == 'Layer_2_TOR'\"> <label id=\"enableOverlay-checkPop\" for=\"enableOverlayPop\"></label> </div> <div class=\"col-sm-6\" ng-show=\"modal.viewmodel.vlanType!='pvtMgmt'\"> {{modal.viewmodel.modal.viewmodel.enable_overlay}} </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Enable IP Interfaces</label> </div> <div class=\"col-sm-6\" ng-show=\"modal.viewmodel.vlanType!='pvtMgmt'\"> <input type=\"checkbox\" name=\"enableIp-checkPop\" id=\"enableIpPop\" ng-model=\"modal.viewmodel.enable_ip_interface\"> <label id=\"enableIp-checkPop\" for=\"enableIpPop\"></label> </div> <div class=\"col-sm-6\" ng-show=\"modal.viewmodel.vlanType=='pvtMgmt'\"> {{modal.viewmodel.enable_ip_interface}} </div> </div> <div class=\"row\" ng-if=\"modal.protocol.deploymentType=='Nokia NFVi'\"> <div class=\"col-sm-6\"> <label>Native Vlan</label> </div> <div class=\"col-sm-6\"> <input type=\"checkbox\" name=\"enableNative-checkPop\" id=\"enableNativePop\" ng-model=\"modal.viewmodel.enable_native_vlan\"> <label id=\"enableNative-checkPop\" for=\"enableNativePop\"></label> </div> </div> <div class=\"row\" ng-if=\"modal.protocol.deploymentType=='Enterprise SONiC Fabric'\"> <div class=\"col-sm-6\"> <label>VNID</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.vlanipmask.vnid.$dirty && form.vlanipmask.vnid.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"modal.viewmodel.vnid\" name=\"vnid\" validation-directive uib-tooltip=\"\" min=\"1\" max=\"16777215\" required> </div> </div> <div class=\"row\" ng-if=\"modal.protocol.network_overlay_type=='BGP EVPN' && modal.protocol.deploymentType=='Nokia NFVi'\"> <div class=\"col-sm-6\"> <label>VNID</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.vlanipmask.vnid.$dirty && form.vlanipmask.vnid.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"modal.viewmodel.vnid\" name=\"vnid\" validation-directive uib-tooltip=\"\" min=\"1\" max=\"16777215\" required> </div> </div> <div class=\"row\" ng-if=\"modal.protocol.network_overlay_type=='BGP EVPN' && modal.protocol.irb_type=='Symmetric' && modal.protocol.deploymentType=='Nokia NFVi'\"> <div class=\"col-sm-6\"> <label>Vrf Name</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.vlanipmask.vrf_name.$dirty && form.vlanipmask.vrf_name.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"modal.viewmodel.vrf_name\" name=\"vrf_name\" validation-directive uib-tooltip=\"\" required> </div> </div> <div class=\"row\" ng-if=\"modal.protocol.network_overlay_type=='BGP EVPN' && (modal.protocol.irb_type=='Symmetric' || (modal.protocol.irb_type=='Asymmetric' && modal.viewmodel.vrfs && modal.viewmodel.vrfs.length > 0)) && modal.protocol.deploymentType=='Enterprise SONiC Fabric'\"> <div class=\"col-sm-6\"> <label>Vrf Name</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.vlanipmask.vrf_name.$dirty && form.vlanipmask.vrf_name.$invalid}\"> <select tabindex=\"30\" class=\"form-control\" ng-model=\"modal.viewmodel.vrf_name\" name=\"vrf_name\"> <option ng-selected=\"modal.viewmodel.vrf_name == item\" ng-repeat=\"item in modal.viewmodel.vrfs\" ng-value=\"item\">{{item}}</option> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-6\"> <label>Network Type</label> </div> <div class=\"col-sm-6\"> {{modal.viewmodel.networkType}} </div> </div> <div class=\"row\" ng-if=\"modal.viewmodel.showDefaultGateway || modal.viewmodel.enable_ip_interface\"> <div class=\"col-sm-6\"> <label ng-if=\"modal.viewmodel.networkType=='Static VXLAN'\">AnyCast Gateway</label> <label ng-if=\"modal.viewmodel.networkType!='Static VXLAN'\">Default Gateway</label> </div> <div ng-show=\"modal.viewmodel.vlanType!='pvtMgmt'\"> <div class=\"col-sm-3\" ng-class=\"{'has-error' : form.vlanipmask.gatewayip.$dirty && form.vlanipmask.gatewayip.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"modal.viewmodel.anycast_gatewayip\" name=\"gatewayip\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> </div> <div class=\"col-sm-6\" ng-show=\"modal.viewmodel.vlanType=='pvtMgmt'\"> {{modal.viewmodel.anycast_gatewayip}}</div> </div> <table st-table=\"modal.viewmodel.switchIpInfo\" class=\"table table-striped table-bordered\" id=\"networkVLANedit\"> <thead> <tr> <th name=\"switchname\" style=\"text-align:center\">Switch Name</th> <th name=\"ipaddress\" style=\"text-align:center\">IP Address/Mask</th> </tr> </thead> <tbody> <!--tr  ng-repeat=\"switch in ipmac.viewmodel.switches | filter:{type:ipmac.viewmodel.filteredType.name}\"\"--> <tr ng-repeat=\"switch in modal.viewmodel.switchIpInfo\"> <td name=\"switchDeviceId{{$index}}\" style=\"text-align:center\">{{switch.switchName}}</td> <td style=\"text-align:center\"> <div ng-show=\"modal.viewmodel.vlanType!='pvtMgmt'\"> <div class=\"col-sm-6\" ng-class=\"{'has-error' : form.vlanipmask.ipv4_{{switch.id}}.$dirty && form.vlanipmask.ipv4_{{switch.id}}.$invalid}\"> <input type=\"text\" class=\"form-control\" ng-model=\"switch.ipv4\" name=\"ipv4_{{switch.id}}\" validation-directive uib-tooltip=\"\" ng-pattern=\"/^(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\\.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$/\" placeholder=\"0.0.0.0\"> </div> <div class=\"pull-left multiple\"> <label>/</label> </div> <div class=\"col-sm-2\" ng-class=\"{'has-error' : form.vlanipmask.ipv4_mask_{{switch.id}}.$dirty && form.vlanipmask.ipv4_mask_{{switch.id}}.$invalid}\"> <input type=\"number\" class=\"form-control\" ng-model=\"switch.ipv4_mask\" name=\"ipv4_mask_{{switch.id}}\" validation-directive uib-tooltip=\"\" ng-pattern=\"/\\b(3[0-1]|2[0-9]|1[0-9]|[8-9])\\b/\" placeholder=\"24\"> </div> </div> <div ng-show=\"modal.viewmodel.vlanType=='pvtMgmt'\"> {{switch.ipv4}} /{{switch.ipv4_mask}}</div> </td> </tr> </tbody> </table> </form></div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" ng-disabled=\"form.vlanipmask.$invalid ||form.vlanipmask.$pristine\" ng-click=\"validateIPConfigforVlanInCluster()\">OK</dlcui-button> <dlcui-button type=\"secondary\" ng-click=\"modal.hide()\">Cancel</dlcui-button> </menu> </footer>  </section>"
  );


  $templateCache.put('fabric/design/output/wiringmodal.html',
    "<section class=\"cux-dialog cluster-modal\" aria-labelledby=\"{{modal.name}}\" role=\"dialog\" aria-modal=\"true\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">Switch Name : {{modal.name}}</h1> </div> <!--div class=\"col-sm-push-5\">\r" +
    "\n" +
    "          <help-directive help-index=\"fabric_details\"></help-directive>\r" +
    "\n" +
    "        </div--> </div> </header> <div class=\"cux-dialog__content wiring_DialogContent\"> <div class=\"row\"> <div class=\"col-sm-6\"> </div> <div class=\"dropdown pull-right\"> <dlcui-fancy-button tabindex=\"11\" class=\"dropbtn\" dlcui-type=\"primary\" name=\"download_wiring\"> <dlcui-font-icon title=\"download\" icon=\"download-alt\" style=\"color:white\"></dlcui-font-icon>&nbsp;Export </dlcui-fancy-button> <div class=\"dropdown-content\"> <a tabindex=\"11\" class=\"dropdown-divider\" href=\"\" ng-repeat=\"download_value in [{'name':'svg','label':'SVG'},{'name':'jpg','label':'JPG'},{'name':'png','label':'PNG'}]\" ng-click=\"modal.exportImage(download_value.name)\">{{download_value.label}}</a> </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-12\"> <span ng-bind-html=\"modal.svg\" name=\"wiringModal\" id=\"wiringModal\"></span> </div> </div> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button tabindex=\"11\" type=\"secondary\" ng-click=\"modal.hide()\" ng-keypress=\"modal.hide()\">Close</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/import/import.html',
    "<div class=\"container-fluid import-sec\"> <div class=\"row\"> <div class=\"col-sm-11\"> <div class=\"section-title\"><h3 style=\"font-weight: 700;font-size: 17px\">{{'general.fabricImport' | translate}}</h3></div> </div> <div class=\"col-sm-1\"> <help-directive aria-label=\"Help Document\" tabindex=\"0\" help-index=\"fdc_import\"></help-directive> </div> </div> <div class=\"panel panel-default\"> <div class=\"panel-body\"> <div class=\"row\" nv-file-drop=\"\" uploader=\"uploader\" filters=\"queueLimit, customFilter\"> <div class=\"col-sm-5 col-sm-push-1\"> <h3>{{'general.selectFabric' | translate}}</h3> <div ng-show=\"uploader.isHTML5\"> <!-- Example: nv-file-drop=\"\" uploader=\"{Object}\" options=\"{Object}\" filters=\"{String}\" --> <div nv-file-drop=\"\" uploader=\"uploader\" accept=\".json\"> <div nv-file-over=\"\" uploader=\"uploader\" over-class=\"file-over-class\" accept=\".json\" class=\"well my-drop-zone file-upload\" name=\"fileUploadDrop\"> {{'general.dragFileHere' | translate}} </div> </div> </div> <p class=\"text-center\">{{'general.OR' | translate}}</p> <!-- Example: nv-file-select=\"\" uploader=\"{Object}\" options=\"{Object}\" filters=\"{String}\" --> {{'general.browseFabric' | translate}} <input tabindex=\"0\" type=\"file\" name=\"importFile\" class=\"form-control\" nv-file-select=\"\" uploader=\"uploader\" accept=\".json\" name=\"fileUploadBrowse\"> </div> <div class=\"col-sm-5 col-sm-push-1\"> <div class=\"well file-upload-desc\"> <strong>{{'general.note' | translate}}:</strong> {{'general.uploadNote' | translate}}. </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-5 col-sm-push-1\" ng-repeat=\"item in uploader.queue\"> <div class=\"row\"> <div class=\"col-sm-12\">{{'general.name' | translate}} : <strong>{{ item.file.name }}</strong> </div> <div class=\"col-sm-12\">{{'general.size' | translate}} : <strong>{{ item.file.size/1024 | number:2 }} KB</strong> </div> </div> <div class=\"v-space20\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-click=\"uploadFile(item)\" ng-keypress=\"uploadFile(item)\" ng-disabled=\"item.isReady || item.isUploading || item.isSuccess\" name=\"uploadFile\"> <span class=\"glyphicon glyphicon-upload\"></span> {{'general.upload' | translate}} </dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-click=\"removeFile(item)\" ng-keypress=\"removeFile(item)\" name=\"removeUpload\"> <span class=\"glyphicon glyphicon-trash\"></span> {{'general.remove' | translate}} </dlcui-button> </div> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/import/importPS.html',
    "<div class=\"container-fluid import-sec\"> <div class=\"row\"> <div class=\"col-sm-11\"> <div class=\"section-title\"><h3 style=\"font-weight: 700;font-size: 17px\">{{'general.fabricPSImport' | translate}}</h3></div> </div> <div class=\"col-sm-1\"> <help-directive aria-label=\"Help Document\" tabindex=\"0\" help-index=\"fdc_import\"></help-directive> </div> </div> <div class=\"panel panel-default\"> <div class=\"panel-body\"> <div class=\"row\" nv-file-drop=\"\" uploader=\"uploader\" filters=\"queueLimit, customFilter\"> <div class=\"col-sm-5 col-sm-push-1\"> <h3>{{'general.selectPSFabric' | translate}}</h3> <div ng-show=\"uploader.isHTML5\"> <!-- Example: nv-file-drop=\"\" uploader=\"{Object}\" options=\"{Object}\" filters=\"{String}\" --> <div nv-file-drop=\"\" uploader=\"uploader\" accept=\".json\"> <div nv-file-over=\"\" uploader=\"uploader\" over-class=\"file-over-class\" accept=\".json\" class=\"well my-drop-zone file-upload\" name=\"fileUploadDrop\"> {{'general.dragFileHere' | translate}} </div> </div> </div> <p class=\"text-center\">{{'general.OR' | translate}}</p> <!-- Example: nv-file-select=\"\" uploader=\"{Object}\" options=\"{Object}\" filters=\"{String}\" --> {{'general.browseFabric' | translate}} <input tabindex=\"0\" type=\"file\" name=\"importFile\" class=\"form-control\" nv-file-select=\"\" uploader=\"uploader\" accept=\".json\" name=\"fileUploadBrowse\"> </div> <div class=\"col-sm-5 col-sm-push-1\"> <div class=\"well file-upload-desc\"> <strong>{{'general.note' | translate}}:</strong> {{'general.uploadPSNote' | translate}}. </div> </div> </div> <div class=\"row\"> <div class=\"col-sm-5 col-sm-push-1\" ng-repeat=\"item in uploader.queue\"> <div class=\"row\"> <div class=\"col-sm-12\">{{'general.name' | translate}} : <strong>{{ item.file.name }}</strong> </div> <div class=\"col-sm-12\">{{'general.size' | translate}} : <strong>{{ item.file.size/1024 | number:2 }} KB</strong> </div> </div> <div class=\"v-space20\"> <dlcui-button tabindex=\"0\" type=\"primary\" ng-click=\"uploadFile(item)\" ng-keypress=\"uploadFile(item)\" ng-disabled=\"item.isReady || item.isUploading || item.isSuccess\" name=\"uploadFile\"> <span class=\"glyphicon glyphicon-upload\"></span> {{'general.upload' | translate}} </dlcui-button> <dlcui-button tabindex=\"0\" type=\"danger\" ng-click=\"removeFile(item)\" ng-keypress=\"removeFile(item)\" name=\"removeUpload\"> <span class=\"glyphicon glyphicon-trash\"></span> {{'general.remove' | translate}} </dlcui-button> </div> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/layout/disclosures/feedback.html',
    "<section id=\"feedback\" class=\"cux-dialog cluster-modal\" role=\"dialog\" aria-modal=\"true\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">{{title}}</h1> </div> </div> </header> <div class=\"cux-dialog__content\"> <form name=\"form.feedbackinput\" class=\"form-horizontal form-spacing feedback-form\" validate> <div class=\"row\"> <div class=\"col-sm-3\"> <label for=\"fdc_feedback_type\">{{'general.feedbackTypeTitle' | translate}}<span class=\"text-danger\">*</span></label> </div> <div class=\"col-sm-6 mar-right-fix\"> <select tabindex=\"1\" class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"feedbackinput.type\" id=\"fdc_feedback_type\" name=\"fdc_feedback_type\" ng-options=\"item.name for item in feedbackinput.types track by item.value\"> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label for=\"fdc_feedback_title\">{{'general.feedbackTitle' | translate}} <span class=\"text-danger\">*</span></label> </div> <div class=\"col-sm-6\" ng-class=\"{'has-error' : form.feedbackinput.fdc_feedback_title.$dirty && form.feedbackinput.fdc_feedback_title.$invalid}\"> <input tabindex=\"1\" type=\"text\" class=\"form-control\" ng-model=\"feedbackinput.title\" name=\"fdc_feedback_title\" id=\"fdc_feedback_title\" required validation-directive uib-tooltip=\"\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label for=\"fdc_feedback_message\">{{'general.feedbackMessage' | translate}} <span class=\"text-danger\">*</span></label> </div> <div class=\"col-sm-6\" ng-class=\"{'has-error' : form.feedbackinput.fdc_feedback_message.$dirty && form.feedbackinput.fdc_feedback_message.$invalid}\"> <textarea tabindex=\"1\" maxlength=\"600\" cols=\"35\" rows=\"10\" charswidth=\"35\" class=\"form-control\" ng-model=\"feedbackinput.message\" name=\"fdc_feedback_message\" id=\"fdc_feedback_message\" required validation-directive uib-tooltip=\"\"></textarea> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"> <label for=\"fdc_feedback_attachment\">{{'general.attachment' | translate}} </label> </div> <div class=\"col-sm-6\" ng-class=\"{'has-error' : form.feedbackinput.fdc_feedback_attachment.$dirty && form.feedbackinput.fdc_feedback_attachment.$invalid}\"> <input tabindex=\"1\" type=\"file\" nv-file-select=\"\" file-model=\"file\" class=\"form-control\" uploader=\"uploader\" name=\"fdc_feedback_attachment\" id=\"fdc_feedback_attachment\" ng-model=\"feedbackinput.attachment\" accept=\".json,.txt,.png,.jpg,.jpeg\"> <label>Note: Supported file formats are .json,.txt,.png,.jpg and .jpeg</label> </div> </div> <div class=\"row\"> <div class=\"col-sm-3\"></div> <div class=\"col-sm-6\" ng-repeat=\"item in uploader.queue\"> <div class=\"row\"> <div class=\"col-sm-12\">{{'general.name' | translate}} : <strong>{{ item.file.name }}</strong> </div> <div class=\"col-sm-12\">{{'general.size' | translate}} : <strong>{{ item.file.size/1024 | number:2 }} KB</strong> </div> </div> </div> </div> </form> </div> <div class=\"row col-sm-3\" style=\"font-size: 14px\"> <span class=\"notes text-danger\" aria-label=\"Required fields.\">* Required fields.</span> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\" ng-repeat=\"item in uploader.queue\"> <dlcui-button tabindex=\"1\" type=\"primary\" ng-click=\"uploadFile(item)\" ng-keypress=\"uploadFile(item)\" name=\"fdc_feedback_input_ok\" ng-disabled=\"form.feedbackinput.$invalid\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button tabindex=\"1\" type=\"danger\" ng-click=\"cancelFeedbackForm()\" ng-keypress=\"cancelFeedbackForm()\" name=\"fdc_feedback_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> <menu class=\"cux-button-set\" ng-if=\"!uploader.queue.length\"> <dlcui-button tabindex=\"1\" type=\"primary\" ng-click=\"sendFeedbackForm(item)\" ng-keypress=\"sendFeedbackForm(item)\" name=\"fdc_feedback_input_ok\" ng-disabled=\"form.feedbackinput.$invalid\">{{'general.OK' | translate}}</dlcui-button> <dlcui-button tabindex=\"1\" type=\"danger\" ng-click=\"cancelFeedbackForm()\" ng-keypress=\"cancelFeedbackForm()\" name=\"fdc_feedback_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/layout/disclosures/privacy.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">{{title}}</h1> </div> </div> </header> <div class=\"cux-dialog__content\"> {{text}} </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"danger\" ng-click=\"modal.dismiss()\" name=\"fdc_cluster_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/layout/disclosures/terms.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 class=\"cux-dialog__header-title\">{{title}}</h1> </div> </div> </header> <div class=\"cux-dialog__content\"> {{text}} </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"danger\" ng-click=\"modal.dismiss()\" name=\"fdc_cluster_input_cancel\">{{'general.cancel' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/layout/disclosures/termsInDetail.html',
    "<div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-sm-push-5 col-sm-4\"> <h2>{{'general.termsOfUse' | translate}}</h2> </div> <div class=\"col-sm-push-5 col-sm-1 v-space20\"> <button tabindex=\"1\" type=\"button\" class=\"btn btn-link\" ng-click=\"printTerms('termsAndAgreement')\" name=\"fdc_tnc_input_print\"> <span class=\"glyphicon glyphicon-print\"></span> <strong>{{'general.print' | translate}}</strong> </button> </div> </div> <div class=\"row\"> <div class=\"col-sm-push-2 col-sm-8 terms-agreement\" id=\"termsAndAgreement\"><strong>PLEASE READ THESE TERMS OF USE CAREFULLY BEFORE USING THE FABRIC DESIGN CENTER APPLICATION, ANY INFORMATION, DATA OR METRICS PROVIDED BY THE FABRIC DESIGN CENTER APPLICATION MADE AVAILABLE BY DELL ON ANY DELL WEBSITE (“FABRIC DESIGN CENTER APPLICATION”). BY ACCESSING OR USING THE FABRIC DESIGN CENTER APPLICATION, YOU ARE REPRESENTING TO DELL THAT YOU HAVE READ AND ACCEPT THESE TERMS OF USE. IF YOU DO NOT ACCEPT THESE TERMS OF USE, DO NOT USE THE FABRIC DESIGN CENTER APPLICATION. THESE TERMS WILL APPLY TO ALL FUTURE ACCESS AND USE OF THE FABRIC DESIGN CENTER APPLICATION BY YOU UNLESS AND UNTIL DIFFERENT TERMS OF USE ARE OFFERED BY DELL AND ACCEPTED BY YOU FOR SUCH ACCESS AND USE</strong> <br> As used in this Agreement, <strong>“You”</strong> or <strong>“Your”</strong> means the individual person who accepts this Agreement or the entity that the individual represents. The term <strong>“DELL”</strong> means (i) Dell Marketing L.P., with offices located at 1 Dell Way, Round Rock, Texas 78682, if You are established in the United States; or (ii) Dell Products, with a registered address of 70 Sir John Rogerson’s Quay, Dublin Ireland if You are established outside the United States. <br> By accessing or using the Fabric Design Center Application, You understand, acknowledge, and agree to use any information, data, or metrics made available by the Fabric Design Center Application solely in conjunction with DELL products in the DELL customer’s environment for DELL customer’s internal business operations only. <br> Without DELL’s prior written consent, You must not, and must not allow any third party to: (i) use the Fabric Design Center Application in an application services provider, service bureau, or similar capacity for third parties; or (ii) disclose to any third party any performance, capacity, metrics, system data or any other data made available by the Fabric Design Center Application, or the results of any benchmarking testing or comparative or competitive analyses of DELL’s Products done by You, on behalf of You by using the Fabric Design Center Application. <br> The Fabric Design Center Application is protected by copyright. Except as specifically permitted herein, the Fabric Design Center Application and any portion thereof, including its graphical user interfaces, may not be reproduced in any form or by any means without the express written consent of DELL. No information included within, displayed by, or produced by use of the Fabric Design Center Application, or on the DELL website from which it is accessed or used, shall be construed as conferring any license under any of DELL's or any third party's intellectual property rights, whether by estoppel, implication, or otherwise. DELL retains all rights, including any intellectual property rights, in the Fabric Design Center Application made available on any DELL website. <br> DELL shall not be responsible for any errors or omissions of information contained within, or displayed by operation of, the Fabric Design Center Application, or contained within the DELL website from which the Fabric Design Center Application was accessed or used, and reserves the right to make changes to the Fabric Design Center Application or such website anytime without notice. The Fabric Design Center Application, and any information it includes, displays or produces by operation thereof, and any information provided on the DELL website from which it is accessed or used, is provided on an “As Is” basis. <br> You are responsible for keeping passwords used for accessing the Fabric Design Center Application secure. You are solely responsible for any activity that occurs under Your user names and accounts. DELL is not responsible for any misuse of passwords. You must notify DELL immediately of any unauthorized use of accounts or any other security breach related to the Fabric Design Center Application. If DELL determines that a security breach has occurred or is likely to occur then DELL may suspend Your usage of the Fabric Design Center Application and require You to change user names and passwords. In no event shall DELL be responsible for any unauthorized use of accounts or any other security breach related to the Fabric Design Center Application. DELL shall handle information submitted by You in accordance with the Dell Privacy Policy found here:<b><u><a tabindex=\"1\" style=\"font-size: 18px\" target=\"blank\" href=\"//www.dell.com/learn/us/en/uscorp1/policies-privacy-country-specific-privacy-policy\" name=\"fdc_application_privacystatement\">{{'general.privacyStatement' | translate}}</a></u></b> <br> THE FABRIC DESIGN CENTER APPLICATION IS PROVIDED “AS IS”. DELL DISCLAIMS ALL WARRANTIES, EXPRESSED OR IMPLIED, WITH REGARD TO THE FABRIC DESIGN CENTER APPLICATION, ANY INFORMATION IT INCLUDES, DISPLAY OR PRODUCE, AND ANY INFORMATION PROVIDED ON THE DELL WEBSITE FROM WHICH THE FABRIC DESIGN CENTER APPLICATION IS ACCESSED OR USED, INCLUDING THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. Some jurisdictions do not allow the exclusion of implied warranties, so the above exclusion may not apply to You. <br> IN NO EVENT SHALL DELL BE LIABLE FOR ANY DAMAGES WHATSOEVER, INCLUDING DIRECT, SPECIAL, INDIRECT, CONSEQUENTIAL, OR INCIDENTAL DAMAGES, OR DAMAGES FOR LOST PROFITS, LOSS OF REVENUE OR LOSS OF USE, COST OF REPLACEMENT GOODS, LOSS OR DAMAGE TO DATA ARISING OUT OF THE USE OR INABILITY TO USE THE FABRIC DESIGN CENTER APPLICATION OR THE DELL WEBSITE FROM WHICH IT IS ACCESSED OR USED. THIS INCLUDES DAMAGES ARISING FROM ANY SECURITY BREACH OR SECURITY ISSUE OR VULNERABILITY OF THE FABRIC DESIGN CENTER APPLICATION. THIS ALSO INCLUDES DAMAGES ARISING FROM USE OF, OR IN RELIANCE ON, INFORMATION INCLUDED WITHIN, DISPLAYED BY OR PRODUCED BY OPERATION OF THE FABRIC DESIGN CENTER APPLICATION, OR INFORMATION INCLUDED WITHIN DOCUMENTS OR INFORMATION PRESENT ON SUCH DELL WEBSITE (INCLUDING ANY INFORMATION POSTED OR PLACED BY ANYONE OTHER THAN DELL), EVEN IF DELL HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. <br> DELL may, in its sole discretion, at any time terminate or suspend Your access to all or any part of the Fabric Design Center Application or the DELL website from which it is accessed or used for any reason and without notice. You may discontinue Your access and use of the Fabric Design Center Application at any time. If You breach any of these Terms of Use or the Terms of Use of the DELL website from which You access or use the Fabric Design Center Application, Your authorization to use the Fabric Design Center Application automatically terminates. <br> You agree to defend, indemnify and hold harmless DELL, its officers, directors, employees and agents from and against any and all claims, liabilities, damages, losses or expenses, including reasonable attorneys' fees and costs, arising out of or in any way connected with Your and/or Your agent’s access to or use of the Fabric Design Center Application or the DELL website from which You or Your agent use or access the Fabric Design Center Application. <br> If You are established in the United States, all matters relating to Your access to and use of the Fabric Design Center Application and the DELL website from which the Fabric Design Center Application is accessed or used shall be governed by US federal laws or by the laws of the State of Texas (excluding its conflict of law rules), and You agree that any legal action or proceeding shall be instituted in a state or federal court in Williamson, Texas. If You are established outside of the United States, all matters relating to Your access to, and use of, the Fabric Design Center Application and the DELL website from which the Fabric Design Center Application is accessed or used, shall be governed by Irish law, and You agree that any legal action or proceeding is subject to the jurisdiction of and shall be instituted in the Irish courts. <br> </div> </div> <div class=\"row v-space20\"> <div class=\"col-sm-push-2 col-sm-7\"> <input tabindex=\"1\" type=\"checkbox\" name=\"terms-check\" id=\"termsLabel\" ng-model=\"termsAgree\"> <label for=\"termsLabel\"> I agree to the {{'general.termsOfUse' | translate}}</label> </div> <div class=\"col-sm-3 pull-right\"> <dlcui-button type=\"primary\" tabindex=\"0\" ng-click=\"ok()\" ng-keypress=\"preventEnter($event)\" name=\"fdc_tnc_input_ok\" ng-disabled=\"!termsAgree\">{{'general.OK' | translate}}</dlcui-button> </div> </div> </div>"
  );


  $templateCache.put('fabric/layout/feedback/feedback.html',
    "<section class=\"cux-dialog customer-modal\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"visitModalHeading\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-6\"> <h1 id=\"visitModalHeading\" class=\"cux-dialog__header-title text-primary\">Tell us about your visit</h1> </div> </div> </header> <div class=\"cux-dialog__content\"> <form name=\"form.feedback\" class=\"form-horizontal form-spacing feedback-survey\" novalidate> <fieldset ng-show=\"feedback.tellUs\" aria-labelledby=\"visitReasonHeading\"> <h2 id=\"visitReasonHeading\" class=\"sr-only\">Reason for your visit</h2> <input tabindex=\"1\" type=\"radio\" id=\"designFabric\" ng-model=\"feedback.tellUs\" value=\"designFabric\" name=\"designFabric\" ng-model=\"feedback.tellUs\"> <label for=\"designFabric\"> Designing network fabric for a customer opportunity </label> <input tabindex=\"1\" type=\"radio\" id=\"tryingFDC\" ng-model=\"feedback.tellUs\" value=\"tryingFDC\" name=\"tryingFDC\" ng-model=\"feedback.tellUs\"> <label for=\"tryingFDC\"> Trying Fabric Design Center </label> </fieldset> <br> <div ng-show=\"feedback.tellUs == 'designFabric'\" class=\"feedback-quiz\"> <div class=\"row\" ng-repeat=\"quiz in questions\"> <div class=\"col-sm-4 col-sm-push-1\"> <label>{{quiz.display}} <span ng-if=\"quiz.required\" class=\"text-danger\">*</span></label> </div> <div ng-if=\"quiz.options\" class=\"col-sm-4 col-sm-push-1\" ng-class=\"{'has-error' : form.feedback.fdc_feedback_{{quiz.key}}.$dirty && form.feedback.fdc_feedback_{{quiz.key}}.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"feedback[quiz.key]\" ng-options=\"item for item in quiz.options\" name=\"fdc_feedback_{{quiz.key}}\" ng-required=\"{{quiz.required}}\" validation-directive uib-tooltip=\"\"> </select> </div> <div ng-if=\"!quiz.options\" class=\"col-sm-4 col-sm-push-1\" ng-class=\"{'has-error' : form.feedback.fdc_feedback_{{quiz.key}}.$dirty && form.feedback.fdc_feedback_{{quiz.key}}.$invalid}\"> <input tabindex=\"1\" type=\"text\" class=\"form-control\" ng-model=\"feedback[quiz.key]\" name=\"fdc_feedback_{{quiz.key}}\" ng-required=\"{{quiz.required}}\" validation-directive uib-tooltip=\"\"> </div> </div> </div> </form> </div> <footer class=\"cux-dialog__footer\"> <menu class=\"cux-button-set\"> <dlcui-button type=\"primary\" tabindex=\"1\" ng-keypress=\"saveFeedback()\" name=\"feedback_comment_ok\" ng-click=\"saveFeedback()\" ng-disabled=\"feedback.tellUs == 'designFabric' && form.feedback.$invalid\">{{'general.OK' | translate}}</dlcui-button> </menu> </footer> </section>"
  );


  $templateCache.put('fabric/layout/footer/footer.html',
    "<footer class=\"footer\" style=\"height:30px\"> <div class=\"container-fluid\"> <ul class=\"list-inline pull-left\"> <li style=\"color:#444;font-weight: 600;font-size: 12px\">&copy;{{'general.copyright' | translate}}</li> <li><a tabindex=\"0\" target=\"blank\" href=\"//www.dell.com/learn/us/en/uscorp1/policies-privacy-country-specific-privacy-policy\" name=\"fdc_application_privacystatement\" class=\"feedback\" style=\"text-decoration: underline; color: black\"><b>{{'general.privacyStatement' | translate}}</b></a></li> </ul> <div class=\"feedback pull-right\" ng-hide=\"hidefooter\"> <ul class=\"list-inline\"> <li> <a ng-hide=\"hidefooter\" role=\"button\" tabindex=\"0\" href=\"\" ng-click=\"feedback()\" class=\"pull-right feedback\" name=\"fdc_application_feedback\"> {{'general.feedback' | translate}} </a> </li> <li> <a ng-hide=\"hidefooter\" role=\"button\" tabindex=\"0\" href=\"\" ng-click=\"reports()\" class=\"pull-right feedback\" name=\"fdc_application_reports\"> User Report <dlcui-font-icon style=\"color:black\" title=\"User Reports Download\" icon=\"download-alt\" class=\"report\" style=\"color:white\"></dlcui-font-icon>&nbsp; </a> <!--dlcui-fancy-button tabindex=\"3\" style=\"background-color: transparent;padding-top:12px;\" name=\"download_wiring\" ng-click=\"reports();\">\r" +
    "\n" +
    "            <dlcui-font-icon style=\"color:black\" title=\"User Reports Download\" icon=\"download-alt\" class=\"report\" style=\"color:white\"></dlcui-font-icon>&nbsp;\r" +
    "\n" +
    "          </dlcui-fancy-button--> </li> </ul> </div> <!--div class=\"pull-right\" ng-hide=\"hidefooter\">      \r" +
    "\n" +
    "      <a ng-hide=\"hidefooter\" role=\"button\" tabindex=\"3\" href=\"\" ng-click=\"feedback()\" class=\"pull-right feedback\" name=\"fdc_application_feedback\"> {{'general.feedback' | translate}} </a>\r" +
    "\n" +
    "    </div--> </div> </footer>"
  );


  $templateCache.put('fabric/layout/header/header.html',
    "<div> <header class=\"navbar navbar-inverse firstHeaderBg\"> <div class=\"container-fluid\" style=\"height:auto\"> <div class=\"navbar-header cutome-size\" style=\"width:100%\"> <div class=\"navbar-brand header-logo\" name=\"fdc_application_title\"> <img alt=\"Dell Technologies Logo\" src=\"styles/images/logos/DellTech_Logo_Prm_Wht_rgb.png\"> </div> <span class=\"logo-text\">{{ 'general.appName' | translate}}</span> <ul class=\"nav navbar-nav navbar-right\"> <!-- Single button with keyboard nav --> <!--<span uib-dropdown>\r" +
    "\n" +
    "        <a href id=\"simple-dropdown\" uib-dropdown-toggle>\r" +
    "\n" +
    "          Click me for a dropdown, yo!\r" +
    "\n" +
    "        </a>\r" +
    "\n" +
    "        <ul class=\"dropdown-menu\" uib-dropdown-menu aria-labelledby=\"simple-dropdown\">\r" +
    "\n" +
    "          <li>\r" +
    "\n" +
    "            <a href>User Guide</a>\r" +
    "\n" +
    "          </li>\r" +
    "\n" +
    "          <li>\r" +
    "\n" +
    "            <a href>Wts New</a>\r" +
    "\n" +
    "          </li>\r" +
    "\n" +
    "        </ul>\r" +
    "\n" +
    "      </span>--> <li ng-repeat=\"item in headerOptions\"> <!-- <div class=\"btn-group\" uib-dropdown keyboard-nav>\r" +
    "\n" +
    "            <button id=\"simple-btn-keyboard-nav\" type=\"button\" class=\"btn btn-primary\" uib-dropdown-toggle>\r" +
    "\n" +
    "                Help <span class=\"caret\"></span>\r" +
    "\n" +
    "            </button>\r" +
    "\n" +
    "            <ul class=\"dropdown-menu\" uib-dropdown-menu role=\"menu\" aria-labelledby=\"simple-btn-keyboard-nav\">\r" +
    "\n" +
    "                <li role=\"menuitem\"><a href=\"#\">Action</a></li>\r" +
    "\n" +
    "                <li role=\"menuitem\"><a href=\"#\">Another action</a></li>\r" +
    "\n" +
    "                <li role=\"menuitem\"><a href=\"#\">Something else here</a></li>\r" +
    "\n" +
    "                <li class=\"divider\"></li>\r" +
    "\n" +
    "                <li role=\"menuitem\"><a href=\"#\">Separated link</a></li>\r" +
    "\n" +
    "            </ul>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "      --> <help-directive aria-label=\"Help Document\" tabindex=\"1\" ng-if=\"item.id == 'help'\" ng-hide=\"hideheader\" help-index=\"fdc_home\" label=\"{{item.label}}\"></help-directive> <help-directive aria-label=\"Help Document\" tabindex=\"2\" ng-if=\"item.id == 'whatsNew'\" ng-hide=\"hideheader\" help-index=\"fdc_whatsNew\" label=\"{{item.label}}\"></help-directive> <a tabindex=\"1\" ng-if=\"item.id == 'logout'\" href=\"\" ng-click=\"logout()\" name=\"{{item.name}}\"> <span class=\"glyphicon glyphicon-log-out\"> </span> {{item.label}} </a> </li> </ul> </div></div> </header> <ul class=\"nav navbar-nav nav-custom\" ng-hide=\"hideheader\" role=\"tablist\"> <li ng-repeat=\"item in menu\" ui-sref=\"{{item.id}}\" ng-hide=\"item.hide && $root.menuOptions.notInHome\" ng-show=\"item.show && $root.menuOptions.notInHome\" custom-directive menu=\"menu\" index=\"$index\"> <a tabindex=\"2\" role=\"tab\" ng-if=\"!item.show\" href=\"\" name=\"{{item.name}}\" aria-selected=\"{{item.active == true}}\" ng-class=\"{'active': item.active == true && item.hide}\"> <span ng-if=\"item.icon\" class=\"glyphicon glyphicon-{{item.icon}}\"></span> {{item.label}} </a> <span class=\"beta\" ng-if=\"item.beta\">Beta</span> <a tabindex=\"2\" ng-if=\"item.show && $root.menuOptions.notInHome\" class=\"active\"> {{$root.menuOptions.pageLabel}}</a> </li> </ul> </div>"
  );


  $templateCache.put('fabric/verticalSolutions/input/verticalSolutions.html',
    "<!DOCTYPE html> <div class=\"container-fluid\"> <div class=\"row\"> <div class=\"col-sm-11\"> <div class=\"section-title\" name=\"fdc_turnkey_network_fabric_page_title\"><h3 style=\"font-weight: 700;font-size: 17px\">{{'general.verticalSolutionsDesign' | translate}}</h3></div> </div> <div class=\"col-sm-1\"> <help-directive aria-label=\"Help Document\" tabindex=\"1\" help-index=\"workload_solutions\"></help-directive> </div> </div> <div class=\"panel panel-default solution-sec\" ng-repeat=\"fabric in items\"> <div class=\"panel-body\"> <div class=\"row fabric-row\"> <div class=\"col-sm-12 fabric-name\">{{fabric.name}}</div> <div ng-if=\"!list.hide\" class=\"col-sm-3 fabric-content\" ng-repeat=\"(key, list) in fabric.data\" ng-attr-title=\"{{list.disabled ? 'Under Development – Solution will be enabled shortly.':list.label}}\" ng-class=\"{'fabric-content-disabled': list.disabled}\" ng-click=\"list.disabled ? '' : goTo(list)\" name=\"networkFabric{{$index}}\" custom-directive menu=\"fabric.data\" index=\"$index\"> <a tabindex=\"2\" name=\"{{list.name}}\" href><img ng-src=\"{{list.img}}\" alt=\"\" pic-load=\"onImgLoad($event)\" class=\"img-responsive col-sm-10 solution-img\"> <span class=\"content-item col-sm-10\">{{list.label}}</span></a> </div> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/verticalSolutions/input/verticalSolutionscluster/VSclusterTmpl.html',
    "<div> <div class=\"row\"> <div class=\"col-sm-2\"> <label>{{'fabricOutput.clusterName' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_name.$invalid}\"> <input tabindex=\"1\" type=\"text\" class=\"form-control\" name=\"fdc_cluster_name\" ng-model=\"clusterinput.name\" required validation-directive uib-tooltip=\"\" ng-minlength=\"3\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+[_-]?[A-Za-z0-9]+$/\" pattern-msg=\"Cluster Name must start and end with alphanumeric character ranging from 3-16 characters and contains atmost one special character\"> </div> <div class=\"col-sm-2\"> <label>{{'fabricOutput.applianceModel' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_applianceInfo.$dirty && clusterForm.fdc_cluster_applianceInfo.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.applianceInfo\" ng-options=\"item.displayName for item in inputModel.applianceTypes | orderBy:'displayName'\" name=\"fdc_cluster_applianceInfo\" ng-disabled=\"where=='SERVEREDIT'?true:false\" required validation-directive uib-tooltip=\"\"> </select> </div> </div> <div class=\"row\"> <div class=\"col-sm-2\"> <label>{{'fabricOutput.numberOfNodes' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_currentNodes.$invalid}\"> <input tabindex=\"1\" type=\"number\" class=\"form-control\" ng-model=\"clusterinput.currentNodes\" name=\"fdc_cluster_currentNodes\" required min=\"{{inputModel.minCurrentNodes}}\" max=\"{{inputModel.futureNodes+inputModel.currentNodes-clusterinput.futureNodes}}\" ng-pattern=\"/^-?[0-9][^\\.]*$/\" ng-disabled=\"where=='SERVEREDIT'?true:false\" integer validation-directive uib-tooltip=\"\"> </div> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label ng-switch-default>{{'fabricOutput.standbynodes' | translate}}</label> </div> <div class=\"col-sm-4\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_futureNodes.$invalid}\"> <input tabindex=\"1\" type=\"number\" class=\"form-control\" ng-model=\"clusterinput.futureNodes\" name=\"fdc_cluster_futureNodes\" required min=\"0\" max=\"{{inputModel.futureNodes+inputModel.currentNodes-clusterinput.currentNodes}}\" ng-pattern=\"/^-?[0-9][^\\.]*$/\" ng-disabled=\"where=='SERVEREDIT'?true:clusterinput.solution_type=='Switchless'?true:clusterinput.solution_type=='Quick Start'?true:false\" integer validation-directive uib-tooltip=\"\"> </div> </div> <div class=\"row\"> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label ng-switch-default>{{'fabricOutput.nodeConnectivity' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_ndcCard.$dirty && clusterForm.fdc_cluster_ndcCard_requiredCount.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.ndcCard.requiredCount\" name=\"fdc_cluster_ndcCard_requiredCount\" ng-options=\"item for item in clusterinput.ndcCardCountOptions\" ng-disabled=\"(inputModel.type == 'ASHCI' && clusterinput.applianceInfo.name=='AX-640(x12 drive)')?true: inputModel.type == 'ASHCI' && clusterinput.solution_type!='Switchless'?false:true\" title=\"{{ clusterinput.ndcCard.requiredCount }}\" required validation-directive uib-tooltip=\"\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_ndcCard.$dirty && clusterForm.fdc_cluster_ndcCard.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.ndcCard\" name=\"fdc_cluster_ndcCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.ndcCard\" required ng-disabled=\"where=='SERVEREDIT'?true:clusterinput.ndcCard.requiredCount==0?true:false\" validation-directive uib-tooltip=\"\" title=\"{{ clusterinput.ndcCard.name }}\"> </select> </div> <div> <div class=\"col-sm-2\" ng-switch=\"inputModel.type\"> <label ng-switch-default>{{'fabricOutput.noOfOptionalNIC' | translate}}</label> </div> <div class=\"col-sm-1 mar-right-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_optionalCard_requiredCount.$dirty && clusterForm.fdc_cluster_optionalCard_requiredCount.$invalid}\"> <select tabindex=\"1\" class=\"form-control\" style=\"padding: 6px 3px\" ng-model=\"clusterinput.optionalCard.requiredCount\" name=\"fdc_cluster_optionalCard_requiredCount\" ng-options=\"item for item in clusterinput.optionalCardCountOptions\" ng-disabled=\"(where=='SERVEREDIT' || !clusterinput.optionalCard || clusterinput.PCIcountDisable) ? true : (inputModel.type=='HCI_POWERFLEX_Appliance' && clusterinput.deploymentModel == undefined)?true:false\" title=\"{{ clusterinput.optionalCard.requiredCount }}\" uib-tooltip=\"{{'fabricInput.PCIwarning' | translate}}\" tooltip-trigger=\"'focus'\" tooltip-placement=\"bottom-left\" tooltip-is-open=\"(inputModel.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL') && clusterinput.PCIcountWarning) ||(inputModel.type=='ASHCI')\" tooltip-enable=\"(inputModel.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL') && clusterinput.PCIcountWarning)||(inputModel.type=='ASHCI')\"> </select> </div> <div class=\"pull-left multiple\"> <label>x</label> </div> <div class=\"col-sm-3 mar-left-fix\" ng-class=\"{'has-error' : clusterForm.fdc_cluster_optionalCard.$dirty && clusterForm.fdc_cluster_optionalCard.$invalid}\" uib-tooltip=\"Switchless implements back-to-back NIC connections\" tooltip-trigger=\"'hover focus'\" tooltip-placement=\"bottom-right\" tooltip-is-open=\"clusterinput.solution_type=='Switchless' \" tooltip-enable=\"clusterinput.solution_type=='Switchless'\"> <select tabindex=\"1\" class=\"form-control\" ng-model=\"clusterinput.optionalCard\" name=\"fdc_cluster_optionalCard\" ng-options=\"item.name for item in clusterinput.applianceInfo.optionalCard\" title=\"{{ clusterinput.optionalCard.name }}\" ng-disabled=\"where=='SERVEREDIT' ? true :false\" validation-directive uib-tooltip=\"\"> </select> </div> </div> </div> </div>"
  );


  $templateCache.put('fabric/verticalSolutions/input/verticalSolutionsclusterDetails.html',
    "<section class=\"cux-dialog cluster-modal\"> <header class=\"cux-dialog__header\"> <div class=\"row\"> <div class=\"col-sm-10\"> <h3 class=\"cux-dialog__header-title\">{{title}}</h3> </div> <div class=\"col-sm-2\"> <help-directive aria-label=\"Help Document\" help-index=\"cluster\" solution=\"{{help.solution}}\"></help-directive> </div> </div> </header> <div class=\"cux-dialog__content\" scroll-to-bottom=\"clustervlan.vmNetworks\"> <!-- Cluster form to handle validation for the inner components--> <form name=\"clusterForm\" class=\"form-horizontal form-spacing cluster-form\" novalidate> <!-- Cluster directive to get appliance details--> <vscluster model=\"clusterinput\" input-model=\"modalDefaults\" where=\"{{mode}}\"></vscluster> <!-- Bond Directive to show Ports and its association in the cluster--> <bonding model=\"clusterinput\" where=\"{{mode}}\"></bonding> <!-- Vlan directive to associate ports and Bonds in a cluster--> <vlan-builder vlan-list=\"clustervlan\" bond-list=\"clusterinput.bonds\" cluster-type=\"{{clusterinput.clusterType}}\"></vlan-builder> </form> </div> <footer class=\"cux-dialog__footer\"> <cluster-actions where=\"{{mode}}\" modal=\"modal\"></cluster-actions> </footer> </section>"
  );


  $templateCache.put('fabric/verticalSolutions/input/verticalSolutionsfabricInput.html',
    "<div class=\"container-fluid fabric-input-sec\"> <div class=\"row\"> <div class=\"col-sm-11\"> </div> <div class=\"col-sm-1\"> <help-directive aria-label=\"Help Document\" tabindex=\"11\" help-index=\"home\" solution=\"{{help.solution}}\"></help-directive> </div> </div> <div class=\"panel panel-default\"> <div class=\"panel-body\"> <div class=\"row v-space20\"> <div class=\"col-sm-12\"> <div class=\"row\"> <form name=\"fdc_fabric_form\" novalidate> <div class=\"col-sm-4\"> <label class=\"content-title\">{{'fabricInput.SolutionName' | translate}}</label> </div> <div class=\"col-sm-3\" ng-class=\"{'has-error' : fdc_fabric_form.fdc_solution_name.$invalid}\"> <input tabindex=\"15\" type=\"text\" class=\"form-control\" name=\"fdc_solution_name\" ng-model=\"fabricInputs.name\" required ng-minlength=\"2\" ng-maxlength=\"16\" ng-pattern=\"/^[A-Za-z0-9]+[-]?[A-Za-z0-9]+$/\" pattern-msg=\"Fabric Name must start and end with alphanumeric character ranging from 2-16 characters and contains atmost one special character\" validation-directive uib-tooltip=\"\"> </div> </form> <div class=\"col-sm-5\"> <span uib-dropdown class=\"pull-right\" ng-if=\"help.ref[help.solution].length\"> <button tabindex=\"15\" type=\"button\" class=\"btn btn-link\" id=\"simple-dropdown\" uib-dropdown-toggle> <span class=\"glyphicon glyphicon-book\"></span> <strong>Reference Documents</strong> </button> <ul class=\"dropdown-menu referenc-architecture\" uib-dropdown-menu aria-labelledby=\"simple-dropdown\"> <li tabindex=\"16\" ng-repeat=\"ref in help.ref[help.solution]\"> <help-directive aria-label=\"Help Document\" ref=\"{{ref.link}}\" label=\"{{ref.label}}\"></help-directive> </li> </ul> </span> </div> </div> <div class=\"row\" ng-if=\"fabricInputs.type=='ORACLE_RAC1'\"><!--Needed for Oracle Rac Powerstore--> <div class=\"notes col-sm-12\"> <span style=\"color:red\">Note: Only the Ethernet Configuration is supported in FDC</span> </div> </div> <!--div class=\"row\" ng-if=\"fabricInputs.clusterDefaults.compute\">\r" +
    "\n" +
    "\t\t\t\t\t\t<div class=\"col-sm-4\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t<label class=\"content-title\" ng-if=\"fabricInputs.clusterDefaults.compute.type == 'SAP_HANA'\">VxRail version</label>\r" +
    "\n" +
    "\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t\t<div class=\"col-sm-3\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t<select class=\"form-control\" ng-if=\"fabricInputs.clusterDefaults.compute.type == 'SAP_HANA'\" ng-model=\"fabricInputs.version\"\r" +
    "\n" +
    "\t\t\t\t\t\t\t ng-options=\"item for item in fabricInputs.versionlist.vxrail\" name=\"vxrailVersion\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t</select>\r" +
    "\n" +
    "\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t</div--> </div> </div> <div class=\"\" ng-class=\"{'outerPanel': (clusterTypeLength > 1)}\"> <div class=\"row\" ng-repeat=\"(defaultKey, defaultVal) in fabricInputs.clusterDefaults\"> <div class=\"col-sm-12\"> <div class=\"row v-space20\" ng-show=\"(clusterTypeLength > 1 && $index == 0)\"> <div class=\"col-sm-5\"> <input tabindex=\"18\" type=\"checkbox\" name=\"fdc_allow_single_rack_deployment\" ng-model=\"fabricInputs.enableSingleRackDeployment\" id=\"fdc_allow_single_rack_deployment\"> <label class=\"notes\" for=\"fdc_allow_single_rack_deployment\" id=\"fdc_allow_single_rack_deployment\" title=\"{{'fabricInput.enableSingleRackComputeDeploymentText'| translate}}\">{{'fabricInput.enableSingleRackComputeDeploymentText'| translate}}</label> </div> </div> <div class=\"row v-space20\"> <div class=\"col-sm-5\"> <div class=\"content-title cluster-details-title\"> <span ng-if=\"clusterTypeLength > 1\">{{'general.clusterType.' + defaultKey | translate}} - </span> <span ng-if=\"(fabricInputs.clusterDefaults.compute.type != 'UNITY_STORAGE')\">{{'fabricInput.clusterDetails' | translate}}</span> </div> </div> </div> </div> <div class=\"col-sm-12\" ng-class=\"{clusterPanel:!(clusterTypeLength > 1)}\"> <div class=\"row v-space20\" ng-show=\"clusterTypeLength < 2\"> <div class=\"col-sm-5\"> <input tabindex=\"18\" type=\"checkbox\" name=\"fdc_allow_single_rack_deployment\" ng-model=\"fabricInputs.enableSingleRackDeployment\" id=\"fdc_allow_single_rack_deployment\"> <label class=\"notes\" for=\"fdc_allow_single_rack_deployment\" id=\"fdc_allow_single_rack_deployment\" title=\"{{'fabricInput.enableSingleRackDeploymentText'| translate}}\">{{'fabricInput.enableSingleRackDeploymentText'| translate}}</label> </div> </div> <div class=\"row v-space20\"> <div class=\"col-sm-8\"> <ul class=\"list-unstyled list-inline cluster-actions\"> <li> <button tabindex=\"18\" type=\"button\" class=\"btn btn-link\" ng-click=\"openClusterModal(defaultVal, defaultKey)\" name=\"fdc_add_cluster{{defaultKey}}\" ng-disabled=\"(defaultKey == 'management' && fabricInputs.clusterInputs[defaultKey].length)||(defaultKey == 'edge' && fabricInputs.clusterInputs[defaultKey].length)\"> <span class=\"glyphicon glyphicon-plus\"></span> {{'general.add' | translate}}</button> </li> <li> <button tabindex=\"18\" type=\"button\" class=\"btn btn-link\" ng-click=\"delete(defaultVal, defaultKey)\" name=\"fdc_delete_cluster{{defaultKey}}\" ng-disabled=\"!fabricInputs.clusterInputs[defaultKey].length\"> <span class=\"glyphicon glyphicon-trash\"></span> {{'general.delete' | translate}}</button> </li> </ul> </div> <div class=\"col-sm-2 col-sm-push-2 text-right\"> <label style=\"margin-top:5px\"> <strong>{{fabricInputs.clusterInputs[defaultKey].length}}</strong> {{'fabricInput.clustersAvailable' | translate}}</label> </div> </div> <div class=\"row\"> <div class=\"col-sm-12 table-responsive\"> <table class=\"table table-striped table-condensed table-hover table-bordered\" id=\"clusterTable\"> <thead> <tr> <th> <input tabindex=\"18\" type=\"checkbox\" ng-model=\"defaultVal.isAllSelected\" ng-click=\"toggleAll(defaultVal, defaultKey)\" name=\"fdc_select_all_cluster{{defaultKey}}\" id=\"fdcSelecteAll{{defaultKey}}\" ng-disabled=\"!fabricInputs.clusterInputs[defaultKey].length\"> <label for=\"fdcSelecteAll{{defaultKey}}\" id=\"fdc_SelecteAll{{defaultKey}}\"></label> </th> <th>{{'general.name' | translate}}</th> <th>{{'general.model' | translate}}</th> <th>{{'fabricInput.noOfNode' | translate}}</th> <th>{{'fabricInput.maxNodes' | translate}}</th> <th ng-if=\"fabricInputs.clusterDefaults.compute.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL')\">{{'fabricInput.clusterType' | translate}}</th> <th>{{'general.actions' | translate}}</th> </tr> </thead> <tbody ng-show=\"fabricInputs.clusterInputs[defaultKey].length > 0\"> <tr ng-repeat=\"row in fabricInputs.clusterInputs[defaultKey]\"> <td name=\"{{defaultKey}}checkbox{{$index}}\"> <input tabindex=\"18\" type=\"checkbox\" ng-model=\"row.isSelected\" ng-change=\"optionToggled(defaultVal, defaultKey)\" name=\"{{defaultKey}}fdc_select_cluster{{$index}}\" id=\"{{defaultKey}}fdcSelect{{$index}}\"> <label for=\"{{defaultKey}}fdcSelect{{$index}}\" id=\"{{defaultKey}}fdc_Select{{$index}}\"></label> </td> <td name=\"{{defaultKey}}clusterInputName{{$index}}\">{{row.name}}</td> <td name=\"{{defaultKey}}clusterModel{{$index}}\">{{row.applianceInfo.displayName}}</td> <td name=\"{{defaultKey}}currentNodes{{$index}}\">{{row.currentNodes}}</td> <td name=\"{{defaultKey}}futureNodes{{$index}}\">{{row.futureNodes}}</td> <td name=\"{{defaultKey}}clusterType{{$index}}\" ng-if=\"fabricInputs.clusterDefaults.compute.type == ('HCI_VSANREADY'||'HCI_NSX_VXRAIL')\">{{row.clusterSubType}}</td> <td name=\"{{defaultKey}}editButton{{$index}}\"> <button tabindex=\"18\" type=\"button\" class=\"btn btn-link\" ng-click=\"edit($index, defaultVal, defaultKey)\" name=\"{{defaultKey}}fdc_edit_cluster{{$index}}\"> <span class=\"glyphicon glyphicon-edit\"></span> {{'general.edit' | translate}}</button> </td> </tr> </tbody> <tbody tbody ng-show=\"fabricInputs.clusterInputs[defaultKey].length == 0\"> <tr> <!--td ng-if=\"fabricInputs.clusterDefaults.compute.type != 'HCI_VSANREADY'\" colspan=\"6\" class=\"text-center\">{{'general.noDataAvailable'\r" +
    "\n" +
    "\t\t\t\t\t\t\t\t\t\t\t\t\t| translate}}!</td--> <td colspan=\"{{fabricInputs.clusterDefaults.compute.type == 'HCI_VSANREADY' ? '7' : '6'}}\" class=\"text-center\">{{'general.noDataAvailable' | translate}}!</td> </tr> </tbody> </table> </div> </div> </div> </div> <!--div class=\"row\">\r" +
    "\n" +
    "\t\t\t\t\t\t<div class=\"col-sm-10 col-sm-push-1\">\r" +
    "\n" +
    "\t\t\t\t\t\t\t<hr />\r" +
    "\n" +
    "\t\t\t\t\t\t</div>\r" +
    "\n" +
    "\t\t\t\t\t</div--> <div class=\"row\"> <div class=\"col-sm-12\"> <dlcui-button tabindex=\"20\" type=\"primary\" name=\"getRecommendation\" ng-keypress=\"getRecommendation()\" ng-click=\"getRecommendation()\" class=\"pull-right\">{{'general.next' | translate}} >></dlcui-button> </div> </div> </div> </div> </div> </div>"
  );

}]);
